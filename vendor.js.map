{"version":3,"sources":["webpack:///vendor.js","webpack:///webpack/bootstrap d810ab167e7b529cf415","webpack:///./src/assets/stars.gif","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///./~/timers-browserify/main.js","webpack:///./src/assets/imgs/databg.png","webpack:///./src/assets/theme.siberia.less?6e47","webpack:///./~/webix/skins/flat.css?b976","webpack:///./~/webix/webix_debug.js","webpack:///./src/assets/theme.siberia.less","webpack:///./~/webix/skins/flat.css","webpack:///./~/webix/fonts/fontawesome-webfont.eot","webpack:///./~/webix/fonts/fontawesome-webfont.eot?45e6","webpack:///./~/webix/fonts/fontawesome-webfont.svg","webpack:///./~/webix/fonts/fontawesome-webfont.ttf","webpack:///./~/process/browser.js","webpack:///./~/webix/fonts/PTS-bold.woff","webpack:///./~/webix/fonts/PTS-webfont.woff","webpack:///./~/webix/fonts/fontawesome-webfont.woff"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","parentJsonpFunction","window","chunkIds","moreModules","executeModules","chunkId","result","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","shift","s","2","e","onScriptComplete","script","onerror","onload","clearTimeout","timeout","chunk","Error","undefined","Promise","resolve","head","document","getElementsByTagName","createElement","type","charset","async","src","p","1","0","setTimeout","appendChild","promise","reject","m","c","value","d","name","getter","defineProperty","configurable","enumerable","get","n","__esModule","o","object","property","oe","err","list","toString","this","item","join","mediaQuery","alreadyImportedModules","id","addStylesToDom","styles","options","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","css","media","sourceMap","part","insertStyleElement","styleElement","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","nextSibling","insertBefore","firstChild","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","createLinkElement","linkElement","rel","obj","update","remove","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","bind","URL","createObjectURL","revokeObjectURL","Blob","btoa","updateLink","href","applyToTag","newObj","index","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","setAttribute","unescape","encodeURIComponent","JSON","stringify","blob","oldSrc","memoize","fn","memo","apply","arguments","isOldIE","test","navigator","userAgent","toLowerCase","DEBUG","newList","mayRemove","textStore","replacement","filter","Boolean","setImmediate","clearImmediate","Timeout","clearFn","_id","_clearFn","nextTick","Function","slice","Array","immediateIds","nextImmediateId","setInterval","clearInterval","close","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","args","content","locals","webix","assert","message","assert_error","assert_config","coll","cells","rows","elements","cols","log","text","expire","debug","assert_core_ready","webix_on_core_ready","assert_level","assert_level_in","assert_level_out","version","codebase","cdn","clone","source","f","_function","extend","base","force","$protoWait","PowerArray","method","defaults","$init","copy","target","isArray","from","isDate","Date","single","instance","t","config","_reinit","protoUI","debug_proto","origins","selfname","data","ui","params","proto","_webix_type_wait","compilation","has_constructor","construct","def","isUndefined","key","$skin","$ready","_parseSettings","functor","require","callback","master","defer","then","disabled","_modules","fullpath","match","substr","link","html","create","exec","ajax","sync","responseText","calls","count","callback2","file","code","execScript","eval","wrap","a","delay","$destructed","ret","once","flag","uid","_seed","valueOf","toNode","node","getElementById","toArray","array","toFunctor","str","scope","replace","_events","event","handler","context","addEventListener","capture","attachEvent","eventRemove","ev","removeEventListener","detachEvent","details","console","log_full_time","_start_time_log","time","log_time","fname","debug_code","EventSystem","_evs_events","_evs_handlers","_evs_map","blockEvent","_block","unblockEvent","mapEvent","map","on_setter","$scope","sub","callEvent","event_stack","return_value","debug_blacklist","_settings","$eventSource","unshift","hasEvent","stack","removeAt","pos","len","find","b","each","env","strict","webix_strict","https","location","protocol","mobile","touch","isOpera","isIE","all","parseFloat","appVersion","split","isIE8","isEdge","isFF","isWebKit","isSafari","isAndroid","isIEMobile","transform","transition","found_index","js_list","css_list","style","cssPrefix","jp","jsPrefix","transitionDuration","translate","transitionEnd","pointerevents","RegExp","svg","implementation","hasFeature","_native_on_selectstart","_style_element","denySelect","onselectstart","stopEvent","allowSelect","k","previousSibling","_style_cache","createCss","rule","sufix","group","default","removeStyle","box","innerHTML","attrs","attr_name","className","getValue","before","rescue","locate","trg","tagName","srcElement","getAttribute","offset","elem","getBoundingClientRect","body","docElem","documentElement","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","top","left","y","Math","round","x","width","offsetWidth","height","offsetHeight","parseInt","offsetTop","offsetLeft","offsetParent","posRelative","offsetX","layerX","layerY","offsetY","touches","pageX","pageY","compatMode","clientX","clientY","preventEvent","preventDefault","returnValue","stopPropagation","cancelBubble","triggerEvent","createEventObject","fireEvent","createEvent","initEvent","dispatchEvent","addCss","check","removeCss","getTextSize","class","max","scrollWidth","scrollHeight","download","filename","objUrl","msSaveBlob","reader","FileReader","onloadend","base64Data","search","readAsDataURL","click","_getClassName","baseVal","setSelectionRange","start","end","focus","textRange","createTextRange","collapse","moveEnd","moveStart","select","getSelectionRange","selectionStart","selectionEnd","selection","createRange","bookmark","getBookmark","moveToBookmark","ready","_ready","_ready_code","debug_ready","temp","doit","webix_ready","concat","readyState","locale","editStop","onmousemoving","self","er","state","val","next","now","cb","v","fire","fail","finish","thennable","ec","cn","cnt","TypeError","done","nodeify","spread","promiz","fcall","nfcall","RemoteContext","url","_proxy","_queue","_url","_key","_process","parse","getApi","ctx","_getProxy","error_key","$key","$vars","_parse","api","prefix","_proxy_call","_call","_deffer","_start_queue","_timer","_run_queue","defs","$sync","$name","$args","pack","_pack","post","res","json","results","error","_sync","$context","xhr","pr","payload","remote","scripts","skin","air","topLayout","barHeight","tabbarHeight","rowHeight","toolbarHeight","listItemHeight","inputHeight","inputPadding","menuHeight","menuMargin","labelTopHeight","layoutMargin","space","wide","clean","line","toolbar","form","layoutPadding","tabMargin","calendarHeight","padding","optionHeight","web","accordion","tabTopOffset","clouds","tabOffset","tabBottomOffset","terrace","metro","buttonHeight","light","glamour","unitHeaderHeight","calendar","headerHeight","timepickerHeight","customCheckbox","customRadio","flat","propertyItemHeight","accordionType","compact","material","contrast","set","$active","view","webix_skin","Destruction","destructors","destructor","_last_editor","editCancel","getChildViews","_destroy_with_me","views","$id","getTopParentView","_destroy_child","_htmlmap","_htmlrows","_html","_contentobj","_viewobj","unbind","$view","_dataobj","UIManager","_view","$proxy","release","_final_destruction","_popups","_cache","_csp_cache","newlines","quotes","slashes","escape","&","<",">","\"","'","`","badChars","escapeChar","chr","template","teststr","temp_res","s1","s2","s3","common","charAt","CodeParser","collapseNames","sort","lastPos","addStr","n0","n1","empty","types","baseType","Settings","define","_parseSeetingColl","_define","setter","initial","settings","_mergeSettings","proxy","extra","init","$parse","load","connector","connectorName","saveAll","updates","dp","ids","action","operation","webix_security","securityKey","loader","xml","_processError","actions","hash","status","sid","newid","tid","processResult","save","u","rest","_save_logic","mode","put","del","headers","Content-Type","faye","clientId","selfid","client","subscribe","ignore","add","getItem","refresh","publish","indexdb","db","_get_db","store","createObjectStore","keyPath","autoIncrement","upgrade","_index","indexedDB","webkitIndexedDB","mozIndexedDB","open","onupgradeneeded","onblocked","onsuccess","transaction","objectStore","openCursor","$callback","req","binary","ext","pop","response","dataurl","getXHR","XMLHttpRequest","origin","toJSON","i18n","parseFormatStr","_send","success","_header","json_mode","found","_response","responseType","setRequestHeader","onreadystatechange","debug_time","aborted","_xhr_aborted","owner","is_error","_data","_timeout","send","_ajax_queue","DataDriver","tagToObject","toObject","rawxml","XPathResult","responseXML","fromString","patch","num","header","values","field","display","submit","AtomDataLoader","waitData","datatype","_load_when_ready","_ready_for_data","url_setter","data_setter","driver","_onLoad","_onLoadError","_syncData","_call_onready","parsed","getDetails","getRecords","setValues","_onLoadContinue","$onLoad","xhttp","_check_data_feed","dataFeed","_ignore_feed","parseDates","isodate","getOptions","collections","getInfo","size","total_count","parent","child","tag","jsarray","idColumn","csv","row","stringToArray","cell","_isValidXML","xpath","records","assignTypes","path","nodeName","ownerDocument","col","evaluate","ANY_TYPE","iterateNext","selectNodes","z","nodeType","hasSubTags","attributes","nodeValue","wholeText","xmlString","DOMParser","parseFromString","ActiveXObject","loadXML","debug_load_event","error_text","logger","alert","BaseBind","format","$$","_initBindSource","getBindData","BindSource","_bind_ready","addBind","_bind_source","debug_bind","target_id","_bind_refresh_handler","touchable","isVisible","removeBind","_on_sync","_bind_updated","old_render","render","_in_bind_processing","getValues","validate","setBindData","setDirty","_bind_hash","_ignore_binds","_bind_specific_rules","saveBatch","_do_not_update_binds","_update_binds","setValue","getCursor","updateItem","_bind_update","CollectionBind","ValueBind","RecordBind","_bind_update_common","silent","clear","DataValue","DataRecord","pod","_cursor","sel","getSelectedId","setCursor","oldid","refreshCursor","getBranch","importData","defaultData","AtomRender","_toHTML","$empty","cfg","debug_render","_backbone_sync","pull","template_setter","SingleRender","templateStart","templateEnd","customize","_hotkeys","_focus_time","_controls","enter","tab","esc","up","down","right","pgdown","pagedown","pgup","pageup","home","insert","delete","backspace","meta","win","mac","multiply","subtract","decimal","divide","scrollock","pausebreak","numlock","5numlocked","capslock","_inputs","input","button","textarea","_enable","_focus_click","_keypress","_focus_tab","getFocus","_focus_action","_focus_was_there","setFocus","only_api","blur","applyChanges","element","_applyChanges","hasFocus","_focus","dont_clear","canFocus","isEnabled","_moveChildFocus","check_view","_is_child_of","_focus_logic","getPrev","_translation_table","getParentView","_keypress_timed","_isNumPad","which","keyCode","ctrl","ctrlKey","shiftKey","alt","altKey","metaKey","codeid","_keycode","_key_press_timeout","keyPressTimeout","String","fromCharCode","is_any","_check_keycode","dir","marker","$fmarker","getTop","getNext","_inner_call","p_cells","addHotKey","keys","_parse_keys","letter","removeHotKey","func","_process_calls","temp_result","controls","toUpperCase","_in_edit_mode","getFormView","_skipSubmit","setPosition","_hide","_custom_tab_handler","editNext","activeElement","IdSpace","_elements","_translate_ids","_get_self","_run_inner_init_logic","_run_after_inner_init_logic","innerId","_prev_global_col","_global_collection","onitemclick","resize","_ui_creation","multiset","container","_correctId","top_node","body_child","$topView","_inner","$apiOnly","_fixHeight","_hidden","_container","_appendDom","_replace","_remove","fullscreen","position","skipResize","adjust","_body_cell","_deleteIds","animate","pobj","aniset","direction","cloneNode","formLine","breakLine","animateView","stateHandler","getHTML","el","currentStyle","getComputedStyle","currentState","newState","tempParent","_detectScrollSize","div","clientWidth","110","120","130","140","150","160","170","180","190","200","210","220","230","floor","skinobj","$customScroll","scrollSize","_uid","_namecount","Touch","limit","edit_open_time","$freeze","logic","include","children","_delays","hasMethod","zIndex","zIndexBase","align","headerlayout","layout","multiview","spacer","UIExtension","webix_view","_parent_cell","gravity","getNode","base_id","prev_id","hidden","_hidden_render","_hidden_hash","_disable_cover","disable","_disabled_view_pos","getPropertyValue","enable","removeAttribute","disabled_setter","container_setter","css_setter","id_setter","oldvalue","$setSize","last","_last_size","debug_size_box","$width","_content_width","_scroll_y","$height","_content_height","_scroll_x","flex","$getSize","dx","dy","minWidth","maxWidth","minHeight","maxHeight","show","animate_settings","_show","_render_hidden_views","ui_to_render","_onKeyPress","role","hidden_setter","hide","sizes","_responsive_exception","_child_sizing_active","_responsive_tinkery","resizeChildren","_set_inner","border_not_set","borderless","bottom","borderWidth","_borders","baseview","debug_size_indent","debug_size_step","debug_size_box_start","comp","debug_size","debug_size_box_end","_parse_cells","_layout_sizes","_responsive","isolate","rows_setter","_vertical_orientation","_collection","cols_setter","whiteSpace","_cells","new_view","prev_node","_fix_vertical_layout","_recollect_elements","verticalAlign","addView","removeView","_beforeRemoveView","getCleanValues","reconstruct","_hiddencells","_signal_hidden_cells","nx","ny","_set_child_size","showBatch","preserve","visibleBatch","batch","collection","$nospace","_parse_cells_ext_end","_bubble_size","prop","vertical","fixed","fixed_count","_sizes","_master_size","_desired_size","self_size","responsive","_set_child_size_a","min","ps","_set_size_delta","_set_size_gravity","_responsive_hide","_responsive_width","_responsive_height","_responsive_marker","autoheight","_responsive_show","responsiveCell","_responsive_cells","_paddingX","_margin","px","auto","_next","_first","_parse_cells_ext","_parse_once","margin","_paddingY","paddingX","paddingY","_padding","_hasBorders","_render_borders","_beforeResetBorders","baselayout","_afterResetBorders","correction","scroll","structure_changed","borderTopWidth","borderBottomWidth","borderLeftWidth","borderRightWidth","_cleanlayout","maxlength","_fix_container_borders","inner","s_inner","s_next","contrstyle","contrpadding","type_setter","_margin_set","_padding_set","FlexLayout","w","h","g","st","paddingTop","paddingBottom","paddingLeft","paddingRight","flexBasis","flexGrow","whs","body_setter","align_setter","_x_align","_y_align","_p_align","marginLeft","ceil","marginTop","html_element","animation","subtype","animation_copy","_has_animation","_wait_animate","isSupported","$testmode","noanimate","current","defAniPos","keepViews","duration","timing","skew_options","scale_type","css_general","css_transition","css_transform","transitionEnded","MouseEvents","_clickstamp","_dbl_sensetive","_item_clicked","_mouse_action_extend","onClick","onContext","onDblClick","onMouseMove","on_click","_onClick","on_dblclick","_onDblClick","on_context","_onContext","on_mouse_move","_enable_mouse_move","_mouse_move_enabled","_onMouse","_mouse_move_timer","step","stamp","_mouseEvent","movementY","movementX","_onMouseMove","_onMouseOut","mouseEventDelay","pair","processed","vid","wid","w_view","_headobj","_headlabel","_headbutton","_bodyobj","_head_cell","border","header_setter","headerAlt_setter","fixedHeight","collapsed","_getHeaderSize","webix_accordionitem_header","_toggle","webix_accordionitem_header_v","collapsed_setter","_canCollapse","_collapse","sibl","expand","_expand","_afterOpen","$noresize","headerAlt","headerAltHeight","_last_set_header_size","headerSize","_last_size_y","borderlessAccordion","panelClass","multi","panel","_skin_render_collapse","_accLastChild","DragControl","_drag_masters","addDrop","master_mode","webix_drop","_getCtrl","webix_master","_createTouchDrag","dragCtrl","_getActiveDragMaster","_getDragItemPos","createDrag","_drag_context","x_offset","y_offset","addDrag","webix_drag","mouse","_preStart","_active","_saved_event","_preStartFalse","destroyDrag","evobj","_start_pos","_webix_drag_mm","move","_startDrag","_webix_drag_mu","_clean_dom_after_drag","longTouchLimit","_long_touched","abs","sendSignal","_moveDrag","_stopDrag","_last","$drop","$dragOut","still_drag","customPos","$dragPos","_skip","elementFromPoint","touch_event","_checkLand","_landing","$dragIn","signal","getMaster","getContext","dragCtl","drag_container","$dragCreate","_setDragOffset","$drag","_skipDropH","_skip_mark","$dragDestroy","itemPos","DataMove","tindex","tobj","new_id","newId","_externalData","_next_move_index","nid","new_index","getIndexById","$blockRender","order","moveUp","moveDown","moveTop","moveBottom","newdata","$template","externalData","Movable","move_setter","_move_admin","drag","Modality","_modal_set","_modal_cover","_previous_modality","_modality","_ignore_clicks","topmost","toFront","modal","_modal","popups","click_view","zIndex_setter","point","relative","innerWidth","innerHeight","fin_x","fin_y","point_y","point_x","fit","autofit","nochange","delta_x","delta_y","delta_point","deltax","deltay","_set_point","_hide_point","_setPosition","_hide_timer","autofocus","_prev_focus","showpopup","myindex","_hide_callback","contains","_hide_sub_popups","_inner_body_set","head_setter","getBody","getHead","_topPositionCallback","head_size","headHeight","clientHeight","_point_element","resize_setter","_resizeHandlers","_renderResizeHandler","_rwHandle","_wrDown","_showResizeFrame","_resizeFrame","_wsReady","_resizeHandlersMove","_wrMove","_resizeHandlersUp","_wrUp","progress","_wsProgress","yCount","navigation","filter_setter","etemp","_get_extendable_cell","_set_on_popup_click","_getInputDiv","getInputNode","_show_selection","_old_text","_preselectMasterOption","options_setter","getItemText","$setValue","_last_input_target","setMasterValue","setValueHere","getMasterValue","getList","textValue","getSuggestion","_suggest_after_filter","fitMaster","date","input_setter","linkInput","webix_master_id","_suggestions","_non_ui_mode","_key_timer","_tab_key","_escape_key","_enter_key","_navigate","_last_delay","_resolve_popup","_dont_unfilter","$customWidth","_zoom_level","popup","showItem","exists","unselect","getFirstId","getSelectedDate","moveSelection","visible","selected","getSelectedItem","getVisibleDate","HTMLOptions","addOption","_moveSelection","_getInputNode","_blur","startCode","inp","readonly","_labelTopHeight","$renderInput","badge","awidth","aheight","label","$cssName","_calc_size","hotkey_setter","control","_addElementHotKey","tooltip_setter","_getBox","title","_types","_set_inner_size","_set_inner_size_next","htmlbutton","prev","imageButton","imageButtonTop","image","imageTop","icon","iconButton","iconTop","iconButtonTop","_findAllInputs","tagNames","inputs","_disabledTabIndex","labelPosition","_pattern","_rendered_input","$getValue","_sqrt_2","sqrt","arrow","arrowEdge","autowidth","_calck_input_size","_input_width","inputWidth","_input_height","_inputHeight","bheight","cheight","dheight","handle","cssFloat","textAlign","$render","tooltip","_init_once","_handle_tab_click","webix_all_segments","webix_all_tabs","webix_inp_counter_next","webix_inp_counter_prev","webix_inp_combo","webix_inp_checkbox_border","toggle","webix_inp_checkbox_label","webix_inp_radio_border","webix_inp_radio_label","webix_tab_more_icon","getPopup","webix_tab_close","removeOption","_check_options","opts","_get_div_placeholder","placeholder","_get_event_id","evName","setHTML","_allowsClear","_init_onchange","evId","suggest","newvalue","$renderIcon","aria","addSection","relatedView_setter","relatedAction","viewid","relatedView","validateEvent_setter","required","rules","isNotEmpty","_validate","bottomLabel_setter","bottomPadding","_getInvalidText","invalidMessage","setBottomText","bottomLabel","invalid","_restorePadding","heightInc","labelWidth","_get_input_width","iconWidth","_render_div_block","inputAlign","_baseInputHTML","$renderLabel","labelAlign","labelTop","labelHeight","div_start","editable","suggest_setter","attempt","_filterOptions","optionWidth","optionIndex","pages","_setNextVisible","_setOptionVisibility","option","hideOption","showOption","webix_input_icon","lastChild","onLabel","offLabel","onIcon","offIcon","optview","DataCollection","decreaseValue","increaseValue","Infinity","_keyshift","new_value","checkValue","uncheckValue","rightlabel","labelRight","checked","ch","customCheckbox_setter","isChecked","eachid","newline","optlabel","rd","customRadio_setter","popupWidth","_suggest_config","_reset_value","getText","richselect","_init_popup","timeIcon","stringResult","timepicker","icons","_parse_value","timeMode","isNaN","formatDate","_formatDate","parseTimeFormatDate","parseFormatDate","setHours","setMinutes","getTime","_get_visible_date","formatStr","_formatStr","timeFormatStr","fullDateFormatStr","dateFormatStr","_set_visible_text","selectDate","format_setter","dateToStr","strToDate","timeFormatDate","fullDateFormatDate","dateFormatDate","parseTimeFormatStr","_getColorNode","colorboard","backgroundColor","datepicker","RenderStack","_render_change_id","_call_onclick","mark","_marks","_toHTMLObject","old","getItemNode","search_id","scrollTo","txmin","txmax","tymin","tymax","getScrollState","_setItemActive","cont","getNextId","_renderobj","getRange","ValidateData","clearValidation","_clear_invalid","failed","_validate_details","isHidden","validateHidden","validateDisabled","$obj","$all","subresult","subview","validator","_mark_invalid","ValidateCollection","_validate_init_once","rules_setter","clearMark","removeMark","addMark","isEmail","isNumber","MapCollection","_create_scheme_init","_scheme_init_order","columns","_build_data_map","_process_field_map","_scheme_init","_process_single_map","_map_options","options_view","_bind_collection","loadNext","ij","_collection_accesser","optionslist","_bind_accesser","refreshFilter","separator","DataLoader","DataStore","_call_onclearall","_call_on_config","feed","_feed","_load_count","_feed_last","_feed_common","final_callback","_feed_callback","getState","datathrottle","_throttle_request","datafetch","_maybe_loading_already","removeMissed_setter","_removeMissed","_init_dataprocessor","save_setter","scheme_setter","scheme","dataFeed_setter","filtervalue","clearAll","filterobj","urldata","_ready_was_used","abort","DataMarks","addRowCss","hasCss","getMark","clearCss","setDriver","_filter_order","info","recs","_inner_parse","_scheme_group","_group_processing","_not_grouped_order","_scheme_sort","subload","marks","_scheme_update","delid","changeId","_skip_refresh","to","$min","startOffset","$max","endOffset","getIndexRange","sindex","getIdByIndex","_move_inner","_scheme","_scheme_save","$save","$change","$update","_scheme_serialize","$serialize","$group","$sort","serialize","branch","_filter_branch","_extraParser","_datadriver_child","_set_child_scheme","debug_sync_master","debug_bind_master","_sync_source","sync_logic","record","_skip_next_sync","_sync_events","_back_sync_handler","unsync","data_size","original_index","getLastId","getPrevId","by","as","parameters","_sort_core","sorter","sorting","pre","neworder","_filter_reset","_filter_core","freeze","first","_filterMode","_obj_array","_methodPush","provideApi","eventable","onbeforesort","onaftersort","onbeforeadd","onafteradd","onbeforedelete","onafterdelete","ondataupdate","old_css","$css","current_css","_dir","_by","server","int","string_strict","string","Scrollable","_one_time_scroll","scroll_setter","_refresh_scroll","_touch_scroll","CustomScroll","overflowX","overflowY","_onoff_scroll","_get_matrix","_set_matrix","scrollSpeed","_clear_artefacts","_scroll_end","page","webix_pager_item","_remove_master","$master","_animate","pager","_clone","_refresh_clone","newPage","setPage","old_page","old_limit","old_count","apiOnly_setter","_pgInAnimation","_pgAnimateTimeout","flip","snode","_body","onode","PagingAbility","pager_setter","check_pager_sizes","repeat","autosize","getVisibleCount","_count_pager_index","$pagesize","ui_pager","_count_pager_total","level","_pager","$level","getPage","getPager","aria-atomic","_visible","_disabled","AutoTooltip","col_mode","showEvent","_mouseEventX","_mouseEventY","getColumnConfig","column","srcElements","area","hideEvent","expandNames","lastIndex","Values","complexData","_inner_setValues","_is_form_dirty","_values","isDirty","getDirtyValues","_inner_getValues","defaultValue","markInvalid","_form_classname","_form_vertical","onbeforetabclick","onaftertabclick","onchange","elementsConfig","_rec_apply_settings","nextsettings","_template_types","_correct_width_scroll","section","onClick_setter","_render_me","_not_render_me","_probably_render_me","src_setter","content_setter","setContent","_template_resize_timer","_get_auto_height","getIframe","getWindow","contentWindow","OverlayBox","showOverlay","_overlay","hideOverlay","_resizeChildren","cx","_native_scroll","cy","desired_size","self_sizes","scroll_size","custom","showView","topPos","TreeRenderStack","_toHTMLItem","_toHTMLItemObject","_toHTMLLevel","leaves","_tree_branch_render_state","_obj","$parent","leafs","getNextSiblingId","_branch_render_supported","SelectionModel","_selected","_data_updated","_data_loaded","_data_filtered","_id_changed","_set_noselect","multiselect","_noselect_element","loadBranch","$selected","_select_mark","need_unselect","_silent_selection","unselectAll","_refresh_selection","selectAll","isSelected","range","as_array","_is_mass_selection","TreeDataMove","getBranchIndex","_check_branch_child","target_parent","$child","copy_data","tbranch","sbranch","$count","_set_level_rec","_drag_pause","$dropAllow","new_data","TreeDataLoader","_sync_hierarchy","_feed_commonA","_sync_to_order","TreeStore","showSubItems","filterMode_setter","filterMode","_filter_branch_rec","allow","child_run","openParents","parentId","getParentId","newsub","eachOpen","getPrevSiblingId","getFirstChildId","isBranch","parse_name","pItem","pBranch","webix_kids","parent_branch","itemid","_sync_each_child","getTopRange","eachChild","eachSubItem","eachLeaf","bset","pid","refresh_parent","_rec_remove","_filter_removed","out","items","TreeType","checkbox","nocheckbox","folder","TreeAPI","openAll","closeAll","_tree_check_uncheck","threeState","_tree_check_uncheck_3","isBranchOpen","getOpenItems","_repeat_set_state","tree","setState","TreeClick","webix_tree_open","webix_tree_close","webix_tree_checkbox","TreeCollection","AutoScroll","_auto_scroll","yscroll","xscroll","dragscroll","reset","sense","topSplit","topSplitPos","_cellPosition","columnId","_auto_scrollTo","_auto_scroll_delay","DragOrder","_do_not_drag_selection","DragItem","_drag_order_stored_left","_drag_order_complex","fragile","xdrag","_last_sort_dnd_node","start_id","_auto_scroll_force","_header_height","_initHandlers","$dragMark","drag_setter","_inner_drag_only","_target_to_id","_context_to_move","hash_id","_start_context","$dragHTML","_marked","Group","GroupStore","_not_grouped_pull","_group_level_count","ungroup","skipRender","GroupMethods","sum","summ","any","_reset_groups","_ungroup_tree","_group_prop_accessor","acc","stats","_group_tree","_any","groups","labels","$row","topbranch","current_id","ancestor","newitem","_formath","footer","$footer","_fix_group_levels","toporder","clipbuffer","_area","_blur_id","_ctrl","_paste","_isSelectRange","getSelection","last_active","getEditor","CopyPaste","clipboard_setter","templateCopy","clipboard","modify","templateCopy_setter","KeysNavigation","querySelector","_navigation_helper","x_layout","xCount","_parent_menu","_hide_sub_menu","_skip_item","getSubMenu","_mouse_move_activation","navigation_setter","_global_nav_grid_hotkeys","webix_tree_item","activeTitle","templateCommon","classname","webix_selected","TreeStateCheckbox","_init_render_tree_state","updated","_setThirdState","threeState_setter","parents","checkedParents","_getAllLeaves","_setParentThirdState","_setCheckboxIndeterminate","chElem","indeterminate","itemId","checkedCount","unsureCount","needrender","getChecked","_correctThreeState","checkItem","uncheckItem","_checkUncheckAll","checkAll","uncheckAll","_icon_src","lines","lines_level","branch_id","parent_id","pbranch","$index","NavigationButtons","_moveActive","_showNavItem","_navPanel","_renderPanel","_renderNavItems","_renderNavButtons","_setLinkEventHandler","bindId","_linkAttr","_showPanelBind","_prevNavButton","_nextNavButton","inc","_active_cell","setActiveIndex","linkAttr","_clearPanel","tabindex","buttons","aria-label","prevTab","nextTab","_listClassName","_auto_resize","webix_list_item","_no_animation","_auto_height_calc","_auto_width_calc","widthSize","heightSize","_onClear","_nested_cursor","_nested_chain","_in_animation","_is_level_down","getOpenState","after","lastChain","_prev_nested_chain_length","_back_scroll_states","next_div","animArr","templateBack_setter","templateBack","templateItem_setter","templateItem","templateGroup_setter","templateGroup","grouplist","uniteBy_setter","sort_setter","uniteBy","$unitValue","units","_setUnits","_getUnitRange","getUnits","getUnitList","$unit","templateStartHeader","templateHeader","unit","EditAbility","editaction","_editors","_edit_open_time","_refocus_inline_editor","_init_edit_events_once","Undo","_refocus_try","newnode","editor","$inline","_locateInput","editable_setter","popupType","_changeEditorId","edit","_reset_active_editor","_component_specific_edit_init","_handle_live_edits","liveEdit","_set_new_value","_show_editor_form","realform","_get_editor_type","editors","_init_editor","_live_edits_handler","_on_editor_change","getEditorValue","_get_edit_config","editValue","_addEditor","_sizeToCell","afterRender","_locate_cell","_removeEditor","destroy","focusEditor","ed","_edit_stop","cancel","_editStop","_for_each_editor","inline","validateEditor","getEditState","editor_next","_find_cell_next","_after_edit_next","init_suggest","create_suggest","boxobj","getLabel","inline-checkbox","inline-text","rec","isplain","createPopup","$popup","popupInit","color","_is_string","combo","_create_suggest","_shared_suggest","_suggest","showPopup","_initial_value","sobj","_initial_text","password","VirtualRenderStack","_render_visible_rows","_unrendered_area","_getVisibleRange","ind","_dx","_y","_render_delayed","_wait_for_render","_create_placeholder","viewport","_max","_from","_height","_filled","holder","holder_row","nextpoint","loading","delta","delta2","new_space","loadahead","_top","sizeToContent","_after_init_call","prerender","webix_dataview_item","templateLoading","_calck_autoheight","autoheight_setter","_autowidth","_recalk_counts","htmltable","tr","_webix_skip","td","getConfig","_de_json","_get_attrs","attr","scrollStep","scrollPos","scrollVisible","zoom","_onscroll","_last_set_size","_last_scroll_pos","_check_quantum","_zoom_limit","scrollWidth_setter","scrollHeight_setter","sizeTo","pointerEvents","getScroll","getSize","svalue","_onscroll_inner","activeArea","x_mode","_x_scroll_mode","_on_wheel","_add_touch_events","pointerEnabled","pointerType","_get_context_m","_start_scroll_pos","_current_context","deltaMode","detail","wheelDelta","deltaX","deltaY","_scroll_trg","Number","sign","toFixed","decimalSize","int_value","groupSize","groupDelimiter","decimalDelimiter","numToStr","startOnMonday","weekStart","getDay","datePart","monthStart","setDate","yearStart","setMonth","dayStart","utc","getDate","getMonth","getFullYear","dayShort","dayFull","monthShort","monthFull","getHours","getMinutes","pm","am","getSeconds","getISOWeek","mask","splt","monthShort_hash","monthFull_hash","reg","UTC","ndate","nday","first_thursday","year_number","ordinal_date","weekNumber","getUTCISOWeek","_correctDate","d0","checkFunc","incorrect","getYear","setYear","setSeconds","setMilliseconds","timePart","getTimezoneOffset","equal","isHoliday","day","_dateMethods","parseFormat","parseTimeFormat","numberFormat","priceFormat","_price_format","_price_settings","setLocale","locales","helpers","price","priceSettings","intFormat","dateFormat","timeFormat","longDateFormat","fullDateFormat","fileSize","hours","minutes","today","dataExport","of","PDFviewer","automaticZoom","actualSize","pageFit","pageWidth","pageHeight","navMonth","navYear","navDecade","removeItem","headermenu","openGroup","closeGroup","closeTab","showTabs","resetTreeMap","navTreeMap","multitextSection","multitextextraSection","showChart","hideChart","resizeChart","_undoHistory","_undoCursor","undo_setter","_init_undo","_draggedItem","_addToHistory","_editedItem","_deletedItem","$branch","oldId","_skipHistory","undo","_skipCursorInc","ignoreUndo","removeUndo","_undoAction","leftSplit","rightSplit","columnWidth","minColumnWidth","minColumnHeight","fixedRowHeight","scrollAlignY","scrollX","scrollY","headerRowHeight","webix_richfilter","webix_table_checkbox","checkboxRefresh","webix_table_radio","eachRow","rowid","_top_id","_footer","_call_onparse","_first_render","_columns","_headers","_footers","_rows_cache","_active_headers","_filter_elements","_footer_height","_config_table_from_file","_config_options_from_file","_restore_scroll_state","_refresh_any_header_content","_clean_config_struct","_render_initial","_scrollSizeX","_scrollSizeY","rowLineHeight","_refresh_tracking_header_content","autoConfig","_dtable_fully_ready","_autoDetectConfig","_define_structure","_render_timer","_apply_headers","experimental","_repaint_single_row","_check_rendered_cols","_dtable_height","_get_total_height","_set_split_sizes_y","_hidden_column_order","_render_timer_id","_columns_pull","_hidden_column_hash","colls","refreshColumns","cssFormat","_normalize_headers","_define_structure_and_render","attached","_rightSplit","_dtable_width","nr","nl","last_index","_create_scrolls","_set_columns_positions","_set_split_sizes_x","_render_header_and_footer","_header_fix_width","_refreshHeaderContent","_summ","_render_header_section","refreshHeaderContent","_size_header_footer_fix","_last_sorted","markSorting","_last_order","heights","rowspan","colspan","_find_header_content","sec","alltd","getHeaderContent","datafilter","getHelper","_summ_next","_render_subheader","contentId","_has_active_headers","hcss","column_pos","cell_height","sheight","header_css","rotate","showItemByIndex","row_ind","column_ind","_get_y_range","_getHeightByIndexSumm","_top_split_height","_getHeightByIndex","_dtable_offset_height","_y_scroll","_get_x_range","_center_width","_x_scroll","showCell","getColumnIndex","_scrollTo_touch","_getScrollState_touch","diff","_render_scroll_shift","_render_scroll_diff","_scrollLeft","_scrollTop","_left_width","onscroll","_scroll_with_header","_right_width","trackedOnly","cellTrackOnly","getOnly","byId","trackCells","headerContent","_set_size_scroll_area","hdx","_header_scroll","_footer_scroll","_update_scroll","hasX","hasY","scrx","scry","vscroll","_onscroll_x","vscroll_view","_onscroll_y","_getNodeBox","rid","cid","xs","xe","ye","ys","zone","_id_to_string","idOnly","cs","_locate","rind","cind","cdiv","_yr0","_updateColsSizeSettings","setColumnWidth","skip_update","_setColumnWidth","by_user","_getRowHeight","$subopen","$subHeight","index1","index2","leftcolumn","split_column","_render_scroll_top","setRowHeight","rowId","old_height","conts","_minimize_dom_changes","full","xind","xend","dep","xdef","rowindex","x_range","_getValue","_getCss","x_scroll","_clearColumnCache","xr","yr","_hideColumn","_render_full_rows","rendered","_renderColumn","_check_and_render_full_rows","_check_load_next","_delete_full_rows","_rows_cache_start","_rows_cache_end","_rows_body","_render_full_row_some","$sub","paging","fetch","_last_valid_render_pos","_data_request_flag","_check_rows","_run_load_next","conf","_preserveScrollTarget","columnNode","newNode","_scrollWheelTrg","row_id","column_id","per_css","row_css","$cellCss","mark_marker","css_marker","_select_css","radio","editIcon","trashIcon","_yr2","_yr1","total","_render_single_cell","wanted_height","desired","minwidth","oldw","oldh","_on_header_click","_sort","_sort_sign","_get_header_cell","maybe","colSpan","col_id","$text","_mouseEventCall","css_call","trgCss","isBody","isHeader","_datatable_overlay","mapCells","startrow","startcol","numrows","numcols","col_ind","fillspace","textWaitDelay","summColumn","masterCheckbox","onclick","uncheck","textFilter","component","registerFilter","_comp_id","_on_key_down","_filter_timer","filterByAll","selectFilter","compare","collectValues","_on_change","serverFilter","$server","serverSelectFilter","numberFilter","prepare","equality","intvalue","_greater","_lesser","_equal","dateFilter","reverse","datatable","isColumnVisible","originvalue","inputvalue","_runServerFilter","_multi_compare","itemValue","inputValue","getFilter","checks","","_collectValues","hover_setter","_hover_initialized","_last_hover","removeRowCss","hover","_delayed_hover_set","select_setter","_selections","_commonselect","_reinit_selection","webix_cell","_click_before_select","_data_cleared","_selected_rows","_selected_areas","_select_key","_selected_pull","asArray","plain","_select","_unselect","_clear_selection","_finalize_select","_post_select","clearSelection","selectRange","_post_unselect","_add_item_select","_selectRange","_mapSelection","mapSelection","end_row_id","row_start_ind","row_end_ind","end_column_id","col_start_ind","col_end_ind","column_start_ind","column_end_ind","getSelectArea","removeSelectArea","sind","eind","srow","erow","_extendAreaRange","addSelectArea","blockselect_setter","_block_sel_flag","_bs_move","_bs_down","_bs_up","_bs_ready","_bs_progress","_update_block_selection","_childOf","_rs_process","_bs_position","_block_panel","_bs_select","theend","_locate_cell_xy","_bs_do_select","startx","starty","endx","endy","startn","endn","startWidth","endWidth","_getTopSplitOffset","_bs_start","blockselect","inTopSplit","splitPos","startIndex","startPos","_key_property","_dragobj","_originobj","cursor","_moveev","_onmove","_upev","_onup","_last_result","eventPos","resizeRow_setter","resizeColumn_setter","_rs_init_flag","_rs_move","_rs_down","_rs_up","_rs_ready","_rs_start","_rs_progress","resizearea","_rs_end","newsize","oldwidth","oldheight","element_class","in_body","in_header","resizeRow","headerOnly","resizeColumn","_cursor_timer","_mark_resize_ready","_last_cursor_mode","delimiter","sep","_split_clip_data","_substr_count","substring","arr","TablePaste","_sel_to_clip","_clip_to_sel","_get_sel_text","block","leftTop","storage","local","localStorage","setItem","session","sessionStorage","cookie","domain","expires","toUTCString","_get_cookie","check_name","a_all_cookies","a_temp_cookie","cookie_name","cookie_value","b_cookie_found","cookies","DataState","cols_n","any_filter","hihash","hideColumn","hikey","reorder","contentid","longTouchDelay","scrollDelay","deltaStep","speed","ellastic","_limited","_touchstart","_touchmove","_touchend","_fire_fast_event","_scroll","_prev_context","_scroll_context","_scroll_mode","_scroll_node","_scroll_stat","_delta","_x_moment","_y_moment","_time","_css_button_remove","_long_touch_timer","_was_not_moved","_axis_x","_axis_y","_active_transion","_get_delta","$scroll","cnx","_correct_minmax","cny","py","adjustScroll","_scroll_master","_sync_scroll","_set_scroll","_translate_event","click_event","_set_scroll_pos","_axis_check","_x","_get_event_view","scale","_init_scroller","edx","edy","xv","yv","_in_anim_frame","setAnimationFrame","trans","tmatrix","matrix","WebKitCSSMatrix","MSCSSMatrix","_tmatrix","tkey","_sync_pos","_init_scroll_node","scroll_enabled","_create_scroll","dim","_long_move","_stop_old_scroll","_stop_scroll","_is_scroll","$touchCapture","_long_touch","stop_mode","_get_sizes","locate_mode","_get_context","msPointerEnabled","table","_touchNative","_touch","scrollMode","elastic","isScrollX","isScrollY","_fix_f","_adjustColumns","_resizeColumns","user","_adjustColumn","fill","colfil","_fillColumnSize","request","_getColumnConfigSize","adjustColumn","adjustRowHeight","math_setter","_math_init","_math_pref","_parse_row_math","_parse_math","_exprs_by_columns","_parse_cell_math","_math_recalc","_calculate","_remove_old_triggers","depends","_set_original_value","math","_parse_relative_expr","expr","$r","$c","_get_calc_value","_in_math_trace","_start_math_trace","_to_math_trace","operations","_get_operations","triggers","_get_refs","_replace_refs","_parse_args","exc","_math_exception","_from_math_trace","_add_trigger","_compute","splitter","tmp","_trim","dell","delr","cell_value","op","_split_by","arg","temp_value","ex","_math_trace","depend","row_editors","col_settings","editFormat","editMath","liveValidation","_bind_live_validation","that","parser","editParse","_last_editor_scroll","span","_spans_pull","getSpan","_spans_areas","editCell","editRow","eachColumn","editColumn","_checkCellMerge","_correct_after_focus_y","_ignore_after_focus_scroll","_correct_after_focus_x","_update_editor_y_pos","_clear_hidden_state","_hideInitialColumns","_hidden_split","_getInitialSpans","$colspan","moveColumn","start_index","_refresh_columns","_init_horder","horder","hhash","_fixColspansHidden","mod","spanSource","spanSize","showColumn","showColumnBatch","_subViewStorage","openSub","closeSub","_checkDragTopSplit","startId","frozen","getHeaderNode","row_index","nodes","minRow","colindex","nodeIndex","dragColumn_setter","_relative_column_drag","_limit_column_drag","_column_dnd_temp_block","end_index","_dragTarget","_drag_column_last","_clear_invalid_css","addCellCss","newmark","removeCellCss","getData","SLines","Sparklines","getTemplate","customConfig","slConstructor","_template","draw","sparklines","joinAttributes","SVG","xmlns","viewBox","styleMap","lineColor","_handlers","M","L","C","cp0","cp1","A","radius","angle0","angle1","cos","sin","definePath","points","_linePoints","setOpacity","opacity","toRgb","_curvePoints","getPath","getSector","x0","y0","getCurve","getLine","p0","p1","getCircle","getRect","_SVG","Area","eventRadius","graph","Line","renderer","getPoints","_getLinePoints","_applyColor","_drawItems","_drawEventItems","Bar","itemCss","negativeColor","_getOrigin","evPoints","_getEventPoints","evItems","webix_area","minValue","maxValue","unitY","unitX","barWidth","originY","yNum","Pie","_defColorsCursor","_defColors","_getColor","colorsCount","sectors","getAngles","r","_context","a1","a0","PI","ratios","_getRatios","_getTotalValue","prevSum","totalValue","Spline","SplineArea","defaultsArea","linePoints","_getControlPoints","p2","linePath","areaPoints","itemPoints","TreeTableClick","TreeTablePaste","_unwrap_id","treetable","treecheckbox","$exportView","filterHTML","original","Canvas","_canvas_labels","_canvas_name","devicePixelRatio","_prepareCanvas","_canvas","canvas_id","G_vmlCanvasManager","init_","initElement","getCanvas","_webixDevicePixelRatio","_resizeCanvas","renderText","aria-hidden","renderTextAt","valign","clearCanvas","skipMap","areas","_getMapAreas","clearRect","toggleCanvas","_toggleCanvas","showCanvas","hideCanvas","_toHex","toHex","number","hexToDec","hex","rgb","rgbArr","lastIndexOf","hsvToRgb","hi","q","rgbToHsv","r0","g0","b0","min0","max0","HtmlMap","_map","_areas","addRect","userdata","_createMapArea","addPoly","shape","coords","extra_data","addSector","alpha0","alpha1","R","ky","_series","_legend_labels","preset","_definePreset","series","_switchSeries","ariaLabel","alpha","cant","borderColor","shadow","gradient","labelOffset","webix_chart_legend_item","legend","showSeries","hideSeries","canvases","yAxis","xAxis","removeAllSeries","_legendObj","bounds","_createCanvas","_drawLegend","_getChartBounds","_getChartData","_applyBounds","axis","axisConfig","newData","valuesHash","series_setter","addSeries","value_setter","xValue_setter","yValue_setter","alpha_setter","label_setter","lineColor_setter","borderColor_setter","pieInnerText_setter","gradient_setter","colormap","RAINBOW","_rainbow","color_setter","fill_setter","preset_setter","presets","legend_setter","item_setter","_converToTemplate","line_setter","padding_setter","xAxis_setter","templates","_configXAxis","yAxis_setter","bg","_configYAxis","_drawScales","point0","point1","cellWidth","_drawYAxis","_drawXAxis","unitPos","x1","center","labelY","_drawXAxisLabel","_drawXAxisLine","_drawLine","scaleParam","y1","lineX","_calculateScale","_logScaleCalc","_setYAxisTitle","stepHeight","pow","fixNum","yi","power","_log10","corr","_isIE","_calculateLogScale","nmin","nmax","startPower","endPower","logMin","logMax","calculStep","stepVal","absNmin","powerStart","nminVal","_getLimits","orientation","maxI","minI","method_name","LN10","y2","x2","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","_getRelativeValue","relValue","valueFactor","tip","_active_serie","_getActiveSeries","$hidden","legendContainer","legendHeight","legendItems","legendWidth","itemColor","_drawLegendText","disableColor","_drawLegendMarker","restore","markerType","fillStyle","disableLines","globalAlpha","_strokeChartItem","_path","lineCap","chartX0","chartY0","chartX1","chartY1","_getStackedLimits","$sum","_setBarGradient","hsv","color0","stops","createLinearGradient","_gradient","_getPositionByAngle","addColorStop","_addMapRect","sIndex","chart","$render_pie","_renderPie","coord","_getPieParameters","_getValues","_addShadow","angles","_showRadialGradient","arc","pieInnerText","_drawSectorLabel","_createLowerSector","a2","_drawSectorLine","pieHeight","shadows","_getGrayGradient","createRadialGradient","alpha2","in_width","corr_x","corr_y","left_end","left_start","$render_pie3D","$render_donut","pieRadius","innerRadius","$render_bar","limits","relativeValues","startValue","xax","yax","totalHeight","seriesNumber","seriesIndex","barOffset","inner_gradient","_drawBar","_drawBarGradient","_drawBarBorder","_correctBarParams","axisStart","_setBarPoints","_setBorderStyles","gradParam","borderOffset","skipBottom","angle_corr","cosA","acos","x3","y3","x5","$render_line","res1","res2","_calculateLineParams","_getPointY","fixOverflow","_calcOverflowX","_mapStart","_drawItem","mapStart","alphas","areaPos","$render_barH","innerGradient","totalWidth","_drawHScales","_drawBarHBorder","_drawBarH","_drawBarHGradient","_setBarHPoints","skipLeft","sinA","asin","y5","_drawHXAxis","_drawHYAxis","yAxisX","yAxisStart","xi","_correctBarHParams","$render_stackedBar","xAxisY","total_height","negValue","$startYN","$startY","firstSector","_setStakedBarPoints","minY","$render_stackedBarH","total_width","$startX","$render_spline","sparam","_getSplineParameters","sY1","_getSplineYPoint","sY2","$render_area","mapRect","$render_stackedArea","lastItem","yPos","setOffset","solveEquation","$render_radar","_renderRadarChart","ratioUnits","_drawRadarAxises","_drawRadarData","pos0","pos1","posArr","r1","startAlpha","value0","value1","unitArr","_fillRadarChart","_strokeRadarChart","disableItems","_drawRadarItemMarkers","configY","configX","_drawScaleSector","lineShape","_drawRadarScaleLabel","pos2","closePath","$render_scatter","xValue","limitsY","limitsX","_getScatterParams","_drawScatterItem","_calcScatterUnit","_calculateScatterItemPosition","simple","plot","diamond","square","stick","monthSelect","weekHeader","skipEmptyWeeks","calendarHeader","calendarWeekHeader","events","minuteStep","dayTemplate","dayTemplate_setter","calendarHeader_setter","calendarWeekHeader_setter","calendarTime_setter","_calendarTime","date_setter","_string_to_date","maxDate_setter","minDate_setter","minTime_setter","maxTime_setter","_special_dates","_selected_date_part","_selected_date","_zoom_in","_fixed","cellHeight","_getDateBoundaries","_rows","_zoom_logic","_set_date_bounds","month","year","days","_month","_start","_getColumnConfigSizes","_columnsHeight","_columnsWidth","containerWidth","containerHeight","_icons","columnsNumber","rowsNumber","icons_setter","_icons2","webix_cal_icon_today","webix_cal_icon_clear","_zoom_size","_current_time","_week_template","_body_template","_timepicker_template","_icons_template","_changeZoomLevel","calendarTime","tpl","range_date","widths","week_template","day_index","blockDates_setter","_day_css","_checkDate","minDate","maxDate","_changeDate","notset","_changeStep","_changeDateInternal","_update_zoom_level","showCalendar","-2","_isBlocked","isBlocked","minHour","minTime","maxHour","maxTime","minMinute","maxMinute","blockTime","_setContent","_findActive","newdate","-1","minYear","maxYear","blocked","_getTitle","_getContent","_zoom_start_date","setFullYear","_correctBlockedTime","isDisabledHour","isDisabledMinutes","sections","zlogic","_reserve_box_height","_reserve_box_width","timeColNum","enLocale","_timeHeaderTemplate","_getCalSizesString","_timeButtonsTemplate","w1","w2","oldzoom","_mode_selected","prevZoom","_selectDate","webix_cal_prev_button","webix_cal_next_button","webix_cal_day_disabled","webix_cal_outside","webix_cal_day","webix_cal_time","webix_range_time_start","_time_mode","webix_range_time_end","webix_cal_done","webix_cal_month_name","webix_cal_block","blockedDate","blockDates","outOfRange","nameWidth","on_render","on_edit","webix_property_check","registerType","elements_setter","_idToLine","alter_type","_data_width","_clear","_props_dataset","els","palette","minLightness","maxLightness","_findIndex","pal","_selectBox","_getSelectBox","_initPalette","numToHex","rgbToHex","hslToRgb","hue2rgb","renderGrayBar","colCount","gray","colors","colorRows","colorStep","lightStep","colorRange","lt","querySelectorAll","renderRow","rowHtml","itemTpl","firstRow","_rsDown","_rsUp","_getResizeDir","_rs_started","_resizer_dir","_resizer_dim","marginRight","marginBottom","_getResizerCells","_rsLimit","_rsStart","posParent","_resizeStick","_rsEnd","_rsResizeHandler","cDiff","limitSizes","totalSize","_rsGetDiffCellSizes","_rsGetLimitCellSizes","_resizerStick","_rsGetCellSizes","cell_size","size1","size2","styleDim","getActiveId","_back_queue","_ask_render","cell_id","view_id","_render_hash","_render_queue","_render_activation","cells_setter","_getDirection","vx","animation_options","getTabbar","_next_cell","callback_original","fitBiggest","other","back","viewId","_default_height","_autowidth_submenu","_mouse_move_menu","_menu_was_activated","openAction","_child_menu_active","getTopMenu","submenu","_hide_on_item_click","_hidden_items","texts","isSubmenu","webix_disabled","subsign","templateSeparator","templateSpacer","getMenu","subid","_get_submenu","menu","getMenuItem","_create_sub_menu","_open_sub_menu","subMenuPos","disableItem","enableItem","_set_item_hidden","hideItem","_show_on_mouse_out","listConfig","submenuConfig","parentData","_dummy_cell_interface","ContextHelper","attachTo","_show_at_ui","_show_at_node","setContext","_show_at","master_setter","topOffset","bottomOffset","tabMinWidth","tabMoreWidth","_getTabbarSizes","tabs","_tabs","limitWidth","tabbarPopup","popupConfig","popupTemplate","moreTemplate_setter","popupTemplate_setter","moreTemplate","contentWidth","leafWidth","resultHTML","verticalOffset","selectedTab","displayTabs","lastTab","_getTabHTML","getElementsByClassName","_tabTemplate","calcHeight","segmented","getMultiview","_init_tabview_handlers","tabbar","mview","_tagname","_attribute","_get_html_value","tagname","_get_value","_set_html_value","_set_value","selectedIndex","firstElementChild","_default_values","_copy_inner_content","_parse_inputs","cant_clear","google","getMap","maps","_initMap","libraries","Map","LatLng","mapTypeId","MapTypeId","mapType","center_setter","setCenter","mapType_setter","setMapTypeId","zoom_setter","setZoom","layerType_setter","_layerApi","drawData","layerType","trigger","$marker","_getItemConfig","setMap","lat","lng","Marker","addListener","getDraggable","_onDrag","getPosition","heatmap","heatmapConfig_setter","hdata","_getConfig","heatmapConfig","visualization","HeatmapLayer","_pull","DataProcessor","masterId","autoupdate","updateFromResponse","operationName","trackMove","_ignore","_updates","_onStoreUpdated","_onDataMove","off","on","_copy_data","_save_inner","_invalid","_check_unique","targetid","webix_move_index","webix_move_id","webix_move_parent","one","_sendData","marked","to_send","tosave","_in_progress","precise_url","_updatesData","_send_callback","_processResult","attachProgress","_innerProcessResult","getItemState","undoOnError","setItemState","_get_stack_index","jsonp","vals","markup","namespace","attribute","dataTag","_dash","_after_dash","_parse_int","_parse_bool","_view_has_method","_get_core_els","_sub_markup","_initComponent","_full_prefix","_full_prefix_top","_get_html_tops","tags","_get_name","childs","is_layout","subs","has_tags","allow_sub_tags","_handle_data","_get_config_html","confignode","_tag_to_json","_attrs_to_json","_content","_empty","_markup_names","scopeName","usercall","modality","_webix_msg_cfg","modal_key","keyboard","cover","onkeydown","timers","_boxStructure","ok","_createBox","modalbox","alertPopup","confirmPopup","boxPopup","box_params","confirm","seed","hideAll","get_inspector_config","create_inspector","debug_inspect","onaftereditstop","show_inspector","winx","winy","props","infi","log_level","onBeforeShow","lastTarget","onShow","_layout","_initLayout","layoutProp","layoutConfig","carousel","_setScroll","getLayout","_nextCell","_size","showNext","showPrev","getActiveIndex","layoutSizes","selfSizes","changed","yc","xc","activeCell","setActive","percent","removeIcon","webix_remove_upload","uploader","files","UploadDriver","flash","render_config","swfobject","swfId","_upload_area","embedSWF","uploaderId","ID","enableLogs","paramName","multiple","wmode","getFlashPlayerVersion","now_date","_upload_timer_click","fileDialog","_stop_file","$applyFlash","getSwfObject","getObjectById","showDialog","_last_assigned_upload_callback","complete","_upload_complete","_get_active_url","upload","formData","$beforeAddFileToQueue","_format_size","sizetext","$addFileToQueue","file_struct","autosend","stopUpload","uploadStop","$onUploadComplete","$onUploadSuccess","$onUploadFail","html5","input_config","accept","_drop","_add_files","dataTransfer","_last_file_context","FormData","append","inputName","$updateProgress","loaded","_file_complete","_complete","addFile","link_setter","urlData","subline","addDropZone","hover_text","extra_css","fullcss","isUploaded","addMeta","new_orientation","matchMedia","fullScreen","iphone","iOS7","iphone_safari","iphone5","screen","fix","overflow","dmod","outerWidth","outerHeight","onrotate","jQuery","$","methods","get_id","get_helper","temp_data","run","history","track","_init_state","_ignored","_set_state","new_url","pushState","_body_view","_last_body_size","_handle_id","title_setter","_get_slider_handle","_set_value_now","_on_mouse_down_start","_handle_move_keyboard","_activeIndex","_mouse_down_process","_start_value","_start_handle_dnd","_get_value_from_event","_handle_drag_events","_handle_move_process","_handle_move_stop","touchContext","_get_value_from_pos","offline","cache","_is_offline","_is_online","mycallback","getCache","setCache","_data_name","clearCache","angular","id_helper","$element","loadData","directive","restrict","$attrs","$controller","dataname","watch","wxRoot","watcher","root","$watch","tmp_a","wrap_helper","eventobj","trim","$watchCollection","Backbone","_start_ext_load","cal","_backbone_loading","_finish_ext_load","use_id","wData","bData","whandlers","handlers","_sync_backbone_events","sanitize","_get_id","model","datareset","models","copymodel","changes","Collection","upd","WebixView","View","initialize","beforeRender","getRoot","getChild","ActiveContent","activeContent","_init_active_content_list","_active_holders","_active_holders_item","_active_holders_values","_active_references","_bind_active_content","earlyInit","_destructActiveContent","_locate_active_content_by_id","masterUI","button_id","_get_active_node","_setActiveContentView","$masterId","_set_new_active_value","outerHTML","XMLSerializer","serializeToString","$activeEl","ProgressBar","_progress","showProgress","hideProgress","incss","aria-valuemin","aria-valuemax","_progress_delay","_progressTimer","_init_video","autobuffer","poster","autoplay","getVideo","NonGPL","position_setter","prevPosition","_desired_sizes","_state","_isAnimationSupported","beforeShow","getExportScheme","h_count","f_count","isTable","raw","rawValues","noExport","_export_mode","getExportData","htmlFilter","isTree","footers","getColumnsWidths","wscols","wch","excelDate","getSpans","spans","xCorrection","yCorrection","sc","sr","getExcelData","ws","cell_ref","XLSX","utils","encode_cell","SSF","encode_range","str2array","buf","ArrayBuffer","Uint8Array","charCodeAt","getPdfData","doc","pdfjs","Document","font","_export_font","threshold","colWidths","tableOps","lineHeight","headerRows","headerOps","borderRightColor","borderBottomColor","footerOps","docFooter","ft","pageNumber","pageCount","docHeader","docHeaderOps","hd","docHeaderImage","docImageOps","buffer","img","Image","pdf","toPNG","html2canvas","canvas","msToBlob","toDataURL","toExcel","wb","SheetNames","Sheets","xls","write","bookType","bookSST","toPDF","fontName","TTFFont","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","cachedClearTimeout","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","Item","noop","process","browser","argv","versions","removeListener","removeAllListeners","emit","binding","cwd","chdir","umask"],"mappings":"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","file":"vendor.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// install a JSONP callback for chunk loading\n/******/ \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n/******/ \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {\n/******/ \t\t// add \"moreModules\" to the modules object,\n/******/ \t\t// then flag all \"chunkIds\" as loaded and fire callback\n/******/ \t\tvar moduleId, chunkId, i = 0, resolves = [], result;\n/******/ \t\tfor(;i < chunkIds.length; i++) {\n/******/ \t\t\tchunkId = chunkIds[i];\n/******/ \t\t\tif(installedChunks[chunkId])\n/******/ \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n/******/ \t\t\tinstalledChunks[chunkId] = 0;\n/******/ \t\t}\n/******/ \t\tfor(moduleId in moreModules) {\n/******/ \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n/******/ \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules, executeModules);\n/******/ \t\twhile(resolves.length)\n/******/ \t\t\tresolves.shift()();\n/******/ \t\tif(executeModules) {\n/******/ \t\t\tfor(i=0; i < executeModules.length; i++) {\n/******/ \t\t\t\tresult = __webpack_require__(__webpack_require__.s = executeModules[i]);\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t\treturn result;\n/******/ \t};\n/******/\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// objects to store loaded and loading chunks\n/******/ \tvar installedChunks = {\n/******/ \t\t2: 0\n/******/ \t};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/ \t// This file contains only the entry chunk.\n/******/ \t// The chunk loading function for additional chunks\n/******/ \t__webpack_require__.e = function requireEnsure(chunkId) {\n/******/ \t\tif(installedChunks[chunkId] === 0)\n/******/ \t\t\treturn Promise.resolve();\n/******/\n/******/ \t\t// an Promise means \"currently loading\".\n/******/ \t\tif(installedChunks[chunkId]) {\n/******/ \t\t\treturn installedChunks[chunkId][2];\n/******/ \t\t}\n/******/ \t\t// start chunk loading\n/******/ \t\tvar head = document.getElementsByTagName('head')[0];\n/******/ \t\tvar script = document.createElement('script');\n/******/ \t\tscript.type = 'text/javascript';\n/******/ \t\tscript.charset = 'utf-8';\n/******/ \t\tscript.async = true;\n/******/ \t\tscript.timeout = 120000;\n/******/\n/******/ \t\tscript.src = __webpack_require__.p + \"\" + ({\"1\":\"app\"}[chunkId]||chunkId) + \".\" + {\"0\":\"29b284985fa15c360af8\",\"1\":\"6ea068d8c5ae6c160566\"}[chunkId] + \".js\";\n/******/ \t\tvar timeout = setTimeout(onScriptComplete, 120000);\n/******/ \t\tscript.onerror = script.onload = onScriptComplete;\n/******/ \t\tfunction onScriptComplete() {\n/******/ \t\t\t// avoid mem leaks in IE.\n/******/ \t\t\tscript.onerror = script.onload = null;\n/******/ \t\t\tclearTimeout(timeout);\n/******/ \t\t\tvar chunk = installedChunks[chunkId];\n/******/ \t\t\tif(chunk !== 0) {\n/******/ \t\t\t\tif(chunk) chunk[1](new Error('Loading chunk ' + chunkId + ' failed.'));\n/******/ \t\t\t\tinstalledChunks[chunkId] = undefined;\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t\thead.appendChild(script);\n/******/\n/******/ \t\tvar promise = new Promise(function(resolve, reject) {\n/******/ \t\t\tinstalledChunks[chunkId] = [resolve, reject];\n/******/ \t\t});\n/******/ \t\treturn installedChunks[chunkId][2] = promise;\n/******/ \t};\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmory imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmory exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tObject.defineProperty(exports, name, {\n/******/ \t\t\tconfigurable: false,\n/******/ \t\t\tenumerable: true,\n/******/ \t\t\tget: getter\n/******/ \t\t});\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// on error function for async loading\n/******/ \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 30);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"./assets/62686b187fd2c272844211018653eb65.gif\";\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(setImmediate, clearImmediate) {var nextTick = __webpack_require__(20).nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3).setImmediate, __webpack_require__(3).clearImmediate))\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"./assets/a420530a664226b0ca151be3f8a1bb90.png\";\n\n/***/ },\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(14);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(2)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/less-loader/index.js!./theme.siberia.less\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/less-loader/index.js!./theme.siberia.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(15);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(2)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./flat.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./flat.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(setImmediate) {/*\r\n@license\r\nwebix UI v.4.0.0\r\nThis software is allowed to use under GPL or you need to obtain Commercial License \r\n to use it in non-GPL project. Please contact sales@webix.com for details\r\n*/\r\nif (!window.webix) \r\n\twebix={};\r\n\r\n//check some rule, show message as error if rule is not correct\r\nwebix.assert = function(test, message){\r\n\tif (!test){\r\n\t\twebix.assert_error(message);\r\n\t}\r\n};\r\n\r\nwebix.assert_config = function(obj){\r\n\tvar coll = obj.cells || obj.rows || obj.elements || obj.cols;\r\n\tif (coll)\r\n\t\tfor (var i=0; i<coll.length; i++)\r\n\t\t\tif (coll[i] === null || typeof coll[i] === \"undefined\")\r\n\t\t\t\twebix.assert_error(\"You have trailing comma or Null element in collection's configuration\");\r\n};\r\n\r\nwebix.assert_error = function(message){\r\n\t//jshint debug:true\r\n\twebix.log(\"error\",message);\r\n\tif (webix.message && typeof message == \"string\")\r\n\t\twebix.message({ type:\"debug\", text:message, expire:-1 });\r\n\tif (webix.debug !== false)\r\n\t\tdebugger;\r\n};\r\n\r\n//entry point for analitic scripts\r\nwebix.assert_core_ready = function(){\r\n\tif (window.webix_on_core_ready)\t\r\n\t\twindow.webix_on_core_ready();\r\n};\r\n\r\nwebix.assert_level = 0;\r\n\r\nwebix.assert_level_in = function(){\r\n\twebix.assert_level++;\r\n\tif (webix.assert_level == 100)\r\n\t\twebix.assert_error(\"Attempt to copy object with self reference\");\r\n};\r\nwebix.assert_level_out = function(){\r\n\twebix.assert_level--;\r\n};\r\n\r\n/*\r\n\tCommon helpers\r\n*/\r\nwebix.version=\"4.0.0\";\r\nwebix.codebase=\"./\";\r\nwebix.name = \"core\";\r\nwebix.cdn = \"//cdn.webix.com\";\r\n\r\n//coding helpers\r\nwebix.clone = function(source){\r\n\tvar f = webix.clone._function;\r\n\tf.prototype = source;\r\n\treturn new f();\r\n};\r\nwebix.clone._function = function(){};\r\n\r\n//copies methods and properties from source to the target\r\nwebix.extend = function(base, source, force){\r\n\twebix.assert(base,\"Invalid mixing target\");\r\n\twebix.assert(source,\"Invalid mixing source\");\r\n\r\n\tif (base.$protoWait){\r\n\t\twebix.PowerArray.insertAt.call(base.$protoWait, source,1);\r\n\t\treturn base;\r\n\t}\r\n\t\r\n\t//copy methods, overwrite existing ones in case of conflict\r\n\tfor (var method in source)\r\n\t\tif (!base[method] || force)\r\n\t\t\tbase[method] = source[method];\r\n\t\t\r\n\t//in case of defaults - preffer top one\r\n\tif (source.defaults)\r\n\t\twebix.extend(base.defaults, source.defaults);\r\n\t\r\n\t//if source object has init code - call init against target\r\n\tif (source.$init)\t\r\n\t\tsource.$init.call(base);\r\n\t\t\t\t\r\n\treturn base;\t\r\n};\r\n\r\n//copies methods and properties from source to the target from all levels\r\nwebix.copy = function(source){\r\n\twebix.assert(source,\"Invalid mixing target\");\r\n\twebix.assert_level_in();\r\n\r\n\tvar target;\r\n\tif(arguments.length>1){\r\n\t\ttarget = arguments[0];\r\n\t\tsource = arguments[1];\r\n\t} else \r\n\t\ttarget = (webix.isArray(source)?[]:{});\r\n\r\n\tfor (var method in source){\r\n\t\tvar from = source[method];\r\n\t\tif(from && typeof from == \"object\"){\r\n\t\t\tif (!webix.isDate(from)){\r\n\t\t\t\ttarget[method] = (webix.isArray(from)?[]:{});\r\n\t\t\t\twebix.copy(target[method],from);\r\n\t\t\t} else\r\n\t\t\t\ttarget[method] = new Date(from);\r\n\t\t} else {\r\n\t\t\ttarget[method] = from;\r\n\t\t}\r\n\t}\r\n\r\n\twebix.assert_level_out();\r\n\treturn target;\t\r\n};\r\n\r\nwebix.single = function(source){ \r\n\tvar instance = null;\r\n\tvar t = function(config){\r\n\t\tif (!instance)\r\n\t\t\tinstance = new source({});\r\n\t\t\t\r\n\t\tif (instance._reinit)\r\n\t\t\tinstance._reinit.apply(instance, arguments);\r\n\t\treturn instance;\r\n\t};\r\n\treturn t;\r\n};\r\n\r\nwebix.protoUI = function(){\r\n\tif (webix.debug_proto)\r\n\t\twebix.log(\"UI registered: \"+arguments[0].name);\r\n\t\t\r\n\tvar origins = arguments;\r\n\tvar selfname = origins[0].name;\r\n\t\r\n\tvar t = function(data){\r\n\t\tif (!t)\r\n\t\t\treturn webix.ui[selfname].prototype;\r\n\r\n\t\tvar origins = t.$protoWait;\r\n\t\tif (origins){\r\n\t\t\tvar params = [origins[0]];\r\n\t\t\t\r\n\t\t\tfor (var i=1; i < origins.length; i++){\r\n\t\t\t\tparams[i] = origins[i];\r\n\r\n\t\t\t\tif (params[i].$protoWait)\r\n\t\t\t\t\tparams[i] = params[i].call(webix, params[i].name);\r\n\r\n\t\t\t\tif (params[i].prototype && params[i].prototype.name)\r\n\t\t\t\t\twebix.ui[params[i].prototype.name] = params[i];\r\n\t\t\t}\r\n\t\t\twebix.ui[selfname] = webix.proto.apply(webix, params);\r\n\r\n\t\t\tif (t._webix_type_wait)\t\r\n\t\t\t\tfor (var i=0; i < t._webix_type_wait.length; i++)\r\n\t\t\t\t\twebix.type(webix.ui[selfname], t._webix_type_wait[i]);\r\n\t\t\t\t\r\n\t\t\tt = origins = null;\t\r\n\t\t}\r\n\t\t\t\r\n\t\tif (this != webix)\r\n\t\t\treturn new webix.ui[selfname](data);\r\n\t\telse \r\n\t\t\treturn webix.ui[selfname];\r\n\t};\r\n\tt.$protoWait = Array.prototype.slice.call(arguments, 0);\r\n\treturn (webix.ui[selfname]=t);\r\n};\r\n\r\nwebix.proto = function(){\r\n\t \r\n\tif (webix.debug_proto)\r\n\t\twebix.log(\"Proto chain:\"+arguments[0].name+\"[\"+arguments.length+\"]\");\r\n\r\n\tvar origins = arguments;\r\n\tvar compilation = origins[0];\r\n\tvar has_constructor = !!compilation.$init;\r\n\tvar construct = [];\r\n\t\r\n\twebix.assert(compilation,\"Invalid mixing target\");\r\n\t\t\r\n\tfor (var i=origins.length-1; i>0; i--) {\r\n\t\twebix.assert(origins[i],\"Invalid mixing source\");\r\n\t\tif (typeof origins[i]== \"function\")\r\n\t\t\torigins[i]=origins[i].prototype;\r\n\t\tif (origins[i].$init) \r\n\t\t\tconstruct.push(origins[i].$init);\r\n\t\tif (origins[i].defaults){ \r\n\t\t\tvar defaults = origins[i].defaults;\r\n\t\t\tif (!compilation.defaults)\r\n\t\t\t\tcompilation.defaults = {};\r\n\t\t\tfor (var def in defaults)\r\n\t\t\t\tif (webix.isUndefined(compilation.defaults[def]))\r\n\t\t\t\t\tcompilation.defaults[def] = defaults[def];\r\n\t\t}\r\n\t\tif (origins[i].type && compilation.type){\r\n\t\t\tfor (var def in origins[i].type)\r\n\t\t\t\tif (!compilation.type[def])\r\n\t\t\t\t\tcompilation.type[def] = origins[i].type[def];\r\n\t\t}\r\n\t\t\t\r\n\t\tfor (var key in origins[i]){\r\n\t\t\tif (!compilation[key] && compilation[key] !== false)\r\n\t\t\t\tcompilation[key] = origins[i][key];\r\n\t\t}\r\n\t}\r\n\t\r\n\tif (has_constructor)\r\n\t\tconstruct.push(compilation.$init);\r\n\t\r\n\t\r\n\tcompilation.$init = function(){\r\n\t\tfor (var i=0; i<construct.length; i++)\r\n\t\t\tconstruct[i].apply(this, arguments);\r\n\t};\r\n\tif (compilation.$skin)\r\n\t\tcompilation.$skin();\r\n\r\n\tvar result = function(config){\r\n\t\tthis.$ready=[];\r\n\t\twebix.assert(this.$init,\"object without init method\");\r\n\t\tthis.$init(config);\r\n\t\tif (this._parseSettings)\r\n\t\t\tthis._parseSettings(config, this.defaults);\r\n\t\tfor (var i=0; i < this.$ready.length; i++)\r\n\t\t\tthis.$ready[i].call(this);\r\n\t};\r\n\tresult.prototype = compilation;\r\n\t\r\n\tcompilation = origins = null;\r\n\treturn result;\r\n};\r\n//creates function with specified \"this\" pointer\r\nwebix.bind=function(functor, object){ \r\n\treturn function(){ return functor.apply(object,arguments); };  \r\n};\r\n\r\n//loads module from external js file\r\nwebix.require=function(module, callback, master){\r\n\tvar promise = webix.promise.defer();\r\n\r\n\tif (callback && callback !== true)\r\n\t\tpromise = promise.then(function(){ callback.call(master || this); });\r\n\r\n\tif (webix.require.disabled){\r\n\t\tpromise.resolve();\r\n\t\treturn promise;\r\n\t}\r\n\r\n\t//multiple files required at once\r\n\tif (typeof module != \"string\"){\r\n\t\tvar count = module.length||0;\r\n\t\t\r\n\t\tif (!count){\r\n\t\t\t// { file: true, other: true }\r\n\t\t\tfor (var file in module) count++;\r\n\t\t\tvar callback2 = function(){\r\n\t\t\t\tcount--;\r\n\t\t\t\tif (count === 0)\r\n\t\t\t\t\tpromise.resolve();\r\n\t\t\t};\r\n\t\t\tfor (var file in module)\r\n\t\t\t\twebix.require(file, callback2, master);\r\n\t\t} else {\r\n\t\t\t// [ file, other ]\r\n\t\t\tvar callback2 = function(){\r\n\t\t\t\tif (count){\r\n\t\t\t\t\tcount--;\r\n\t\t\t\t\twebix.require(module[module.length - count - 1], callback2, master);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpromise.resolve();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tcallback2();\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (webix._modules[module] !== true){\r\n\t\tvar fullpath = module;\r\n\t\tif (!module.toString().match(/^([a-z]+\\:)*\\/\\//i))\r\n\t\t\tfullpath = webix.codebase + module;\r\n\r\n\t\t//css, async, no waiting\r\n\t\tif (module.substr(module.length-4) == \".css\") {\r\n\t\t\tvar link = webix.html.create(\"LINK\",{  type:\"text/css\", rel:\"stylesheet\", href:fullpath});\r\n\t\t\tdocument.getElementsByTagName('head')[0].appendChild(link);\r\n\t\t\tpromise.resolve();\r\n\t\t\treturn promise;\r\n\t\t}\r\n\r\n\t\t//js, async, waiting\r\n\t\tif (callback === true){\r\n\t\t\t//sync mode\r\n\t\t\twebix.exec( webix.ajax().sync().get(fullpath).responseText );\r\n\t\t\twebix._modules[module]=true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif (!webix._modules[module]){\t//first call\r\n\t\t\t\twebix._modules[module] = [promise];\r\n\r\n\t\t\t\twebix.ajax(fullpath, function(text){\r\n\t\t\t\t\twebix.exec(text);\t//evaluate code\r\n\t\t\t\t\tvar calls = webix._modules[module];\t//callbacks\r\n\t\t\t\t\twebix._modules[module] = true;\r\n\t\t\t\t\tfor (var i=0; i<calls.length; i++)\r\n\t\t\t\t\t\tcalls[i].resolve();\r\n\t\t\t\t});\r\n\t\t\t} else\t//module already loading\r\n\t\t\t\twebix._modules[module].push(promise);\r\n\t\t}\r\n\t} else \r\n\t\tpromise.resolve();\r\n\r\n\treturn promise;\r\n};\r\nwebix._modules = {};\t//hash of already loaded modules\r\n\r\n//evaluate javascript code in the global scoope\r\nwebix.exec=function(code){\r\n\tif (window.execScript)\t//special handling for IE\r\n\t\twindow.execScript(code);\r\n\telse window.eval(code);\r\n};\r\n\r\nwebix.wrap = function(code, wrap){\r\n\tif (!code) return wrap;\r\n\treturn function(){\r\n\t\tvar result = code.apply(this, arguments);\r\n\t\twrap.apply(this,arguments);\r\n\t\treturn result;\r\n\t};\r\n};\r\n\r\n//check === undefined\r\nwebix.isUndefined=function(a){\r\n\treturn typeof a == \"undefined\";\r\n};\r\n//delay call to after-render time\r\nwebix.delay=function(method, obj, params, delay){\r\n\treturn window.setTimeout(function(){\r\n\t\tif(!(obj&&obj.$destructed)){\r\n\t\t\tvar ret = method.apply(obj,(params||[]));\r\n\t\t\tmethod = obj = params = null;\r\n\t\t\treturn ret;\r\n\t\t}\r\n\t},delay||1);\r\n};\r\n\r\nwebix.once=function(method){\r\n\tvar flag = true;\r\n\treturn function(){\r\n\t\tif (flag){\r\n\t\t\tflag = false;\r\n\t\t\tmethod.apply(this, arguments);\r\n\t\t}\r\n\t};\r\n};\r\n\r\n//common helpers\r\n\r\n//generates unique ID (unique per window, nog GUID)\r\nwebix.uid = function(){\r\n\tif (!this._seed) this._seed=(new Date()).valueOf();\t//init seed with timestemp\r\n\tthis._seed++;\r\n\treturn this._seed;\r\n};\r\n//resolve ID as html object\r\nwebix.toNode = function(node){\r\n\tif (typeof node == \"string\") return document.getElementById(node);\r\n\treturn node;\r\n};\r\n//adds extra methods for the array\r\nwebix.toArray = function(array){ \r\n\treturn webix.extend((array||[]),webix.PowerArray, true);\r\n};\r\n//resolve function name\r\nwebix.toFunctor=function(str, scope){ \r\n\tif (typeof(str)==\"string\"){\r\n\t\tvar method = str.replace(\"()\",\"\");\r\n\t\tif (scope && scope[method]) return scope[method];\r\n\t\treturn window[method] || eval(str);\r\n\t}\r\n\treturn str;\r\n};\r\n/*checks where an object is instance of Array*/\r\nwebix.isArray = function(obj) {\r\n\treturn Array.isArray?Array.isArray(obj):(Object.prototype.toString.call(obj) === '[object Array]');\r\n};\r\nwebix.isDate = function(obj){\r\n\treturn obj instanceof Date;\r\n};\r\n\r\n//dom helpers\r\n\r\n//hash of attached events\r\nwebix._events = {};\r\n//attach event to the DOM element\r\nwebix.event=function(node,event,handler,context){\r\n\tcontext = context || {};\r\n\tnode = webix.toNode(node);\r\n\twebix.assert(node, \"Invalid node as target for webix.event\");\r\n\t\r\n\tvar id = context.id || webix.uid();\r\n\tif(context.bind)\r\n\t\thandler=webix.bind(handler,context.bind);\r\n\t\r\n\t\t\r\n\twebix._events[id]=[node,event,handler];\t//store event info, for detaching\r\n\t\t\r\n\t//use IE's of FF's way of event's attaching\r\n\tif (node.addEventListener)\r\n\t\tnode.addEventListener(event, handler, !!context.capture);\r\n\telse if (node.attachEvent)\r\n\t\tnode.attachEvent(\"on\"+event, webix._events[id][2] = function(){\r\n\t\t\treturn handler.apply(node, arguments);\t//IE8 fix\r\n\t\t});\r\n\r\n\treturn id;\t//return id of newly created event, can be used in eventRemove\r\n};\r\n\r\n//remove previously attached event\r\nwebix.eventRemove=function(id){\r\n\t\r\n\tif (!id) return;\r\n\twebix.assert(this._events[id],\"Removing non-existing event\");\r\n\t\t\r\n\tvar ev = webix._events[id];\r\n\t//browser specific event removing\r\n\tif (ev[0].removeEventListener)\r\n\t\tev[0].removeEventListener(ev[1],ev[2],false);\r\n\telse if (ev[0].detachEvent)\r\n\t\tev[0].detachEvent(\"on\"+ev[1],ev[2]);\r\n\r\n\t\t\r\n\tdelete this._events[id];\t//delete all traces\r\n};\r\n\r\n\r\n//debugger helpers\r\n//anything starting from error or log will be removed during code compression\r\n\r\n//add message in the log\r\nwebix.log = function(type,message,details){\r\n\tif (arguments.length == 1){\r\n\t\tmessage = type;\r\n\t\ttype = \"log\";\r\n\t}\r\n\t/*jsl:ignore*/\r\n\tif (window.console && window.console.log){\r\n\t\ttype=type.toLowerCase();\r\n\t\tif (window.console[type])\r\n\t\t\twindow.console[type](message||\"unknown error\");\r\n\t\telse\r\n\t\t\twindow.console.log(type +\": \"+message);\r\n\r\n\t\tif (details) \r\n\t\t\twindow.console.log(details);\r\n\t}\t\r\n\t/*jsl:end*/\r\n};\r\n//register rendering time from call point \r\nwebix.log_full_time = function(name){\r\n\twebix._start_time_log = new Date();\r\n\twebix.log(\"Timing start [\"+name+\"]\");\r\n\twindow.setTimeout(function(){\r\n\t\tvar time = new Date();\r\n\t\twebix.log(\"Timing end [\"+name+\"]:\"+(time.valueOf()-webix._start_time_log.valueOf())/1000+\"s\");\r\n\t},1);\r\n};\r\n//register execution time from call point\r\nwebix.log_time = function(name){\r\n\tvar fname = \"_start_time_log\"+name;\r\n\tif (!webix[fname]){\r\n\t\twebix[fname] = new Date();\r\n\t\twebix.log(\"Info\",\"Timing start [\"+name+\"]\");\r\n\t} else {\r\n\t\tvar time = new Date();\r\n\t\twebix.log(\"Info\",\"Timing end [\"+name+\"]:\"+(time.valueOf()-webix[fname].valueOf())/1000+\"s\");\r\n\t\twebix[fname] = null;\r\n\t}\r\n};\r\nwebix.debug_code = function(code){\r\n\tcode.call(webix);\r\n};\r\n//event system\r\nwebix.EventSystem={\r\n\t$init:function(){\r\n\t\tif (!this._evs_events){\r\n\t\t\tthis._evs_events = {};\t\t//hash of event handlers, name => handler\r\n\t\t\tthis._evs_handlers = {};\t//hash of event handlers, ID => handler\r\n\t\t\tthis._evs_map = {};\r\n\t\t}\r\n\t},\r\n\t//temporary block event triggering\r\n\tblockEvent : function(){\r\n\t\tthis._evs_events._block = true;\r\n\t},\r\n\t//re-enable event triggering\r\n\tunblockEvent : function(){\r\n\t\tthis._evs_events._block = false;\r\n\t},\r\n\tmapEvent:function(map){\r\n\t\twebix.extend(this._evs_map, map, true);\r\n\t},\r\n\ton_setter:function(config){\r\n\t\tif(config){\r\n\t\t\tfor(var i in config){\r\n\t\t\t\tvar method = webix.toFunctor(config[i], this.$scope);\r\n\t\t\t\tvar sub = i.indexOf(\"->\");\r\n\t\t\t\tif (sub !== -1){\r\n\t\t\t\t\tthis[i.substr(0,sub)].attachEvent(i.substr(sub+2), webix.bind(method, this));\r\n\t\t\t\t} else\r\n\t\t\t\t\tthis.attachEvent(i, method);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t//trigger event\r\n\tcallEvent:function(type,params){\r\n\t\tif (this._evs_events._block) return true;\r\n\t\t\r\n\t\ttype = type.toLowerCase();\r\n\t\tvar event_stack =this._evs_events[type.toLowerCase()];\t//all events for provided name\r\n\t\tvar return_value = true;\r\n\r\n\t\tif (webix.log)\r\n\t\t\tif ((webix.debug || this.debug) && !webix.debug_blacklist[type])\t//can slowdown a lot\r\n\t\t\t\twebix.log(\"info\",\"[\"+this.name+\"@\"+((this._settings||{}).id)+\"] event:\"+type,params);\r\n\t\t\r\n\t\tif (event_stack)\r\n\t\t\tfor(var i=0; i<event_stack.length; i++){\r\n\t\t\t\t/*\r\n\t\t\t\t\tCall events one by one\r\n\t\t\t\t\tIf any event return false - result of whole event will be false\r\n\t\t\t\t\tHandlers which are not returning anything - counted as positive\r\n\t\t\t\t*/\r\n\t\t\t\tif (event_stack[i].apply(this,(params||[]))===false) return_value=false;\r\n\t\t\t}\r\n\t\tif (this._evs_map[type]){\r\n\t\t\tvar target = this._evs_map[type];\r\n\t\t\ttarget.$eventSource = this;\r\n\t\t\tif (!target.callEvent(type,params))\r\n\t\t\t\treturn_value =\tfalse;\r\n\t\t\ttarget.$eventSource = null;\r\n\t\t}\r\n\r\n\t\treturn return_value;\r\n\t},\r\n\t//assign handler for some named event\r\n\tattachEvent:function(type,functor,id){\r\n\t\twebix.assert(functor, \"Invalid event handler for \"+type);\r\n\r\n\t\ttype=type.toLowerCase();\r\n\t\t\r\n\t\tid=id||webix.uid(); //ID can be used for detachEvent\r\n\t\tfunctor = webix.toFunctor(functor, this.$scope);\t//functor can be a name of method\r\n\r\n\t\tvar event_stack=this._evs_events[type]||webix.toArray();\r\n\t\t//save new event handler\r\n\t\tif (arguments[3])\r\n\t\t\tevent_stack.unshift(functor);\r\n\t\telse\r\n\t\t\tevent_stack.push(functor);\r\n\t\tthis._evs_events[type]=event_stack;\r\n\t\tthis._evs_handlers[id]={ f:functor,t:type };\r\n\t\t\r\n\t\treturn id;\r\n\t},\r\n\t//remove event handler\r\n\tdetachEvent:function(id){\r\n\t\tif(!this._evs_handlers[id]){\r\n\t\t\tvar name = (id+\"\").toLowerCase();\r\n\t\t\tif (this._evs_events[name]){\r\n\t\t\t\tthis._evs_events[name] = webix.toArray();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar type=this._evs_handlers[id].t;\r\n\t\tvar functor=this._evs_handlers[id].f;\r\n\t\t\r\n\t\t//remove from all collections\r\n\t\tvar event_stack=this._evs_events[type];\r\n\t\tevent_stack.remove(functor);\r\n\t\tdelete this._evs_handlers[id];\r\n\t},\r\n\thasEvent:function(type){\r\n\t\ttype=type.toLowerCase();\r\n\t\tvar stack = this._evs_events[type];\r\n\t\treturn (stack && stack.length) ? true : false;\r\n\t}\r\n};\r\n\r\nwebix.extend(webix, webix.EventSystem, true);\r\n\r\n//array helper\r\n//can be used by webix.toArray()\r\nwebix.PowerArray={\r\n\t//remove element at specified position\r\n\tremoveAt:function(pos,len){\r\n\t\tif (pos>=0) this.splice(pos,(len||1));\r\n\t},\r\n\t//find element in collection and remove it \r\n\tremove:function(value){\r\n\t\tthis.removeAt(this.find(value));\r\n\t},\t\r\n\t//add element to collection at specific position\r\n\tinsertAt:function(data,pos){\r\n\t\tif (!pos && pos!==0)\t//add to the end by default\r\n\t\t\tthis.push(data);\r\n\t\telse {\t\r\n\t\t\tvar b = this.splice(pos,(this.length-pos));\r\n\t\t\tthis[pos] = data;\r\n\t\t\tthis.push.apply(this,b); //reconstruct array without loosing this pointer\r\n\t\t}\r\n\t},\r\n\t//return index of element, -1 if it doesn't exists\r\n\tfind:function(data){ \r\n\t\tfor (var i=0; i<this.length; i++) \r\n\t\t\tif (data==this[i]) return i;\r\n\t\treturn -1; \r\n\t},\r\n\t//execute some method for each element of array\r\n\teach:function(functor,master){\r\n\t\tfor (var i=0; i < this.length; i++)\r\n\t\t\tfunctor.call((master||this),this[i]);\r\n\t},\r\n\t//create new array from source, by using results of functor \r\n\tmap:function(functor,master){\r\n\t\tfor (var i=0; i < this.length; i++)\r\n\t\t\tthis[i]=functor.call((master||this),this[i]);\r\n\t\treturn this;\r\n\t}, \r\n\tfilter:function(functor, master){\r\n\t\tfor (var i=0; i < this.length; i++)\r\n\t\t\tif (!functor.call((master||this),this[i])){\r\n\t\t\t\tthis.splice(i,1);\r\n\t\t\t\ti--;\r\n\t\t\t}\r\n\t\treturn this;\r\n\t}\r\n};\r\n\r\nwebix.env = {};\r\n\r\n// webix.env.transform \r\n// webix.env.transition\r\n(function(){\r\n\twebix.env.strict = !!window.webix_strict;\r\n\twebix.env.https = document.location.protocol === \"https:\";\r\n\r\n\tif (navigator.userAgent.indexOf(\"Mobile\")!=-1 || navigator.userAgent.indexOf(\"Windows Phone\")!=-1)\r\n\t\twebix.env.mobile = true;\r\n\tif (webix.env.mobile || navigator.userAgent.indexOf(\"iPad\")!=-1 || navigator.userAgent.indexOf(\"Android\")!=-1)\r\n\t\twebix.env.touch = true;\r\n\tif (navigator.userAgent.indexOf('Opera')!=-1)\r\n\t\twebix.env.isOpera=true;\r\n\telse{\r\n\t\t//very rough detection, but it is enough for current goals\r\n\t\twebix.env.isIE=!!document.all || (navigator.userAgent.indexOf(\"Trident\") !== -1);\r\n\t\tif (webix.env.isIE){\r\n\t\t\tvar version = parseFloat(navigator.appVersion.split(\"MSIE\")[1]);\r\n\t\t\tif (version == 8)\r\n\t\t\t\twebix.env.isIE8 = true;\r\n\t\t}\r\n\t\twebix.env.isEdge=(navigator.userAgent.indexOf(\"Edge\")!=-1);\r\n\t\twebix.env.isFF=(navigator.userAgent.indexOf(\"Firefox\")!=-1);\r\n\t\twebix.env.isWebKit=(navigator.userAgent.indexOf(\"KHTML\")!=-1);\r\n\t\twebix.env.isSafari=webix.env.isWebKit && (navigator.userAgent.indexOf('Mac')!=-1);\r\n\t}\r\n\r\n\tif(navigator.userAgent.toLowerCase().indexOf(\"android\")!=-1){\r\n\t\twebix.env.isAndroid = true;\r\n\t\tif(navigator.userAgent.toLowerCase().indexOf(\"trident\")){\r\n\t\t\twebix.env.isAndroid = false;\r\n\t\t\twebix.env.isIEMobile = true;\r\n\t\t}\r\n\t}\r\n\r\n\twebix.env.transform = false;\r\n\twebix.env.transition = false;\r\n\r\n\tvar found_index = -1;\r\n\tvar js_list =  ['', 'webkit', 'Moz', 'O', 'ms'];\r\n\tvar css_list = ['', '-webkit-', '-Moz-', '-o-', '-ms-'];\r\n\r\n\t\r\n\tvar d = document.createElement(\"DIV\");\r\n\tfor (var j=0; j < js_list.length; j++) {\r\n\t\tvar name = js_list[j] ? (js_list[j]+\"Transform\") : \"transform\";\r\n\t\tif(typeof d.style[name] != 'undefined'){\r\n\t\t\tfound_index = j;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tif (found_index > -1){\r\n\t\twebix.env.cssPrefix = css_list[found_index];\r\n\t\tvar jp = webix.env.jsPrefix = js_list[found_index];\r\n\r\n\t\twebix.env.transform = jp ? jp+\"Transform\" : \"transform\";\r\n\t\twebix.env.transition = jp ? jp+\"Transition\" : \"transition\";\r\n\t\twebix.env.transitionDuration = jp ? jp+\"TransitionDuration\" : \"transitionDuration\";\r\n\r\n\t\td.style[webix.env.transform] = \"translate3d(0,0,0)\";\r\n\t\twebix.env.translate = (d.style[webix.env.transform])?\"translate3d\":\"translate\";\r\n\t\twebix.env.transitionEnd = ((webix.env.cssPrefix == '-Moz-')?\"transitionend\":(jp ? jp+\"TransitionEnd\" : \"transitionend\"));\r\n\t}\r\n\r\n\twebix.env.pointerevents = (!webix.env.isIE ||(new RegExp(\"Trident/.*rv:11\")).exec(navigator.userAgent) !== null);\r\n})();\r\n\r\n\r\nwebix.env.svg = (function(){\r\n\treturn document.implementation.hasFeature(\"http://www.w3.org/TR/SVG11/feature#BasicStructure\", \"1.1\");\r\n})();\r\n\r\n\r\n//html helpers\r\nwebix.html={\r\n\t_native_on_selectstart:0,\r\n\t_style_element:{},\r\n\tdenySelect:function(){\r\n\t\tif (!webix._native_on_selectstart)\r\n\t\t\twebix._native_on_selectstart = document.onselectstart;\r\n\t\tdocument.onselectstart = webix.html.stopEvent;\r\n\t},\r\n\tallowSelect:function(){\r\n\t\tif (webix._native_on_selectstart !== 0){\r\n\t\t\tdocument.onselectstart = webix._native_on_selectstart||null;\r\n\t\t}\r\n\t\twebix._native_on_selectstart = 0;\r\n\r\n\t},\r\n\tindex:function(node){\r\n\t\tvar k=0;\r\n\t\t//must be =, it is not a comparation!\r\n\t\twhile ((node = node.previousSibling)) k++;\r\n\t\treturn k;\r\n\t},\r\n\t_style_cache:{},\r\n\tcreateCss:function(rule, sufix){\r\n\t\tvar text = \"\";\r\n\t\t\tsufix = sufix || \"\";\r\n\r\n\t\tfor (var key in rule)\r\n\t\t\ttext+= key+\":\"+rule[key]+\";\";\r\n\t\t\r\n\t\tvar name = this._style_cache[text+sufix];\r\n\t\tif (!name){\r\n\t\t\tname = \"s\"+webix.uid();\r\n\t\t\tthis.addStyle(\".\"+name+(sufix||\"\")+\"{\"+text+\"}\");\r\n\t\t\tthis._style_cache[text+sufix] = name;\r\n\t\t}\r\n\t\treturn name;\r\n\t},\r\n\taddStyle:function(rule, group){\r\n\t\tvar style = group ? this._style_element[group] :this._style_element.default;\r\n\t\tif(!style){\r\n\t\t\tstyle = document.createElement(\"style\");\r\n\t\t\tstyle.setAttribute(\"type\", \"text/css\");\r\n\t\t\tstyle.setAttribute(\"media\", \"screen\");\r\n\t\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(style);\r\n\r\n\t\t\tif (group)\r\n\t\t\t\tthis._style_element[group] = style;\r\n\t\t\telse\r\n\t\t\t\tthis._style_element.default = style;\r\n\t\t}\r\n\t\t/*IE8*/\r\n\t\tif (style.styleSheet)\r\n\t\t\tstyle.styleSheet.cssText += rule;\r\n\t\telse\r\n\t\t\tstyle.appendChild(document.createTextNode(rule));\r\n\t},\r\n\tremoveStyle:function(group){\r\n\t\tvar box = this._style_element[group||\"default\"];\r\n\t\tif (box)\r\n\t\t\tbox.innerHTML = \"\";\r\n\t},\r\n\tcreate:function(name,attrs,html){\r\n\t\tattrs = attrs || {};\r\n\t\tvar node = document.createElement(name);\r\n\t\tfor (var attr_name in attrs)\r\n\t\t\tnode.setAttribute(attr_name, attrs[attr_name]);\r\n\t\tif (attrs.style)\r\n\t\t\tnode.style.cssText = attrs.style;\r\n\t\tif (attrs[\"class\"])\r\n\t\t\tnode.className = attrs[\"class\"];\r\n\t\tif (html)\r\n\t\t\tnode.innerHTML=html;\r\n\t\treturn node;\r\n\t},\r\n\t//return node value, different logic for different html elements\r\n\tgetValue:function(node){\r\n\t\tnode = webix.toNode(node);\r\n\t\tif (!node) return \"\";\r\n\t\treturn webix.isUndefined(node.value)?node.innerHTML:node.value;\r\n\t},\r\n\t//remove html node, can process an array of nodes at once\r\n\tremove:function(node){\r\n\t\tif (node instanceof Array)\r\n\t\t\tfor (var i=0; i < node.length; i++)\r\n\t\t\t\tthis.remove(node[i]);\r\n\t\telse if (node && node.parentNode)\r\n\t\t\tnode.parentNode.removeChild(node);\r\n\t},\r\n\t//insert new node before sibling, or at the end if sibling doesn't exist\r\n\tinsertBefore: function(node,before,rescue){\r\n\t\tif (!node) return;\r\n\t\tif (before && before.parentNode)\r\n\t\t\tbefore.parentNode.insertBefore(node, before);\r\n\t\telse\r\n\t\t\trescue.appendChild(node);\r\n\t},\r\n\t//return custom ID from html element \r\n\t//will check all parents starting from event's target\r\n\tlocate:function(e,id){\r\n\t\tvar trg;\r\n\t\tif (e.tagName)\r\n\t\t\ttrg = e;\r\n\t\telse {\r\n\t\t\te=e||event;\r\n\t\t\ttrg=e.target||e.srcElement;\r\n\t\t}\r\n\t\t\r\n\t\twhile (trg){\r\n\t\t\tif (trg.getAttribute){\t//text nodes has not getAttribute\r\n\t\t\t\tvar test = trg.getAttribute(id);\r\n\t\t\t\tif (test) return test;\r\n\t\t\t}\r\n\t\t\ttrg=trg.parentNode;\r\n\t\t}\t\r\n\t\treturn null;\r\n\t},\r\n\t//returns position of html element on the page\r\n\toffset:function(elem) {\r\n\t\tif (elem.getBoundingClientRect) { //HTML5 method\r\n\t\t\tvar box = elem.getBoundingClientRect();\r\n\t\t\tvar body = document.body;\r\n\t\t\tvar docElem = document.documentElement;\r\n\t\t\tvar scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\r\n\t\t\tvar scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\r\n\t\t\tvar clientTop = docElem.clientTop || body.clientTop || 0;\r\n\t\t\tvar clientLeft = docElem.clientLeft || body.clientLeft || 0;\r\n\t\t\tvar top  = box.top +  scrollTop - clientTop;\r\n\t\t\tvar left = box.left + scrollLeft - clientLeft;\r\n\t\t\treturn { y: Math.round(top), x: Math.round(left), width:elem.offsetWidth, height:elem.offsetHeight };\r\n\t\t} else { //fallback to naive approach\r\n\t\t\tvar top=0, left=0;\r\n\t\t\twhile(elem) {\r\n\t\t\t\ttop = top + parseInt(elem.offsetTop,10);\r\n\t\t\t\tleft = left + parseInt(elem.offsetLeft,10);\r\n\t\t\t\telem = elem.offsetParent;\r\n\t\t\t}\r\n\t\t\treturn { y: top, x: left, width:elem.offsetHeight, height:elem.offsetWidth };\r\n\t\t}\r\n\t},\r\n\t//returns relative position of event\r\n\tposRelative:function(ev){\r\n\t\tev = ev || event;\r\n\t\tif (!webix.isUndefined(ev.offsetX))\r\n\t\t\treturn { x:ev.offsetX, y:ev.offsetY };\t//ie, webkit\r\n\t\telse\r\n\t\t\treturn { x:ev.layerX, y:ev.layerY };\t//firefox\r\n\t},\r\n\t//returns position of event\r\n\tpos:function(ev){\r\n\t\tev = ev || event;\r\n\t\tif (ev.touches && ev.touches[0])\r\n\t\t\tev = ev.touches[0];\r\n\r\n\t\tif(ev.pageX || ev.pageY)\t//FF, KHTML\r\n\t\t\treturn {x:ev.pageX, y:ev.pageY};\r\n\t\t//IE\r\n\t\tvar d  =  ((webix.env.isIE)&&(document.compatMode != \"BackCompat\"))?document.documentElement:document.body;\r\n\t\treturn {\r\n\t\t\tx:ev.clientX + d.scrollLeft - d.clientLeft,\r\n\t\t\ty:ev.clientY + d.scrollTop  - d.clientTop\r\n\t\t};\r\n\t},\r\n\t//prevent event action\r\n\tpreventEvent:function(e){\r\n\t\tif(e && e.preventDefault) e.preventDefault();\r\n\t\tif(e) e.returnValue = false;\r\n\t\treturn webix.html.stopEvent(e);\r\n\t},\r\n\t//stop event bubbling\r\n\tstopEvent:function(e){\r\n\t\te = (e||event);\r\n\t\tif(e.stopPropagation) e.stopPropagation();\r\n\t\te.cancelBubble=true;\r\n\t\treturn false;\r\n\t},\r\n\ttriggerEvent:function(node, type, name){\r\n\t\tif(document.createEventObject){\r\n\t\t\tvar ev = document.createEventObject();\r\n\t\t\tif (node.fireEvent)\r\n\t\t\t\tnode.fireEvent(\"on\"+name, ev);\r\n\t\t} else{\r\n\t\t\tvar ev = document.createEvent(type);\r\n\t\t\tev.initEvent(name, true, true);\r\n\t\t\tif (node.dispatchEvent)\r\n\t\t\t\tnode.dispatchEvent(ev);\r\n\t\t}\r\n\t},\r\n\t//add css class to the node\r\n\taddCss:function(node,name,check){\r\n\t\tif (!check || node.className.indexOf(name) === -1)\r\n\t\t\tnode.className+=\" \"+name;\r\n\t},\r\n\t//remove css class from the node\r\n\tremoveCss:function(node,name){\r\n\t\tnode.className=node.className.replace(RegExp(\" \"+name,\"g\"),\"\");\r\n\t},\r\n\tgetTextSize:function(text, css){\r\n\t\tvar d = webix.html.create(\"DIV\",{\"class\":\"webix_view webix_measure_size \"+(css||\"\")},\"\");\r\n\t\td.style.cssText = \"width:1px; height:1px; visibility:hidden; position:absolute; top:0px; left:0px; overflow:hidden; white-space:nowrap;\";\r\n\t\tdocument.body.appendChild(d);\r\n\r\n\t\tvar all = (typeof text !==  \"object\") ? [text] : text;\r\n\t\tvar width = 0;\r\n\t\tvar height = 0;\r\n\r\n\t\tfor (var i = 0; i < all.length; i++) {\r\n\t\t\td.innerHTML = all[i];\r\n\t\t\twidth = Math.max(width, d.scrollWidth);\r\n\t\t\theight = Math.max(height, d.scrollHeight);\r\n\t\t}\r\n\t\t\r\n\t\twebix.html.remove(d);\r\n\t\treturn { width:width, height:height };\r\n\t},\r\n\tdownload:function(data, filename){\r\n\t\tvar objUrl = false;\r\n\r\n\t\tif(typeof data ==\"object\"){//blob\r\n\t\t\tif(window.navigator.msSaveBlob)\r\n\t\t\t\treturn window.navigator.msSaveBlob(data, filename);\r\n\t\t\telse if (webix.env.isSafari){\r\n\t\t\t\tvar reader = new FileReader();\r\n\t\t\t\treader.onloadend = function() {\r\n\t\t\t\t\tvar base64Data = reader.result;\r\n\t\t\t\t\twebix.html.download(\"data:attachment/file\" + base64Data.slice(base64Data.search(/[,;]/)), filename);\r\n\t\t\t\t};\r\n\t\t\t\treader.readAsDataURL(data);\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tdata = window.URL.createObjectURL(data);\r\n\t\t\t\tobjUrl = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t//data url or blob url\r\n\t\tvar link = document.createElement(\"a\");\r\n\t\tlink.href = data;\r\n\t\tlink.download = filename;\r\n\t\tdocument.body.appendChild(link);\r\n\t\tlink.click(); \r\n\r\n\t\twebix.delay(function(){\r\n\t\t\tif(objUrl) window.URL.revokeObjectURL(data);\r\n\t\t\tdocument.body.removeChild(link);\r\n\t\t\tlink.remove();\r\n\t\t});\r\n\t},\r\n\t_getClassName: function(node){\r\n\t\tif(!node) return \"\";\r\n\r\n\t\tvar className = node.className || \"\";\r\n\t\tif(className.baseVal)//'className' exist but not a string - IE svg element in DOM\r\n\t\t\tclassName = className.baseVal;\r\n\r\n\t\tif(!className.indexOf)\r\n\t\t\tclassName = \"\";\r\n\r\n\t\treturn className;\r\n\t},\r\n\tsetSelectionRange:function(node, start, end){\r\n\t\tstart = start || 0;\r\n\t\tend  = end || start;\r\n\r\n\t\tnode.focus();\r\n\t\tif(node.setSelectionRange)\r\n\t\t\tnode.setSelectionRange(start, end);\r\n\t\telse{\r\n\t\t\t//ie8\r\n\t\t\tvar textRange = node.createTextRange();\r\n\t\t\ttextRange.collapse(true);\r\n\t\t\ttextRange.moveEnd('character', end);\r\n\t\t\ttextRange.moveStart('character', start);\r\n\t\t\ttextRange.select();\r\n\t\t}\r\n\t},\r\n\tgetSelectionRange:function(node){\r\n\t\tif(\"selectionStart\" in node)\r\n\t\t\treturn {start:node.selectionStart || 0, end:node.selectionEnd || 0};\r\n\t\telse{\r\n\t\t\t//ie8\r\n\t\t\tnode.focus();\r\n\t\t\tvar selection = document.selection.createRange();\r\n\t\t\tvar bookmark = selection.getBookmark();\r\n\t\t\tvar textRange = node.createTextRange();\r\n \r\n\t\t\ttextRange.moveToBookmark(bookmark);\r\n\t\t\tvar length = textRange.text.length;\r\n\t\t\t\r\n\t\t\ttextRange.collapse(true);\r\n\t\t\ttextRange.moveStart('character', -node.value.length);\r\n  \r\n\t\t\tvar start = textRange.text.length;\r\n\t\t\treturn {start:start, end: start + length};\r\n\t\t}\r\n\t}\r\n};\r\n\r\nwebix.ready = function(code){\r\n\tif (this._ready) code.call();\r\n\telse this._ready_code.push(code);\r\n};\r\nwebix.debug_ready = webix.ready; //same command but will work only in dev. build\r\nwebix._ready_code = [];\r\n\r\n//autodetect codebase folder\r\n(function(){\r\n\tvar temp = document.getElementsByTagName(\"SCRIPT\");\t//current script, most probably\r\n\twebix.assert(temp.length,\"Can't locate codebase\");\r\n\tif (temp.length){\r\n\t\t//full path to script\r\n\t\ttemp = (temp[temp.length-1].getAttribute(\"src\")||\"\").split(\"/\");\r\n\t\t//get folder name\r\n\t\ttemp.splice(temp.length-1, 1);\r\n\t\twebix.codebase = temp.slice(0, temp.length).join(\"/\")+\"/\";\r\n\t}\r\n\r\n\tvar ready = function(){\r\n\t\tif(webix.env.isIE)\r\n\t\t\tdocument.body.className += \" webix_ie\";\r\n\t\twebix.callEvent(\"onReady\",[]);\r\n\t};\r\n\r\n\tvar doit = function(){\r\n\t\twebix._ready = true;\r\n\r\n\t\t//global plugins\r\n\t\tif (window.webix_ready && webix.isArray(webix_ready))\r\n\t\t\twebix._ready_code = webix_ready.concat(webix._ready_code);\r\n\r\n\t\tfor (var i=0; i < webix._ready_code.length; i++)\r\n\t\t\twebix._ready_code[i].call();\r\n\t\twebix._ready_code=[];\r\n\t};\r\n\r\n\twebix.attachEvent(\"onReady\", function(force){\r\n\t\tif (force) \r\n\t\t\tdoit();\r\n\t\telse \r\n\t\t\twebix.delay(doit);\r\n\t});\r\n\r\n\tif (document.readyState == \"complete\") ready();\r\n\telse webix.event(window, \"load\", ready);\r\n\t\r\n})();\r\n\r\nwebix.locale=webix.locale||{};\r\n\r\n\r\nwebix.assert_core_ready();\r\n\r\n\r\nwebix.ready(function(){\r\n\twebix.event(document.body,\"click\", function(e){\r\n\t\twebix.callEvent(\"onClick\",[e||event]);\r\n\t});\r\n});\r\nwebix.editStop = function(){\r\n\twebix.callEvent(\"onEditEnd\", []);\r\n};\r\n\r\n\r\nwebix.debug_blacklist={\r\n\tonmousemoving:1\r\n};\r\n/**\r\n\r\nBazed on Promiz - A fast Promises/A+ library \r\nhttps://github.com/Zolmeister/promiz\r\n\r\nThe MIT License (MIT)\r\n\r\nCopyright (c) 2014 Zolmeister\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy of\r\nthis software and associated documentation files (the \"Software\"), to deal in\r\nthe Software without restriction, including without limitation the rights to\r\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\r\nthe Software, and to permit persons to whom the Software is furnished to do so,\r\nsubject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in all\r\ncopies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\r\nFOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\r\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\r\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\r\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n*/\r\n\r\n/* jshint ignore:start */\r\n(function (self) {\r\n  var now = typeof setImmediate !== 'undefined' ? setImmediate : function(cb) {\r\n    setTimeout(cb, 0)\r\n  }\r\n  \r\n  /**\r\n   * @constructor\r\n   */\r\n  function promise(fn, er) {\r\n    var self = this\r\n\r\n    self.promise = self\r\n    self.state = 'pending'\r\n    self.val = null\r\n    self.fn = fn || null\r\n    self.er = er || null\r\n    self.next = [];\r\n  }\r\n\r\n  promise.prototype.resolve = function (v) {\r\n    var self = this\r\n    if (self.state === 'pending') {\r\n      self.val = v\r\n      self.state = 'resolving'\r\n\r\n      now(function () {\r\n        self.fire()\r\n      })\r\n    }\r\n  }\r\n\r\n  promise.prototype.reject = function (v) {\r\n    var self = this\r\n    if (self.state === 'pending') {\r\n      self.val = v\r\n      self.state = 'rejecting'\r\n\r\n      now(function () {\r\n        self.fire()\r\n      })\r\n    }\r\n  }\r\n\r\n  promise.prototype.then = function (fn, er) {\r\n    var self = this\r\n    var p = new promise(fn, er)\r\n    self.next.push(p)\r\n    if (self.state === 'resolved') {\r\n      p.resolve(self.val)\r\n    }\r\n    if (self.state === 'rejected') {\r\n      p.reject(self.val)\r\n    }\r\n    return p\r\n  }\r\n  promise.prototype.fail = function (er) {\r\n    return this.then(null, er)\r\n  }\r\n  promise.prototype.finish = function (type) {\r\n    var self = this\r\n    self.state = type\r\n\r\n    if (self.state === 'resolved') {\r\n      for (var i = 0; i < self.next.length; i++)\r\n        self.next[i].resolve(self.val);\r\n    }\r\n\r\n    if (self.state === 'rejected') {\r\n      for (var i = 0; i < self.next.length; i++)\r\n        self.next[i].reject(self.val);\r\n\r\n      if (webix.assert && !self.next.length)\r\n        throw(self.val);\r\n    }\r\n  }\r\n\r\n  // ref : reference to 'then' function\r\n  // cb, ec, cn : successCallback, failureCallback, notThennableCallback\r\n  promise.prototype.thennable = function (ref, cb, ec, cn, val) {\r\n    var self = this\r\n    val = val || self.val\r\n    if (typeof val === 'object' && typeof ref === 'function') {\r\n      try {\r\n        // cnt protects against abuse calls from spec checker\r\n        var cnt = 0\r\n        ref.call(val, function(v) {\r\n          if (cnt++ !== 0) return\r\n          cb(v)\r\n        }, function (v) {\r\n          if (cnt++ !== 0) return\r\n          ec(v)\r\n        })\r\n      } catch (e) {\r\n        ec(e)\r\n      }\r\n    } else {\r\n      cn(val)\r\n    }\r\n  }\r\n\r\n  promise.prototype.fire = function () {\r\n    var self = this\r\n    // check if it's a thenable\r\n    var ref;\r\n    try {\r\n      ref = self.val && self.val.then\r\n    } catch (e) {\r\n      self.val = e\r\n      self.state = 'rejecting'\r\n      return self.fire()\r\n    }\r\n\r\n    self.thennable(ref, function (v) {\r\n      self.val = v\r\n      self.state = 'resolving'\r\n      self.fire()\r\n    }, function (v) {\r\n      self.val = v\r\n      self.state = 'rejecting'\r\n      self.fire()\r\n    }, function (v) {\r\n      self.val = v\r\n      \r\n      if (self.state === 'resolving' && typeof self.fn === 'function') {\r\n        try {\r\n          self.val = self.fn.call(undefined, self.val)\r\n        } catch (e) {\r\n          self.val = e\r\n          return self.finish('rejected')\r\n        }\r\n      }\r\n\r\n      if (self.state === 'rejecting' && typeof self.er === 'function') {\r\n        try {\r\n          self.val = self.er.call(undefined, self.val)\r\n          self.state = 'resolving'\r\n        } catch (e) {\r\n          self.val = e\r\n          return self.finish('rejected')\r\n        }\r\n      }\r\n\r\n      if (self.val === self) {\r\n        self.val = TypeError()\r\n        return self.finish('rejected')\r\n      }\r\n\r\n      self.thennable(ref, function (v) {\r\n        self.val = v\r\n        self.finish('resolved')\r\n      }, function (v) {\r\n        self.val = v\r\n        self.finish('rejected')\r\n      }, function (v) {\r\n        self.val = v\r\n        self.state === 'resolving' ? self.finish('resolved') : self.finish('rejected')\r\n      })\r\n\r\n    })\r\n  }\r\n\r\n  promise.prototype.done = function () {\r\n    if (this.state = 'rejected' && !this.next) {\r\n      throw this.val\r\n    }\r\n    return null\r\n  }\r\n\r\n  promise.prototype.nodeify = function (cb) {\r\n    if (typeof cb === 'function') return this.then(function (val) {\r\n        try {\r\n          cb(null, val)\r\n        } catch (e) {\r\n          setImmediate(function () {\r\n            throw e\r\n          })\r\n        }\r\n\r\n        return val\r\n      }, function (val) {\r\n        try {\r\n          cb(val)\r\n        } catch (e) {\r\n          setImmediate(function () {\r\n            throw e\r\n          })\r\n        }\r\n\r\n        return val\r\n      })\r\n\r\n    return this\r\n  }\r\n\r\n  promise.prototype.spread = function (fn, er) {\r\n    return this.all().then(function (list) {\r\n      return typeof fn === 'function' && fn.apply(null, list)\r\n    }, er)\r\n  }\r\n  \r\n  promise.prototype.all = function() {\r\n    var self = this\r\n    return this.then(function(list){\r\n      var p = new promise()\r\n      if(!(list instanceof Array)) {\r\n        p.reject(TypeError)\r\n        return p\r\n      }\r\n      \r\n      var cnt = 0\r\n      var target = list.length\r\n      \r\n      function done() {\r\n        if (++cnt === target) p.resolve(list)\r\n      }\r\n      \r\n      for(var i=0, l=list.length; i<l; i++) {\r\n        var value = list[i]\r\n        var ref;\r\n        \r\n        try {\r\n          ref = value && value.then\r\n        } catch (e) {\r\n          p.reject(e)\r\n          break\r\n        }\r\n        \r\n        (function(i){\r\n          self.thennable(ref, function(val){\r\n            list[i] = val\r\n            done()\r\n          }, function(val){\r\n            list[i] = val\r\n            done()\r\n          }, function(){\r\n            done()\r\n          }, value)\r\n        })(i)\r\n      }\r\n\r\n      return p\r\n    })\r\n  }\r\n\r\n  // self object gets globalalized/exported\r\n  var promiz = {\r\n\r\n    all:function(list){\r\n      var p = new promise(null, null);\r\n      p.resolve(list);\r\n      return p.all();\r\n    },\r\n    // promise factory\r\n    defer: function () {\r\n      return new promise(null, null)\r\n    },\r\n\r\n    // calls a function and resolved as a promise\r\n    fcall: function() {\r\n      var def = new promise()\r\n      var args = Array.apply([], arguments)\r\n      var fn = args.shift()\r\n      try {\r\n        var val = fn.apply(null, args)\r\n        def.resolve(val)\r\n      } catch(e) {\r\n        def.reject(e)\r\n      }\r\n\r\n      return def\r\n    },\r\n\r\n    // calls a node-style function (eg. expects callback as function(err, callback))\r\n    nfcall: function() {\r\n      var def = new promise()\r\n      var args = Array.apply([], arguments)\r\n      var fn = args.shift()\r\n      try {\r\n\r\n        // Add our custom promise callback to the end of the arguments\r\n        args.push(function(err, val){\r\n          if(err) {\r\n            return def.reject(err)\r\n          }\r\n          return def.resolve(val)\r\n        })\r\n        fn.apply(null, args)\r\n      } catch (e) {\r\n        def.reject(e)\r\n      }\r\n\r\n      return def\r\n    }\r\n  }\r\n  \r\n  self.promise = promiz\r\n})(webix);\r\n/* jshint ignore:end */\r\n\r\n(function(){\r\n\r\nvar error_key = \"__webix_remote_error\";\r\n\r\nfunction RemoteContext(url, config){\r\n\tthis._proxy = {};\r\n\tthis._queue = [];\r\n\tthis._url = url;\r\n\tthis._key = \"\";\r\n\r\n\tif (config)\r\n\t\tthis._process(config);\r\n\telse\r\n\t\tthis._ready = webix.ajax(url)\r\n\t\t\t.then(function(data){\r\n\t\t\t\treturn data.text();\r\n\t\t\t})\r\n\t\t\t.then(webix.bind(function(text){\r\n\t\t\t\ttext = text.split(\"/*api*/\")[1];\r\n\t\t\t\tthis._process(JSON.parse(text));\r\n\t\t\t\treturn this._proxy;\r\n\t\t\t}, this));\r\n}\r\nRemoteContext.prototype = {\r\n\t_process:function(config){\r\n\t\tif (config.$key)\r\n\t\t\tthis._key = config.$key;\r\n\t\tif (config.$vars)\r\n\t\t\tfor (var key in config.$vars)\r\n\t\t\t\tthis._proxy[key] = config.$vars[key];\r\n\r\n\t\tthis._parse(config, this._proxy, \"\");\r\n\t},\r\n\t_parse:function(api, obj, prefix){\r\n\t\tfor (var key in api){\r\n\t\t\tif (key === \"$key\" || key === \"$vars\") continue;\r\n\t\t\tvar val = api[key];\r\n\t\t\tif (typeof val == \"object\"){\r\n\t\t\t\tvar sub = obj[key] = {};\r\n\t\t\t\tthis._parse(val, sub, prefix+key+\".\");\r\n\t\t\t} else\r\n\t\t\t\tobj[key] = this._proxy_call(this, prefix+key);\r\n\t\t}\r\n\t},\r\n\t_call:function(name, args){\r\n\t\tvar def = this._deffer(this, name, args);\r\n\t\tthis._queue.push(def);\r\n\t\tthis._start_queue();\r\n\t\treturn def;\r\n\t},\r\n\t_start_queue:function(){\r\n\t\tif (!this._timer)\r\n\t\t\tthis._timer = setTimeout(webix.bind(this._run_queue, this), 1);\r\n\t},\r\n\t_run_queue:function(){\r\n\t\tvar data = [], defs = this._queue;\r\n\t\tfor (var i=0; i<this._queue.length; i++){\r\n\t\t\tvar def = this._queue[i];\r\n\t\t\tif (def.$sync){\r\n\t\t\t\tdefs.splice(i,1); i--;\r\n\t\t\t} else\r\n\t\t\t\tdata.push({ name: def.$name, args: def.$args });\t\r\n\t\t}\r\n\r\n\t\tif (defs.length){\r\n\t\t\tvar ajax = webix.ajax();\r\n\t\t\tvar pack = this._pack(data);\r\n\t\t\twebix.callEvent(\"onBeforeRemoteCall\", [ajax, pack, {}]);\r\n\t\t\tvar promise = ajax.post(this._url, pack)\r\n\t\t\t\t.then(function(res){\r\n\t\t\t\t\tvar data = res.json();\r\n\t\t\t\t\tvar results = data.data;\r\n\t\t\t\t\tfor (var i=0; i<results.length; i++){\r\n\t\t\t\t\t\tvar res = results[i];\r\n\t\t\t\t\t\tvar error = results[i] && results[i][error_key];\r\n\t\t\t\t\t\tif (error){\r\n\t\t\t\t\t\t\twebix.callEvent(\"onRemoteError\", [error]);\r\n\t\t\t\t\t\t\tdefs[i].reject(error);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tdefs[i].resolve(res);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\t\t\r\n\t\t\t\t}, function(res){\r\n\t\t\t\t\tfor (var i=0; i<defs.length; i++)\r\n\t\t\t\t\t\tdefs[i].reject(res);\r\n\t\t\t\t\tthrow res;\r\n\t\t\t\t});\r\n\t\t\twebix.callEvent(\"onAfterRemoteCall\", [promise]);\r\n\t\t}\r\n\r\n\t\tthis._queue = [];\r\n\t\tthis._timer = null;\r\n\t},\r\n\t_sync:function(){\r\n\t\tvar value = null;\r\n\t\tthis.$sync = true;\r\n\t\tvar data = [{ name: this.$name, args: this.$args }];\r\n\r\n\t\ttry {\r\n\t\t\tvar ajax = webix.ajax();\r\n\t\t\tvar pack = this.$context._pack(data);\r\n\t\t\twebix.callEvent(\"onBeforeRemoteCall\", [ajax, pack, { sync: true }]);\r\n\t\t\tvar xhr = ajax.sync().post(this.$context._url, pack);\r\n\t\t\twebix.callEvent(\"onAfterRemoteCall\", [null]);\r\n\t\t\tvar value = JSON.parse(xhr.responseText).data[0];\r\n\t\t\tif (value[error_key])\r\n\t\t\t\tvalue = null;\r\n\t\t} catch(e){}\r\n\r\n\t\treturn value;\r\n\t},\r\n\t_deffer:function(master, name, args){\r\n\t\tvar pr = webix.promise.defer();\r\n\t\tpr.sync = master._sync;\r\n\t\tpr.$name = name;\r\n\t\tpr.$args = args;\r\n\t\tpr.$context = this;\r\n\r\n\t\treturn pr;\r\n\t},\r\n\t_proxy_call:function(master, name){\r\n\t\treturn function(){\r\n\t\t\treturn master._call(name, [].slice.call(arguments));\r\n\t\t};\r\n\t},\r\n\t_getProxy:function(){\r\n\t\treturn this._ready || this._proxy;\r\n\t},\r\n\t_pack:function(obj){\r\n\t\treturn {\r\n\t\t\tkey: this._key,\r\n\t\t\tpayload:obj\r\n\t\t};\r\n\t}\r\n};\r\n\r\nfunction getApi(url, config){\r\n\tvar ctx = new RemoteContext(url, config);\r\n\treturn ctx._getProxy();\r\n}\r\n\r\nwebix.remote = function(url, config){\r\n\tif (typeof url === \"object\"){\r\n\t\tvar scripts = document.getElementsByTagName(\"script\");\r\n\t\tconfig = url;\r\n\t\turl = scripts[scripts.length - 1].src;\r\n\t\twebix.remote = getApi(url, config);\r\n\t} else \r\n\t\treturn getApi(url, config);\r\n};\r\n\r\n\r\n})();\r\n\r\n/*\r\n\tUI:DataView\r\n*/\r\n\r\n\r\nwebix.skin={};\r\n\r\nwebix.skin.air = {\r\n\ttopLayout:\"wide\",\r\n\t//bar in accordion\r\n\tbarHeight:34,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight: 36,\r\n\trowHeight:34,\r\n\ttoolbarHeight:22,\r\n\tlistItemHeight:28,\t\t//list, grouplist, dataview, etc.\r\n\tinputHeight:34,\r\n\tinputPadding: 2,\r\n\tmenuHeight: 34,\r\n\tmenuMargin:0,\r\n\tlabelTopHeight: 16,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:10, wide:4, clean:0, head:4, line:-1, toolbar:4, form:8  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:10, wide:0, clean:0, head:0, line:0, toolbar:4, form:8  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:0,\r\n\r\n\tcalendarHeight: 70,\r\n\tpadding:0,\r\n\r\n\toptionHeight: 27\r\n};\r\nwebix.skin[\"aircompact\"] = {\r\n\ttopLayout:\"wide\",\r\n\t//bar in accordion\r\n\tbarHeight:24,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight: 26,\r\n\trowHeight:26,\r\n\ttoolbarHeight:22,\r\n\tlistItemHeight:28,\t\t//list, grouplist, dataview, etc. \r\n\tinputHeight:29,\r\n\tinputPadding: 2,\r\n\tmenuHeight: 25,\r\n\tmenuMargin:0,\r\n\tlabelTopHeight: 16,\r\n\t\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:10, wide:4, clean:0, head:4, line:-1, toolbar:4, form:8  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:10, wide:0, clean:0, head:0, line:0, toolbar:4, form:8  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:0,\r\n\r\n\tcalendarHeight: 70,\r\n\tpadding:0,\r\n\r\n\toptionHeight: 23\r\n};\r\n\r\nwebix.skin.web = {\r\n\tname:\"web\",\r\n\ttopLayout:\"space\",\r\n\t//bar in accordion\r\n\tbarHeight:28,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight: 30,\r\n\trowHeight:30,\r\n\ttoolbarHeight:22,\r\n\tlistItemHeight:28,\t\t//list, grouplist, dataview, etc. \r\n\tinputHeight:28,\r\n\tinputPadding: 2,\r\n\tmenuMargin: 0,\r\n\tmenuHeight: 27,\r\n\tlabelTopHeight: 16,\r\n\t//accordionMargin: 9,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:10, wide:4, clean:0, head:4, line:-1, toolbar:4, form:8, accordion: 9  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:10, wide:0, clean:0, head:0, line:0, toolbar:4, form:8, accordion:0  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:3,\r\n\ttabTopOffset:3,\r\n\r\n\tcalendarHeight: 70,\r\n\tpadding:0,\r\n\r\n\toptionHeight: 22\r\n};\r\nwebix.skin.clouds = {\r\n\ttopLayout:\"wide\",\r\n\t//bar in accordion\r\n\tbarHeight:36,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight: 46,\r\n\trowHeight:34,\r\n\ttoolbarHeight:22,\r\n\tlistItemHeight:32,\t\t//list, grouplist, dataview, etc.\r\n\tinputHeight:30,\r\n\tinputPadding: 2,\r\n\tmenuHeight: 34,\r\n\tlabelTopHeight: 16,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:10, wide:4, clean:0, head:4, line:-1, toolbar:4, form:8  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:10, wide:0, clean:0, head:0, line:0, toolbar:4, form:8  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:2,\r\n\ttabOffset:0,\r\n\ttabBottomOffset: 10,\r\n\r\n\r\n\tcalendarHeight: 70,\r\n\tpadding:0\r\n};\r\nwebix.skin.terrace = {\r\n\ttopLayout:\"space\",\r\n\t//bar in accordion\r\n\tbarHeight:37,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight: 39,\r\n\trowHeight:38,\r\n\ttoolbarHeight:22,\r\n\tlistItemHeight:28,\t\t//list, grouplist, dataview, etc.\r\n\tinputHeight:30,\r\n\tinputPadding: 2,\r\n\tmenuMargin: 0,\r\n\tmenuHeight: 32,\r\n\tlabelTopHeight: 16,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:20, wide:20, clean:0, head:4, line:-1, toolbar:4, form:8},\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:20, wide:0, clean:0, head:0, line:0, toolbar:4, form:8 },\r\n\ttabMargin:2,\r\n\ttabOffset:0,\r\n\r\n\r\n\tcalendarHeight: 70,\r\n\t//space between tabs in tabbar\r\n\tpadding:17,\r\n\r\n\toptionHeight: 24\r\n};\r\nwebix.skin.metro = {\r\n\ttopLayout:\"space\",\r\n\t//bar in accordion\r\n\tbarHeight:36,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight: 46,\r\n\trowHeight:34,\r\n\ttoolbarHeight:36,\r\n\tlistItemHeight:32,\t\t//list, grouplist, dataview, etc.\r\n\tinputHeight:30,\r\n\tbuttonHeight: 45,\r\n\tinputPadding: 2,\r\n\tmenuHeight: 36,\r\n\tlabelTopHeight: 16,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:10, wide:4, clean:0, head:4, line:-1, toolbar:4, form:8, accordion: 9  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:10, wide:0, clean:0, head:0, line:0, toolbar:0, form:8, accordion: 0  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:2,\r\n\ttabOffset:0,\r\n\ttabBottomOffset: 10,\r\n\r\n\tcalendarHeight: 70,\r\n\tpadding:0,\r\n\r\n\toptionHeight: 23\r\n};\r\nwebix.skin.light = {\r\n\ttopLayout:\"space\",\r\n\t//bar in accordion\r\n\tbarHeight:36,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight: 46,\r\n\trowHeight:32,\r\n\ttoolbarHeight:36,\r\n\tlistItemHeight:32,\t\t//list, grouplist, dataview, etc.\r\n\tinputHeight:34,\r\n\tbuttonHeight: 45,\r\n\tinputPadding: 3,\r\n\tmenuHeight: 36,\r\n\tlabelTopHeight: 16,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:15, wide:15, clean:0, head:4, line:-1, toolbar:4, form:8, accordion: 10  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:15, wide:0, clean:0, head:0, line:0, toolbar:0, form:8, accordion: 0  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:2,\r\n\ttabOffset:0,\r\n\ttabBottomOffset: 10,\r\n\r\n\tcalendarHeight: 70,\r\n\tpadding:0,\r\n\r\n\toptionHeight: 27\r\n};\r\nwebix.skin.glamour = {\r\n\ttopLayout:\"space\",\r\n\t//bar in accordion\r\n\tbarHeight:39,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight: 39,\r\n\trowHeight:32,\r\n\ttoolbarHeight:39,\r\n\tlistItemHeight:32,\t\t//list, grouplist, dataview, etc.\r\n\tinputHeight:34,\r\n\tbuttonHeight: 34,\r\n\tinputPadding: 3,\r\n\tmenuHeight: 36,\r\n\tlabelTopHeight: 16,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:15, wide:15, clean:0, head:4, line:-1, toolbar:4, form:8, accordion: 10  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:15, wide:0, clean:0, head:0, line:0, toolbar:3, form:8, accordion: 0  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:1,\r\n\ttabOffset:0,\r\n\ttabBottomOffset: 1,\r\n\r\n\tcalendarHeight: 70,\r\n\tpadding:0,\r\n\r\n\toptionHeight: 27\r\n};\r\nwebix.skin.touch = {\r\n\ttopLayout:\"space\",\r\n\t//bar in accordion\r\n\tbarHeight:42,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight: 50,\r\n\trowHeight:42,\r\n\ttoolbarHeight: 42,\r\n\tlistItemHeight:42,\t\t//list, grouplist, dataview, etc.\r\n\tinputHeight:42,\r\n\tinputPadding: 4,\r\n\tmenuHeight: 42,\r\n\tlabelTopHeight: 24,\r\n\tunitHeaderHeight: 34,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:10, wide:4, clean:0, head:4, line:-1, toolbar:0, form:0, accordion: 9  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:10, wide:0, clean:0, head:0, line:0, toolbar:4, form:8, accordion: 0  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:2,\r\n\ttabOffset:0,\r\n\ttabBottomOffset: 10,\r\n\tcalendar:{headerHeight: 70, timepickerHeight:35, height: 310, width: 300},\r\n\tpadding:0,\r\n\tcustomCheckbox: true,\r\n\tcustomRadio: true,\r\n\r\n\toptionHeight: 32\r\n};\r\nwebix.skin.flat = {\r\n\ttopLayout:\"space\",\r\n\t//bar in accordion\r\n\tbarHeight:46,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight: 46,\r\n\trowHeight:34,\r\n\ttoolbarHeight:46,\r\n\tlistItemHeight:34,\t\t//list, grouplist, dataview, etc.\r\n\tinputHeight: 38,\r\n\tbuttonHeight: 38,\r\n\tinputPadding: 3,\r\n\tmenuHeight: 34,\r\n\tlabelTopHeight: 22,\r\n\tpropertyItemHeight: 28,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:10, wide:10, clean:0, head:4, line:-1, toolbar:4, form:8, accordion: 10  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:10, wide:0, clean:0, head:0, line:0, toolbar:4, form:17, accordion: 0  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:4,\r\n\ttabOffset: 0,\r\n\ttabBottomOffset: 6,\r\n\ttabTopOffset:1,\r\n\r\n\tcustomCheckbox: true,\r\n\tcustomRadio: true,\r\n\r\n\tcalendarHeight: 70,\r\n\tpadding:0,\r\n\taccordionType: \"accordion\",\r\n\r\n\toptionHeight: 32\r\n};\r\nwebix.skin.compact = {\r\n\ttopLayout:\"space\",\r\n\t//bar in accordion\r\n\tbarHeight:34,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight: 34,\r\n\trowHeight:24,\r\n\ttoolbarHeight:34,\r\n\tlistItemHeight:28,\t\t//list, grouplist, dataview, etc.\r\n\tinputHeight: 30,\r\n\tbuttonHeight: 30,\r\n\tinputPadding: 3,\r\n\tmenuHeight: 28,\r\n\tlabelTopHeight: 16,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:5, wide:5, clean:0, head:4, line:-1, toolbar:4, form:4, accordion: 5  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:5, wide:0, clean:0, head:0, line:0, toolbar:2, form:12, accordion: 0  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:3,\r\n\ttabOffset: 0,\r\n\ttabBottomOffset: 3,\r\n\ttabTopOffset:1,\r\n\r\n\tcustomCheckbox: true,\r\n\tcustomRadio: true,\r\n\r\n\r\n\tcalendarHeight: 70,\r\n\tpadding:0,\r\n\taccordionType: \"accordion\",\r\n\r\n\toptionHeight: 23\r\n};\r\nwebix.skin.material = {\r\n\ttopLayout:\"space\",\r\n\t//bar in accordion\r\n\tbarHeight:45,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight:47,\r\n\trowHeight:38,\r\n\ttoolbarHeight:22,\r\n\tlistItemHeight:34,\t\t//list, grouplist, dataview, etc.\r\n\tinputHeight:38,\r\n\tbuttonHeight:38,\r\n\tinputPadding: 2,\r\n\tmenuMargin: 0,\r\n\tmenuHeight: 34,\r\n\tlabelTopHeight: 16,\r\n\tpropertyItemHeight: 34,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ material:10, space:10, wide:10, clean:0, head:4, line:-1, toolbar:4, form:16, accordion: 0  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ material:10, space:10, wide:0, clean:0, head:0, line:0, toolbar:4, form:16, accordion: 0  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:0,\r\n\ttabOffset: 0,\r\n\ttabBottomOffset: 0,\r\n\ttabTopOffset:0,\r\n\r\n\tcustomCheckbox: true,\r\n\tcustomRadio: true,\r\n\r\n\tcalendarHeight: 70,\r\n\tpadding:0,\r\n\taccordionType: \"accordion\"\r\n};\r\nwebix.skin.contrast = {\r\n\ttopLayout:\"space\",\r\n\t//bar in accordion\r\n\tbarHeight:46,\t\t\t// !!!Set the same in skin.less!!!\r\n\ttabbarHeight: 46,\r\n\trowHeight:34,\r\n\ttoolbarHeight:46,\r\n\tlistItemHeight:34,\t\t// list, grouplist, dataview, etc.\r\n\tinputHeight: 38,\r\n\tbuttonHeight: 38,\r\n\tinputPadding: 3,\r\n\tmenuHeight: 34,\r\n\tlabelTopHeight: 22,\r\n\tpropertyItemHeight: 28,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:10, wide:10, clean:0, head:4, line:-1, toolbar:8, form:8, accordion: 10  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:10, wide:0, clean:0, head:0, line:0, toolbar:4, form:17, accordion: 0  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:4,\r\n\ttabOffset: 0,\r\n\ttabBottomOffset: 6,\r\n\ttabTopOffset:1,\r\n\r\n\tcustomCheckbox: true,\r\n\tcustomRadio: true,\r\n\r\n\tcalendarHeight: 70,\r\n\tpadding:0,\r\n\taccordionType: \"accordion\",\r\n\r\n\toptionHeight: 32\r\n};\r\n\r\nwebix.skin.set = function(name){\r\n\twebix.assert(webix.skin[name], \"Incorrect skin name: \"+name);\r\n\r\n\twebix.skin.$active = webix.skin[name];\r\n\twebix.skin.$name = name;\r\n\tif (webix.ui){\r\n\t\tfor (var key in webix.ui){\r\n\t\t\tvar view = webix.ui[key];\r\n\t\t\tif (view && view.prototype && view.prototype.$skin)\r\n\t\t\t\tview.prototype.$skin(view.prototype);\r\n\t\t}\r\n\t}\t\t\r\n};\r\nwebix.skin.set(window.webix_skin || \"flat\");\r\n\r\n/*\r\n\tBehavior:Destruction\r\n\t\r\n\t@export\r\n\t\tdestructor\r\n*/\r\n\r\n\r\n\r\nwebix.Destruction = {\r\n\t$init:function(){\r\n\t\t//register self in global list of destructors\r\n\t\twebix.destructors.push(this);\r\n\t},\r\n\t//will be called automatically on unload, can be called manually\r\n\t//simplifies job of GC\r\n\tdestructor:function(){\r\n\t\tvar config = this._settings;\r\n\r\n\t\tif (this._last_editor)\r\n\t\t\tthis.editCancel();\r\n\r\n\t\tif(this.callEvent)\r\n\t\t\tthis.callEvent(\"onDestruct\",[]);\r\n\r\n\t\tthis.destructor=function(){}; //destructor can be called only once\r\n\r\n\t\t//destroy child and related cells\r\n\t\tif (this.getChildViews){\r\n\t\t\tvar cells = this.getChildViews();\r\n\t\t\tif (cells)\r\n\t\t\t\tfor (var i=0; i < cells.length; i++)\r\n\t\t\t\t\tcells[i].destructor();\r\n\r\n\t\t\tif (this._destroy_with_me)\r\n\t\t\t\tfor (var i=0; i < this._destroy_with_me.length; i++)\r\n\t\t\t\t\tthis._destroy_with_me[i].destructor();\r\n\t\t}\r\n\r\n\t\tdelete webix.ui.views[config.id];\r\n\r\n\t\tif (config.$id){\r\n\t\t\tvar top = this.getTopParentView();\r\n\t\t\tif (top && top._destroy_child)\r\n\t\t\t\ttop._destroy_child(config.$id);\r\n\t\t}\r\n\r\n\t\t//html collection\r\n\t\tthis._htmlmap  = null;\r\n\t\tthis._htmlrows = null;\r\n\t\tthis._html = null;\r\n\r\n\r\n\t\tif (this._contentobj) {\r\n\t\t\tthis._contentobj.innerHTML=\"\";\r\n\t\t\tthis._contentobj._htmlmap = null;\r\n\t\t}\r\n\r\n\t\t//removes view container\r\n\t\tif (this._viewobj&&this._viewobj.parentNode){\r\n\t\t\tthis._viewobj.parentNode.removeChild(this._viewobj);\r\n\t\t}\r\n\r\n\t\tif (this.data && this.data.destructor)\r\n\t\t\tthis.data.destructor();\r\n\r\n\t\tif (this.unbind)\r\n\t\t\tthis.unbind();\r\n\r\n\t\tthis.data = null;\r\n\t\tthis._viewobj = this.$view = this._contentobj = this._dataobj = null;\r\n\t\tthis._evs_events = this._evs_handlers = {};\r\n\r\n\t\t//remove focus from destructed view\r\n\t\tif (webix.UIManager._view == this)\r\n\t\t\twebix.UIManager._view = null;\r\n\r\n\t\tvar url = config.url;\r\n\t\tif (url && url.$proxy && url.release)\r\n\t\t\turl.release();\r\n\r\n\t\tthis.$scope = null;\r\n\t\t// this flag is checked in delay method\r\n\t\tthis.$destructed = true;\r\n\t}\r\n};\r\n//global list of destructors\r\nwebix.destructors = [];\r\nwebix.event(window,\"unload\",function(){\r\n\twebix.callEvent(\"unload\", []);\r\n\twebix._final_destruction = true;\r\n\t\r\n\t//call all registered destructors\r\n\tfor (var i=0; i<webix.destructors.length; i++)\r\n\t\twebix.destructors[i].destructor();\r\n\twebix.destructors = [];\r\n\twebix.ui._popups = webix.toArray();\r\n\t\r\n\t//detach all known DOM events\r\n\tfor (var a in webix._events){\r\n\t\tvar ev = webix._events[a];\r\n\t\tif (ev[0].removeEventListener)\r\n\t\t\tev[0].removeEventListener(ev[1],ev[2],false);\r\n\t\telse if (ev[0].detachEvent)\r\n\t\t\tev[0].detachEvent(\"on\"+ev[1],ev[2]);\r\n\t\tdelete webix._events[a];\r\n\t}\r\n});\r\n\r\n/*\r\n\tBehavior:Settings\r\n\t\r\n\t@export\r\n\t\tcustomize\r\n\t\tconfig\r\n*/\r\n\r\n/*\r\n\tTemplate - handles html templates\r\n*/\r\n\r\n\r\n\r\n(function(){\r\n\r\nvar _cache = {};\r\nvar _csp_cache = {};\r\nvar newlines = new RegExp(\"(\\\\r\\\\n|\\\\n)\",\"g\");\r\nvar quotes   = new RegExp(\"(\\\\\\\")\",\"g\");\r\nvar slashes  = new RegExp(\"(\\\\\\\\)\",\"g\");\r\nvar escape = {\r\n  \"&\": \"&amp;\",\r\n  \"<\": \"&lt;\",\r\n  \">\": \"&gt;\",\r\n  '\"': \"&quot;\",\r\n  \"'\": \"&#x27;\",\r\n  \"`\": \"&#x60;\"\r\n};\r\nvar badChars = /[&<>\"'`]/g;\r\nvar escapeChar = function(chr) {\r\n  return escape[chr] || \"&amp;\";\r\n};\r\n\r\n\r\nwebix.template = function(str){\r\n\tif (typeof str == \"function\") return str;\r\n\tif (_cache[str])\r\n\t\treturn _cache[str];\r\n\t\t\r\n\tstr=(str||\"\").toString();\t\t\t\r\n\tif (str.indexOf(\"->\")!=-1){\r\n\t\tvar teststr = str.split(\"->\");\r\n\t\tswitch(teststr[0]){\r\n\t\t\tcase \"html\": \t//load from some container on the page\r\n\t\t\t\tstr = webix.html.getValue(teststr[1]);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"http\": \t//load from external file\r\n\t\t\t\tstr = new webix.ajax().sync().get(teststr[1],{uid:webix.uid()}).responseText;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\t//do nothing, will use template as is\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\t\t\r\n\t//supported idioms\r\n\t// {obj.attr} => named attribute or value of sub-tag in case of xml\r\n\tstr=(str||\"\").toString();\t\t\r\n\r\n\t// Content Security Policy enabled\r\n\tif(webix.env.strict){\r\n\t\tif (!_csp_cache[str]){\r\n\t\t\t_csp_cache[str] = [];\r\n\r\n\t\t\t// get an array of objects (not sorted by position)\r\n\t\t\tvar temp_res = [];\r\n\t\t\tstr.replace(/\\{obj\\.([^}?]+)\\?([^:]*):([^}]*)\\}/g,function(search,s1,s2,s3,pos){\r\n\t\t\t\t\ttemp_res.push({pos: pos, str: search, fn: function(obj,common){\r\n\t\t\t\t\t\treturn obj[s1]?s2:s3;\r\n\t\t\t\t\t}});\r\n\t\t\t});\r\n\t\t\tstr.replace(/\\{common\\.([^}\\(]*)\\}/g,function(search,s,pos){\r\n\t\t\t\ttemp_res.push({pos: pos, str: search, fn: function(obj,common){\r\n\t\t\t\t\treturn common[s]||'';\r\n\t\t\t\t}});\r\n\t\t\t});\r\n\t\t\tstr.replace(/\\{common\\.([^\\}\\(]*)\\(\\)\\}/g,function(search,s,pos){\r\n\t\t\t\ttemp_res.push({pos: pos, str: search, fn: function(obj,common){\r\n\t\t\t\t\treturn (common[s]?common[s].apply(this, arguments):\"\");\r\n\t\t\t\t}});\r\n\t\t\t});\r\n\t\t\tstr.replace(/\\{obj\\.([^:}]*)\\}/g,function(search,s,pos){\r\n\t\t\t\ttemp_res.push({pos: pos, str: search, fn: function(obj,common){\r\n\t\t\t\t\treturn obj[s];\r\n\t\t\t\t}});\r\n\t\t\t});\r\n\t\t\tstr.replace(\"{obj}\",function(search,s,pos){\r\n\t\t\t\ttemp_res.push({pos: pos, str: search, fn: function(obj,common){\r\n\t\t\t\t\treturn obj;\r\n\t\t\t\t}});\r\n\t\t\t});\r\n\t\t\tstr.replace(/#([^#'\";, ]+)#/gi,function(search,s,pos){\r\n\t\t\t\tif(s.charAt(0)==\"!\"){\r\n\t\t\t\t\ttemp_res.push({pos: pos, str: search, fn: function(obj,common){\r\n\t\t\t\t\t\ts = s.substr(1);\r\n\t\t\t\t\t\tif(s.indexOf(\".\")!= -1)\r\n\t\t\t\t\t\t\tobj = webix.CodeParser.collapseNames(obj); // apply complex properties\r\n\t\t\t\t\t\treturn webix.template.escape(obj[s.substr(1)]);\r\n\t\t\t\t\t}});\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\ttemp_res.push({pos: pos, str: search, fn: function(obj,common){\r\n\t\t\t\t\t\tif(s.indexOf(\".\")!= -1)\r\n\t\t\t\t\t\t\tobj = webix.CodeParser.collapseNames(obj); // apply complex properties\r\n\t\t\t\t\t\treturn obj[s];\r\n\t\t\t\t\t}});\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\t// sort template parts by position\r\n\t\t\ttemp_res.sort(function(a,b){\r\n\t\t\t\treturn (a.pos > b.pos)?1:-1;\r\n\t\t\t});\r\n\r\n\t\t\t// create an array of functions that return parts of html string\r\n\t\t\tif(temp_res.length){\r\n\t\t\t\tvar lastPos = 0;\r\n\t\t\t\tvar addStr = function(str,n0,n1){\r\n\t\t\t\t\t_csp_cache[str].push(function(){\r\n\t\t\t\t\t\treturn str.slice(n0,n1);\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t\tfor(var i = 0; i< temp_res.length; i++){\r\n\t\t\t\t\tvar pos = temp_res[i].pos;\r\n\t\t\t\t\taddStr(str,lastPos,pos);\r\n\t\t\t\t\t_csp_cache[str].push(temp_res[i].fn);\r\n\t\t\t\t\tlastPos = pos + temp_res[i].str.length;\r\n\t\t\t\t}\r\n\t\t\t\taddStr(str,lastPos,str.length);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\t_csp_cache[str].push(function(){return str;});\r\n\t\t}\r\n\t\treturn function(){\r\n\t\t\tvar s = \"\";\r\n\t\t\tfor(var i=0; i < _csp_cache[str].length;i++){\r\n\t\t\t\ts += _csp_cache[str][i].apply(this,arguments);\r\n\t\t\t}\r\n\t\t\treturn s;\r\n\t\t};\r\n\t}\r\n\r\n\tstr=str.replace(slashes,\"\\\\\\\\\");\r\n\tstr=str.replace(newlines,\"\\\\n\");\r\n\tstr=str.replace(quotes,\"\\\\\\\"\");\r\n\r\n\tstr=str.replace(/\\{obj\\.([^}?]+)\\?([^:]*):([^}]*)\\}/g,\"\\\"+(obj.$1?\\\"$2\\\":\\\"$3\\\")+\\\"\");\r\n\tstr=str.replace(/\\{common\\.([^}\\(]*)\\}/g,\"\\\"+(common.$1||'')+\\\"\");\r\n\tstr=str.replace(/\\{common\\.([^\\}\\(]*)\\(\\)\\}/g,\"\\\"+(common.$1?common.$1.apply(this, arguments):\\\"\\\")+\\\"\");\r\n\tstr=str.replace(/\\{obj\\.([^}]*)\\}/g,\"\\\"+(obj.$1)+\\\"\");\r\n\tstr=str.replace(\"{obj}\",\"\\\"+obj+\\\"\");\r\n\tstr=str.replace(/#([^#'\";, ]+)#/gi,function(str, key){\r\n\t\tif (key.charAt(0)==\"!\")\r\n\t\t\treturn \"\\\"+webix.template.escape(obj.\"+key.substr(1)+\")+\\\"\";\r\n\t\telse\r\n\t\t\treturn \"\\\"+(obj.\"+key+\")+\\\"\";\r\n\t});\r\n\r\n\ttry {\r\n\t\t_cache[str] = Function(\"obj\",\"common\",\"return \\\"\"+str+\"\\\";\");\r\n\t} catch(e){\r\n\t\twebix.assert_error(\"Invalid template:\"+str);\r\n\t}\r\n\r\n\treturn _cache[str];\r\n};\r\n\r\n\r\n\r\nwebix.template.escape  = function(str){\r\n\tif (str === webix.undefined || str === null) return \"\";\r\n\treturn (str.toString() || \"\" ).replace(badChars, escapeChar);\r\n};\r\nwebix.template.empty=function(){\treturn \"\";\t};\r\nwebix.template.bind =function(value){\treturn webix.bind(webix.template(value),this); };\r\n\r\n\r\n\t/*\r\n\t\tadds new template-type\r\n\t\tobj - object to which template will be added\r\n\t\tdata - properties of template\r\n\t*/\r\nwebix.type=function(obj, data){ \r\n\tif (obj.$protoWait){\r\n\t\tif (!obj._webix_type_wait)\r\n\t\t\tobj._webix_type_wait = [];\r\n\t\t\t\tobj._webix_type_wait.push(data);\r\n\t\treturn;\r\n\t}\r\n\t\t\r\n\t//auto switch to prototype, if name of class was provided\r\n\tif (typeof obj == \"function\")\r\n\t\tobj = obj.prototype;\r\n\tif (!obj.types){\r\n\t\tobj.types = { \"default\" : obj.type };\r\n\t\tobj.type.name = \"default\";\r\n\t}\r\n\t\r\n\tvar name = data.name;\r\n\tvar type = obj.type;\r\n\tif (name)\r\n\t\ttype = obj.types[name] = webix.clone(data.baseType?obj.types[data.baseType]:obj.type);\r\n\t\r\n\tfor(var key in data){\r\n\t\tif (key.indexOf(\"template\")===0)\r\n\t\t\ttype[key] = webix.template(data[key]);\r\n\t\telse\r\n\t\t\ttype[key]=data[key];\r\n\t}\r\n\r\n\treturn name;\r\n};\r\n\r\n})();\r\n\r\n\r\nwebix.Settings={\r\n\t$init:function(){\r\n\t\t/* \r\n\t\t\tproperty can be accessed as this.config.some\r\n\t\t\tin same time for inner call it have sense to use _settings\r\n\t\t\tbecause it will be minified in final version\r\n\t\t*/\r\n\t\tthis._settings = this.config= {}; \r\n\t},\r\n\tdefine:function(property, value){\r\n\t\tif (typeof property == \"object\")\r\n\t\t\treturn this._parseSeetingColl(property);\r\n\t\treturn this._define(property, value);\r\n\t},\r\n\t_define:function(property,value){\r\n\t\t//method with name {prop}_setter will be used as property setter\r\n\t\t//setter is optional\r\n\t\tvar setter = this[property+\"_setter\"];\r\n\t\treturn (this._settings[property]=setter?setter.call(this,value,property):value);\r\n\t},\r\n\t//process configuration object\r\n\t_parseSeetingColl:function(coll){\r\n\t\tif (coll){\r\n\t\t\tfor (var a in coll)\t\t\t\t//for each setting\r\n\t\t\t\tthis._define(a,coll[a]);\t\t//set value through config\r\n\t\t}\r\n\t},\r\n\t//helper for object initialization\r\n\t_parseSettings:function(obj,initial){\r\n\t\t//initial - set of default values\r\n\t\tvar settings = {}; \r\n\t\tif (initial)\r\n\t\t\tsettings = webix.extend(settings,initial);\r\n\t\t\t\t\t\r\n\t\t//code below will copy all properties over default one\r\n\t\tif (typeof obj == \"object\" && !obj.tagName)\r\n\t\t\twebix.extend(settings,obj, true);\t\r\n\t\t//call config for each setting\r\n\t\tthis._parseSeetingColl(settings);\r\n\t},\r\n\t_mergeSettings:function(config, defaults){\r\n\t\tfor (var key in defaults)\r\n\t\t\tswitch(typeof config[key]){\r\n\t\t\t\tcase \"object\": \r\n\t\t\t\t\tconfig[key] = this._mergeSettings((config[key]||{}), defaults[key]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"undefined\":\r\n\t\t\t\t\tconfig[key] = defaults[key];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\t//do nothing\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\treturn config;\r\n\t}\r\n};\r\n/* \r\n\tajax operations \r\n\t\r\n\tcan be used for direct loading as\r\n\t\twebix.ajax(ulr, callback)\r\n\tor\r\n\t\twebix.ajax().getItem(url)\r\n\t\twebix.ajax().post(url)\r\n\r\n*/\r\n\r\n\r\n\r\n\r\n\r\nwebix.proxy = function(name, source, extra){\r\n\twebix.assert(webix.proxy[name], \"Invalid proxy name: \"+name);\r\n\r\n\tvar copy = webix.copy(webix.proxy[name]);\r\n\tcopy.source = source;\r\n\r\n\tif (extra)\r\n\t\twebix.extend(copy, extra, true);\r\n\r\n\tif (copy.init) copy.init();\r\n\treturn copy;\r\n};\r\n\r\nwebix.proxy.$parse = function(value){\r\n\tif (typeof value == \"string\" && value.indexOf(\"->\") != -1){\r\n\t\tvar parts = value.split(\"->\");\r\n\t\treturn webix.proxy(parts[0], parts[1]);\r\n\t}\r\n\treturn value;\r\n};\r\n\r\nwebix.proxy.post = {\r\n\t$proxy:true,\r\n\tload:function(view, callback, params){\r\n\t\tparams = webix.extend(params||{}, this.params || {}, true);\r\n\t\twebix.ajax().bind(view).post(this.source, params, callback);\r\n\t}\r\n};\r\n\r\nwebix.proxy.sync = {\r\n\t$proxy:true,\r\n\tload:function(view, callback){\r\n\t\twebix.ajax().sync().bind(view).get(this.source, null, callback);\r\n\t}\r\n};\r\n\r\nwebix.proxy.connector = {\r\n\t$proxy:true,\r\n\r\n\tconnectorName:\"!nativeeditor_status\",\r\n\tload:function(view, callback){\r\n\t\twebix.ajax(this.source, callback, view);\r\n\t},\r\n\tsaveAll:function(view, updates, dp, callback){\r\n\t\tvar url = this.source;\r\n\r\n\t\tvar data = {};\r\n\t\tvar ids = [];\r\n\t\tfor (var i = 0; i < updates.length; i++) {\r\n\t\t\tvar action = updates[i];\r\n\t\t\tids.push(action.id);\r\n\r\n\t\t\tfor (var j in action.data)\r\n\t\t\t\tif (j.indexOf(\"$\")!==0)\r\n\t\t\t\t\tdata[action.id+\"_\"+j] = action.data[j];\r\n\t\t\tdata[action.id+\"_\"+this.connectorName] = action.operation;\r\n\t\t}\r\n\r\n\t\tdata.ids = ids.join(\",\");\r\n\t\tdata.webix_security = webix.securityKey;\r\n\t\r\n\t\turl += (url.indexOf(\"?\") == -1) ? \"?\" : \"&\";\r\n\t\turl += \"editing=true\";\r\n\r\n\t\twebix.ajax().post(url, data, callback);\r\n\t},\r\n\tresult:function(state, view, dp, text, data, loader){\r\n\t\tdata = data.xml();\r\n\t\tif (!data)\r\n\t\t\treturn dp._processError(null, text, data, loader);\r\n\t\t\r\n\r\n\t\tvar actions = data.data.action;\r\n\t\tif (!actions.length)\r\n\t\t\tactions = [actions];\r\n\r\n\r\n\t\tvar hash = [];\r\n\r\n\t\tfor (var i = 0; i < actions.length; i++) {\r\n\t\t\tvar obj = actions[i];\r\n\t\t\thash.push(obj);\r\n\r\n\t\t\tobj.status = obj.type;\r\n\t\t\tobj.id = obj.sid;\r\n\t\t\tobj.newid = obj.tid;\r\n\r\n\t\t\tdp.processResult(obj, obj, {text:text, data:data, loader:loader});\r\n\t\t}\r\n\r\n\t\treturn hash;\r\n\t}\r\n};\r\n\r\nwebix.proxy.debug = {\r\n\t$proxy:true,\r\n\tload:function(){},\r\n\tsave:function(v,u,d,c){\r\n\t\twebix.delay(function(){\r\n\t\t\twindow.console.log(\"[DP] \"+u.id+\" -> \"+u.operation, u.data);\r\n\t\t\tvar data = {\r\n\t\t\t\tid:u.data.id,\r\n\t\t\t\tnewid:u.data.id,\r\n\t\t\t\tstatus:u.data.operation\r\n\t\t\t};\r\n\t\t\td.processResult(data, data);\r\n\t\t});\r\n\t}\r\n};\r\n\r\nwebix.proxy.rest = {\r\n\t$proxy:true,\r\n\tload:function(view, callback){\r\n\t\twebix.ajax(this.source, callback, view);\r\n\t},\r\n\tsave:function(view, update, dp, callback){\r\n\t\treturn webix.proxy.rest._save_logic.call(this, view, update, dp, callback, webix.ajax());\r\n\t},\r\n\t_save_logic:function(view, update, dp, callback, ajax){\r\n\t\tvar url = this.source;\r\n\t\turl += url.charAt(url.length-1) == \"/\" ? \"\" : \"/\";\r\n\t\tvar mode = update.operation;\r\n\r\n\t\tvar data = update.data;\r\n\t\tif (mode == \"insert\") delete data.id;\r\n\r\n\t\t//call rest URI\r\n\t\tif (mode == \"update\"){\r\n\t\t\tajax.put(url + data.id, data, callback);\r\n\t\t} else if (mode == \"delete\") {\r\n\t\t\tajax.del(url + data.id, data, callback);\r\n\t\t} else {\r\n\t\t\tajax.post(url, data, callback);\r\n\t\t}\r\n\t}\r\n};\r\n\r\nwebix.proxy.json = {\r\n\t$proxy:true,\r\n\tload:function(view, callback){\r\n\t\twebix.ajax(this.source, callback, view);\r\n\t},\r\n\tsave:function(view, update, dp, callback){\r\n\t\tvar ajax = webix.ajax().headers({ \"Content-Type\":\"application/json\" });\r\n\t\treturn webix.proxy.rest._save_logic.call(this, view, update, dp, callback, ajax);\r\n\t}\r\n};\r\n\r\nwebix.proxy.faye = {\r\n\t$proxy:true,\r\n\tinit:function(){\r\n\t\tthis.clientId = this.clientId || webix.uid();\r\n\t},\r\n\tload:function(view){\r\n\t\tvar selfid = this.clientId;\r\n\r\n\t\tthis.client.subscribe(this.source, function(update){\r\n\t\t\tif (update.clientId == selfid) return;\r\n\r\n\t\t\twebix.dp(view).ignore(function(){\r\n\t\t\t\tif (update.operation == \"delete\")\r\n\t\t\t\t\tview.remove(update.data.id);\r\n\t\t\t\telse if (update.operation == \"insert\")\r\n\t\t\t\t\tview.add(update.data);\r\n\t\t\t\telse if (update.operation == \"update\"){\r\n\t\t\t\t\tvar item = view.getItem(update.data.id);\r\n\t\t\t\t\tif (item){\r\n\t\t\t\t\t\twebix.extend(item, update.data, true);\r\n\t\t\t\t\t\tview.refresh(item.id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\tsave:function(view, update, dp, callback){\r\n\t\tupdate.clientId = this.clientId;\r\n\t\tthis.client.publish(this.source, update);\r\n\t}\r\n};\r\n\r\n//indexdb->database/collection\r\nwebix.proxy.indexdb = {\r\n\t$proxy:true,\r\n\tcreate:function(db, config, version, callback){\r\n\t\tthis.source = db + \"/\";\r\n\t\tthis._get_db(callback, version, function(e){\r\n\t\t\tvar db = e.target.result;\r\n\t\t\tfor (var key in config){\r\n\t\t\t\tvar data = config[key];\r\n\t\t\t\tvar store = db.createObjectStore(key, { keyPath: \"id\", autoIncrement:true });\r\n\t\t\t\tfor (var i = 0; i < data.length; i++)\r\n\t\t\t\t\tstore.put(data[i]);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t_get_db:function(callback, version, upgrade){\r\n\t\tif (this.source.indexOf(\"/\") != -1){\r\n\t\t\tvar parts = this.source.split(\"/\");\r\n\t\t\tthis.source = parts[1];\r\n\t\t\tversion = version || parts[2];\r\n\r\n\t\t\tvar _index = window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB;\r\n\r\n\t\t\tvar db;\r\n\t\t\tif (version)\r\n\t\t\t\tdb = _index.open(parts[0], version);\r\n\t\t\telse\r\n\t\t\t\tdb = _index.open(parts[0]);\r\n\r\n\t\t\tif (upgrade)\r\n\t\t\t\tdb.onupgradeneeded = upgrade;\r\n\t\t\tdb.onerror = function(){ };\r\n\t\t\tdb.onblocked = function(){ };\r\n\t\t\tdb.onsuccess = webix.bind(function(e){\r\n\t\t\t\tthis.db =  e.target.result;\r\n\t\t\t\tif (callback)\r\n\t\t\t\t\tcallback.call(this);\r\n\t\t\t},this);\r\n\t\t} else if (this.db)\r\n\t\t\tcallback.call(this);\r\n\t\telse \r\n\t\t\twebix.delay(this._get_db, this, [callback], 50);\r\n\t},\r\n\r\n\tload:function(view, callback){\r\n\t\tthis._get_db(function(){\r\n\t\t\tvar store = this.db.transaction(this.source).objectStore(this.source);\r\n\t\t\tvar data = [];\r\n\r\n\t\t\tstore.openCursor().onsuccess = function(e) {\r\n\t\t\t\tvar result = e.target.result;\r\n\t\t\t\tif(result){\r\n\t\t\t\t\tdata.push(result.value);\r\n\t\t\t\t\tresult[\"continue\"]();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tview.parse(data);\r\n\t\t\t\t\twebix.ajax.$callback(view, callback, \"[]\", data);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t});\r\n\t},\r\n\tsave:function(view, update, dp, callback){\r\n\t\tthis._get_db(function(){\r\n\t\t\tvar mode = update.operation;\r\n\t\t\tvar data = update.data;\r\n\t\t\tvar id = update.id;\r\n\r\n\t\t\tvar store = this.db.transaction([this.source], \"readwrite\").objectStore(this.source);\r\n\r\n\t\t\tvar req;\r\n\t\t\tif (mode == \"delete\")\r\n\t            req = store[\"delete\"](id);\r\n\t       \telse if (mode == \"update\")\r\n\t       \t\treq = store.put(data);\r\n\t       \telse if (mode == \"insert\"){\r\n\t       \t\tdelete data.id;\r\n\t       \t\treq = store.add(data);\r\n\t       \t}\r\n\r\n\t\t\treq.onsuccess = function(e) {\r\n\t\t\t\tvar result = { status: mode, id:update.id };\r\n\t\t\t\tif (mode == \"insert\")\r\n\t\t\t\t\tresult.newid = e.target.result;\r\n\t\t\t\tdp.processResult(result, result);\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n};\r\n\r\nwebix.proxy.binary = {\r\n\t$proxy:true,\r\n\tload:function(view, callback){\r\n\t\tvar parts = this.source.split(\"@\");\r\n\t\tvar ext = parts[0].split(\".\").pop();\r\n\t\treturn webix.ajax().response(\"arraybuffer\").get(parts[0]).then(function(res){\r\n\t\t\tvar options = { ext:ext, dataurl : parts[1] };\r\n\t\t\twebix.ajax.$callback(view, callback, \"\", { data:res, options:options }, -1);\r\n\t\t});\r\n\t}\r\n};\r\n\r\nwebix.ajax = function(url,params,call){\r\n\t//if parameters was provided - made fast call\r\n\tif (arguments.length!==0)\r\n\t\treturn (new webix.ajax()).get(url,params,call);\r\n\r\n\tif (!this.getXHR) return new webix.ajax(); //allow to create new instance without direct new declaration\r\n\r\n\treturn this;\r\n};\r\nwebix.ajax.count = 0;\r\nwebix.ajax.prototype={\r\n\tmaster:null,\r\n\t//creates xmlHTTP object\r\n\tgetXHR:function(){\r\n\t\treturn new XMLHttpRequest();\r\n\t},\r\n\tstringify:function(obj){\r\n\t\tvar origin = Date.prototype.toJSON;\r\n\t\tDate.prototype.toJSON = function(){\r\n\t\t\treturn webix.i18n.parseFormatStr(this);\r\n\t\t};\r\n\r\n\t\tvar result;\r\n\t\tif (obj instanceof Date)\r\n\t\t\tresult = obj.toJSON();\r\n\t\telse\r\n\t\t\tresult = JSON.stringify(obj);\r\n\r\n\t\tDate.prototype.toJSON = origin;\r\n\t\treturn result;\r\n\t},\r\n\t/*\r\n\t\tsend data to the server\r\n\t\tparams - hash of properties which will be added to the url\r\n\t\tcall - callback, can be an array of functions\r\n\t*/\r\n\t_send:function(url, params, call, mode){\r\n\t\tvar master;\r\n\t\tif (params && (webix.isArray(params) || (typeof (params.success || params.error || params) == \"function\"))){\r\n\t\t\tmaster = call;\r\n\t\t\tcall = params;\r\n\t\t\tparams = null;\r\n\t\t}\r\n\r\n\t\tvar defer = webix.promise.defer();\r\n\r\n\t\tvar x=this.getXHR();\r\n\t\tif (!webix.isArray(call))\r\n\t\t\tcall = [call];\r\n\r\n\t\tcall.push({ success: function(t, d){ defer.resolve(d);\t},\r\n\t\t\t\t\terror: function(t, d){ defer.reject(x);\t}});\r\n\r\n\t\tvar headers = this._header || {};\r\n\r\n\t\tif (!webix.callEvent(\"onBeforeAjax\", [mode, url, params, x, headers, null, defer])) return;\r\n\r\n\t\t//add content-type to POST|PUT|DELETE\r\n\t\tvar json_mode = false;\r\n\t\tif (mode !== 'GET'){\r\n\t\t\tvar found = false;\r\n\t\t\tfor (var key in headers)\r\n\t\t\t\tif (key.toString().toLowerCase() == \"content-type\"){\r\n\t\t\t\t\tfound = true;\r\n\t\t\t\t\tif (headers[key] == \"application/json\")\r\n\t\t\t\t\t\tjson_mode = true;\r\n\t\t\t\t}\r\n\t\t\tif (!found)\r\n\t\t\t\theaders['Content-Type'] = 'application/x-www-form-urlencoded';\r\n\t\t}\r\n\r\n\t\t//add extra params to the url\r\n\t\tif (typeof params == \"object\"){\r\n\t\t\tif (json_mode)\r\n\t\t\t\tparams = this.stringify(params);\r\n\t\t\telse {\t\t\t\r\n\t\t\t\tvar t=[];\r\n\t\t\t\tfor (var a in params){\r\n\t\t\t\t\tvar value = params[a];\r\n\t\t\t\t\tif (value === null || value === webix.undefined)\r\n\t\t\t\t\t\tvalue = \"\";\r\n\t\t\t\t    if(typeof value===\"object\")\r\n\t\t\t\t        value = this.stringify(value);\r\n\t\t\t\t\tt.push(a+\"=\"+encodeURIComponent(value));// utf-8 escaping\r\n\t\t\t \t}\r\n\t\t\t\tparams=t.join(\"&\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (params && mode==='GET'){\r\n\t\t\turl=url+(url.indexOf(\"?\")!=-1 ? \"&\" : \"?\")+params;\r\n\t\t\tparams = null;\r\n\t\t}\r\n\r\n\t\tx.open(mode, url, !this._sync);\r\n\r\n\t\tvar type = this._response;\r\n\t\tif (type) x.responseType = type;\r\n\r\n\t\t//if header was provided - use it\r\n\t\tfor (var key in headers)\r\n\t\t\tx.setRequestHeader(key, headers[key]);\r\n\t\t\r\n\t\t//async mode, define loading callback\r\n\t\tvar self=this;\r\n\t\tthis.master = this.master || master;\r\n\t\tx.onreadystatechange = function(){\r\n\t\t\tif (!x.readyState || x.readyState == 4){\r\n\t\t\t\tif (webix.debug_time) webix.log_full_time(\"data_loading\");\t//log rendering time\r\n\r\n\t\t\t\twebix.ajax.count++;\r\n\t\t\t\tif (call && self && !x.aborted){\r\n\t\t\t\t\t//IE8 and IE9, handling .abort call\r\n\t\t\t\t\tif (webix._xhr_aborted.find(x) != -1)\r\n\t\t\t\t\t\treturn webix._xhr_aborted.remove(x);\r\n\r\n\t\t\t\t\tvar owner = self.master||self;\r\n\r\n\t\t\t\t\tvar is_error = x.status >= 400 || x.status === 0;\r\n\t\t\t\t\tvar text, data;\r\n\t\t\t\t\tif (x.responseType == \"blob\" || x.responseType == \"arraybuffer\"){\r\n\t\t\t\t\t\ttext = \"\";\r\n\t\t\t\t\t\tdata = x.response;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttext = x.responseText||\"\";\r\n\t\t\t\t\t\tdata = self._data(x);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\twebix.ajax.$callback(owner, call, text, data, x, is_error);\r\n\t\t\t\t}\r\n\t\t\t\tif (self) self.master=null;\r\n\t\t\t\tcall=self=master=null;\t//anti-leak\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tif (this._timeout)\r\n\t\t\tx.timeout = this._timeout;\r\n\r\n\t\t//IE can use sync mode sometimes, fix it\r\n\t\tif (!this._sync)\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tif (!x.aborted){\r\n\t\t\t\t\t//abort handling in IE9\r\n\t\t\t\t\tif (webix._xhr_aborted.find(x) != -1)\r\n\t\t\t\t\t\twebix._xhr_aborted.remove(x);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tx.send(params||null);\r\n\t\t\t\t}\r\n\t\t\t}, 1);\r\n\t\telse\r\n\t\t\tx.send(params||null);\r\n\r\n\t\tif (this.master && this.master._ajax_queue)\r\n\t\t\tthis.master._ajax_queue.push(x);\r\n\r\n\t\treturn this._sync?x:defer; //return XHR, which can be used in case of sync. mode\r\n\t},\r\n\t_data:function(x){\r\n\t\treturn {\r\n\t\t\txml:function(){ try{ return webix.DataDriver.xml.tagToObject(webix.DataDriver.xml.toObject(x.responseText, this)); }\r\n\t\t\t\tcatch(e){\r\n\t\t\t\t\twebix.log(x.responseText);\r\n\t\t\t\t\twebix.log(e.toString()); webix.assert_error(\"Invalid xml data for parsing\"); \r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trawxml:function(){ \r\n\t\t\t\tif (!window.XPathResult)\r\n\t\t\t\t\treturn webix.DataDriver.xml.fromString(x.responseText);\r\n\t\t\t\treturn x.responseXML;\r\n\t\t\t},\r\n\t\t\ttext:function(){ return x.responseText; },\r\n\t\t\tjson:function(){\r\n\t\t\t\ttry{\r\n\t\t\t\t\treturn JSON.parse(x.responseText);\r\n\t\t\t\t}\r\n\t\t\t\tcatch(e){ \r\n\t\t\t\t\twebix.log(x.responseText);\r\n\t\t\t\t\twebix.log(e.toString()); webix.assert_error(\"Invalid json data for parsing\"); \r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\t//GET request\r\n\tget:function(url,params,call){\r\n\t\treturn this._send(url,params,call,\"GET\");\r\n\t},\r\n\t//POST request\r\n\tpost:function(url,params,call){\r\n\t\treturn this._send(url,params,call,\"POST\");\r\n\t},\r\n\t//PUT request\r\n\tput:function(url,params,call){\r\n\t\treturn this._send(url,params,call,\"PUT\");\r\n\t},\r\n\t//DELETE request\r\n\tdel:function(url,params,call){\r\n\t\treturn this._send(url,params,call,\"DELETE\");\r\n\t},\r\n\t//PATCH request\r\n\tpatch:function(url,params,call){\r\n\t\treturn this._send(url,params,call,\"PATCH\");\r\n\t},\r\n\r\n\tsync:function(){\r\n\t\tthis._sync = true;\r\n\t\treturn this;\r\n\t},\r\n\ttimeout:function(num){\r\n\t\tthis._timeout = num;\r\n\t\treturn this;\r\n\t},\r\n\tresponse:function(value){\r\n\t\tthis._response = value;\r\n\t\treturn this;\r\n\t},\r\n\t//deprecated, remove in 3.0\r\n\t//[DEPRECATED]\r\n\theader:function(header){\r\n\t\twebix.assert(false, \"ajax.header is deprecated in favor of ajax.headers\");\r\n\t\tthis._header = header;\r\n\t\treturn this;\r\n\t},\r\n\theaders:function(header){\r\n\t\tthis._header = webix.extend(this._header||{},header);\r\n\t\treturn this;\r\n\t},\r\n\tbind:function(master){\r\n\t\tthis.master = master;\r\n\t\treturn this;\r\n\t}\r\n};\r\nwebix.ajax.$callback = function(owner, call, text, data, x, is_error){\r\n\tif (owner.$destructed) return;\r\n\tif (x === -1 && data && typeof data.json == \"function\")\r\n\t\tdata = data.json();\r\n\r\n\tif (is_error)\r\n\t\twebix.callEvent(\"onAjaxError\", [x]);\r\n\r\n\tif (!webix.isArray(call))\r\n\t\tcall = [call];\r\n\r\n\tif (!is_error)\r\n\t\tfor (var i=0; i < call.length; i++){\r\n\t\t\tif (call[i]){\r\n\t\t\t\tvar before = call[i].before;\r\n\t\t\t\tif (before)\r\n\t\t\t\t\tbefore.call(owner, text, data, x);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\tfor (var i=0; i < call.length; i++)\t//there can be multiple callbacks\r\n\t\tif (call[i]){\r\n\t\t\tvar method = (call[i].success||call[i]);\r\n\t\t\tif (is_error)\r\n\t\t\t\tmethod = call[i].error;\r\n\t\t\tif (method && method.call)\r\n\t\t\t\tmethod.call(owner,text,data,x);\r\n\t\t}\r\n};\r\n\r\n/*submits values*/\r\nwebix.send = function(url, values, method, target){\r\n\tvar form = webix.html.create(\"FORM\",{\r\n\t\t\"target\":(target||\"_self\"),\r\n\t\t\"action\":url,\r\n\t\t\"method\":(method||\"POST\")\r\n\t},\"\");\r\n\tfor (var k in values) {\r\n\t\tvar field = webix.html.create(\"INPUT\",{\"type\":\"hidden\",\"name\": k,\"value\": values[k]},\"\");\r\n\t\tform.appendChild(field);\r\n\t}\r\n\tform.style.display = \"none\";\r\n\tdocument.body.appendChild(form);\r\n\tform.submit();\r\n\tdocument.body.removeChild(form);\r\n};\r\n\r\n\r\nwebix.AtomDataLoader={\r\n\t$init:function(config){\r\n\t\t//prepare data store\r\n\t\tthis.data = {}; \r\n\t\tthis.waitData = webix.promise.defer();\r\n\r\n\t\tif (config)\r\n\t\t\tthis._settings.datatype = config.datatype||\"json\";\r\n\t\tthis.$ready.push(this._load_when_ready);\r\n\t},\r\n\t_load_when_ready:function(){\r\n\t\tthis._ready_for_data = true;\r\n\t\t\r\n\t\tif (this._settings.url)\r\n\t\t\tthis.url_setter(this._settings.url);\r\n\t\tif (this._settings.data)\r\n\t\t\tthis.data_setter(this._settings.data);\r\n\t},\r\n\turl_setter:function(value){\r\n\t\tvalue = webix.proxy.$parse(value);\r\n\r\n\t\tif (!this._ready_for_data) return value;\r\n\t\tthis.load(value, this._settings.datatype);\t\r\n\t\treturn value;\r\n\t},\r\n\tdata_setter:function(value){\r\n\t\tif (!this._ready_for_data) return value;\r\n\t\tthis.parse(value, this._settings.datatype);\r\n\t\treturn true;\r\n\t},\r\n\t//loads data from external URL\r\n\tload:function(url,call){\r\n\t\tvar details = arguments[2] || null;\r\n\r\n\t\tthis.callEvent(\"onBeforeLoad\",[]);\r\n\t\tif (typeof call == \"string\"){\t//second parameter can be a loading type or callback\r\n\t\t\t//we are not using setDriver as data may be a non-datastore here\r\n\t\t\tthis.data.driver = webix.DataDriver[call];\r\n\t\t\tcall = arguments[2];\r\n\t\t} else if (!this.data.driver)\r\n\t\t\tthis.data.driver = webix.DataDriver.json;\r\n\r\n\t\t//load data by async ajax call\r\n\t\t//loading_key - can be set by component, to ignore data from old async requests\r\n\t\tvar callback = [{\r\n\t\t\tsuccess: this._onLoad,\r\n\t\t\terror: this._onLoadError\r\n\t\t}];\r\n\t\t\r\n\t\tif (call){\r\n\t\t\tif (webix.isArray(call))\r\n\t\t\t\tcallback.push.apply(callback,call);\r\n\t\t\telse\r\n\t\t\t\tcallback.push(call);\r\n\t\t}\r\n\t\t\r\n\t\t//proxy\t\r\n\t\turl = webix.proxy.$parse(url);\r\n\t\tif (url.$proxy && url.load)\r\n\t\t\treturn url.load(this, callback, details);\r\n\r\n\t\t//promize\r\n\t\tif (typeof url === \"function\"){\r\n\t\t\treturn url(details).then(\r\n\t\t\t\twebix.bind(function(data){\r\n\t\t\t\t\twebix.ajax.$callback(this, callback, \"\", data, -1);\r\n\t\t\t\t}, this),\r\n\t\t\t\twebix.bind(function(x){\r\n\t\t\t\t\twebix.ajax.$callback(this, callback, \"\", null, x, true);\r\n\t\t\t\t}, this)\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t//normal url\r\n\t\treturn webix.ajax(url,callback,this);\r\n\t},\r\n\t//loads data from object\r\n\tparse:function(data,type){\r\n\t\t//[webix.remote]\r\n\t\tif (data && data.then && typeof data.then == \"function\"){\r\n\t\t\treturn data.then(webix.bind(function(data){ \r\n\t\t\t\tif (data && typeof data.json == \"function\")\r\n\t\t\t\t\tdata = data.json();\r\n\t\t\t\tthis.parse(data, type); \r\n\t\t\t}, this));\r\n\t\t}\r\n\r\n\t\t//loading data from other component\r\n\t\tif (data && data.sync && this.sync)\r\n\t\t\treturn this._syncData(data);\r\n\r\n\t\tthis.callEvent(\"onBeforeLoad\",[]);\r\n\t\tthis.data.driver = webix.DataDriver[type||\"json\"];\r\n\t\tthis._onLoad(data,null);\r\n\t},\r\n\t_syncData: function(data){\r\n\t\tif(this.data)\r\n\t\t\tthis.data.attachEvent(\"onSyncApply\",webix.bind(function(){\r\n\t\t\t\tif(this._call_onready)\r\n\t\t\t\t\tthis._call_onready();\r\n\t\t\t},this));\r\n\r\n\t\tthis.sync(data);\r\n\t},\r\n\t_parse:function(data){\r\n\t\tvar driver = this.data.driver;\r\n\t\tvar parsed = driver.getDetails(driver.getRecords(data)[0]);\r\n\t\tif (this.setValues)\r\n\t\t\tthis.setValues(parsed);\r\n\t\telse\r\n\t\t\tthis.data = parsed;\r\n\t},\r\n\t_onLoadContinue:function(data, text, response, loader){\r\n\t\tif (data){\r\n\t\t\tif(!this.$onLoad || !this.$onLoad(data, this.data.driver)){\r\n\t\t\t\tif(this.data && this.data._parse)\r\n\t\t\t\t\tthis.data._parse(data); //datastore\r\n\t\t\t\telse\r\n\t\t\t\t\tthis._parse(data);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis._onLoadError(text, response, loader);\r\n\r\n\t\t//data loaded, view rendered, call onready handler\r\n\t\tif(this._call_onready)\r\n\t\t\tthis._call_onready();\r\n\r\n\t\tthis.callEvent(\"onAfterLoad\",[]);\r\n\t\tthis.waitData.resolve();\r\n\t},\r\n\t//default after loading callback\r\n\t_onLoad:function(text, response, loader){\r\n\t\tvar driver = this.data.driver;\r\n\t\tvar data;\r\n\r\n\t\tif (loader === -1)\r\n\t\t\tdata = driver.toObject(response);\r\n\t\telse{\r\n\t\t\t//ignore data loading command if data was reloaded \r\n\t\t\tif(this._ajax_queue)\r\n\t\t\t\tthis._ajax_queue.remove(loader);\r\n\t\t\tdata = driver.toObject(text, response);\r\n\t\t}\r\n\t\t\t\r\n\t\tif(!data || !data.then)\r\n\t\t\tthis._onLoadContinue(data);\r\n\t\telse if(data.then && typeof data.then == \"function\")\r\n\t\t\tdata.then(webix.bind(this._onLoadContinue, this));\r\n\t},\r\n\t_onLoadError:function(text, xml, xhttp){\r\n\t\tthis.callEvent(\"onAfterLoad\",[]);\r\n\t\tthis.callEvent(\"onLoadError\",arguments);\r\n\t\twebix.callEvent(\"onLoadError\", [text, xml, xhttp, this]);\r\n\t},\r\n\t_check_data_feed:function(data){\r\n\t\tif (!this._settings.dataFeed || this._ignore_feed || !data) return true;\r\n\t\tvar url = this._settings.dataFeed;\r\n\t\tif (typeof url == \"function\")\r\n\t\t\treturn url.call(this, (data.id||data), data);\r\n\t\turl = url+(url.indexOf(\"?\")==-1?\"?\":\"&\")+\"action=get&id=\"+encodeURIComponent(data.id||data);\r\n\t\tthis.callEvent(\"onBeforeLoad\",[]);\r\n\t\twebix.ajax(url, function(text,xml,loader){\r\n\t\t\tthis._ignore_feed=true;\r\n\t\t\tvar driver = webix.DataDriver.json;\r\n\t\t\tvar data = driver.toObject(text, xml);\r\n\t\t\tif (data)\r\n\t\t\t\tthis.setValues(driver.getDetails(driver.getRecords(data)[0]));\r\n\t\t\telse\r\n\t\t\t\tthis._onLoadError(text,xml,loader);\r\n\t\t\tthis._ignore_feed=false;\r\n\t\t\tthis.callEvent(\"onAfterLoad\",[]);\r\n\t\t}, this);\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\n/*\r\n\tAbstraction layer for different data types\r\n*/\r\n\r\nwebix.DataDriver={};\r\nwebix.DataDriver.json={\r\n\t//convert json string to json object if necessary\r\n\ttoObject:function(data){\r\n\t\tif (!data) return null;\r\n\t\tif (typeof data == \"string\"){\r\n\t\t\ttry{\r\n\t\t\t\tif (this.parseDates){\r\n\t\t\t\t\tvar isodate = /\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(.\\d{3})?Z/;\r\n\t\t\t\t\tdata = JSON.parse(data, function(key, value){\r\n\t\t\t\t\t\tif (typeof value == \"string\"){\r\n\t\t\t\t\t\t\tif (isodate.test(value))\r\n\t\t\t\t\t\t\t\treturn new Date(value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn value;\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdata =JSON.parse(data);\r\n\t\t\t\t}\r\n\t\t\t} catch(e){\r\n\t\t\t\twebix.assert_error(e);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t},\r\n\t//get array of records\r\n\tgetRecords:function(data){\r\n\t\tif (data && data.data)\r\n\t\t\tdata = data.data;\r\n\r\n\t\tif (data && !webix.isArray(data))\r\n\t\t\treturn [data];\r\n\t\treturn data;\r\n\t},\r\n\t//get hash of properties for single record\r\n\tgetDetails:function(data){\r\n\t\tif (typeof data == \"string\")\r\n\t\t\treturn { id:(data||webix.uid()), value:data };\r\n\t\treturn data;\r\n\t},\r\n\tgetOptions:function(data){\r\n\t\treturn data.collections;\r\n\t},\r\n\t//get count of data and position at which new data need to be inserted\r\n\tgetInfo:function(data){\r\n\t\treturn {\r\n\t\t\tsize:(data.total_count||0),\r\n\t\t\tfrom:(data.pos||0),\r\n\t\t\tparent:(data.parent||0),\r\n\t\t\tconfig:(data.config),\r\n\t\t\tkey:(data.webix_security)\r\n\t\t};\r\n\t},\r\n\tchild:\"data\",\r\n\tparseDates:false\r\n};\r\n\r\nwebix.DataDriver.html={\r\n\t/*\r\n\t\tincoming data can be\r\n\t\t - ID of parent container\r\n\t\t - HTML text\r\n\t*/\r\n\ttoObject:function(data){\r\n\t\tif (typeof data == \"string\"){\r\n\t\t var t=null;\r\n\t\t if (data.indexOf(\"<\")==-1)\t//if no tags inside - probably its an ID\r\n\t\t\tt = webix.toNode(data);\r\n\t\t if (!t){\r\n\t\t\tt=document.createElement(\"DIV\");\r\n\t\t\tt.innerHTML = data;\r\n\t\t }\r\n\t\t \r\n\t\t return t.firstChild;\r\n\t\t}\r\n\t\treturn data;\r\n\t},\r\n\t//get array of records\r\n\tgetRecords:function(node){\r\n\t\treturn node.getElementsByTagName(this.tag);\r\n\t},\r\n\t//get hash of properties for single record\r\n\tgetDetails:function(data){\r\n\t\treturn webix.DataDriver.xml.tagToObject(data);\r\n\t},\r\n\tgetOptions:function(){ \r\n\t\treturn false;\r\n\t},\r\n\t//dyn loading is not supported by HTML data source\r\n\tgetInfo:function(data){\r\n\t\treturn {\r\n\t\t\tsize:0,\r\n\t\t\tfrom:0\r\n\t\t};\r\n\t},\r\n\ttag: \"LI\"\r\n};\r\n\r\nwebix.DataDriver.jsarray={\r\n\t//parse jsarray string to jsarray object if necessary\r\n\ttoObject:function(data){\r\n\t\tif (typeof data == \"string\")\r\n\t\t\treturn JSON.parse(data);\r\n\t\treturn data;\r\n\t},\r\n\t//get array of records\r\n\tgetRecords:function(data){\r\n\t\tif (data && data.data)\r\n\t\t\tdata = data.data;\r\n\t\treturn data;\r\n\t},\r\n\t//get hash of properties for single record, in case of array they will have names as \"data{index}\"\r\n\tgetDetails:function(data){\r\n\t\tvar result = {};\r\n\t\tfor (var i=0; i < data.length; i++)\r\n\t\t result[\"data\"+i]=data[i];\r\n\t\tif (this.idColumn !== null)\r\n\t\t\tresult.id = data[this.idColumn];\r\n\t\t \r\n\t\treturn result;\r\n\t},\r\n\tgetOptions:function(){ return false; },\r\n\t//dyn loading is not supported by js-array data source\r\n\tgetInfo:function(data){\r\n\t\treturn {\r\n\t\t\tsize:0,\r\n\t\t\tfrom:0\r\n\t\t};\r\n\t},\r\n\tidColumn:null\r\n};\r\n\r\nwebix.DataDriver.csv={\r\n\t//incoming data always a string\r\n\ttoObject:function(data){\r\n\t\treturn data;\r\n\t},\r\n\t//get array of records\r\n\tgetRecords:function(data){\r\n\t\treturn data.split(this.row);\r\n\t},\r\n\t//get hash of properties for single record, data named as \"data{index}\"\r\n\tgetDetails:function(data){\r\n\t\tdata = this.stringToArray(data);\r\n\t\tvar result = {};\r\n\t\tfor (var i=0; i < data.length; i++) \r\n\t\t\tresult[\"data\"+i]=data[i];\r\n\r\n\t\tif (this.idColumn !== null)\r\n\t\t\tresult.id = data[this.idColumn];\r\n\t\t \r\n\t\treturn result;\r\n\t},\r\n\tgetOptions:function(){ return false; },\r\n\t//dyn loading is not supported by csv data source\r\n\tgetInfo:function(data){\r\n\t\treturn {\r\n\t\t\tsize:0,\r\n\t\t\tfrom:0\r\n\t\t};\r\n\t},\r\n\t//split string in array, takes string surrounding quotes in account\r\n\tstringToArray:function(data){\r\n\t\tdata = data.split(this.cell);\r\n\t\tfor (var i=0; i < data.length; i++)\r\n\t\t data[i] = data[i].replace(/^[ \\t\\n\\r]*(\\\"|)/g,\"\").replace(/(\\\"|)[ \\t\\n\\r]*$/g,\"\");\r\n\t\treturn data;\r\n\t},\r\n\tidColumn:null,\r\n\trow:\"\\n\",\t//default row separator\r\n\tcell:\",\"\t//default cell separator\r\n};\r\n\r\nwebix.DataDriver.xml={\r\n\t_isValidXML:function(data){\r\n\t\tif (!data || !data.documentElement)\r\n\t\t\treturn null;\r\n\t\tif (data.getElementsByTagName(\"parsererror\").length)\r\n\t\t\treturn null;\r\n\t\treturn data;\r\n\t},\r\n\t//convert xml string to xml object if necessary\r\n\ttoObject:function(text, response){\r\n\t\tvar data = response ? (response.rawxml ? response.rawxml() : response) :null;\r\n\t\tif (this._isValidXML(data))\r\n\t\t\treturn data;\r\n\t\tif (typeof text == \"string\")\r\n\t\t\tdata = this.fromString(text.replace(/^[\\s]+/,\"\"));\r\n\t\telse\r\n\t\t\tdata = text;\r\n\r\n\t\tif (this._isValidXML(data))\r\n\t\t\treturn data;\r\n\t\treturn null;\r\n\t},\r\n\t//get array of records\r\n\tgetRecords:function(data){\r\n\t\treturn this.xpath(data,this.records);\r\n\t},\r\n\trecords:\"/*/item\",\r\n\tchild:\"item\",\r\n\tconfig:\"/*/config\",\r\n\t//get hash of properties for single record\r\n\tgetDetails:function(data){\r\n\t\treturn this.tagToObject(data,{});\r\n\t},\r\n\tgetOptions:function(){ \r\n\t\treturn false;\r\n\t},\r\n\t//get count of data and position at which new data_loading need to be inserted\r\n\tgetInfo:function(data){\r\n\t\t\r\n\t\tvar config = this.xpath(data, this.config);\r\n\t\tif (config.length)\r\n\t\t\tconfig = this.assignTypes(this.tagToObject(config[0],{}));\r\n\t\telse \r\n\t\t\tconfig = null;\r\n\r\n\t\treturn {\r\n\t\t\tsize:(data.documentElement.getAttribute(\"total_count\")||0),\r\n\t\t\tfrom:(data.documentElement.getAttribute(\"pos\")||0),\r\n\t\t\tparent:(data.documentElement.getAttribute(\"parent\")||0),\r\n\t\t\tconfig:config,\r\n\t\t\tkey:(data.documentElement.getAttribute(\"webix_security\")||null)\r\n\t\t};\r\n\t},\r\n\t//xpath helper\r\n\txpath:function(xml,path){\r\n\t\tif (window.XPathResult){\t//FF, KHTML, Opera\r\n\t\t var node=xml;\r\n\t\t if(xml.nodeName.indexOf(\"document\")==-1)\r\n\t\t xml=xml.ownerDocument;\r\n\t\t var res = [];\r\n\t\t var col = xml.evaluate(path, node, null, XPathResult.ANY_TYPE, null);\r\n\t\t var temp = col.iterateNext();\r\n\t\t while (temp){ \r\n\t\t\tres.push(temp);\r\n\t\t\ttemp = col.iterateNext();\r\n\t\t}\r\n\t\treturn res;\r\n\t\t}\t\r\n\t\telse {\r\n\t\t\tvar test = true;\r\n\t\t\ttry {\r\n\t\t\t\tif (typeof(xml.selectNodes)==\"undefined\")\r\n\t\t\t\t\ttest = false;\r\n\t\t\t} catch(e){ /*IE7 and below can't operate with xml object*/ }\r\n\t\t\t//IE\r\n\t\t\tif (test)\r\n\t\t\t\treturn xml.selectNodes(path);\r\n\t\t\telse {\r\n\t\t\t\t//there is no interface to do XPath\r\n\t\t\t\t//use naive approach\r\n\t\t\t\tvar name = path.split(\"/\").pop();\r\n\r\n\t\t\t\treturn xml.getElementsByTagName(name);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tassignTypes:function(obj){\r\n\t\tfor (var k in obj){\r\n\t\t\tvar test = obj[k];\r\n\t\t\tif (typeof test == \"object\")\r\n\t\t\t\tthis.assignTypes(test);\r\n\t\t\telse if (typeof test == \"string\"){\r\n\t\t\t\tif (test === \"\") \r\n\t\t\t\t\tcontinue;\r\n\t\t\t\tif (test == \"true\")\r\n\t\t\t\t\tobj[k] = true;\r\n\t\t\t\telse if (test == \"false\")\r\n\t\t\t\t\tobj[k] = false;\r\n\t\t\t\telse if (test == test*1)\r\n\t\t\t\t\tobj[k] = obj[k]*1;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn obj;\r\n\t},\r\n\t//convert xml tag to js object, all subtags and attributes are mapped to the properties of result object\r\n\ttagToObject:function(tag,z){\r\n\t\tvar isArray = tag.nodeType == 1 && tag.getAttribute(\"stack\");\r\n\t\tvar hasSubTags = 0;\r\n\r\n\t\tif (!isArray){\r\n\t\t\tz=z||{};\r\n\t\t\t\r\n\r\n\t\t\t//map attributes\r\n\t\t\tvar a=tag.attributes;\r\n\t\t\tif(a && a.length)\r\n\t\t\t\tfor (var i=0; i<a.length; i++){\r\n\t\t\t \t\tz[a[i].name]=a[i].value;\r\n\t\t\t \t\thasSubTags = 1;\r\n\t\t\t \t}\r\n\r\n\t\t\t//map subtags\r\n\t\t\tvar b=tag.childNodes;\r\n\t\t\tfor (var i=0; i<b.length; i++)\r\n\t\t\t\tif (b[i].nodeType==1){\r\n\t\t\t\t\tvar name = b[i].tagName;\r\n\t\t\t\t\tif (z[name]){\r\n\t\t\t\t\t\tif (typeof z[name].push != \"function\")\r\n\t\t\t\t\t\t\tz[name] = [z[name]];\r\n\t\t\t\t\t\tz[name].push(this.tagToObject(b[i],{}));\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\tz[name]=this.tagToObject(b[i],{});\t//sub-object for complex subtags\r\n\t\t\t\t\thasSubTags = 2;\r\n\t\t\t\t}\r\n\r\n\t\t\tif (!hasSubTags)\r\n\t\t\t\treturn this.nodeValue(tag);\r\n\t\t\t//each object will have its text content as \"value\" property\r\n\t\t\t//only if has not sub tags\r\n\t\t\tif (hasSubTags < 2)\r\n\t\t\t\tz.value = z.value||this.nodeValue(tag);\r\n\r\n\t\t} else {\r\n\t\t\tz = [];\r\n\t\t\tvar b=tag.childNodes;\r\n\t\t\tfor (var i=0; i<b.length; i++)\r\n\t\t\t\tif (b[i].nodeType==1)\r\n\t\t\t\t\tz.push(this.tagToObject(b[i],{}));\r\n\t\t}\r\n\r\n\t\treturn z;\r\n\t},\r\n\t//get value of xml node \r\n\tnodeValue:function(node){\r\n\t\tif (node.firstChild){\r\n\t\t\treturn node.firstChild.wholeText || node.firstChild.data;\r\n\t\t}\r\n\t\treturn \"\";\r\n\t},\r\n\t//convert XML string to XML object\r\n\tfromString:function(xmlString){\r\n\t\ttry{\r\n\t\t\tif (window.DOMParser)\t\t// FF, KHTML, Opera\r\n\t\t\t\treturn (new DOMParser()).parseFromString(xmlString,\"text/xml\");\r\n\t\t\tif (window.ActiveXObject){\t// IE, utf-8 only \r\n\t\t\t\tvar temp=new ActiveXObject(\"Microsoft.xmlDOM\");\r\n\t\t\t\ttemp.loadXML(xmlString);\r\n\t\t\t\treturn temp;\r\n\t\t\t}\r\n\t\t} catch(e){\r\n\t\t\twebix.assert_error(e);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\twebix.assert_error(\"Load from xml string is not supported\");\r\n\t}\r\n};\r\n\r\n\r\nwebix.debug_code(function(){\r\n\twebix.debug_load_event = webix.attachEvent(\"onLoadError\", function(text, xml, xhttp, owner){\r\n\t\ttext = text || \"[EMPTY DATA]\";\r\n\t\tvar error_text = \"Data loading error, check console for details\";\r\n\t\tif (text.indexOf(\"<?php\") === 0)\r\n\t\t\terror_text = \"PHP support missed\";\r\n\t\telse if (text.indexOf(\"WEBIX_ERROR:\") === 0)\r\n\t\t\terror_text = text.replace(\"WEBIX_ERROR:\",\"\");\r\n\r\n\t\tif (webix.message)\r\n\t\t\twebix.message({\r\n\t\t\t\ttype:\"debug\",\r\n\t\t\t\ttext:error_text,\r\n\t\t\t\texpire:-1\r\n\t\t\t});\r\n\t\tif (window.console){\r\n\t\t\tvar logger = window.console;\r\n\t\t\tlogger.log(\"Data loading error\");\r\n\t\t\tlogger.log(\"Object:\", owner);\r\n\t\t\tlogger.log(\"Response:\", text);\r\n\t\t\tlogger.log(\"XHTTP:\", xhttp);\r\n\t\t}\r\n\t});\r\n\r\n\twebix.ready(function(){\r\n\t\tvar path = document.location.href;\r\n\t\tif (path.indexOf(\"file:\")===0){\r\n\t\t\tif (webix.message)\r\n\t\t\t\twebix.message({\r\n\t\t\t\t\ttype:\"error\", \r\n\t\t\t\t\ttext:\"Please open sample by http,<br>not as file://\",\r\n\t\t\t\t\texpire:-1\r\n\t\t\t\t});\r\n\t\t\telse \r\n\t\t\t\twindow.alert(\"Please open sample by http, not as file://\");\r\n\t\t}\r\n\t});\r\n\t\r\n});\r\n\r\n\r\n\r\n//UI interface\r\nwebix.BaseBind = {\r\n\tbind:function(target, rule, format){\r\n\t\tif (!this.attachEvent)\r\n\t\t\twebix.extend(this, webix.EventSystem);\r\n\r\n\t\tif (typeof target == 'string')\r\n\t\t\ttarget = webix.$$(target);\r\n\t\t\t\r\n\t\tif (target._initBindSource) target._initBindSource();\r\n\t\tif (this._initBindSource) this._initBindSource();\r\n\r\n\t\t\r\n\t\t\t\r\n\t\tif (!target.getBindData)\r\n\t\t\twebix.extend(target, webix.BindSource);\r\n\r\n\t\tthis._bind_ready();\r\n\r\n\t\ttarget.addBind(this._settings.id, rule, format);\r\n\t\tthis._bind_source = target._settings.id;\r\n\r\n\t\tif (webix.debug_bind)\r\n\t\t\twebix.log(\"[bind] \"+this.name+\"@\"+this._settings.id+\" <= \"+target.name+\"@\"+target._settings.id);\r\n\r\n\t\tvar target_id = this._settings.id;\r\n\t\t//FIXME - check for touchable is not the best solution, to detect necessary event\r\n\t\tthis._bind_refresh_handler = this.attachEvent(this.touchable?\"onAfterRender\":\"onBindRequest\", function(){\r\n\t\t\treturn target.getBindData(target_id);\r\n\t\t});\r\n\r\n\t\tif (this.refresh && this.isVisible(this._settings.id))\r\n\t\t\tthis.refresh();\r\n\t},\r\n\tunbind:function(){\r\n\t\tif (this._bind_source){\r\n\t\t\tvar target = webix.$$(this._bind_source);\r\n\t\t\tif (target)\r\n\t\t\t\ttarget.removeBind(this._settings.id);\r\n\t\t\tthis.detachEvent(this._bind_refresh_handler);\r\n\t\t\tthis._bind_source = null;\r\n\t\t}\r\n\t},\r\n\t_bind_ready:function(){\r\n\t\tvar config = this._settings;\r\n\t\tif (this.filter){\r\n\t\t\tvar key = config.id;\r\n\t\t\tthis.data._on_sync = webix.bind(function(){\r\n\t\t\t\twebix.$$(this._bind_source)._bind_updated[key] = false;\r\n\t\t\t}, this);\r\n\t\t}\r\n\r\n\t\tvar old_render = this.render;\r\n\t\tthis.render = function(){\r\n\t\t\tif (this._in_bind_processing) return;\r\n\t\t\t\r\n\t\t\tthis._in_bind_processing = true;\r\n\t\t\tvar result = this.callEvent(\"onBindRequest\");\r\n\t\t\tthis._in_bind_processing = false;\r\n\t\t\t\r\n\t\t\treturn old_render.apply(this, ((result === false)?arguments:[]));\r\n\t\t};\r\n\r\n\t\tif (this.getValue||this.getValues)\r\n\t\t\tthis.save = function(){\r\n\t\t\t\tif (this.validate && !this.validate()) return false;\r\n\t\t\t\twebix.$$(this._bind_source).setBindData((this.getValue?this.getValue:this.getValues()),this._settings.id);\r\n\t\t\t\t//reset form, so it will be counted as saved\r\n\t\t\t\tif (this.setDirty)\r\n\t\t\t\t\tthis.setDirty(false);\r\n\t\t\t};\r\n\r\n\t\tthis._bind_ready = function(){};\r\n\t}\r\n};\r\n\r\n//bind interface\r\nwebix.BindSource = {\r\n\t$init:function(){\r\n\t\tthis._bind_hash = {};\t\t//rules per target\r\n\t\tthis._bind_updated = {};\t//update flags\r\n\t\tthis._ignore_binds = {};\r\n\t\t\r\n\t\t//apply specific bind extension\r\n\t\tthis._bind_specific_rules(this);\r\n\t},\r\n\tsaveBatch:function(code){\r\n\t\tthis._do_not_update_binds = true;\r\n\t\tcode.call(this);\r\n\t\tthis._do_not_update_binds = false;\r\n\t\tthis._update_binds();\r\n\t},\r\n\tsetBindData:function(data, key){\r\n\t\t//save called, updating master data\r\n\t\tif (key)\r\n\t\t\tthis._ignore_binds[key] = true;\r\n\r\n\t\tif (webix.debug_bind)\r\n\t\t\t\twebix.log(\"[bind:save] \"+this.name+\"@\"+this._settings.id+\" <= \"+\"@\"+key);\r\n\t\tif (this.setValue)\r\n\t\t\tthis.setValue(data);\r\n\t\telse if (this.setValues)\r\n\t\t\tthis.setValues(data);\r\n\t\telse {\r\n\t\t\tvar id = this.getCursor();\r\n\t\t\tif (id)\r\n\t\t\t\tthis.updateItem(id, data);\r\n\t\t\telse\r\n\t\t\t\tthis.add(data);\r\n\t\t}\r\n\t\tthis.callEvent(\"onBindUpdate\", [data, key]);\t\t\r\n\t\tif (this.save)\r\n\t\t\tthis.save();\r\n\t\t\r\n\t\tif (key)\r\n\t\t\tthis._ignore_binds[key] = false;\r\n\t},\r\n\t//fill target with data\r\n\tgetBindData:function(key, update){\r\n\t\t//fire only if we have data updates from the last time\r\n\t\tif (this._bind_updated[key]) return false;\r\n\t\tvar target = webix.$$(key);\r\n\t\t//fill target only when it visible\r\n\t\tif (target.isVisible(target._settings.id)){\r\n\t\t\tthis._bind_updated[key] = true;\r\n\t\t\tif (webix.debug_bind)\r\n\t\t\t\twebix.log(\"[bind:request] \"+this.name+\"@\"+this._settings.id+\" => \"+target.name+\"@\"+target._settings.id);\r\n\t\t\tthis._bind_update(target, this._bind_hash[key][0], this._bind_hash[key][1]); //trigger component specific updating logic\r\n\t\t\tif (update && target.filter)\r\n\t\t\t\ttarget.refresh();\r\n\t\t}\r\n\t},\r\n\t//add one more bind target\r\n\taddBind:function(source, rule, format){\r\n\t\tthis._bind_hash[source] = [rule, format];\r\n\t},\r\n\tremoveBind:function(source){\r\n\t\tdelete this._bind_hash[source];\r\n\t\tdelete this._bind_updated[source];\r\n\t\tdelete this._ignore_binds[source];\r\n\t},\r\n\t//returns true if object belong to \"collection\" type\r\n\t_bind_specific_rules:function(obj){\r\n\t\tif (obj.filter)\r\n\t\t\twebix.extend(this, webix.CollectionBind);\r\n\t\telse if (obj.setValue)\r\n\t\t\twebix.extend(this, webix.ValueBind);\r\n\t\telse\r\n\t\t\twebix.extend(this, webix.RecordBind);\r\n\t},\r\n\t//inform all binded objects, that source data was updated\r\n\t_update_binds:function(){\r\n\t\tif (!this._do_not_update_binds)\r\n\t\t\tfor (var key in this._bind_hash){\r\n\t\t\t\tif (this._ignore_binds[key]) continue;\r\n\t\t\t\tthis._bind_updated[key] = false;\r\n\t\t\t\tthis.getBindData(key, true);\r\n\t\t\t}\r\n\t},\r\n\t//copy data from source to the target\r\n\t_bind_update_common:function(target, rule, data){\r\n\t\tif (target.setValue)\r\n\t\t\ttarget.setValue((data&&rule)?data[rule]:data);\r\n\t\telse if (!target.filter){\r\n\t\t\tif (!data && target.clear)\r\n\t\t\t\ttarget.clear();\r\n\t\t\telse {\r\n\t\t\t\tif (target._check_data_feed(data))\r\n\t\t\t\t\ttarget.setValues(webix.clone(data));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttarget.data.silent(function(){\r\n\t\t\t\tthis.filter(rule,data);\r\n\t\t\t});\r\n\t\t}\r\n\t\ttarget.callEvent(\"onBindApply\", [data,rule,this]);\r\n\t}\r\n};\r\n\r\n\r\n//pure data objects\r\nwebix.DataValue = webix.proto({\r\n\tname:\"DataValue\",\r\n\tisVisible:function(){ return true; },\r\n\t$init:function(config){ \r\n\t\tif (!config || webix.isUndefined(config.value))\r\n\t\t\tthis.data = config||\"\";\r\n\r\n\t\tvar id = (config&&config.id)?config.id:webix.uid();\r\n\t\tthis._settings = { id:id };\r\n\t\twebix.ui.views[id] = this;\r\n\t},\r\n\tsetValue:function(value){\r\n\t\tthis.data = value;\r\n\t\tthis.callEvent(\"onChange\", [value]);\r\n\t},\r\n\tgetValue:function(){\r\n\t\treturn this.data;\r\n\t},\r\n\trefresh:function(){ this.callEvent(\"onBindRequest\"); }\r\n}, webix.EventSystem, webix.BaseBind);\r\n\r\nwebix.DataRecord = webix.proto({\r\n\tname:\"DataRecord\",\r\n\tisVisible:function(){ return true; },\r\n\t$init:function(config){\r\n\t\tthis.data = config||{}; \r\n\t\tvar id = (config&&config.id)?config.id:webix.uid();\r\n\t\tthis._settings = { id:id };\r\n\t\twebix.ui.views[id] = this;\r\n\t},\r\n\tgetValues:function(){\r\n\t\treturn this.data;\r\n\t},\r\n\tsetValues:function(data, update){\r\n\t\tthis.data = update?webix.extend(this.data, data, true):data;\r\n\t\tthis.callEvent(\"onChange\", [data]);\r\n\t},\r\n\trefresh:function(){ this.callEvent(\"onBindRequest\"); }\r\n}, webix.EventSystem, webix.BaseBind, webix.AtomDataLoader, webix.Settings);\r\n\r\n\r\nwebix.ValueBind={\r\n\t$init:function(){\r\n\t\tthis.attachEvent(\"onChange\", this._update_binds);\r\n\t},\r\n\t_bind_update:function(target, rule, format){\r\n\t\trule = rule || \"value\";\r\n\t\tvar data = this.getValue()||\"\";\r\n\t\tif (format) data = format(data);\r\n\t\t\r\n\t\tif (target.setValue)\r\n\t\t\ttarget.setValue(data);\r\n\t\telse if (!target.filter){\r\n\t\t\tvar pod = {}; pod[rule] = data;\r\n\t\t\tif (target._check_data_feed(data))\r\n\t\t\t\ttarget.setValues(pod);\r\n\t\t} else{\r\n\t\t\ttarget.data.silent(function(){\r\n\t\t\t\tthis.filter(rule,data);\r\n\t\t\t});\r\n\t\t}\r\n\t\ttarget.callEvent(\"onBindApply\", [data,rule,this]);\r\n\t}\r\n};\r\n\r\nwebix.RecordBind={\r\n\t$init:function(){\r\n\t\tthis.attachEvent(\"onChange\", this._update_binds);\t\t\r\n\t},\r\n\t_bind_update:function(target, rule, format){\r\n\t\tvar data = this.getValues()||null;\r\n\t\tif (format)\r\n\t\t\tdata = format(data);\r\n\t\tthis._bind_update_common(target, rule, data);\r\n\t}\r\n};\r\n\r\nwebix.CollectionBind={\r\n\t$init:function(){\r\n\t\tthis._cursor = null;\r\n\t\tthis.attachEvent(\"onSelectChange\", function(data){\r\n\t\t\tvar sel = this.getSelectedId();\r\n\t\t\tthis.setCursor(sel?(sel.id||sel):null);\r\n\t\t});\r\n\t\tthis.attachEvent(\"onAfterCursorChange\", this._update_binds);\t\t\r\n\t\tthis.attachEvent(\"onAfterDelete\", function(id){\r\n\t\t\tif (id == this.getCursor())\r\n\t\t\t\tthis.setCursor(null);\r\n\t\t});\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\", webix.bind(function(id, data, mode){\r\n\t\t\t//paint - ignored\r\n\t\t\t//delete - handled by onAfterDelete above\r\n\t\t\tif (id && id == this.getCursor() && mode != \"paint\" && mode != \"delete\")\r\n\t\t\t\tthis._update_binds();\r\n\t\t\t\r\n\t\t},this));\r\n\t\tthis.data.attachEvent(\"onClearAll\", webix.bind(function(){\r\n\t\t\tthis._cursor = null;\r\n\t\t},this));\r\n\t\tthis.data.attachEvent(\"onIdChange\", webix.bind(function(oldid, newid){\r\n\t\t\tif (this._cursor == oldid){\r\n\t\t\t\tthis._cursor = newid;\r\n\t\t\t\tthis._update_binds();\r\n\t\t\t}\r\n\t\t},this));\r\n\t},\r\n\trefreshCursor:function(){\r\n\t\tif (this._cursor)\r\n\t\t\tthis.callEvent(\"onAfterCursorChange\",[this._cursor]);\r\n\t},\r\n\tsetCursor:function(id){\r\n\t\tif (id == this._cursor || (id !== null && !this.getItem(id))) return;\r\n\t\t\r\n\t\tthis.callEvent(\"onBeforeCursorChange\", [this._cursor]);\r\n\t\tthis._cursor = id;\r\n\t\tthis.callEvent(\"onAfterCursorChange\",[id]);\r\n\t},\r\n\tgetCursor:function(){\r\n\t\treturn this._cursor;\r\n\t},\r\n\t_bind_update:function(target, rule, format){\r\n\t\tif (rule == \"$level\" && this.data.getBranch)\r\n\t\t\treturn (target.data || target).importData(this.data.getBranch(this.getCursor()));\r\n\r\n\t\tvar data = this.getItem(this.getCursor())|| this._settings.defaultData || null;\r\n\t\tif (rule == \"$data\"){\r\n\t\t\tif (typeof format === \"function\")\r\n\t\t\t\tformat.call(target, data, this);\r\n\t\t\telse\r\n\t\t\t\ttarget.data.importData(data?data[format]:[]);\r\n\t\t\ttarget.callEvent(\"onBindApply\", [data,rule,this]);\r\n\t\t} else {\r\n\t\t\tif (format)\r\n\t\t\t\tdata = format(data);\r\n\t\t\tthis._bind_update_common(target, rule, data);\r\n\t\t}\r\n\t}\r\n};\t\r\n\r\n\r\n\r\n/*\r\n\tREnders single item. \r\n\tCan be used for elements without datastore, or with complex custom rendering logic\r\n\t\r\n\t@export\r\n\t\trender\r\n*/\r\n\r\n\r\n\r\nwebix.AtomRender={\r\n\t//convert item to the HTML text\r\n\t_toHTML:function(obj){\r\n\t\tif (obj.$empty )\r\n\t\t\treturn \"\";\r\n\t\treturn this._settings.template(obj, this);\r\n\t},\r\n\t//render self, by templating data object\r\n\trender:function(){\r\n\t\tvar cfg = this._settings;\r\n\t\tif (this.isVisible(cfg.id)){\r\n\t\t\tif (webix.debug_render)\r\n\t\t\t\twebix.log(\"Render: \"+this.name+\"@\"+cfg.id);\r\n\t\t\tif (!this.callEvent || this.callEvent(\"onBeforeRender\",[this.data])){\r\n\t\t\t\tif (this.data && !cfg.content){\r\n\t\t\t\t\t//it is critical to have this as two commands\r\n\t\t\t\t\t//its prevent destruction race in Chrome\r\n\t\t\t\t\tthis._dataobj.innerHTML = \"\";\r\n\t\t\t\t\tthis._dataobj.innerHTML = this._toHTML(this.data);\r\n\t\t\t\t}\r\n\t\t\t\tif (this.callEvent) this.callEvent(\"onAfterRender\",[]);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\tsync:function(source){\r\n\t\tthis._backbone_sync = false;\r\n\t\tif (source.name != \"DataStore\"){\r\n\t\t\tif (source.data && source.name == \"DataStore\"){\r\n\t\t\t\tsource = source.data;\r\n\t\t\t} else {\r\n\t\t\t\tthis._backbone_sync = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\r\n\t\tif (this._backbone_sync)\r\n\t\t\tsource.bind(\"change\", webix.bind(function(data){\r\n\t\t\t\tif (data.id == this.data.id){\r\n\t\t\t\t\tthis.data = data.attributes;\r\n\t\t\t\t\tthis.refresh();\r\n\t\t\t\t}\r\n\t\t\t}, this));\r\n\t\telse\r\n\t\t\tsource.attachEvent(\"onStoreUpdated\", webix.bind(function(id){\r\n\t\t\t\tif (!id || id == this.data.id){\r\n\t\t\t\t\tthis.data = source.pull[id];\r\n\t\t\t\t\tthis.refresh();\r\n\t\t\t\t}\r\n\t\t\t}, this));\r\n\t},\r\n\ttemplate_setter:webix.template\r\n};\r\n\r\nwebix.SingleRender=webix.proto({\r\n    template_setter:function(value){\r\n\t\tthis.type.template=webix.template(value);\r\n\t},\r\n\t//convert item to the HTML text\r\n\t_toHTML:function(obj){\r\n\t\tvar type = this.type;\r\n\t\treturn (type.templateStart?type.templateStart(obj,type):\"\") + type.template(obj,type) + (type.templateEnd?type.templateEnd(obj,type):\"\");\r\n\t},\r\n\tcustomize:function(obj){\r\n\t\twebix.type(this,obj);\r\n\t}\r\n}, webix.AtomRender);\r\n\r\nwebix.UIManager = {\r\n\t_view: null,\r\n\t_hotkeys: {},\r\n\t_focus_time:0,\r\n\t_controls: {\r\n\t\t'enter': 13,\r\n\t\t'tab': 9,\r\n\t\t'esc': 27,\r\n\t\t'escape': 27,\r\n\t\t'up': 38,\r\n\t\t'down': 40,\r\n\t\t'left': 37,\r\n\t\t'right': 39,\r\n\t\t'pgdown': 34,\r\n\t\t'pagedown': 34,\r\n\t\t'pgup': 33,\r\n\t\t'pageup': 33,\r\n\t\t'end': 35,\r\n\t\t'home': 36,\r\n\t\t'insert': 45,\r\n\t\t'delete': 46,\r\n\t\t'backspace': 8,\r\n\t\t'space': 32,\r\n\t\t'meta': 91,\r\n\t\t'win': 91,\r\n\t\t'mac': 91,\r\n\t\t'multiply': 106,\r\n\t\t'add': 107,\r\n\t\t'subtract': 109,\r\n\t\t'decimal': 110,\r\n\t\t'divide': 111,\r\n\t\t'scrollock':145,\r\n\t\t'pausebreak':19,\r\n\t\t'numlock':144,\r\n\t\t'5numlocked':12,\r\n\t\t'shift':16,\r\n\t\t'capslock':20\r\n\t},\r\n\t_inputs:{\r\n\t\t\"input\": 1,\r\n\t\t\"button\":1,\r\n\t\t\"textarea\":1,\r\n\t\t\"select\":1\r\n\t},\r\n\t_enable: function() {\r\n\t\t// attaching events here\r\n\t\twebix.event(document.body, \"click\", webix.bind(this._focus_click, this));\r\n\t\twebix.event(document, \"keydown\", webix.bind(this._keypress, this));\r\n\t\tif (document.body.addEventListener)\r\n\t\t\tdocument.body.addEventListener(\"focus\", webix.bind(this._focus_tab, this), true);\r\n\r\n\t\twebix.destructors.push(this);\r\n\t},\r\n\tdestructor:function(){\r\n\t\twebix.UIManager._view = null;\r\n\t},\r\n\tgetFocus: function() {\r\n\t\treturn this._view;\r\n\t},\r\n\t_focus_action:function(view){\r\n\t\tthis._focus_was_there = this._focus_was_there || view._settings.id;\r\n\t},\r\n\tsetFocus: function(view, only_api){\r\n\t\t//view can be empty\r\n\t\tview = webix.$$(view);\r\n\t\t//unfocus if view is hidden\r\n\t\tif (view && !view.$view) view = null;\r\n\t\tthis._focus_time = webix._focus_time = new Date();\r\n\r\n\t\tif (this._view === view) return true;\r\n\t\tif (this._view && this._view.callEvent)\r\n\t\t\tthis._view.callEvent(\"onBlur\", [this._view]);\r\n\r\n\t\tif (view && view.callEvent)\r\n\t\t\tview.callEvent(\"onFocus\", [view, this._view]);\r\n\t\twebix.callEvent(\"onFocusChange\", [view, this._view]);\r\n\r\n\t\tif (this._view && this._view.blur && !only_api) this._view.blur();\r\n\t\tthis._view = view;\r\n\t\tif (view && view.focus && !only_api) view.focus();\r\n\t\treturn true;\r\n\t},\r\n\tapplyChanges: function(element){\r\n\t\tvar view = this.getFocus();\r\n\t\tif (view && view != element && view._applyChanges)\r\n\t\t\tview._applyChanges(element);\r\n\t},\r\n\thasFocus: function(view) {\r\n\t\treturn (view === this._view) ? true : false;\r\n\t},\r\n\t_focus: function(e, dont_clear) {\r\n\t\tvar view = webix.html.locate(e, \"view_id\") || this._focus_was_there;\r\n\r\n\t\t//if html was repainted we can miss the view, so checking last processed one\r\n\t\tview = webix.$$(view);\r\n\t\tthis._focus_was_there = null;\r\n\r\n\t\tif (view == this._view) return;\r\n\r\n\t\tif (!dont_clear)\r\n\t\t\tthis._focus_was_there = null;\r\n\t\t\r\n\t\tif (view){\r\n\t\t\tview = webix.$$(view);\r\n\t\t\tif (this.canFocus(view))\r\n\t\t\t\tthis.setFocus(view);\r\n\t\t} else if (!dont_clear)\r\n\t\t\tthis.setFocus(null);\r\n\r\n\t\treturn true;\r\n\t},\r\n\t_focus_click:function(e){\r\n\t\t// if it was onfocus/onclick less then 100ms behore then we ignore it\r\n\t\tif ((new Date())-this._focus_time < 100) {\r\n\t\t\tthis._focus_was_there = null;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn this._focus(e);\r\n\t},\r\n\t_focus_tab: function(e) {\r\n\t\tif(!this._inputs[e.target.nodeName.toLowerCase()])\r\n\t\t\treturn false;\r\n\t\treturn this._focus(e, true);\r\n\t},\r\n\tcanFocus:function(view){\r\n\t\treturn view.isVisible() && view.isEnabled();\r\n\t},\r\n\r\n\t_moveChildFocus: function(check_view){\r\n\t\tvar focus = this.getFocus();\r\n\t\t//we have not focus inside of closing item\r\n\t\tif (check_view && !this._is_child_of(check_view, focus))\r\n\t\t\treturn false;\r\n\r\n\t\tif (!this._focus_logic(\"getPrev\", check_view))\r\n\t\t\tthis.setFocus(this.getPrev(check_view));\r\n\t\telse \r\n\t\t\tthis._view = null;\r\n\t},\r\n\t_translation_table:{\r\n\t},\r\n\t_is_child_of: function(parent, child) {\r\n\t\tif (!parent) return false;\r\n\t\tif (!child) return false;\r\n\t\twhile (child) {\r\n\t\t\tif (child === parent) return true;\r\n\t\t\tchild = child.getParentView();\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\t_keypress_timed:function(){\r\n\t\tif (this && this.callEvent)\r\n\t\t\tthis.callEvent(\"onTimedKeyPress\",[]);\r\n\t},\r\n\t_isNumPad: function(code){\r\n\t\treturn code < 112 &&  code>105;\r\n\t},\r\n\t_keypress: function(e) {\r\n\t\tvar code = e.which || e.keyCode;\r\n\t\tif(code>95 && code< 106)\r\n\t\t\tcode -= 48; //numpad support (numbers)\r\n\t\tcode = this._translation_table[code] || code;\r\n\t\t\r\n\t\tvar ctrl = e.ctrlKey;\r\n\t\tvar shift = e.shiftKey;\r\n\t\tvar alt = e.altKey;\r\n\t\tvar meta = e.metaKey;\r\n\t\tvar codeid = this._keycode(code, ctrl, shift, alt, meta);\r\n\t\tvar view = this.getFocus();\r\n\t\tif (view && view.callEvent) {\r\n\t\t\tif (view.callEvent(\"onKeyPress\", [code,e]) === false)\r\n\t\t\t\twebix.html.preventEvent(e);\r\n\t\t\tif (view.hasEvent(\"onTimedKeyPress\")){\r\n\t\t\t\tclearTimeout(view._key_press_timeout);\r\n\t\t\t\tview._key_press_timeout = webix.delay(this._keypress_timed, view, [], (view._settings.keyPressTimeout||250));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(!this._isNumPad(code))\r\n\t\t\tcodeid = this._keycode(String.fromCharCode(code), ctrl, shift, alt, meta);\r\n\t\t//flag, that some non-special key was pressed\r\n\t\tvar is_any = !ctrl && !alt && !meta && (code!=9)&&(code!=27)&&(code!=13);\r\n\r\n\t\tif (this._check_keycode(codeid, is_any, e) === false) {\r\n\t\t\twebix.html.preventEvent(e);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t},\r\n\r\n\t// dir - getNext or getPrev\r\n\t_focus_logic: function(dir) {\r\n\t\tif (!this.getFocus()) return null;\r\n\r\n\t\tdir = dir || \"getNext\";\r\n\t\tvar next = this.getFocus();\r\n\t\tvar start = next;\r\n\t\tvar marker = webix.uid();\r\n\r\n\t\twhile (true) {\r\n\t\t\tnext = this[dir](next);\r\n\t\t\t// view with focus ability\r\n\t\t\tif (next && this.canFocus(next))\r\n\t\t\t\treturn this.setFocus(next);\r\n\r\n\t\t\t// elements with focus ability not found\r\n\t\t\tif (next === start || next.$fmarker == marker)\r\n\t\t\t\treturn null;\r\n\t\t\t\r\n\t\t\t//prevents infinity loop\r\n\t\t\tnext.$fmarker = marker;\r\n\t\t}\r\n\t},\r\n\r\n\tgetTop: function(id) {\r\n\t\tvar next, view = webix.$$(id);\r\n\r\n\t\twhile (view && (next = view.getParentView()))\r\n\t\t\tview = next;\r\n\t\treturn view;\r\n\t},\r\n\r\n\tgetNext: function(view, _inner_call) {\r\n\t\tvar cells = view.getChildViews();\r\n\t\t//tab to first children\r\n\t\tif (cells.length && !_inner_call) return cells[0];\r\n\r\n\t\t//unique case - single view without child and parent\r\n\t\tvar parent = view.getParentView();\r\n\t\tif (!parent)\r\n\t\t\treturn view;\r\n\r\n\t\tvar p_cells = parent.getChildViews();\r\n\t\tif (p_cells.length){\r\n\t\t\tvar index = webix.PowerArray.find.call(p_cells, view)+1;\r\n\t\t\twhile (index < p_cells.length) {\r\n\t\t\t\t//next visible child\r\n\t\t\t\tif (this.canFocus(p_cells[index])) \r\n\t\t\t\t\treturn p_cells[index];\r\n\r\n\t\t\t\tindex++;\r\n\t\t\t}\r\n\t\t} \r\n\r\n\t\t//sibling of parent\r\n\t\treturn this.getNext(parent, true);\r\n\t},\r\n\r\n\tgetPrev: function(view, _inner_call) {\r\n\t\tvar cells = view.getChildViews();\r\n\t\t//last child of last child\r\n\t\tif (cells.length && _inner_call) \r\n\t\t\treturn this.getPrev(cells[cells.length - 1], true);\r\n\t\tif (_inner_call) return view;\r\n\r\n\t\t//fallback from top to bottom\r\n\t\tvar parent = view.getParentView();\r\n\t\tif (!parent) return this.getPrev(view, true);\r\n\r\n\r\n\t\tvar p_cells = parent.getChildViews();\r\n\t\tif (p_cells) {\r\n\t\t\tvar index = webix.PowerArray.find.call(p_cells, view)-1;\r\n\t\t\twhile (index >= 0) {\r\n\t\t\t\tif (this.canFocus(p_cells[index]))\r\n\t\t\t\t\treturn this.getPrev(p_cells[index], true);\r\n\t\t\t\tindex--;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn parent;\r\n\t},\r\n\r\n\taddHotKey: function(keys, handler, view) {\r\n\t\twebix.assert(handler, \"Hot key handler is not defined\");\r\n\t\tvar pack = this._parse_keys(keys);\r\n\t\twebix.assert(pack.letter, \"Unknown key code\");\r\n\t\tif (!view) view = null;\r\n\t\tpack.handler = handler;\r\n\t\tpack.view = view;\r\n\t\t\r\n\r\n\t\tvar code = this._keycode(pack.letter, pack.ctrl, pack.shift, pack.alt, pack.meta);\r\n\t\tif (!this._hotkeys[code]) this._hotkeys[code] = [];\r\n\t\tthis._hotkeys[code].push(pack);\r\n\r\n\t\treturn keys;\r\n\t},\r\n\tremoveHotKey: function(keys, func, view){\r\n\t\tvar pack = this._parse_keys(keys);\r\n\t\tvar code = this._keycode(pack.letter, pack.ctrl, pack.shift, pack.alt, pack.meta);\r\n\t\tif (!func && !view)\r\n\t\t\tdelete this._hotkeys[code];\r\n\t\telse {\r\n\t\t\tvar t = this._hotkeys[code];\r\n\t\t\tif (t){\r\n\t\t\t\tfor (var i = t.length - 1; i >= 0; i--) {\r\n\t\t\t\t\tif (view && t[i].view !== view) continue;\r\n\t\t\t\t\tif (func && t[i].handler !== func) continue;\r\n\t\t\t\t\tt.splice(i,1);\r\n\t\t\t\t}\r\n\t\t\t\tif (!t.length)\r\n\t\t\t\t\tdelete this._hotkeys[code];\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t},\r\n\t_keycode: function(code, ctrl, shift, alt, meta) {\r\n\t\treturn code+\"_\"+[\"\", (ctrl ? '1' : '0'), (shift ? '1' : '0'), (alt ? '1' : '0'), (meta ? '1' : '0')].join('');\r\n\t},\r\n\r\n\t_check_keycode: function(code, is_any, e){\r\n\t\tvar focus = this.getFocus();\r\n\t\tif (this._hotkeys[code])\r\n\t\t\treturn  this._process_calls(this._hotkeys[code], focus, e);\r\n\t\telse if (is_any && this._hotkeys[\"ANY_0000\"])\r\n\t\t\treturn  this._process_calls(this._hotkeys[\"ANY_0000\"], focus, e);\r\n\r\n\t\treturn true;\r\n\t},\r\n\t_process_calls:function(calls, focus, e){\r\n\t\tfor (var i = 0; i < calls.length; i++) {\r\n\t\t\tvar key = calls[i];\r\n\t\t\tvar call = false;\r\n\t\t\tif ((key.view !== null) &&\t\t//common hot-key\r\n\t\t\t\t(focus !== key.view) &&\t\t//hot-key for current view\r\n\t\t\t\t//hotkey for current type of view\r\n\t\t\t\t(typeof(key.view) !== 'string' || !focus || focus.name !== key.view)) continue;\r\n\r\n\t\t\tvar temp_result = key.handler(focus, e);\r\n\t\t\tif (!!temp_result === temp_result) return temp_result;\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\t_parse_keys: function(keys) {\r\n\t\tvar controls = this._controls;\r\n\t\tvar parts = keys.toLowerCase().split(/[\\+\\-_]/);\r\n\t\tvar ctrl, shift, alt, meta;\r\n\t\tctrl = shift = alt = meta = 0;\r\n\t\tvar letter = \"\";\r\n\t\tfor (var i = 0; i < parts.length; i++) {\r\n\t\t\tif (parts[i] === 'ctrl') ctrl = 1;\r\n\t\t\telse if (parts[i] === 'shift') shift = 1;\r\n\t\t\telse if (parts[i] === 'alt') alt = 1;\r\n\t\t\telse if (parts[i] === 'command') meta = 1;\r\n\t\t\telse {\r\n\t\t\t\tif (controls[parts[i]]) {\r\n\t\t\t\t\tvar code = controls[parts[i]];\r\n\t\t\t\t\tif(this._isNumPad(code))\r\n\t\t\t\t\t\tletter = code.toString();\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tletter = String.fromCharCode(code);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tletter = parts[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tletter: letter.toUpperCase(),\r\n\t\t\tctrl: ctrl,\r\n\t\t\tshift: shift,\r\n\t\t\talt: alt,\r\n\t\t\tmeta: meta,\r\n\t\t\tdebug:keys\r\n\t\t};\r\n\t}\r\n};\r\n\r\nwebix.ready(function() {\r\n\twebix.UIManager._enable();\r\n\r\n\twebix.UIManager.addHotKey(\"enter\", function(view, ev){\r\n\t\tif (view && view.editStop && view._in_edit_mode){\r\n\t\t\tview.editStop();\r\n\t\t\treturn true;\r\n\t\t} else if (view && view.touchable){\r\n\t\t\tvar form = view.getFormView();\r\n\t\t\tif (form && !view._skipSubmit)\r\n\t\t\t\tform.callEvent(\"onSubmit\",[view,ev]);\r\n\t\t}\r\n\t});\r\n\twebix.UIManager.addHotKey(\"esc\", function(view){\r\n\t\tif (view){\r\n\t\t\tif (view.editCancel && view._in_edit_mode){\r\n\t\t\t\tview.editCancel();\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tvar top = view.getTopParentView();\r\n\t\t\tif (top && top.setPosition)\r\n\t\t\t\ttop._hide();\r\n\t\t}\r\n\t});\r\n\twebix.UIManager.addHotKey(\"shift+tab\", function(view, e){\r\n\t\tif (view && view._custom_tab_handler && !view._custom_tab_handler(false, e))\r\n\t\t\treturn false;\r\n\r\n\t\tif (view && view._in_edit_mode){\r\n\t\t\tif (view.editNext)\r\n\t\t\t\treturn view.editNext(false);\r\n\t\t\telse if (view.editStop){\r\n\t\t\t\tview.editStop();\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t\twebix.delay(function(){\r\n\t\t\t\twebix.UIManager.setFocus(webix.$$(document.activeElement), true);\r\n\t\t\t},1);\r\n\t\t\t\r\n\t});\r\n\twebix.UIManager.addHotKey(\"tab\", function(view, e){\r\n\t\tif (view && view._custom_tab_handler && !view._custom_tab_handler(true, e))\r\n\t\t\treturn false;\r\n\r\n\t\tif (view && view._in_edit_mode){\r\n\t\t\tif (view.editNext)\r\n\t\t\t\treturn view.editNext(true);\r\n\t\t\telse if (view.editStop){\r\n\t\t\t\tview.editStop();\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t} else\r\n\t\t\twebix.delay(function(){\r\n\t\t\t\twebix.UIManager.setFocus(webix.$$(document.activeElement), true);\r\n\t\t\t},1);\r\n\t});\r\n});\r\n\r\nwebix.IdSpace = {\r\n\t$init:function(){\r\n\t\tthis._elements = {};\r\n\t\tthis._translate_ids = {};\r\n\t\tthis.getTopParentView = this._get_self = webix.bind(function(){ return this;}, this);\r\n\r\n\t\tthis._run_inner_init_logic();\r\n\t\tthis.$ready.push(this._run_after_inner_init_logic);\r\n\t},\r\n\t$$:function(id){\r\n\t\treturn this._elements[id];\r\n\t},\r\n\tinnerId:function(id){\r\n\t\treturn this._translate_ids[id];\r\n\t},\r\n\t_run_inner_init_logic:function(callback){\r\n\t\tthis._prev_global_col = webix._global_collection;\r\n\t\twebix._global_collection = this;\r\n\t},\r\n\t_run_after_inner_init_logic:function(temp){\r\n\t\tfor (var name in this._elements){\r\n\t\t\tvar input = this._elements[name];\r\n\t\t\tif (this.callEvent && input.mapEvent && !input._evs_map.onitemclick)\r\n\t\t\t\tinput.mapEvent({\r\n\t\t\t\t\tonitemclick:this\r\n\t\t\t\t});\r\n\t\t\tinput.getTopParentView = this._get_self;\r\n\t\t}\r\n\r\n\t\twebix._global_collection = this._prev_global_col;\r\n\t\tthis._prev_global_col = 0;\r\n\t},\r\n\t_destroy_child:function(id){\r\n\t\tdelete this._elements[id];\r\n\t},\r\n\tui:function(){\r\n\t\tthis._run_inner_init_logic();\r\n\t\tvar temp = webix.ui.apply(webix, arguments);\r\n\t\tthis._run_after_inner_init_logic();\r\n\t\treturn temp;\r\n\t}\r\n};\r\n\r\n\r\n(function(){\r\n\r\nvar resize = [];\r\nvar ui = webix.ui;\r\n\r\nif (!webix.ui){\r\n\tui = webix.ui = function(config, parent, id){\r\n\t\twebix._ui_creation = true;\r\n\t\tvar multiset = webix.isArray(config);\r\n\t\tvar node = webix.toNode((config.container||parent)||document.body);\r\n\r\n\t\t// solve problem with non-unique ids\r\n\t\tif(node._settings)\r\n\t\t\tid = _correctId(node, multiset, id);\r\n\r\n\t\tvar top_node;\r\n\t\tvar body_child = (node == document.body);\r\n\t\tif (config._settings || (node && multiset)){\r\n\t\t\ttop_node = config;\r\n\t\t} else {\r\n\t\t\tif (node && body_child)\r\n\t\t\t\tconfig.$topView = true;\r\n\t\t\tif (!config._inner)\r\n\t\t\t\tconfig._inner = {};\r\n\r\n\t\t\ttop_node = ui._view(config);\r\n\t\t}\r\n\r\n\t\tif (body_child && !top_node.setPosition && !top_node.$apiOnly)\r\n\t\t\twebix.ui._fixHeight();\r\n\r\n\t\tif (top_node._settings && top_node._settings._hidden && !node.$view){\r\n\t\t\ttop_node._settings._container = node;\r\n\t\t} else if (!top_node.$apiOnly){\r\n\t\t\tif (node.appendChild)\r\n\t\t\t\t_appendDom(node, top_node, config);\r\n\t\t\telse if (node.destructor){\r\n\t\t\t\tvar target = node;\r\n\r\n\t\t\t\t//addView or view moving with target id\r\n\t\t\t\tif (!id && id!==0 && !webix.isArray(top_node)){\r\n\t\t\t\t\tid = node;\r\n\t\t\t\t\tnode = node.getParentView();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//if target supports view adding\r\n\t\t\t\tif (node && node._replace){\r\n\t\t\t\t\t//if source supports view removing\r\n\t\t\t\t\tif (top_node.getParentView && top_node.getParentView())\r\n\t\t\t\t\t\ttop_node.getParentView()._remove(top_node);\r\n\r\n\t\t\t\t\tnode._replace(top_node, id);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar parent = target.$view.parentNode;\r\n\t\t\t\t\ttarget.destructor();\r\n\t\t\t\t\t_appendDom(parent, top_node, config);\r\n\t\t\t\t}\r\n\t\t\t} else\r\n\t\t\t\twebix.assert_error(\"Not existing parent:\"+config.container);\r\n\t\t}\r\n\t\t\r\n\t\twebix._ui_creation = false;\r\n\t\treturn top_node;\r\n\t};\r\n\r\n\tvar _appendDom = function(node, top_node, config){\r\n\t\tnode.appendChild(top_node._viewobj);\r\n\t\t//resize window with position center or top\r\n\t\t//do not resize other windows and elements\r\n\t\t// which are attached to custom html containers\r\n\t\tif (((!top_node.setPosition || top_node._settings.fullscreen) && node == document.body) || top_node._settings.position )\r\n\t\t\tresize.push(top_node);\r\n\t\tif (!config.skipResize)\r\n\t\t\ttop_node.adjust();\r\n\t};\r\n\r\n\tvar _correctId = function(target, multiset, id){\r\n\t\t//replace view\r\n\t\tvar views = [target];\r\n\t\t//replace content of layout\r\n\t\tif (multiset)\r\n\t\t\tviews = target.getChildViews();\r\n\t\t//replace content of window\r\n\t\telse if (target._body_cell)\r\n\t\t\tviews = [target._body_cell];\r\n\t\t//add cell in layout by number\r\n\t\telse if (typeof id == \"number\"){\r\n\t\t\treturn id;\r\n\t\t//replace cell in layout by id\r\n\t\t} else if (id){\r\n\t\t\tviews = [webix.$$(id)];\r\n\t\t\t_deleteIds(views);\r\n\t\t\treturn views[0].config.id;\r\n\t\t}\r\n\r\n\t\t_deleteIds(views);\r\n\t\treturn id;\r\n\t};\r\n\r\n\tvar _deleteIds = function(views){\r\n\t\tfor (var i = views.length - 1; i >= 0; i--){\r\n\t\t\t//remove original id\r\n\t\t\tdelete webix.ui.views[views[i].config.id];\r\n\t\t\t//create temp id\r\n\t\t\tviews[i].config.id = \"x\"+webix.uid();\r\n\t\t\twebix.ui.views[views[i].config.id] = views[i];\r\n\t\t\t//process childs\r\n\t\t\t_deleteIds(views[i].getChildViews());\r\n\t\t}\r\n\t};\r\n}\r\n\r\nwebix.ui.animate = function(ui, parent, config){\r\n\tvar pobj = webix.$$(parent);\r\n\tif (pobj){\r\n\t\tvar aniset = config || { type:\"slide\", direction:\"left\" };\r\n\t\tvar d = pobj._viewobj.cloneNode(true);\r\n\t\tvar view = webix.ui(ui, parent);\r\n\r\n\t\tview._viewobj.parentNode.appendChild(d);\r\n\t\tvar line = webix.animate.formLine(\r\n\t\t\tview._viewobj,\r\n\t\t\td,\r\n\t\t\taniset\r\n\t\t);\r\n\r\n\t\taniset.callback = function(){\r\n\t\t\twebix.animate.breakLine(line);\r\n\t\t};\r\n\t\twebix.animate(line, aniset);\r\n\r\n\t\treturn view;\r\n\t}\r\n};\r\n\r\nwebix.ui.animateView = function(view, stateHandler, config){\r\n\tview = webix.$$(view);\r\n\tif (view){\r\n\t\tconfig = config || { type:\"slide\", direction:\"left\" };\r\n\r\n\t\tvar getHTML = function(view){\r\n\t\t\tvar el = view._viewobj;\r\n\t\t\tvar css = el.className;\r\n\t\t\tvar content =el.innerHTML;\r\n\t\t\treturn \"<div class='\"+css+\"' style='width:\"+el.offsetWidth+\"px;height:\"+el.offsetHeight+\"px;'>\"+content+\"</div>\";\r\n\t\t};\r\n\r\n\t\t// get 'display' state of child nodes\r\n\t\tvar display = [];\r\n\t\tfor(var i =0; i< view._viewobj.childNodes.length;i++){\r\n\t\t\tvar node = view._viewobj.childNodes[i];\r\n\t\t\tvar value = node.currentStyle ?node.currentStyle.display : getComputedStyle(node, null).display;\r\n\t\t\tdisplay.push(value||\"\");\r\n\t\t}\r\n\t\t// get current html content\r\n\t\tvar currentState = getHTML(view);\r\n\r\n\t\t// apply new state\r\n\t\tif(typeof stateHandler == \"function\"){\r\n\t\t\tstateHandler.call(this);\r\n\t\t}\r\n\r\n\t\t// get new html content\r\n\t\tvar newState = getHTML(view);\r\n\r\n\t\t// insert elements into the view\r\n\t\tvar tempParent = view._viewobj.insertBefore(webix.html.create(\"DIV\",{\r\n\t\t\t\"class\" : \"webix_view_animate\",\r\n\t\t\t\"style\" : \"width:\"+view._viewobj.offsetWidth+\"px;height:\"+view._viewobj.offsetHeight+\"px;\"\r\n\t\t}, newState+currentState),view._viewobj.firstChild);\r\n\r\n\t\t// hide child nodes\r\n\t\tfor(var i =1; i< view._viewobj.childNodes.length;i++){\r\n\t\t\tview._viewobj.childNodes[i].style.display = \"none\";\r\n\t\t}\r\n\r\n\t\t// animate inserted elements\r\n\t\tvar line = webix.animate.formLine(\r\n\t\t\ttempParent.childNodes[0],\r\n\t\t\ttempParent.childNodes[1],\r\n\t\t\tconfig\r\n\t\t);\r\n\t\tconfig.callback = function(){\r\n\t\t\tif(tempParent){\r\n\t\t\t\tview._viewobj.removeChild(tempParent);\r\n\t\t\t\ttempParent = null;\r\n\t\t\t\t// restore 'display' state of child nodes\r\n\t\t\t\tfor(var i =0; i< view._viewobj.childNodes.length;i++){\r\n\t\t\t\t\tview._viewobj.childNodes[i].style.display = display[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\twebix.animate(line, config);\r\n\r\n\t\treturn view;\r\n\t}\r\n};\r\n\r\n/*called in baseview $init for calculate scrollSize*/\r\nwebix.ui._detectScrollSize = function(){\r\n\tvar div = webix.html.create(\"div\");\r\n\tdiv.className = \"webix_skin_mark\";\r\n\tdiv.style.cssText=\"position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;min-height:100px;overflow-y:scroll;\";\r\n\r\n\tdocument.body.appendChild(div);\r\n\tvar width = div.offsetWidth-div.clientWidth;\r\n\tvar skin = { 110:\"air\", 120:\"aircompact\", 130:\"clouds\", 140:\"web\", 150:\"terrace\", 160:\"metro\", 170:\"light\", 180:\"glamour\", 190:\"touch\", 200:\"flat\" , 210:\"compact\", 220:\"material\", 230: \"contrast\" }[Math.floor(div.offsetHeight/10)*10];\r\n\tdocument.body.removeChild(div);\r\n\r\n\tif (skin){\r\n\t\tvar skinobj = webix.skin[skin];\r\n\t\tif (skinobj && skinobj != webix.skin.$active)\r\n\t\t\twebix.skin.set(skin);\r\n\t}\r\n\r\n\tif (webix.env.$customScroll) return 0;\r\n\treturn width;\r\n};\r\nwebix.ui.scrollSize = ((webix.env.touch||webix.env.$customScroll)?0:17);\r\nwebix.ready(function(){\r\n\tvar size = webix.ui._detectScrollSize();\r\n\twebix.ui.scrollSize = webix.env.touch ? 0 : size;\r\n});\r\n\r\nwebix.ui._uid = function(name){\r\n\treturn \"$\"+name+(this._namecount[name] = (this._namecount[name]||0)+1);\r\n};\r\nwebix.ui._namecount = {};\r\n\r\nwebix.ui._fixHeight = function (){\r\n\twebix.html.addStyle(\"html, body{ height:100%; }\");\r\n\tdocument.body.className+=\" webix_full_screen\";\r\n\twebix.ui._fixHeight = function(){};\r\n\twebix.Touch.limit(false);\r\n};\r\nwebix.ui.resize = function(){\r\n\t// check for virtual keyboard\r\n\r\n\tif(webix.env.touch && ( webix.edit_open_time && (new Date())-webix.edit_open_time < 500 || webix._focus_time && (new Date())-webix._focus_time < 500))\r\n\t\treturn;\r\n\twebix.UIManager.applyChanges();\r\n\twebix.callEvent(\"onClick\",[]);\r\n\tif (!webix.ui.$freeze)\r\n\t\tfor (var i=resize.length - 1; i>=0; i--){\r\n\t\t\t//remove destroyed views from resize list\r\n\t\t\tif (resize[i].$destructed)\r\n\t\t\t\tresize.splice(i,1);\r\n\t\t\telse\r\n\t\t\t\tresize[i].adjust();\r\n\t\t}\r\n};\r\nwebix.ui.each = function(parent, logic, master, include){\r\n\tif (parent){\r\n\t\tvar children = include ? [parent] : parent.getChildViews();\r\n\t\tfor (var i = 0; i < children.length; i++){\r\n\t\t\tif (logic.call((master || webix), children[i]) !== false)\r\n\t\t\t\twebix.ui.each(children[i], logic, master);\r\n\t\t}\r\n\t}\r\n};\r\nwebix.event(window, \"resize\", webix.ui.resize);\r\n\r\nui._delays = {};\r\nui.delay = function(config){\r\n\twebix.ui._delays[config.id] = config;\r\n};\r\nui.hasMethod = function(view, method){\r\n\tvar obj = webix.ui[view];\r\n\tif (!obj) return false;\r\n\r\n\tif (obj.$protoWait)\r\n\t\tobj = obj.call(webix);\r\n\r\n\treturn !!webix.ui[view].prototype[method];\r\n};\r\nwebix.ui.zIndex = function(){\r\n\treturn webix.ui.zIndexBase++;\r\n};\r\nwebix.ui.zIndexBase = 100;\r\n\r\nui._view = function(config){\r\n\twebix.assert_config(config);\r\n\tif (config.view){\r\n\t\tvar view = config.view;\r\n\t\twebix.assert(ui[view], \"unknown view:\"+view);\r\n\t\treturn new ui[view](config);\r\n\t} else if (config.rows || config.cols){\r\n\t\tvar cells = config.rows||config.cols;\r\n\t\tvar accordion = false;\r\n\t\tfor (var i=0; i<cells.length; i++){\r\n\t\t\tif (cells[i].body && !cells[i].view && !cells[i].align)\r\n\t\t\t\taccordion = true;\r\n\t\t}\r\n\t\tif (accordion){\r\n\t\t\treturn new ui.headerlayout(config);\r\n\t\t} else\r\n\t\t\treturn new ui.layout(config);\r\n\t}\r\n\telse if (config.cells)\r\n\t\treturn new ui.multiview(config);\r\n\telse if (config.template || config.content)\r\n\t\treturn new ui.template(config);\t\r\n\telse if (config.align){\r\n\t\treturn new ui.align(config);\r\n\t} else return new ui.spacer(config);\r\n};\r\n\r\nui.views = {};\r\nwebix.$$ = function(id){\r\n\tif (!id) return null;\r\n\t\r\n\tif (ui.views[id]) return ui.views[id];\r\n\tif (ui._delays[id]) return webix.ui(ui._delays[id]);\r\n\t\r\n\tvar name = id;\r\n\tif (typeof id == \"object\"){\r\n\t\tif (id._settings)\r\n\t\t\treturn id;\r\n\t\tname = (id.target||id.srcElement)||id;\r\n\t}\r\n\treturn ui.views[webix.html.locate({ target:webix.toNode(name)},\"view_id\")];\r\n};\r\nif (webix.isUndefined(window.$$)) window.$$=webix.$$;\r\n\r\nwebix.UIExtension = window.webix_view||{};\r\n\r\nwebix.protoUI({\r\n\tname:\"baseview\",\r\n\t//attribute , which will be used for ID storing\r\n\t$init:function(config){\r\n\t\tif (!config.id) \r\n\t\t\tconfig.id = webix.ui._uid(this.name);\r\n\t\t\r\n\t\tthis._parent_cell = webix._parent_cell;\r\n\t\twebix._parent_cell = null;\r\n\r\n\t\tthis.$scope = config.$scope || (this._parent_cell ? this._parent_cell.$scope : null);\r\n\t\t\r\n\t\tif (!this._viewobj){\r\n\t\t\tthis._contentobj = this._viewobj = webix.html.create(\"DIV\",{\r\n\t\t\t\t\"class\":\"webix_view\"\r\n\t\t\t});\r\n\t\t\tthis.$view = this._viewobj;\r\n\t\t}\r\n\t},\r\n\t$skin:false,\r\n\tdefaults:{\r\n\t\twidth:0,\r\n\t\theight:0,\r\n\t\tgravity:1\r\n\t},\r\n\tgetNode:function(){\r\n\t\treturn this._viewobj;\r\n\t},\r\n\tgetParentView:function(){\r\n\t\treturn this._parent_cell||null;\t\r\n\t},\r\n\tgetTopParentView:function(){\r\n\t\tvar parent = this.getParentView();\r\n\t\treturn parent ? parent.getTopParentView() :  this;\r\n\t},\r\n\tgetFormView:function(){\r\n\t\tvar parent = this.getParentView();\r\n\t\treturn (!parent || parent.setValues) ? parent : parent.getFormView();\r\n\t},\r\n\tgetChildViews:function(){ return []; },\r\n\tisVisible:function(base_id, prev_id){\r\n\t\tif (this._settings.hidden){\r\n            if(base_id){\r\n                if (!this._hidden_render) {\r\n                    this._hidden_render = [];\r\n                    this._hidden_hash = {};\r\n                }\r\n                if (!this._hidden_hash[base_id]){\r\n                    this._hidden_hash[base_id] =  true;\r\n                    this._hidden_render.push(base_id);\r\n                }\r\n            }\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tvar parent = this.getParentView();\r\n\t\tif (parent) return parent.isVisible(base_id, this._settings.id);\r\n\t\t\r\n\t\treturn true;\r\n\t},\r\n\tisEnabled:function(){\r\n\t\tif(this._disable_cover)\r\n\t\t\treturn false;\r\n\r\n\t\tvar parent= this.getParentView();\r\n\t\tif(parent)\r\n\t\t\treturn parent.isEnabled();\r\n\r\n\t\treturn true;\r\n\t},\r\n\tdisable:function(){\r\n\t\twebix.html.remove(this._disable_cover);\r\n\t\tthis._settings.disabled = true;\r\n\r\n\t\tthis._disable_cover = webix.html.create('div',{\r\n\t\t\t\"class\":\"webix_disabled\"\r\n\t\t});\r\n\r\n\t\tif(window.getComputedStyle)\r\n\t\t\tthis._disabled_view_pos = window.getComputedStyle(this._viewobj, null).getPropertyValue(\"position\");\r\n\t\t\r\n\t\tif (this._disabled_view_pos != \"absolute\")\r\n\t\t\tthis._viewobj.style.position = \"relative\";\r\n\t\tthis._viewobj.appendChild(this._disable_cover);\r\n\t\tthis._viewobj.setAttribute(\"aria-disabled\", \"true\");\r\n\t\twebix.html.addCss(this._viewobj,\"webix_disabled_view\",true);\r\n\t\twebix.UIManager._moveChildFocus(this);\r\n\t},\r\n\tenable:function(){\r\n\t\tthis._settings.disabled = false;\r\n\r\n\t\tif (this._disable_cover){\r\n\t\t\twebix.html.remove(this._disable_cover);\r\n\t\t\twebix.html.removeCss(this._viewobj,\"webix_disabled_view\");\r\n\t\t\tthis._viewobj.removeAttribute(\"aria-disabled\");\r\n\t\t\tthis._disable_cover = null;\r\n\t\t\tif(this._disabled_view_pos)\r\n\t\t\t\tthis._viewobj.style.position = this._disabled_view_pos;\r\n\t\t}\r\n\t},\r\n\tdisabled_setter:function(value){\r\n\t\tif (value)\r\n\t\t\tthis.disable();\r\n\t\telse\r\n\t\t\tthis.enable();\r\n\t\treturn value;\r\n\t},\r\n\tcontainer_setter:function(value){\r\n\t\twebix.assert(webix.toNode(value),\"Invalid container\");\r\n\t\treturn true;\r\n\t},\r\n\tcss_setter:function(value){\r\n\t\tif (typeof value == \"object\")\r\n\t\t\tvalue = webix.html.createCss(value);\r\n\r\n\t\tthis._viewobj.className += \" \"+value;\r\n\t\treturn value;\r\n\t},\r\n\tid_setter:function(value){\r\n\t\tif (webix._global_collection && (webix._global_collection != this || this._prev_global_col)){\r\n\t\t\tvar oldvalue = this.config.$id = value;\r\n\t\t\t(this._prev_global_col || webix._global_collection)._elements[value] = this;\r\n\t\t\tvalue = webix.ui._uid(this.name);\r\n\t\t\t(this._prev_global_col || webix._global_collection)._translate_ids[value]=oldvalue;\r\n\t\t}\r\n\t\twebix.assert(!webix.ui.views[value], \"Non unique view id: \"+value);\r\n\t\twebix.ui.views[value] = this;\r\n\t\tthis._viewobj.setAttribute(\"view_id\", value);\r\n\t\treturn value;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tvar last = this._last_size;\r\n\t\tif (last && last[0]==x && last[1]==y) {\r\n\t\t\twebix.debug_size_box(this, [x,y,\"not changed\"]);\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\twebix.debug_size_box(this, [x,y]);\r\n\t\t\r\n\t\tthis._last_size = [x,y];\r\n\t\tthis.$width  = this._content_width = x-(this._scroll_y?webix.ui.scrollSize:0);\r\n\t\tthis.$height = this._content_height = y-(this._scroll_x?webix.ui.scrollSize:0);\r\n\r\n\t\tvar config = this._settings;\r\n\t\tif (!config.flex){\r\n\t\t\tthis._viewobj.style.width = x+\"px\";\r\n\t\t\tthis._viewobj.style.height = y+\"px\";\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tvar s = this._settings;\r\n\r\n\t\tvar size = [\r\n\t\t\ts.width || s.minWidth || 0,\r\n\t\t\ts.width || s.maxWidth || 100000,\r\n\t\t\ts.height || s.minHeight || 0,\r\n\t\t\ts.height || s.maxHeight || 100000,\r\n\t\t\ts.gravity\r\n\t\t];\r\n\t\tsize[0]+=dx; size[1]+=dx;\r\n\t\tsize[2]+=dy; size[3]+=dy;\r\n\t\treturn size;\r\n\t},\r\n\tshow:function(force, animate_settings){\r\n\t\tvar parent = this.getParentView();\r\n        var show = !arguments[2];\r\n\t\tif (parent) {\r\n\t\t\tif(!animate_settings && animate_settings !== false && this._settings.animate)\r\n\t\t\t\tif (parent._settings.animate)\r\n\t\t\t\t\tanimate_settings = webix.extend((parent._settings.animate?webix.extend({},parent._settings.animate):{}), this._settings.animate, true);\r\n\r\n\t\t\tif (show?parent._show:parent._hide)\r\n\t\t\t\t(show?parent._show:parent._hide).call(parent, this, animate_settings);\r\n\t\t\tif (show)\r\n\t\t\t\tthis._render_hidden_views();\r\n\t\t\tif (force && show)  \r\n\t\t\t\tparent.show(force);\r\n\t\t}\r\n        else{\r\n            if (this._settings.hidden){\r\n            \tif (show){\r\n            \t\tvar node = webix.toNode(this._settings._container||document.body);\r\n        \t\t\tnode.appendChild(this._viewobj);\r\n        \t\t\tthis._settings.hidden = false;\r\n\r\n        \t\t\tthis.adjust();\r\n        \t\t\tthis._render_hidden_views();\r\n            \t}\r\n            } else {\r\n            \tif (!show){\r\n            \t\tthis._settings.hidden = this._settings._hidden = true;\r\n            \t\tif (this._viewobj){\r\n            \t\t\tthis._settings._container = this._viewobj.parentNode;\r\n        \t\t\t\twebix.html.remove(this._viewobj);\r\n        \t\t\t}\r\n            \t}\r\n            }\r\n        }\r\n\t},\r\n\t_render_hidden_views:function(){\r\n\t\tif (this._hidden_render){\r\n\t\t\tfor (var i=0; i < this._hidden_render.length; i++){\r\n\t\t\t\tvar ui_to_render = webix.$$(this._hidden_render[i]);\r\n\t\t\t\tif (ui_to_render)\r\n\t\t\t\t\tui_to_render.render();\r\n\t\t\t}\r\n\t\t\tthis._hidden_render = [];\r\n\t\t\tthis._hidden_hash = {};\r\n\t\t}\r\n\t},\r\n\t_onKeyPress:function(code, e){\r\n\t\tvar target = e.srcElement || e.target, role = target.getAttribute(\"role\");\r\n\r\n\t\tif((code === 13 || code === 32) && (role == \"button\" || role == \"heading\") && !this._settings.disabled){\r\n\t\t\twebix.html.triggerEvent(target, \"MouseEvents\", \"click\");\r\n\t\t\twebix.html.preventEvent(e);\r\n\t\t}\r\n\t},\r\n\thidden_setter:function(value){\r\n\t\tif (value) this.hide();\r\n\t\treturn this._settings.hidden;\r\n\t},\r\n\thide:function(){\r\n\t\tthis.show(null, null, true);\r\n\t\twebix.UIManager._moveChildFocus(this);\r\n\t},\r\n\tadjust:function(){\r\n\t\tif(!this._viewobj.parentNode)\r\n\t\t\treturn false;\r\n\r\n\t\tvar x = this._viewobj.parentNode.offsetWidth||0;\r\n\t\tvar y = this._viewobj.parentNode.offsetHeight||0;\r\n\r\n\t\tvar sizes=this.$getSize(0,0);\r\n\t\tvar fullscreen = (this._viewobj.parentNode == document.body) && !this.setPosition;\r\n\r\n\t\t//minWidth\r\n\t\tif (sizes[0]>x) x = sizes[0];\r\n\t\t//minHeight\r\n\t\tif (sizes[2]>y) y = sizes[2];\r\n\r\n\t\t//maxWidth rule\r\n\t\tif (!fullscreen && x>sizes[1]) x = sizes[1];\r\n\t\t//maxHeight rule\r\n\t\tif (!fullscreen && y>sizes[3]) y = sizes[3];\r\n\r\n\t\tthis.$setSize(x,y);\r\n\t\tif (webix._responsive_exception){\r\n\t\t\twebix._responsive_exception = false;\r\n\t\t\tthis.adjust();\r\n\t\t}\r\n\t},\r\n\tresize:function(force){\r\n\t\tif (webix._child_sizing_active || webix.ui.$freeze || webix._responsive_tinkery ) return;\r\n\r\n\t\tvar parent = this.getParentView();\r\n\t\tif (parent){\r\n\t\t\tif (parent.resizeChildren)\r\n\t\t\t\tparent.resizeChildren();\r\n\t\t\telse\r\n\t\t\t\tparent.resize();\r\n\t\t} else {\r\n\t\t\tthis.adjust();\r\n\t\t\twebix.callEvent(\"onResize\",[]);\r\n\t\t}\r\n\t}\r\n}, webix.Settings, webix.Destruction, webix.BaseBind, webix.UIExtension);\r\n\r\n\r\n\r\n/*\r\n\tdon't render borders itself , but aware of layout , which can set some borders\r\n*/\r\nwebix.protoUI({\r\n\tname:\"view\",\r\n\t$init:function(config){\r\n\t\tthis._set_inner(config);\r\n\t},\r\n\r\n\t//deside, will component use borders or not\r\n\t_set_inner:function(config){\r\n\t\tvar border_not_set = webix.isUndefined(config.borderless);\r\n\t\tif (border_not_set && !this.setPosition && config.$topView){\r\n\t\t\tconfig.borderless = true;\r\n\t\t\tborder_not_set = false;\r\n\t\t}\r\n\r\n\t\tif ((border_not_set && this.defaults.borderless) || config.borderless){\r\n\t\t\t//button and custom borderless\r\n\t\t\tconfig._inner = { top:true, left:true, bottom:true, right:true };\r\n\t\t} else {\r\n\t\t\t//default borders\r\n\t\t\tif (!config._inner)\r\n\t\t\t\tconfig._inner = {};\r\n\t\t\tthis._contentobj.style.borderWidth=\"1px\";\r\n\t\t}\r\n\t},\r\n\r\n\t$getSize:function(dx, dy){\r\n\r\n\t\tvar _borders = this._settings._inner;\r\n\t\tif (_borders){\r\n\t\t\tdx += (_borders.left?0:1)+(_borders.right?0:1);\r\n\t\t\tdy += (_borders.top?0:1)+(_borders.bottom?0:1);\r\n\t\t}\r\n\t\t\r\n\t\tvar size = webix.ui.baseview.prototype.$getSize.call(this, dx, dy);\r\n\t\t\r\n\t\twebix.debug_size_box(this, size, true);\r\n\t\treturn size;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\twebix.debug_size_box(this, [x,y]);\r\n\t\t\t\r\n\t\tvar _borders = this._settings._inner;\r\n\t\tif (_borders){\r\n\t\t\tx -= (_borders.left?0:1)+(_borders.right?0:1);\r\n\t\t\ty -= (_borders.top?0:1)+(_borders.bottom?0:1);\r\n\t\t}\r\n\t\t\t\r\n\t\treturn webix.ui.baseview.prototype.$setSize.call(this,x,y);\r\n\t}\r\n}, webix.ui.baseview);\r\n\r\n})();\r\n\r\nwebix.ui.view.call(webix);\r\n\r\nwebix.debug_size_indent = 0;\r\nwebix.debug_size_step = function(){\r\n\tvar str = \"\";\r\n\tfor (var i=0; i<webix.debug_size_indent; i++)\r\n\t\tstr+=\"|  \";\r\n\treturn str;\r\n};\r\nwebix.debug_size_box_start = function(comp, get){\r\n\tif (!webix.debug_size) return;\r\n\tif (!webix.debug_size_indent)\r\n\t\twebix.log(get?\"--- get sizes ---\":\"--- set sizes ---\");\r\n\twebix.log(webix.debug_size_step()+comp.name+\"@\"+comp.config.id);\r\n\twebix.debug_size_indent++;\r\n};\r\nwebix.debug_size_box_end = function(comp, sizes){\r\n\tif (!webix.debug_size) return;\r\n\twebix.debug_size_indent--;\r\n\twebix.log(webix.debug_size_step()+sizes.join(\",\"));\r\n};\r\n\r\nwebix.debug_size_box = function(comp, sizes, get){\r\n\tif (!webix.debug_size) return;\r\n\tif (!webix.debug_size_indent)\r\n\t\twebix.log(get?\"--- get sizes ---\":\"--- set sizes ---\");\r\n\twebix.log(webix.debug_size_step()+comp.name+\"@\"+comp.config.id+\" \"+sizes.join(\",\"));\r\n};\r\n\r\nwebix.protoUI({\r\n\tname:\"spacer\",\r\n\tdefaults:{\r\n\t\tborderless:true\r\n\t},\r\n\t$init:function(){\r\n\t\tthis._viewobj.className += \" webix_spacer\";\r\n\t}\r\n}, webix.ui.view);\r\n\r\nwebix.protoUI({\r\n\tname:\"baselayout\",\r\n\t$init:function(config){\r\n\t\tthis.$ready.push(this._parse_cells);\r\n\t\tthis._dataobj  = this._contentobj;\r\n\t\tthis._layout_sizes = [];\r\n\t\tthis._responsive = [];\r\n\r\n\t\tif (config.$topView){\r\n\t\t\tconfig.borderless = true;\r\n\t\t\tconfig._inner = { top:true, left:true, bottom:true, right:true };\r\n\t\t}\r\n\r\n\t\tif (config.isolate)\r\n\t\t\twebix.extend(this, webix.IdSpace);\r\n\t},\r\n\trows_setter:function(value){\r\n\t\tthis._vertical_orientation = 1;\r\n\t\tthis._collection = value;\r\n\t},\r\n\tcols_setter:function(value){\r\n\t\tthis._vertical_orientation = 0;\r\n\t\tthis.$view.style.whiteSpace = \"nowrap\";\r\n\t\tthis._collection = value;\r\n\t},\r\n\t_remove:function(view){\r\n\t\twebix.PowerArray.removeAt.call(this._cells, webix.PowerArray.find.call(this._cells, view));\r\n\t\tthis.resizeChildren(true);\r\n\t},\r\n\t_replace:function(new_view,target_id){\r\n\t\tif (webix.isUndefined(target_id)){\r\n\t\t\tfor (var i=0; i < this._cells.length; i++)\r\n\t\t\t\tthis._cells[i].destructor();\r\n\t\t\tthis._collection = new_view;\r\n\t\t\tthis._parse_cells();\r\n\t\t} else {\r\n\t\t\tvar source;\r\n\t\t\tif (typeof target_id == \"number\"){\r\n\t\t\t\tif (target_id<0 || target_id > this._cells.length)\r\n\t\t\t\t\ttarget_id = this._cells.length;\r\n\t\t\t\tvar prev_node = (this._cells[target_id]||{})._viewobj;\r\n\t\t\t\twebix.PowerArray.insertAt.call(this._cells, new_view, target_id);\r\n\t\t\t\tif (!new_view._settings.hidden)\r\n\t\t\t\t\twebix.html.insertBefore(new_view._viewobj, prev_node, this._dataobj);\r\n\t\t\t} else {\r\n\t\t\t\tsource = webix.$$(target_id);\r\n\t\t\t\ttarget_id = webix.PowerArray.find.call(this._cells, source);\r\n\t\t\t\twebix.assert(target_id!=-1, \"Attempt to replace the non-existing view\");\r\n\t\t\t\tvar parent = source._viewobj.parentNode;\r\n\t\t\t\tif (parent && !new_view._settings.hidden)\r\n\t\t\t\t\tparent.insertBefore(new_view._viewobj, source._viewobj);\r\n\r\n\t\t\t\tsource.destructor();\t\r\n\t\t\t\tthis._cells[target_id] = new_view;\r\n\t\t\t}\r\n\r\n\t\t\tif (!this._vertical_orientation)\r\n\t\t\t\tthis._fix_vertical_layout(new_view);\r\n\t\t\t\r\n\t\t\tthis._cells[target_id]._parent_cell = this;\r\n\t\t}\r\n\t\tthis.resizeChildren(true);\r\n\r\n\t\tvar form = this.elements ? this : this.getFormView();\r\n\t\tif (form) form._recollect_elements();\r\n\r\n\t\twebix.callEvent(\"onReconstruct\",[this]);\r\n\t},\r\n\t_fix_vertical_layout:function(cell){\r\n\t\tcell._viewobj.style.display = \"inline-block\";\r\n\t\tcell._viewobj.style.verticalAlign = \"top\";\r\n\t},\r\n\taddView:function(view, index){\r\n\t\tif (webix.isUndefined(index))\r\n\t\t\tindex = this._cells.length;\r\n\t\tvar top = this.$$ ? this : this.getTopParentView();\r\n\t\ttop = (top && top.ui) ? top : webix;\r\n\t\treturn top.ui(view, this, index)._settings.id;\r\n\t},\r\n\tremoveView:function(id){\r\n\t\tvar view;\r\n\t\tif (typeof id != \"object\")\r\n\t\t\tview = webix.$$(id);\r\n\t\telse\r\n\t\t\tview = id;\r\n\r\n\t\tvar target = webix.PowerArray.find.call(this._cells, view);\r\n\t\tif (target >= 0){\r\n\t\t\tif (this._beforeRemoveView)\r\n\t\t\t\tthis._beforeRemoveView(target, view);\r\n\r\n\t\t\tvar form = this.elements ? this : this.getFormView();\r\n\r\n\t\t\tthis._cells.splice(target, 1);\r\n\t\t\tif (form)\r\n\t\t\t\twebix.ui.each(view, function(sub){\r\n\t\t\t\t\tif (sub.name)\r\n\t\t\t\t\t\tdelete form.getCleanValues()[sub.config.name];\r\n\t\t\t\t}, form, true);\t\t\t\t\r\n\r\n\t\t\tview.destructor();\r\n\t\t\tthis.resizeChildren(true);\r\n\t\t\t\r\n\t\t\tif (form)\r\n\t\t\t\tform._recollect_elements();\r\n\t\t} else\r\n\t\t\twebix.assert(false, \"Attemp to remove not existing view: \"+id);\r\n\r\n\t\twebix.callEvent(\"onReconstruct\",[this]);\r\n\t},\r\n\treconstruct:function(){\r\n\t\tthis._hiddencells = 0;\r\n\t\tthis._replace(this._collection);\r\n\t},\r\n\t_hide:function(obj, settings, silent){\r\n\t\tif (obj._settings.hidden) return;\r\n\t\tobj._settings.hidden = true;\r\n\t\twebix.html.remove(obj._viewobj);\r\n        this._hiddencells++;\r\n\t\tif (!silent && !webix._ui_creation)\r\n\t\t\tthis.resizeChildren(true);\t\r\n\t},\r\n\t_signal_hidden_cells:function(view){\r\n\t\tif (view.callEvent)\r\n\t\t\tview.callEvent(\"onViewShow\",[]);\r\n\t},\r\n\tresizeChildren:function(){\r\n\t\tif (webix.ui.$freeze) return;\r\n\r\n\t\tif (this._layout_sizes){\r\n\t\t\tvar parent = this.getParentView();\r\n\t\t\tif (parent){\r\n\t\t\t\tif (parent.resizeChildren)\r\n\t\t\t\t\treturn parent.resizeChildren();\r\n\t\t\t\telse\r\n\t\t\t\t\treturn parent.resize();\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tvar sizes = this.$getSize(0,0);\r\n\r\n\t\t\tvar x,y,nx,ny;\r\n\t\t\tnx = x = this._layout_sizes[0] || 0;\r\n\t\t\tny = y = this._layout_sizes[1] || 0;\r\n\t\t\t\r\n\t\t\tif (!parent){\r\n\t\t\t\t//minWidth\r\n\t\t\t\tif (sizes[0]>x) nx = sizes[0];\r\n\t\t\t\t//minHeight\r\n\t\t\t\tif (sizes[2]>y) ny = sizes[2];\r\n\r\n\t\t\t\t//maxWidth rule\r\n\t\t\t\tif (x>sizes[1]) nx = sizes[1];\r\n\t\t\t\t//maxHeight rule\r\n\t\t\t\tif (y>sizes[3]) ny = sizes[3];\r\n\r\n\t\t\t\tthis.$setSize(nx,ny);\r\n\t\t\t} else\r\n\t\t\t\tthis._set_child_size(x,y);\r\n\r\n\t\t\tif (webix._responsive_exception){\r\n\t\t\t\twebix._responsive_exception = false;\r\n\t\t\t\tthis.resizeChildren();\r\n\t\t\t}\r\n\r\n\t\t\twebix.callEvent(\"onResize\",[]);\r\n\t\t}\r\n\t},\r\n\tgetChildViews:function(){\r\n\t\treturn this._cells;\r\n\t},\r\n\tindex:function(obj){\r\n\t\tif (obj._settings)\r\n\t\t\tobj = obj._settings.id;\r\n\t\tfor (var i=0; i < this._cells.length; i++)\r\n\t\t\tif (this._cells[i]._settings.id == obj)\r\n\t\t\t\treturn i;\r\n\t\treturn -1;\r\n\t},\r\n\t_show:function(obj, settings, silent){\r\n\r\n\t\tif (!obj._settings.hidden) return;\r\n\t\tobj._settings.hidden = false;\r\n\r\n        //index of sibling cell, next to which new item will appear\r\n        var index = this.index(obj)+1;\r\n        //locate nearest visible cell\r\n        while (this._cells[index] && this._cells[index]._settings.hidden) index++;\r\n        var view = this._cells[index] ? this._cells[index]._viewobj : null;\r\n\r\n        webix.html.insertBefore(obj._viewobj, view, (this._dataobj||this._viewobj));\r\n        this._hiddencells--;\r\n\r\n        if (!silent){\r\n            this.resizeChildren(true);\r\n            if (obj.refresh)\r\n                obj.refresh();\r\n        }\r\n\r\n        if (obj.callEvent){\r\n        \tobj.callEvent(\"onViewShow\", []);\r\n\t\t\twebix.ui.each(obj, this._signal_hidden_cells);\r\n\t\t}\r\n\t},\r\n\tshowBatch:function(name, mode){\r\n\t\tvar preserve = typeof mode != \"undefined\";\r\n\t\tmode = mode !== false;\r\n\r\n\t\tif (!preserve){\r\n\t\t\tif (this._settings.visibleBatch == name ) return;\r\n\t\t\tthis._settings.visibleBatch = name;\r\n\t\t} else \r\n\t\t\tthis._settings.visibleBatch = \"\";\r\n\r\n\t\tvar show = [];\r\n\t\tfor (var i=0; i < this._cells.length; i++){\r\n\t\t\tif (!this._cells[i]._settings.batch) \r\n\t\t\t\tshow.push(this._cells[i]);\r\n\t\t\telse if (this._cells[i]._settings.batch == name){\r\n\t\t\t\tif (mode)\r\n\t\t\t\t\tshow.push(this._cells[i]);\r\n\t\t\t\telse\r\n\t\t\t\t\tthis._hide(this._cells[i], null, true);\r\n\t\t\t} else if (!preserve)\r\n\t\t\t\tthis._hide(this._cells[i], null, true);\r\n\t\t}\r\n\r\n\t\tfor (var i=0; i < show.length; i++){\r\n\t\t\tthis._show(show[i], null, true);\r\n\t\t\tshow[i]._render_hidden_views();\r\n\t\t}\r\n\t\t\t\r\n\t\tthis.resizeChildren(true);\r\n\t},\r\n\t_parse_cells:function(collection){\r\n\t\tthis._cells=[];\r\n\r\n\t\twebix.assert(collection,this.name+\" was incorrectly defined. <br><br> You have missed rows|cols|cells|elements collection\"); \r\n\t\tfor (var i=0; i<collection.length; i++){\r\n\t\t\twebix._parent_cell = this;\r\n\t\t\tif (!collection[i]._inner)\r\n\t\t\t\tcollection[i].borderless = true;\r\n\r\n\t\t\tthis._cells[i]=webix.ui._view(collection[i], this);\r\n\t\t\tif (!this._vertical_orientation)\r\n\t\t\t\tthis._fix_vertical_layout(this._cells[i]);\r\n\t\t\t\r\n\t\t\tif (this._settings.visibleBatch && this._settings.visibleBatch != this._cells[i]._settings.batch && this._cells[i]._settings.batch){\r\n\t\t\t\tthis._cells[i]._settings.hidden = true;\r\n\t\t\t\tthis._hiddencells++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (!this._cells[i]._settings.hidden){\r\n\t\t\t\t(this._dataobj||this._contentobj).appendChild(this._cells[i]._viewobj);\r\n\t\t\t\tif (this._cells[i].$nospace)\r\n\t\t\t\t\tthis._hiddencells++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this._parse_cells_ext_end)\r\n\t\t\tthis._parse_cells_ext_end(collection);\t\r\n\t},\r\n\t_bubble_size:function(prop, size, vertical){\r\n\t\tif (this._vertical_orientation != vertical)\r\n\t\t\tfor (var i=0; i<this._cells.length; i++){\r\n\t\t\t\tthis._cells[i]._settings[prop] = size;\r\n\t\t\t\tif (this._cells[i]._bubble_size)\r\n\t\t\t\t\tthis._cells[i]._bubble_size(prop, size, vertical);\r\n\t\t\t}\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\twebix.debug_size_box_start(this, true);\r\n\t\tvar minWidth = 0; \r\n\t\tvar maxWidth = 100000;\r\n\t\tvar maxHeight = 100000;\r\n\t\tvar minHeight = 0;\r\n\t\tif (this._vertical_orientation) maxHeight=0; else maxWidth = 0;\r\n\t\t\r\n\t\tvar fixed = 0;\r\n\t\tvar fixed_count = 0;\r\n\t\tvar gravity = 0;\r\n\t\tthis._sizes=[];\r\n\r\n\t\tfor (var i=0; i < this._cells.length; i++) {\r\n\t\t\t//ignore hidden cells\r\n\t\t\tif (this._cells[i]._settings.hidden)\r\n\t\t\t\tcontinue;\r\n\t\t\t\r\n\t\t\tvar sizes = this._sizes[i] = this._cells[i].$getSize(0,0);\r\n\r\n\t\t\tif (this._cells[i].$nospace){\r\n \t\t\t\tfixed_count++;\r\n \t\t\t\tcontinue;\r\n \t\t\t}\r\n\r\n\t\t\tif (this._vertical_orientation){\r\n\t\t\t\t//take max minSize value\r\n\t\t\t\tif (sizes[0]>minWidth) minWidth = sizes[0];\r\n\t\t\t\t//take min maxSize value\r\n\t\t\t\tif (sizes[1]<maxWidth) maxWidth = sizes[1];\r\n\t\t\t\t\r\n\t\t\t\tminHeight += sizes[2];\r\n\t\t\t\tmaxHeight += sizes[3];\r\n\r\n\t\t\t\tif (sizes[2] == sizes[3] && sizes[2] != -1){ fixed+=sizes[2]; fixed_count++; }\r\n\t\t\t\telse gravity += sizes[4];\r\n\t\t\t} else {\r\n\t\t\t\t//take max minSize value\r\n\t\t\t\tif (sizes[2]>minHeight) minHeight = sizes[2];\r\n\t\t\t\t//take min maxSize value\r\n\t\t\t\tif (sizes[3]<maxHeight) maxHeight = sizes[3];\r\n\t\t\t\t\r\n\t\t\t\tminWidth += sizes[0];\r\n\t\t\t\tmaxWidth += sizes[1];\r\n\r\n\t\t\t\tif (sizes[0] == sizes[1] && sizes[0] != -1){ fixed+=sizes[0]; fixed_count++; }\r\n\t\t\t\telse gravity += sizes[4];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (minHeight>maxHeight)\r\n\t\t\tmaxHeight = minHeight;\r\n\t\tif (minWidth>maxWidth)\r\n\t\t\tmaxWidth = minWidth;\r\n\r\n\t\tthis._master_size = [fixed, this._cells.length - fixed_count, gravity];\r\n\t\tthis._desired_size = [minWidth+dx, minHeight+dy];\r\n\r\n\t\t//get layout sizes\r\n\t\tvar self_size = webix.ui.baseview.prototype.$getSize.call(this, 0, 0);\r\n\t\t//use child settings if layout's one was not defined\r\n\t\tif (self_size[1] >= 100000) self_size[1]=0;\r\n\t\tif (self_size[3] >= 100000) self_size[3]=0;\r\n\r\n\t\tself_size[0] = (self_size[0] || minWidth ) +dx;\r\n\t\tself_size[1] = Math.max(self_size[0], (self_size[1] || maxWidth ) +dx);\r\n\t\tself_size[2] = (self_size[2] || minHeight) +dy;\r\n\t\tself_size[3] = Math.max(self_size[2], (self_size[3] || maxHeight) +dy);\r\n\r\n\t\twebix.debug_size_box_end(this, self_size);\r\n\r\n\t\tif (this._settings.responsive)\r\n\t\t\tself_size[0] = 0;\r\n\r\n\t\treturn self_size;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tthis._layout_sizes = [x,y];\r\n\t\twebix.debug_size_box_start(this);\r\n\r\n\t\twebix.ui.baseview.prototype.$setSize.call(this,x,y);\r\n\t\tthis._set_child_size(x,y);\r\n\r\n\t\twebix.debug_size_box_end(this, [x,y]);\r\n\t},\r\n\t_set_child_size_a:function(sizes, min, max){\r\n\t\tmin = sizes[min]; max = sizes[max];\r\n\t\tvar height = min;\r\n\r\n\t\tif (min != max){\r\n\t\t\tvar ps = this._set_size_delta * sizes[4]/this._set_size_gravity;\r\n\t\t\tif (ps < min){\r\n\t\t\t\theight = min;\r\n\t\t\t\tthis._set_size_gravity -= sizes[4]; \r\n\t\t\t\tthis._set_size_delta -= height;\r\n\t\t\t} else  if (ps > max){\r\n\t\t\t\theight = max;\r\n\t\t\t\tthis._set_size_gravity -= sizes[4]; \r\n\t\t\t\tthis._set_size_delta -= height;\r\n\t\t\t} else {\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn height;\r\n\t},\r\n\t_responsive_hide:function(cell, mode){\r\n\t\tvar target =  webix.$$(mode);\r\n\r\n\t\tif (target === \"hide\" || !target){\r\n\t\t\tcell.hide();\r\n\t\t\tcell._responsive_marker = \"hide\";\r\n\t\t} else{\r\n\t\t\t//for SideBar in Webix 1.9\r\n\t\t\tif (!target)\r\n\t\t\t\ttarget = webix.ui({ view:\"popup\", body:[{}]});\r\n\r\n\t\t\tcell._responsive_width = cell._settings.width;\r\n\t\t\tcell._responsive_height = cell._settings.height;\r\n\t\t\tcell._responsive_marker = target._settings.id;\r\n\t\t\tcell._settings.width = 0;\r\n\t\t\tif (!cell._settings.height)\r\n\t\t\t\tcell._settings.autoheight = true;\r\n\r\n\t\t\twebix.ui(cell, target, this._responsive.length);\r\n\t\t}\r\n\r\n\t\tthis._responsive.push(cell);\r\n\t},\r\n\t_responsive_show:function(cell){\r\n\t\tvar target = cell._responsive_marker;\r\n\t\tcell._responsive_marker = 0;\r\n\r\n\t\tif (target === \"hide\" || !target){\r\n\t\t\tcell.show();\r\n\t\t} else {\r\n\t\t\tcell._settings.width = cell._responsive_width;\r\n\t\t\tcell._settings.height = cell._responsive_height;\r\n\t\t\tdelete cell._settings.autoheight;\r\n\r\n\t\t\tvar index = 0;\r\n\t\t\twhile (this._cells[index] && this._cells[index]._settings.responsiveCell === false) index++;\r\n\t\t\twebix.ui(cell, this, index);\r\n\t\t}\r\n\t\tthis._responsive.pop();\r\n\t},\r\n\t_responsive_cells:function(x,y){\r\n\t\twebix._responsive_tinkery = true;\r\n\r\n\t\tif (x + this._paddingX*2 + this._margin * (this._cells.length-1)< this._desired_size[0]){\r\n\t\t\tfor (var i = 0; i < this._cells.length-1; i++){\r\n\t\t\t\tvar cell = this._cells[i];\r\n\t\t\t\tif (!cell._responsive_marker && cell._settings.responsiveCell !== false){\r\n\t\t\t\t\tthis._responsive_hide(cell, this._settings.responsive);\r\n\t\t\t\t\twebix.callEvent(\"onResponsiveHide\", [cell._settings.id]);\r\n\t\t\t\t\twebix._responsive_exception = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else  if (this._responsive.length){\r\n\t\t\tvar cell = this._responsive[this._responsive.length-1];\r\n\t\t\tvar dx = cell._responsive_marker == \"hide\" ? 0 : cell._responsive_width;\r\n\t\t\tvar px = cell.$getSize(dx,0);\r\n\t\t\tif (px[0] + this._desired_size[0] + this._margin + 20 <= x ){\r\n\t\t\t\tthis._responsive_show(cell);\r\n\t\t\t\twebix.callEvent(\"onResponsiveShow\", [cell._settings.id]);\r\n\t\t\t\twebix._responsive_exception = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\twebix._responsive_tinkery = false;\r\n\t},\r\n\t_set_child_size:function(x,y){ \r\n\t\twebix._child_sizing_active = (webix._child_sizing_active||0)+1;\r\n\r\n\t\tif (this._settings.responsive)\r\n\t\t\tthis._responsive_cells(x,y);\r\n\r\n\r\n\t\tthis._set_size_delta = (this._vertical_orientation?y:x) - this._master_size[0];\r\n\t\tthis._set_size_gravity = this._master_size[2];\r\n\t\tvar width = x; var height = y;\r\n\r\n\t\tvar auto = [];\r\n\t\tfor (var i=0; i < this._cells.length; i++){\r\n\t\t\t//ignore hidden cells\r\n\t\t\tif (this._cells[i]._settings.hidden || !this._sizes[i])\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tvar sizes = this._sizes[i];\r\n\r\n\t\t\tif (this._vertical_orientation){\r\n\t\t\t\tvar height = this._set_child_size_a(sizes,2,3);\r\n\t\t\t\tif (height < 0)\t{ auto.push(i); continue; }\r\n\t\t\t} else {\r\n\t\t\t\tvar width = this._set_child_size_a(sizes,0,1);\r\n\t\t\t\tif (width < 0)\t{ auto.push(i); continue; }\r\n\t\t\t}\r\n\t\t\tthis._cells[i].$setSize(width,height);\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < auto.length; i++){\r\n\t\t\tvar index = auto[i];\r\n\t\t\tvar sizes = this._sizes[index];\r\n\t\t\tvar dx = Math.round(this._set_size_delta * sizes[4]/this._set_size_gravity);\r\n\t\t\tthis._set_size_delta -= dx; this._set_size_gravity -= sizes[4];\r\n\t\t\tif (this._vertical_orientation)\r\n\t\t\t\theight = dx;\r\n\t\t\telse {\r\n\t\t\t\twidth = dx;\r\n\t\t\t}\r\n\r\n\t\t\tthis._cells[index].$setSize(width,height);\r\n\t\t}\r\n\r\n\t\twebix._child_sizing_active -= 1;\r\n\t},\r\n\t_next:function(obj, mode){\r\n\t\tvar index = this.index(obj);\r\n\t\tif (index == -1) return null;\r\n\t\treturn this._cells[index+mode];\r\n\t}, \r\n\t_first:function(){\r\n\t\treturn this._cells[0];\r\n\t}\r\n}, webix.EventSystem, webix.ui.baseview);\r\n\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"layout\",\r\n\t$init:function(config){\r\n\t\tthis._hiddencells = 0;\r\n\t},\r\n\tdefaults:{\r\n\t\ttype:\"line\"\r\n\t},\r\n\t_parse_cells:function(){\r\n\t\tif (this._parse_cells_ext)\r\n\t\t\tcollection = this._parse_cells_ext(collection);\r\n\r\n\t\tif (!this._parse_once){\r\n\t\t\tthis._viewobj.className += \" webix_layout_\"+(this._settings.type||\"\");\r\n\t\t\tthis._parse_once = 1;\r\n\t\t}\r\n\r\n\t\tif (this._settings.margin !== webix.undefined)\r\n\t\t\tthis._margin = this._settings.margin;\r\n\r\n\t\tif (this._settings.padding != webix.undefined)\r\n\t\t\tthis._paddingX = this._paddingY = this._settings.padding;\r\n\t\tif (this._settings.paddingX !== webix.undefined)\r\n\t\t\tthis._paddingX = this._settings.paddingX;\r\n\t\tif (this._settings.paddingY !== webix.undefined)\r\n\t\t\tthis._paddingY = this._settings.paddingY;\r\n\r\n\t\tif (this._paddingY || this._paddingX)\r\n\t\t\tthis._padding = true;\r\n\r\n\t\t//if layout has paddings we need to set the visible border \r\n\t\tif (this._hasBorders() && !this._settings.borderless){\r\n\t\t \tthis._contentobj.style.borderWidth=\"1px\";\r\n\t\t\t//if layout has border - normal bordering rules are applied\r\n\t\t\tthis._render_borders = true;\r\n\t\t}\r\n\t\r\n\t\t\r\n\t\tvar collection = this._collection;\r\n\t\r\n\t\tif (this._settings.borderless)\r\n\t\t\tthis._settings._inner = { top:true, left:true, right:true, bottom:true};\r\n\r\n\t\tthis._beforeResetBorders(collection);\r\n\t\twebix.ui.baselayout.prototype._parse_cells.call(this, collection);\r\n\t\tthis._afterResetBorders(collection);\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tdx=dx||0; dy=dy||0;\r\n\r\n\t\tvar correction = this._margin*(this._cells.length-this._hiddencells-1);\r\n\t\tif (this._render_borders || this._hasBorders()){\r\n\t\t\tvar _borders = this._settings._inner;\r\n\t\t\tif (_borders){\r\n\t\t\t\tdx += (_borders.left?0:1)+(_borders.right?0:1);\r\n\t\t\t\tdy += (_borders.top?0:1)+(_borders.bottom?0:1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!this._settings.height)\r\n\t\t\tdy += (this._paddingY||0)*2 + (this._vertical_orientation ? correction : 0);\r\n\r\n\t\tif (!this._settings.width)\r\n\t\t\tdx += (this._paddingX||0)*2 + (this._vertical_orientation ? 0 : correction);\r\n\t\t\t\t\r\n\t\treturn webix.ui.baselayout.prototype.$getSize.call(this, dx, dy);\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tthis._layout_sizes = [x,y];\r\n\t\twebix.debug_size_box_start(this);\r\n\r\n\t\tvar result;\r\n\t\tif (this._hasBorders()||this._render_borders)\r\n\t\t\tresult = webix.ui.view.prototype.$setSize.call(this,x,y);\r\n\t\telse\t\r\n\t\t\tresult = webix.ui.baseview.prototype.$setSize.call(this,x,y);\r\n\r\n\t\t//form with scroll\r\n\t\ty = this._content_height;\r\n\t\tx = this._content_width;\r\n\r\n\t\tvar config = this._settings;\r\n\t\tif (config.scroll){\r\n\t\t\ty = Math.max(y, this._desired_size[1]);\r\n\t\t\tx = Math.max(x, this._desired_size[0]);\r\n\t\t}\r\n\t\t\r\n\t\tthis._set_child_size(x, y);\r\n\r\n\t\twebix.debug_size_box_end(this, [x,y]);\r\n\t},\r\n\t_set_child_size:function(x,y){\r\n\t\tvar correction = this._margin*(this._cells.length-this._hiddencells-1);\r\n\r\n\t\tif (this._vertical_orientation){\r\n\t\t\ty-=correction+this._paddingY*2;\r\n\t\t\tx-=this._paddingX*2;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tx-=correction+this._paddingX*2;\r\n\t\t\ty-=this._paddingY*2;\r\n\t\t}\r\n\t\treturn webix.ui.baselayout.prototype._set_child_size.call(this, x, y);\r\n\t},\r\n\tresizeChildren:function(structure_changed){ \r\n\t\tif (structure_changed){\r\n\t\t\tthis._last_size = null; //forces children resize\r\n\t\t\tvar config = [];\r\n\t\t\tfor (var i = 0; i < this._cells.length; i++){\r\n\t\t\t\tvar cell = this._cells[i];\r\n\t\t\t\tconfig[i] = cell._settings;\r\n\t\t\t\tvar n = ((cell._layout_sizes && !cell._render_borders) || cell._settings.borderless)?\"0px\":\"1px\";\r\n\r\n\t\t\t\tcell._viewobj.style.borderTopWidth=cell._viewobj.style.borderBottomWidth=cell._viewobj.style.borderLeftWidth=cell._viewobj.style.borderRightWidth=n;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis._beforeResetBorders(config);\r\n\t\t\tfor (var i=0; i<config.length; i++)\r\n\t\t\t\tif (config[i].borderless && this._cells[i]._set_inner)\r\n\t\t\t\t\tthis._cells[i]._set_inner(config[i]);\r\n\t\t\tthis._afterResetBorders(this._cells);\r\n\t\t}\r\n\r\n\t\tif (webix._responsive_tinkery) return;\r\n\t\twebix.ui.baselayout.prototype.resizeChildren.call(this);\r\n\t},\r\n\t_hasBorders:function(){\r\n\t\treturn this._padding && this._margin>0 && !this._cleanlayout;\r\n\t},\r\n\t_beforeResetBorders:function(collection){\r\n\t\tif (this._hasBorders() && (!this._settings.borderless || this._settings.type == \"space\")){\r\n\t\t\tfor (var i=0; i < collection.length; i++){\r\n\t\t\t\tif (!collection[i]._inner || !collection[i].borderless)\r\n\t\t\t\t\tcollection[i]._inner={ top:false, left:false, right:false, bottom:false};\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i=0; i < collection.length; i++)\r\n\t\t\t\tcollection[i]._inner=webix.clone(this._settings._inner);\r\n\t\t\tvar mode = false;\r\n\t\t\tif (this._cleanlayout)\r\n\t\t\t\tmode = true;\r\n\t\t\t\t\r\n\t\t\tvar maxlength = collection.length;\t\t\t\t\r\n\t\t\tif (this._vertical_orientation){\r\n\t\t\t\tfor (var i=1; i < maxlength-1; i++)\r\n\t\t\t\t\tcollection[i]._inner.top = collection[i]._inner.bottom = mode;\r\n\t\t\t\tif (maxlength>1){\r\n\t\t\t\t\tif (this._settings.type!=\"head\")\r\n\t\t\t\t\t\tcollection[0]._inner.bottom = mode;\r\n\r\n\t\t\t\t\twhile (collection[maxlength-1].hidden && maxlength>1)\r\n\t\t\t\t\t\tmaxlength--;\r\n\t\t\t\t\tif (maxlength>0)\r\n\t\t\t\t\t\tcollection[maxlength-1]._inner.top = mode;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tfor (var i=1; i < maxlength-1; i++)\r\n\t\t\t\t\tcollection[i]._inner.left = collection[i]._inner.right= mode;\r\n\t\t\t\tif (maxlength>1){\r\n\t\t\t\t\tif (this._settings.type!=\"head\")\r\n\t\t\t\t\t\tcollection[0]._inner.right= mode;\r\n\t\t\t\t\tcollection[maxlength-1]._inner.left = mode;\r\n\r\n\t\t\t\t\twhile (maxlength>1 && collection[maxlength-1].hidden)\r\n\t\t\t\t\t\tmaxlength--;\r\n\t\t\t\t\tif (maxlength>0)\r\n\t\t\t\t\t\tcollection[maxlength-1]._inner.left = mode;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t},\r\n\t_fix_container_borders:function(style, inner){\r\n\t\tif (inner.top) \r\n\t\t\tstyle.borderTopWidth=\"0px\";\r\n\t\tif (inner.left) \r\n\t\t\tstyle.borderLeftWidth=\"0px\";\r\n\t\tif (inner.right) \r\n\t\t\tstyle.borderRightWidth=\"0px\";\r\n\t\tif (inner.bottom) \r\n\t\t\tstyle.borderBottomWidth=\"0px\";\r\n\t},\r\n\t_afterResetBorders:function(collection){\r\n\t\tvar start = 0; \r\n\t\tfor (var i=0; i<collection.length; i++){\r\n\t\t\tvar cell = this._cells[i];\r\n\r\n\t\t\tvar s_inner = cell._settings._inner;\r\n\t\t\tif (cell._settings.hidden && this._cells[i+1]){\r\n\t\t\t\tvar s_next = this._cells[i+1]._settings._inner;\r\n\t\t\t\tif (!s_inner.top)\r\n\t\t\t\t\ts_next.top = false;\r\n\t\t\t\tif (!s_inner.left)\r\n\t\t\t\t\ts_next.left = false;\r\n\r\n\t\t\t\tif (i==start) start++;\r\n\t\t\t}\r\n\t\t\tthis._fix_container_borders(cell._viewobj.style, cell._settings._inner);\r\n\t\t}\r\n\r\n\t\tvar style = this._vertical_orientation?\"marginLeft\":\"marginTop\";\r\n\t\tvar contrstyle = this._vertical_orientation?\"marginTop\":\"marginLeft\";\r\n\t\tvar padding = this._vertical_orientation?this._paddingX:this._paddingY;\r\n\t\tvar contrpadding = this._vertical_orientation?this._paddingY:this._paddingX;\r\n\r\n\t\t//add top offset to all\r\n\t\tfor (var i=0; i<collection.length; i++)\r\n\t\t\tthis._cells[i]._viewobj.style[style] = (padding||0) + \"px\";\t\t\t\r\n\r\n\t\t//add left offset to first cell\r\n\t\tif (this._cells.length)\r\n\t\t\tthis._cells[start]._viewobj.style[contrstyle] = (contrpadding||0)+\"px\";\r\n\r\n\t\t//add offset between cells\r\n\t\tfor (var index=start+1; index<collection.length; index++)\r\n\t\t\tthis._cells[index]._viewobj.style[contrstyle]=this._margin+\"px\";\r\n\t\t\r\n\t},\r\n\ttype_setter:function(value){\r\n\t\tthis._margin = (typeof this._margin_set[value] != \"undefined\"? this._margin_set[value]: this._margin_set[\"line\"]);\r\n\t\tthis._paddingX = this._paddingY = (typeof this._margin_set[value] != \"undefined\"? this._padding_set[value]: this._padding_set[\"line\"]);\r\n\t\tthis._cleanlayout = (value==\"material\" || value==\"clean\");\r\n\t\tif (value == \"material\")\r\n\t\t\tthis._settings.borderless = true;\r\n\r\n\t\treturn value;\r\n\t},\r\n\t$skin:function(){\r\n\t\tvar skin = webix.skin.$active;\r\n\t\tthis._margin_set = skin.layoutMargin;\r\n\t\tthis._padding_set = skin.layoutPadding;\r\n\t}\r\n}, webix.ui.baselayout);\r\n\r\nwebix.ui.layout.call(webix);\r\n\r\nwebix.FlexLayout = {\r\n\t$init:function(){\r\n\t\tthis.$view.className += \" webix_flexlayout\";\r\n\t},\r\n\t_fix_vertical_layout:function(){\r\n\r\n\t},\r\n\t_beforeResetBorders:function(){\r\n\r\n\t},\r\n\t_afterResetBorders:function(){\r\n\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\twebix.debug_size_box_start(this, true);\r\n\t\t\r\n\t\tvar w=0, h=0, g = this._settings.gravity;\r\n\t\tthis._sizes = [];\r\n\r\n\t\tfor (var i=0; i<this._cells.length; i++){\r\n\t\t\tvar size = this._cells[i].$getSize(0,0);\r\n\t\t\tthis._sizes.push(size);\r\n\r\n\t\t\tw = Math.max(w, size[0]);\r\n\t\t\th = Math.max(h, size[2]);\r\n\t\t}\r\n\r\n\t\tw += (this._paddingX||0)*2;\r\n\t\th += (this._paddingY||0)*2;\r\n\r\n\t\tif (this._settings.width)\r\n\t\t\tw = Math.max(w, this._settings.width);\r\n\t\tif (this._settings.height)\r\n\t\t\th = Math.max(h, this._settings.height);\r\n\r\n\t\tvar self_size = [w, 100000, h, 100000, g];\r\n\t\twebix.debug_size_box_end(this, self_size);\r\n\t\treturn self_size;\r\n\t},\r\n\t_set_child_size:function(x,y){\r\n\t\tvar st = this.$view.style;\r\n\t\tvar margin = Math.round(this._margin/2);\r\n\t\tst.paddingTop = st.paddingBottom = this._paddingY-margin + \"px\";\r\n\t\tst.paddingLeft = st.paddingRight = this._paddingX-margin + \"px\";\r\n\r\n\t\tfor (var i=0; i<this._cells.length; i++){\r\n\t\t\tif (this._cells[i]._settings.hidden) continue;\r\n\t\t\tvar view = this._cells[i].$view;\r\n\t\t\tvar size = this._sizes[i];\r\n\t\t\tvar config = this._cells[i]._settings;\r\n\r\n\t\t\tif (view){\r\n\t\t\t\tview.style.minWidth = size[0]+\"px\";\r\n\t\t\t\tif (size[1] < 100000 && size[1] != size[0])\r\n\t\t\t\t\tview.style.maxWidth = size[1]+\"px\";\r\n\r\n\t\t\t\tview.style.flexBasis = config.flexBasis || (size[0])+\"px\";\r\n\t\t\t\tview.style.flexGrow = config.flexGrow || ((size[1] != size[0]) ? size[4] : 0);\r\n\t\t\t\tview.style.height = (size[3] != size[2]) ? \"auto\" : (size[2] + \"px\");\r\n\r\n\t\t\t\tview.style.minHeight = size[2]+\"px\";\r\n\t\t\t\tif (size[3] < 100000 && size[3] != size[2])\r\n\t\t\t\t\tview.style.maxHeight = size[3]+\"px\";\r\n\r\n\t\t\t\tview.style.margin = margin + \"px\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar whs = [];\r\n\t\tfor (var i=0; i<this._cells.length; i++){\r\n\t\t\tif (this._cells[i]._settings.hidden) continue;\r\n\t\t\tvar view = this._cells[i].$view;\r\n\t\t\twhs[i] = [view.offsetWidth, view.offsetHeight];\r\n\t\t}\r\n\t\t\r\n\t\tfor (var i=0; i<this._cells.length; i++){\r\n\t\t\tif (this._cells[i]._settings.hidden) continue;\r\n\t\t\tvar cell = this._cells[i];\r\n\t\t\tvar view = cell.$view;\r\n\t\t\tif (view){\r\n\t\t\t\tcell._settings.flex = true;\r\n\t\t\t\tvar size = this._sizes[i];\r\n\t\t\t\tvar h = size[2] == size[3] ? size[2] : whs[i][1];\r\n\t\t\t\tcell.$setSize(whs[i][0], h);\r\n\t\t\t\tcell._settings.flex = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.$height = this._content_height = this.$view.scrollHeight;\r\n\t\tthis.$view.style.height = this._content_height+\"px\";\r\n\t}\r\n};\r\nwebix.protoUI({\r\n\t$init:function(){\r\n\t\twebix.extend(this, webix.FlexLayout, true);\r\n\t},\r\n\tname:\"flexlayout\"\r\n}, webix.ui.layout);\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"align\",\r\n\tdefaults:{\r\n\t\tborderless:true,\r\n\t\tleft:0, top:0, right:0, bottom:0\r\n\t},\r\n\t$init:function(){\r\n\t\tthis._viewobj.className\t+= \" webix_view_align\";\r\n\t},\r\n\tbody_setter:function(value){\r\n\t\tvalue._inner = { top:false, left:false, right:false, bottom:false};\r\n\t\tthis._body_cell = webix.ui._view(value);\r\n\t\tthis._body_cell._parent_cell = this;\r\n\r\n\t\tthis._viewobj.appendChild(this._body_cell._viewobj);\r\n\t\treturn value;\r\n\t},\r\n\talign_setter:function(value){\r\n\t\tif (typeof value === \"string\")\r\n\t\t\tvalue = value.split(\",\");\r\n\r\n\t\tthis._x_align = this._y_align = this._p_align = \"\";\r\n\t\tfor (var i=0; i<value.length; i++){\r\n\t\t\tvar c = value[i];\r\n\t\t\tif (c === \"center\" || c === \"left\" || c === \"right\")\r\n\t\t\t\tthis._x_align = c;\r\n\t\t\tif (c === \"top\" || c === \"bottom\" || c === \"middle\")\r\n\t\t\t\tthis._y_align = c;\r\n\t\t\tif (c === \"absolute\")\r\n\t\t\t\tthis._x_align = this._y_align = this._p_align = \"precise\";\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\twebix.ui.view.prototype.$setSize.call(this, x,y);\r\n\r\n\t\tvar dx, dy;\r\n\t\tif (this._p_align){\r\n\t\t\tdx = x - this._settings.left + this._settings.right;\r\n\t\t\tdy = y - this._settings.top + this._settings.bottom;\r\n\t\t} else {\r\n\t\t\tdx = x; dy = y;\r\n\t\t}\r\n\r\n\t\tdx = this._desired_size[0] || dx;\r\n\t\tdy = this._desired_size[2] || dy;\r\n\r\n\r\n\r\n\t\tthis._body_cell.$setSize(dx, dy);\r\n\r\n\t\tvar box = this._body_cell._viewobj;\r\n\r\n\t\tif (this._x_align == \"center\")\r\n\t\t\tbox.style.marginLeft = Math.ceil((x-dx)/2)+\"px\";\r\n\t\telse if (this._x_align == \"right\")\r\n\t\t\tbox.style.marginLeft = (x-dx)+\"px\";\r\n\t\telse\r\n\t\t\tbox.style.marginLeft = (this._p_align ? this._settings.left : 0) +\"px\";\r\n\r\n\t\tif (this._y_align == \"middle\") \r\n\t\t\tbox.style.marginTop = Math.ceil((y-dy)/2)+\"px\";\r\n\t\telse if (this._y_align == \"bottom\")\r\n\t\t\tbox.style.marginTop = (y-dy)+\"px\";\r\n\t\telse\r\n\t\t\tbox.style.marginTop = (this._p_align ? this._settings.top : 0) + \"px\";\r\n\t},\r\n\t$getSize:function(dx,dy){\r\n\t\tvar size = this._desired_size = this._body_cell.$getSize(0,0);\r\n\t\tvar self_size = webix.ui.baseview.prototype.$getSize.call(this, 0, 0);\r\n\t\r\n\t\tif (this._p_align){\r\n\t\t\tdx += this._settings.left + this._settings.right;\r\n\t\t\tdy += this._settings.top + this._settings.bottom;\r\n\t\t}\r\n\r\n\t\tif (!this._x_align || this._p_align){\r\n\t\t\tself_size[0] = size[0]+dy;\r\n\t\t\tself_size[1] = size[1]+dy;\r\n\t\t} else {\r\n\t\t\tself_size[0] = (self_size[0] || size[0] ) +dy;\r\n\t\t\tself_size[1] +=\tdx;\r\n\t\t}\r\n\r\n\t\tif (!this._y_align || this._p_align){\r\n\t\t\tself_size[2] = size[2]+dy;\r\n\t\t\tself_size[3] = size[3]+dy;\r\n\t\t} else {\r\n\t\t\tself_size[2] = (self_size[2] || size[2] ) +dy;\r\n\t\t\tself_size[3] +=\tdx;\r\n\t\t}\r\n\r\n\t\treturn self_size;\r\n\t}\r\n}, webix.ui.view);\r\n\r\n\r\n\r\nwebix.animate = function(html_element, config){\r\n\tvar animation = config;\r\n\tif (webix.isArray(html_element)){\r\n\t\tfor (var i=0; i < html_element.length; i++) {\r\n\t\t\tif(webix.isArray(config))\r\n\t\t\t\tanimation = config[i];\r\n\r\n\t\t\tif(animation.type == 'slide'){\r\n\t\t\t\tif(animation.subtype == 'out' && i===0) { // next\r\n\t\t\t\t    continue;\r\n\t\t\t\t}\r\n\t\t\t\tif(animation.subtype == 'in' && i==1) { // current\r\n\t\t\t\t    continue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(animation.type == 'flip'){\r\n\t\t\t\tvar animation_copy = webix.clone(animation);\r\n\t\t\t\tif(i===0) { // next\r\n\t\t\t\t    animation_copy.type = 'flipback';\r\n\t\t\t\t}\r\n\t\t\t\tif(i==1) { // current\r\n\t\t\t\t    animation_copy.callback = null;\r\n\t\t\t\t}\r\n\t\t\t\twebix.animate(html_element[i], animation_copy);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\twebix.animate(html_element[i], animation);\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\tvar node = webix.toNode(html_element);\r\n\tif (node._has_animation)\r\n\t\twebix.animate.end(node, animation);\r\n\telse\r\n\t\twebix.animate.start(node, animation);\r\n};\r\nwebix.animate.end = function(node, animation){\r\n\t//stop animation\r\n\tnode.style[webix.env.transitionDuration] = \"1ms\";\r\n\tnode._has_animation = null;\r\n\t//clear animation wait order, if any\r\n\tif (webix._wait_animate)\r\n\t\twindow.clearTimeout(webix._wait_animate);\r\n\r\n\t//plan next animation, if any\r\n\twebix._wait_animate = webix.delay(webix.animate, webix, [node,animation],10);\r\n};\r\nwebix.animate.isSupported=function(){\r\n\treturn !webix.$testmode && !webix.noanimate && webix.env.transform && webix.env.transition && !webix.env.isOpera;\r\n};\r\nwebix.animate.formLine=function(next, current, animation){\r\n    var direction = animation.direction;\r\n\tcurrent.parentNode.style.position = \"relative\";\r\n    current.style.position = \"absolute\";\r\n\tnext.style.position = \"absolute\";\r\n\r\n\t//this is initial shift of second view in animation\r\n\t//normally we need to have this value as 0\r\n\t//but FF has bug with animation initially invisible elements\r\n\t//so we are adjusting this value, to make 1px of second view visible\r\n\tvar defAniPos = webix.env.isFF ? ( direction == \"top\" || direction == \"left\" ? -1 : 1) : 0;\r\n\r\n\tif(direction==\"top\"||direction==\"bottom\"){\r\n\t\tnext.style.left=\"0px\";\r\n\t\tnext.style.top = (animation.top || defAniPos) + (direction==\"top\"?1:-1)*current.offsetHeight+\"px\";\r\n\t}\r\n\telse{\r\n\t\tnext.style.top = (animation.top || 0) + \"px\";\r\n\t\tnext.style.left = defAniPos + (direction==\"left\"?1:-1)*current.offsetWidth+\"px\";\r\n\t}\r\n\r\n\t// apply 'keepViews' mode, iframe solution\r\n\t//( keepViews won't work in case of \"in\" and \"out\" subtypes )\r\n\tif(current.parentNode == next.parentNode && animation.keepViews)\r\n\t\tnext.style.display = \"\";\r\n\telse\r\n\t\twebix.html.insertBefore(next, current.nextSibling, current.parentNode);\r\n\r\n\tif(animation.type == 'slide' && animation.subtype == 'out') {\r\n\t\tnext.style.left = \"0px\";\r\n\t\tnext.style.top = (animation.top || 0)+\"px\";\r\n\t\tcurrent.parentNode.removeChild(current);\r\n\t\twebix.html.insertBefore(current, next.nextSibling, next.parentNode);\r\n\t}\r\n\treturn [next, current];\r\n};\r\nwebix.animate.breakLine=function(line){\r\n\tif(arguments[1])\r\n\t\tline[1].style.display = \"none\"; // 'keepViews' multiview mode\r\n\telse\r\n\t\twebix.html.remove(line[1]); // 1 = current\r\n\twebix.animate.clear(line[0]);\r\n\twebix.animate.clear(line[1]);\r\n\tline[0].style.position=\"\";\r\n};\r\nwebix.animate.clear=function(node){\r\n\tnode.style[webix.env.transform] = \"none\";\r\n\tnode.style[webix.env.transition] = \"none\";\r\n\tnode.style.top = node.style.left = \"\";\r\n};\r\nwebix.animate.defaults = {\r\n\t\ttype: 'slide',\r\n\t\tdelay: '0',\r\n\t\tduration: '500',\r\n\t\ttiming: 'ease-in-out',\r\n\t\tx: 0,\r\n\t\ty: 0\r\n};\r\nwebix.animate.start = function(node, animation){\r\n\t//getting config object by merging specified and default options\r\n \tif (typeof animation == 'string')\r\n\t\tanimation = {type: animation};\r\n\r\n    animation = webix.Settings._mergeSettings(animation,webix.animate.defaults);\r\n\r\n\tvar prefix = webix.env.cssPrefix;\r\n    var settings = node._has_animation = animation;\r\n    var skew_options, scale_type;\r\n\r\n    //jshint -W086:true\r\n\tswitch(settings.type == 'slide' && settings.direction) { // getting new x, y in case it is slide with direction\r\n\t\tcase 'right':\r\n\t\t\tsettings.x = node.offsetWidth;\r\n\t\t\tbreak;\r\n\t\tcase 'left':\r\n\t\t\tsettings.x = -node.offsetWidth;\r\n\t\t\tbreak;\r\n\t\tcase 'top':\r\n\t\t\tsettings.y = -node.offsetHeight;\r\n\t\t\tbreak;\r\n\t\tcase 'bottom':\r\n\t\tdefault:\r\n\t\t\tsettings.y = settings.y||node.offsetHeight;\r\n\t\t\tbreak;\r\n\t}\r\n\r\n    if(settings.type == 'flip' || settings.type == 'flipback') {\r\n    \t\tskew_options = [0, 0];\r\n            scale_type = 'scaleX';\r\n            if(settings.subtype == 'vertical') {\r\n                skew_options[0] = 20;\r\n                scale_type = 'scaleY';\r\n            }\r\n            else\r\n                skew_options[1] = 20;\r\n            if(settings.direction == 'right' || settings.direction == 'bottom') {\r\n                skew_options[0] *= -1; skew_options[1] *= -1;\r\n            }\r\n    }\r\n\r\n\tvar duration = settings.duration + \"ms \" + settings.timing + \" \" + settings.delay+\"ms\";\r\n\tvar css_general = prefix+\"TransformStyle: preserve-3d;\"; // general css rules\r\n\tvar css_transition = '';\r\n\tvar css_transform = '';\r\n\r\n\tswitch(settings.type) {\r\n\t\tcase 'fade': // changes opacity to 0\r\n\t\t\tcss_transition = \"opacity \" + duration;\r\n\t\t\tcss_general = \"opacity: 0;\";\r\n\t\t\tbreak;\r\n\t\tcase 'show': // changes opacity to 1\r\n\t\t\tcss_transition = \"opacity \" + duration;\r\n\t\t\tcss_general = \"opacity: 1;\";\r\n\t\t\tbreak;\r\n        case 'flip':\r\n            duration = (settings.duration/2) + \"ms \" + settings.timing + \" \" + settings.delay+\"ms\";\r\n            css_transform = \"skew(\"+skew_options[0]+\"deg, \"+skew_options[1]+\"deg) \"+scale_type+\"(0.00001)\";\r\n            css_transition = \"all \"+(duration);\r\n            break;\r\n        case 'flipback':\r\n            settings.delay += settings.duration/2;\r\n            duration = (settings.duration/2) + \"ms \" + settings.timing + \" \" + settings.delay+\"ms\";\r\n            node.style[webix.env.transform] = \"skew(\"+(-1*skew_options[0])+\"deg, \"+(-1*skew_options[1])+\"deg) \"+scale_type+\"(0.00001)\";\r\n            node.style.left = \"0\";\r\n\r\n            css_transform = \"skew(0deg, 0deg) \"+scale_type+\"(1)\";\r\n            css_transition = \"all \"+(duration);\r\n            break;\r\n\t\tcase 'slide': // moves object to specified location\r\n\t\t\tvar x = settings.x +\"px\";\r\n\t\t\tvar y = settings.y +\"px\";\r\n            // translate(x, y) OR translate3d(x, y, 0)\r\n\t\t\tcss_transform = webix.env.translate+\"(\"+x+\", \"+y+((webix.env.translate==\"translate3d\")?\", 0\":\"\")+\")\";\r\n\t\t\tcss_transition = prefix+\"transform \" + duration;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\t//set styles only after applying transition settings\r\n    webix.delay(function(){\r\n        node.style[webix.env.transition] = css_transition;\r\n        webix.delay(function(){\r\n            if (css_general)\r\n                node.style.cssText += css_general;\r\n            if (css_transform)\r\n                node.style[webix.env.transform] = css_transform;\r\n            var transitionEnded = false;\r\n            var tid = webix.event(node, webix.env.transitionEnd, function(ev){\r\n                node._has_animation = null;\r\n                if (settings.callback) settings.callback.call((settings.master||window), node,settings,ev);\r\n                transitionEnded = true;\r\n                webix.eventRemove(tid);\r\n            });\r\n            window.setTimeout(function(){\r\n                if(!transitionEnded){\r\n                    node._has_animation = null;\r\n                    if (settings.callback) settings.callback.call((settings.master||window), node,settings);\r\n                    transitionEnded = true;\r\n                    webix.eventRemove(tid);\r\n                }\r\n            }, (settings.duration*1+settings.delay*1)*1.3);\r\n        });\r\n    });\r\n};\r\n\r\n/*\r\n\tBehavior:MouseEvents - provides inner evnets for  mouse actions\r\n*/\r\n\r\nwebix.MouseEvents={\r\n\t$init: function(config){\r\n\t\tconfig = config || {};\r\n\r\n\t\tthis._clickstamp = 0;\r\n\t\tthis._dbl_sensetive = 300;\r\n\t\tthis._item_clicked = null;\r\n\r\n\t\tthis._mouse_action_extend(config.onClick, \"on_click\");\r\n\t\tthis._mouse_action_extend(config.onContext, \"on_context\");\r\n\t\tthis._mouse_action_extend(config.onDblClick, \"on_dblclick\");\r\n\t\tthis._mouse_action_extend(config.onMouseMove, \"on_mouse_move\");\r\n\r\n\t\t//attach dom events if related collection is defined\r\n\t\tif (this.on_click){\r\n\t\t\twebix.event(this._contentobj,\"click\",this._onClick,{bind:this});\r\n\t\t\tif (webix.env.isIE8 && this.on_dblclick)\r\n\t\t\t\twebix.event(this._contentobj, \"dblclick\", this._onDblClick, {bind:this});\r\n\t\t}\r\n\t\tif (this.on_context)\r\n\t\t\twebix.event(this._contentobj,\"contextmenu\",this._onContext,{bind:this});\r\n\r\n\t\tif (this.on_mouse_move)\r\n\t\t\tthis._enable_mouse_move();\r\n\t},\r\n\r\n\t_enable_mouse_move:function(){\r\n\t\tif (!this._mouse_move_enabled){\r\n\t\t\tthis.on_mouse_move = this.on_mouse_move || {};\r\n\t\t\twebix.event(this._contentobj,\"mousemove\",this._onMouse,{bind:this});\r\n\t\t\twebix.event(this._contentobj,(webix.env.isIE?\"mouseleave\":\"mouseout\"),this._onMouse,{bind:this});\r\n\t\t\tthis._mouse_move_enabled = 1;\r\n\t\t\tthis.attachEvent(\"onDestruct\", function(){\r\n\t\t\t\tif (this._mouse_move_timer)\r\n\t\t\t\t\twindow.clearTimeout(this._mouse_move_timer);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_mouse_action_extend:function(config, key){\r\n\t\tif (config){\r\n\t\t\tvar now = this[key];\r\n\t\t\tvar step = now ? webix.extend({}, now) : {};\r\n\t\t\tthis[key] = webix.extend(step, config);\r\n\t\t}\r\n\t},\r\n\r\n\t//inner onclick object handler\r\n\t_onClick: function(e){\r\n\t\tif(!this.isEnabled())\r\n\t\t\treturn false;\r\n\r\n\t\twebix.UIManager._focus_action(this);\r\n\t\tif(this.on_dblclick){\r\n\t\t\t// emulates double click\r\n\t\t\tvar stamp = (new Date()).valueOf();\r\n\r\n\t\t\tif (stamp - this._clickstamp <= this._dbl_sensetive && this.locate){\r\n\t\t\t\tvar item = this.locate(e);\r\n\t\t\t\tif (\"\"+item == \"\"+this._item_clicked) {\r\n\t\t\t\t\tthis._clickstamp = 0;\r\n\t\t\t\t\treturn this._onDblClick(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._clickstamp = stamp;\r\n\t\t}\r\n\r\n\t\tvar result = this._mouseEvent(e,this.on_click,\"ItemClick\");\r\n\t\treturn result;\r\n\t},\r\n\t//inner ondblclick object handler\r\n\t_onDblClick: function(e) {\r\n\t\treturn this._mouseEvent(e,this.on_dblclick,\"ItemDblClick\");\r\n\t},\r\n\t//process oncontextmenu events\r\n\t_onContext: function(e) {\r\n\t\tthis._mouseEvent(e, this.on_context, \"BeforeContextMenu\", \"AfterContextMenu\");\r\n\t},\r\n\t/*\r\n\t\tevent throttler - ignore events which occurs too fast\r\n\t\tduring mouse moving there are a lot of event firing - we need no so much\r\n\t\talso, mouseout can fire when moving inside the same html container - we need to ignore such fake calls\r\n\t*/\r\n\t_onMouse:function(e){\r\n\t\tif (document.createEventObject)\t//make a copy of event, will be used in timed call\r\n\t\t\te = document.createEventObject(event);\r\n\t\telse if (!webix.$testmode && !webix.isUndefined(e.movementY) && !e.movementY && !e.movementX)\r\n\t\t\treturn; //logitech mouse driver can send false signals in Chrome\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\tif (this._mouse_move_timer)\t//clear old event timer\r\n\t\t\twindow.clearTimeout(this._mouse_move_timer);\r\n\t\t\t\t\r\n\t\t//this event just inform about moving operation, we don't care about details\r\n\t\tthis.callEvent(\"onMouseMoving\",[e]);\r\n\t\t//set new event timer\r\n\t\tthis._mouse_move_timer = window.setTimeout(webix.bind(function(){\r\n\t\t\t//called only when we have at least 100ms after previous event\r\n\t\t\tif (e.type == \"mousemove\")\r\n\t\t\t\tthis._onMouseMove(e);\r\n\t\t\telse\r\n\t\t\t\tthis._onMouseOut(e);\r\n\t\t},this),(this._settings.mouseEventDelay||500));\r\n\t},\r\n\r\n\t//inner mousemove object handler\r\n\t_onMouseMove: function(e) {\r\n\t\tif (!this._mouseEvent(e,this.on_mouse_move,\"MouseMove\"))\r\n\t\t\tthis.callEvent(\"onMouseOut\",[e||event]);\r\n\t},\r\n\t//inner mouseout object handler\r\n\t_onMouseOut: function(e) {\r\n\t\tthis.callEvent(\"onMouseOut\",[e||event]);\r\n\t},\r\n\t//common logic for click and dbl-click processing\r\n\t_mouseEvent:function(e,hash,name, pair){\r\n\t\te=e||event;\r\n\r\n\t\tif (e.processed || !this._viewobj) return;\r\n\t\te.processed = true;\r\n\r\n\t\tvar trg=e.target||e.srcElement;\r\n\r\n\t\t//IE8 can't modify event object\r\n\t\t//so we need to stop event bubbling to prevent double processing\r\n\t\tif (webix.env.isIE8){\r\n\t\t\tvar vid = this._settings.id;\r\n\t\t\tvar wid = trg.w_view;\r\n\r\n\t\t\tif (!wid) trg.w_view = vid; else if (wid !== vid) return;\r\n\t\t}\r\n\r\n\t\tvar css = \"\";\r\n\t\tvar id = null;\r\n\t\tvar found = false;\r\n\t\t//loop through all parents\r\n\t\twhile (trg && trg.parentNode && trg != this._viewobj.parentNode){\r\n\t\t\tif (!found && trg.getAttribute){\t\t\t\t\t\t\t\t\t\t\t\t\t//if element with ID mark is not detected yet\r\n\t\t\t\tid = trg.getAttribute(this._id);\t\t\t\t\t\t\t//check id of current one\r\n\t\t\t\tif (id){\r\n\t\t\t\t\tthis._item_clicked = id;\r\n\t\t\t\t\tif (this.callEvent){\r\n\t\t\t\t\t\t//it will be triggered only for first detected ID, in case of nested elements\r\n\t\t\t\t\t\tif (!this.callEvent(\"on\"+name,[id,e,trg])) return;\r\n\t\t\t\t\t\tif (pair) this.callEvent(\"on\"+pair,[id,e,trg]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//set found flag\r\n\t\t\t\t\tfound = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcss=webix.html._getClassName(trg);\r\n\t\t\tif (css){\t\t//check if pre-defined reaction for element's css name exists\r\n\t\t\t\tcss = css.toString().split(\" \");\r\n\t\t\t\tfor (var i=0; i<css.length; i++){\r\n\t\t\t\t\tif (hash[css[i]]){\r\n\t\t\t\t\t\tvar functor = webix.toFunctor(hash[css[i]], this.$scope);\r\n\t\t\t\t\t\tvar res =  functor.call(this,e,id||webix.html.locate(e, this._id),trg);\r\n\t\t\t\t\t\tif(res === false)\r\n\t\t\t\t\t\t\treturn found;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttrg=trg.parentNode;\r\n\t\t}\r\n\t\t\t\r\n\t\treturn found;\t//returns true if item was located and event was triggered\r\n\t}\r\n};\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"accordionitem\",\r\n\t$init:function(config){\r\n\t\tthis._viewobj.innerHTML = \"<div webix_ai_id='\"+config.id+\"'  class='webix_accordionitem_header'><div tabindex='0' role='button' class='webix_accordionitem_button' ></div><div class='webix_accordionitem_label' ></div></div><div class='webix_accordionitem_body'></div>\";\r\n\t\t\r\n\t\tthis._contentobj = this._viewobj;\r\n\t\tthis._headobj = this._contentobj.childNodes[0];\r\n\t\tif(!config.header)\r\n\t\t\tthis._headobj.style.display = \"none\";\r\n\t\tthis._headlabel = this._contentobj.childNodes[0].childNodes[1];\r\n\t\tthis._headbutton = this._contentobj.childNodes[0].childNodes[0];\r\n\t\tthis._bodyobj = this._contentobj.childNodes[1];\r\n\t\tthis._viewobj.className +=\" webix_accordionitem\";\r\n\t\tthis._head_cell = this._body_cell = null;\r\n\t\tthis._cells = true;\r\n\r\n\t\tthis._bodyobj.setAttribute(\"role\", \"tabpanel\");\r\n\t\tthis._headobj.setAttribute(\"role\", \"tab\");\r\n\r\n\t\tthis.attachEvent(\"onKeyPress\", this._onKeyPress);\r\n\t},\r\n\t_remove:function(){\r\n\t\tthis._body_cell = { destructor:function(){} };\r\n\t},\r\n\t_replace:function(new_view){\r\n\t\tthis._body_cell.destructor();\r\n\t\tthis._body_cell = new_view;\r\n\t\tthis._body_cell._parent_cell = this;\r\n\t\t\r\n\t\tthis._bodyobj.appendChild(this._body_cell._viewobj);\r\n\t\tthis.resize();\r\n\t},\r\n\t_id:\"webix_ai_id\",\r\n\tgetChildViews:function(){\r\n\t\treturn [this._body_cell];\r\n\t},\r\n\tbody_setter:function(value){\r\n\t\tif (typeof value != \"object\")\r\n\t\t\tvalue = {template:value };\r\n\r\n\t\tvalue._inner = { top:true, left:true, right:true, bottom:true};\r\n\t\tthis._body_cell = webix.ui._view(value);\r\n\t\tthis._body_cell.$view.style.border = \"0px solid red\";\r\n\t\tthis._body_cell._parent_cell = this;\r\n\r\n\t\tthis._bodyobj.appendChild(this._body_cell._viewobj);\r\n\t\treturn value;\r\n\t},\r\n\theader_setter:function(value){\r\n\t\tif(value)\r\n\t\t\tvalue = webix.template(value);\r\n\t\treturn value;\r\n\t},\r\n\theaderAlt_setter:function(value){\r\n\t\tif(value)\r\n\t\t\tvalue = webix.template(value);\r\n\t\treturn value;\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tvar size =  this._body_cell.$getSize(0, 0);\r\n\r\n\t\t//apply external border to inner content sizes\r\n\t\tvar _borders = this._settings._inner;\r\n\t\tif (_borders){\r\n\t\t\tdx += (_borders.left?0:1)+(_borders.right?0:1);\r\n\t\t\tdy += (_borders.top?0:1)+(_borders.bottom?0:1);\r\n\t\t}\r\n\r\n\t\tvar header = 0;\r\n\t\tvar self_size = webix.ui.baseview.prototype.$getSize.call(this, 0, 0);\r\n\r\n\t\t//use child settings if layout's one was not defined\r\n\t\tself_size[0] = (self_size[0] || size[0] ) +dx;\r\n\t\tif (self_size[1] >= 100000)\r\n\t\t\tself_size[1] = size[1];\r\n\t\tself_size[1] +=\tdx;\r\n\t\t\r\n\t\tself_size[2] = (self_size[2] || size[2] ) +dy;\r\n\t\tvar fixedHeight = (self_size[3]< 100000);\r\n\t\tif (!fixedHeight)\r\n\t\t\tself_size[3] = size[3];\r\n\r\n\t\tself_size[3] += dy;\r\n\r\n\t\tif(this.getParentView()._vertical_orientation){\r\n\t\t\tif (this._settings.collapsed){\r\n\t\t\t\tself_size[2] = self_size[3] = this._getHeaderSize();\r\n\t\t\t} else if(this._settings.header)\r\n\t\t\t\theader = this._settings.headerHeight;\r\n\t\t} else {\r\n\t\t\tif (this._settings.collapsed)\r\n\t\t\t\tself_size[0] = self_size[1] = this._getHeaderSize();\r\n\t\t\tif(this._settings.header)\r\n\t\t\t\theader = this._settings.headerHeight;\r\n\t\t}\r\n\r\n\t\t//include header in total height calculation\r\n\t\tif(!fixedHeight){\r\n\t\t\tself_size[2] += header;\r\n\t\t\tself_size[3] += header;\r\n\t\t}\r\n\r\n\t\twebix.debug_size_box(this, self_size, true);\r\n\t\treturn self_size;\r\n\t},\r\n\ton_click:{\r\n\t\twebix_accordionitem_header:function(e, id){\r\n\t\t\tthis._toggle(e);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\twebix_accordionitem_header_v:function(e, id){\r\n\t\t\tthis._toggle(e);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t},\r\n\t_toggle:function(e){\r\n\t\tthis.define(\"collapsed\", !this._settings.collapsed);\r\n\t},\r\n\tcollapsed_setter:function(value){\r\n\t\tif (this._settings.header === false) return;\r\n\t\t//use last layout element if parent is not known yet\r\n\t\tvar parent = this.getParentView();\r\n\t\tif(parent){\r\n\t\t\tif(!value)\r\n\t\t\t\tthis._expand();\r\n\t\t\telse{\r\n\t\t\t\tif ( parent._canCollapse(this))\r\n\t\t\t\t\tthis._collapse();\r\n\t\t\t\telse{\r\n\t\t\t\t\tvar success = 0;\r\n\t\t\t\t\tif(parent._cells.length > 1)\r\n\t\t\t\t\t\tfor (var i=0; i < parent._cells.length; i++){\r\n\t\t\t\t\t\t\tvar sibl = parent._cells[i];\r\n\r\n\t\t\t\t\t\t\tif (this != sibl && sibl.isVisible()){\r\n\t\t\t\t\t\t\t\tsibl.expand();\r\n\t\t\t\t\t\t\t\tthis._collapse();\r\n\t\t\t\t\t\t\t\tsuccess = 1;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tif (!success) return;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._settings.collapsed = value;\r\n\t\t\tif (!value) parent._afterOpen(this);\r\n\r\n\t\t\tthis.refresh();\r\n\t\t\tif (!webix._ui_creation)\r\n\t\t\t\tthis.resize();\r\n\r\n\t\t\tparent.callEvent(\"onAfter\"+(value?\"Collapse\":\"Expand\"), [this._settings.id]);\r\n\r\n\t\t\tthis._settings.$noresize = value;\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\tcollapse:function(){\r\n\t\tthis.define(\"collapsed\", true);\r\n\t\twebix.UIManager._moveChildFocus(this);\r\n\t},\r\n\texpand:function(){\r\n\t\tthis.define(\"collapsed\", false);\r\n\t},\r\n\t_show: function() {\r\n\t\tthis.show();\r\n\t},\r\n\t_hide: function() {\r\n\t\tthis.hide();\r\n\t},\r\n\t_expand:function(){\r\n\t\tthis._bodyobj.style.display = \"\";\r\n\t\twebix.html.removeCss(this.$view, \"collapsed\");\r\n\t\twebix.html.removeCss(this._headobj, \"collapsed\");\r\n\r\n\t\tthis._headobj.setAttribute(\"aria-expanded\", \"true\");\r\n\t},\r\n\t_collapse:function(){\r\n\t\tvar vertical = this.getParentView()._vertical_orientation;\r\n\t\t//this._original_size = (vertical?this._settings.height:this._settings.width)||-1;\r\n\r\n\t\tif(this._settings.headerAlt)\r\n\t\t\tthis._headlabel.innerHTML = this._settings.headerAlt();\r\n\t\tthis._bodyobj.style.display = \"none\";\r\n\t\twebix.html.addCss(this.$view, \"collapsed\");\r\n\t\twebix.html.addCss(this._headobj, \"collapsed\");\r\n\r\n\t\tthis._headobj.setAttribute(\"aria-expanded\", \"false\");\r\n\t},\r\n\trefresh:function(){\r\n\t\tvar template = this._settings[this._settings.collapsed?\"headerAlt\":\"header\"] ||this._settings.header;\r\n\t\tif (template){\r\n\t\t\tthis._headlabel.innerHTML = template();\r\n\t\t\tthis._headbutton.setAttribute(\"aria-label\", template());\r\n\t\t}\r\n\t\t\t\r\n\t\tvar css = (this.getParentView()._vertical_orientation?\"vertical\":\"horizontal\");\r\n\t\tif(this._viewobj.className.indexOf(\" \"+css) < 0 ){\r\n\t\t\twebix.html.addCss(this._viewobj, css);\r\n\t\t}\r\n\t\t//fix collapsed columns in IE8\r\n\t\tif(!webix.env.transform){\r\n\t\t\twebix.html.addCss(this._viewobj,\"webix_ie\",true);\r\n\t\t}\r\n\t},\r\n\t_getHeaderSize:function(){\r\n\t\treturn (this._settings.collapsed?this._settings.headerAltHeight:this._settings.headerHeight);\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tif (webix.ui.view.prototype.$setSize.call(this,x,y) || this._getHeaderSize() != this._last_set_header_size){\r\n\t\t\tx = this._content_width;\r\n\t\t\ty = this._content_height;\r\n\r\n\t\t\tvar headerSize = this._last_set_header_size = this._getHeaderSize();//-(this._settings._inner.top?0:1);\r\n\t\t\tif (this._settings.header){\r\n\r\n\t\t\t\tthis._headobj.style.height=headerSize+\"px\";\r\n\t\t\t\tthis._headobj.style.width=\"auto\";\r\n\t\t\t\tthis._headobj.style[webix.env.transform]=\"\";\r\n\r\n\t\t\t\t\r\n\t\t\t\tthis._headobj.style.borderBottomWidth = (this._settings.collapsed?0:1)+\"px\";\r\n\r\n\t\t\t\tif(this.getParentView()._vertical_orientation||!this._settings.collapsed){\r\n\t\t\t\t\ty-=this._getHeaderSize();\r\n\t\t\t\t} else if (this._settings.collapsed){\r\n\t\t\t\t\t//-2 - borders\r\n\t\t\t\t\tif (webix.animate.isSupported()){\r\n\t\t\t\t\t\tthis._headobj.style.width = y + \"px\";\r\n\t\t\t\t\t\tthis._headobj.style.height = x + 3 + \"px\";\r\n\t\t\t\t\t\tvar d = Math.floor(y/2-x/2)+(x-this._settings.headerAltHeight)/2;\r\n\t\t\t\t\t\tthis._headobj.style[webix.env.transform]=\"rotate(90deg) translate(\"+d+\"px, \"+(d+1)+\"px)\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse { //IE8 fix\r\n\t\t\t\t\t\tthis._headobj.style.width = x + \"px\";\r\n\t\t\t\t\t\tthis._headobj.style.height = y + 3 + \"px\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(!this._settings.collapsed){\r\n\t\t\t\tthis._body_cell.$setSize(x,y);\r\n\t\t\t\tthis._last_size_y = y;\r\n\t\t\t}\r\n\t\t} else if (!this._settings.collapsed){\r\n\t\t\tvar body = this._body_cell;\r\n\t\t\tif (this._last_size_y)\r\n\t\t\t\tbody.$setSize(this._content_width, this._last_size_y);\r\n\t\t}\r\n\t},\r\n\t$skin:function(){\r\n\t\tvar defaults = this.defaults;\r\n\t\tdefaults.headerAltHeight = defaults.headerHeight = webix.skin.$active.barHeight;\r\n\t\tif(webix.skin.$active.borderlessAccordion)\r\n\t\t\tdefaults.borderless = true;\r\n\t},\r\n\tdefaults:{\r\n\t\theader:false,\r\n\t\theaderAlt:false,\r\n\t\tbody:\"\"\r\n\t}\r\n}, webix.MouseEvents, webix.EventSystem, webix.ui.view);\r\n\r\nwebix.protoUI({\r\n\tname:\"accordion\",\r\n\tdefaults:{\r\n\t\tpanelClass:\"accordionitem\",\r\n\t\tmulti:false,\r\n\t\tcollapsed:false\r\n\t},\r\n\t$init:function(){\r\n\t\tthis._viewobj.setAttribute(\"role\", \"tablist\");\r\n\t\tthis._viewobj.setAttribute(\"aria-multiselectable\", \"true\");\r\n\t},\r\n\taddView:function(view){\r\n\t\t//adding view to the accordion\r\n\t\tvar id = webix.ui.layout.prototype.addView.apply(this, arguments);\r\n\t\tvar child = webix.$$(id);\r\n\t\t//repainting sub-panels in the accordion\r\n\t\tif (child.collapsed_setter && child.refresh) child.refresh();\r\n\t\treturn id;\r\n\t},\r\n\t_parse_cells:function(){\r\n\t\tvar panel = this._settings.panelClass;\r\n\t\tvar cells = this._collection;\r\n\r\n\t\tfor (var i=0; i<cells.length; i++){\r\n\t\t\tif ((cells[i].body || cells[i].header)&& !cells[i].view && !cells[i].align)\r\n\t\t\t\tcells[i].view = panel;\r\n\t\t\tif (webix.isUndefined(cells[i].collapsed))\r\n\t\t\t\tcells[i].collapsed = this._settings.collapsed;\r\n\r\n\t\t}\r\n\r\n\t\r\n\t\tthis._skin_render_collapse = true;\r\n\t\twebix.ui.layout.prototype._parse_cells.call(this);\r\n\t\tthis._skin_render_collapse = false;\r\n\r\n\t\tfor (var i=0; i < this._cells.length; i++){\r\n\t\t\tif (this._cells[i].name == panel) \r\n\t\t\t\tthis._cells[i].refresh();\r\n\t\t\tthis._cells[i]._accLastChild = false;\r\n\t\t}\r\n\t\tvar found = false;\r\n\t\tfor (var i= this._cells.length-1; i>=0 &&!found; i--){\r\n\t\t\tif(!this._cells[i]._settings.hidden){\r\n\t\t\t\tthis._cells[i]._accLastChild = true;\r\n\t\t\t\tfound = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t},\r\n\t_afterOpen:function(view){\r\n\t\tif (this._settings.multi === false && this._skin_render_collapse !== true){\r\n\t\t\tfor (var i=0; i < this._cells.length; i++) {\r\n\t\t\t\tif (view != this._cells[i] && !this._cells[i]._settings.collapsed && this._cells[i].collapse)\r\n\t\t\t\t\tthis._cells[i].collapse();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (view.callEvent){\r\n\t\t\tview.callEvent(\"onViewShow\",[]);\r\n\t\t\twebix.ui.each(view, this._signal_hidden_cells);\r\n\t\t}\r\n\t},\r\n\t_canCollapse:function(view){\r\n\t\tif (this._settings.multi === true || this._skin_render_collapse) return true;\r\n\t\t//can collapse only if you have other item to open\r\n\t\tfor (var i=0; i < this._cells.length; i++)\r\n\t\t\tif (view != this._cells[i] && !this._cells[i]._settings.collapsed && this._cells[i].isVisible())\r\n\t\t\t\treturn true;\r\n\t\treturn false;\r\n\t},\r\n\t$skin:function(){\r\n\t\tvar defaults = this.defaults;\r\n\t\tif(webix.skin.$active.accordionType)\r\n\t\t\tdefaults.type = webix.skin.$active.accordionType;\r\n\t}\r\n}, webix.ui.layout);\r\n\r\nwebix.protoUI({\r\n\tname:\"headerlayout\",\r\n\tdefaults:{\r\n\t\ttype: \"accordion\",\r\n\t\tmulti:\"mixed\",\r\n\t\tcollapsed:false\r\n\t}\r\n}, webix.ui.accordion);\r\n\r\n\r\n\r\n\r\n\r\n/*\r\n\tBehavior:DND - low-level dnd handling\r\n\t@export\r\n\t\tgetContext\r\n\t\taddDrop\r\n\t\taddDrag\r\n\t\t\r\n\tDND master can define next handlers\r\n\t\tonCreateDrag\r\n\t\tonDragIng\r\n\t\tonDragOut\r\n\t\tonDrag\r\n\t\tonDrop\r\n\tall are optional\r\n*/\r\n\r\n\r\n\r\nwebix.DragControl={\r\n\t//has of known dnd masters\r\n\t_drag_masters : webix.toArray([\"dummy\"]),\r\n\t/*\r\n\t\tregister drop area\r\n\t\t@param node \t\t\thtml node or ID\r\n\t\t@param ctrl \t\t\toptions dnd master\r\n\t\t@param master_mode \t\ttrue if you have complex drag-area rules\r\n\t*/\r\n\taddDrop:function(node,ctrl,master_mode){\r\n\t\tnode = webix.toNode(node);\r\n\t\tnode.webix_drop=this._getCtrl(ctrl);\r\n\t\tif (master_mode) node.webix_master=true;\r\n\t},\r\n\t//return index of master in collection\r\n\t//it done in such way to prevent dnd master duplication\r\n\t//probably useless, used only by addDrop and addDrag methods\r\n\t_getCtrl:function(ctrl){\r\n\t\tctrl = ctrl||webix.DragControl;\r\n\t\tvar index = this._drag_masters.find(ctrl);\r\n\t\tif (index<0){\r\n\t\t\tindex = this._drag_masters.length;\r\n\t\t\tthis._drag_masters.push(ctrl);\r\n\t\t}\r\n\t\treturn index;\r\n\t},\r\n\t_createTouchDrag: function(e){\r\n\t\tvar dragCtrl = webix.DragControl;\r\n\t\tvar master = this._getActiveDragMaster();\r\n\t\t// for data items only\r\n\t\tif(master && master._getDragItemPos){\r\n\r\n\t\t\tif(!dragCtrl._html)\r\n\t\t\t\tdragCtrl.createDrag(e);\r\n\t\t\tvar ctx = dragCtrl._drag_context;\r\n\t\t\tdragCtrl._html.style.left= e.x+dragCtrl.left+ (ctx.x_offset||0)+\"px\";\r\n\t\t\tdragCtrl._html.style.top= e.y+dragCtrl.top+ (ctx.y_offset||0) +\"px\";\r\n\t\t}\r\n\t},\r\n\t/*\r\n\t\tregister drag area\r\n\t\t@param node \thtml node or ID\r\n\t\t@param ctrl \toptions dnd master\r\n\t*/\r\n\taddDrag:function(node,ctrl){\r\n\t    node = webix.toNode(node);\r\n\t    node.webix_drag=this._getCtrl(ctrl);\r\n\t\twebix.event(node,webix.env.mouse.down,this._preStart,{bind:node});\r\n\t\twebix.event(node,\"dragstart\",webix.html.preventEvent);\r\n\t},\r\n\t//logic of drag - start, we are not creating drag immediately, instead of that we hears mouse moving\r\n\t_preStart:function(e){\r\n\t\tif (webix.DragControl._active){\r\n\t\t\t//if we have nested drag areas, use the top one and ignore the inner one\r\n\t\t\tif (webix.DragControl._saved_event == e) return;\r\n\t\t\twebix.DragControl._preStartFalse();\r\n\t\t\twebix.DragControl.destroyDrag(e);\r\n\t\t}\r\n\t\twebix.DragControl._active=this;\r\n\r\n\t\tvar evobj = webix.env.mouse.context(e);\r\n\t\twebix.DragControl._start_pos=evobj;\r\n\t\twebix.DragControl._saved_event = e;\r\n\r\n\t\twebix.DragControl._webix_drag_mm = webix.event(document.body,webix.env.mouse.move,webix.DragControl._startDrag);\r\n\t\twebix.DragControl._webix_drag_mu = webix.event(document.body,webix.env.mouse.up,webix.DragControl._preStartFalse);\r\n\r\n\t\t//need to run here, or will not work in IE\r\n\t\twebix.html.addCss(document.body,\"webix_noselect\", 1);\r\n\t},\r\n\t//if mouse was released before moving - this is not a dnd, remove event handlers\r\n\t_preStartFalse:function(){\r\n\t\twebix.DragControl._clean_dom_after_drag();\r\n\t},\r\n\t//mouse was moved without button released - dnd started, update event handlers\r\n\t_startDrag:function(e){\r\n\t\t//prevent unwanted dnd\r\n\t\tvar pos = webix.env.mouse.context(e);\r\n\t\tvar master = webix.DragControl._getActiveDragMaster();\r\n\t\t// only long-touched elements can be dragged\r\n\r\n\t\tvar longTouchLimit = (master && webix.env.touch && master._getDragItemPos && !webix.Touch._long_touched);\r\n\t\tif (longTouchLimit || Math.abs(pos.x-webix.DragControl._start_pos.x)<5 && Math.abs(pos.y-webix.DragControl._start_pos.y)<5)\r\n\t\t\treturn;\r\n\r\n\t\twebix.DragControl._clean_dom_after_drag(true);\r\n\t\tif(!webix.DragControl._html)\r\n\t\t\tif (!webix.DragControl.createDrag(webix.DragControl._saved_event)) return;\r\n\t\t\r\n\t\twebix.DragControl.sendSignal(\"start\"); //useless for now\r\n\t\twebix.DragControl._webix_drag_mm = webix.event(document.body,webix.env.mouse.move,webix.DragControl._moveDrag);\r\n\t\twebix.DragControl._webix_drag_mu = webix.event(document.body,webix.env.mouse.up,webix.DragControl._stopDrag);\r\n\t\twebix.DragControl._moveDrag(e);\r\n\r\n\t\tif (webix.env.touch)\r\n\t\t\treturn webix.html.preventEvent(e);\r\n\t},\r\n\t//mouse was released while dnd is active - process target\r\n\t_stopDrag:function(e){\r\n\t\twebix.DragControl._clean_dom_after_drag();\r\n\t\twebix.DragControl._saved_event = null;\r\n\r\n\t\tif (webix.DragControl._last){\t//if some drop target was confirmed\r\n\t\t\twebix.DragControl.$drop(webix.DragControl._active, webix.DragControl._last, e);\r\n\t\t\twebix.DragControl.$dragOut(webix.DragControl._active,webix.DragControl._last,null,e);\r\n\t\t}\r\n\t\twebix.DragControl.destroyDrag(e);\r\n\t\twebix.DragControl.sendSignal(\"stop\");\t//useless for now\r\n\t},\r\n\t_clean_dom_after_drag:function(still_drag){\r\n\t\tthis._webix_drag_mm = webix.eventRemove(this._webix_drag_mm);\r\n\t\tthis._webix_drag_mu = webix.eventRemove(this._webix_drag_mu);\r\n\t\tif (!still_drag)\r\n\t\t\twebix.html.removeCss(document.body,\"webix_noselect\");\r\n\t},\r\n\t//dnd is active and mouse position was changed\r\n\t_moveDrag:function(e){\r\n\t\tvar dragCtrl = webix.DragControl;\r\n\t\tvar pos = webix.html.pos(e);\r\n\t\tvar evobj = webix.env.mouse.context(e);\r\n\r\n\t\t//give possibility to customize drag position\r\n\t\tvar customPos = dragCtrl.$dragPos(pos, e);\r\n\t\t//adjust drag marker position\r\n\t\tvar ctx = dragCtrl._drag_context;\r\n\t\tdragCtrl._html.style.top=pos.y+dragCtrl.top+(customPos||!ctx.y_offset?0:ctx.y_offset) +\"px\";\r\n\t\tdragCtrl._html.style.left=pos.x+dragCtrl.left+(customPos||!ctx.x_offset?0:ctx.x_offset)+\"px\";\r\n\r\n\t\tif (dragCtrl._skip)\r\n\t\t\tdragCtrl._skip=false;\r\n\t\telse {\r\n\t\t\tvar target = evobj.target = webix.env.touch ? document.elementFromPoint(evobj.x, evobj.y) : evobj.target;\r\n\t\t\tvar touch_event = webix.env.touch ? evobj : e;\r\n\t\t\tdragCtrl._checkLand(target, touch_event);\r\n\t\t}\r\n\t\t\r\n\t\treturn webix.html.preventEvent(e);\r\n\t},\r\n\t//check if item under mouse can be used as drop landing\r\n\t_checkLand:function(node,e){\r\n\t\twhile (node && node.tagName!=\"BODY\"){\r\n\t\t\tif (node.webix_drop){\t//if drop area registered\r\n\t\t\t\tif (this._last && (this._last!=node || node.webix_master))\t//if this area with complex dnd master\r\n\t\t\t\t\tthis.$dragOut(this._active,this._last,node,e);\t\t\t//inform master about possible mouse-out\r\n\t\t\t\tif (!this._last || this._last!=node || node.webix_master){\t//if this is new are or area with complex dnd master\r\n\t\t\t\t\tthis._last=null;\t\t\t\t\t\t\t\t\t\t//inform master about possible mouse-in\r\n\t\t\t\t\tthis._landing=this.$dragIn(webix.DragControl._active,node,e);\r\n\t\t\t\t\tif (this._landing)\t//landing was rejected\r\n\t\t\t\t\t\tthis._last=node;\r\n\t\t\t\t\treturn;\t\t\t\t\r\n\t\t\t\t} \r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tnode=node.parentNode;\r\n\t\t}\r\n\t\tif (this._last)\t//mouse was moved out of previous landing, and without finding new one \r\n\t\t\tthis._last = this._landing = this.$dragOut(this._active,this._last,null,e);\r\n\t},\r\n\t//mostly useless for now, can be used to add cross-frame dnd\r\n\tsendSignal:function(signal){\r\n\t\twebix.DragControl.active=(signal==\"start\");\r\n\t},\r\n\t\r\n\t//return master for html area\r\n\tgetMaster:function(t){\r\n\t\treturn this._drag_masters[t.webix_drag||t.webix_drop];\r\n\t},\r\n\t//return dhd-context object\r\n\tgetContext:function(){\r\n\t\treturn this._drag_context;\r\n\t},\r\n\tgetNode:function(){\r\n\t\treturn this._html;\r\n\t},\r\n\t//called when dnd is initiated, must create drag representation\r\n\tcreateDrag:function(e){ \r\n\t\tvar dragCtl = webix.DragControl;\r\n\t\tvar a=dragCtl._active;\r\n\r\n\t\tdragCtl._drag_context = {};\r\n\t\tvar master = this._drag_masters[a.webix_drag];\r\n        var drag_container;\r\n\r\n\t\t//if custom method is defined - use it\r\n\t\tif (master.$dragCreate){\r\n\t\t\tdrag_container=master.$dragCreate(a,e);\r\n\t\t\tif (!drag_container) return false;\r\n\t\t\tthis._setDragOffset(e);\r\n\t\t\tdrag_container.style.position = 'absolute';\r\n\t\t} else {\r\n\t\t//overvise use default one\r\n\t\t\tvar text = dragCtl.$drag(a,e);\r\n\t\t\tdragCtl._setDragOffset(e);\r\n\r\n\t\t\tif (!text) return false;\r\n\t\t\tdrag_container = document.createElement(\"DIV\");\r\n\t\t\tdrag_container.innerHTML=text;\r\n\t\t\tdrag_container.className=\"webix_drag_zone\";\r\n\t\t\tdocument.body.appendChild(drag_container);\r\n\r\n\t\t\tvar context = dragCtl._drag_context;\r\n\t\t\tif (context.html && webix.env.pointerevents){\r\n\t\t\t\tcontext.x_offset = -Math.round(drag_container.offsetWidth  * 0.5);\r\n\t\t\t\tcontext.y_offset = -Math.round(drag_container.offsetHeight * 0.75);\r\n\t\t\t}\r\n\t\t}\r\n\t\t/*\r\n\t\t\tdragged item must have topmost z-index\r\n\t\t\tin some cases item already have z-index\r\n\t\t\tso we will preserve it if possible\r\n\t\t*/\r\n\t\tdrag_container.style.zIndex = Math.max(drag_container.style.zIndex,webix.ui.zIndex());\r\n\r\n\t\twebix.DragControl._skipDropH = webix.event(drag_container,webix.env.mouse.move,webix.DragControl._skip_mark);\r\n\r\n\t\tif (!webix.DragControl._drag_context.from)\r\n\t\t\twebix.DragControl._drag_context = {source:a, from:a};\r\n\t\t\r\n\t\twebix.DragControl._html=drag_container;\r\n\t\treturn true;\r\n\t},\r\n\t//helper, prevents unwanted mouse-out events\r\n\t_skip_mark:function(){\r\n\t\twebix.DragControl._skip=true;\r\n\t},\r\n\t//after dnd end, remove all traces and used html elements\r\n\tdestroyDrag:function(e){\r\n\t\tvar a=webix.DragControl._active;\r\n\t\tvar master = this._drag_masters[a.webix_drag];\r\n\r\n\t\tif (master && master.$dragDestroy){\r\n\t\t\twebix.DragControl._skipDropH = webix.eventRemove(webix.DragControl._skipDropH);\r\n\t\t\tif(webix.DragControl._html)\r\n\t\t\t\tmaster.$dragDestroy(a,webix.DragControl._html,e);\r\n\t\t}\r\n\t\telse{\r\n\t\t\twebix.html.remove(webix.DragControl._html);\r\n\t\t}\r\n\t\twebix.DragControl._landing=webix.DragControl._active=webix.DragControl._last=webix.DragControl._html=null;\r\n\t\t//webix.DragControl._x_offset = webix.DragControl._y_offset = null;\r\n\t},\r\n\t_getActiveDragMaster: function(){\r\n\t\treturn webix.DragControl._drag_masters[webix.DragControl._active.webix_drag];\r\n\t},\r\n\ttop:5,\t //relative position of drag marker to mouse cursor\r\n\tleft:5,\r\n\t_setDragOffset:function(e){\r\n\t\tvar dragCtl = webix.DragControl;\r\n\t\tvar pos = dragCtl._start_pos;\r\n\t\tvar ctx = dragCtl._drag_context;\r\n\r\n\t\tif(typeof ctx.x_offset != \"undefined\" && typeof ctx.y_offset != \"undefined\")\r\n\t\t\treturn null;\r\n\r\n\t\tctx.x_offset = ctx.y_offset = 0;\r\n\t\tif(webix.env.pointerevents){\r\n\t\t\tvar m=webix.DragControl._getActiveDragMaster();\r\n\r\n\t\t\tif (m._getDragItemPos && m!==this){\r\n\t\t\t\tvar itemPos = m._getDragItemPos(pos,e);\r\n\r\n\t\t\t\tif(itemPos){\r\n\t\t\t\t\tctx.x_offset = itemPos.x - pos.x;\r\n\t\t\t\t\tctx.y_offset = itemPos.y - pos.y;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t},\r\n\t$dragPos:function(pos, e){\r\n\t\tvar m=this._drag_masters[webix.DragControl._active.webix_drag];\r\n\t\tif (m.$dragPos && m!=this){\r\n\t\t\tm.$dragPos(pos, e, webix.DragControl._html);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t},\r\n\t//called when mouse was moved in drop area\r\n\t$dragIn:function(s,t,e){\r\n\t\tvar m=this._drag_masters[t.webix_drop];\r\n\t\tif (m.$dragIn && m!=this) return m.$dragIn(s,t,e);\r\n\t\tt.className=t.className+\" webix_drop_zone\";\r\n\t\treturn t;\r\n\t},\r\n\t//called when mouse was moved out drop area\r\n\t$dragOut:function(s,t,n,e){\r\n\t\tvar m=this._drag_masters[t.webix_drop];\r\n\t\tif (m.$dragOut && m!=this) return m.$dragOut(s,t,n,e);\r\n\t\tt.className=t.className.replace(\"webix_drop_zone\",\"\");\r\n\t\treturn null;\r\n\t},\r\n\t//called when mouse was released over drop area\r\n\t$drop:function(s,t,e){\r\n\t\tvar m=this._drag_masters[t.webix_drop];\r\n\t\twebix.DragControl._drag_context.from = webix.DragControl.getMaster(s);\r\n\t\tif (m.$drop && m!=this) return m.$drop(s,t,e);\r\n\t\tt.appendChild(s);\r\n\t},\r\n\t//called when dnd just started\r\n\t$drag:function(s,e){\r\n\t\tvar m=this._drag_masters[s.webix_drag];\r\n\t\tif (m.$drag && m!=this) return m.$drag(s,e);\r\n\t\treturn \"<div style='\"+s.style.cssText+\"'>\"+s.innerHTML+\"</div>\";\r\n\t}\t\r\n};\r\n\r\n//global touch-drag handler\r\nwebix.attachEvent(\"onLongTouch\", function(ev){\r\n\tif(webix.DragControl._active)\r\n\t\twebix.DragControl._createTouchDrag(ev);\r\n});\r\n\r\n/*\r\n\tBehavior:DataMove - allows to move and copy elements, heavily relays on DataStore.move\r\n\t@export\r\n\t\tcopy\r\n\t\tmove\r\n*/\r\nwebix.DataMove={\r\n\t//creates a copy of the item\r\n\tcopy:function(sid,tindex,tobj, details){\r\n\t\tdetails = details || {};\r\n\t\tvar new_id = details.newId || sid;\r\n\t\ttobj = tobj||this;\r\n\r\n\t\tvar data = this.getItem(sid);\r\n\t\twebix.assert(data,\"Incorrect ID in DataMove::copy\");\r\n\t\t\r\n\t\t//make data conversion between objects\r\n\t\tif (tobj)\r\n\t\t\tdata = tobj._externalData(data);\r\n\t\t\r\n\t\t//adds new element same as original\r\n\t\treturn tobj.data.add(tobj._externalData(data,new_id),tindex,(details.parent || 0));\r\n\t},\r\n\t_next_move_index:function(nid, next, source){\r\n\t\tif (next && nid){\r\n\t\t\tvar new_index = this.getIndexById(nid);\r\n\t\t\treturn new_index+(source == this && source.getIndexById(next)<new_index?0:1);\r\n\t\t}\r\n\t},\r\n\t//move item to the new position\r\n\tmove:function(sid,tindex,tobj, details){\r\n\t\tdetails = details || {};\r\n\t\tvar new_id = details.newId || sid;\r\n\r\n\t\ttobj = tobj||this;\r\n\t\twebix.assert(tobj.data, \"moving attempt to component without datastore\");\r\n\t\tif (!tobj.data) return;\r\n\r\n\t\t//can process an arrya - it allows to use it from onDrag \r\n\t\tif (webix.isArray(sid)){\r\n\t\t\t//block separate repaint operations\r\n\t\t\tif (sid.length > 3) //heuristic value, duplicated below\r\n\t\t\t\tthis.$blockRender = tobj.$blockRender = true;\r\n\r\n\t\t\tfor (var i=0; i < sid.length; i++) {\r\n\t\t\t\t//increase index for each next item in the set, so order of insertion will be equal to order in the array\r\n\t\t\t\tvar nid = this.move(sid[i], tindex, tobj, details);\r\n\t\t\t\ttindex = tobj._next_move_index(nid, sid[i+1], this);\r\n\t\t\t}\r\n\r\n\t\t\tthis.$blockRender = tobj.$blockRender = false;\r\n\t\t\tif (sid.length > 3){\r\n\t\t\t\t//repaint whole component\r\n\t\t\t\tthis.refresh();\r\n\t\t\t\tif (tobj != this)\r\n\t\t\t\t\ttobj.refresh();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tvar nid = sid; //id after moving\r\n\r\n\t\tvar data = this.getItem(sid);\r\n\t\twebix.assert(data,\"Incorrect ID in DataMove::move\");\r\n\t\t\r\n\t\tif (!tobj || tobj == this){\r\n\t\t\tif (tindex < 0) tindex = this.data.order.length - 1;\r\n\t\t\tthis.data.move(this.getIndexById(sid),tindex);\t//move inside the same object\r\n\t\t\tthis.data.callEvent(\"onDataMove\", [sid, tindex, null, this.data.order[tindex+1]]);\r\n\t\t} else {\r\n\t\t\t//copy to the new object\r\n\t\t\tnid = tobj.data.add(tobj._externalData(data,new_id),tindex, (details.parent || 0));\r\n\t\t\tthis.data.remove(sid);//delete in old object\r\n\t\t}\r\n\t\treturn nid;\t//return ID of item after moving\r\n\t},\r\n\t//move item on one position up\r\n\tmoveUp:function(id,step){\r\n\t\treturn this.move(id,this.getIndexById(id)-(step||1));\r\n\t},\r\n\t//move item on one position down\r\n\tmoveDown:function(id,step){\r\n\t\treturn this.moveUp(id, (step||1)*-1);\r\n\t},\r\n\t//move item to the first position\r\n\tmoveTop:function(id){\r\n\t\treturn this.move(id,0);\r\n\t},\r\n\t//move item to the last position\r\n\tmoveBottom:function(id){\r\n\t\treturn this.move(id,this.data.count()-1);\r\n\t},\r\n\t/*\r\n\t\tthis is a stub for future functionality\r\n\t\tcurrently it just makes a copy of data object, which is enough for current situation\r\n\t*/\r\n\t_externalData:function(data,id){\r\n\t\tvar newdata = webix.extend({},data);\r\n\t\tnewdata.id = (!id || this.data.pull[id])?webix.uid():id;\r\n\t\t\r\n\r\n\t\tnewdata.$template=null;\r\n\r\n\t\tif (this._settings.externalData)\r\n\t\t\tnewdata = this._settings.externalData.call(this, newdata, id, data);\r\n\t\treturn newdata;\r\n\t}\r\n};\r\n\r\n\r\nwebix.Movable = {\r\n\tmove_setter: function (value) { \r\n\t\tif (value){\r\n\t\t\tthis._move_admin = webix.clone(this._move_admin);\r\n\t\t\tthis._move_admin.master = this;\r\n\r\n\t\t\twebix.DragControl.addDrag(this._headobj, this._move_admin);\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\t_move_admin: {\r\n\t\t$dragCreate:function(object, e){\r\n\t\t\tif(this.master.config.move){\r\n\t\t\t\tvar offset = webix.html.offset(object);\r\n\t\t\t\tvar pos = webix.html.pos(e);\r\n\t\t\t\twebix.DragControl.top = offset.y - pos.y;\r\n\t\t\t\twebix.DragControl.left = offset.x - pos.x;\r\n\r\n\t\t\t\treturn webix.toNode(this.master._viewobj);\r\n\t\t\t}\r\n\t\t},\r\n\t\t$dragDestroy:function(node, drag){\r\n\t\t\tvar view = this.master;\r\n\t\t\tif (view._settings){\r\n\t\t\t\tview._settings.top = parseInt(drag.style.top,10);\r\n\t\t\t\tview._settings.left = parseInt(drag.style.left,10);\r\n\t\t\t}\r\n\r\n\t\t\twebix.DragControl.top = webix.DragControl.left = 5;\r\n\t\t\tthis.master.callEvent(\"onViewMoveEnd\", []);\r\n\t\t\treturn;\r\n\t\t},\r\n\t\t$dragPos:function(pos, e){\r\n\t\t\tthis.master.callEvent(\"onViewMove\", [pos, e]);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\n\r\nwebix.Modality = {\r\n    _modal_set:function(value){\r\n\t    if (value){\r\n\t    \tif (!this._modal_cover){\r\n\t\t        this._modal_cover = webix.html.create('div',{\r\n\t\t        \t\"class\":\"webix_modal\"\r\n\t\t    \t});\r\n\t\t    \t/*\twith below code we will have the same zIndex for modal layer as for the previous \r\n\t\t\t\t\tabs positioned element, but because of attaching order modal layer will be on top anyway\r\n\t\t    \t*/\r\n\t\t    \tvar zIndex = this._settings.zIndex||webix.ui.zIndex();\r\n\r\n\t\t    \t//set topmost modal layer\r\n\t\t    \tthis._previous_modality = webix._modality;\r\n\t\t    \twebix._modality = zIndex;\r\n\r\n\r\n\t\t    \tthis._modal_cover.style.zIndex = zIndex-1;\r\n\t\t    \tthis._viewobj.style.zIndex = zIndex;\r\n\t\t        document.body.appendChild(this._modal_cover);\r\n\t\t\t\twebix.event( this._modal_cover, \"click\", webix.bind(this._ignore_clicks, this));\r\n\t        }\r\n\t    }\r\n\t    else {\r\n\t        if (this._modal_cover){\r\n\t            webix.html.remove(this._modal_cover);\r\n\r\n\t            //restore topmost modal layer\r\n\t        \t//set delay, as current window closing may have not finished click event\r\n\t        \t//need to wait while it is not fully processed\r\n\t        \tvar topmost = this._previous_modality;\r\n\t        \tsetTimeout(function(){ webix._modality = topmost; }, 1);\r\n\r\n\t        \tthis._modal_cover = null;\r\n\t        }\r\n\t    }\r\n\t    return value;\r\n    }\r\n};\r\n\r\n\t\r\nwebix.protoUI({\r\n\tname:\"window\",\r\n\r\n\t$init:function(config){\r\n\t\tthis._viewobj.innerHTML = \"<div class='webix_win_content'><div class='webix_win_head'></div><div class='webix_win_body'></div></div>\";\r\n\t\t\r\n\t\tthis._contentobj = this._viewobj.firstChild;\r\n\t\tthis._headobj = this._contentobj.childNodes[0];\r\n\t\tthis._dataobj = this._bodyobj = this._contentobj.childNodes[1];\r\n\t\tthis._viewobj.className +=\" webix_window\";\r\n\r\n\t\tthis._viewobj.setAttribute(\"role\", \"dialog\");\r\n\t\tthis._viewobj.setAttribute(\"tabindex\", \"0\");\r\n\t\t\r\n\t\tthis._head_cell = this._body_cell = null;\r\n\t\tthis._settings._inner = {top:false, left:false, right:false, bottom:false }; //set border flags\r\n\t\tif (!config.id) config.id = webix.uid();\r\n\r\n\t\twebix.event(this._contentobj, \"click\", webix.bind(this._ignore_clicks, this));\r\n\r\n\t\t// IE8 does not allow to define event capturing\r\n\t\tif(this._contentobj.addEventListener)\r\n\t\t\twebix.event(this._contentobj, \"click\", function(){\r\n\t\t\t\t// brings a window to the front of other windows\r\n\t\t\t\tif(!this._settings.zIndex && this._settings.toFront){\r\n\t\t\t\t\tthis._viewobj.style.zIndex = webix.ui.zIndex();\r\n\t\t\t\t}\r\n\t\t\t}, {bind:this, capture: true});\r\n\r\n\t\t// hidden_setter handling\r\n\t\tif(config.modal)\r\n\t\t\tthis._modal = true;\r\n\t},\r\n\t_ignore_clicks:function(e){\r\n\t\tvar popups = webix.ui._popups;\r\n\t\tvar index = popups.find(this);\r\n\t\tif (index == -1)\r\n\t\t\tindex = popups.length - 1;\r\n\r\n\t\te.click_view = index;\r\n\t\tif (webix.env.isIE8)\r\n\t\t\te.srcElement.click_view = index;\r\n\t},\r\n\tgetChildViews:function(){\r\n\t\tif (this._head_cell)\r\n\t\t\treturn [this._head_cell, this._body_cell];\r\n\t\telse\r\n\t\t\treturn [this._body_cell];\r\n\t},\r\n\tzIndex_setter:function(value){\r\n        this._viewobj.style.zIndex = value;\r\n        return value;\r\n    },\r\n\t_remove:function(){ \r\n\t\tthis._body_cell = { destructor:function(){} };\t\r\n\t},\r\n\t_replace:function(new_view){\r\n\t\tthis._body_cell.destructor();\r\n\t\tthis._body_cell = new_view;\r\n\t\tthis._body_cell._parent_cell = this;\r\n\t\t\r\n\t\tthis._bodyobj.appendChild(this._body_cell._viewobj);\r\n\r\n\t\tvar cell = this._body_cell._viewobj.style;\r\n\t\tcell.borderTopWidth = cell.borderBottomWidth = cell.borderLeftWidth = cell.borderRightWidth = \"1px\";\r\n\t\tthis._body_cell._settings._inner = webix.clone(this._settings._inner);\r\n\r\n\t\tthis.resize(true);\r\n\t},\r\n\tshow:function(node, mode, point){\r\n\t\tif(!this.callEvent(\"onBeforeShow\",arguments))\r\n\t\t\treturn false;\r\n\r\n\t\tthis._settings.hidden = false;\r\n\t\tthis._viewobj.style.zIndex = (this._settings.zIndex||webix.ui.zIndex());\r\n\t\tif (this._settings.modal || this._modal){\r\n\t\t\tthis._modal_set(true);\r\n\t\t\tthis._modal = null; // hidden_setter handling\r\n\t\t}\r\n\r\n\t\tvar pos, dx, dy;\r\n\t\tmode = mode || {};\r\n\t\tif (!mode.pos)\r\n\t\t\tmode.pos = this._settings.relative;\r\n\r\n\t\t//get position of source html node\r\n\t\t//we need to show popup which pointing to that node\r\n\t\tif (node){\r\n\t\t\t//if event was provided - get node info from it\r\n\t\t\tif (typeof node == \"object\" && !node.tagName){\r\n\t\t\t\t/*below logic is far from ideal*/\r\n\t\t\t\tif (node.target || node.srcElement){\r\n\t\t\t\t\tpos = webix.html.pos(node);\r\n\t\t\t\t\tdx = 20;\r\n\t\t\t\t\tdy = 5;\r\n\t\t\t\t} else\r\n\t\t\t\t\tpos = node;\r\n\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tnode = webix.toNode(node);\r\n\t\t\t\twebix.assert(node,\"Not existing target for window:show\");\r\n\t\t\t\tpos = webix.html.offset(node);\r\n\t\t\t}\t\r\n\r\n\t\t\t//size of body, we need to fit popup inside\r\n\t\t\tvar x = Math.max(window.innerWidth || 0, document.body.offsetWidth);\r\n\t\t\tvar y = Math.max(window.innerHeight || 0, document.body.offsetHeight);\r\n\r\n\t\t\t//size of node, near which popup will be rendered\r\n\t\t\tdx = dx || node.offsetWidth  || 0;\r\n\t\t\tdy = dy || node.offsetHeight || 0;\r\n\t\t\t//size of popup element\r\n\t\t\tvar size = this._last_size;\r\n\r\n \t\t\tvar fin_x = pos.x;\r\n\t\t\tvar fin_y = pos.y;\r\n\t\t\tvar point_y=0;\r\n\t\t\tvar point_x = 0;\r\n\r\n\t\t\tvar fit = this._settings.autofit;\r\n\t\t\tif (fit){\r\n\t\t\t\tvar nochange = (fit === \"node\");\r\n\t\t\t\tvar delta_x = 6; var delta_y=6; var delta_point = 6;\r\n\r\n\t\t\t\t//default pointer position - top \r\n\t\t\t\tpoint = \"top\";\r\n\t\t\t\tfin_y=0; fin_x = 0;\r\n\t\t\t\t//if we want to place menu at righ, but there is no place move it to left instead\r\n\t\t\t\tif (x - pos.x - dx < size[0] && mode.pos == \"right\" && !nochange)\r\n\t\t\t\t\tmode.pos = \"left\";\r\n\r\n\t\t\t\tif (mode.pos == \"right\"){\r\n\t\t\t\t\tfin_x = pos.x+delta_x+dx; \r\n\t\t\t\t\tdelta_y = -dy;\r\n\t\t\t\t\tpoint = \"left\";\r\n\t\t\t\t\tpoint_y = Math.round(pos.y+dy/2);\r\n\t\t\t\t\tpoint_x = fin_x - delta_point;\r\n\t\t\t\t} else if (mode.pos == \"left\"){\r\n\t\t\t\t\tfin_x = pos.x-delta_x-size[0]-1;\r\n\t\t\t\t\tdelta_y = -dy;\r\n\t\t\t\t\tpoint = \"right\";\r\n\t\t\t\t\tpoint_y = Math.round(pos.y+dy/2);\r\n\t\t\t\t\tpoint_x = fin_x + size[0]+1;\r\n\t\t\t\t} else  {\r\n\t\t\t\t\t//left border of screen\r\n\t\t\t\t\tif (pos.x < 0){\r\n\t\t\t\t\t\tfin_x = 0;\r\n\t\t\t\t\t//popup exceed the right border of screen\r\n\t\t\t\t\t} else if (x-pos.x > size[0]){\r\n\t\t\t\t\t\tfin_x = pos.x; //aligned\r\n\t\t\t\t\t} else{\r\n\t\t\t\t\t\tfin_x = x-delta_x-size[0]; //not aligned\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpoint_x = Math.round(pos.x+dx/2);\r\n\t\t\t\t\t//when we have a small popup, point need to be rendered at center of popup\r\n\t\t\t\t\tif (point_x > fin_x + size[0])\r\n\t\t\t\t\t\tpoint_x = fin_x + size[0]/2;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//if height is not fixed - use default position\r\n\t\t\t\tvar scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;\r\n\t\t\t\tif (((!size[1] || (y+scrollTop-dy-pos.y-delta_y > size[1])) || nochange) && mode.pos != \"top\"){\r\n\t\t\t\t\t//bottom\t\r\n\t\t\t\t\tfin_y = dy+pos.y+delta_y - 4;\r\n\t\t\t\t\tif (!point_y){\r\n\t\t\t\t\t\tpoint = \"top\";\r\n\t\t\t\t\t\tpoint_y = fin_y-delta_point;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//top\r\n\t\t\t\t\tfin_y = pos.y-delta_y - size[1];\r\n\t\t\t\t\tif (fin_y < 0){\r\n\t\t\t\t\t\tfin_y = 0; \r\n\t\t\t\t\t\t//left|right point can be used, but there is no place for top point\r\n\t\t\t\t\t\tif (point == \"top\") point = false;\r\n\t\t\t\t\t} else if (!point_y){\r\n\t\t\t\t\t\tpoint = \"bottom\";\r\n\t\t\t\t\t\tfin_y --;\r\n\t\t\t\t\t\tpoint_y = fin_y+size[1]+1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar deltax = (mode.x || 0);\r\n\t\t\tvar deltay = (mode.y || 0);\r\n\t\t\tthis.setPosition(fin_x+deltax, fin_y+deltay);\r\n\t\t\tif (this._set_point){\r\n\t\t\t\tif (point)\r\n\t\t\t\t\tthis._set_point(point,point_x+deltax, point_y+deltay);\r\n\t\t\t\telse\r\n\t\t\t\t\tthis._hide_point();\r\n\t\t\t}\r\n\t\t} else if (this._settings.position)\r\n\t\t\tthis._setPosition();\r\n\r\n\t\tthis._viewobj.style.display = \"block\";\r\n\t\tthis._hide_timer = 1;\r\n\t\twebix.delay(function(){ this._hide_timer = 0; }, this, [], (webix.env.touch ? 400 : 100 ));\r\n\t\t\r\n\t\tthis._render_hidden_views();\r\n\t\t\r\n\t\t\r\n\t\tif (this.config.autofocus){\r\n\t\t\tthis._prev_focus = webix.UIManager.getFocus();\r\n\t\t\twebix.UIManager.setFocus(this);\r\n\t\t}\r\n\r\n\t\tif (-1 == webix.ui._popups.find(this))\r\n\t\t\twebix.ui._popups.push(this);\r\n\r\n\t\tthis.callEvent(\"onShow\",[]);\r\n\t}, \r\n\t_hide:function(e){\r\n\t\t//do not hide modal windows\r\n\t\tif (this._settings.hidden || this._settings.modal || this._hide_timer || (e && e.showpopup)) return;\r\n\t\t//do not hide popup, when we have modal layer above the popup\r\n\t\tif (webix._modality && this._settings.zIndex <= webix._modality) return;\r\n\r\n\t\t//ignore inside clicks and clicks in child-popups\r\n\r\n\t\tif (e){\r\n\t\t\tvar index = webix.env.isIE8 ? e.srcElement.click_view : e.click_view;\r\n\t\t\tif (!index && index !== 0) index = -1;\r\n\r\n\t\t\tvar myindex = webix.ui._popups.find(this);\r\n\r\n\t\t\tif (myindex <= index) return;\r\n\t\t}\r\n\r\n\t\tthis.hide();\r\n\t},\r\n\thidden_setter:function(value){\r\n\t\tif(value) \r\n\t\t\tthis.hide();\r\n\t\telse\r\n\t\t\tthis.show();\r\n\t\treturn !!value;\r\n\t},\r\n\thide:function(force){\r\n\t\tif (this.$destructed) return;\r\n\r\n\t\tif (!force)\r\n\t\t\tif(this._settings.hidden) return;\r\n\r\n\t\tif (this._settings.modal)\r\n\t\t\tthis._modal_set(false);\r\n\t\t\t\r\n\t\tif (this._settings.position == \"top\"){\r\n\t\t\twebix.animate(this._viewobj, {type: 'slide', x:0, y:-(this._content_height+20), duration: 300,\r\n\t\t\t\t\t\t\t\t\t\t\tcallback:this._hide_callback, master:this});\r\n\t\t}\r\n\t\telse \r\n\t\t\tthis._hide_callback();\r\n\r\n\t\tif (this._settings.autofocus){\r\n\t\t\tvar el = document.activeElement;\r\n\t\t\t//as result of hotkey, we can have a activeElement set to document.body\r\n\t\t\tif (el && this._viewobj && (this._viewobj.contains(el) || el === document.body)){\r\n\t\t\t\twebix.UIManager.setFocus(this._prev_focus);\r\n\t\t\t\tthis._prev_focus = null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._hide_sub_popups();\r\n\t},\r\n\t//hide all child-popups\r\n\t_hide_sub_popups:function(){\r\n\t\tvar order = webix.ui._popups;\r\n\t\tvar index = order.find(this);\r\n\t\tvar size = order.length - 1;\r\n\r\n\t\tif (index > -1)\r\n\t\t\tfor (var i = size; i > index; i--)\r\n\t\t\t\tif (order[i]._hide_point)\t//hide only popups, skip windows\r\n\t\t\t\t\torder[i].hide();\r\n\t\t\r\n\t\torder.removeAt(index);\r\n\t},\r\n\tdestructor: function() {\r\n\t\tthis._modal_set(false);\r\n\t\twebix.html.remove(this._viewobj);\r\n\t\t\r\n\t\tif (this._settings.autofocus){\r\n\t\t\tif (!webix._final_destruction)\r\n\t\t\t\twebix.UIManager.setFocus(this._prev_focus);\r\n\t\t\tthis._prev_focus = null;\r\n\t\t}\r\n\t\t\r\n\t\tthis._hide_sub_popups();\r\n\t\tif (this._hide_point)\r\n\t\t\tthis._hide_point();\r\n\t\twebix.Destruction.destructor.apply(this, []);\r\n\t},\r\n\t_hide_callback:function(){\r\n\t\tif (!this.$destructed){\r\n\t\t\tthis._viewobj.style.display = \"none\";\r\n\t\t\tthis._settings.hidden = true;\r\n\t\t\tthis.callEvent(\"onHide\",[]);\r\n\t\t}\r\n\t},\r\n\tclose:function(){\r\n\t\tthis.destructor(); \r\n\t},\r\n\t_inner_body_set:function(value){\r\n\t\tvalue.borderless = true;\r\n\t},\r\n\tbody_setter:function(value){\r\n\t\tif (typeof value != \"object\")\r\n\t\t\tvalue = {template:value };\r\n\t\tthis._inner_body_set(value);\r\n\r\n\t\twebix._parent_cell = this;\r\n\t\tthis._body_cell = webix.ui._view(value);\r\n\t\tthis._body_cell._parent_cell = this;\r\n\r\n\t\tthis._bodyobj.appendChild(this._body_cell._viewobj);\r\n\t\treturn value;\r\n\t},\r\n\thead_setter:function(value){\r\n\t\tif (value === false) return value;\r\n\t\tif (typeof value != \"object\"){\r\n\t\t\tthis._viewobj.setAttribute(\"aria-label\", value);\r\n\t\t\tvalue = { template:value, padding:0 };\r\n\t\t}\r\n\t\t\r\n\t\tvalue.borderless = true;\r\n\r\n\t\twebix._parent_cell = this;\r\n\t\tthis._head_cell = webix.ui._view(value);\r\n\t\tthis._head_cell._parent_cell = this;\r\n\r\n\t\tthis._headobj.appendChild(this._head_cell._viewobj);\r\n\t\treturn value;\r\n\t},\r\n\tgetBody:function(){\r\n\t\treturn this._body_cell;\r\n\t},\r\n\tgetHead:function(){\r\n\t\treturn this._head_cell;\r\n\t},\r\n\tadjust:function(){ return this.resize(); },\r\n\tresizeChildren:function(){\r\n\t\tif (this._body_cell)\r\n\t\t\tthis.resize();\r\n\t},\r\n\tresize:function(){\r\n\t\twebix.ui.baseview.prototype.adjust.call(this);\r\n\t\tthis._setPosition(this._settings.left, this._settings.top);\r\n\t},\r\n\t_setPosition:function(x,y){\r\n\t\tif (this._settings.position){\r\n\t\t\tthis.$view.style.position = \"fixed\";\r\n\r\n\t\t\tvar width = this._content_width;\r\n\t\t\tvar height = this._content_height;\r\n\t\t\twebix.assert(width && height, \"Attempt to show not rendered window\");\r\n\r\n\t\t\tvar maxWidth = (window.innerWidth||document.documentElement.offsetWidth);\r\n\t\t\tvar maxHeight = (window.innerHeight||document.documentElement.offsetHeight);\r\n\t\t\tvar left = Math.round((maxWidth-width)/2);\r\n\t\t\tvar top = Math.round((maxHeight-height)/2);\r\n\r\n\t\t\tif (typeof this._settings.position == \"function\"){\r\n\t\t\t\tvar state = { \tleft:left, top:top, \r\n\t\t\t\t\t\t\t\twidth:width, height:height, \r\n\t\t\t\t\t\t\t\tmaxWidth:maxWidth, maxHeight:maxHeight };\r\n\t\t\t\tthis._settings.position.call(this, state);\r\n\t\t\t\tif (state.width != width || state.height != height)\r\n\t\t\t\t\tthis.$setSize(state.width, state.height);\r\n\r\n\t\t\t\tthis.setPosition(state.left, state.top);\r\n\t\t\t} else {\r\n\t\t\t\tif (this._settings.position == \"top\"){\r\n\t\t\t\t\tif (webix.animate.isSupported())\r\n\t\t\t\t\t\ttop = -1*height;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\ttop = 10;\r\n\t\t\t\t}\r\n\t\t\t\tthis.setPosition(left, top);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (this._settings.position == \"top\")\r\n\t\t\t\twebix.animate(this._viewobj, {type: 'slide', x:0, y:height-((this._settings.padding||0)*2), duration: 300 ,callback:this._topPositionCallback, master:this});\r\n\t\t} else \r\n\t\t\tthis.setPosition(x,y);\r\n\t},\r\n\t_topPositionCallback:function(node){\r\n\t\twebix.animate.clear(node);\r\n\t\tthis._settings.top=-((this._settings.padding||0)*2);\r\n\t\tthis.setPosition(this._settings.left, this._settings.top);\r\n\t},\r\n\tsetPosition:function(x,y){\r\n\t\tthis._viewobj.style.top = y+\"px\";\r\n\t\tthis._viewobj.style.left = x+\"px\";\r\n\t\tthis._settings.left = x; this._settings.top=y;\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tvar _borders = this._settings._inner;\r\n\t\tif (_borders){\r\n\t\t\tdx += (_borders.left?0:1)+(_borders.right?0:1);\r\n\t\t\tdy += (_borders.top?0:1)+(_borders.bottom?0:1);\r\n\t\t}\r\n\t\t//line between head and body\r\n\t\tif (this._settings.head)\r\n\t\t\tdy += 1;\r\n\r\n\t\tvar size =  this._body_cell.$getSize(0,0);\r\n\t\tif (this._head_cell){\r\n\t\t\tvar head_size = this._head_cell.$getSize(0,0);\r\n\t\t\tif (head_size[3]==head_size[2])\r\n\t\t\t\tthis._settings.headHeight = head_size[3];\r\n\t\t\tdy += this._settings.headHeight;\r\n\t\t}\r\n\r\n\t\tif (this._settings.fullscreen){\r\n\t\t\tvar width = window.innerWidth || document.body.clientWidth;\r\n\t\t\tvar height = window.innerHeight || document.body.clientHeight;\r\n\t\t\treturn [width, width, height, height];\r\n\t\t}\r\n\r\n\t\t//get layout sizes\r\n\t\tvar self_size = webix.ui.view.prototype.$getSize.call(this, 0, 0);\r\n\r\n\t\t//use child settings if layout's one was not defined\r\n\t\tself_size[1] = Math.min(self_size[1],(size[1]>=100000&&self_size[1]>=100000?Math.max(size[0], 300):size[1])+dx);\r\n\t\tself_size[3] = Math.min(self_size[3],(size[3]>=100000&&self_size[3]>=100000?Math.max(size[2], 200):size[3])+dy);\r\n\r\n\t\tself_size[0] = Math.min(Math.max(self_size[0],size[0] + dx), self_size[1]);\r\n\t\tself_size[2] = Math.min(Math.max(self_size[2],size[2] + dy), self_size[3]);\r\n\r\n\t\treturn self_size;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\twebix.ui.view.prototype.$setSize.call(this,x,y);\r\n\t\tx = this._content_width;\r\n\t\ty = this._content_height;\r\n\t\tif (this._settings.head === false) {\r\n\t\t\tthis._headobj.style.display=\"none\";\r\n\t\t\tthis._body_cell.$setSize(x,y);\r\n\t\t} else { \r\n\t\t\tthis._head_cell.$setSize(x,this._settings.headHeight);\r\n\t\t\tthis._body_cell.$setSize(x,y-this._settings.headHeight);\r\n\t\t}\r\n\t},\r\n\t$skin:function(){\r\n\t\tthis.defaults.headHeight = webix.skin.$active.barHeight;\r\n\t},\r\n\tdefaults:{\r\n\t\ttop:0,\r\n\t\tleft:0,\r\n\t\tautofit:true,\r\n\t\trelative:\"bottom\",\r\n\t\tbody:\"\",\r\n\t\thead:\"\",\r\n\t\thidden: true,\r\n\t\tautofocus:true\r\n\t}\r\n}, webix.ui.view, webix.Movable, webix.Modality, webix.EventSystem);\r\n\r\nwebix.protoUI({\r\n\tname:\"popup\",\r\n\t$init:function(){\r\n\t\tthis._settings.head = false;\r\n\t\tthis.$view.className += \" webix_popup\";\r\n\t\twebix.attachEvent(\"onClick\", webix.bind(this._hide, this));\r\n\t\tthis.attachEvent(\"onHide\", this._hide_point);\r\n\t},\r\n    close:function(){\r\n        webix.html.remove(this._point_element);\r\n        webix.ui.window.prototype.close.call(this);\r\n\t},\r\n\t$getSize:function(x,y){\r\n\t\treturn webix.ui.window.prototype.$getSize.call(this, x+this._settings.padding*2,y+this._settings.padding*2);\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\t\twebix.ui.view.prototype.$setSize.call(this,x,y);\r\n\t\t\tx = this._content_width-this._settings.padding*2;\r\n\t\t\ty = this._content_height-this._settings.padding*2;\r\n\t\t\tthis._contentobj.style.padding = this._settings.padding+\"px\";\r\n\t\t\tthis._headobj.style.display=\"none\";\r\n\t\t\tthis._body_cell.$setSize(x,y);\r\n\t},\r\n\t//redefine to preserve inner borders\r\n\t_inner_body_set:function(){},\r\n\tdefaults:{\r\n\t\tpadding:8\r\n\t},\r\n\thead_setter:function(){\r\n\t},\r\n\t_set_point:function(mode, left, top){\r\n\t\tthis._hide_point();\r\n\t\tdocument.body.appendChild(this._point_element = webix.html.create(\"DIV\",{ \"class\":\"webix_point_\"+mode },\"\"));\r\n\t\tthis._point_element.style.zIndex = webix.ui.zIndex();\r\n\t\tthis._point_element.style.top = top+\"px\";\r\n\t\tthis._point_element.style.left = left+\"px\";\r\n\t},\r\n\t_hide_point:function(){\r\n\t\tthis._point_element = webix.html.remove(this._point_element);\r\n\t}\r\n}, webix.ui.window);\r\n\r\nwebix.ui._popups = webix.toArray();\r\n\r\nwebix.extend(webix.ui.window, {\r\n\tresize_setter:function(value){\r\n\t\tif (value && !this._resizeHandlers)\r\n\t\t\tthis._renderResizeHandler();\r\n\r\n\t\treturn value;\r\n\t},\r\n\t_renderResizeHandler: function(){\r\n\t\tif(!this._rwHandle){\r\n\t\t\tthis._viewobj.firstChild.style.position = \"relative\";\r\n\t\t\tthis._rwHandle = webix.html.create(\"DIV\",{\r\n\t\t\t\t\"class\"\t: \"webix_resize_handle\"\r\n\t\t\t});\r\n\t\t\tthis._viewobj.firstChild.appendChild(this._rwHandle);\r\n\t\t\twebix.event(this._rwHandle, webix.env.mouse.down, this._wrDown, {bind:this});\r\n\t\t}\r\n\t},\r\n\t_showResizeFrame: function(width,height){\r\n\t\tif(!this._resizeFrame){\r\n\t\t\tthis._resizeFrame = webix.html.create(\"div\", {\"class\":\"webix_resize_frame\"},\"\");\r\n\t\t\tdocument.body.appendChild(this._resizeFrame);\r\n\t\t\tvar pos = webix.html.offset(this._viewobj);\r\n\t\t\tthis._resizeFrame.style.left = pos.x+\"px\";\r\n\t\t\tthis._resizeFrame.style.top = pos.y+\"px\";\r\n\t\t\tthis._resizeFrame.style.zIndex = webix.ui.zIndex();\r\n\t\t}\r\n\r\n\t\tthis._resizeFrame.style.width = width + \"px\";\r\n\t\tthis._resizeFrame.style.height = height + \"px\";\r\n\t},\r\n\t_wrDown:function(e){\r\n\t\tif (this.config.resize){\r\n\t\t\twebix.html.addCss(document.body,\"webix_noselect webix_resize_cursor\");\r\n\t\t\tthis._wsReady = webix.html.offset(this._viewobj);\r\n\r\n\t\t\tthis._resizeHandlersMove = webix.event(document.body, webix.env.mouse.move, this._wrMove, {bind:this});\r\n\t\t\tthis._resizeHandlersUp   = webix.event(document.body, webix.env.mouse.up, this._wrUp, {bind:this});\r\n\t\t}\r\n\t},\r\n\t_wrMove:function(e){\r\n\t\tif (this._wsReady !== false){\r\n\t\t\tvar pos = webix.html.pos(e);\r\n\t\t\tvar progress = {x:pos.x - this._wsReady.x+10, y: pos.y - this._wsReady.y+10};\r\n\r\n\t\t\tif (Math.abs(this._wsReady.x - pos.x) < (this.config.minWidth||100) || Math.abs(this._wsReady.y - pos.y) < (this.config.maxHeight||100))\r\n\t\t\t\treturn;\r\n\r\n\t\t\tthis._wsProgress = progress;\r\n\t\t\tthis._showResizeFrame(progress.x,progress.y);\r\n\t\t}\r\n\t},\r\n\t_wrUp:function(){\r\n\t\t// remove resize frame and css styles\r\n\t\tif (this._resizeFrame)\r\n\t\t\tthis._resizeFrame = webix.html.remove(this._resizeFrame);\r\n\t\t\r\n\t\twebix.html.removeCss(document.body,\"webix_resize_cursor\");\r\n\t\twebix.html.removeCss(document.body,\"webix_noselect\");\r\n\t\twebix.eventRemove(this._resizeHandlersMove);\r\n\t\twebix.eventRemove(this._resizeHandlersUp);\r\n\r\n\t\t// set Window sizes\r\n\t\tif (this._wsProgress){\r\n\t\t\tthis.config.width = this._wsProgress.x;\r\n\t\t\tthis.config.height = this._wsProgress.y;\r\n\t\t\tthis.resize();\r\n\t\t}\r\n\r\n\t\tthis._wsReady = this._wsProgress = false;\r\n\t\tthis.callEvent(\"onViewResize\",[]);\r\n\t}\r\n});\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"suggest\",\r\n\tdefaults:{\r\n\t\tautofocus:false,\r\n\t\ttype:\"list\",\r\n\t\tkeyPressTimeout:1,\r\n\t\tbody:{\r\n\t\t\tyCount:10,\r\n\t\t\tautoheight:true,\r\n\t\t\tbody:true,\r\n\t\t\tselect:true,\r\n\t\t\tborderless:true,\r\n\t\t\tnavigation:true\r\n\t\t},\r\n\t\tfilter:function(item,value){\r\n\t\t\tif (item.value.toString().toLowerCase().indexOf(value.toLowerCase())===0) return true;\r\n   \t\t\treturn false;\r\n\t\t}\r\n\t},\r\n\ttemplate_setter:webix.template,\r\n    filter_setter:function(value){\r\n        return webix.toFunctor(value, this.$scope);\r\n    },\r\n\t$init:function(obj){\r\n\t\tvar temp = {};\r\n\t\twebix.extend(temp, webix.copy(this.defaults.body));\r\n\t\ttemp.view = obj.type || this.defaults.type;\r\n\r\n\t\tvar etemp = this._get_extendable_cell(temp);\r\n\t\tif (obj.body)\r\n\t\t\twebix.extend(etemp, obj.body, true);\r\n\r\n\t\tif (obj.data)\r\n\t\t\tetemp.data = obj.data;\r\n\t\tif (obj.url)\r\n\t\t\tetemp.url = obj.url;\r\n\t\tif (obj.datatype)\r\n\t\t\tetemp.datatype = obj.datatype;\r\n\r\n\t\tif (obj.id)\r\n\t\t\ttemp.id = temp.id || (obj.id+\"_\"+temp.view);\r\n\r\n\t\tobj.body = temp;\r\n\t\tthis.$ready.push(this._set_on_popup_click);\r\n\r\n\t\tthis.attachEvent(\"onShow\", function(){\r\n\t\t\tif (this._settings.master){\r\n\t\t\t\tvar master = webix.$$(this._settings.master);\r\n\t\t\t\tif(master){\r\n\t\t\t\t\tvar node = master._getInputDiv ? master._getInputDiv() : master.getInputNode();\r\n\t\t\t\t\tnode.setAttribute(\"aria-expanded\", \"true\");\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\tthis._show_selection();\r\n\t\t});\r\n\t\tthis.attachEvent(\"onHide\", function(){\r\n\t\t\tif (this._settings.master){\r\n\t\t\t\tvar master = webix.$$(this._settings.master);\r\n\t\t\t\tif(master){\r\n\t\t\t\t\tvar node = master._getInputDiv ? master._getInputDiv() : master.getInputNode();\r\n\t\t\t\t\tnode.setAttribute(\"aria-expanded\", \"false\");\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis._old_text = {};\r\n\t},\r\n\t_get_extendable_cell:function(obj){\r\n\t\treturn obj;\r\n\t},\r\n\t_preselectMasterOption: function(data){\r\n\t\tvar master, node, text;\r\n\t\tif (data){\r\n\t\t\tif (this._settings.master){\r\n\t\t\t\tmaster = webix.$$(this._settings.master);\r\n\t\t\t\tnode = master.getInputNode();\r\n\t\t\t\tif (node && master.options_setter){\r\n\t\t\t\t\ttext = this.getItemText(data.id);\r\n\t\t\t\t\tif (webix.isUndefined(node.value))\r\n\t\t\t\t\t\tnode.innerHTML = text;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tnode.value = text.replace(/<[^>]*>/g,\"\");\r\n\t\t\t\t}\r\n\t\t\t\telse if(node && data.value && master.$setValue){\r\n\t\t\t\t\tmaster.$setValue(data.value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tnode = node || this._last_input_target;\r\n\t\tif(node)\r\n\t\t\tnode.focus();\r\n\t},\r\n\tsetMasterValue:function(data, refresh){\r\n\t\tvar text = data.id ? this.getItemText(data.id) : (data.text||data.value);\r\n\r\n\t\tif (this._settings.master){\r\n\t\t\tvar master = webix.$$(this._settings.master);\r\n\t\t\tif (refresh && data.id)\r\n\t\t\t\tmaster.refresh();\r\n\t\t\telse if (master.options_setter)\r\n\t\t\t\tmaster.setValue(data.$empty?\"\":data.id);\r\n\t\t\telse if(master.setValueHere)\r\n\t\t\t\tmaster.setValueHere(text);\r\n\t\t\telse\r\n\t\t\t\tmaster.setValue(text);\r\n\t\t} else if (this._last_input_target){\r\n\t\t\tthis._last_input_target.value = text;\r\n\t\t}\r\n\r\n\t\tif (!refresh){\r\n\t\t\tthis.hide(true);\r\n\t\t\tif (this._last_input_target)\r\n\t\t\t\tthis._last_input_target.focus();\r\n\t\t}\r\n\t\tthis.callEvent(\"onValueSuggest\", [data, text]);\r\n\t\twebix.delay(function(){\r\n\t\t\t webix.callEvent(\"onEditEnd\",[]);\r\n\t\t});\r\n\t},\r\n\tgetMasterValue:function(){\r\n\t\tif (this._settings.master)\r\n\t\t\treturn webix.$$(this._settings.master).getValue();\r\n\t\treturn null;\r\n\t},\r\n\tgetItemText:function(id){\r\n\t\tvar item = this.getList().getItem(id);\r\n\r\n\t\tif (!item)\r\n\t\t\treturn this._old_text[id] || \"\";\r\n\r\n\t\tif (this._settings.template)\r\n\t\t\treturn this._settings.template.call(this, item, this.type);\r\n\r\n\t\tif (this._settings.textValue)\r\n\t\t\treturn item[this._settings.textValue];\r\n\t\t\r\n\t\tvar type = this.getList().type;\r\n\t\tvar text = type.template.call(type, item, type);\r\n\r\n\t\treturn (this._old_text[id] = text);\r\n\t},\r\n\tgetSuggestion:function(){\r\n\t\tvar id,\r\n\t\t\tlist = this.getList(),\r\n\t\t\torder = list.data.order;\r\n\r\n\t\tif (list.getSelectedId)\r\n\t\t\tid = list.getSelectedId();\r\n\r\n\t\tif (order.length && (!id || order.find(id) <0) )\r\n\t\t\tid = order[0];\r\n\r\n\t\t//complex id in datatable\r\n\t\tif (id && typeof id == \"object\") id = id+\"\";\r\n\t\treturn id;\r\n\t},\r\n\tgetList:function(){\r\n\t\treturn this._body_cell;\r\n\t},\r\n\t_set_on_popup_click:function(){\r\n\t\tvar list = this.getList();\r\n\t\tvar type = this._settings.type;\r\n\r\n\t\tif (list.count){\r\n\t\t\tlist.attachEvent(\"onItemClick\", webix.bind(function(item){\r\n\t\t\t\tthis.setMasterValue(list.getItem(item));\r\n\t\t\t}, this));\r\n\t\t\tlist.data.attachEvent(\"onstoreupdated\",webix.bind(function(id, obj, mode){\r\n\t\t\t\tif (mode == \"delete\" && id == this.getMasterValue())\r\n\t\t\t\t\tthis.setMasterValue({ id:\"\", text:\"\" }, 1);\r\n\t\t\t\telse if (mode == \"update\" && id == this.getMasterValue()){\r\n\t\t\t\t\tthis.setMasterValue(obj, 1);\r\n\t\t\t\t}\r\n\t\t\t}, this));\r\n\t\t\tlist.data.attachEvent(\"onAfterFilter\", webix.bind(this._suggest_after_filter, this));\r\n\t\t\tlist.data.attachEvent(\"onStoreLoad\", webix.bind(this._suggest_after_filter, this));\r\n\t\t\tif (webix.isUndefined(this._settings.fitMaster))\r\n\t\t\t\tthis._settings.fitMaster = true;\r\n\t\t} else if (type == \"calendar\"){\r\n\t\t\tlist.attachEvent(\"onDateSelect\", function(date){\r\n\t\t\t\tthis.getParentView().setMasterValue({ value:date});\r\n\t\t\t});\r\n\t\t\tlist.attachEvent(\"onTodaySet\", function(date){\r\n\t\t\t\tthis.getParentView().setMasterValue({ value:date});\r\n\t\t\t});\r\n\t\t\tlist.attachEvent(\"onDateClear\", function(date){\r\n\t\t\t\tthis.getParentView().setMasterValue({ value:date});\r\n\t\t\t});\r\n\t\t} else if (type == \"colorboard\"){\r\n\t\t\tlist.attachEvent(\"onSelect\", function(value){\r\n\t\t\t\tthis.getParentView().setMasterValue({ value:value });\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tinput_setter: function(value) {\r\n\t\tthis.linkInput(value);\r\n\t\treturn 0;\r\n\t},\r\n\tlinkInput: function(input){\r\n\t\tvar node;\r\n\t\tif (input.getInputNode){\r\n\t\t\tnode = input.getInputNode();\r\n\t\t\tnode.webix_master_id = input._settings.id;\r\n\t\t} else\r\n\t\t\tnode = webix.toNode(input);\r\n\r\n\t\twebix.event(node,\"keydown\",function(e){\r\n\t\t\tif (node != document.body || this.isVisible())\r\n\t\t\t\tthis._suggestions(e);\r\n\t\t},{bind:this, id: \"webix_suggest_keydown_\"+node.webix_master_id});\r\n\t\t\r\n\t\tif(input._getInputDiv)\r\n\t\t\tnode = input._getInputDiv();\r\n\t\t\r\n\t\tnode.setAttribute(\"aria-autocomplete\", \"list\");\r\n\t\tnode.setAttribute(\"aria-expanded\", \"false\");\r\n\r\n\t\tif(node.tagName === \"DIV\"){\r\n\t\t\tnode.setAttribute(\"aria-live\", \"assertive\");\r\n\t\t\tnode.setAttribute(\"aria-atomic\", \"true\");\r\n\t\t}\r\n\r\n\t\tthis._non_ui_mode = true;\r\n\t},\r\n\t_suggestions: function(e){\r\n\t\te = (e||event);\r\n\t\tvar list = this.getList();\r\n\t\t\r\n\t\tvar trg = e.target||e.srcElement;\r\n\r\n\t\tthis._last_input_target = trg;\r\n\t\tthis._settings.master = trg.webix_master_id;\r\n\r\n\t\twindow.clearTimeout(this._key_timer);\r\n\r\n\t\tvar code = e.keyCode;\r\n\t\t//shift and ctrl\r\n\t\tif (code == 16 || code == 17) return;\r\n\r\n\t\t// tab - hide popup and do nothing\r\n\t\tif (code == 9)\r\n\t\t\treturn this._tab_key(this,list);\r\n\r\n\t\t// escape - hide popup\r\n\t\tif (code == 27)\r\n\t\t\treturn this._escape_key(this,list);\r\n\r\n\t\t// enter\r\n\t\tif (code == 13)\r\n\t\t\treturn this._enter_key(this,list);\r\n\r\n\t\t// up/down/right/left are used for navigation\r\n\t\tif (this._navigate(e)) {\r\n\t\t\twebix.html.preventEvent(e);\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (webix.isUndefined(trg.value)) return;\r\n\r\n\t\tclearTimeout(this._last_delay);\r\n\t\tthis._last_delay = webix.delay(function(){\r\n\t\t\t//focus moved to the different control, suggest is not necessary\r\n\t\t\tif (!this._non_ui_mode && \r\n\t\t\t\t\twebix.UIManager.getFocus() != webix.$$(this._settings.master)) return;\r\n\r\n\t\t\tthis._resolve_popup = true;\r\n\t\t\t//for multicombo\r\n\t\t\tvar val = trg.value;\r\n\r\n\t\t\t// used to prevent showing popup when it was initialized\r\n\t\t\tif (list.config.dataFeed)\r\n\t\t\t\tlist.filter(\"value\", val);\r\n\t\t\telse if (list.filter){\r\n\t\t\t\tlist.filter(webix.bind(function(item){\r\n\t\t\t\t\treturn this._settings.filter.call(this,item,val);\r\n\t\t\t\t}, this));\r\n\t\t\t}\r\n\t\t},this, [], this._settings.keyPressTimeout);\r\n\t},\r\n\t_suggest_after_filter: function() {\r\n\t\tif (!this._resolve_popup) return true;\r\n\t\tthis._resolve_popup = false;\r\n\r\n\t\tvar list = this.getList();\r\n\t\t\r\n\t\t// filtering is complete\r\n\t\t// if there are as min 1 variant it must be shown, hidden otherwise\r\n\t\tif (list.count() >0){\r\n\t\t\tthis.adjust();\r\n\t\t\tif(!this.isVisible())\r\n\t\t\t\tthis._dont_unfilter = true;\r\n\t\t\tthis.show(this._last_input_target,null,true);\r\n\t\t\tthis._dont_unfilter = false;\r\n\t\t} else {\r\n\t\t\tthis.hide(true);\r\n\t\t\tthis._last_input_target = null;\r\n\t\t}\r\n\t},\r\n\r\n\tshow:function(node){\r\n\t\tif (!this.isVisible()){\r\n\t\t\tvar list = this.getList();\r\n\t\t\tif (list.filter && !this._dont_unfilter){\r\n\t\t\t\tlist.filter(\"\");\r\n\t\t\t}\r\n\r\n\t\t\tif(this.$customWidth){\r\n\t\t\t\tthis.$customWidth(node);\r\n\t\t\t}\r\n\t\t\tif (node.tagName && this._settings.fitMaster){\r\n\t\t\t\tthis._settings.width = node.offsetWidth -2 ; //2 - borders\r\n\t\t\t}\r\n\t\t\tif (list._zoom_level)\r\n\t\t\t\tlist.render();\r\n\r\n\t\t\tthis.adjust();\r\n\r\n\t\t\t// needed to return focus\r\n\t\t\tif(node.tagName == \"INPUT\")\r\n\t\t\t\tthis._last_input_target = node;\r\n\t\t}\r\n\t\twebix.ui.popup.prototype.show.apply(this, arguments);\r\n\t},\r\n\t_show_selection:function(list){\r\n\t\tlist = list||this.getList();\r\n\t\tif( list.select && list.showItem ){\r\n\t\t\tvar value = this.getMasterValue();\r\n\t\t\tif (value && list.exists && list.exists(value)){\r\n\t\t\t\tlist.select(value);\r\n\t\t\t\tlist.showItem(value);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tlist.unselect();\r\n\t\t\t\tlist.showItem(list.getFirstId());\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_enter_key: function(popup,list) {\r\n\t\tvar value;\r\n\r\n\t\tif (popup.isVisible()) {\r\n\t\t\tif (list.count && list.count()){\r\n\t\t\t\tvalue = list.getSelectedId(false, true);\r\n\t\t\t\tif(list.count()==1 && list.getFirstId()!=value)\r\n\t\t\t\t\tvalue = list.getFirstId();\r\n\t\t\t\tif(value)\r\n\t\t\t\t\tvalue = list.getItem(value);\r\n\t\t\t}\r\n\t\t\telse if(list.getSelectedDate && list.getSelectedDate())\r\n\t\t\t\tvalue = { value:list.getSelectedDate() };\r\n\t\t\telse if(list.getValue && list.getValue())\r\n\t\t\t\tvalue = {value: list.getValue() };\r\n\t\t\t\r\n\t\t\tif (value)\r\n\t\t\t\tthis.setMasterValue(value);\r\n\t\t\t\r\n\t\t\tpopup.hide(true);\r\n\t\t}\r\n\t\telse\r\n\t\t\tpopup.show(this._last_input_target);\r\n\t},\r\n\t_escape_key: function(popup, list) {\r\n\t\treturn popup.hide(true);\r\n\t},\r\n\t_tab_key: function(popup, list) {\r\n\t\treturn popup.hide(true);\r\n\t},\r\n\t/*! suggestions navigation: up/down buttons move selection\r\n\t *\t@param e\r\n\t *\t\tevent object\r\n\t **/\r\n\t_navigate: function(e) {\r\n\t\tvar list = this.getList();\r\n\t\tvar code = e.keyCode;\r\n\t\tvar data;\r\n\r\n\t\tif( list.moveSelection && code < 41 && code > 32 && !e.ctrlKey && !e.metaKey && !e.shiftKey && !e.altKey) {\r\n\t\t\t// down arrow\r\n\t\t\tif (code === 40 ) {\r\n\t\t\t\tvar visible = this.isVisible();\r\n\t\t\t\tif (!visible)\r\n\t\t\t\t\tthis.show(this._last_input_target);\r\n\r\n\t\t\t\tif(list.count){\r\n\t\t\t\t\tvar selected = list.getSelectedId();\r\n\t\t\t\t\tif (!selected && list.count)\r\n\t\t\t\t\t\tlist.select(list.getFirstId());\r\n\t\t\t\t}\r\n\t\t\t\tif (visible)\r\n\t\t\t\t\tlist.moveSelection(\"down\");\r\n\t\t\t}// other arrows\r\n\t\t\telse {\r\n\t\t\t\tvar master = this._settings.master;\r\n\t\t\t\tif((list.count && code !==38) || (!list.count && !list.isVisible()))\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\tvar dir;\r\n\t\t\t\tif(code == 33) dir = \"pgup\";\r\n\t\t\t\tif(code == 34) dir = \"pgdown\";\r\n\t\t\t\tif(code == 35) dir = \"bottom\";\r\n\t\t\t\tif(code == 36) dir = \"top\";\r\n\t\t\t\tif(code == 37) dir = \"left\";\r\n\t\t\t\tif(code == 38) dir = \"up\";\r\n\t\t\t\tif(code == 39) dir = \"right\";\r\n\r\n\t\t\t\tlist.moveSelection(dir);\r\n\t\t\t}\r\n\t\t\tif(list.count)\r\n\t\t\t\tdata = list.getSelectedItem();\r\n\t\t\telse if(list.getSelectedDate)\r\n\t\t\t\tdata = { value:list.getVisibleDate()};\r\n\t\t\telse if(list.getValue)\r\n\t\t\t\tdata = { value:list.getValue() };\r\n\t\t\t\r\n\t\t\tthis._preselectMasterOption(data);\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t},\r\n\tgetValue:function(){\r\n\t\tvar value = this.getList().getSelectedId() || \"\";\r\n\t\treturn value.id || value;\r\n\r\n\t},\r\n\tsetValue:function(value){\r\n\t\tvar list = this.getList();\r\n\t\tif(value){\r\n            if(list.exists(value)){\r\n                list.select(value);\r\n                list.showItem(value);\r\n            }\r\n        }else{\r\n            list.unselect();\r\n            list.showItem(list.getFirstId());\r\n        }\r\n\t}\r\n}, webix.ui.popup);\r\n/*aria-style handling for options of multiple-value controls (radio, segmented, tabbar)*/\r\n\r\nwebix.HTMLOptions = {\r\n\t$init:function(config){\r\n\t\tif(webix.skin.$active.customRadio || this.addOption)\r\n\t\t\twebix.event( this.$view, \"keydown\", this._moveSelection, {bind:this});\r\n\t},\r\n\t_focus: function(){\r\n\t\tvar input = this._getInputNode();\r\n\t\tif(input)\r\n\t\t\tfor(var i=0; i<input.length; i++){\r\n\t\t\t\tif(input[i].getAttribute(\"tabindex\") == \"0\")\r\n\t\t\t\t\tinput[i].focus();\r\n\t\t\t}\r\n\t},\r\n\t_blur: function(){\r\n\t\tvar input = this._getInputNode();\r\n\t\tif(input)\r\n\t\t\tfor(var i=0; i<input.length; i++){\r\n\t\t\t\tif(input[i].getAttribute(\"tabindex\") == \"0\") input[i].blur();\r\n\t\t\t}\r\n\t},\r\n\t_moveSelection:function(e){\r\n\t\tvar code = e.which || e.keyCode;\r\n\r\n\t\tvar startCode = this.addOption?34:36;\r\n\r\n\t\tif(code>startCode && code <41){\r\n\t\t\twebix.html.preventEvent(e);\r\n\t\t\tvar index;\r\n\t\t\tvar inp = this._getInputNode();\r\n\r\n\t\t\tif(code == 35) index = inp.length-1;\r\n\t\t\telse if(code === 36 ) index = 0;\r\n\t\t\telse{\r\n\t\t\t\tvar dir = (code === 37 || code ===38)?-1:1;\r\n\t\t\t\tfor(var i =0; i<inp.length; i++){\r\n\t\t\t\t\tif(inp[i].getAttribute(\"tabindex\") == \"0\"){\r\n\t\t\t\t\t\tindex = i + dir;\r\n\t\t\t\t\t\tif(index<0) index = inp.length-1;\r\n\t\t\t\t\t\telse if(index>=inp.length) index = 0;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(!webix.isUndefined(index)){\r\n\t\t\t\tvar id = this.addOption ? inp[index].getAttribute(\"button_id\") : inp[index].value;\r\n\t\t\t\tif(webix.skin.$active.customRadio && !this.addOption)\r\n\t\t\t\t\tinp = this.$view.getElementsByTagName(\"BUTTON\");\r\n\r\n\t\t\t\tthis.setValue(id);\r\n\t\t\t\tinp[index].focus();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\nwebix.attachEvent(\"onClick\", function(e){\r\n\tvar element = webix.$$(e);\r\n\tif (element && element.touchable){\r\n\t\twebix.UIManager.applyChanges(element);\r\n\r\n\t\t//for inline elements - restore pointer to the master element\r\n\t\telement.getNode(e);\r\n\t\t//reaction on custom css elements in buttons\r\n\t\tvar trg=e.target||e.srcElement;\r\n\t\tif (trg.className == \"webix_disabled\")\r\n\t\t\treturn;\r\n\r\n\t\tvar css = \"\";\r\n\t\tvar id = null;\r\n\t\tvar found = false;\r\n\t\tif (trg.className && trg.className.toString().indexOf(\"webix_view\")===0) return;\r\n\r\n\t\tif (element)\r\n\t\t\twebix.UIManager._focus_action(element);\r\n\r\n\t\t//loop through all parents\r\n\t\twhile (trg && trg.parentNode){\r\n\t\t\tif (trg.getAttribute){\r\n\t\t\t\tif (trg.getAttribute(\"view_id\"))\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tcss=trg.className;\r\n\t\t\t\tif (css){\r\n\t\t\t\t\tcss = css.toString().split(\" \");\r\n\t\t\t\t\tfor (var i =0; i<css.length; i++){\r\n\t\t\t\t\t\tif (element.on_click[css[i]]){\r\n\t\t\t\t\t\t\tvar res =  element.on_click[css[i]].call(element,e,element._settings.id,trg);\r\n\t\t\t\t\t\t\tif (res===false)\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttrg=trg.parentNode;\r\n\t\t}\r\n\r\n\r\n\t\tif (element._settings.click){\r\n\t\t\tvar code = webix.toFunctor(element._settings.click, element.$scope);\r\n\t\t\tif (code && code.call) code.call(element, element._settings.id, e);\r\n\t\t}\r\n\r\n\r\n\r\n\t\tvar popup = element._settings.popup;\r\n\t\tif (element._settings.popup && !element._settings.readonly){\r\n\t\t\tif (typeof popup == \"object\" && !popup.name)\r\n\t\t\t\tpopup = element._settings.popup = webix.ui(popup)._settings.id;\r\n\r\n\t\t\tvar popup = webix.$$(popup);\r\n\t\t\twebix.assert(popup, \"Unknown popup\");\r\n\r\n\t\t\tif (!popup.isVisible()){\r\n\t\t\t\tpopup._settings.master = element._settings.id;\r\n\t\t\t\tpopup.show((element.getInputNode()||element.getNode()),null,true);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\telement.callEvent(\"onItemClick\", [element._settings.id, e]);\r\n\t}\r\n});\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"button\",\r\n\ttouchable:true,\r\n\t$skin:function(){\r\n\t\tthis.defaults.height = webix.skin.$active.buttonHeight||webix.skin.$active.inputHeight;\r\n\t\t//used in \"text\"\r\n\t\tthis._labelTopHeight = webix.skin.$active.labelTopHeight||15;\r\n\t},\r\n\tdefaults:{\r\n\t\ttemplate:function(obj, common){\r\n\t\t\tvar text = common.$renderInput(obj, common);\r\n\t\t\tif (obj.badge) text = text.replace(\"</button>\", \"<span class='webix_badge'>\"+obj.badge+\"</span></button>\");\r\n\t\t\treturn \"<div class='webix_el_box' style='width:\"+obj.awidth+\"px; height:\"+obj.aheight+\"px'>\"+ text + \"</div>\";\r\n\t\t},\r\n\t\tlabel:\"\",\r\n\t\tborderless:true\r\n\t},\r\n\t$renderInput:function(obj){\r\n\t\tvar css = \"class='webixtype_\"+(obj.type||\"base\")+\"' \";\r\n\t\treturn \"<button type='button' \"+(obj.popup?\"aria-haspopup='true'\":\"\")+css+\">\"+webix.template.escape(obj.label||obj.value)+\"</button>\";\r\n\t},\r\n\t$init:function(config){\r\n\t\tthis._viewobj.className += \" webix_control webix_el_\"+(this.$cssName||this.name);\r\n\r\n\t\tthis.data = this._settings;\r\n\t\tthis._dataobj = this._viewobj;\r\n\r\n\t\tthis._calc_size(config);\r\n\t},\r\n\thotkey_setter: function(key){\r\n\t\tvar control = this;\r\n\t\tthis._addElementHotKey(key, function(view,ev){\r\n\t\t\tvar elem = control.$view.firstChild;\r\n\t\t\twebix.html.triggerEvent(elem, \"MouseEvents\", \"click\");\r\n\t\t\twebix.html.preventEvent(ev);\r\n\t\t});\r\n\t},\r\n\r\n\t_addElementHotKey: function(key, func, view){\r\n\t\tvar keyCode = webix.UIManager.addHotKey(key, func, view);\r\n\t\tthis.attachEvent(\"onDestruct\", function(){\r\n\t\t\twebix.UIManager.removeHotKey(keyCode, func, view);\r\n\t\t});\r\n\t},\r\n\ttooltip_setter: function(value){\r\n\t\tvar box = this._getBox() || this.$view.firstChild;\r\n\t\tif(box)\r\n\t\t\tbox.title = value;\r\n\t\treturn value;\r\n\t},\r\n\ttype_setter:function(value){\r\n\t\tif (this._types[value])\r\n\t\t\tthis.$renderInput = webix.template(this._types[value]);\r\n\t\tif (value == 'prev' || value == 'next')\r\n\t\t\tthis._set_inner_size = this._set_inner_size_next;\r\n\t\telse\r\n\t\t\tthis._set_inner_size = false;\r\n\t\treturn value;\r\n\t},\r\n\t_types:{\r\n\t\thtmlbutton: \"<button type='button' class='webix_el_htmlbutton webixtype_base'>#label#</button>\",\r\n\r\n\t\tprev:\"<input type='button' class='webixtype_prev' value='#label#' /><div class='webix_el_arrow webixtype_prev_arrow'></div>\",\r\n\t\tnext:\"<input type='button' class='webixtype_next' value='#label#' /><div class='webix_el_arrow webixtype_next_arrow'></div>\",\r\n\r\n\t\timageButton:\"<button type='button' class='webix_img_btn_abs webixtype_base' style='width:100%; line-height:#cheight#px'><div class='webix_image' style='width:#dheight#px;height:#dheight#px;background-image:url(#image#);'> </div> #label#</button>\",\r\n\t\timageButtonTop:\"<button type='button' class='webix_img_btn_abs webix_img_btn_abs_top webixtype_base'><div class='webix_image' style='width:100%;height:100%;background-image:url(#image#);'> </div> <div class='webix_img_btn_text'>#label#</div></button>\",\r\n\r\n\t\timage:\"<button type='button' class='webix_img_btn' style='line-height:#cheight#px;'><div class='webix_image' style='width:#cheight#px;height:#cheight#px;background-image:url(#image#);'> </div> #label#</button>\",\r\n\t\timageTop:\"<button type='button' class='webix_img_btn_top' style='background-image:url(#image#);'><div class='webix_img_btn_text'>#label#</div></button>\",\r\n\r\n\t\ticon:\"<button type='button' class='webix_img_btn' style='line-height:#cheight#px;'><span class='webix_icon_btn fa-#icon#' style='max-width:#cheight#px;'></span>#label#</button>\",\r\n\t\ticonButton:\"<button type='button' class='webix_img_btn_abs webixtype_base' style='width:100%;'><span class='webix_icon fa-#icon#'></span> #label#</button>\",\r\n\t\ticonTop:\"<button type='button' class='webix_img_btn_top' style='width:100%;top:4px;text-align:center;'><span class='webix_icon fa-#icon#'></span><div class='webix_img_btn_text'>#label#</div></button>\",\r\n\t\ticonButtonTop:\"<button type='button' class='webix_img_btn_abs webix_img_btn_abs_top webixtype_base' style='width:100%;top:0px;text-align:center;'><span class='webix_icon fa-#icon#'></span><div class='webix_img_btn_text'>#label#</div></button>\"\r\n\r\n\t},\r\n\t_findAllInputs: function(){\r\n\t\tvar result = [];\r\n\t\tvar tagNames = [\"input\",\"select\",\"textarea\",\"button\"];\r\n\t\tfor(var i=0; i< tagNames.length; i++){\r\n\t\t\tvar inputs = this.$view.getElementsByTagName(tagNames[i]);\r\n\t\t\tfor(var j = 0; j< inputs.length; j++){\r\n\t\t\t\tresult.push(inputs[j]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tdisable: function(){\r\n        var i, node,\r\n\t        elem = this._getBox();\r\n    \twebix.ui.baseview.prototype.disable.apply(this, arguments);\r\n\t\tif(elem && elem.className.indexOf(\" webix_disabled_box\")== -1){\r\n\t\t\telem.className += \" webix_disabled_box\";\r\n\t\t\tvar inputs = this._findAllInputs();\r\n\t\t\tfor(i=0; i< inputs.length; i++)\r\n\t\t\t\tinputs[i].setAttribute(\"disabled\",true);\r\n\r\n\t\t\t// richselect and based on it\r\n\t\t\tnode = this.getInputNode();\r\n\t\t\tif(node && node.tagName.toLowerCase() == \"div\"){\r\n\t\t\t\tthis._disabledTabIndex = node.getAttribute(\"tabIndex\");\r\n\t\t\t\tnode.removeAttribute(\"tabIndex\");\r\n\t\t\t}\r\n\r\n\t\t\tif(this._settings.labelPosition == \"top\"){\r\n\t\t\t\tvar label = this._dataobj.firstChild;\r\n\t\t\t\tif(label)\r\n\t\t\t\t\tlabel.className += \" webix_disabled_top_label\";\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tenable: function(){\r\n\t\twebix.ui.baseview.prototype.enable.apply(this, arguments);\r\n\t\tvar node,\r\n\t\t\telem = this._getBox();\r\n\t\tif(elem){\r\n\t\t\telem.className = elem.className.replace(\" webix_disabled_box\",\"\");\r\n\t\t\tvar inputs = this._findAllInputs();\r\n\t\t\tfor(var i=0; i< inputs.length; i++)\r\n\t\t\t\tinputs[i].removeAttribute(\"disabled\");\r\n\r\n\t\t\tnode = this.getInputNode();\r\n\t\t\tif(node && !webix.isUndefined(this._disabledTabIndex))\r\n\t\t\t\tnode.setAttribute(\"tabIndex\",this._disabledTabIndex);\r\n\r\n\t\t\tif(this._settings.labelPosition == \"top\"){\r\n\t\t\t\tvar label = this._dataobj.firstChild;\r\n\t\t\t\tif(label)\r\n\t\t\t\t\tlabel.className = label.className.replace(\" webix_disabled_top_label\",\"\");\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tif(webix.ui.view.prototype.$setSize.call(this,x,y)){\r\n\t\t\tthis.render();\r\n\t\t}\r\n\t},\r\n\tsetValue:function(value){\r\n\t\tvar oldvalue = this._settings.value;\r\n\t\tif (oldvalue == value) return false;\r\n\t\t\r\n\t\tvalue = this._pattern(value, false);\r\n\t\tthis._settings.value = value;\r\n\r\n\t\tif (this._rendered_input)\r\n\t\t\tthis.$setValue(value);\r\n\r\n\t\tthis.callEvent(\"onChange\", [value, oldvalue]);\r\n\t},\r\n\t_pattern :function(value){ return value; },\r\n\t//visual part of setValue\r\n\t$setValue:function(value){\r\n//\t\tthis._settings.label = value;\r\n\t\t(this.getInputNode()||{}).value = value; \r\n\t},\r\n\tgetValue:function(){\r\n\t\t//if button was rendered - returning actual value\r\n\t\t//otherwise - returning last set value\r\n\t\tvar value = this._rendered_input? this.$getValue() : this._settings.value;\r\n\t\treturn (typeof value == \"undefined\") ? \"\" : value;\r\n\t},\r\n\t$getValue:function(){\r\n\t\treturn this._settings.value||\"\";\t\r\n\t},\r\n\tfocus:function(){\r\n\t\tif(!this._settings.disabled){\r\n\t\t\tvar input = this.getInputNode();\r\n\t\t\tif (input && input.focus) input.focus();\r\n\t\t}\r\n\r\n\t},\r\n\tblur:function() {\r\n\t\tvar input = this.getInputNode();\r\n\t\tif (input && input.blur) input.blur();\r\n\t},\r\n\t//get input element\r\n\tgetInputNode: function() {\r\n\t\treturn this._dataobj.getElementsByTagName('input')[0]||this._dataobj.getElementsByTagName('button')[0];\r\n\t},\r\n\t//get top-level sub-container\r\n\t_getBox:function(){\r\n\t\tfor(var i=0;i< this._dataobj.childNodes.length;i++){\r\n\t\t\tif(this._dataobj.childNodes[i].className.indexOf(\"webix_el_box\")>=0)\r\n\t\t\t\treturn this._dataobj.childNodes[i];\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\t_sqrt_2:Math.sqrt(2),\r\n\t_set_inner_size_next:function(){\r\n\t\tvar cfg = this._settings;\r\n\t\tvar arrow = this._getBox().childNodes[1];\r\n\t\tvar button = arrow.previousSibling;\r\n\t\tvar style = cfg.type == \"next\"?\"right\":\"left\";\r\n\t\tvar height = cfg.aheight-webix.skin.$active.inputPadding*2-2; //-2 - borders\r\n\r\n\t\tvar arrowEdge = height*this._sqrt_2/2;\r\n\t\tarrow.style.width = arrowEdge+\"px\";\r\n\t\tarrow.style.height = arrowEdge+\"px\";\r\n\t\tarrow.style.top = (height - arrowEdge)/2 + webix.skin.$active.inputPadding+ \"px\";\r\n\t\tarrow.style[style] = (height - arrowEdge)/2 +this._sqrt_2/2+ \"px\";\r\n\t\tbutton.style.width = cfg.awidth - height/2 -2  + \"px\";\r\n\t\tbutton.style.height = height + 2 + \"px\";\r\n\t\tbutton.style[style] =  height/2 + 2 + \"px\";\r\n\t\tbutton.style.top = webix.skin.$active.inputPadding+ \"px\";\r\n\r\n\t},\r\n\t_calc_size:function(config){\r\n\t\tconfig = config || this._settings;\r\n\t\tif (config.autowidth)\r\n\t\t\tconfig.width = webix.html.getTextSize((config.value||config.label), \"webixbutton\").width +\r\n\t\t\t\t(config.badge ? 15 : 0) +\r\n\t\t\t\t(config.type === \"iconButton\" ? 30 : 0) +\r\n\t\t\t\t(config.type === \"icon\"? 20 : 0);\r\n\t},\r\n\t_calck_input_size:function(){\r\n\t\t//use width for both width and inputWidth settings in clever way\r\n\t\t//in form, we can define width for some element smaller than for siblings\r\n\t\t//it will use inputWidth to render the desired view\r\n\t\tthis._input_width = this._settings.inputWidth || \r\n\t\t\t((this._content_width - this._settings.width > 2)?this._settings.width:0) || this._content_width;\r\n\t\tthis._input_height = this._settings.inputHeight||this._inputHeight||0;\r\n\t},\r\n\tresize: function(){\r\n\t\tthis._calc_size();\r\n\t\treturn webix.ui.view.prototype.resize.apply(this,arguments);\r\n\t},\r\n\trender:function(){\r\n\t\tthis._calck_input_size();\r\n\t\tthis._settings.awidth  = this._input_width||this._content_width;\r\n\t\tthis._settings.aheight = this._input_height||this._content_height;\r\n\r\n\t\t//image button - image width\r\n\t\tthis._settings.bheight = this._settings.aheight+2;\r\n\t\tthis._settings.cheight = this._settings.aheight- 2*webix.skin.$active.inputPadding;\r\n\t\tthis._settings.dheight = this._settings.cheight - 2; // - borders\r\n\r\n\t\tif(webix.AtomRender.render.call(this)){\r\n\t\t\tthis._rendered_input = true;\r\n\t\t\tif (this._set_inner_size) this._set_inner_size();\r\n\t\t\tif (this._settings.align){\r\n\t\t\t\tvar handle = this._dataobj.firstChild;\r\n\t\t\t\tif (this._settings.labelPosition == \"top\" && handle.nextSibling)\r\n\t\t\t\t\thandle = handle.nextSibling;\r\n\r\n\t\t\t\tswitch(this._settings.align){\r\n\t\t\t\t\tcase \"right\":\r\n\t\t\t\t\t\thandle.style.cssFloat = \"right\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"center\":\r\n\t\t\t\t\t\thandle.style.display = \"inline-block\";\r\n\t\t\t\t\t\thandle.parentNode.style.textAlign = \"center\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"middle\":\r\n\t\t\t\t\t\thandle.style.marginTop = Math.round((this._content_height-this._input_height)/2)+\"px\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"bottom\": \r\n\t\t\t\t\t\thandle.style.marginTop = (this._content_height-this._input_height)+\"px\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"left\":\r\n\t\t\t\t\t\thandle.style.cssFloat = \"left\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\twebix.assert(false, \"Unknown align mode: \"+this._settings.align);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (this.$render)\r\n\t\t\t\tthis.$render(this.data);\r\n\r\n\t\t\tif (this._settings.disabled)\r\n\t\t\t\tthis.disable();\r\n\r\n\t\t\t// set tooltip after render\r\n\t\t\tif (this._settings.tooltip)\r\n\t\t\t\tthis.define(\"tooltip\",this._settings.tooltip );\r\n\r\n\t\t\tif (this._init_once){\r\n\t\t\t\tthis._init_once(this.data);\r\n\t\t\t\tthis._init_once = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\trefresh:function(){ this.render(); },\r\n\r\n\ton_click:{\r\n\t\t_handle_tab_click: function(ev, button){\r\n\t\t\tvar id = webix.html.locate(ev, \"button_id\");\r\n\t\t\tif (id && this.callEvent(\"onBeforeTabClick\", [id, ev])){\r\n\t\t\t\tthis.setValue(id);\r\n\t\t\t\tthis.callEvent(\"onAfterTabClick\", [id, ev]);\r\n\t\t\t}\r\n\t\t},\r\n\t\twebix_all_segments:function(ev, button){\r\n\t\t\tthis.on_click._handle_tab_click.call(this, ev, button);\r\n\t\t},\r\n\t\twebix_all_tabs:function(ev, button) {\r\n\t\t\tthis.on_click._handle_tab_click.call(this, ev, button);\r\n\t\t},\r\n\t\twebix_inp_counter_next:function(e, obj, node){\r\n\t\t\tif (!this._settings.readonly)\r\n\t\t\t\tthis.next();\r\n\t\t},\r\n\t\twebix_inp_counter_prev:function(e, obj, node){\r\n\t\t\tif (!this._settings.readonly)\r\n\t\t\t\tthis.prev();\r\n\t\t},\r\n\t\twebix_inp_combo:function(e, obj, node){\r\n\t\t\tnode.focus();\r\n\t\t},\r\n\t\twebix_inp_checkbox_border: function(e, obj, node) {\r\n\t\t\tif (!this._settings.disabled && (e.target||e.srcElement).tagName != \"DIV\" && !this._settings.readonly)\r\n\t\t\t\tthis.toggle();\r\n\t\t},\r\n\t\twebix_inp_checkbox_label: function(e, obj, node) {\r\n\t\t\tif (!this._settings.readonly)\r\n\t\t\t\tthis.toggle();\r\n\t\t},\r\n\t\twebix_inp_radio_border: function(e, obj, node) {\r\n\t\t\tvar value = webix.html.locate(e, \"radio_id\");\r\n\t\t\tthis.setValue(value);\r\n\t\t},\r\n\t\twebix_inp_radio_label: function(e, obj, node) {\r\n\t\t\tnode = node.parentNode.getElementsByTagName('input')[0];\r\n\t\t\treturn this.on_click.webix_inp_radio_border.call(this, node, obj, node);\r\n\t\t},\r\n\t\twebix_tab_more_icon: function(ev,obj, node){\r\n\t\t\tthis.getPopup().resize();\r\n\t\t\tthis.getPopup().show(node,null,true);\r\n\t\t},\r\n\t\twebix_tab_close:function(ev, obj, node){\r\n\t\t\tvar id = webix.html.locate(ev, \"button_id\");\r\n            if (id && this.callEvent(\"onBeforeTabClose\", [id, ev]))\r\n\t\t\t    this.removeOption(id);\r\n\t\t}\r\n\t},\r\n\r\n\t//method do not used by button, but  used by other child-views\r\n\t_check_options:function(opts){\r\n\t\twebix.assert(opts, this.name+\": options not defined\");\r\n\t\tfor(var i=0;i<opts.length;i++){\r\n\t\t\t//FIXME: asserts need to be removed in final version\t\t\t\r\n\t\t\twebix.assert(!opts[i].text, \"Please replace .text with .value in control config\");\r\n\t\t\twebix.assert(!opts[i].label, \"Please replace .label with .value in control config\");\r\n\r\n\t\t\tif(typeof opts[i]==\"string\"){\r\n\t\t\t\topts[i] = {id:opts[i], value:opts[i]};\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif(webix.isUndefined(opts[i].id))\r\n\t\t\t\t\topts[i].id = opts[i].value;\r\n\r\n\t\t\t\tif(webix.isUndefined(opts[i].value))\r\n\t\t\t\t\topts[i].value = opts[i].id;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn opts;\r\n\t},\r\n\t_get_div_placeholder: function(obj){\r\n\t\tvar placeholder = (obj?obj.placeholder:this._settings.placeholder);\r\n\t\treturn (placeholder?\"<span class='webix_placeholder'>\"+placeholder+\"</span>\":\"\");\r\n\t},\r\n\t_get_event_id: function(evName){\r\n\t\treturn \"webix_\"+evName+\"_\"+this._settings.id;\r\n\t}\r\n}, webix.ui.view, webix.AtomRender, webix.Settings, webix.EventSystem);\r\n\r\nwebix.protoUI({\r\n\tname:\"label\",\r\n\tdefaults:{\r\n\t\ttemplate:\"<div style='height:100%;line-height:#cheight#px'>#label#</div>\"\r\n\t},\r\n\t$skin:function(){\r\n\t\tthis.defaults.height = webix.skin.$active.inputHeight;\r\n\t},\r\n\tfocus:function(){ return false; },\r\n\t_getBox:function(){\r\n\t\treturn this._dataobj.firstChild;\r\n\t},\r\n\tsetHTML:function(html){\r\n\t\tthis._settings.template = function(){ return html; };\r\n\t\tthis.refresh();\r\n\t},\r\n\tsetValue: function(value){\r\n\t\tthis._settings.label = value;\r\n\t\twebix.ui.button.prototype.setValue.apply(this,arguments);\r\n\t},\r\n\t$setValue:function(value){\r\n\t\tthis._dataobj.firstChild.innerHTML = value;\r\n\t},\r\n\t_set_inner_size:function(){}\r\n}, webix.ui.button);\r\n\r\nwebix.protoUI({\r\n\tname:\"icon\",\r\n\t$skin:function(){\r\n\t\tthis.defaults.height = webix.skin.$active.inputHeight;\r\n\t},\r\n\tdefaults:{\r\n\t\ttemplate:function(obj){\r\n\t\t\treturn \"<button type='button' \"+\" style='height:100%;width:100%;' class='webix_icon_button'><span class='webix_icon fa-\"+obj.icon+\" '></span>\"+\r\n\t\t\t\t(obj.badge ? \"<span class='webix_badge'>\"+obj.badge+\"</span>\":\"\")+\r\n\t\t\t\t\"</button>\";\r\n\t\t},\r\n\t\twidth:33\r\n\t},\r\n\t_set_inner_size:function(){\r\n\t\t\r\n\t}\r\n}, webix.ui.button);\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"text\",\r\n\t_allowsClear:true,\r\n\t_init_onchange:function(){\r\n\t\tif (this._allowsClear){\r\n\t\t\t//define event id to prevent memory leak\r\n\t\t\tvar evId = \"webix_onchange_\"+this._settings.id;\r\n\t\t\twebix.event(this.getInputNode(),\"change\",this._applyChanges,{bind:this, id: evId});\r\n\t\t\tif (this._settings.suggest)\r\n\t\t   \t\twebix.$$(this._settings.suggest).linkInput(this);\r\n\t\t }\r\n\t},\r\n\t_applyChanges: function(){\r\n\t\tvar newvalue = this.getValue();\r\n\r\n\t\tif (newvalue != this._settings.value)\r\n\t\t\tthis.setValue(newvalue, true);\r\n\t},\r\n\t$skin:function(){\r\n\t\tthis.defaults.height = webix.skin.$active.inputHeight;\r\n\t\tthis.defaults.inputPadding = webix.skin.$active.inputPadding;\r\n\t},\r\n\t$init:function(config){\r\n\t\tif (config.labelPosition == \"top\")\r\n\t\t\tif (webix.isUndefined(config.height) && this.defaults.height)  // textarea\r\n\t\t\t\tconfig.height = this.defaults.height + this._labelTopHeight;\r\n\r\n\t\t//suggest reference for destructor\r\n\t\tthis._destroy_with_me = [];\r\n\r\n\t\tthis.attachEvent(\"onAfterRender\", this._init_onchange);\r\n\t},\r\n\t$renderIcon:function(){\r\n\t\tvar config = this._settings;\r\n\t\tif (config.icon){\r\n\t\t\tvar height = config.aheight - 2*config.inputPadding,\r\n\t\t\t\tpadding = (height - 18)/2 -1,\r\n\t\t\t\taria = this.addSection ? \"role='button' tabindex='0' aria-label='\"+(webix.i18n.aria[\"multitext\"+(config.mode || \"\")+\"Section\"])+\"'\": \"\";\r\n\t\t\t\treturn \"<span style='height:\"+(height-padding)+\"px;padding-top:\"+padding+\"px;' class='webix_input_icon fa-\"+config.icon+\"' \"+aria+\"></span>\";\r\n\t\t\t}\r\n\t\t\treturn \"\";\r\n\t},\r\n\trelatedView_setter:function(value){\r\n\t\tthis.attachEvent(\"onChange\", function(){\r\n\t\t\tvar value = this.getValue();\r\n\t\t\tvar mode = this._settings.relatedAction;\r\n\t\t\tvar viewid = this._settings.relatedView;\r\n\t\t\tvar view = webix.$$(viewid);\r\n\t\t\tif (!view){\r\n\t\t\t\tvar top = this.getTopParentView();\r\n\t\t\t\tif (top && top.$$)\r\n\t\t\t\t\tview = top.$$(viewid);\r\n\t\t\t}\r\n\r\n\t\t\twebix.assert(view, \"Invalid relatedView: \"+viewid);\r\n\r\n\t\t\tif (mode == \"enable\"){\r\n\t\t\t\tif (value) view.enable(); else view.disable();\r\n\t\t\t} else {\r\n\t\t\t\tif (value) view.show(); else view.hide();\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn value;\r\n\t},\r\n\tvalidateEvent_setter:function(value){\r\n\t\tif (value == \"blur\")\r\n\t\t\tthis.attachEvent(\"onBlur\", this.validate);\r\n\r\n\t\tif (value == \"key\")\r\n\t\t\tthis.attachEvent(\"onTimedKeyPress\", this.validate);\r\n\r\n\t\treturn value;\r\n\t},\r\n\tvalidate:function(){\r\n\t\tvar rule = this._settings.validate;\r\n\t\tif (!rule && this._settings.required)\r\n\t\t\trule = webix.rules.isNotEmpty;\r\n\r\n\t\tvar form =this.getFormView();\r\n\t\tvar name = this._settings.name;\r\n\t\tvar value = this.getValue();\r\n\t\tvar data = {}; data[name] = value;\r\n\r\n\t\twebix.assert(form, \"Validation works only for fields in the form\");\r\n\t\twebix.assert(name, \"Validation works only for fields with name\");\r\n\r\n\t\tif (rule && !this.getFormView()._validate(rule, value, data, name))\r\n\t\t\treturn false;\r\n\t\treturn true;\r\n\t},\r\n\tbottomLabel_setter: function(value){\r\n\t\tif(!this._settings.bottomPadding)\r\n\t\t\tthis._settings.bottomPadding = 18;\r\n\t\treturn value;\r\n\t},\r\n\t_getInvalidText: function(){\r\n\t\tvar text = this._settings.invalidMessage;\r\n\t\tif(typeof text == \"function\"){\r\n\t\t\ttext.call(this);\r\n\t\t}\r\n\t\treturn text;\r\n\t},\r\n\tsetBottomText: function(text, height){\r\n\t\tvar config = this._settings;\r\n\t\tif (typeof text != \"undefined\"){\r\n\t\t\tif (config.bottomLabel == text) return;\r\n\t\t\tconfig.bottomLabel = text;\r\n\t\t}\r\n\r\n\t\tvar message = (config.invalid ? config.invalidMessage : \"\" ) || config.bottomLabel;\r\n\t\tif (!message && !config.bottomPadding)\r\n\t\t\tconfig.inputHeight = 0;\r\n\t\tif (message && !config.bottomPadding){\r\n\t\t\tthis._restorePadding = 1;\r\n\t\t\tconfig.bottomPadding = config.bottomPadding || height || 18;\t\r\n\t\t\t//textarea\r\n\t\t\tif (!config.height)\r\n\t\t\t\tthis.render();\r\n\t\t\tthis.resize();\r\n\t\t} else if (!message && this._restorePadding){\r\n\t\t\tconfig.bottomPadding = this._restorePadding = 0;\r\n\t\t\t//textarea\r\n\t\t\tif (!config.height)\r\n\t\t\t\tthis.render();\r\n\t\t\tthis.resize();\r\n\t\t} else\r\n\t\t\tthis.render();\r\n\t},\r\n\t$getSize: function(){\r\n\t\tvar sizes = webix.ui.view.prototype.$getSize.apply(this,arguments);\r\n\t\tvar heightInc = this.config.bottomPadding;\r\n\t\tif(heightInc){\r\n\t\t\tsizes[2] += heightInc;\r\n\t\t\tsizes[3] += heightInc;\r\n\t\t}\r\n\t\treturn sizes;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tvar config = this._settings;\r\n\r\n\t\tif(webix.ui.view.prototype.$setSize.call(this,x,y)){\r\n\t\t\tif (!x || !y) return;\r\n\r\n\t\t\tif (config.labelPosition == \"top\"){\r\n\t\t\t\t// textarea\r\n\t\t\t\tif (!config.inputHeight)\r\n\t\t\t\t\tthis._inputHeight = this._content_height - this._labelTopHeight - (this.config.bottomPadding||0);\r\n\t\t\t\tconfig.labelWidth = 0;\r\n\t\t\t} else if (config.bottomPadding){\r\n\t\t\t\tconfig.inputHeight = this._content_height - this.config.bottomPadding;\r\n\t\t\t}\r\n\t\t\tthis.render();\r\n\t\t}\r\n\t},\r\n\t_get_input_width: function(config){\r\n\t\tvar width = (this._input_width||0)-(config.label?this._settings.labelWidth:0)- \t4 - (config.iconWidth || 0);\r\n\r\n\t\t//prevent js error in IE\r\n\t\treturn (width < 0)?0:width;\r\n\t},\r\n\t_render_div_block:function(obj, common){\r\n\t\tvar id = \"x\"+webix.uid();\r\n\t\tvar width = common._get_input_width(obj);\r\n\t\tvar inputAlign = obj.inputAlign || \"left\";\r\n\t\tvar icon = this.$renderIcon?this.$renderIcon(obj):\"\";\r\n\t\tvar height = this._settings.aheight - 2*webix.skin.$active.inputPadding -2;\r\n\t\tvar text = (obj.text||obj.value||this._get_div_placeholder(obj));\r\n\t\tvar html = \"<div class='webix_inp_static' role='combobox' aria-label='\"+obj.label+\"' tabindex='0'\"+(obj.readonly?\" aria-readonly='true'\":\"\")+(obj.invalid?\"aria-invalid='true'\":\"\")+\" onclick='' style='line-height:\"+height+\"px;width: \" + width + \"px; text-align: \" + inputAlign + \";' >\"+ text +\"</div>\";\r\n\t\treturn common.$renderInput(obj, html, id);\r\n\t},\r\n\t_baseInputHTML:function(tag){\r\n\t\tvar html = \"<\"+tag+(this._settings.placeholder?\" placeholder='\"+this._settings.placeholder+\"' \":\" \");\r\n\t\tif (this._settings.readonly)\r\n\t\t\thtml += \"readonly='true' aria-readonly=''\";\r\n\t\tif(this._settings.required)\r\n\t\t\thtml += \"aria-required='true'\";\r\n\t\tif(this._settings.invalid)\r\n\t\t\thtml += \"aria-invalid='true'\";\r\n\r\n\t\tvar attrs = this._settings.attributes;\r\n\t\tif (attrs)\r\n\t\t\tfor(var prop in attrs)\r\n\t\t\t\thtml += prop+\"='\"+attrs[prop]+\"' \";\r\n\t\treturn html;\r\n\t},\r\n\t$renderLabel: function(config, id){\r\n\t\tvar labelAlign = (config.labelAlign||\"left\");\r\n\t\tvar top = this._settings.labelPosition == \"top\";\r\n\t\tvar labelTop =  top?\"display:block;\":(\"width: \" + this._settings.labelWidth + \"px;\");\r\n\t\tvar label = \"\";\r\n\t\tvar labelHeight = top?this._labelTopHeight-2:( this._settings.aheight - 2*this._settings.inputPadding);\r\n\t\tif (config.label)\r\n\t\t\tlabel = \"<label style='\"+labelTop+\"text-align: \" + labelAlign + \";line-height:\"+labelHeight+\"px;' onclick='' for='\"+id+\"' class='webix_inp_\"+(top?\"top_\":\"\")+\"label \"+(config.required?\"webix_required\":\"\")+\"'>\" + (config.label||\"\") + \"</label>\";\r\n\t\treturn label;\r\n\t},\r\n\t$renderInput: function(config, div_start, id) {\r\n\t\tvar inputAlign = (config.inputAlign||\"left\");\r\n\t\tvar top = (config.labelPosition == \"top\");\r\n\t\tvar inputWidth = this._get_input_width(config);\r\n\r\n\t\tid = id||webix.uid();\r\n\r\n\t\tvar label = this.$renderLabel(config,id);\r\n\r\n\t\tvar html = \"\";\r\n\t\tif(div_start){\r\n\t\t\thtml += div_start;\r\n\t\t} else {\r\n\t\t\thtml += this._baseInputHTML(\"input\")+\"id='\" + id + \"' type='\"+(config.type||this.name)+\"'\"+(config.editable?\" role='combobox'\":\"\")+\" value='\" + webix.template.escape(config.text || this._pattern(config.value)||\"\") + \"' style='width: \" + inputWidth + \"px; text-align: \" + inputAlign + \";'\";\r\n\t\t\tvar attrs = config.attributes;\r\n\t\t\tif (attrs)\r\n\t\t\t\tfor(var prop in attrs)\r\n\t\t\t\t\thtml += \" \"+prop+\"='\"+attrs[prop]+\"'\";\r\n\t\t\thtml += \" />\";\r\n\t\t}\r\n\t\tvar icon = this.$renderIcon?this.$renderIcon(config):\"\";\r\n\t\thtml += icon;\r\n\r\n\t\tvar result = \"\";\r\n\t\t//label position, top or left\r\n\t\tif (top)\r\n\t\t\tresult = label+\"<div class='webix_el_box' style='width:\"+config.awidth+\"px; height:\"+config.aheight+\"px'>\"+html+\"</div>\";\r\n\t\telse\r\n\t\t\tresult = \"<div class='webix_el_box' style='width:\"+config.awidth+\"px; height:\"+config.aheight+\"px'>\"+label+html+\"</div>\";\r\n\r\n\r\n\t\t//bottom message width\r\n\t\tvar padding = config.awidth-inputWidth-webix.skin.$active.inputPadding*2;\r\n\t\t//bottom message text\r\n\t\tvar message = (config.invalid ? config.invalidMessage : \"\") || config.bottomLabel;\r\n\t\tif (message)\r\n\t\t\tresult +=  \"<div class='webix_inp_bottom_label'\"+(config.invalid?\"role='alert' aria-relevant='all'\":\"\")+\" style='width:\"+(inputWidth||config.awidth)+\"px;margin-left:\"+Math.max(padding,webix.skin.$active.inputPadding)+\"px;'>\"+message+\"</div>\";\r\n\r\n\t\treturn result;\r\n\t},\r\n\tdefaults:{\r\n\t\ttemplate:function(obj, common){\r\n\t\t\treturn common.$renderInput(obj);\r\n\t\t},\r\n\t\tlabel:\"\",\r\n\t\tlabelWidth:80\r\n\t},\r\n\ttype_setter:function(value){ return value; },\r\n\t_set_inner_size:false,\r\n\t$setValue:function(value){\r\n\t\tthis.getInputNode().value = this._pattern(value);\r\n\t},\r\n\t$getValue:function(){\r\n\t\treturn this._pattern(this.getInputNode().value, false);\r\n\t},\r\n\tsuggest_setter:function(value){\r\n\t\tif (value){\r\n\t\t\twebix.assert(value !== true, \"suggest options can't be set as true, data need to be provided instead\");\r\n\r\n\t\t\tif (typeof value == \"string\"){\r\n\t\t\t\tvar attempt = webix.$$(value);\r\n\t\t\t\tif (attempt) \r\n\t\t\t\t\treturn webix.$$(value)._settings.id;\r\n\r\n\t\t\t\tvalue = { body: { url:value , dataFeed :value } };\r\n\t\t\t} else if (webix.isArray(value))\r\n\t\t\t\tvalue = { body: { data: this._check_options(value) } };\r\n\t\t\telse if (!value.body)\r\n\t\t\t\tvalue.body = {};\r\n\r\n\t\t\twebix.extend(value, { view:\"suggest\" });\r\n\r\n\t\t\tvar view = webix.ui(value);\r\n\t\t\tthis._destroy_with_me.push(view);\r\n\t\t\treturn view._settings.id;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}, webix.ui.button);\r\n\r\nwebix.protoUI({\r\n\tname:\"segmented\",\r\n\t_allowsClear:false,\r\n\t$init:function(){\r\n\t\tthis.attachEvent(\"onChange\", function(value){\r\n\t\t\tif (this._settings.multiview){\r\n\t\t\t\tvar top = this.getTopParentView();\r\n\t\t\t\tvar view = null;\r\n\r\n\t\t\t\t//get from local isolate\r\n\t\t\t\tif (top && top.$$)\r\n\t\t\t\t\tview = top.$$(value);\r\n\t\t\t\t//or check globally\r\n\t\t\t\tif (!view)\r\n\t\t\t\t\tview = webix.$$(value);\r\n\r\n\t\t\t\tif(view && view.show)\r\n\t\t\t\t\tview.show();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t},\r\n\tdefaults:{\r\n\t\ttemplate:function(obj, common){\r\n\t\t\tif(!obj.options)\r\n\t\t\t\twebix.assert(false, \"segmented: options undefined\");\r\n\t\t\tvar options = obj.options;\r\n\t\t\tcommon._check_options(options);\r\n\t\t\toptions = common._filterOptions(options);\r\n\r\n\t\t\tvar width = common._get_input_width(obj);\r\n\r\n\t\t\tvar id = webix.uid();\r\n\t\t\tvar html = \"<div style='width:\"+width+\"px' class='webix_all_segments' role='tablist' aria-label='\"+obj.label+\"'>\";\r\n\t\t\tvar optionWidth = obj.optionWidth || Math.floor(width/options.length);\r\n\t\t\tif(!obj.value)\r\n\t\t\t\tobj.value = options[0].id;\r\n\r\n\t\t\tfor(var i=0; i<options.length; i++){\r\n\t\t\t\thtml+=\"<button type='button' style='width:\"+(options[i].width || optionWidth)+\"px' role='tab' aria-selected='\"+(obj.value==options[i].id?\"true\":\"false\")+\"' tabindex='\"+(obj.value==options[i].id?\"0\":\"-1\")+\"'\";\r\n\t\t\t\thtml+=\"class='\"+\"webix_segment_\"+((i==options.length-1)?\"N\":(i>0?1:0))+((obj.value==options[i].id)?\" webix_selected \":\"\")+\"' button_id='\"+options[i].id+\"' >\";\r\n\t\t\t\thtml+= options[i].value+\"</button>\";\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn common.$renderInput(obj, html+\"</div>\", id);\r\n\t\t}\r\n\t},\r\n\t_getInputNode:function(){\r\n\t\treturn this.$view.getElementsByTagName(\"BUTTON\");\r\n\t},\r\n\tfocus: function(){ this._focus(); },\r\n\tblur: function(){ this._blur(); },\r\n\t$setValue:function(value){\r\n\r\n\t\tvar options = this._getInputNode();\r\n\r\n\t\tfor(var i=0; i<options.length; i++){\r\n\t\t\tvar id = options[i].getAttribute(\"button_id\");\r\n\t\t\toptions[i].setAttribute(\"aria-selected\", (value==id?\"true\":\"false\"));\r\n\t\t\toptions[i].setAttribute(\"tabindex\", (value==id?\"0\":\"-1\"));\r\n\t\t\tif(value===id)\r\n\t\t\t\twebix.html.addCss(options[i], \"webix_selected\");\r\n\t\t\telse\r\n\t\t\t\twebix.html.removeCss(options[i], \"webix_selected\");\r\n\t\t}\r\n\t},\r\n\tgetValue:function(){\r\n\t\treturn this._settings.value;\r\n\t},\r\n\tgetInputNode:function(){\r\n\t\treturn null;\r\n\t},\r\n\toptionIndex:function(id){\r\n\t\tvar pages = this._settings.options;\r\n\t\tfor (var i=0; i<pages.length; i++)\r\n\t\t\tif (pages[i].id == id)\r\n\t\t\t\treturn i;\r\n\t\treturn -1;\r\n\t},\r\n\taddOption:function(id, value, show, index){\r\n\t\tvar obj = id;\r\n\t\tif (typeof id != \"object\"){\r\n\t\t\tvalue = value || id;\r\n\t\t\tobj = { id:id, value:value };\r\n\t\t} else {\r\n\t\t\tid = obj.id;\r\n\t\t\tindex = show;\r\n\t\t\tshow = value;\r\n\t\t}\r\n\r\n\t\tif (this.optionIndex(id) < 0)\r\n\t\t\twebix.PowerArray.insertAt.call(this._settings.options, obj, index);\r\n\r\n\t\tif (show)\r\n\t\t\tthis.setValue(id);\r\n\t},\r\n\tremoveOption:function(id, value){\r\n\t\tvar index = this.optionIndex(id);\r\n\t\tvar options = this._settings.options;\r\n\r\n\t\tif (index >= 0)\r\n\t\t\twebix.PowerArray.removeAt.call(options, index);\r\n\r\n\t\t// if we remove a selected option\r\n\t\tif(this._settings.value == id)\r\n\t\t\tthis._setNextVisible(options, index);\r\n\t\t\t\r\n        this.callEvent(\"onOptionRemove\", [id, this._settings.value]);\r\n\t\tthis.refresh();\r\n\r\n\t},\r\n\t_setNextVisible: function(options, index){\r\n\t\tvar size = options.length;\r\n\r\n\t\tif(size){\r\n\t\t\tindex = Math.min(index, size-1);\r\n\t\t\t//forward search\r\n\t\t\tfor (var i=index; i<size; i++)\r\n\t\t\t\tif (!options[i].hidden)\r\n\t\t\t\t\treturn this.setValue(options[i].id);\r\n\t\t\t//backward search\r\n\t\t\tfor (var i=index; i>=0; i--)\r\n\t\t\t\tif (!options[i].hidden)\r\n\t\t\t\t\treturn this.setValue(options[i].id);\r\n\t\t}\r\n\t\t\r\n\t\t//nothing found\t\t\r\n\t\tthis.setValue(\"\");\r\n\t},\r\n\t_filterOptions: function(options){\r\n\t\tvar copy = [];\r\n\t\tfor(var i=0; i<options.length;i++)\r\n\t\t\tif(!options[i].hidden)\r\n\t\t\t\tcopy.push(options[i]);\r\n\t\treturn copy;\r\n\t},\r\n\t_setOptionVisibility: function(id, state){\r\n\t\tvar options = this._settings.options;\r\n\t\tvar index = this.optionIndex(id);\r\n\t\tvar option = options[index];\r\n\t\tif (option && state == !!option.hidden){  //new state differs from previous one\r\n\t\t\toption.hidden = !state;\r\n\t\t\tif (state || this._settings.value != id){ \t//show item, no need for extra steps\r\n\t\t\t\tthis.refresh();\r\n\t\t\t} else {\t\t\t\t\t\t\t\t\t//hide item, switch to next visible one\r\n\t\t\t\tthis._setNextVisible(options, index);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\thideOption: function(id){\r\n\t\tthis._setOptionVisibility(id,false);\r\n\t},\r\n\tshowOption: function(id){\r\n\t\tthis._setOptionVisibility(id,true);\r\n\t},\r\n\t_set_inner_size:false\r\n}, webix.HTMLOptions, webix.ui.text);\r\n\r\nwebix.protoUI({\r\n\tname:\"search\",\r\n\t$skin:function(){\r\n\t\tthis.defaults.inputPadding = webix.skin.$active.inputPadding;\r\n\t},\r\n\ton_click:{\r\n\t\t\"webix_input_icon\":function(e){\r\n\t\t\treturn this.callEvent(\"onSearchIconClick\", [e]);\r\n\t\t}\r\n\t},\r\n\tdefaults:{\r\n\t\ttype:\"text\",\r\n\t\ticon:\"search\"\r\n\t}\r\n}, webix.ui.text);\r\n\r\nwebix.protoUI({\r\n\tname:\"toggle\",\r\n\t_allowsClear:true,\r\n\t$init:function(){\r\n\t\tthis.attachEvent(\"onItemClick\", function(){\r\n\t\t\tthis.toggle();\r\n\t\t});\r\n\t},\r\n\t$setValue:function(value){\r\n\t\tvar input = this.getInputNode();\r\n\t\tvar obj = this._settings;\r\n\r\n\t\tinput.setAttribute(\"aria-pressed\", value?\"true\":false);\r\n\t\tinput.lastChild.nodeValue = \" \"+((value ? obj.onLabel : obj.offLabel) || obj.label);\r\n\r\n\t\t//icon or image button\r\n\t\tif(input.firstChild.nodeName ===\"SPAN\" && obj.onIcon && obj.offIcon && obj.onIcon !==obj.offIcon)\r\n\t\t\tinput.firstChild.className = input.firstChild.className.replace((value?obj.offIcon:obj.onIcon),  (value?obj.onIcon:obj.offIcon));\r\n\t\t\r\n\t\tvar parent = input.parentNode;\r\n\t\tif(value)\r\n\t\t\twebix.html.addCss(parent, \"webix_pressed\");\r\n\t\telse\r\n\t\t\twebix.html.removeCss(parent, \"webix_pressed\");\r\n\t},\r\n\ttoggle:function(){\r\n\t\tthis.setValue(!this.getValue());\r\n\t},\r\n\tgetValue:function(){\r\n\t\tvar value = this._settings.value;\r\n\t\treturn  (!value||value==\"0\")?0:1;\r\n\t},\r\n\tdefaults:{\r\n\t\ttemplate:function(obj, common){\r\n\t\t\tvar css = obj.value ? \" webix_pressed\" : \"\";\r\n\t\t\tobj.label = (obj.value ? obj.onLabel : obj.offLabel) || obj.label;\r\n\t\t\tobj.icon = (obj.value ? obj.onIcon : obj.offIcon) || obj.icon;\r\n\t\t\tvar html =  \"<div class='webix_el_box\"+css+\"' style='width:\"+obj.awidth+\"px; height:\"+obj.aheight+\"px'>\"+common.$renderInput(obj, common)+\"</div>\";\r\n\t\t\thtml = html.replace(/(button)\\s*(?=\\w)/, \"$1\"+(\" aria-pressed='\"+(obj.value?\"true\":\"false\")+\"' \"));\r\n\t\t\treturn html;\r\n\t\t}\r\n\t},\r\n\t_set_inner_size:false\r\n}, webix.ui.button);\r\n\r\nwebix.protoUI({\r\n\tname:\"select\",\r\n\tdefaults:{\r\n\t\ttemplate:function(obj,common) {\r\n\t\t\tvar options = common._check_options(obj.options);\r\n\t\t\tvar id = \"x\"+webix.uid();\r\n\t\t\tvar html = common._baseInputHTML(\"select\")+\"id='\"+id+\"' style='width:\"+common._get_input_width(obj)+\"px;'>\";\r\n\r\n\t\t\tvar optview = webix.$$(options);\r\n            if(optview && optview.data && optview.data.each){\r\n                optview.data.each(function(option){\r\n                    html+=\"<option\"+((option.id == obj.value)?\" selected='true'\":\"\")+\" value='\"+option.id+\"'>\"+option.value+\"</option>\";\r\n                });\r\n            }else\r\n                for(var i=0; i<options.length; i++) {\r\n                    html+=\"<option\"+((options[i].id == obj.value)?\" selected='true'\":\"\")+\" value='\"+options[i].id+\"'>\"+options[i].value+\"</option>\";\r\n                }\r\n\t\t\thtml += \"</select>\";\r\n\t\t\treturn common.$renderInput(obj, html, id);\r\n\t\t}\r\n\t},\r\n    options_setter:function(value){\r\n        if(value){\r\n            if(typeof value ==\"string\"){\r\n                var collection = new webix.DataCollection({url:value});\r\n                collection.data.attachEvent(\"onStoreLoad\", webix.bind(this.refresh, this));\r\n                return collection;\r\n            }\r\n            else\r\n                return value;\r\n        }\r\n    },\r\n\t//get input element\r\n\tgetInputNode: function() {\r\n\t\treturn this._dataobj.getElementsByTagName('select')[0];\r\n\t}\r\n}, webix.ui.text);\r\n\r\nwebix.protoUI({\r\n\tname:\"textarea\",\r\n\t$skin:function(){},\r\n\tdefaults:{\r\n\t\ttemplate:function(obj, common){ \r\n\t\t\tvar name = obj.name || obj.id;\r\n\t\t\tvar id = \"x\"+webix.uid();\r\n\r\n\t\t\tvar html = common._baseInputHTML(\"textarea\")+\"style='width:\"+common._get_input_width(obj)+\"px;'\";\r\n\t\t\thtml +=\" id='\"+id+\"' name='\"+name+\"' class='webix_inp_textarea'>\"+common._pattern(obj.value||\"\")+\"</textarea>\";\r\n\r\n\t\t\treturn common.$renderInput(obj, html, id);\r\n\t\t},\r\n\t\theight:0,\r\n\t\tminHeight:60\r\n\t},\r\n\t_skipSubmit: true,\r\n\t$renderLabel: function(config, id){\r\n\t\tvar labelAlign = (config.labelAlign||\"left\");\r\n\t\tvar top = this._settings.labelPosition == \"top\";\r\n\t\tvar labelTop =  top?\"display:block;\":(\"width: \" + this._settings.labelWidth + \"px;\");\r\n\t\tvar label = \"\";\r\n\t\tvar labelHeight = top?this._labelTopHeight-2:( (webix.skin.$active.inputHeight||this._settings.aheight) - 2*this._settings.inputPadding);\r\n\t\tif (config.label)\r\n\t\t\tlabel = \"<label style='\"+labelTop+\"text-align: \" + labelAlign + \";' onclick='' for='\"+id+\"' class='webix_inp_\"+(top?\"top_\":\"\")+\"label \"+(config.required?\"webix_required\":\"\")+\"'>\" + (config.label||\"\") + \"</label>\";\r\n\t\treturn label;\r\n\t},\r\n\t//get input element\r\n\tgetInputNode: function() {\r\n\t\treturn this._dataobj.getElementsByTagName('textarea')[0];\r\n\t}\r\n}, webix.ui.text);\r\n\r\nwebix.protoUI({\r\n\tname:\"counter\",\r\n\tdefaults:{\r\n\t\ttemplate:function(config, common){\r\n\t\t\tvar value = (config.value||0);\r\n\r\n\t\t\tvar id = \"x\"+webix.uid();\r\n\t\t\tvar html = \"<div role='spinbutton' aria-label='\"+config.label+\"' aria-valuemin='\"+config.min+\"' aria-valuemax='\"+config.max+\"' aria-valuenow='\"+config.value+\"' class='webix_el_group' style='width:\"+common._get_input_width(config)+\"px'>\";\r\n\t\t\t\thtml +=  \"<button type='button' class='webix_inp_counter_prev' tabindex='-1' aria-label='\"+webix.i18n.aria.decreaseValue+\"'>-</button>\";\r\n\t\t\t\thtml += common._baseInputHTML(\"input\")+\" id='\"+id+\"' type='text' class='webix_inp_counter_value' aria-live='assertive'\"+\" value='\"+value+\"'></input>\";\r\n\t\t\t\thtml += \"<button type='button' class='webix_inp_counter_next' tabindex='-1' aria-label='\"+webix.i18n.aria.increaseValue+\"'>+</button></div>\";\r\n\t\t\treturn common.$renderInput(config, html, id);\r\n\t\t},\r\n\t\tmin:0,\r\n\t\tmax:Infinity,\r\n\t\tstep:1\r\n\t},\r\n\t$init:function(){\r\n\t\twebix.event(this.$view, \"keydown\", this._keyshift, {bind:this});\r\n\t},\r\n\t_keyshift:function(e){\r\n\t\tvar code = e.which || e.keyCode, c = this._settings, value = c.value || c.min;\r\n\r\n\t\tif(code>32 && code <41){\r\n\t\t\tif(code === 35) value = c.min;\r\n\t\t\telse if(code === 36) value = c.max === Infinity? 1000000 :c.max;\r\n\t\t\telse if(code === 33) this.next();\r\n\t\t\telse if(code === 34) this.prev();\r\n\t\t\telse value = value+(code === 37 || code ===40?-1:1);\r\n\t\t\t\r\n\t\t\tif(code>34 && value>=c.min && value <=c.max)\r\n\t\t\t\tthis.setValue(value);\r\n\t\t}\r\n\t},\r\n\t$setValue:function(value){\r\n\t\tthis.getInputNode().value = value;\r\n\t},\r\n\tgetInputNode:function(){\r\n\t\treturn this._dataobj.getElementsByTagName(\"input\")[0];\r\n\t},\r\n\tgetValue:function(obj){\r\n\t\treturn  webix.ui.button.prototype.getValue.apply(this,arguments)*1;\r\n\t},\r\n\tnext:function(step){\r\n\t\tstep = this._settings.step;\r\n\t\tthis.shift(step);\r\n\t},\r\n\tprev:function(step){\r\n\t\tstep = (-1)*this._settings.step;\r\n\t\tthis.shift(step);\r\n\t},\r\n\tshift:function(step){\r\n\t\tvar min = this._settings.min;\r\n\t\tvar max = this._settings.max;\r\n\r\n\t\tvar new_value = this.getValue() + step;\r\n\t\tif (new_value >= min && new_value <= max)\r\n\t\t\tthis.setValue(new_value);\r\n\t}\r\n}, webix.ui.text);\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"checkbox\",\r\n\tdefaults:{\r\n\t\tcheckValue:1,\r\n\t\tuncheckValue:0,\r\n\t\ttemplate:function(config, common) {\r\n\t\t\tvar id = \"x\"+webix.uid();\r\n\t\t\tvar rightlabel = \"\";\r\n\t\t\tif (config.labelRight){\r\n\t\t\t\trightlabel = \"<label class='webix_label_right'>\"+config.labelRight+\"</label>\";\r\n\t\t\t\t//user clearly attempts to hide the label, help him\r\n\t\t\t\tif (config.labelWidth)\r\n\t\t\t\t\tconfig.label = config.label || \"&nbsp;\";\r\n\t\t\t}\r\n\t\t\tvar checked = (config.checkValue == config.value);\r\n\t\t\tvar margin = Math.floor((common._settings.aheight-16)/2);\r\n\t\t\tvar ch = common._baseInputHTML(\"input\")+\"style='margin-top:\"+margin+\"px;\"+(config.customCheckbox?\"display:none\":\"\")+\"' id='\"+id+\"' type='checkbox' \"+(checked?\"checked='1'\":\"\")+(config.labelRight?\" aria-label='\"+config.labelRight+\"'\":\"\")+\"/>\";\r\n\t\t\tvar className = \"webix_inp_checkbox_border webix_el_group webix_checkbox_\"+(checked?\"1\":\"0\");\r\n\t\t\tvar customCheckbox = config.customCheckbox || \"\";\r\n\t\t\tif(customCheckbox){\r\n\t\t\t\tcustomCheckbox = customCheckbox.replace(/(aria-checked=')\\w*(?=')/, \"$1\"+(config.value == config.checkValue?\"true\":\"false\"));\r\n\t\t\t\tcustomCheckbox = customCheckbox.replace(/(aria-label=')\\w*(?=')/, \"$1\"+(config.labelRight || config.label));\r\n\t\t\t\tcustomCheckbox = customCheckbox.replace(/(aria-invalid=')\\w*(?=')/, \"$1\"+(config.invalid?\"true\":\"false\"));\r\n\t\t\t}\r\n\t\t\tvar html = \"<div style='line-height:\"+common._settings.cheight+\"px' class='\"+className+\"'>\"+ch+customCheckbox+rightlabel+\"</div>\";\r\n\t\t\treturn common.$renderInput(config, html, id);\r\n\t\t}\r\n\t},\r\n\tcustomCheckbox_setter: function(value){\r\n\t\tif( value === true && webix.skin.$active.customCheckbox){\r\n\t\t\tvalue = \"<a role='presentation' onclick='javascript:void(0)'><button role='checkbox' aria-checked='false' aria-label='' type='button' aria-invalid='' class='webix_custom_checkbox'></button></a>\";\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\tfocus: function(){\r\n\t\tvar input = this.$view.getElementsByTagName(this._settings.customCheckbox?\"button\":\"input\")[0];\r\n\t\tif(input)\r\n\t\t\tinput.focus();\r\n\t},\r\n\tblur: function(){\r\n\t\tvar input = this.$view.getElementsByTagName(this._settings.customCheckbox?\"button\":\"input\")[0];\r\n\t\tif(input)\r\n\t\t\tinput.blur();\r\n\t},\r\n\t_init_onchange: function(){},\r\n\t$setValue:function(value){\r\n\t\tvar isChecked = (value == this._settings.checkValue);\r\n\t\tvar parentNode = this.getInputNode()?this.getInputNode().parentNode:null;\r\n\r\n\t\tif(parentNode && this._settings.customCheckbox){\r\n\t\t\tvar button = parentNode.getElementsByTagName(\"BUTTON\");\r\n\t\t\tif(button[0]) button[0].setAttribute(\"aria-checked\", isChecked?\"true\":\"false\");\r\n\t\t}\r\n\t\tif(parentNode){\r\n\t\t\tparentNode.className = parentNode.className.replace(/(webix_checkbox_)\\d/,\"$1\"+(isChecked?1:0));\r\n\t\t}\r\n\t\tthis.getInputNode().checked = isChecked;\r\n\t},\r\n\ttoggle:function(){\r\n\t\tvar value = (this.getValue() != this._settings.checkValue)?this._settings.checkValue:this._settings.uncheckValue;\r\n\t\tthis.setValue(value);\r\n\t},\r\n\tgetValue:function(){\r\n\t\tvar value = this._settings.value;\r\n\t\treturn  (value == this._settings.checkValue)?this._settings.checkValue:this._settings.uncheckValue;\r\n\t},\r\n\t$skin:function(){\r\n\t\tif(webix.skin.$active.customCheckbox)\r\n\t\t\tthis.defaults.customCheckbox = true;\r\n\t}\r\n}, webix.ui.text);\r\n\r\nwebix.protoUI({\r\n\tname:\"radio\",\r\n\tdefaults:{\r\n\t\ttemplate: function(config,common) {\r\n\t\t\tvar options = common._check_options(config.options);\r\n\t\t\tvar html = [];\r\n\t\t\tvar id;\r\n\r\n\t\t\tfor (var i=0; i < options.length; i++) {\r\n\t\t\t\tvar eachid = \"x\"+webix.uid();\r\n\t\t\t\tid = id || eachid;\r\n\r\n\t\t\t\tif  (i && (options[i].newline || config.vertical))\r\n\t\t\t\t\thtml.push(\"<div class='webix_line_break'></div>\");\r\n\t\t\t\tvar isChecked = (options[i].id == config.value);\r\n\t\t\t\tvar label = options[i].value || \"\";\r\n\t\t\t\t\r\n\t\t\t\tvar customRadio = config.customRadio|| \"\";\r\n\t\t\t\tif(customRadio){\r\n\t\t\t\t\tvar optlabel = (i === 0 ? config.label+\" \" : \"\")+label;\r\n\t\t\t\t\tcustomRadio = customRadio.replace(/(aria-label=')\\w*(?=')/, \"$1\"+optlabel);\r\n\t\t\t\t\tcustomRadio = customRadio.replace(/(aria-checked=')\\w*(?=')/, \"$1\"+(isChecked?\"true\":\"false\"));\r\n\t\t\t\t\tcustomRadio = customRadio.replace(/(tabindex=')\\w*(?=')/, \"$1\"+(isChecked || (i === 0 && !config.value)?\"0\":\"-1\"));\r\n\t\t\t\t\tcustomRadio = customRadio.replace(/(aria-invalid=')\\w*(?=')/, \"$1\"+(config.invalid?\"true\":\"false\"));\r\n\t\t\t\t}\r\n\t\t\t\tvar rd = common._baseInputHTML(\"input\")+\" name='\"+config.name+\"' type='radio' \"+(isChecked?\"checked='1'\":\"\")+\"tabindex=\"+(isChecked || (i === 0 && !config.value)?\"0\":\"-1\")+\" value='\"+options[i].id+\"' id='\"+eachid+\"' style='\"+(customRadio?\"display:none\":\"\")+\"' />\";\r\n\t\t\t\tvar input = \"<div radio_id='\"+options[i].id+\"' class='webix_inp_radio_border webix_radio_\"+(isChecked?\"1\":\"0\")+\"' role='presentation'>\"+rd+customRadio+\"</div>\";\r\n\t\t\t\tif (label)\r\n\t\t\t\t\tlabel = \"<label for='\"+eachid+\"' class='webix_label_right'>\" + label + \"</label>\";\r\n\r\n\t\t\t\thtml.push(\"<div class='webix_radio_option' role='presentation'>\"+input + label+\"</div>\");\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\thtml = \"<div class='webix_el_group' role='radiogroup' style='margin-left:\"+(config.label?config.labelWidth:0)+\"px;'>\"+html.join(\"\")+\"</div>\";\r\n\t\t\t\r\n\t\t\treturn common.$renderInput(config, html, id);\r\n\t\t}\r\n\t},\r\n\trefresh:function(){\r\n\t\tthis.render();\r\n\t\tif (this._last_size && this.$getSize(0,0)[2] != this._last_size[1])\r\n\t\t\tthis.resize();\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tvar size = webix.ui.button.prototype.$getSize.call(this, dx, dy);\r\n\t\tif (this._settings.options){\r\n\t\t\tvar count = 0;\r\n\t\t\tfor (var i=0; i < this._settings.options.length; i++)\r\n\t\t\t\tif (this._settings.vertical || this._settings.options[i].newline)\r\n\t\t\t\t\tcount++;\r\n\t\t\tsize[3] = size[2] = Math.max(size[2], (this._settings.optionHeight||25) * count+this._settings.inputPadding*2);\r\n\t\t}\r\n\t\tvar heightInc = this.config.bottomPadding;\r\n\t\tif(heightInc){\r\n\t\t\tsize[2] += heightInc;\r\n\t\t\tsize[3] += heightInc;\r\n\t\t}\r\n\t\treturn size;\r\n\t},\r\n\t_getInputNode: function(){\r\n\t\treturn this._dataobj.getElementsByTagName('input');\r\n\t},\r\n\t$setValue:function(value){\r\n\t\tvar inp = this._getInputNode();\r\n\r\n\t\tfor (var i=0; i < inp.length; i++){\r\n\t\t\tif (inp[i].parentNode.getAttribute(\"radio_id\")==value){\r\n\t\t\t\tinp[i].className = \"webix_inp_radio_on\";\t\r\n\t\t\t\tinp[i].checked = true;\r\n\t\t\t\tinp[i].setAttribute(\"tabindex\",\"0\");\r\n\t\t\t} else{\r\n\t\t\t\tinp[i].className = \"webix_inp_radio_on webix_hidden\";\r\n\t\t\t\tinp[i].checked = false;\r\n\t\t\t\tinp[i].setAttribute(\"tabindex\",\"-1\");\r\n\t\t\t}\r\n\t\t\tvar parentNode = inp[i]?inp[i].parentNode:null;\r\n\r\n\t\t\tif(parentNode){\r\n\t\t\t\tparentNode.className = parentNode.className.replace(/(webix_radio_)\\d/,\"$1\"+(inp[i].checked?1:0));\r\n\t\t\t\tif(this._settings.customRadio){\r\n\t\t\t\t\tvar button = parentNode.getElementsByTagName(\"BUTTON\");\r\n\t\t\t\t\tif(button[0]){\r\n\t\t\t\t\t\tbutton[0].setAttribute(\"aria-checked\", inp[i].checked?\"true\":\"false\");\r\n\t\t\t\t\t\tbutton[0].setAttribute(\"tabindex\", inp[i].checked?\"0\":\"-1\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tgetValue:function(obj){\r\n\t\treturn this._settings.value;\r\n\t},\r\n\tfocus: function(){ this._focus(); },\r\n\tblur: function(){ this._blur(); },\r\n\tcustomRadio_setter: function(value){\r\n\t\tif(value === true && webix.skin.$active.customRadio)\r\n\t\t\tvalue = \"<a role='presentation' onclick='javascript:void(0)'><button type='button' class='webix_custom_radio' role='radio' aria-checked='false' aria-label='' aria-invalid='' tabindex=''></button></a>\";\r\n\t\treturn value;\r\n\t},\r\n\t$skin:function(){\r\n\t\tif(webix.skin.$active.customRadio)\r\n\t\t\tthis.defaults.customRadio = true;\r\n\t\tif(webix.skin.$active.optionHeight)\r\n\t\t\tthis.defaults.optionHeight = webix.skin.$active.optionHeight;\r\n\t}\r\n}, webix.HTMLOptions, webix.ui.text);\r\n\r\nwebix.protoUI({\r\n\tname:\"richselect\",\r\n\tdefaults:{\r\n\t\ttemplate:function(obj,common){\r\n\t\t\treturn common._render_div_block(obj, common);\r\n\t\t},\r\n\t\tpopupWidth:200,\r\n\t\ticon: \"angle-down\"\r\n\t},\r\n\tsuggest_setter:function(value){\r\n\t\treturn this.options_setter(value);\r\n\t},\r\n\toptions_setter:function(value){\r\n\t\tvalue = this._suggest_config ? this._suggest_config(value) : value;\r\n\t\tvar suggest = (this._settings.popup = this._settings.suggest = webix.ui.text.prototype.suggest_setter.call(this, value));\r\n\t\tvar list = webix.$$(suggest).getList();\r\n\t\tif (list)\r\n\t\t\tlist.attachEvent(\"onAfterLoad\", webix.bind(this._reset_value, this));\r\n\r\n\t\treturn suggest;\r\n\t},\r\n\tgetList: function(){\r\n\t\tvar suggest = webix.$$(this._settings.suggest);\r\n\t\twebix.assert(suggest, \"Input doesn't have a list\");\r\n\t\treturn suggest.getList();\r\n\t},\r\n\t_reset_value:function(){\r\n\t\tvar value = this._settings.value;\r\n\t\tif(!webix.isUndefined(value) && !this.getPopup().isVisible() && !this._settings.text)\r\n\t\t\tthis.$setValue(value);\r\n\t},\r\n\r\n\t$skin:function(){\r\n\t\tthis.defaults.inputPadding = webix.skin.$active.inputPadding;\r\n\t},\r\n\r\n\t$render:function(obj){\r\n\t\tif (webix.isUndefined(obj.value)) return;\r\n\t\tthis.$setValue(obj.value);\r\n\t},\r\n\tgetInputNode: function(){\r\n\t\treturn this._dataobj.getElementsByTagName(\"DIV\")[1];\r\n\t},\r\n\tgetPopup: function(){\r\n\t \treturn webix.$$(this._settings.popup);\r\n\t},\r\n\tgetText:function(){\r\n\t\tvar node = this.getInputNode();\r\n\t\treturn typeof node.value == \"undefined\" ? (this.getValue()?node.innerHTML:\"\") : node.value;\r\n\t},\r\n\t$setValue:function(value){\r\n\t\tif (!this._rendered_input) return;\r\n\r\n\t\tvar text = value;\r\n\t\tvar popup = this.getPopup();\r\n\r\n\t\tif (popup)\r\n\t\t\tvar text = this.getPopup().getItemText(value);\r\n\r\n\t\tif (!text && value && value.id){\r\n\t\t\tthis.getPopup().getList().add(value);\r\n\t\t\ttext = this.getPopup().getItemText(value.id);\r\n\t\t\tthis._settings.value = value.id;\r\n\t\t}\r\n\r\n\t\tvar node = this.getInputNode();\r\n\t\t\r\n\t\tif (webix.isUndefined(node.value))\r\n\t\t\tnode.innerHTML = text || this._get_div_placeholder();\r\n\t\telse \r\n\t\t\tnode.value = text = text.replace(/<[^>]*>/g,\"\");\r\n\r\n\t\tthis._settings.text = text;\r\n\t},\r\n\tgetValue:function(){\r\n\t\treturn this._settings.value||\"\";\r\n\t}\r\n}, webix.ui.text);\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"combo\",\r\n\t$init:function(){\r\n\t\tthis.attachEvent(\"onBlur\", webix.bind(function(e){\r\n\t\t\tif (this._settings.text == this.getText())\r\n\t\t\t\treturn;\r\n\r\n\t\t\tvar suggest =  this.getPopup(),\r\n\t\t\t\tvalue = suggest.getSuggestion();\r\n\r\n\t\t\tif (value && !(this.getInputNode().value===\"\" && suggest.getItemText(value)!==\"\")){\r\n\t\t\t\tthis.setValue(value);\r\n\t\t\t} else if(!this._settings.editable){\r\n\t\t\t\tvalue = this.getValue();\r\n\t\t\t\tthis.$setValue(webix.isUndefined(value)?\"\":value);\r\n\t\t\t}\r\n\r\n\t\t},this));\r\n\t},\r\n\tgetInputNode:function(){\r\n\t\treturn this._dataobj.getElementsByTagName('input')[0];\r\n\t},\r\n\t$render:function(obj){\r\n\t\tif (webix.isUndefined(obj.value)) return;\r\n\t\tthis.$setValue(obj.value);\r\n\t},\r\n\t_applyChanges:function(){\r\n\t\tvar input = this.getInputNode(),\r\n\t\t\tvalue = \"\",\r\n\t\t\tsuggest =  this.getPopup();\r\n\r\n\t\tif (input.value){\r\n\t\t\tvalue = this._settings.value;\r\n\t\t\tif(suggest.getItemText(value) != this.getText())\r\n\t\t\t\tvalue = suggest.getSuggestion()||value;\r\n\t\t}\r\n\t\tif (value != this._settings.value)\r\n\t\t\tthis.setValue(value, true);\r\n\t\telse\r\n\t\t\tthis.$setValue(value);\r\n\t},\r\n\tdefaults:{\r\n\t\ttemplate:function(config, common){\r\n\t\t\treturn common.$renderInput(config).replace(/(<input)\\s*(?=\\w)/, \"$1\"+\" role='combobox'\");\r\n\t\t},\r\n\t\ticon: \"angle-down\"\r\n\t}\r\n}, webix.ui.richselect);\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"datepicker\",\r\n\t$init:function(){\r\n\t\tthis.$ready.push(this._init_popup);\r\n\t},\r\n\tdefaults:{\r\n\t\ttemplate:function(obj, common){\r\n\t\t\tif(common._settings.type == \"time\"){\r\n\t\t\t\tcommon._settings.icon = common._settings.timeIcon;\r\n\t\t\t}\r\n\t\t\t//temporary remove obj.type [[DIRTY]]\r\n\t\t\tvar t = obj.type; obj.type = \"\";\r\n\t\t\tvar res = obj.editable?common.$renderInput(obj):common._render_div_block(obj, common);\r\n\t\t\tobj.type = t;\r\n\t\t\treturn res;\r\n\t\t},\r\n\t\tstringResult:false,\r\n\t\ttimepicker:false,\r\n\t\ticon:\"calendar\",\r\n\t\ticons: true,\r\n\t\ttimeIcon: \"clock-o\"\r\n\t},\r\n\t$skin:function(){\r\n\t\tthis.defaults.inputPadding = webix.skin.$active.inputPadding;\r\n\t},\r\n\tgetPopup: function(){\r\n\t \treturn webix.$$(this._settings.popup);\r\n\t},\r\n\t_init_popup:function(){ \r\n\t\tvar obj = this._settings;\r\n\t\tif (obj.suggest)\r\n\t\t\tobj.popup = obj.suggest;\r\n\t\telse if (!obj.popup){\r\n\t\t\tvar timepicker = this._settings.timepicker;\r\n\t\t\tobj.popup = obj.suggest = this.suggest_setter({\r\n\t\t\t\ttype:\"calendar\", height:240+(timepicker?30:0), width:250, padding:0,\r\n\t\t\t\tbody: { timepicker:timepicker, type: this._settings.type, icons: this._settings.icons }\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\tthis._init_once = function(){};\t\r\n\t},\r\n\t$render:function(obj){\r\n\t\tif (webix.isUndefined(obj.value)) return;\r\n\t\tthis.$setValue(obj.value);\r\n\t},\t\r\n\t_parse_value:function(value){\r\n\t\tvar type = this._settings.type;\r\n\t\tvar timeMode = type == \"time\";\r\n\r\n\t\t//setValue(\"1980-12-25\")\r\n\t\tif(!isNaN(parseFloat(value)))\r\n\t\t\tvalue = \"\"+value;\r\n\r\n\t\tif (typeof value==\"string\" && value){\r\n\t\t\tvar formatDate = null;\r\n\t\t\tif((type == \"month\" || type == \"year\") && this._formatDate){\r\n\t\t\t\tformatDate = this._formatDate;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tformatDate = (timeMode?webix.i18n.parseTimeFormatDate:webix.i18n.parseFormatDate);\r\n\t\t\tvalue = formatDate(value);\r\n\t\t}\r\n\r\n\t\tif (value){\r\n\t\t\t//time mode\r\n\t\t\tif(timeMode){\r\n\t\t\t\t//setValue([16,24])\r\n\t\t\t\tif(webix.isArray(value)){\r\n\t\t\t\t\tvar time = new Date();\r\n\t\t\t\t\ttime.setHours(value[0]);\r\n\t\t\t\t\ttime.setMinutes(value[1]);\r\n\t\t\t\t\tvalue = time;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//setValue(invalid date)\r\n\r\n\r\n\r\n\t\t\tif(isNaN(value.getTime()))\r\n\t\t\t\tvalue = \"\";\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t},\r\n\t_get_visible_date:function(value){\r\n\t\tvar timeMode = this._settings.type == \"time\";\r\n\t\tvar timepicker = this.config.timepicker;\r\n\t\tvar formatStr = this._formatStr||(timeMode?webix.i18n.timeFormatStr:(timepicker?webix.i18n.fullDateFormatStr:webix.i18n.dateFormatStr));\r\n\t\treturn formatStr(value);\r\n\t},\r\n\t_set_visible_text:function(){\r\n\t\tvar node = this.getInputNode();\r\n\t\tif(node.value == webix.undefined){\r\n\t\t\tnode.innerHTML = this._settings.text || this._get_div_placeholder();\r\n\t\t}\r\n\t\telse{\r\n\t\t\tnode.value = this._settings.text || \"\";\r\n\t\t}\r\n\t},\r\n\t$setValue:function(value){\r\n\t\tvar popup =  webix.$$(this._settings.popup.toString());\r\n\t\tvar calendar = popup._body_cell;\r\n\r\n\t\t//convert string or array to date\r\n\t\tvalue = this._parse_value(value);\r\n\t\t//select date in calendar-popup\r\n\t\tcalendar.selectDate(value,true);\r\n\r\n\t\t//save value\r\n\t\tthis._settings.value = (value)?calendar.config.date:\"\";\r\n\r\n\t\t//set visible date\r\n\t\tthis._settings.text = (value?this._get_visible_date(this._settings.value):\"\");\r\n\t\tthis._set_visible_text();\r\n\t},\r\n\tformat_setter:function(value){\r\n\t\tif(value){\r\n\t\t\tif (typeof value === \"function\")\r\n\t\t\t\tthis._formatStr = value;\r\n\t\t\telse {\r\n\t\t\t\tthis._formatStr = webix.Date.dateToStr(value);\r\n\t\t\t\tthis._formatDate = webix.Date.strToDate(value);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis._formatStr = this._formatDate = null;\r\n\t\treturn value;\r\n\t},\r\n\tgetInputNode: function(){\r\n\t\treturn this._settings.editable?this._dataobj.getElementsByTagName('input')[0]:this._dataobj.getElementsByTagName(\"DIV\")[1];\r\n\t},\r\n\tgetValue:function(){\r\n\t\tvar type = this._settings.type;\r\n\t\t//time mode\r\n\t\tvar timeMode = (type == \"time\");\r\n\t\t//date and time mode\r\n\t\tvar timepicker = this.config.timepicker;\r\n\r\n\t\tvar value = this._settings.value;\r\n\r\n\t\t//input was not rendered, we need to parse value from setValue method\r\n\t\tif (!this._rendered_input)\r\n\t\t\tvalue = this._parse_value(value) || null;\r\n\t\t//rendere and in edit mode\r\n\t\telse if (this._settings.editable){\r\n\t\t\tvar formatDate = this._formatDate||(timeMode?webix.i18n.timeFormatDate:(timepicker?webix.i18n.fullDateFormatDate:webix.i18n.dateFormatDate));\r\n\t\t\tvalue = formatDate(this.getInputNode().value);\r\n\t\t}\r\n\r\n\t\t//return string from getValue\r\n\t\tif(this._settings.stringResult){\r\n\t\t\tvar formatStr =webix.i18n.parseFormatStr;\r\n\t\t\tif(timeMode)\r\n\t\t\t\tformatStr = webix.i18n.parseTimeFormatStr;\r\n\t\t\tif(this._formatStr && (type == \"month\" || type == \"year\")){\r\n\t\t\t\tformatStr = this._formatStr;\r\n\t\t\t}\r\n\r\n\t\t\treturn (value?formatStr(value):\"\");\r\n\t\t}\r\n\t\t\r\n\t\treturn value||null;\r\n\t},\r\n\tgetText:function(){\r\n\t\tvar node = this.getInputNode();\r\n\t\treturn (node?(typeof node.value == \"undefined\" ? (this.getValue()?node.innerHTML:\"\") : node.value):\"\");\r\n\t}\r\n}, webix.ui.text);\r\n\r\nwebix.protoUI({\r\n\tname:\"colorpicker\",\r\n\t$init:function(){\r\n\t\tthis.$ready.push(this._init_popup);\r\n\t},\r\n\tdefaults:{\r\n\t\ticon:true\r\n\t},\r\n\t_init_popup:function(){ \r\n\t\tvar obj = this._settings;\r\n\t\tif (obj.suggest)\r\n\t\t\tobj.popup = obj.suggest;\r\n\t\telse if (!obj.popup)\r\n\t\t\tobj.popup = obj.suggest = this.suggest_setter({\r\n\t\t\t\ttype:\"colorboard\", height:200\r\n\t\t\t});\r\n\t\tthis._init_once = function(){};\t\r\n\t},\t\r\n\t$render:function(obj){\r\n\t\tif (webix.isUndefined(obj.value)) return;\r\n\t\tthis.$setValue(obj.value);\r\n\t},\r\n\tgetValue:function(){\r\n\t\tif (this._rendered_input && this._settings.editable)\r\n\t\t\treturn this.getInputNode().value;\r\n\t\telse \r\n\t\t\treturn this._settings.value;\r\n\t},\r\n\t_getColorNode: function(){\r\n\t\treturn this.$view.getElementsByTagName(\"DIV\")[this._settings.editable?1:2];\r\n\t},\r\n\t$setValue:function(value){\r\n\t\tvar popup =  webix.$$(this.config.popup.toString());\r\n\t\tvar colorboard = popup.getBody();\r\n\t\tcolorboard.setValue(value);\r\n\t\tthis.config.value = value;\r\n\t\tthis._getColorNode().style.backgroundColor = value;\r\n\t\tvar node = this.getInputNode();\r\n\t\tif(node.value == webix.undefined)\r\n\t\t\tnode.innerHTML = value;\r\n\t\telse\r\n\t\t\tnode.value = value;\r\n\t},\r\n\t$renderIcon:function(){\r\n\t\tvar config = this.config;\r\n\t\treturn '<div class=\"webix_input_icon\" style=\"background-color:'+config.value+';\"> </div>';\r\n\t}\r\n}, webix.ui.datepicker);\r\n\r\n\r\n/*\r\n\tRenders collection of items\r\n\tBehavior uses plain strategy which suits only for relative small datasets\r\n\t\r\n*/\r\n\r\n\r\nwebix.RenderStack={\r\n\t$init:function(){\r\n\t\twebix.assert(this.data,\"RenderStack :: Component doesn't have DataStore\");\r\n        webix.assert(webix.template,\"webix.template :: webix.template is not accessible\");\r\n\r\n\t\t//used for temporary HTML elements\r\n\t\t//automatically nulified during destruction\r\n\t\tthis._html = document.createElement(\"DIV\");\r\n\t\t\t\t\r\n\t\tthis.data.attachEvent(\"onIdChange\", webix.bind(this._render_change_id, this));\r\n\t\tthis.attachEvent(\"onItemClick\", this._call_onclick);\r\n\t\t\r\n\t\t//create copy of default type, and set it as active one\r\n\t\tif (!this.types){ \r\n\t\t\tthis.types = { \"default\" : this.type };\r\n\t\t\tthis.type.name = \"default\";\r\n\t\t}\r\n\r\n\t\tthis.type = webix.clone(this.type);\r\n\t},\r\n\t\r\n\tcustomize:function(obj){ \r\n\t\twebix.type(this,obj);\r\n\t},\r\n\ttype_setter:function(value){\r\n\t\tif(!this.types[value])\r\n\t\t\tthis.customize(value);\r\n\t\telse {\r\n\t\t\tthis.type = webix.clone(this.types[value]);\r\n\t\t\tif (this.type.css) \r\n\t\t\t\tthis._contentobj.className+=\" \"+this.type.css;\r\n\t\t}\r\n\t\tif (this.type.on_click)\r\n\t\t\twebix.extend(this.on_click, this.type.on_click);\r\n\r\n\t\treturn value;\r\n\t},\r\n\t\r\n\ttemplate_setter:function(value){\r\n\t\tthis.type.template=webix.template(value);\r\n\t},\r\n\t//convert single item to HTML text (templating)\r\n\t_toHTML:function(obj){\r\n\t\t\tvar mark = this.data._marks[obj.id];\r\n\t\t\t//check if related template exist\r\n\t\t\twebix.assert((!obj.$template || this.type[\"template\"+obj.$template]),\"RenderStack :: Unknown template: \"+obj.$template);\r\n\t\t\tthis.callEvent(\"onItemRender\",[obj]);\r\n\t\t\treturn this.type.templateStart(obj,this.type, mark)+(obj.$template?this.type[\"template\"+obj.$template]:this.type.template)(obj,this.type,mark)+this.type.templateEnd(obj, this.type,mark);\r\n\t},\r\n\t//convert item to HTML object (templating)\r\n\t_toHTMLObject:function(obj){\r\n\t\tthis._html.innerHTML = this._toHTML(obj);\r\n\t\treturn this._html.firstChild;\r\n\t},\r\n\t_render_change_id:function(old, newid){\r\n\t\tvar obj = this.getItemNode(old);\r\n\t\tif (obj) {\r\n\t\t\tobj.setAttribute(this._id, newid);\r\n\t\t\tthis._htmlmap[newid] = this._htmlmap[old];\r\n\t\t\tdelete this._htmlmap[old];\r\n\t\t}\r\n\t},\r\n\t//calls function that is set in onclick property\r\n\t_call_onclick:function(){\r\n\t\tif (this._settings.click){\r\n\t\t\tvar code = webix.toFunctor(this._settings.click, this.$scope);\r\n\t\t\tif (code && code.call) code.apply(this,arguments);\r\n\t\t}\r\n\t},\r\n\t//return html container by its ID\r\n\t//can return undefined if container doesn't exists\r\n\tgetItemNode:function(search_id){\r\n\t\tif (this._htmlmap)\r\n\t\t\treturn this._htmlmap[search_id];\r\n\t\t\t\r\n\t\t//fill map if it doesn't created yet\r\n\t\tthis._htmlmap={};\r\n\t\t\r\n\t\tvar t = this._dataobj.childNodes;\r\n\t\tfor (var i=0; i < t.length; i++){\r\n\t\t\tvar id = t[i].getAttribute(this._id); //get item's\r\n\t\t\tif (id)\r\n\t\t\t\tthis._htmlmap[id]=t[i];\r\n\t\t}\r\n\t\t//call locator again, when map is filled\r\n\t\treturn this.getItemNode(search_id);\r\n\t},\r\n\t//return id of item from html event\r\n\tlocate:function(e){ return webix.html.locate(e,this._id); },\r\n\t/*change scrolling state of top level container, so related item will be in visible part*/\r\n\tshowItem:function(id){\r\n\r\n\t\tvar html = this.getItemNode(id);\r\n\t\tif (html&&this.scrollTo){\r\n\t\t\tvar txmin = Math.abs(this._contentobj.offsetLeft-html.offsetLeft);\r\n\t\t\tvar txmax = txmin + html.offsetWidth;\r\n\t\t\tvar tymin = Math.abs(this._contentobj.offsetTop-html.offsetTop);\r\n\t\t\tvar tymax = tymin + html.offsetHeight;\r\n\t\t\tvar state = this.getScrollState();\r\n\r\n\t\t\tvar x = state.x;\r\n\t\t\tif (x > txmin || x + this._content_width < txmax )\r\n\t\t\t\tx = txmin;\r\n\t\t\tvar y = state.y;\r\n\t\t\tif (y > tymin || y + this._content_height < tymax )\r\n\t\t\t\ty = tymin - 5;\r\n\r\n\t\t\tthis.scrollTo(x,y);\r\n\t\t\tif(this._setItemActive)\r\n\t\t\t\tthis._setItemActive(id);\r\n\t\t}\r\n\t},\r\n\t//update view after data update\r\n\t//method calls low-level rendering for related items\r\n\t//when called without parameters - all view refreshed\r\n\trender:function(id,data,type){\r\n\t\tif (!this.isVisible(this._settings.id) || this.$blockRender)\r\n\t\t\treturn;\r\n\t\t\r\n\t\tif (webix.debug_render)\r\n\t\t\twebix.log(\"Render: \"+this.name+\"@\"+this._settings.id+\", mode:\"+(type||\"#\")+\", item:\"+(id||\"#\"));\r\n\t\t\t\r\n\t\tif (id){\r\n\t\t\tvar cont = this.getItemNode(id); //get html element of updated item\r\n\t\t\tswitch(type){\r\n\t\t\t\tcase \"paint\":\r\n\t\t\t\tcase \"update\":\r\n\t\t\t\t\t//in case of update - replace existing html with updated one\r\n\t\t\t\t\tif (!cont) return;\r\n\t\t\t\t\tvar t = this._htmlmap[id] = this._toHTMLObject(data);\r\n\t\t\t\t\twebix.html.insertBefore(t, cont); \r\n\t\t\t\t\twebix.html.remove(cont);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"delete\":\r\n\t\t\t\t\t//in case of delete - remove related html\r\n\t\t\t\t\tif (!cont) return;\r\n\t\t\t\t\twebix.html.remove(cont);\r\n\t\t\t\t\tdelete this._htmlmap[id];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"add\":\r\n\t\t\t\t\t//in case of add - put new html at necessary position\r\n\t\t\t\t\tvar t = this._htmlmap[id] = this._toHTMLObject(data);\r\n\t\t\t\t\twebix.html.insertBefore(t, this.getItemNode(this.data.getNextId(id)), this._dataobj);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"move\":\r\n\t\t\t\t\t//moving without repainting the item\r\n\t\t\t\t\twebix.html.insertBefore(this.getItemNode(id), this.getItemNode(this.data.getNextId(id)), this._dataobj);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\twebix.assert_error(\"Unknown render command: \"+type);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t//full reset\r\n\t\t\tif (this.callEvent(\"onBeforeRender\",[this.data])){\r\n\t\t\t\t/*if (this.getScrollState)\r\n\t\t\t\t\tvar scroll = this.getScrollState();*/\r\n\t\t\t\t\t\r\n\t\t\t\t//getRange - returns all elements\r\n\t\t\t\t(this._renderobj||this._dataobj).innerHTML = this.data.getRange().map(this._toHTML,this).join(\"\");\r\n\t\t\t\tthis._htmlmap = null; //clear map, it will be filled at first getItemNode\r\n\t\t\t\tthis.callEvent(\"onAfterRender\",[]);\r\n                var t = this._dataobj.offsetHeight;\r\n                \r\n\t\t\t\t/*if (this.getScrollState)\r\n\t\t\t\t\tthis.scrollTo(scroll.x, scroll.y);*/\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.ValidateData = {\r\n\t$init:function(){\r\n\t\tif(this._events)\r\n\t\t\tthis.attachEvent(\"onChange\",this.clearValidation);\r\n\t},\r\n\tclearValidation:function(){\r\n\t\tif(this.elements){\r\n\t\t\tfor(var id in this.elements){\r\n\t\t\t\tthis._clear_invalid(id);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tvalidate:function(mode, obj) {\r\n\t\twebix.assert(this.callEvent, \"using validate for eventless object\");\r\n\t\t\r\n\t\tthis.callEvent(\"onBeforeValidate\", []);\r\n\t\tvar failed = this._validate_details = {};\r\n\r\n\t\t//optimistic by default :) \r\n\t\tvar result =true;\r\n\t\tvar rules = this._settings.rules;\r\n\t\t\r\n\t\tvar isHidden = this.isVisible && !this.isVisible();\r\n\t\tvar validateHidden = mode && mode.hidden;\r\n\t\tvar validateDisabled = mode && mode.disabled;\r\n\r\n        //prevent validation of hidden elements\r\n\t\tvar elements = {}, hidden = {};\r\n        for(var i in this.elements){\r\n            var name = this.elements[i].config.name;\r\n            //we are ignoring hidden and disabled fields during validation\r\n            //if mode doesn not instruct us otherwise\r\n            //if form itself is hidden, we can't separate hidden fiels,\r\n            //so we will vaidate all fields\r\n            if((isHidden || this.elements[i].isVisible() || validateHidden) && (this.elements[i].isEnabled() || validateDisabled))\r\n\t\t\t\telements[name] = this.elements[i];\r\n            else{\r\n\t\t\t\thidden[name]=true;\r\n            }\r\n        }\r\n\r\n\r\n\t\tif (rules || elements)\r\n\t\t\tif(!obj && this.getValues)\r\n\t\t\t\tobj = this.getValues();\r\n\r\n\t\tif (rules){\r\n\t\t\t//complex rule, which may chcek all properties of object\r\n\t\t\tif (rules.$obj)\r\n\t\t\t\tresult = this._validate(rules.$obj, obj, obj, \"\") && result;\r\n\t\t\t\r\n\t\t\t//all - applied to all fields\r\n\t\t\tvar all = rules.$all;\r\n\t\t\tif (all)\r\n\t\t\t\tfor (var key in obj){\r\n                    if(hidden[key]) continue;\r\n\t\t\t\t\tvar subresult = this._validate(all, obj[key], obj, key);\r\n\t\t\t\t\tif (!subresult)\r\n\t\t\t\t\t\tfailed[key] = true;\r\n\t\t\t\t\tresult =  subresult && result;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t//per-field rules\r\n\t\t\tfor (var key in rules){\r\n                if(hidden[key]) continue;\r\n\t\t\t\tif (key.indexOf(\"$\")!==0 && !failed[key]){\r\n\t\t\t\t\twebix.assert(rules[key], \"Invalid rule for:\"+key);\r\n\t\t\t\t\tvar subresult = this._validate(rules[key], obj[key], obj, key);\r\n\t\t\t\t\tif (!subresult)\r\n\t\t\t\t\t\tfailed[key] = true;\r\n\t\t\t\t\tresult = subresult && result;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//check personal validation rules\r\n\t\tif (elements){\r\n\t\t\tfor (var key in elements){\r\n\t\t\t\tif (failed[key]) continue;\r\n\r\n\t\t\t\tvar subview = elements[key];\r\n\t\t\t\tif (subview.validate){\r\n\t\t\t\t\tvar subresult = subview.validate();\r\n\t\t\t\t\tresult = subresult && result;\r\n\t\t\t\t\tif (!subresult)\r\n\t\t\t\t\t\tfailed[key] = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar input = subview._settings;\r\n\t\t\t\t\tif (input){\t//ignore non webix inputs\r\n\t\t\t\t\t\tvar validator = input.validate;\r\n\t\t\t\t\t\tif (!validator && input.required)\r\n\t\t\t\t\t\t\tvalidator = webix.rules.isNotEmpty;\r\n\r\n\t\t\t\t\t\tif (validator){\r\n\t\t\t\t\t\t\tvar subresult = this._validate(validator, obj[key], obj, key);\r\n\t\t\t\t\t\t\tif (!subresult)\r\n\t\t\t\t\t\t\t\tfailed[key] = true;\r\n\t\t\t\t\t\t\tresult = subresult && result;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tthis.callEvent(\"onAfterValidation\", [result, this._validate_details]);\r\n\t\treturn result;\r\n\t},\r\n\t_validate:function(rule, data, obj, key){\r\n\t\tif (typeof rule == \"string\")\r\n\t\t\trule = webix.rules[rule];\r\n\t\tif (rule.call(this, data, obj, key)){\r\n\t\t\tif(this.callEvent(\"onValidationSuccess\",[key, obj]) && this._clear_invalid)\r\n\t\t\t\tthis._clear_invalid(key);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif(this.callEvent(\"onValidationError\",[key, obj]) && this._mark_invalid)\r\n\t\t\t\tthis._mark_invalid(key);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\n\r\nwebix.ValidateCollection = {\r\n\t_validate_init_once:function(){\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\",webix.bind(function(id, data, mode){\r\n\t\t\tif (id && (mode == \"add\" || mode == \"update\"))\r\n\t\t\t\tthis.validate(id);\r\n\t\t}, this));\r\n\t\tthis.data.attachEvent(\"onClearAll\",webix.bind(this.clearValidation, this));\r\n\r\n\t\tthis._validate_init_once = function(){};\r\n\t},\r\n\trules_setter:function(value){\r\n\t\tif (value){\r\n\t\t\tthis._validate_init_once();\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\tclearValidation:function(){\r\n\t\tthis.data.clearMark(\"webix_invalid\", true);\r\n\t},\r\n\tvalidate:function(id){\r\n\t\tvar result = true;\r\n\t\tif (!id)\r\n\t\t\tfor (var key in this.data.pull)\r\n\t\t\t\tvar result = this.validate(key) && result;\r\n\t\telse {\r\n\t\t\tthis._validate_details = {};\r\n\t\t\tvar obj = this.getItem(id);\r\n\t\t\tresult = webix.ValidateData.validate.call(this, null, obj);\r\n\t\t\tif (result){\r\n\t\t\t\tif (this.callEvent(\"onValidationSuccess\",[id, obj]))\r\n\t\t\t\t\tthis._clear_invalid(id);\r\n\t\t\t} else {\r\n\t\t\t\tif (this.callEvent(\"onValidationError\",[id, obj, this._validate_details]))\r\n\t\t\t\t\tthis._mark_invalid(id, this._validate_details);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\t_validate:function(rule, data, obj, key){\r\n\t\tif (typeof rule == \"string\")\r\n\t\t\trule = webix.rules[rule];\r\n\r\n\t\tvar res = rule.call(this, data, obj, key);\r\n\t\tif (!res){\r\n\t\t\tthis._validate_details[key] = true;\r\n\t\t}\r\n\t\treturn res;\r\n\t},\r\n\t_clear_invalid:function(id){\r\n\t\tthis.data.removeMark(id, \"webix_invalid\", true);\r\n\t},\r\n\t_mark_invalid:function(id, details){\r\n\t\tthis.data.addMark(id, \"webix_invalid\", true);\r\n\t}\r\n};\r\n\r\n\r\nwebix.rules = {\r\n\tisEmail: function(value){\r\n\t\treturn (/^[^@]+@[^@]+\\.[^@]+$/).test((value || \"\").toString());\r\n\t},\r\n\tisNumber: function(value){\r\n\t\treturn (parseFloat(value) == value);\r\n\t},\r\n\tisChecked: function(value){\r\n\t\treturn (!!value) || value === \"0\";\r\n\t},\r\n\tisNotEmpty: function(value){\r\n\t\treturn (value === 0 || value);\r\n\t}\r\n};\r\n/*Data collection mapping logic */\r\n\r\nwebix.MapCollection = {\r\n    $init:function(){\r\n        this.$ready.push(this._create_scheme_init);\r\n        this.attachEvent(\"onStructureUpdate\", this._create_scheme_init);\r\n    },\r\n    _create_scheme_init:function(order){\r\n        var order = this._scheme_init_order = [];\r\n        var config = this._settings;\r\n\r\n        if (config.columns)\r\n            this._build_data_map(config.columns);\r\n        if (this._settings.map)\r\n            this._process_field_map(config.map);\r\n\r\n        if (this._scheme_init_order.length){\r\n             try {\r\n            this.data._scheme_init = Function(\"obj\",order.join(\"\\n\"));\r\n            } catch(e){\r\n                webix.assert_error(\"Invalid data map:\"+order.join(\"\\n\"));\r\n            }\r\n        }\r\n    },\r\n    _process_field_map:function(set){\r\n        for (var key in set)\r\n            this._scheme_init_order.push(this._process_single_map(key, set[key]));\r\n    },\r\n    _process_single_map:function(id, map, extra){\r\n        var start = \"\";\r\n        var end = \"\";\r\n\r\n        if (map.indexOf(\"(date)\")===0){\r\n            start = \"webix.i18n.parseFormatDate(\"; end=\")\";\r\n            if (extra && !extra.format) extra.format = webix.i18n.dateFormatStr;\r\n            map = map.replace(\"(date)\",\"\");\r\n        } else if (map.indexOf(\"(number)\")===0){\r\n            start = \"(\"; end=\")*1\";\r\n            map = map.replace(\"(number)\",\"\");\r\n        }\r\n\r\n        if (map !== \"\"){\r\n            map=map.replace(/\\{obj\\.([^}]*)\\}/g,\"\\\"+(obj.$1||'')+\\\"\");\r\n            map=map.replace(/#([^#'\";, ]+)#/gi,\"\\\"+(obj.$1||'')+\\\"\");\r\n        } else\r\n            map = \"\\\"+(obj.\"+id+\"||'')+\\\"\";\r\n\r\n\r\n        return \"obj.\"+id+\" = \"+start+'\"'+map+'\"'+end+\";\";\r\n    },\r\n    _build_data_map:function(columns){ //for datatable\r\n        for (var i=0; i<columns.length; i++){\r\n            var map = columns[i].map;\r\n            var id = columns[i].id;\r\n            if (!id) {\r\n                id = columns[i].id = \"i\"+webix.uid();\r\n                if (!columns[i].header)\r\n                    columns[i].header = \"\";\r\n            }\r\n            if (map)\r\n                this._scheme_init_order.push(this._process_single_map(id, map, columns[i]));\r\n\r\n            this._map_options(columns[i]);\r\n        }\r\n    },\r\n    _map_options:function(element){\r\n        var options = element.options||element.collection;\r\n        if(options){\r\n            if (typeof options === \"string\"){\r\n                //id of some other view\r\n                var options_view = webix.$$(options);\r\n                //or url\r\n                if (!options_view){\r\n                    options_view = new webix.DataCollection({ url: options });\r\n                    this._destroy_with_me.push(options_view);\r\n                }\r\n                //if it was a view, special check for suggests\r\n                if (options_view.getBody) options_view = options_view.getBody();\r\n                this._bind_collection(options_view, element);\r\n            } else if (!options.loadNext){\r\n                if (options[0] && typeof options[0] == \"object\"){\r\n                    //[{ id:1, value:\"one\"}, ...]\r\n                    options = new webix.DataCollection({ data:options });\r\n                    this._bind_collection(options, element);\r\n                    this._destroy_with_me.push(options);\r\n                } else {\r\n                    //[\"one\", \"two\"]\r\n                    //or\r\n                    //{ 1: \"one\", 2: \"two\"}\r\n                    if (webix.isArray(options)){\r\n                        var data = {};\r\n                        for (var ij=0; ij<options.length; ij++) data[options[ij]] = options[ij];\r\n                        element.options = options = data;\r\n                    }\r\n                    element.template = element.template || this._collection_accesser(options, element.id, element.optionslist);\r\n                }\r\n            } else {\r\n                //data collection or view\r\n                this._bind_collection(options, element);\r\n            }\r\n        }\r\n    },\r\n    _bind_collection:function(options, element){\r\n        if (element){\r\n            delete element.options;\r\n            element.collection = options;\r\n            element.template = element.template || this._bind_accesser(options, element.id, element.optionslist);\r\n\t        var id = options.data.attachEvent(\"onStoreUpdated\", webix.bind(function(){\r\n\t\t        this.refresh();\r\n\t\t        this.refreshFilter(element.id);\r\n\t        }, this));\r\n            this.attachEvent(\"onDestruct\", function(){\r\n            \tif (!options.$destructed) options.data.detachEvent(id);\r\n            });\r\n        }\r\n    },\r\n    _collection_accesser:function(options, id, multi){\r\n        if (multi){\r\n            var separator = typeof multi==\"string\"?multi:\",\";\r\n            return function(obj, common){\r\n                var value = obj[id] || obj.value;\r\n                if (!value) return \"\";\r\n                var ids = value.split(separator);\r\n                for (var i = 0; i < ids.length; i++)\r\n                    ids[i] = options[ids[i]] || \"\";\r\n                \r\n                return ids.join(\", \");\r\n            };\r\n        } else {\r\n            return function(obj, common){\r\n                return options[obj[id]]||obj.value||\"\";\r\n            };\r\n        }\r\n    },\r\n    _bind_accesser:function(col, id, multi){\r\n        if (multi) {\r\n            var separator = typeof multi==\"string\"?multi:\",\";\r\n            return function(obj, common){\r\n                var value = obj[id] || obj.value;\r\n                if (!value) return \"\";\r\n\r\n                var ids = value.split(separator);\r\n                for (var i = 0; i < ids.length; i++){\r\n                    var data = col.data.pull[ids[i]];\r\n                    ids[i] = data ? (data.value  || \"\") : \"\";\r\n                }\r\n                \r\n                return ids.join(\", \");\r\n            };\r\n        } else {\r\n            return function(obj, common){\r\n                var prop = obj[id]||obj.value,\r\n                    data = col.data.pull[prop];\r\n                if (data && (data.value || data.value ===0))\r\n                    return data.value;\r\n                return \"\";\r\n            };\r\n        }\r\n    }\r\n};\r\n\r\n/*\r\n\tBehavior:DataLoader - load data in the component\r\n\t\r\n\t@export\r\n\t\tload\r\n\t\tparse\r\n*/\r\nwebix.DataLoader=webix.proto({\r\n\t$init:function(config){\r\n\t\t//prepare data store\r\n\t\tconfig = config || \"\";\r\n\t\t\r\n\t\t//list of all active ajax requests\r\n\t\tthis._ajax_queue = webix.toArray();\r\n\r\n\t\tthis.data = new webix.DataStore();\r\n\t\tthis.data.attachEvent(\"onClearAll\",webix.bind(this._call_onclearall,this));\r\n\t\tthis.data.attachEvent(\"onServerConfig\", webix.bind(this._call_on_config, this));\r\n\t\tthis.data.feed = this._feed;\r\n\t\tthis.data.owner = config.id;\r\n\t},\r\n\t_feed:function(from,count,callback){\r\n\t\t\t\t//allow only single request at same time\r\n\t\t\t\tif (this._load_count)\r\n\t\t\t\t\treturn (this._load_count=[from,count,callback]);\t//save last ignored request\r\n\t\t\t\telse\r\n\t\t\t\t\tthis._load_count=true;\r\n\t\t\t\tthis._feed_last = [from, count];\r\n\t\t\t\tthis._feed_common.call(this, from, count, callback);\r\n\t},\r\n\t_feed_common:function(from, count, callback, url, details){\r\n\t\tvar state = null,\r\n\t\t\turl = url || this.data.url;\r\n\r\n\t\tvar final_callback = [\r\n\t\t\t{ success: this._feed_callback, error: this._feed_callback },\r\n\t\t\tcallback\r\n\t\t];\r\n\r\n\t\tif (from<0) from = 0;\r\n\r\n\t\tif(!details)\r\n\t\t\tdetails = { start: from, count:count };\r\n\r\n\t\tif(this.count())\r\n\t\t\tdetails[\"continue\"] = \"true\";\r\n\r\n\t\tif (this.getState)\r\n\t\t\tstate = this.getState();\r\n\r\n\t\t// proxy\r\n\t\tif (url && typeof url != \"string\"){\r\n\t\t\tif (state){\r\n\t\t\t\tif (state.sort)\r\n\t\t\t\t\tdetails.sort = state.sort;\r\n\t\t\t\tif (state.filter)\r\n\t\t\t\t\tdetails.filter = state.filter;\r\n\t\t\t}\r\n\t\t\tthis.load(url, final_callback, details);\r\n\t\t} else { // GET\r\n\t\t\turl = url+((url.indexOf(\"?\")==-1)?\"?\":\"&\");\r\n\r\n\t\t\tvar params = [];\r\n\t\t\tfor(var d in details){\r\n\t\t\t\tparams.push(d+\"=\"+details[d]);\r\n\t\t\t}\r\n\t\t\tif (state){\r\n\t\t\t\tif (state.sort)\r\n\t\t\t\t\tparams.push(\"sort[\"+state.sort.id+\"]=\"+encodeURIComponent(state.sort.dir));\r\n\t\t\t\tif (state.filter)\r\n\t\t\t\t\tfor (var key in state.filter)\r\n\t\t\t\t\t\tparams.push(\"filter[\"+key+\"]=\"+encodeURIComponent(state.filter[key]));\r\n\t\t\t}\r\n\r\n\t\t\turl += params.join(\"&\");\r\n\r\n\t\t\tthis.load(url, final_callback);\r\n\t\t}\r\n\t},\r\n\t_feed_callback:function(){\r\n\t\t//after loading check if we have some ignored requests\r\n\t\tvar temp = this._load_count;\r\n\t\tvar last = this._feed_last;\r\n\t\tthis._load_count = false;\r\n\t\tif (typeof temp ==\"object\" && (temp[0]!=last[0] || temp[1]!=last[1]))\r\n\t\t\tthis.data.feed.apply(this, temp);\t//load last ignored request\r\n\t},\r\n\t//loads data from external URL\r\n\tload:function(url,call){\r\n\t\tvar url = webix.proxy.$parse(url);\r\n\t\tvar ajax = webix.AtomDataLoader.load.apply(this, arguments);\r\n\r\n\t\t//prepare data feed for dyn. loading\r\n\t\tif (!this.data.url)\r\n\t\t\tthis.data.url = url;\r\n\r\n\t\treturn ajax;\r\n\t},\r\n\t//load next set of data rows\r\n\tloadNext:function(count, start, callback, url, now){\r\n\t\tvar config = this._settings;\r\n\t\tif (config.datathrottle && !now){\r\n\t\t\tif (this._throttle_request)\r\n\t\t\t\twindow.clearTimeout(this._throttle_request);\r\n\t\t\tthis._throttle_request = webix.delay(function(){\r\n\t\t\t\tthis.loadNext(count, start, callback, url, true);\r\n\t\t\t},this, 0, config.datathrottle);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!start && start !== 0) start = this.count();\r\n\t\tif (!count)\r\n\t\t\tcount = config.datafetch || this.count();\r\n\r\n\t\tthis.data.url = this.data.url || url;\r\n\t\tif (this.callEvent(\"onDataRequest\", [start,count,callback,url]) && this.data.url)\r\n\t\t\tthis.data.feed.call(this, start, count, callback);\r\n\t},\r\n\t_maybe_loading_already:function(count, from){\r\n\t\tvar last = this._feed_last;\r\n\t\tif(this._load_count && last){\r\n\t\t\tif (last[0]<=from && (last[1]+last[0] >= count + from )) return true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\tremoveMissed_setter:function(value){\r\n\t\treturn (this.data._removeMissed = value);\r\n\t},\r\n\t//init of dataprocessor delayed after all settings processing\r\n\t//because it need to be the last in the event processing chain\r\n\t//to get valid validation state\r\n\t_init_dataprocessor:function(){\r\n\t\tvar url = this._settings.save;\r\n\r\n\t\tif (url === true)\r\n\t\t\turl = this._settings.save = this._settings.url;\r\n\r\n\t\tvar obj = { master: this };\r\n\t\t\r\n\t\tif (url && url.url)\r\n\t\t\twebix.extend(obj, url);\r\n\t\telse\r\n\t\t\tobj.url = url;\r\n\r\n\t\twebix.dp(obj);\r\n\t},\r\n\tsave_setter:function(value){\r\n\t\tif (value)\r\n\t\t\tthis.$ready.push(this._init_dataprocessor);\r\n\r\n\t\treturn value;\r\n\t},\r\n\tscheme_setter:function(value){\r\n\t\tthis.data.scheme(value);\r\n\t},\r\n\tdataFeed_setter:function(value){\r\n\t\tvalue = webix.proxy.$parse(value);\r\n\r\n\t\tthis.data.attachEvent(\"onBeforeFilter\", webix.bind(function(text, filtervalue){\r\n\t\t\t//complex filtering, can't be routed to dataFeed\r\n\t\t\tif (typeof text == \"function\") return true;\r\n\r\n\t\t\t//we have dataFeed and some text\r\n\t\t\tif (this._settings.dataFeed && (text || filtervalue)){\r\n\t\t\t\ttext = text || \"id\";\r\n\t\t\t\tif (filtervalue && typeof filtervalue == \"object\")\r\n\t\t\t\t\t\tfiltervalue = filtervalue.id;\r\n\r\n\t\t\t\tthis.clearAll();\r\n\t\t\t\tvar url = this._settings.dataFeed;\r\n\r\n\t\t\t\t//js data feed\r\n\t\t\t\tif (typeof url == \"function\"){\r\n\t\t\t\t\tvar filter = {};\r\n\t\t\t\t\tfilter[text] = filtervalue;\r\n\t\t\t\t\turl.call(this, filtervalue, filter);\r\n\t\t\t\t} else if (url.$proxy) {\r\n\t\t\t\t\tif (url.load){\r\n\t\t\t\t\t\tvar filterobj = {}; filterobj[text] = filtervalue;\r\n\t\t\t\t\t\turl.load(this, {\r\n\t\t\t\t\t\t\tsuccess: this._onLoad,\r\n\t\t\t\t\t\t\terror: this._onLoadError\r\n\t\t\t\t\t\t}, { filter: filterobj });\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t//url data feed\r\n\t\t\t\t\tvar urldata = \"filter[\"+text+\"]=\"+encodeURIComponent(filtervalue);\r\n\t\t\t\t\tthis.load(url+(url.indexOf(\"?\")<0?\"?\":\"&\")+urldata, this._settings.datatype);\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},this));\r\n\t\treturn value;\r\n\t},\r\n\t_call_onready:function(){\r\n\t\tif (this._settings.ready && !this._ready_was_used){\r\n\t\t\tvar code = webix.toFunctor(this._settings.ready, this.$scope);\r\n\t\t\tif (code)\r\n\t\t\t\twebix.delay(code, this, arguments);\r\n\t\t\tif (this.callEvent)\r\n\t\t\t\twebix.delay(this.callEvent, this, [\"onReady\", []]);\r\n\t\t\tthis._ready_was_used = true;\r\n\t\t}\r\n\t},\r\n\t_call_onclearall:function(){\r\n\t\tfor (var i = 0; i < this._ajax_queue.length; i++){\r\n\t\t\tvar xhr = this._ajax_queue[i];\r\n\r\n\t\t\t//IE9 and IE8 deny extending of ActiveX wrappers\r\n\t\t\ttry { xhr.aborted = true; } catch(e){ \r\n\t\t\t\twebix._xhr_aborted.push(xhr);\r\n\t\t\t}\r\n\t\t\txhr.abort();\r\n\t\t}\r\n\r\n\t\tthis._ajax_queue = webix.toArray();\r\n\t\tthis.waitData = webix.promise.defer();\r\n\t},\r\n\t_call_on_config:function(config){\r\n\t\tthis._parseSeetingColl(config);\r\n\t}\r\n},webix.AtomDataLoader);\r\n\r\n//ie8 compatibility\r\nwebix._xhr_aborted = webix.toArray();\r\n\r\nwebix.DataMarks = {\r\n\taddCss:function(id, css, silent){\r\n\t\tif (!this.addRowCss && !silent){\r\n\t\t\tif (!this.hasCss(id, css)){\r\n\t\t\t\tvar node = this.getItemNode(id);\r\n\t\t\t\tif (node){\r\n\t\t\t\t\tnode.className += \" \"+css;\r\n\t\t\t\t\tsilent = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this.data.addMark(id, css, 1, 1, silent);\r\n\t},\r\n\tremoveCss:function(id, css, silent){\r\n\t\tif (!this.addRowCss && !silent){\r\n\t\t\tif (this.hasCss(id, css)){\r\n\t\t\t\tvar node = this.getItemNode(id);\r\n\t\t\t\tif (node){\r\n\t\t\t\t\tnode.className = node.className.replace(css,\"\").replace(\"  \",\" \");\r\n\t\t\t\t\tsilent = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this.data.removeMark(id, css, 1, silent);\r\n\t},\r\n\thasCss:function(id, mark){\r\n\t\treturn this.data.getMark(id, mark);\r\n\t},\r\n\tclearCss:function(css, silent){\r\n\t\treturn this.data.clearMark(css, 1, silent);\r\n\t}\r\n};\r\n\r\n/*\r\n\tDataStore is not a behavior, it standalone object, which represents collection of data.\r\n\tCall provideAPI to map data API\r\n\r\n\t@export\r\n\t\texists\r\n\t\tgetIdByIndex\r\n\t\tgetIndexById\r\n\t\tget\r\n\t\tset\r\n\t\trefresh\r\n\t\tcount\r\n\t\tsort\r\n\t\tfilter\r\n\t\tnext\r\n\t\tprevious\r\n\t\tclearAll\r\n\t\tfirst\r\n\t\tlast\r\n*/\r\nwebix.DataStore = function(){\r\n\tthis.name = \"DataStore\";\r\n\t\r\n\twebix.extend(this, webix.EventSystem);\r\n\r\n\tthis.setDriver(\"json\");\t//default data source is an\r\n\tthis.pull = {};\t\t\t\t\t\t//hash of IDs\r\n\tthis.order = webix.toArray();\t\t//order of IDs\r\n\tthis._marks = {};\r\n};\r\n\r\nwebix.DataStore.prototype={\r\n\t//defines type of used data driver\r\n\t//data driver is an abstraction other different data formats - xml, json, csv, etc.\r\n\tsetDriver:function(type){\r\n\t\twebix.assert(webix.DataDriver[type],\"incorrect DataDriver\");\r\n\t\tthis.driver = webix.DataDriver[type];\r\n\t},\r\n\t//process incoming raw data\r\n\t_parse:function(data,master){\r\n\t\tthis.callEvent(\"onParse\", [this.driver, data]);\r\n\r\n\t\tif (this._filter_order)\r\n\t\t\tthis.filter();\r\n\t\r\n\t\t//get size and position of data\r\n\t\tvar info = this.driver.getInfo(data);\r\n\r\n\t\t//generated by connectors only\r\n\t\tif (info.key)\r\n\t\t\twebix.securityKey = info.key;\r\n\r\n\t\tif (info.config)\r\n\t\t\tthis.callEvent(\"onServerConfig\",[info.config]);\r\n\r\n\t\tvar options = this.driver.getOptions(data);\r\n\t\tif (options)\r\n\t\t\tthis.callEvent(\"onServerOptions\", [options]);\r\n\r\n\t\t//get array of records\r\n\t\tvar recs = this.driver.getRecords(data);\r\n\r\n\t\tthis._inner_parse(info, recs);\r\n\r\n\t\t//in case of tree store we may want to group data\r\n\t\tif (this._scheme_group && this._group_processing && !this._not_grouped_order)\r\n\t\t\tthis._group_processing(this._scheme_group);\r\n\r\n\t\t//optional data sorting\r\n\t\tif (this._scheme_sort){\r\n\t\t\tthis.blockEvent();\r\n\t\t\tthis.sort(this._scheme_sort);\r\n\t\t\tthis.unblockEvent();\r\n\t\t}\r\n\r\n\t\tthis.callEvent(\"onStoreLoad\",[this.driver, data]);\r\n\t\t//repaint self after data loading\r\n\t\tthis.refresh();\r\n\t},\r\n\t_inner_parse:function(info, recs){\r\n\t\tvar from = (info.from||0)*1;\r\n\t\tvar subload = true;\r\n\t\tvar marks = false;\r\n\r\n\t\tif (from === 0 && this.order[0] && this.order[this.order.length-1]){ //update mode\r\n\t\t\tif (this._removeMissed){\r\n\t\t\t\t//update mode, create kill list\r\n\t\t\t\tmarks = {};\r\n\t\t\t\tfor (var i=0; i<this.order.length; i++)\r\n\t\t\t\t\tmarks[this.order[i]]=true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tsubload = false;\r\n\t\t\tfrom = this.order.length;\r\n\t\t}\r\n\r\n\t\tvar j=0;\r\n\t\tfor (var i=0; i<recs.length; i++){\r\n\t\t\t//get hash of details for each record\r\n\t\t\tvar temp = this.driver.getDetails(recs[i]);\r\n\t\t\tvar id = this.id(temp); \t//generate ID for the record\r\n\t\t\tif (!this.pull[id]){\t\t//if such ID already exists - update instead of insert\r\n\t\t\t\tthis.order[j+from]=id;\t\r\n\t\t\t\tj++;\r\n\t\t\t} else if (subload && this.order[j+from])\r\n\t\t\t\tj++;\r\n\r\n\t\t\tif(this.pull[id]){\r\n\t\t\t\twebix.extend(this.pull[id],temp,true);//add only new properties\r\n\t\t\t\tif (this._scheme_update)\r\n\t\t\t\t\tthis._scheme_update(this.pull[id]);\r\n\t\t\t\t//update mode, remove item from kill list\r\n\t\t\t\tif (marks)\r\n\t\t\t\t\tdelete marks[id];\r\n\t\t\t} else{\r\n\t\t\t\tthis.pull[id] = temp;\r\n\t\t\t\tif (this._scheme_init)\r\n\t\t\t\t\tthis._scheme_init(temp);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t//update mode, delete items which are not existing in the new xml\r\n\t\tif (marks){\r\n\t\t\tthis.blockEvent();\r\n\t\t\tfor (var delid in marks)\r\n\t\t\t\tthis.remove(delid);\r\n\t\t\tthis.unblockEvent();\r\n\t\t}\r\n\r\n\t\tif (!this.order[info.size-1])\r\n\t\t\tthis.order[info.size-1] = webix.undefined;\r\n\t},\r\n\t//generate id for data object\r\n\tid:function(data){\r\n\t\treturn data.id||(data.id=webix.uid());\r\n\t},\r\n\tchangeId:function(old, newid){\r\n\t\t//webix.assert(this.pull[old],\"Can't change id, for non existing item: \"+old);\r\n\t\tif(this.pull[old])\r\n\t\t\tthis.pull[newid] = this.pull[old];\r\n\t\t\r\n\t\tthis.pull[newid].id = newid;\r\n\t\tthis.order[this.order.find(old)]=newid;\r\n\t\tif (this._filter_order)\r\n\t\t\tthis._filter_order[this._filter_order.find(old)]=newid;\r\n\t\tif (this._marks[old]){\r\n\t\t\tthis._marks[newid] = this._marks[old];\r\n\t\t\tdelete this._marks[old];\r\n\t\t}\r\n\r\n\r\n\t\tthis.callEvent(\"onIdChange\", [old, newid]);\r\n\t\tif (this._render_change_id)\r\n\t\t\tthis._render_change_id(old, newid);\r\n\t\tdelete this.pull[old];\r\n\t},\r\n\t//get data from hash by id\r\n\tgetItem:function(id){\r\n\t\treturn this.pull[id];\r\n\t},\r\n\t//assigns data by id\r\n\tupdateItem:function(id, update){\r\n\t\tvar data = this.getItem(id);\r\n\t\twebix.assert(data, \"Ivalid ID for updateItem\");\r\n\t\twebix.assert(!update || !update.id || update.id == id, \"Attempt to change ID in updateItem\");\r\n\r\n\t\tif (!webix.isUndefined(update) && data !== update){\r\n\t\t\twebix.extend(data, update, true);\r\n\t\t\tdata.id = id;\r\n\t\t}\r\n\r\n\t\tif (this._scheme_update)\r\n\t\t\tthis._scheme_update(data);\r\n\r\n\t\tthis.callEvent(\"onStoreUpdated\",[id, data, \"update\"]);\r\n\t\tthis.callEvent(\"onDataUpdate\", [id, data]);\r\n\t},\r\n\t//sends repainting signal\r\n\trefresh:function(id){\r\n\t\tif (this._skip_refresh) return; \r\n\t\t\r\n\t\tif (id){\r\n\t\t\tif (this.exists(id))\r\n\t\t\t\tthis.callEvent(\"onStoreUpdated\",[id, this.pull[id], \"paint\"]);\r\n\t\t}else\r\n\t\t\tthis.callEvent(\"onStoreUpdated\",[null,null,null]);\r\n\t},\r\n\tsilent:function(code, master){\r\n\t\tthis._skip_refresh = true;\r\n\t\tcode.call(master||this);\r\n\t\tthis._skip_refresh = false;\r\n\t},\r\n\t//converts range IDs to array of all IDs between them\r\n\tgetRange:function(from,to){\t\t\r\n\t\t//if some point is not defined - use first or last id\r\n\t\t//BEWARE - do not use empty or null ID\r\n\t\tif (from)\r\n\t\t\tfrom = this.getIndexById(from);\r\n\t\telse \r\n\t\t\tfrom = (this.$min||this.startOffset)||0;\r\n\t\tif (to)\r\n\t\t\tto = this.getIndexById(to);\r\n\t\telse {\r\n\t\t\tto = this.$max === 0 ? 0 : Math.min((this.$max?this.$max-1:(this.endOffset||Infinity)),(this.count()-1));\r\n\t\t\tif (to<0) to = 0; //we have not data in the store\r\n\t\t}\r\n\r\n\t\tif (from>to){ //can be in case of backward shift-selection\r\n\t\t\tvar a=to; to=from; from=a;\r\n\t\t}\r\n\r\n\t\treturn this.getIndexRange(from,to);\r\n\t},\r\n\t//converts range of indexes to array of all IDs between them\r\n\tgetIndexRange:function(from,to){\r\n\t\tto=Math.min((to === 0 ? 0 :(to||Infinity)),this.count()-1);\r\n\t\t\r\n\t\tvar ret=webix.toArray(); //result of method is rich-array\r\n\t\tfor (var i=(from||0); i <= to; i++)\r\n\t\t\tret.push(this.getItem(this.order[i]));\r\n\t\treturn ret;\r\n\t},\r\n\t//returns total count of elements\r\n\tcount:function(){\r\n\t\treturn this.order.length;\r\n\t},\r\n\t//returns truy if item with such ID exists\r\n\texists:function(id){\r\n\t\treturn !!(this.pull[id]);\r\n\t},\r\n\t//nextmethod is not visible on component level, check DataMove.move\r\n\t//moves item from source index to the target index\r\n\tmove:function(sindex,tindex){\r\n\t\twebix.assert(sindex>=0 && tindex>=0, \"DataStore::move\",\"Incorrect indexes\");\r\n\t\tif (sindex == tindex) return;\r\n\r\n\t\tvar id = this.getIdByIndex(sindex);\r\n\t\tvar obj = this.getItem(id);\r\n\r\n\t\tif (this._filter_order)\r\n\t\t\tthis._move_inner(this._filter_order, 0, 0, this.getIdByIndex(sindex), this.getIdByIndex(tindex));\r\n\r\n\t\tthis._move_inner(this.order, sindex, tindex);\r\n\t\t\r\n\t\t\r\n\t\t//repaint signal\r\n\t\tthis.callEvent(\"onStoreUpdated\",[id,obj,\"move\"]);\r\n\t},\r\n\t_move_inner:function(col, sindex, tindex, sid, tid){\r\n\t\tif (sid||tid){\r\n\t\t\tsindex = tindex = -1;\r\n\t\t\tfor (var i=0; i<col.length; i++){\r\n\t\t\t\tif (col[i] == sid && sindex<0)\r\n\t\t\t\t\tsindex = i;\r\n\t\t\t\tif (col[i] == tid && tindex<0)\r\n\t\t\t\t\ttindex = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar id = col[sindex];\r\n\t\tcol.removeAt(sindex);\t//remove at old position\r\n\t\tcol.insertAt(id,Math.min(col.length, tindex));\t//insert at new position\r\n\t},\r\n\tscheme:function(config){\r\n\t\tthis._scheme = {};\r\n\t\tthis._scheme_save = config.$save;\r\n\t\tthis._scheme_init = config.$init||config.$change;\r\n\t\tthis._scheme_update = config.$update||config.$change;\r\n\t\tthis._scheme_serialize = config.$serialize;\r\n\t\tthis._scheme_group = config.$group;\r\n\t\tthis._scheme_sort = config.$sort;\r\n\r\n\t\t//ignore $-starting properties, as they have special meaning\r\n\t\tfor (var key in config)\r\n\t\t\tif (key.substr(0,1) != \"$\")\r\n\t\t\t\tthis._scheme[key] = config[key];\r\n\t},\r\n\timportData:function(target, silent){\r\n\t\tvar data = target ? (target.data || target) : [];\r\n\t\tthis._filter_order = null;\r\n\r\n\t\tif (typeof data.serialize == \"function\"){\r\n\t\t\tthis.order = webix.toArray([].concat(data.order));\r\n\t\t\tthis.pull = data.pull;\r\n\t\t\tif (data.branch && this.branch){\r\n\t\t\t\tthis.branch = webix.copy(data.branch);\r\n\t\t\t\tthis._filter_branch = null;\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tthis.order = webix.toArray();\r\n\t\t\tthis.pull = {};\r\n\t\t\tvar id, obj;\r\n\r\n\t\t\tif (webix.isArray(target))\r\n\t\t\t\tfor (var key=0; key<target.length; key++){\r\n\t\t\t\t\tobj = id = target[key];\r\n\t\t\t\t\tif (typeof obj == \"object\")\r\n\t\t\t\t\t\tid  = obj.id || webix.uid();\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tobj = { id:id, value:id };\r\n\r\n\t\t\t\t\tthis.order.push(obj.id);\r\n\t\t\t\t\tif (this._scheme_init)\r\n\t\t\t\t\t\tthis._scheme_init(obj);\r\n\t\t\t\t\tthis.pull[obj.id] = obj;\r\n\t\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tfor (var key in data){\r\n\t\t\t\t\tthis.order.push(key);\r\n\t\t\t\t\tthis.pull[key] = { id:key, value: data[key] };\r\n\t\t\t\t}\r\n\t\t}\r\n\t\tif (this._extraParser && !data.branch){\r\n\t\t\tthis.branch = { 0:[]};\r\n\t\t\tif (!this._datadriver_child)\r\n\t\t\t\tthis._set_child_scheme(\"data\");\r\n\r\n\t\t\tfor (var i = 0; i<this.order.length; i++){\r\n\t\t\t\tvar key = this.order[i];\r\n\t\t\t\tthis._extraParser(this.pull[key], 0, 0, false);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.callEvent(\"onStoreLoad\",[]);\r\n\t\tif (!silent)\r\n\t\t\tthis.callEvent(\"onStoreUpdated\",[]);\r\n\t},\r\n\tsync:function(source, filter, silent){\r\n\t\tvar type = typeof source;\r\n\t\tif (type == \"string\")\r\n\t\t\tsource = webix.$$(\"source\");\r\n\r\n\t\tif (type != \"function\" && type != \"object\"){\r\n\t\t\tsilent = filter;\r\n\t\t\tfilter = null;\r\n\t\t}\r\n\t\t\r\n\t\tif (webix.debug_bind){\r\n\t\t\tthis.debug_sync_master = source; \r\n\t\t\twebix.log(\"[sync] \"+this.debug_bind_master.name+\"@\"+this.debug_bind_master._settings.id+\" <= \"+this.debug_sync_master.name+\"@\"+this.debug_sync_master._settings.id);\r\n\t\t}\r\n\r\n\t\tif (source.name != \"DataStore\"){\r\n\t\t\tif (source.data && (source.data.name === \"DataStore\" || source.data.name === \"TreeStore\"))\r\n\t\t\t\tsource = source.data;\r\n\t\t\telse {\r\n\t\t\t\tthis._sync_source = source;\r\n\t\t\t\treturn webix.callEvent(\"onSyncUnknown\", [this, source, filter]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar\tsync_logic = webix.bind(function(mode, record, data){\r\n\t\t\tif (this._skip_next_sync) return;\r\n\r\n\t\t\tthis.importData(source, true);\r\n\r\n\t\t\tif (filter)\r\n\t\t\t\tthis.silent(filter);\r\n\t\t\tif (this._on_sync)\r\n\t\t\t\tthis._on_sync();\r\n\r\n\t\t\tif (webix.debug_bind)\r\n\t\t\t\twebix.log(\"[sync:request] \"+this.debug_sync_master.name+\"@\"+this.debug_sync_master._settings.id + \" <= \"+this.debug_bind_master.name+\"@\"+this.debug_bind_master._settings.id);\r\n\r\n\t\t\tthis.callEvent(\"onSyncApply\",[]);\r\n\r\n\t\t\tif (!silent) \r\n\t\t\t\tthis.refresh();\r\n\t\t\telse\r\n\t\t\t\tsilent = false;\r\n\t\t}, this);\r\n\r\n\r\n\r\n\t\tthis._sync_events = [\r\n\t\t\tsource.attachEvent(\"onStoreUpdated\", sync_logic),\r\n\t\t\tsource.attachEvent(\"onIdChange\", webix.bind(function(old, nid){ this.changeId(old, nid); this.refresh(nid); }, this))\r\n\t\t];\r\n\t\tthis._sync_source = source;\r\n\r\n\t\t//backward data saving\r\n\t\tthis._back_sync_handler = this.attachEvent(\"onStoreUpdated\", function(id, data, mode){\r\n\t\t\tif (mode == \"update\" || mode == \"save\"){\r\n\t\t\t\tthis._skip_next_sync = 1;\r\n\t\t\t\tsource.updateItem(id, data);\r\n\t\t\t\tthis._skip_next_sync = 0;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tsync_logic();\r\n\t},\r\n\tunsync:function(){\r\n\t\tif (this._sync_source){\r\n\t\t\tvar source = this._sync_source;\r\n\r\n\t\t\tif (source.name != \"DataStore\" &&\r\n\t\t\t\t\t(!source.data || source.data.name != \"DataStore\")){\r\n\t\t\t\t//data sync with external component\r\n\t\t\t\twebix.callEvent(\"onUnSyncUnknown\", [this, source]);\r\n\t\t\t} else {\r\n\t\t\t\t//data sync with webix component\r\n\t\t\t\tfor (var i = 0; i < this._sync_events.length; i++)\r\n\t\t\t\t\tsource.detachEvent(this._sync_events[i]);\r\n\t\t\t\tthis.detachEvent(this._back_sync_handler);\r\n\t\t\t}\r\n\r\n\t\t\tthis._sync_source = null;\r\n\t\t}\r\n\t},\r\n\tdestructor:function(){\r\n\t\tthis.unsync();\r\n\r\n\t\tthis.pull = this.order = this._marks = null;\r\n\t\tthis._evs_events = this._evs_handlers = {};\r\n\t},\r\n\t//adds item to the store\r\n\tadd:function(obj,index){\r\n\t\t//default values\t\t\r\n\t\tif (this._scheme)\r\n\t\t\tfor (var key in this._scheme)\r\n\t\t\t\tif (webix.isUndefined(obj[key]))\r\n\t\t\t\t\tobj[key] = this._scheme[key];\r\n\t\t\r\n\t\tif (this._scheme_init)\r\n\t\t\tthis._scheme_init(obj);\r\n\t\t\r\n\t\t//generate id for the item\r\n\t\tvar id = this.id(obj);\r\n\r\n\t\t//in case of treetable order is sent as 3rd parameter\r\n\t\tvar order = arguments[2]||this.order;\r\n\t\t\r\n\t\t//by default item is added to the end of the list\r\n\t\tvar data_size = order.length;\r\n\t\t\r\n\t\tif (webix.isUndefined(index) || index < 0)\r\n\t\t\tindex = data_size; \r\n\t\t//check to prevent too big indexes\t\t\t\r\n\t\tif (index > data_size){\r\n\t\t\twebix.log(\"Warning\",\"DataStore:add\",\"Index of out of bounds\");\r\n\t\t\tindex = Math.min(order.length,index);\r\n\t\t}\r\n\t\tif (this.callEvent(\"onBeforeAdd\", [id, obj, index]) === false) return false;\r\n\r\n\t\twebix.assert(!this.exists(id), \"Not unique ID\");\r\n\t\t\r\n\t\tthis.pull[id]=obj;\r\n\t\torder.insertAt(id,index);\r\n\t\tif (this._filter_order){\t//adding during filtering\r\n\t\t\t//we can't know the location of new item in full dataset, making suggestion\r\n\t\t\t//put at end of original dataset by default\r\n\t\t\tvar original_index = this._filter_order.length;\r\n\t\t\t//if some data exists, put at the same position in original and filtered lists\r\n\t\t\tif (this.order.length)\r\n\t\t\t\toriginal_index = Math.min((index || 0), original_index);\r\n\r\n\t\t\tthis._filter_order.insertAt(id,original_index);\r\n\t\t}\r\n\t\t\r\n\t\t//repaint signal\r\n\t\tthis.callEvent(\"onStoreUpdated\",[id,obj,\"add\"]);\r\n\t\tthis.callEvent(\"onAfterAdd\",[id,index]);\r\n\r\n\t\treturn obj.id;\r\n\t},\r\n\t\r\n\t//removes element from datastore\r\n\tremove:function(id){\r\n\t\t//id can be an array of IDs - result of getSelect, for example\r\n\t\tif (webix.isArray(id)){\r\n\t\t\tfor (var i=0; i < id.length; i++)\r\n\t\t\t\tthis.remove(id[i]);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.callEvent(\"onBeforeDelete\",[id]) === false) return false;\r\n\t\t\r\n\t\twebix.assert(this.exists(id), \"Not existing ID in remove command\"+id);\r\n\r\n\t\tvar obj = this.getItem(id);\t//save for later event\r\n\t\t//clear from collections\r\n\t\tthis.order.remove(id);\r\n\t\tif (this._filter_order) \r\n\t\t\tthis._filter_order.remove(id);\r\n\t\t\t\r\n\t\tdelete this.pull[id];\r\n\t\tif (this._marks[id])\r\n\t\t\tdelete this._marks[id];\r\n\r\n\t\t//repaint signal\r\n\t\tthis.callEvent(\"onStoreUpdated\",[id,obj,\"delete\"]);\r\n\t\tthis.callEvent(\"onAfterDelete\",[id]);\r\n\t},\r\n\t//deletes all records in datastore\r\n\tclearAll:function(){\r\n\t\t//instead of deleting one by one - just reset inner collections\r\n\t\tthis.pull = {};\r\n\t\tthis._marks = {};\r\n\t\tthis.order = webix.toArray();\r\n\t\t//this.feed = null;\r\n\t\tthis._filter_order = this.url = null;\r\n\t\tthis.callEvent(\"onClearAll\",[]);\r\n\t\tthis.refresh();\r\n\t},\r\n\t//converts id to index\r\n\tgetIdByIndex:function(index){\r\n\t\twebix.assert(index >= 0,\"DataStore::getIdByIndex Incorrect index\");\r\n\t\treturn this.order[index];\r\n\t},\r\n\t//converts index to id\r\n\tgetIndexById:function(id){\r\n\t\tvar res = this.order.find(id);\t//slower than getIdByIndex\r\n\t\tif (!this.pull[id])\r\n\t\t\treturn -1;\r\n\t\t\t\r\n\t\treturn res;\r\n\t},\r\n\t//returns ID of next element\r\n\tgetNextId:function(id,step){\r\n\t\treturn this.order[this.getIndexById(id)+(step||1)];\r\n\t},\r\n\t//returns ID of first element\r\n\tgetFirstId:function(){\r\n\t\treturn this.order[0];\r\n\t},\r\n\t//returns ID of last element\r\n\tgetLastId:function(){\r\n\t\treturn this.order[this.order.length-1];\r\n\t},\r\n\t//returns ID of previous element\r\n\tgetPrevId:function(id,step){\r\n\t\treturn this.order[this.getIndexById(id)-(step||1)];\r\n\t},\r\n\t/*\r\n\t\tsort data in collection\r\n\t\t\tby - settings of sorting\r\n\t\t\r\n\t\tor\r\n\t\t\r\n\t\t\tby - sorting function\r\n\t\t\tdir - \"asc\" or \"desc\"\r\n\t\t\t\r\n\t\tor\r\n\t\t\r\n\t\t\tby - property\r\n\t\t\tdir - \"asc\" or \"desc\"\r\n\t\t\tas - type of sortings\r\n\t\t\r\n\t\tSorting function will accept 2 parameters and must return 1,0,-1, based on desired order\r\n\t*/\r\n\tsort:function(by, dir, as){\r\n\t\tvar sort = by;\t\r\n\t\tif (typeof by == \"function\")\r\n\t\t\tsort = {as:by, dir:dir};\r\n\t\telse if (typeof by == \"string\")\r\n\t\t\tsort = {by:by.replace(/#/g,\"\"), dir:dir, as:as};\r\n\r\n\t\t\r\n\t\tvar parameters = [sort.by, sort.dir, sort.as, sort];\r\n\t\tif (!this.callEvent(\"onBeforeSort\",parameters)) return;\t\r\n\t\t\r\n\t\tthis.order = this._sort_core(sort, this.order);\r\n\t\tif (this._filter_order && this._filter_order.length != this.order.length)\r\n\t\t\tthis._filter_order = this._sort_core(sort, this._filter_order);\r\n\t\t\r\n\t\t//repaint self\r\n\t\tthis.refresh();\r\n\t\t\r\n\t\tthis.callEvent(\"onAfterSort\",parameters);\r\n\t},\r\n\t_sort_core:function(sort, order){\r\n\t\tvar sorter = this.sorting.create(sort);\r\n\t\tif (this.order.length){\r\n\t\t\tvar pre = order.splice(0, this.$freeze);\r\n\t\t\t//get array of IDs\r\n\t\t\tvar neworder = webix.toArray();\r\n\t\t\tfor (var i=order.length-1; i>=0; i--)\r\n\t\t\t\tneworder[i] = this.pull[order[i]];\r\n\t\t\t\r\n\t\t\tneworder.sort(sorter);\r\n\t\t\treturn webix.toArray(pre.concat(neworder.map(function(obj){ \r\n\t\t\t\twebix.assert(obj, \"Client sorting can't be used with dynamic loading\");\r\n\t\t\t\treturn this.id(obj);\r\n\t\t\t},this)));\r\n\t\t}\r\n\t\treturn order;\r\n\t},\r\n\t/*\r\n\t\tFilter datasource\r\n\t\t\r\n\t\ttext - property, by which filter\r\n\t\tvalue - filter mask\r\n\t\t\r\n\t\tor\r\n\t\t\r\n\t\ttext  - filter method\r\n\t\t\r\n\t\tFilter method will receive data object and must return true or false\r\n\t*/\r\n\t_filter_reset:function(preserve){\r\n\t\t//remove previous filtering , if any\r\n\t\tif (this._filter_order && !preserve){\r\n\t\t\tthis.order = this._filter_order;\r\n\t\t\tdelete this._filter_order;\r\n\t\t}\r\n\t},\r\n\t_filter_core:function(filter, value, preserve){\r\n\t\tvar neworder = webix.toArray();\r\n\t\tvar freeze = this.$freeze || 0;\r\n\t\t\r\n\t\tfor (var i=0; i < this.order.length; i++){\r\n\t\t\tvar id = this.order[i];\r\n\t\t\tif (i < freeze || filter(this.getItem(id),value))\r\n\t\t\t\tneworder.push(id);\r\n\t\t}\r\n\t\t//set new order of items, store original\r\n\t\tif (!preserve ||  !this._filter_order)\r\n\t\t\tthis._filter_order = this.order;\r\n\t\tthis.order = neworder;\r\n\t},\r\n\tfind:function(config, first){\r\n\t\tvar result = [];\r\n\r\n\t\tfor(var i in this.pull){\r\n\t\t\tvar data = this.pull[i];\r\n\r\n\t\t\tvar match = true;\r\n\t\t\tif (typeof config == \"object\"){\r\n\t\t\t\tfor (var key in config)\r\n\t\t\t\t\tif (data[key] != config[key]){\r\n\t\t\t\t\t\tmatch = false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t} else if (!config(data))\r\n\t\t\t\tmatch = false;\r\n\r\n\t\t\tif (match)\r\n\t\t\t\tresult.push(data);\r\n\t\t\t\r\n\t\t\tif (first && result.length)\r\n\t\t\t\treturn result[0];\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t},\r\n\tfilter:function(text,value,preserve){\r\n\t\t//unfilter call but we already in not-filtered state\r\n\t\tif (!text && !this._filter_order && !this._filter_branch) return;\r\n\t\tif (!this.callEvent(\"onBeforeFilter\", [text, value])) return;\r\n\t\t\r\n\t\tthis._filter_reset(preserve);\r\n\t\tif (!this.order.length) return;\r\n\t\t\r\n\t\t//if text not define -just unfilter previous state and exit\r\n\t\tif (text){\r\n\t\t\tvar filter = text;\r\n\t\t\tvalue = value||\"\";\r\n\t\t\tif (typeof text == \"string\"){\r\n\t\t\t\ttext = text.replace(/#/g,\"\");\r\n\t\t\t\tif (typeof value == \"function\")\r\n\t\t\t\t\tfilter = function(obj){\r\n\t\t\t\t\t\treturn value(obj[text]);\r\n\t\t\t\t\t};\r\n\t\t\t\telse{\r\n\t\t\t\t\tvalue = value.toString().toLowerCase();\r\n\t\t\t\t\tfilter = function(obj,value){\t//default filter - string start from, case in-sensitive\r\n\t\t\t\t\t\twebix.assert(obj, \"Client side filtering can't be used with dynamic loading\");\r\n\t\t\t\t\t\treturn (obj[text]||\"\").toString().toLowerCase().indexOf(value)!=-1;\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis._filter_core(filter, value, preserve, this._filterMode);\r\n\t\t}\r\n\t\t//repaint self\r\n\t\tthis.refresh();\r\n\t\t\r\n\t\tthis.callEvent(\"onAfterFilter\", []);\r\n\t},\r\n\t/*\r\n\t\tIterate through collection\r\n\t*/\r\n\t_obj_array:function(){\r\n\t\tvar data = [];\r\n\t\tfor (var i = this.order.length - 1; i >= 0; i--)\r\n\t\t\tdata[i]=this.pull[this.order[i]];\r\n\r\n\t\treturn data;\r\n\t},\r\n\teach:function(method, master, all){\r\n\t\tvar order = this.order;\r\n\t\tif (all)\r\n\t\t\torder = this._filter_order || order;\r\n\r\n\t\tfor (var i=0; i<order.length; i++)\r\n\t\t\tmethod.call((master||this), this.getItem(order[i]), i);\r\n\t},\r\n\t_methodPush:function(object,method){\r\n\t\treturn function(){ return object[method].apply(object,arguments); };\r\n\t},\r\n\t/*\r\n\t\tmap inner methods to some distant object\r\n\t*/\r\n\tprovideApi:function(target,eventable){\r\n\t\tthis.debug_bind_master = target;\r\n\t\t\t\r\n\t\tif (eventable){\r\n\t\t\tthis.mapEvent({\r\n\t\t\t\tonbeforesort:\ttarget,\r\n\t\t\t\tonaftersort:\ttarget,\r\n\t\t\t\tonbeforeadd:\ttarget,\r\n\t\t\t\tonafteradd:\t\ttarget,\r\n\t\t\t\tonbeforedelete:\ttarget,\r\n\t\t\t\tonafterdelete:\ttarget,\r\n\t\t\t\tondataupdate:\ttarget/*,\r\n\t\t\t\tonafterfilter:\ttarget,\r\n\t\t\t\tonbeforefilter:\ttarget*/\r\n\t\t\t});\r\n\t\t}\r\n\t\t\t\r\n\t\tvar list = [\"sort\",\"add\",\"remove\",\"exists\",\"getIdByIndex\",\"getIndexById\",\"getItem\",\"updateItem\",\"refresh\",\"count\",\"filter\",\"find\",\"getNextId\",\"getPrevId\",\"clearAll\",\"getFirstId\",\"getLastId\",\"serialize\",\"sync\"];\r\n\t\tfor (var i=0; i < list.length; i++)\r\n\t\t\ttarget[list[i]] = this._methodPush(this,list[i]);\r\n\t\t\t\r\n\t},\r\n\taddMark:function(id, mark, css, value, silent){\r\n\t\tvar obj = this._marks[id]||{};\r\n\t\tthis._marks[id] = obj;\r\n\t\tif (!obj[mark]){\r\n\t\t\tobj[mark] = value||true;\t\r\n\t\t\tif (css){\r\n\t\t\t\tvar old_css = obj.$css||\"\";\r\n\t\t\t\tobj.$css = old_css+\" \"+mark;\r\n\t\t\t}\r\n\t\t\tif (!silent)\r\n\t\t\t\tthis.refresh(id);\r\n\t\t}\r\n\t\treturn obj[mark];\r\n\t},\r\n\tremoveMark:function(id, mark, css, silent){\r\n\t\tvar obj = this._marks[id];\r\n\t\tif (obj){\r\n\t\t\tif (obj[mark])\r\n\t\t\t\tdelete obj[mark];\r\n\t\t\tif (css){\r\n\t\t\t\tvar current_css = obj.$css;\r\n\t\t\t\tif (current_css){\r\n\t\t\t\t\tobj.$css = current_css.replace(mark, \"\").replace(\"  \",\" \");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!silent) \r\n\t\t\t\tthis.refresh(id);\r\n\t\t}\r\n\t},\r\n\tgetMark:function(id, mark){\r\n\t\tvar obj = this._marks[id];\r\n\t\treturn (obj?obj[mark]:false);\r\n\t},\r\n\tclearMark:function(name, css, silent){\r\n\t\tfor (var id in this._marks){\r\n\t\t\tvar obj = this._marks[id];\r\n\t\t\tif (obj[name]){\r\n\t\t\t\tdelete obj[name];\r\n\t\t\t\tif (css && obj.$css)\r\n\t\t\t\t\tobj.$css = obj.$css.replace(name, \"\").replace(\"  \",\" \");\r\n\t\t\t\tif (!silent)\r\n\t\t\t\t\tthis.refresh(id);\r\n\t\t\t}\r\n\t\t}\r\n\t},\t\r\n\t/*\r\n\t\tserializes data to a json object\r\n\t*/\r\n\tserialize: function(all){\r\n\t\tvar ids = this.order;\r\n\t\tif (all && this._filter_order)\r\n\t\t\tids = this._filter_order;\r\n\r\n\t\tvar result = [];\r\n\t\tfor(var i=0; i< ids.length;i++) {\r\n\t\t\tvar el = this.pull[ids[i]];\r\n\t\t\tif (this._scheme_serialize){\r\n\t\t\t\tel = this._scheme_serialize(el);\r\n\t\t\t\tif (el===false) continue;\r\n\t\t\t}\r\n\t\t\tresult.push(el);\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tsorting:{\r\n\t\tcreate:function(config){\r\n\t\t\treturn this._dir(config.dir, this._by(config.by, config.as));\r\n\t\t},\r\n\t\tas:{\r\n\t\t\t//handled by dataFeed\r\n\t\t\t\"server\":function(){\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\t\"date\":function(a,b){\r\n\t\t\t\ta=a-0; b=b-0;\r\n\t\t\t\treturn a>b?1:(a<b?-1:0);\r\n\t\t\t},\r\n\t\t\t\"int\":function(a,b){\r\n\t\t\t\ta = a*1; b=b*1;\r\n\t\t\t\treturn a>b?1:(a<b?-1:0);\r\n\t\t\t},\r\n\t\t\t\"string_strict\":function(a,b){\r\n\t\t\t\ta = a.toString(); b=b.toString();\r\n\t\t\t\treturn a>b?1:(a<b?-1:0);\r\n\t\t\t},\r\n\t\t\t\"string\":function(a,b){\r\n\t\t\t\tif (!b) return 1;\r\n\t\t\t\tif (!a) return -1;\r\n\t\t\t\t\r\n\t\t\t\ta = a.toString().toLowerCase(); b=b.toString().toLowerCase();\r\n\t\t\t\treturn a>b?1:(a<b?-1:0);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_by:function(prop, method){\r\n\t\t\tif (!prop)\r\n\t\t\t\treturn method;\r\n\t\t\tif (typeof method != \"function\")\r\n\t\t\t\tmethod = this.as[method||\"string\"];\r\n\r\n\t\t\twebix.assert(method, \"Invalid sorting method\");\r\n\t\t\treturn function(a,b){\r\n\t\t\t\treturn method(a[prop],b[prop]);\r\n\t\t\t};\r\n\t\t},\r\n\t\t_dir:function(prop, method){\r\n\t\t\tif (prop == \"asc\" || !prop)\r\n\t\t\t\treturn method;\r\n\t\t\treturn function(a,b){\r\n\t\t\t\treturn method(a,b)*-1;\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\nwebix.DataCollection = webix.proto({\r\n\tname:\"DataCollection\",\r\n\tisVisible:function(){ \r\n\t\tif (!this.data.order.length && !this.data._filter_order && !this._settings.dataFeed) return false;\r\n\t\treturn true; \r\n\t},\r\n\t$init:function(config){\r\n\t\tthis.data.provideApi(this, true);\r\n\t\tvar id = (config&&config.id)?config.id:webix.uid();\r\n\t\tthis._settings.id =id;\r\n\t\twebix.ui.views[id] = this;\r\n\t\tthis.data.attachEvent(\"onStoreLoad\", webix.bind(function(){\r\n\t\t\tthis.callEvent(\"onBindRequest\",[]);\r\n\t\t}, this));\r\n\t},\r\n\trefresh:function(){ this.callEvent(\"onBindRequest\",[]); }\r\n}, webix.DataMove, webix.CollectionBind, webix.BindSource, webix.ValidateCollection, webix.DataLoader, webix.MapCollection, webix.EventSystem, webix.BaseBind, webix.Destruction, webix.Settings);\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.Scrollable = {\r\n\t$init:function(config){\r\n\t\t//do not spam unwanted scroll containers for templates \r\n\t\tif (config && !config.scroll && this._one_time_scroll) \r\n\t\t\treturn (this._dataobj = (this._dataobj||this._contentobj));\r\n\t\t\r\n\t\t(this._dataobj||this._contentobj).appendChild(webix.html.create(\"DIV\",{ \"class\" : \"webix_scroll_cont\" },\"\"));\r\n\t\tthis._dataobj=(this._dataobj||this._contentobj).firstChild;\r\n\r\n\t\tif(!webix.env.touch)\r\n\t\t\twebix.event(this._viewobj,\"scroll\", webix.bind(function(e){\r\n\t\t\t\tif(this.callEvent)\r\n\t\t\t\t\twebix.delay(function(){\r\n\t\t\t\t\t\tthis.callEvent(\"onAfterScroll\", []);\r\n\t\t\t\t\t}, this);\r\n\t\t\t},this));\r\n\t},\r\n\t/*defaults:{\r\n\t\tscroll:true\r\n\t},*/\r\n\tscroll_setter:function(value){\r\n\t\tif (!value) return false;\r\n\t\tvar marker =  (value==\"x\"?\"x\":(value==\"xy\"?\"xy\":(value==\"a\"?\"xy\":\"y\")));\r\n\t\tif (webix.Touch && webix.Touch.$active){\r\n\t\t\tthis._dataobj.setAttribute(\"touch_scroll\",marker);\r\n\t\t\tif (this.attachEvent)\r\n\t\t\t\tthis.attachEvent(\"onAfterRender\", webix.bind(this._refresh_scroll,this));\r\n\t\t\tthis._touch_scroll = true;\r\n\t\t} else {\r\n\t\t\tif (webix.env.$customScroll){\r\n\t\t\t\twebix.CustomScroll.enable(this, marker);\r\n\t\t\t} else {\r\n\t\t\t\tvar node = this._dataobj.parentNode.style;\r\n\t\t\t\tif (value.toString().indexOf(\"a\")!=-1){\r\n\t\t\t\t\tnode.overflowX = node.overflowY = \"auto\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (marker.indexOf(\"x\")!=-1){\r\n\t\t\t\t\t\tthis._scroll_x = true;\r\n\t\t\t\t\t\tnode.overflowX = \"scroll\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (marker.indexOf(\"y\")!=-1){\r\n\t\t\t\t\t\tthis._scroll_y = true;\r\n\t\t\t\t\t\tnode.overflowY = \"scroll\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn marker;\r\n\t},\r\n\t_onoff_scroll:function(mode){\r\n\t\tif (!!this._settings.scroll == !!mode) return;\r\n\r\n\t\tif (!webix.env.$customScroll){\r\n\t\t\tvar style = this._dataobj.parentNode.style;\r\n\t\t\tstyle.overflowX = style.overflowY = mode?\"auto\":\"hidden\";\r\n\t\t}\r\n\r\n\t\tthis._scroll_x = this._scroll_y = !!mode;\r\n\t\tthis._settings.scroll = !!mode;\r\n\t},\r\n\tgetScrollState:function(){\r\n\t\tif (webix.Touch && webix.Touch.$active){\r\n\t\t\tvar temp = webix.Touch._get_matrix(this._dataobj);\r\n\t\t\treturn { x : -temp.e, y : -temp.f };\r\n\t\t} else\r\n\t\t\treturn { x : this._dataobj.parentNode.scrollLeft, y : this._dataobj.parentNode.scrollTop };\r\n\t},\r\n\tscrollTo:function(x,y){\r\n\t\tif (webix.Touch && webix.Touch.$active){\r\n\t\t\ty = Math.max(0, Math.min(y, this._dataobj.offsetHeight - this._content_height));\r\n\t\t\tx = Math.max(0, Math.min(x, this._dataobj.offsetWidth - this._content_width));\r\n\t\t\twebix.Touch._set_matrix(this._dataobj, -x, -y, this._settings.scrollSpeed||\"100ms\");\r\n\t\t} else {\r\n\t\t\tthis._dataobj.parentNode.scrollLeft=x;\r\n\t\t\tthis._dataobj.parentNode.scrollTop=y;\r\n\t\t}\r\n\t},\r\n\t_refresh_scroll:function(){\r\n\t\tif (this._settings.scroll.toString().indexOf(\"x\")!=-1){\r\n\t\t\tvar x =  this._dataobj.scrollWidth;\r\n\t\t\tif (x){ //in hidden state we will have a Zero scrollWidth\r\n\t\t\t\tthis._dataobj.style.width = \"100%\";\r\n\t\t\t\tthis._dataobj.style.width = x + \"px\";\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\tif(webix.Touch && webix.Touch.$active && this._touch_scroll){\r\n\t\t\twebix.Touch._clear_artefacts();\r\n\t\t\twebix.Touch._scroll_end();\r\n\t\t\tvar s = this.getScrollState();\r\n\t\t\tvar dx = this._dataobj.offsetWidth - this.$width - s.x;\r\n\t\t\tvar dy = this._dataobj.offsetHeight - this.$height - s.y;\r\n\r\n\t\t\t//if current scroll is outside of data area\r\n\t\t\tif(dx<0 || dy < 0){\r\n\t\t\t\t//scroll to the end of data area\r\n\t\t\t\tvar x = (dx<0?Math.min(-dx - s.x,0):- s.x);\r\n\t\t\t\tvar y = (dy<0?Math.min(-dy - s.y,0):- s.y);\r\n\t\t\t\twebix.Touch._set_matrix(this._dataobj, x, y, 0);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/*\r\n\tUI:paging control\r\n*/\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tdefaults:{\r\n\t\tsize:10,\t//items on page\r\n\t\tpage: 0,\t//current page\r\n\t\tgroup:5,\r\n\t\ttemplate:\"{common.pages()}\",\r\n\t\tmaxWidth:100000,\r\n\t\theight:30,\r\n\t\tborderless:true\r\n\t},\r\n\tname:\"pager\",\r\n\ton_click:{\r\n\t\t//on paging button click\r\n\t\t\"webix_pager_item\":function(e,id){\r\n\t\t\tthis.select(id);\r\n\t\t}\r\n\t},\r\n\t$init:function(config){\r\n\t\tthis.data = this._settings;\r\n\t\tthis._dataobj = this._viewobj;\r\n\t\tthis._viewobj.className += \" webix_pager\";\r\n\r\n        if(config.master===false||config.master === 0)\r\n             this.$ready.push(this._remove_master);\r\n\t},\r\n    _remove_master:function(){\r\n        this.refresh();\r\n        this.$master = { refresh:function(){}, select:function(){} };\r\n    },\r\n\tselect:function(id){\r\n\t\tif (this.$master && this.$master.name == \"pager\")\r\n\t\t\treturn this.$master.select(id);\r\n\r\n\t\t//id - id of button, number for page buttons\r\n\t\tswitch(id){\r\n\t\t\tcase \"next\":\r\n\t\t\t\tid = this._settings.page+1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"prev\":\r\n\t\t\t\tid = this._settings.page-1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"first\":\r\n\t\t\t\tid = 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"last\":\r\n\t\t\t\tid = this._settings.limit-1;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\t//use incoming id\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tif (id<0) id=0;\r\n\t\tif (id>=this.data.limit) id=this.data.limit-1;\r\n\r\n\t\tvar old = this.data.page;\r\n\t\tthis.data.page = id*1; //must be int\r\n\r\n\t\tif (this.refresh()){\r\n\t\t\tif (!this._settings.animate || !this._animate(old, id*1, this._settings.animate))\r\n\t\t\t\tthis.$master.refresh();\r\n\t\t}\r\n\t},\r\n\t_id:\"webix_p_id\",\r\n\ttemplate_setter:webix.template,\r\n\ttype:{\r\n\t\ttemplate:function(a,b){ return a.template.call(this, a,b); },\r\n\t\t//list of page numbers\r\n\t\tpages:function(obj){\r\n\t\t\tvar html=\"\";\r\n\t\t\t//skip rendering if paging is not fully initialized\r\n\t\t\tif (obj.page == -1) return \"\";\r\n\t\t\t//current page taken as center of view, calculate bounds of group\r\n\t\t\tobj.$min = obj.page-Math.round((obj.group-1)/2);\r\n\t\t\tobj.$max = obj.$min + obj.group*1 - 1;\r\n\t\t\tif (obj.$min<0){\r\n\t\t\t\tobj.$max+=obj.$min*(-1);\r\n\t\t\t\tobj.$min=0;\r\n\t\t\t}\r\n\t\t\tif (obj.$max>=obj.limit){\r\n\t\t\t\tobj.$min -= Math.min(obj.$min,obj.$max-obj.limit+1);\r\n\t\t\t\tobj.$max = obj.limit-1;\r\n\t\t\t}\r\n\t\t\t//generate HTML code of buttons\r\n\t\t\tfor (var i=(obj.$min||0); i<=obj.$max; i++)\r\n\t\t\t\thtml+=this.button({id:i, index:(i+1), selected:(i == obj.page ?\"_selected\":\"\"), label:webix.i18n.aria.page+\" \"+(i+1)});\r\n\t\t\treturn html;\r\n\t\t},\r\n\t\tpage:function(obj){\r\n\t\t\treturn obj.page+1;\r\n\t\t},\r\n\t\t//go-to-first page button\r\n\t\tfirst:function(){\r\n\t\t\treturn this.button({ id:\"first\", index:webix.locale.pager.first, selected:\"\", label:webix.i18n.aria.pages[0]});\r\n\t\t},\r\n\t\t//go-to-last page button\r\n\t\tlast:function(){\r\n\t\t\treturn this.button({ id:\"last\", index:webix.locale.pager.last, selected:\"\", label:webix.i18n.aria.pages[3]});\r\n\t\t},\r\n\t\t//go-to-prev page button\r\n\t\tprev:function(){\r\n\t\t\treturn this.button({ id:\"prev\", index:webix.locale.pager.prev, selected:\"\", label:webix.i18n.aria.pages[1]});\r\n\t\t},\r\n\t\t//go-to-next page button\r\n\t\tnext:function(){\r\n\t\t\treturn this.button({ id:\"next\", index:webix.locale.pager.next, selected:\"\", label:webix.i18n.aria.pages[2]});\r\n\t\t},\r\n\t\tbutton:webix.template(\"<button type='button' webix_p_id='{obj.id}' class='webix_pager_item{obj.selected}' aria-label='{obj.label}'>{obj.index}</button>\")\r\n\t},\r\n\tclone:function(pager){\r\n\t\tif (!pager.$view){\r\n\t\t\tpager.view = \"pager\";\r\n\t\t\tpager = webix.ui(pager);\r\n\t\t}\r\n\r\n\t\tthis._clone = pager;\r\n\t\tpager.$master = this;\r\n\t\tthis._refresh_clone();\r\n\t},\r\n\trefresh:function(){\r\n\t\tvar s = this._settings;\r\n\t\tif (!s.count) return;\r\n\r\n\t\t//max page number\r\n\t\ts.limit = Math.ceil(s.count/s.size);\r\n\r\n\t\tvar newPage = Math.min(s.limit-1, s.page);\r\n\r\n\t\tif (newPage != s.page)\r\n\t\t\treturn this.$master.setPage(newPage);\r\n\r\n\t\ts.page = newPage;\r\n\t\tif (newPage>=0 && (newPage!=s.old_page) || (s.limit != s.old_limit) || (s.old_count != s.count)){\r\n\t\t\t//refresh self only if current page or total limit was changed\r\n\t\t\tthis.render();\r\n\t\t\tthis._refresh_clone();\r\n\t\t\ts.old_limit = s.limit;\t//save for onchange check in next iteration\r\n\t\t\ts.old_page = s.page;\r\n\t\t\ts.old_count = s.count;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t},\r\n\tapiOnly_setter:function(value){\r\n\t\treturn (this.$apiOnly=value);\r\n\t},\r\n\t_refresh_clone:function(){\r\n\t\tif (this._clone){\r\n\t\t\tthis._clone._settings.count = this._settings.count;\r\n\t\t\tthis._clone._settings.page = this._settings.page;\r\n\t\t\tthis._clone.refresh();\r\n\t\t}\r\n\t},\r\n\t_animate:function(old, id, config){\r\n\t\tif (old == id) return false;\r\n\t\tif (this._pgInAnimation){\r\n\t\t\tif(this._pgAnimateTimeout){\r\n\t\t\t\twindow.clearTimeout(this._pgAnimateTimeout);\r\n\t\t\t}\r\n\t\t\treturn (this._pgAnimateTimeout = webix.delay(this._animate, this,[old, id, config],100));\r\n\t\t}\r\n\t\tvar direction = id > old ? \"left\" : \"right\";\r\n\t\tif (config.direction == \"top\" || config.direction == \"bottom\")\r\n\t\t\tdirection = id > old ? \"top\" : \"bottom\";\r\n\t\tif (config.flip)\r\n\t\t\tdirection = \"\";\r\n\r\n\t\t\r\n\r\n\t\t//make copy of existing view\r\n\t\tvar top = 0;\r\n\t\tvar snode = this.$master._dataobj;\r\n\t\tif (this.$master._body){\t//datatable\r\n\t\t\tsnode = this.$master._body;\r\n\t\t\ttop = snode.offsetTop;\r\n\t\t\twebix.html.addCss(this.$master.$view, \"webix_animation\");\r\n\t\t}\r\n\r\n\t\tvar onode = snode.cloneNode(true);\r\n\t\tonode.style.width = snode.style.width = \"100%\";\r\n\t\t\r\n\t\t//redraw page\r\n\t\tthis.$master.refresh();\r\n\t\t//append copy next to original\r\n\t\twebix.html.insertBefore(onode, snode.nextSibling, snode.parentNode);\r\n\r\n\t\t//animation config\r\n\t\tvar line;\r\n\t\tvar base = config !== true ? config : {};\r\n\t\tvar aniset = webix.extend({\r\n\t\t\tdirection:direction,\r\n\t\t\tcallback:webix.bind(function(){\r\n\t\t\t\taniset.callback = null;\r\n\t\t\t\twebix.animate.breakLine(line);\r\n\t\t\t\tthis._pgInAnimation = false;\r\n\t\t\t\tif (this.$master._body)\r\n\t\t\t\t\twebix.html.removeCss(this.$master.$view, \"webix_animation\");\r\n\t\t\t},this),\r\n\t\t\ttop:top\r\n\t\t}, base);\r\n\r\n\t\t//run animation\r\n\t\tline = webix.animate.formLine(snode, onode, aniset);\r\n\t\twebix.animate([ snode, onode ], aniset );\r\n\t\tthis._pgInAnimation = true;\r\n\t}\r\n}, webix.MouseEvents, webix.SingleRender, webix.ui.view, webix.EventSystem);\r\n\r\nwebix.locale.pager = {\r\n\tfirst: \" &lt;&lt; \",\r\n\tlast: \" &gt;&gt; \",\r\n\tnext: \" &gt; \",\r\n\tprev: \" &lt; \"\r\n};\r\n\r\n\r\nwebix.PagingAbility = {\r\n\tpager_setter:function(pager){\r\n\t\tif (typeof pager == \"string\"){\r\n\t\t\tvar ui_pager = webix.$$(pager);\r\n\t\t\tif (!ui_pager){\r\n\t\t\t\tthis.$blockRender = true;\r\n\t\t\t\twebix.delay(function(){\r\n\t\t\t\t\tvar obj = webix.$$(pager);\r\n\r\n\t\t\t\t\tthis._settings.pager = this.pager_setter(obj);\r\n\t\t\t\t\tvar s = obj._settings;\r\n\t\t\t\t\ts.count = this.data._count_pager_total(s.level);\r\n\t\t\t\t\tobj.refresh();\r\n\r\n\t\t\t\t\tthis.$blockRender = false;\r\n\t\t\t\t\tthis.render();\r\n\t\t\t\t}, this);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tpager = ui_pager;\r\n\t\t}\r\n\r\n\t\tfunction check_pager_sizes(repeat){\r\n\t\t\tif (pager.config.autosize && this.getVisibleCount){\r\n\t\t\t\tvar count = this.getVisibleCount();\r\n\t\t\t\tif (isNaN(count)){\r\n\t\t\t\t\tpager.config.size = 1;\r\n\t\t\t\t\twebix.delay(check_pager_sizes, this, [true]);\r\n\t\t\t\t} else if (count != pager.config.size){\r\n\t\t\t\t\tpager.config.size = count;\r\n\t\t\t\t\tpager.refresh();\r\n\t\t\t\t\tif (repeat === true)\r\n\t\t\t\t\t\tthis.refresh();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar s = this._settings.pager;\r\n\t\t\t//initial value of pager = -1, waiting for real value\r\n\t\t\tif (s.page == -1) return false;\t\r\n\t\t\t\r\n\t\t\tthis.data.$min = this._count_pager_index(0, s.page*s.size);\t//affect data.getRange\r\n\t\t\tthis.data.$max = this._count_pager_index(this.data.$min, s.size);\r\n\t\t\tthis.data.$pagesize = this.data.$max - this.data.$min;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tthis.attachEvent(\"onBeforeRender\",check_pager_sizes);\r\n\r\n\t\tif (!pager.$view){\r\n\t\t\tpager.view = \"pager\";\r\n\t\t\tpager = webix.ui(pager);\r\n\t\t}\r\n\t\tthis._pager = pager;\r\n\t\tpager.$master = this;\r\n\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\", function(){\r\n\t\t\tvar s = pager._settings;\r\n\t\t\ts.count = this._count_pager_total(s.level);\r\n\t\t\tpager.refresh();\r\n\t\t});\r\n\t\tthis.data._count_pager_total = this._count_pager_total;\r\n\r\n\t\treturn pager._settings;\r\n\t},\r\n\t_count_pager_total:function(level){\r\n\t\tif (level && level !== 0){\r\n\t\t\tvar count = 0; \r\n\t\t\tthis.each(function(obj){\r\n\t\t\t\tif (obj.$level == level) count++;\r\n\t\t\t});\r\n\t\t\treturn count;\r\n\t\t} else\r\n\t\t\treturn this.count();\r\n\t},\r\n\t_count_pager_index:function(start, count){\r\n\t\tvar s = this._settings.pager;\r\n\r\n\t\tif (s.level && s.level !== 0){\r\n\t\t\tvar end = start;\r\n\t\t\tvar max = this.data.order.length;\r\n\r\n\t\t\tif (count)\r\n\t\t\t\twhile (end < max){\r\n\t\t\t\t\tif (this.data.getItem(this.data.order[end]).$level == s.level){\r\n\t\t\t\t\t\tif (count === 0)\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tcount--;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tend++;\r\n\t\t\t\t}\r\n\r\n\t\t\treturn end;\r\n\t\t} else\r\n\t\t\treturn start+count;\r\n\t},\r\n\tsetPage:function(value){\r\n\t\tif (this._pager)\r\n\t\t\tthis._pager.select(value);\r\n\t},\r\n\tgetPage:function(){\r\n\t\treturn this._pager._settings.page;\r\n\t},\r\n\tgetPager:function(){\r\n\t\treturn this._pager;\r\n\t}\r\n};\r\n/*\r\n\tBehavior: AutoTooltip - links tooltip to data driven item\r\n*/\r\n\r\n/*\r\n\tUI: Tooltip\r\n\t\r\n\t@export\r\n\t\tshow\r\n\t\thide\r\n*/\r\n\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"tooltip\",\r\n\tdefaults:{\r\n\t\tdy:0,\r\n\t\tdx:20\r\n\t},\r\n\t$init:function(container){\r\n\t\tif (typeof container == \"string\"){\r\n\t\t\tcontainer = { template:container };\r\n\t\t}\r\n\r\n\t\tthis.type = webix.extend({}, this.type);\r\n\r\n\t\t//create  container for future tooltip\r\n\t\tthis._viewobj = this._contentobj = this._dataobj = webix.html.create(\"DIV\", {role:\"alert\", \"aria-atomic\":\"true\"});\r\n\t\tthis._contentobj.className = \"webix_tooltip\";\r\n\t\twebix.html.insertBefore(this._contentobj,document.body.firstChild,document.body);\r\n\t\twebix.attachEvent(\"onClick\", webix.bind(function(e){\r\n\t\t\tif (this._visible && webix.$$(e) != this)\r\n\t\t\t\tthis.hide();\r\n\t\t}, this));\r\n\t},\r\n\tadjust:function(){  },\r\n\t//show tooptip\r\n\t//pos - object, pos.x - left, pox.y - top\r\n    isVisible:function(){\r\n        return true;\r\n    },\r\n\tshow:function(data,pos){\r\n\t\tif (this._disabled) return;\r\n\t\t//render sefl only if new data was provided\r\n\t\tif (this.data!=data){\r\n\t\t\tthis.data=webix.extend({},data);\r\n\t\t\tthis.render(data);\r\n\t\t}\r\n\r\n\t\tif (this._dataobj.firstChild){\r\n\t\t\t//show at specified position\r\n\t\t\tthis._contentobj.style.top = pos.y+this._settings.dy+\"px\";\r\n\t\t\tthis._contentobj.style.left = pos.x+this._settings.dx+\"px\";\r\n\t\t\tthis._contentobj.style.display=\"block\";\r\n\t\t}\r\n\t\tthis._visible = true;\r\n\t},\r\n\t//hide tooltip\r\n\thide:function(){\r\n\t\tthis.data=null; //nulify, to be sure that on next show it will be fresh-rendered\r\n\t\tthis._contentobj.style.display=\"none\";\r\n\t\tthis._visible = false;\r\n\t},\r\n\tdisable:function(){\r\n\t\tthis._disabled = true;\r\n\t},\r\n\tenable:function(){\r\n\t\tthis._disabled = false;\r\n\t},\r\n\ttype:{\r\n\t\ttemplate:webix.template(\"{obj.id}\"),\r\n        templateStart:webix.template.empty,\r\n\t    templateEnd:webix.template.empty\r\n\t}\r\n\r\n}, webix.SingleRender, webix.Settings, webix.EventSystem, webix.ui.view);\r\n\t\t\r\n\r\n\r\nwebix.AutoTooltip = {\r\n\ttooltip_setter:function(value){\r\n\t\tif (value){\r\n\t\t\tif (typeof value == \"function\")\r\n\t\t\t\tvalue = { template:value };\r\n\r\n\t\t\tvar col_mode = !value.template;\r\n\t\t\tvar t = new webix.ui.tooltip(value);\r\n\t\t\tthis._enable_mouse_move();\r\n\t\t\tvar showEvent = this.attachEvent(\"onMouseMove\",function(id,e){\t//show tooltip on mousemove\r\n\t\t\t\tthis._mouseEventX = e.clientX;\r\n\t\t\t\tthis._mouseEventY = e.clientY;\r\n\t\t\t\tif (this.getColumnConfig){\r\n\t\t\t\t\tvar config = t.type.column = this.getColumnConfig(id.column);\r\n\t\t\t\t\tif (col_mode){\r\n\t\t\t\t\t\t//empty tooltip - ignoring\r\n\t\t\t\t\t\tif (!config.tooltip && config.tooltip != webix.undefined)\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\tvar trg = e.target || e.srcElements;\r\n\r\n\t\t\t\t\t\tif(trg.getAttribute(\"webix_area\") && config.tooltip){\r\n\t\t\t\t\t\t\tvar area = trg.getAttribute(\"webix_area\");\r\n\t\t\t\t\t\t\tt.type.template = function(obj,common){\r\n\t\t\t\t\t\t\t\tvar values = obj[common.column.id];\r\n\t\t\t\t\t\t\t\treturn webix.template(config.tooltip).call(this,obj,common,values[area],area);\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tif (config.tooltip)\r\n\t\t\t\t\t\t\t\tt.type.template = config.tooltip = webix.template(config.tooltip);\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tvar text = this.getText(id.row, id.column);\r\n\t\t\t\t\t\t\t\tt.type.template = function(){ return text; };\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!webix.DragControl.active)\r\n\t\t\t\t\tt.show(this.getItem(id),webix.html.pos(e));\r\n\t\t\t});\r\n\t\t\t// [[IMPROVE]]  As we can can have only one instance of tooltip per page \r\n\t\t\t//\t\t\t\tthis handler can be attached once per page, not once per component\r\n\t\t\tvar hideEvent = webix.event(document.body, \"mousemove\", webix.bind(function(e){\r\n\t\t\t\te = e||event;\r\n\t\t\t\tif(this._mouseEventX != e.clientX || this._mouseEventY != e.clientY)\r\n\t\t\t\t\tt.hide();\r\n\t\t\t},this));\r\n\t\t\tthis.attachEvent(\"onDestruct\",function(){\r\n\t\t\t\tif(this.config.tooltip)\r\n\t\t\t\t\tthis.config.tooltip.destructor();\r\n\t\t\t});\r\n\t\t\tthis.attachEvent(\"onAfterScroll\", function(){\r\n\t\t\t\tt.hide();\r\n\t\t\t});\r\n\t\t\tt.attachEvent(\"onDestruct\",webix.bind(function(){\r\n\t\t\t\tthis.detachEvent(showEvent);\r\n\t\t\t\twebix.eventRemove(hideEvent);\r\n\t\t\t},this));\r\n\t\t\treturn t;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nwebix.protoUI({\r\n\tname:\"proto\",\r\n\t$init:function(){\r\n\t\tthis.data.provideApi(this, true);\r\n\t\tthis._dataobj = this._dataobj || this._contentobj;\r\n\t\t\r\n\t\t//render self , each time when data is updated\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\",webix.bind(function(){\r\n\t\t\tthis.render.apply(this,arguments);\r\n\t\t},this));\r\n\t},\r\n\t$setSize:function(){\r\n\t\tif (webix.ui.view.prototype.$setSize.apply(this, arguments))\r\n\t\t\tthis.render();\r\n\t},\r\n\t_id:\"webix_item\",\r\n\ton_mouse_move:{\r\n\t},\r\n\ttype:{}\r\n}, webix.PagingAbility, webix.DataMarks, webix.AutoTooltip,webix.ValidateCollection,webix.RenderStack, webix.DataLoader, webix.ui.view, webix.EventSystem, webix.Settings);\r\n\r\nwebix.CodeParser = {\r\n\t//converts a complex object into an object with primitives properties\r\n\tcollapseNames:function(base, prefix, data){\r\n\t\tdata = data || {};\r\n\t\tprefix = prefix || \"\";\r\n\r\n\t\tif(!base || typeof base != \"object\")\r\n\t\t\treturn null;\r\n\r\n\t\tfor(var prop in base){\r\n\t\t\tif(base[prop] && typeof base[prop] == \"object\" && !webix.isDate(base[prop]) && !webix.isArray(base[prop])){\r\n\t\t\t\twebix.CodeParser.collapseNames(base[prop], prefix+prop+\".\", data);\r\n\t\t\t} else {\r\n\t\t\t\tdata[prefix+prop] = base[prop];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn data;\r\n\t},\r\n\t//converts an object with primitive properties into an object with complex properties\r\n\texpandNames:function(base){\r\n\t\tvar data = {},\r\n\t\t\ti, lastIndex, name, obj, prop;\r\n\r\n\t\tfor(prop in base){\r\n\t\t\tname = prop.split(\".\");\r\n\t\t\tlastIndex = name.length-1;\r\n\t\t\tobj = data;\r\n\t\t\tfor( i =0; i < lastIndex; i++ ){\r\n\t\t\t\tif(!obj[name[i]])\r\n\t\t\t\t\tobj[name[i]]  = {};\r\n\t\t\t\tobj = obj[name[i]];\r\n\t\t\t}\r\n\t\t\tobj[name[lastIndex]] = base[prop];\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t}\r\n};\r\n\r\nwebix.Values = {\r\n\t$init:function(){\r\n\t\tthis.elements = {};\r\n\t},\r\n\tfocus:function(name){\r\n\t\tif (name){\r\n\t\t\twebix.assert(this.elements[name],\"unknown input name: \"+name);\r\n\t\t\tthis._focus(this.elements[name]);\r\n\t\t} else{\r\n\t\t\tfor(var n in this.elements){\r\n\t\t\t\tif(this._focus(this.elements[n]))\r\n\t\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_focus: function(target){\r\n\t\tif (target && target.focus){\r\n\t\t\ttarget.focus();\r\n\t\t\treturn true;\r\n\t\t}\r\n\t},\r\n\tsetValues:function(data, update){\r\n\t\tif (this._settings.complexData)\r\n\t\t\tdata = webix.CodeParser.collapseNames(data);\r\n\r\n\t\tthis._inner_setValues(data, update);\r\n\t},\r\n\t_inner_setValues:function(data, update){\r\n\t\tthis._is_form_dirty = update;\r\n\t\t//prevent onChange calls from separate controls\r\n\t\tthis.blockEvent();\r\n\r\n\t\tif (!update || !this._values)\r\n\t\t\tthis._values = {};\r\n\r\n\t\tif (webix.debug_render)\r\n\t\t\twebix.log(\"Render: \"+this.name+\"@\"+this._settings.id);\r\n\r\n\t\tfor (var name in data)\r\n\t\t\tif (!this.elements[name])\r\n\t\t\t\tthis._values[name] = data[name];\r\n\r\n\t\tfor (var name in this.elements){\r\n\t\t\tvar input = this.elements[name];\r\n\t\t\tif (input){\r\n\t\t\t\tif (!webix.isUndefined(data[name]))\r\n\t\t\t\t\tinput.setValue(data[name]);\r\n\t\t\t\telse if (!update && input._allowsClear)\r\n\t\t\t\t\tinput.setValue(\"\");\r\n\t\t\t\tthis._values[name] = input.getValue();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.unblockEvent();\r\n\t\tthis.callEvent(\"onValues\",[]);\r\n\t},\r\n\tisDirty:function(){\r\n\t\tif (this._is_form_dirty) return true;\r\n\t\tif (this.getDirtyValues(1) === 1)\r\n\t\t\treturn true;\r\n\r\n\t\treturn false;\r\n\t},\r\n\tsetDirty:function(flag){\r\n\t\tthis._is_form_dirty = flag;\r\n\t\tif (!flag)\r\n\t\t\tthis._values = this._inner_getValues();\r\n\t},\r\n\tgetDirtyValues:function(){\r\n\t\tvar result = {};\r\n\t\tif (this._values){\r\n\t\t\tfor (var name in this.elements){\r\n\t\t\t\tvar value = this.elements[name].getValue();\r\n\t\t\t\tif (this._values[name] != value){\r\n\t\t\t\t\tresult[name] = value;\r\n\t\t\t\t\t//FIXME - used by isDirty\r\n\t\t\t\t\tif (arguments[0])\r\n\t\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tgetCleanValues:function(){\r\n\t\treturn this._values;\r\n\t},\r\n\tgetValues:function(filter){\r\n\t\tvar data = this._inner_getValues(filter);\r\n\t\tif (this._settings.complexData)\r\n\t\t\tdata = webix.CodeParser.expandNames(data);\r\n\r\n\t\treturn data;\r\n\t},\r\n\t_inner_getValues:function(filter){\r\n\t\t//get original data\t\t\r\n\t\tvar success,\r\n\t\t\telem = null,\r\n\t\t\tdata = (this._values?webix.copy(this._values):{});\r\n\r\n\t\t//update properties from linked controls\r\n\t\tfor (var name in this.elements){\r\n\t\t\telem = this.elements[name];\r\n\t\t\tsuccess = true;\r\n\t\t\tif(filter){\r\n\t\t\t\tif(typeof filter == \"object\"){\r\n\t\t\t\t\tif(filter.hidden === false)\r\n\t\t\t\t\t\tsuccess = elem.isVisible();\r\n\t\t\t\t\tif(success && filter.disabled === false)\r\n\t\t\t\t\t\tsuccess = elem.isEnabled();\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\tsuccess = filter.call(this,elem);\r\n\t\t\t}\r\n\t\t\tif(success)\r\n\t\t\t\tdata[name] = elem.getValue();\r\n\t\t\telse\r\n\t\t\t\tdelete data[name]; //in case of this._values[name]\r\n\t\t}\r\n\t\treturn data;\r\n\t},\r\n\tclear:function(){\r\n\t\tthis._is_form_dirty = false;\r\n\t\tvar data = {};\r\n\t\tfor (var name in this.elements)\r\n\t\t\tif (this.elements[name]._allowsClear)\r\n\t\t\t\tdata[name] = this.elements[name]._settings.defaultValue||\"\";\r\n\t\t\r\n\t\tthis._inner_setValues(data);\r\n\t},\r\n\tmarkInvalid: function(name, state){\r\n\t\t// remove 'invalid' mark\r\n\t\tif(state === false){\r\n\t\t\tthis._clear_invalid(name);\r\n\t\t}\r\n\t\t// add 'invalid' mark\r\n\t\telse{\r\n\t\t\t// set invalidMessage\r\n\t\t\tif(typeof state == \"string\"){\r\n\t\t\t\tvar input = this.elements[name];\r\n\t\t\t\tif(input)\r\n\t\t\t\t\tinput._settings.invalidMessage = state;\r\n\t\t\t}\r\n\t\t\tthis._mark_invalid(name);\r\n\t\t}\r\n\t},\r\n\t_mark_invalid:function(id){\r\n\t\tvar input = this.elements[id];\r\n\t\tif (id && input){\r\n\t\t\tthis._clear_invalid(id,true);\r\n\t\t\twebix.html.addCss(input._viewobj, \"webix_invalid\");\r\n\t\t\tinput._settings.invalid = true;\r\n\t\t\tvar message = input._settings.invalidMessage;\r\n\t\t\tif(typeof message === \"string\" && input.setBottomText)\r\n\t\t\t\tinput.setBottomText();\r\n\t\t}\r\n\t},\r\n\t_clear_invalid:function(id,silent){\r\n\t\tvar input = this.elements[id];\r\n        if(id && input && input.$view && input._settings.invalid){\r\n\t        webix.html.removeCss(input._viewobj, \"webix_invalid\");\r\n\t        input._settings.invalid = false;\r\n\t        var message = input._settings.invalidMessage;\r\n\t        if(typeof message === \"string\" && !silent && input.setBottomText)\r\n\t        \tinput.setBottomText();\r\n        }\r\n\t}\r\n};\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"toolbar\",\r\n\tdefaults:{\r\n\t\ttype:'toolbar'\r\n\t},\r\n\t_render_borders:true,\r\n\t_form_classname:\"webix_toolbar\",\r\n\t_form_vertical:false,\r\n\t$init:function(config){\r\n\t\tif (!config.borderless)\r\n\t\t\tthis._contentobj.style.borderWidth=\"1px\";\r\n\r\n\t\tthis._contentobj.className+=\" \"+this._form_classname;\r\n\t\tthis._viewobj.setAttribute(\"role\", \"toolbar\");\r\n\t},\r\n\t_recollect_elements:function(){\r\n\t\tvar form = this;\r\n\t\tform.elements = {};\r\n\t\twebix.ui.each(this, function(view){\r\n\t\t\tif (view._settings.name && view.getValue && view.setValue){\r\n\t\t\t\tform.elements[view._settings.name] = view;\r\n\t\t\t\tif (view.mapEvent)\r\n\t\t\t\t\tview.mapEvent({\r\n\t\t\t\t\t\tonbeforetabclick:form,\r\n\t\t\t\t\t\tonaftertabclick:form,\r\n\t\t\t\t\t\tonitemclick:form,\r\n\t\t\t\t\t\tonchange:form\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (view.setValues) return false;\r\n\t\t});\r\n\t\tthis.setDirty(false);\r\n\t},\r\n\t_parse_cells_ext_end:function(){\r\n\t\tthis._recollect_elements();\r\n\t},\r\n\t_parse_cells_ext:function(collection){\r\n\t\tvar config = this._settings;\r\n\t\tif (config.elements && !collection){\r\n\t\t\tthis._collection = collection = config.elements;\r\n\t\t\tthis._vertical_orientation = this._form_vertical;\r\n\t\t\tdelete config.elements;\r\n\t\t}\r\n\r\n\t\tif (this._settings.elementsConfig)\r\n\t\t\tthis._rec_apply_settings(this._collection, config.elementsConfig);\r\n\t\t\r\n\t\treturn collection;\r\n\t},\r\n\t_rec_apply_settings:function(col, settings){\r\n\t\tfor (var i=0; i<col.length; i++){\r\n\t\t\tvar element = col[i];\r\n\t\t\twebix.extend( element, settings );\r\n\t\t\tvar nextsettings = settings;\r\n\r\n\t\t\tif (element.elementsConfig)\r\n\t\t\t\tnextsettings = webix.extend(webix.extend({}, element.elementsConfig), settings);\r\n\r\n\t\t\tvar sub;\r\n\t\t\tif (element.body)\r\n\t\t\t\tsub = [element.body];\r\n\t\t\telse\r\n\t\t\t\tsub = element.rows || element.cols || element.cells || element.body;\r\n\r\n\t\t\tif (sub)\r\n\t\t\t\tthis._rec_apply_settings(sub, nextsettings);\r\n\t\t}\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tvar sizes = webix.ui.layout.prototype.$getSize.call(this, dx, dy);\r\n\t\tvar parent = this.getParentView();\r\n\t\tvar index = this._vertical_orientation?3:1;\r\n\t\tif (parent && this._vertical_orientation != parent._vertical_orientation)\r\n\t\t\tsizes[index]+=100000;\r\n\t\t\r\n\t\twebix.debug_size_box(this, sizes, true);\r\n\t\treturn sizes;\r\n\t},\r\n\trender:function(){\r\n\t},\r\n\trefresh:function(){\r\n\t\tthis.render();\r\n\t}\r\n},  webix.Scrollable, webix.AtomDataLoader, webix.Values, webix.ui.layout, webix.ValidateData);\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"template\",\r\n\t$init:function(config){\r\n\t\tvar subtype = this._template_types[config.type];\r\n\t\tif (subtype){\r\n\t\t\twebix.extend(config, subtype);\r\n\t\t\t\r\n\t\t\t//will reset borders for \"section\"\r\n\t\t\tif (config.borderless){\r\n\t\t\t\tdelete config._inner;\r\n\t\t\t\tthis._set_inner(config);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this._dataobj == this._viewobj){\r\n\t\t\tthis._dataobj = webix.html.create(\"DIV\");\r\n\t\t\tthis._dataobj.className = \" webix_template\";\r\n\t\t\tthis._viewobj.appendChild(this._dataobj);\r\n\t\t} else \r\n\t\t\tthis._dataobj.className += \" webix_template\";\r\n\r\n\t\tthis.attachEvent(\"onAfterRender\", this._correct_width_scroll);\r\n\t},\r\n\tsetValues:function(obj, update){\r\n\t\tthis.data = update?webix.extend(this.data, obj, true):obj;\r\n\t\tthis.render();\r\n\t},\r\n\tgetValues:function(){\r\n\t\treturn this.data;\r\n\t},\r\n\t$skin:function(){\r\n\t\tthis._template_types.header.height = this._template_types.section.height = webix.skin.$active.barHeight;\r\n\t},\r\n\t_template_types:{\r\n\t\t\"header\":{\r\n\t\t\tcss:\"webix_header\"\r\n\t\t},\r\n\t\t\"section\":{\r\n\t\t\tcss:\"webix_section\",\r\n\t\t\tborderless:true\r\n\t\t},\r\n\t\t\"clean\":{\r\n\t\t\tcss:\"webix_clean\",\r\n\t\t\tborderless:true\r\n\t\t}\r\n\t},\r\n\tonClick_setter:function(value){\r\n\t\tthis.on_click = webix.extend((this.on_click || {}), value, true);\r\n\r\n\t\tif (!this._onClick)\r\n\t\t\twebix.extend(this, webix.MouseEvents);\r\n\r\n\t\treturn value;\r\n\t},\r\n\tdefaults:{\r\n\t\ttemplate:webix.template.empty\r\n\t},\r\n\t_render_me:function(){\r\n\t\tthis._not_render_me = false;\r\n\t\tthis._probably_render_me();\r\n\t\tthis.resize();\r\n\t},\r\n\t_probably_render_me:function(){\r\n\t\tif (!this._not_render_me){\r\n\t\t\tthis._not_render_me = true;\r\n\t\t\tthis.render();\r\n\t\t}\r\n\t},\r\n\tsrc_setter:function(value){\r\n\t\tthis._not_render_me = true;\r\n\t\t\r\n\t\tthis.callEvent(\"onBeforeLoad\",[]);\r\n\t\twebix.ajax(value, webix.bind(function(text){\r\n\t\t\tthis._settings.template = webix.template(text);\r\n\t\t\tthis._render_me();\r\n\t\t\tthis.callEvent(\"onAfterLoad\",[]);\r\n\t\t}, this));\r\n\t\treturn value;\r\n\t},\r\n\t_correct_width_scroll:function(){\r\n\t\t//we need to force auto height calculation after content change\r\n\t\t//dropping the last_size flag will ensure that inner logic of $setSize will be processed\r\n\t\tif (this._settings.autoheight){\r\n\t\t\tthis._last_size = null;\r\n\t\t\tthis.resize();\r\n\t\t}\r\n\r\n\t\tif (this._settings.scroll && this._settings.scroll.indexOf(\"x\") != -1)\r\n\t\t\tthis._dataobj.style.width = this._dataobj.scrollWidth + \"px\";\r\n\t},\r\n\tcontent_setter:function(config){\r\n\t\tif (config){\r\n\t\t\tthis._not_render_me = true;\r\n\t\t\tthis.render = function(){};\r\n\t\t\tthis._dataobj.appendChild(webix.toNode(config));\r\n\t\t}\r\n\t},\r\n\trefresh:function(){\r\n\t\tthis.render();\r\n\t},\r\n\tsetHTML:function(html){\r\n\t\tthis._settings.template = function(){ return html; };\r\n\t\tthis.refresh();\r\n\t},\r\n\tsetContent:function(content){\r\n\t\tthis._dataobj.innerHTML = \"\";\r\n\t\tthis.content_setter(content);\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tif (webix.ui.view.prototype.$setSize.call(this,x,y)){\r\n\t\t\tthis._probably_render_me();\r\n\t\t\tif (this._settings.autoheight){\r\n\t\t\t\tvar top =this.getTopParentView();\r\n\t\t\t\tclearTimeout(top._template_resize_timer);\r\n\t\t\t\ttop._template_resize_timer = webix.delay(this.resize, this);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t},\r\n\t$getSize:function(x,y){\r\n\t\tif (this._settings.autoheight && !this._settings.type)\r\n\t\t\tthis._settings.height = this._get_auto_height();\r\n\r\n\t\treturn webix.ui.view.prototype.$getSize.call(this,x,y);\r\n\t},\r\n\t_get_auto_height:function(){\r\n\t\tvar size;\r\n\t\t\t\r\n\t\tthis._probably_render_me();\r\n\t\tvar padding = webix.skin.$active.layoutPadding.space;\r\n\t\tthis._dataobj.style.height = \"auto\";\r\n\t\tsize = this._dataobj.scrollHeight;\r\n\t\tthis._dataobj.style.height = \"\";\r\n\r\n\t\treturn size;\r\n\t},\r\n\t_one_time_scroll:true //scroll will appear only if set directly in config\r\n}, webix.Scrollable, webix.AtomDataLoader, webix.AtomRender, webix.EventSystem, webix.ui.view);\r\n\r\nwebix.protoUI({\r\n\tname:\"iframe\",\r\n\t$init:function(config){\r\n\t\tthis._dataobj = this._contentobj;\r\n\t\tthis._contentobj.innerHTML = \"<iframe style='width:100%; height:100%' frameborder='0' onload='var t = $$(this.parentNode.getAttribute(\\\"view_id\\\")); if (t) t.callEvent(\\\"onAfterLoad\\\",[]);' src='about:blank'></iframe>\";\r\n\t},\r\n\tload:function(value){\r\n\t\tthis.src_setter(value);\r\n\t},\r\n\tsrc_setter:function(value){\r\n\t\tthis.getIframe().src = value;\r\n\t\tthis.callEvent(\"onBeforeLoad\",[]);\r\n\t\treturn value;\r\n\t},\r\n\tgetIframe:function(){\r\n\t\treturn this._contentobj.getElementsByTagName(\"iframe\")[0];\r\n\t},\r\n\tgetWindow:function(){\r\n\t\treturn this.getIframe().contentWindow;\r\n\t}\r\n}, webix.ui.view, webix.EventSystem);\r\n\r\nwebix.OverlayBox = {\r\n\tshowOverlay:function(message){\r\n\t\tif (!this._overlay){\r\n\t\t\tthis._overlay = webix.html.create(\"DIV\",{ \"class\":\"webix_overlay\" },(message||\"\"));\r\n\t\t\twebix.html.insertBefore(this._overlay, this._viewobj.firstChild, this._viewobj);\r\n\t\t\tthis._viewobj.style.position = \"relative\";\r\n\t\t} else \r\n\t\t\tthis._overlay.innerHTML = message;\r\n\t},\r\n\thideOverlay:function(){\r\n\t\tif (this._overlay){\r\n\t\t\twebix.html.remove(this._overlay);\r\n\t\t\tthis._overlay = null;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/*scrollable view with another view insize*/\r\nwebix.protoUI({\r\n\tname:\"scrollview\",\r\n\tdefaults:{\r\n\t\tscroll:\"y\",\r\n\t\tscrollSpeed:\"0ms\"\r\n\t},\r\n\t$init:function(){\r\n\t\tthis._viewobj.className += \" webix_scrollview\";\r\n\t},\r\n\tbody_setter:function(config){\r\n\t\tconfig.borderless = true;\r\n\t\tthis._body_cell = webix.ui._view(config);\r\n\t\tthis._body_cell._parent_cell = this;\r\n\t\tthis._dataobj.appendChild(this._body_cell._viewobj);\r\n\t},\r\n\tgetChildViews:function(){\r\n\t\treturn [this._body_cell];\r\n\t},\r\n\tgetBody:function(){\r\n\t\treturn this._body_cell;\r\n\t},\r\n\tresizeChildren:function(){\r\n\t\tthis._desired_size = this._body_cell.$getSize(0, 0);\r\n\t\tthis._resizeChildren();\r\n\t\twebix.callEvent(\"onResize\",[]);\r\n\t},\r\n\t_resizeChildren:function(){\r\n\t\tvar scroll_size = this._native_scroll || webix.ui.scrollSize;\r\n\t\tvar cx = Math.max(this._content_width, this._desired_size[0]);\r\n\t\tvar cy = Math.max(this._content_height, this._desired_size[2]);\r\n\t\tthis._body_cell.$setSize(cx, cy);\t\t\t\r\n\t\tthis._dataobj.style.width = this._body_cell._content_width+\"px\";\r\n\t\tthis._dataobj.style.height = this._body_cell._content_height+\"px\";\r\n\t\tif (webix.env.touch){\r\n\t\t\tvar state = this.getScrollState();\r\n\t\t\tvar top = this._body_cell._content_height - this._content_height;\r\n\t\t\tif (top < state.y)\r\n\t\t\t\tthis.scrollTo(null, top);\r\n\t\t}\r\n\t\tif (webix._responsive_exception){\r\n\t\t\twebix._responsive_exception = false;\r\n\t\t\tthis._desired_size = this._body_cell.$getSize(0, 0);\r\n\t\t\tthis._resizeChildren();\r\n\t\t}\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tvar desired_size = this._desired_size = this._body_cell.$getSize(0, 0);\r\n\t\tvar self_sizes   = webix.ui.view.prototype.$getSize.call(this, dx, dy);\r\n\t\tvar scroll_size = this._native_scroll || webix.ui.scrollSize;\r\n\r\n\t\tif(this._settings.scroll==\"x\"){\r\n\t\t\tself_sizes[2] = Math.max(self_sizes[2], desired_size[2]) + scroll_size;\r\n\t\t\tself_sizes[3] = Math.min(self_sizes[3], desired_size[3]) + scroll_size;\r\n\t\t} else if(this._settings.scroll==\"y\"){\r\n\t\t\tself_sizes[0] = Math.max(self_sizes[0], desired_size[0]) + scroll_size;\r\n\t\t\tself_sizes[1] = Math.min(self_sizes[1], desired_size[1]) + scroll_size;\r\n\t\t}\r\n\t\treturn self_sizes;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tvar temp = webix.ui.scrollSize;\r\n\t\twebix.ui.scrollSize = this._native_scroll || temp;\r\n\r\n\t\tif (webix.ui.view.prototype.$setSize.call(this,x,y))\r\n\t\t\tthis._resizeChildren();\r\n\t\t\r\n\t\twebix.ui.scrollSize = temp;\r\n\t},\r\n\tscroll_setter:function(value){\r\n\t\tvar custom = webix.env.$customScroll;\r\n\t\tif (typeof value == \"string\" && value.indexOf(\"native-\") === 0){\r\n\t\t\tthis._native_scroll = 17;\r\n\t\t\tvalue = value.replace(\"native-\");\r\n\t\t\twebix.env.$customScroll = false;\r\n\t\t}\r\n\r\n\t\tvalue =  webix.Scrollable.scroll_setter.call(this, value);\r\n\r\n\t\twebix.env.$customScroll = custom;\r\n\t\treturn value;\r\n\t},\r\n\t_replace:function(new_view){\r\n\t\tthis._body_cell.destructor();\r\n\t\tthis._body_cell = new_view;\r\n\t\tthis._body_cell._parent_cell = this;\r\n\t\t\r\n\t\tthis._bodyobj.appendChild(this._body_cell._viewobj);\r\n\t\tthis.resize();\r\n\t},\r\n\tshowView: function(id){\r\n\t\tvar topPos = webix.$$(id).$view.offsetTop-webix.$$(id).$view.parentNode.offsetTop;\r\n\t\tthis.scrollTo(0, topPos);\r\n\t}\r\n}, webix.Scrollable, webix.EventSystem, webix.ui.view);\r\n\r\n/*\r\n\tUI:TreeMenu\r\n*/\r\n\r\n\r\n\r\n \r\n\r\nwebix.TreeRenderStack={\r\n\t$init:function(){\r\n\t\twebix.assert(this.render,\"TreeRenderStack :: Object must use RenderStack first\");\r\n\t},\r\n\t_toHTMLItem:function(obj){\r\n\t\tvar mark = this.data._marks[obj.id];\r\n\t\tthis.callEvent(\"onItemRender\",[obj]);\r\n\t\treturn this.type.templateStart(obj,this.type,mark)+(obj.$template?this.type[\"template\"+obj.$template](obj,this.type,mark):this.type.template(obj,this.type,mark))+this.type.templateEnd();\r\n\t},\r\n\t_toHTMLItemObject:function(obj){\r\n\t\tthis._html.innerHTML = this._toHTMLItem(obj);\r\n\t\treturn this._html.firstChild;\r\n\t},\r\n\t//convert single item to HTML text (templating)\r\n\t_toHTML:function(obj){\r\n\t\t//check if related template exist\r\n\t\twebix.assert((!obj.$template || this.type[\"template\"+obj.$template]),\"RenderStack :: Unknown template: \"+obj.$template);\r\n\t\tvar html=\"<div role='presentation' class='webix_tree_branch_\"+obj.$level+\"'>\"+this._toHTMLItem(obj);\r\n\r\n\t\tif (obj.open)\r\n\t\t\thtml+=this._toHTMLLevel(obj.id);\r\n\r\n\t\thtml+=\"</div>\";\r\n\r\n\t\treturn html;\r\n\t},\r\n\t_toHTMLLevel:function(id){\r\n\t\tvar html = \"\";\r\n\t\tvar leaves = this.data.branch[id];\r\n\t\tif (leaves){\r\n\t\t\thtml+=\"<div role='presentation' class='webix_tree_leaves'>\";\r\n\t\t\tvar last = leaves.length-1;\r\n\t\t\tfor (var i=0; i <= last; i++){\r\n\t\t\t\tvar obj = this.getItem(leaves[i]);\r\n\t\t\t\tthis.type._tree_branch_render_state[obj.$level] = (i == last);\r\n\t\t\t\thtml+=this._toHTML(obj);\r\n\t\t\t}\r\n\t\t\thtml+=\"</div>\";\r\n\t\t}\r\n\t\treturn html;\r\n\t},\r\n\t//return true when some actual rendering done\r\n\trender:function(id,data,type){\r\n\t\twebix.TreeRenderStack._obj = this;\t//can be used from complex render\r\n\r\n\t\tif (!this.isVisible(this._settings.id) || this.$blockRender)\r\n\t\t\treturn;\r\n\r\n\t\tif (webix.debug_render)\r\n\t\t\twebix.log(\"Render: \"+this.name+\"@\"+this._settings.id);\r\n\t\t\t\r\n\t\tif (id){\r\n\t\t\tvar cont;\r\n\t\t\tvar item = this.getItem(id);\r\n\t\t\tif (type!=\"add\"){\r\n\t\t\t\tcont = this.getItemNode(id);\r\n\t\t\t\tif (!cont) return;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tswitch(type){\r\n\t\t\t\tcase \"branch\":\r\n\t\t\t\t\tvar branch = cont.parentNode;\r\n\t\t\t\t\tvar node = this._toHTMLObject(item);\r\n\t\t\t\t\t\r\n\t\t\t\t\twebix.html.insertBefore(node, branch); \r\n\t\t\t\t\twebix.html.remove(branch);\r\n\t\t\t\t\tthis._htmlmap = null;\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase \"paint\":\r\n\t\t\t\tcase \"update\":\r\n\t\t\t\t\tvar node = this._htmlmap[id] = this._toHTMLItemObject(item);\r\n\t\t\t\t\twebix.html.insertBefore(node, cont); \r\n\t\t\t\t\twebix.html.remove(cont);\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase \"delete\":\r\n\t\t\t\t\t//deleting not item , but full branch\r\n                    webix.html.remove(cont.parentNode);\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase \"add\":\r\n\t\t\t\t\tvar parent;\r\n\t\t\t\t\t//we want process both empty value and 0 as string\r\n\t\t\t\t\t//jshint -W041:true\r\n\t\t\t\t\tif (item.$parent == 0){\r\n\t\t\t\t\t\tparent = this._dataobj.firstChild;\r\n\t\t\t\t\t} else if(this.getItem(item.$parent).open){\r\n\t\t\t\t\t\tparent  = this.getItemNode(item.$parent);\r\n\t\t\t\t\t\tif (parent){\r\n\t\t\t\t\t\t\t//when item created by the script, it will miss the container for child notes\r\n\t\t\t\t\t\t\t//create it on demand\r\n\t\t\t\t\t\t\tif (!parent.nextSibling){\r\n\t\t\t\t\t\t\t\tvar leafs = webix.html.create(\"DIV\", { \"class\" : \"webix_tree_leaves\" },\"\");\r\n\t\t\t\t\t\t\t\tparent.parentNode.appendChild(leafs);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tparent = parent.nextSibling;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (parent){\r\n\t\t\t\t\t\tvar next = this.data.getNextSiblingId(id);\r\n\t\t\t\t\t\tnext = this.getItemNode(next);\r\n\t\t\t\t\t\tif (next)\r\n\t\t\t\t\t\t\tnext = next.parentNode;\r\n\r\n\t\t\t\t\t\tvar node = this._toHTMLObject(item);\r\n\t\t\t\t\t\tthis._htmlmap[id] = node.firstChild;\r\n\t\t\t\t\t\twebix.html.insertBefore(node, next, parent);\r\n\t\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.callEvent(\"onPartialRender\", [id,data,type]);\r\n\t\t} else \r\n\t\t\t//full reset\r\n\t\t\tif (this.callEvent(\"onBeforeRender\",[this.data])){\r\n\t\t\t\t//will be used for lines management\r\n\t\t\t\tthis.type._tree_branch_render_state = [];\r\n\t\t\t\t//getTopRange - returns all elements on top level\r\n\t\t\t\tthis._dataobj.innerHTML = this._toHTMLLevel(0);\r\n\t\t\t\t\r\n\t\t\t\tthis._htmlmap = null; //clear map, it will be filled at first getItemNode\r\n\t\t\t\tthis.callEvent(\"onAfterRender\",[]);\r\n\t\t\t}\r\n\r\n\t\t//clear after usage\r\n\t\tthis.type._tree_branch_render_state = 0;\r\n\t\twebix.TreeRenderStack._obj = null;\r\n\t\treturn true;\r\n\t},\r\n\tgetItemNode:function(search_id){\r\n\t\tif (this._htmlmap)\r\n\t\t\treturn this._htmlmap[search_id];\r\n\t\t\t\r\n\t\t//fill map if it doesn't created yet\r\n\t\tthis._htmlmap={};\r\n\t\t\r\n\t\tvar t = this._dataobj.getElementsByTagName(\"DIV\");\r\n\t\tfor (var i=0; i < t.length; i++){\r\n\t\t\tvar id = t[i].getAttribute(this._id); //get item's\r\n\t\t\tif (id) \r\n\t\t\t\tthis._htmlmap[id]=t[i];\r\n\t\t}\r\n\t\t//call locator again, when map is filled\r\n\t\treturn this.getItemNode(search_id);\r\n\t},\r\n\t_branch_render_supported:1\r\n};\r\n\r\n\r\n\r\n/*\r\n\tBehavior:SelectionModel - manage selection states\r\n\t@export\r\n\t\tselect\r\n\t\tunselect\r\n\t\tselectAll\r\n\t\tunselectAll\r\n\t\tisSelected\r\n\t\tgetSelectedId\r\n*/\r\nwebix.SelectionModel={\r\n\t$init:function(){\r\n\t\t//collection of selected IDs\r\n\t\tthis._selected = webix.toArray();\r\n\t\twebix.assert(this.data, \"SelectionModel :: Component doesn't have DataStore\");\r\n         \t\r\n\t\t//remove selection from deleted items\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\",webix.bind(this._data_updated,this));\r\n\t\tthis.data.attachEvent(\"onStoreLoad\", webix.bind(this._data_loaded,this));\r\n\t\tthis.data.attachEvent(\"onAfterFilter\", webix.bind(this._data_filtered,this));\r\n\t\tthis.data.attachEvent(\"onIdChange\", webix.bind(this._id_changed,this));\r\n\t\tthis.$ready.push(this._set_noselect);\r\n\t},\r\n\t_set_noselect: function(){\r\n\t\tif (this._settings.select==\"multiselect\" || this._settings.multiselect)\r\n\t\t\twebix.event(this.$view,\"mousedown\", function(e){\r\n\t\t\t\tvar shiftKey = (e||event).shiftKey;\r\n\t\t\t\tif(shiftKey){\r\n\t\t\t\t\twebix._noselect_element = this;\r\n\t\t\t\t\twebix.html.addCss(this,\"webix_noselect\",1);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t},\r\n\t_id_changed:function(oldid, newid){\r\n\t\tfor (var i = this._selected.length - 1; i >= 0; i--)\r\n\t\t\tif (this._selected[i]==oldid)\r\n\t\t\t\tthis._selected[i]=newid;\r\n\t},\r\n\t_data_filtered:function(){\r\n\t\tfor (var i = this._selected.length - 1; i >= 0; i--){\r\n\t\t\tif (this.data.getIndexById(this._selected[i]) < 0) {\r\n\t\t\t\tvar id = this._selected[i];\r\n\t\t\t\tthis.removeCss(id, \"webix_selected\", true);\r\n\t\t\t\tthis._selected.splice(i,1);\r\n\t\t\t\tthis.callEvent(\"onSelectChange\",[id]);\r\n\t\t\t}\r\n\t\t}\t\r\n\t},\r\n\t//helper - linked to onStoreUpdated\r\n\t_data_updated:function(id,obj,type){\r\n\t\tif (type == \"delete\"){\t\t\t\t//remove selection from deleted items\r\n\t\t\tif (this.loadBranch){\r\n\t\t\t\t//hierarchy, need to check all\r\n\t\t\t\tfor (var i = this._selected.length - 1; i >= 0; i--)\r\n\t\t\t\t\tif (!this.exists(this._selected[i]))\r\n\t\t\t\t\t\tthis._selected.splice(i,1);\r\n\t\t\t} else\r\n\t\t\t\tthis._selected.remove(id);\r\n\t\t}\r\n\t\telse if (!id && !this.data.count() && !this.data._filter_order){\t//remove selection for clearAll\r\n\t\t\tthis._selected = webix.toArray();\r\n\t\t}\r\n\t},\r\n\t_data_loaded:function(){\r\n\t\tif (this._settings.select)\r\n\t\t\tthis.data.each(function(obj){\r\n\t\t\t\tif (obj && obj.$selected) this.select(obj.id);\r\n\t\t\t}, this);\r\n\t},\r\n\t//helper - changes state of selection for some item\r\n\t_select_mark:function(id,state,refresh,need_unselect){\r\n\t\tvar name = state ? \"onBeforeSelect\" : \"onBeforeUnSelect\";\r\n\t\tif (!this.callEvent(name,[id,state])) return false;\r\n\r\n\t\tif (need_unselect){\r\n\t\t\tthis._silent_selection = true;\r\n\t\t\tthis.unselectAll();\r\n\t\t\tthis._silent_selection = false;\r\n\t\t}\r\n\t\t\r\n\t\tif (state)\r\n\t\t\tthis.addCss(id, \"webix_selected\", true);\r\n\t\telse\r\n\t\t\tthis.removeCss(id, \"webix_selected\", true);\r\n\r\n\t\tif (refresh)\r\n\t\t\trefresh.push(id);\t\t\t\t//if we in the mass-select mode - collect all changed IDs\r\n\t\telse{\r\n\t\t\tif (state)\r\n\t\t\t\tthis._selected.push(id);\t\t//then add to list of selected items\r\n\t\t\telse\r\n\t\t\t\tthis._selected.remove(id);\r\n\t\t\tthis._refresh_selection(id);\t//othervise trigger repainting\r\n\t\t}\r\n\r\n\t\tvar name = state ? \"onAfterSelect\" : \"onAfterUnSelect\";\r\n\t\tthis.callEvent(name,[id]);\r\n\r\n\t\treturn true;\r\n\t},\r\n\t//select some item\r\n\tselect:function(id,preserve){\r\n\t\tvar ctrlKey = arguments[2];\r\n\t\tvar shiftKey = arguments[3];\r\n\t\t//if id not provide - works as selectAll\r\n\t\tif (!id) return this.selectAll();\r\n\r\n\t\t//allow an array of ids as parameter\r\n\t\tif (webix.isArray(id)){\r\n\t\t\tfor (var i=0; i < id.length; i++)\r\n\t\t\t\tthis.select(id[i], (i?1:preserve), ctrlKey, shiftKey);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twebix.assert(this.data.exists(id), \"Incorrect id in select command: \"+id);\r\n\t\t\r\n\t\t//block selection mode\r\n\t\tif (shiftKey && this._selected.length)\r\n\t\t\treturn this.selectAll(this._selected[this._selected.length-1],id);\r\n\r\n\t\t//single selection mode\r\n\t\tvar need_unselect = false;\r\n\t\tif (!ctrlKey && !preserve && (this._selected.length!=1 || this._selected[0]!=id))\r\n\t\t\tneed_unselect = true;\r\n\r\n\t\tif (!need_unselect && this.isSelected(id)){\r\n\t\t\tif (ctrlKey) this.unselect(id);\t//ctrl-selection of already selected item\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._select_mark(id, true, null, need_unselect);\r\n\t},\r\n\t//unselect some item\r\n\tunselect:function(id){\r\n\t\t//if id is not provided  - unselect all items\r\n\t\tif (!id) return this.unselectAll();\r\n\t\tif (!this.isSelected(id)) return;\r\n\t\t\r\n\t\tthis._select_mark(id,false);\r\n\t},\r\n\t//select all items, or all in defined range\r\n\tselectAll:function(from,to){\r\n\t\tvar range;\r\n\t\tvar refresh=[];\r\n\t\t\r\n\t\tif (from||to)\r\n\t\t\trange = this.data.getRange(from||null,to||null);\t//get limited set if bounds defined\r\n\t\telse\r\n\t\t\trange = this.data.getRange();\t\t\t//get all items in other case\r\n\t\t\t\t\t\t\t\t\t\t\t\t//in case of paging - it will be current page only\r\n\t\trange.each(function(obj){ \r\n\t\t\tif (!this.data.getMark(obj.id, \"webix_selected\")){\r\n\t\t\t\tthis._selected.push(obj.id);\t\r\n\t\t\t\tthis._select_mark(obj.id,true,refresh);\r\n\t\t\t}\r\n\t\t},this);\r\n\t\t//repaint self\r\n\t\tthis._refresh_selection(refresh);\r\n\t},\r\n\t//remove selection from all items\r\n\tunselectAll:function(){\r\n\t\tvar refresh=[];\r\n\t\t\r\n\t\tthis._selected.each(function(id){\r\n\t\t\tthis._select_mark(id,false,refresh);\t//unmark selected only\r\n\t\t},this);\r\n\t\t\r\n\t\tthis._selected=webix.toArray();\r\n\t\tthis._refresh_selection(refresh);\t//repaint self\r\n\t},\r\n\t//returns true if item is selected\r\n\tisSelected:function(id){\r\n\t\treturn this._selected.find(id)!=-1;\r\n\t},\r\n\t/*\r\n\t\treturns ID of selected items or array of IDs\r\n\t\tto make result predictable - as_array can be used, \r\n\t\t\twith such flag command will always return an array \r\n\t\t\tempty array in case when no item was selected\r\n\t*/\r\n\tgetSelectedId:function(as_array){\t\r\n\t\tswitch(this._selected.length){\r\n\t\t\tcase 0: return as_array?[]:\"\";\r\n\t\t\tcase 1: return as_array?[this._selected[0]]:this._selected[0];\r\n\t\t\tdefault: return ([].concat(this._selected)); //isolation\r\n\t\t}\r\n\t},\r\n\tgetSelectedItem:function(as_array){\r\n\t\tvar sel = this.getSelectedId(true);\r\n\t\tif (sel.length > 1 || as_array){\r\n\t\t\tfor (var i = sel.length - 1; i >= 0; i--)\r\n\t\t\t\tsel[i] = this.getItem(sel[i]);\r\n\t\t\treturn sel;\r\n\t\t} else if (sel.length)\r\n\t\t\treturn this.getItem(sel[0]);\r\n\t},\r\n\t//detects which repainting mode need to be used\r\n\t_is_mass_selection:function(obj){\r\n\t\t // crappy heuristic, but will do the job\r\n\t\treturn obj.length>100 || obj.length > this.data.count/2;\r\n\t},\r\n\t_refresh_selection:function(refresh){\r\n\t\tif (typeof refresh != \"object\") refresh = [refresh];\r\n\t\tif (!refresh.length) return;\t//nothing to repaint\r\n\t\t\r\n\t\tif (this._is_mass_selection(refresh))\t\r\n\t\t\tthis.data.refresh();\t//many items was selected - repaint whole view\r\n\t\telse\r\n\t\t\tfor (var i=0; i < refresh.length; i++)\t//repaint only selected\r\n\t\t\t\tthis.render(refresh[i],this.data.getItem(refresh[i]),\"update\");\r\n\t\t\t\r\n\t\tif (!this._silent_selection)\t\r\n\t\tthis.callEvent(\"onSelectChange\",[refresh]);\r\n\t}\r\n};\r\n\r\nwebix.ready(function(){\r\n\twebix.event(document.body,\"mouseup\", function(e){\r\n\t\tif(webix._noselect_element){\r\n\t\t\twebix.html.removeCss(webix._noselect_element,\"webix_noselect\");\r\n\t\t\twebix._noselect_element = null;\r\n\t\t}\r\n\t});\r\n});\r\n/*\r\n\tBehavior:DataMove - allows to move and copy elements, heavily relays on DataStore.move\r\n\t@export\r\n\t\tcopy\r\n\t\tmove\r\n*/\r\nwebix.TreeDataMove={\r\n\t$init:function(){\r\n\t\twebix.assert(this.data, \"DataMove :: Component doesn't have DataStore\");\r\n\t},\r\n\t//creates a copy of the item\r\n\tcopy:function(sid,tindex,tobj,details){\r\n\t\tdetails = details || {};\r\n\t\tdetails.copy = true;\r\n\t\treturn this.move(sid, tindex, tobj, details);\r\n\t},\r\n\t_next_move_index:function(nid, next, source){\r\n\t\tif (next && nid){\r\n\t\t\tvar new_index = this.getBranchIndex(nid);\r\n\t\t\treturn new_index+(source == this && source.getBranchIndex(next)<new_index?0:1);\r\n\t\t}\r\n\t},\r\n\t_check_branch_child:function(parent, child){\r\n\t\tvar t = this.data.branch[parent];\r\n\t\tif (t && t.length){\r\n\t\t\tfor (var i=0; i < t.length; i++) {\r\n\t\t\t\tif (t[i] == child) return true;\r\n\t\t\t\tif (this._check_branch_child(t[i], child)) return true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\t//move item to the new position\r\n\tmove:function(sid,tindex,tobj, details){\r\n\t\tdetails = details || {};\r\n\t\ttindex = tindex || 0;\r\n\t\tvar new_id = details.newId || sid;\r\n\t\tvar target_parent = details.parent || 0;\r\n\t\t\r\n\t\ttobj = tobj||this;\r\n\t\twebix.assert(tobj.data, \"moving attempt to component without datastore\");\r\n\t\tif (!tobj.data) return;\r\n\r\n\t\tif (webix.isArray(sid)){\r\n\t\t\tfor (var i=0; i < sid.length; i++) {\r\n\t\t\t\t//increase index for each next item in the set, so order of insertion will be equal to order in the array\r\n\t\t\t\tvar nid = this.move(sid[i], tindex, tobj, details);\r\n\t\t\t\ttindex = tobj._next_move_index(nid, sid[i+1], this);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (this != tobj || details.copy){\r\n\t\t\tnew_id = tobj.data.add(tobj._externalData(this.getItem(sid),new_id), tindex, (target_parent || 0));\r\n\t\t\tif (this.data.branch[sid] && tobj.getBranchIndex){\r\n\t\t\t\tvar temp = this.data._scheme_serialize;\r\n\t\t\t\tthis.data._scheme_serialize = function(obj){\r\n\t\t\t\t\tvar copy = webix.copy(obj);\r\n\t\t\t\t\tdelete copy.$parent; delete copy.$level; delete copy.$child;\r\n\t\t\t\t\tif (tobj.data.pull[copy.id])\r\n\t\t\t\t\t\tcopy.id = webix.uid();\r\n\t\t\t\t\treturn copy;\r\n\t\t\t\t};\r\n\t\t\t\tvar copy_data = { data:this.serialize(sid, true), parent:new_id };\r\n\t\t\t\tthis.data._scheme_serialize = temp;\r\n\t\t\t\ttobj.parse(copy_data);\r\n\t\t\t}\r\n\t\t\tif (!details.copy)\r\n\t\t\t\tthis.data.remove(sid);\r\n\t\t} else {\r\n\t\t\t//move in self\r\n\t\t\tif (sid == target_parent || this._check_branch_child(sid,target_parent)) return;\r\n\r\n\t\t\tvar source = this.getItem(sid);\r\n\t\t\tvar tbranch = this.data.branch[target_parent];\r\n\t\t\tif (!tbranch) \r\n\t\t\t\ttbranch = this.data.branch[target_parent] = [];\r\n\t\t\tvar sbranch = this.data.branch[source.$parent];\r\n\r\n\t\t\tvar sindex = webix.PowerArray.find.call(sbranch, sid);\r\n\t\t\tif (tindex < 0) tindex = Math.max(tbranch.length - 1, 0);\r\n\t\t\t//in the same branch\r\n\t\t\tif (sbranch === tbranch && tindex === sindex) return; //same position\r\n\r\n\t\t\twebix.PowerArray.removeAt.call(sbranch, sindex);\r\n\t\t\twebix.PowerArray.insertAt.call(tbranch, sid, Math.min(tbranch.length, tindex));\r\n\r\n\t\t\tif (!sbranch.length)\r\n\t\t\t\tdelete this.data.branch[source.$parent];\r\n\t\t\t\r\n\r\n\t\t\tif(source.$parent && source.$parent != \"0\")\r\n\t\t\t\tthis.getItem(source.$parent).$count--;\r\n\r\n\t\t\tif (target_parent && target_parent != \"0\"){\r\n\t\t\t\tvar target = tobj.getItem(target_parent);\r\n\t\t\t\ttarget.$count++;\r\n\t\t\t\tthis._set_level_rec(source, target.$level+1);\r\n\t\t\t} else \r\n\t\t\t\tthis._set_level_rec(source, 1);\r\n\r\n\t\t\tsource.$parent = target_parent;\r\n\t\t\ttobj.data.callEvent(\"onDataMove\", [sid, tindex, target_parent, tbranch[tindex+1]]);\r\n\t\t}\r\n\r\n\t\tthis.refresh();\r\n\t\treturn new_id;\t//return ID of item after moving\r\n\t},\r\n\t_set_level_rec:function(item, value){\r\n\t\titem.$level = value;\r\n\t\tvar branch = this.data.branch[item.id];\r\n\t\tif (branch)\r\n\t\t\tfor (var i=0; i<branch.length; i++)\r\n\t\t\t\tthis._set_level_rec(this.getItem(branch[i]), value+1);\r\n\t},\r\n\t//reaction on pause during dnd\r\n\t_drag_pause:function(id){\r\n\t\tif (id && !id.header) //ignore drag other header\r\n\t\t\tthis.open(id);\r\n\t},\r\n\t$dropAllow:function(context){\r\n\t\tif (context.from != context.to) return true;\r\n\t\tfor (var i=0; i<context.source.length; i++)\r\n\t\t\tif (context.source ==  context.target || this._check_branch_child(context.source, context.target)) return false;\r\n\r\n\t\treturn true;\r\n\t},\r\n\t/*\r\n\t\tthis is a stub for future functionality\r\n\t\tcurrently it just makes a copy of data object, which is enough for current situation\r\n\t*/\r\n\t_externalData:function(data,id){\r\n\t\tvar new_data = webix.DataMove._externalData.call(this, data, id);\r\n\t\tdelete new_data.open;\r\n\t\treturn new_data;\r\n\t}\r\n};\r\n\r\n\r\n\r\n\r\nwebix.TreeDataLoader = {\r\n\t$init:function(){\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\", webix.bind(this._sync_hierarchy, this), null, true);\r\n\r\n\t\t// #FIXME:  constructor call chain\r\n\t\t//redefine methods\r\n\t\tthis._feed_common = this._feed_commonA;\r\n\t},\r\n\t_feed_commonA:function(id, count, callback, url){\r\n\t\t// branch loading\r\n\t\tvar details = (count === 0?{parent: encodeURIComponent(id)}:null);\r\n\r\n\t\twebix.DataLoader.prototype._feed_common.call(this,id, count, callback, url, details);\r\n\t},\r\n\t//load next set of data rows\r\n\tloadBranch:function(id, callback, url){\r\n\t\tid = id ||0;\r\n\t\tthis.data.url = this.data.url || url;\r\n\t\tif (this.callEvent(\"onDataRequest\", [id,callback,this.data.url]) && this.data.url)\r\n\t\t\tthis.data.feed.call(this, id, 0, callback, url);\r\n\t},\r\n\t_sync_hierarchy:function(id, data, mode){\r\n\t\tif (!mode || mode == \"add\" || mode == \"delete\" || mode == \"branch\"){\r\n\t\t\tthis.data._sync_to_order(this);\r\n\t\t}\r\n\t}\r\n};\r\n\r\nwebix.TreeStore = {\r\n\tname:\"TreeStore\",\r\n\t$init:function() {\r\n\t\tthis._filterMode={\r\n\t\t\t//level:1,\r\n\t\t\tshowSubItems:true\r\n\t\t};\r\n\t\tthis.branch = { 0:[] };\r\n\t\tthis.attachEvent(\"onParse\", function(driver, data){\r\n\t\t\tthis._set_child_scheme(driver.child);\r\n\t\t\tvar parent = driver.getInfo(data).parent;\r\n\t\t});\r\n\t\tthis.attachEvent(\"onClearAll\", webix.bind(function(){\r\n\t\t\tthis._filter_branch = null;\r\n\t\t},this));\r\n\t},\r\n\tfilterMode_setter:function(mode){\r\n\t\treturn webix.extend(this._filterMode, mode, true);\r\n\t},\r\n\t_filter_reset:function(preserve){\r\n\t\t//remove previous filtering , if any\r\n\t\tif (this._filter_branch && !preserve){\r\n\t\t\tthis.branch = this._filter_branch;\r\n\t\t\tthis.order = webix.toArray(webix.copy(this.branch[0]));\r\n\t\t\tfor (var key in this.branch)\r\n\t\t\t\tif (key != \"0\")\t//exclude 0 - virtual root\r\n\t\t\t\t\tthis.getItem(key).$count = this.branch[key].length;\r\n\t\t\tdelete this._filter_branch;\r\n\t\t}\r\n\t},\r\n\t_filter_core:function(filter, value, preserve, filterMode){\r\n\t\t//for tree we have few filtering options\r\n\t\t//- filter leafs only\r\n\t\t//- filter data on specific level\r\n\t\t//- filter data on all levels\r\n\t\t//- in all cases we can show or hide empty folder\r\n\t\t//- in all cases we can show or hide childs for matched item\r\n\t\t\r\n\t\t//set new order of items, store original\r\n\t\tif (!preserve ||  !this._filter_branch){\r\n\t\t\tthis._filter_branch = this.branch;\r\n\t\t\tthis.branch  = webix.clone(this.branch);\r\n\t\t}\r\n\r\n\t\tthis.branch[0] = this._filter_branch_rec(filter, value, this.branch[0], 1, (filterMode||{}));\r\n\t},\r\n\t_filter_branch_rec:function(filter, value, branch, level, config){\r\n\t\t//jshint -W041\r\n\t\tvar neworder = [];\r\n\t\t\r\n\t\tvar allow = (config.level && config.level != level);\r\n\r\n\t\tfor (var i=0; i < branch.length; i++){\r\n\t\t\tvar id = branch[i];\r\n\t\t\tvar item = this.getItem(id);\r\n\t\t\tvar child_run = false;\r\n\t\t\tvar sub = this.branch[id];\r\n\r\n\t\t\tif (allow){\r\n\t\t\t\tchild_run = true;\r\n\t\t\t} else if (filter(this.getItem(id),value)){\r\n\t\t\t\tneworder.push(id);\r\n\t\t\t\t// open all parents of the found item\r\n\t\t\t\tif (config.openParents !== false){\r\n\t\t\t\t\tvar parentId = this.getParentId(id);\r\n\t\t\t\t\twhile(parentId && parentId != \"0\"){\r\n\t\t\t\t\t\tthis.getItem(parentId).open = 1;\r\n\t\t\t\t\t\tparentId = this.getParentId(parentId);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//in case of of fixed level filtering - do not change child-items\r\n\t\t\t\tif (config.level || config.showSubItems)\r\n\t\t\t\t\tcontinue;\r\n\t\t\t} else {\r\n\t\t\t\t//filtering level, not match\r\n\t\t\t\tchild_run = true;\r\n\t\t\t}\t\r\n\r\n\t\t\t//if \"filter by all levels\" - filter childs\r\n\t\t\tif (allow || !config.level){ \r\n\t\t\t\tif (sub){\r\n\t\t\t\t\tvar newsub = this.branch[id] = this._filter_branch_rec(filter, value, sub, level+1, config);\r\n\t\t\t\t\titem.$count = newsub.length;\r\n\t\t\t\t\tif (child_run && newsub.length)\r\n\t\t\t\t\t\tneworder.push(id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn neworder;\r\n\t},\r\n\tcount:function(){\r\n\t\tif (this.order.length)\r\n\t\t\treturn this.order.length;\r\n\r\n\t\t//we must return some non-zero value, or logic of selection will think that we have not data at all\r\n\t\tvar count=0;\r\n\t\tthis.eachOpen(function(){ count++; });\r\n\t\treturn count;\r\n\t},\r\n\tchangeId:function(old, newid){\r\n\t\tif (this.branch[old]){\r\n\t\t\tvar branch = this.branch[newid] = this.branch[old];\r\n\t\t\tfor (var i = 0; i < branch.length; i++)\r\n\t\t\t\tthis.getItem(branch[i]).$parent = newid;\r\n\t\t\tdelete this.branch[old];\r\n\t\t}\r\n\t\tvar parent = this.getItem(old).$parent;\r\n\t\tif (parent !== \"0\"){\r\n\t\t\tvar index = webix.PowerArray.find.call(this.branch[parent], old);\r\n\t\t\tthis.branch[parent][index] = newid;\r\n\t\t}\r\n\t\treturn webix.DataStore.prototype.changeId.call(this, old, newid);\r\n\t},\r\n\tclearAll:function(){\r\n\t\tthis.branch = { 0:[] };\r\n\t\twebix.DataStore.prototype.clearAll.call(this);\t\r\n\t},\r\n\tgetPrevSiblingId:function(id){\r\n\t\tvar order = this.branch[this.getItem(id).$parent];\r\n\t\tvar pos = webix.PowerArray.find.call(order, id)-1;\r\n\t\tif (pos>=0)\r\n\t\t\treturn order[pos];\r\n\t\treturn null;\r\n\t},\r\n\tgetNextSiblingId:function(id){\r\n\t\tvar order = this.branch[this.getItem(id).$parent];\r\n\t\tvar pos = webix.PowerArray.find.call(order, id)+1;\r\n\t\tif (pos<order.length)\r\n\t\t\treturn order[pos];\r\n\t\treturn null;\r\n\t},\r\n\tgetParentId:function(id){\r\n\t\treturn this.getItem(id).$parent;\r\n\t},\r\n\tgetFirstChildId:function(id){\r\n\t\tvar order = this.branch[id];\r\n\t\tif (order && order.length)\r\n\t\t\treturn order[0];\r\n\t\treturn null;\r\n\t},\r\n\tisBranch:function(parent){\r\n\t\treturn !!this.branch[parent];\r\n\t},\r\n\tgetBranchIndex:function(child){\r\n\t\tvar t = this.branch[this.pull[child].$parent];\r\n\t\treturn webix.PowerArray.find.call(t, child);\r\n\t},\r\n\t_set_child_scheme:function(parse_name){\r\n\r\n\t\tif (typeof parse_name == \"string\")\r\n\t\t\tthis._datadriver_child = function(obj){\r\n\t\t\t\tvar t = obj[parse_name];\r\n\t\t\t\tif (t)\r\n\t\t\t\t\tdelete obj[parse_name];\r\n\t\t\t\treturn t;\r\n\t\t\t};\r\n\t\telse \r\n\t\t\tthis._datadriver_child = parse_name;\r\n\t},\r\n\t_inner_parse:function(info, recs){ \r\n\t\tvar parent  = info.parent || 0;\r\n\t\t\r\n\t\tfor (var i=0; i<recs.length; i++){\r\n\t\t\t//get hash of details for each record\r\n\t\t\tvar temp = this.driver.getDetails(recs[i]);\r\n\t\t\tvar id = this.id(temp); \t//generate ID for the record\r\n\t\t\tvar update = !!this.pull[id]; //update mode\r\n\r\n\t\t\tif (update){\r\n\t\t\t\ttemp = webix.extend(this.pull[id], temp, true);\r\n\t\t\t\tif (this._scheme_update)\r\n\t\t\t\t\tthis._scheme_update(temp);\r\n\t\t\t} else {\r\n\t\t\t\tif (this._scheme_init)\r\n\t\t\t\t\tthis._scheme_init(temp);\r\n\t\t\t\tthis.pull[id]=temp;\r\n\t\t\t}\r\n\r\n\t\t\tthis._extraParser(temp, parent, 0, update, info.from ? info.from*1+i : 0);\r\n\t\t}\r\n\r\n\t\t//fix state of top item after data loading\r\n\t\tvar pItem = this.pull[parent] || {};\r\n\t\tvar pBranch = this.branch[parent] || [];\r\n\t\tpItem.$count = pBranch.length;\r\n\t\tdelete pItem.webix_kids;\r\n\r\n\t\tif (info.size && info.size != pBranch.length)\r\n\t\t\tpBranch[info.size] = null;\r\n\t},\r\n    _extraParser:function(obj, parent, level, update, from){\r\n    \t//processing top item\r\n    \tobj.$count = 0;\r\n    \tobj.$parent = parent||0;\r\n\t\tobj.$level = level||(parent!=\"0\"?this.pull[parent].$level+1:1);\r\n\t\t\r\n\t\tvar parent_branch = this.branch[obj.$parent];\r\n\t\tif (!parent_branch)\r\n\t\t\tparent_branch = this.branch[obj.$parent] = [];\r\n\t\t\tif (this._filter_branch)\r\n\t\t\t\tthis._filter_branch[obj.$parent] = parent_branch;\r\n\r\n\t\tif (!update){\r\n\t\t\tvar pos = from || parent_branch.length;\r\n\t\t\tparent_branch[pos] = obj.id;\r\n\t\t}\r\n\r\n    \tvar child = this._datadriver_child(obj);\r\n\r\n    \tif (obj.webix_kids){\r\n    \t\treturn (obj.$count = -1);\r\n    \t}\r\n\r\n    \tif (!child) //ignore childless\r\n    \t\treturn (obj.$count = 0);\t\r\n\r\n    \t//when loading from xml we can have a single item instead of an array\r\n    \tif (!webix.isArray(child))\r\n    \t\tchild = [child];\r\n    \t\r\n\r\n\t\tfor (var i=0; i < child.length; i++) {\r\n\t\t\t//extra processing to convert strings to objects\r\n\t\t\tvar item = webix.DataDriver.json.getDetails(child[i]);\r\n\t\t\tvar itemid = this.id(item);\r\n\t\t\tupdate = !!this.pull[itemid];\r\n\t\t\t\r\n\t\t\tif (update){\r\n\t\t\t\titem = webix.extend(this.pull[itemid], item, true);\r\n\t\t\t\tif (this._scheme_update)\r\n\t\t\t\t\tthis._scheme_update(item);\r\n\t\t\t} else {\r\n\t\t\t\tif (this._scheme_init)\r\n\t\t\t\t\tthis._scheme_init(item);\r\n\t\t\t\tthis.pull[itemid]=item;\r\n\t\t\t}\r\n\t\t\tthis._extraParser(item, obj.id, obj.$level+1, update);\r\n\t\t}\r\n\r\n\t\t//processing childrens\r\n\t\tvar branch = this.branch[obj.id];\r\n\t\tif (branch)\r\n\t\t\tobj.$count = branch.length;\r\n\t}, \r\n\t_sync_to_order:function(master){\r\n\t\tthis.order = webix.toArray();\r\n\t\tthis._sync_each_child(0, master);\r\n\t},\r\n\t_sync_each_child:function(start, master){\r\n\t\tvar branch = this.branch[start];\r\n\t\tfor (var i=0; i<branch.length; i++){\r\n\t\t\tvar id = branch[i];\r\n\t\t\tthis.order.push(id);\r\n\t\t\tvar item = this.pull[id];\r\n\t\t\tif (item){\r\n\t\t\t\tif (item.open){\r\n\t\t\t\t\tif (item.$count == -1)\r\n\t\t\t\t\t\tmaster.loadBranch(id);\r\n\t\t\t\t\telse if (item.$count)\r\n\t\t\t\t\t\tthis._sync_each_child(id, master);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tprovideApi:function(target,eventable){\r\n\t\tvar list = [\"getPrevSiblingId\",\"getNextSiblingId\",\"getParentId\",\"getFirstChildId\",\"isBranch\",\"getBranchIndex\",\"filterMode_setter\"];\r\n\t\tfor (var i=0; i < list.length; i++)\r\n\t\t\ttarget[list[i]]=this._methodPush(this,list[i]);\r\n\r\n\t\tif (!target.getIndexById)\r\n\t\t\twebix.DataStore.prototype.provideApi.call(this, target, eventable);\r\n\t},\r\n\tgetTopRange:function(){\r\n\t\treturn webix.toArray([].concat(this.branch[0])).map(function(id){\r\n\t\t\treturn this.getItem(id);\r\n\t\t}, this);\r\n\t},\r\n\teachChild:function(id, functor, master, all){\r\n\t\tvar branch = this.branch;\r\n\t\tif (all && this._filter_branch)\r\n\t\t\tbranch = this._filter_branch;\r\n\r\n\t\tvar stack = branch[id];\r\n\t\tif (stack)\r\n\t\t\tfor (var i=0; i<stack.length; i++)\r\n\t\t\t\tfunctor.call((master||this), this.getItem(stack[i]));\r\n\t},\r\n\teach:function(method,master, all, id){\r\n\t\tthis.eachChild((id||0), function(item){\r\n\t\t\tvar branch = this.branch;\r\n\r\n\t\t\tmethod.call((master||this), item);\r\n\r\n\t\t\tif (all && this._filter_branch)\r\n\t\t\t\tbranch = this._filter_branch;\r\n\r\n\t\t\tif (item && branch[item.id])\r\n\t\t\t\tthis.each(method, master, all, item.id);\r\n\t\t}, this, all);\r\n\t},\t\r\n\teachOpen:function(method,master, id){\r\n\t\tthis.eachChild((id||0), function(item){\r\n\t\t\tmethod.call((master||this), item);\r\n\t\t\tif (this.branch[item.id] && item.open)\r\n\t\t\t\tthis.eachOpen(method, master, item.id);\r\n\t\t});\r\n\t},\r\n\teachSubItem:function(id, functor){\r\n\t\tvar top = this.branch[id||0];\r\n\t\tif (top)\r\n\t\t\tfor (var i=0; i<top.length; i++){\r\n\t\t\t\tvar key = top[i];\r\n\t\t\t\tif (this.branch[key]){\r\n\t\t\t\t\tfunctor.call(this, this.getItem(key),true);\r\n\t\t\t\t\tthis.eachSubItem(key, functor);\r\n\t\t\t\t} else\r\n\t\t\t\t\tfunctor.call(this, this.getItem(key), false);\r\n\t\t\t}\r\n\t},\r\n\teachLeaf:function(id, functor){\r\n\t\tvar top = this.branch[id||0];\r\n\t\tif (top)\r\n\t\t\tfor (var i=0; i<top.length; i++){\r\n\t\t\t\tvar key = top[i];\r\n\t\t\t\tif (this.branch[key]){\r\n\t\t\t\t\tthis.eachLeaf(key, functor);\r\n\t\t\t\t} else\r\n\t\t\t\t\tfunctor.call(this, this.getItem(key), false);\r\n\t\t\t}\r\n\t},\r\n\t_sort_core:function(sort, order){\r\n\t\tvar sorter = this.sorting.create(sort);\r\n\t\tfor (var key in this.branch){\r\n\t\t\tvar bset =  this.branch[key];\r\n\t\t\tvar data = [];\r\n\r\n\t\t\tfor (var i=0; i<bset.length; i++)\r\n\t\t\t\tdata.push(this.pull[bset[i]]);\r\n\r\n\t\t\tdata.sort(sorter);\r\n\r\n\t\t\tfor (var i=0; i<bset.length; i++)\r\n\t\t\t\tdata[i] = data[i].id;\r\n\r\n\t\t\tthis.branch[key] = data;\r\n\t\t}\r\n\t\treturn order;\r\n\t},\r\n\tadd:function(obj, index, pid){\r\n\t\tvar refresh_parent = false;\r\n\r\n\t\tvar parent = this.getItem(pid||0);\r\n\t\tif(parent){\r\n\t\t\t//when adding items to leaf item - it need to be repainted\r\n\t\t\tif (!this.branch[parent.id])\r\n\t\t\t\trefresh_parent = true;\r\n\t\t\tparent.$count++;\r\n\t\t}\r\n\r\n\t\tthis.branch[pid||0] = this.order = webix.toArray(this.branch[pid||0]);\r\n\r\n\t\tobj.$count = 0; \r\n\t\tobj.$level= (parent?parent.$level+1:1); \r\n\t\tobj.$parent = (parent?parent.id:0);\r\n\r\n\t\tif (this._filter_branch){\t//adding during filtering\r\n\t\t\tvar origin = this._filter_branch[pid||0];\r\n\t\t\t//newly created branch\r\n\t\t\tif (!origin) origin = this._filter_branch[pid] = this.order;\r\n\r\n\t\t\t//branch can be shared bettwen collections, ignore such cases\r\n\t\t\tif (this.order !== origin){\r\n\t\t\t\t//we can't know the location of new item in full dataset, making suggestion\r\n\t\t\t\t//put at end by default\r\n\t\t\t\tvar original_index = origin.length;\r\n\t\t\t\t//put at start only if adding to the start and some data exists\r\n\t\t\t\tif (!index && this.branch[pid||0].length)\r\n\t\t\t\t\toriginal_index = 0;\r\n\r\n\t\t\t\torigin = webix.toArray(origin);\r\n\t\t\t\torigin.insertAt(obj.id,original_index);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//call original adding logic\r\n\t\tvar result = webix.DataStore.prototype.add.call(this, obj, index);\r\n\r\n\r\n\t\tif (refresh_parent)\r\n\t\t\tthis.refresh(pid);\r\n\r\n\t\treturn result;\r\n\t},\r\n\t_rec_remove:function(id, inner){\r\n\t\tvar obj = this.pull[id];\r\n        if(this.branch[obj.id] && this.branch[obj.id].length > 0){\r\n        \tvar branch = this.branch[id];\r\n            for(var i=0;i<branch.length;i++)\r\n                this._rec_remove(branch[i], true);\r\n        }\r\n        delete this.branch[id];\r\n\t\tif(this._filter_branch)\r\n\t\t\tdelete this._filter_branch[id];\r\n        delete this.pull[id];\r\n\t\tif (this._marks[id])\r\n\t\t\tdelete this._marks[id];\r\n\t},\r\n\t_filter_removed:function(pull, parentId, id){\r\n\t\tvar branch = pull[parentId];\r\n\t\tif (branch.length == 1 && branch[0] == id && parentId){\r\n\t\t\tdelete pull[parentId];\r\n\t\t} else\r\n\t\t\twebix.toArray(branch).remove(id);\r\n\t},\r\n\tremove:function(id){\r\n\t\t//id can be an array of IDs - result of getSelect, for example\r\n\t\tif (webix.isArray(id)){\r\n\t\t\tfor (var i=0; i < id.length; i++)\r\n\t\t\t\tthis.remove(id[i]);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twebix.assert(this.exists(id), \"Not existing ID in remove command\"+id);\r\n\t\tvar obj = this.pull[id];\r\n\t\tvar parentId = (obj.$parent||0);\r\n\r\n\t\tif (this.callEvent(\"onBeforeDelete\",[id]) === false) return false;\r\n\t\tthis._rec_remove(id);\r\n\t\tthis.callEvent(\"onAfterDelete\",[id]);\r\n\r\n\t\tvar parent = this.pull[parentId];\r\n\t\tthis._filter_removed(this.branch, parentId, id);\r\n\t\tif (this._filter_branch)\r\n\t\t\tthis._filter_removed(this._filter_branch, parentId, id);\r\n\r\n\t\tvar refresh_parent = 0;\r\n\t\tif (parent){\r\n\t\t\tparent.$count--;\r\n\t\t\tif (parent.$count<=0){\r\n\t\t\t\tparent.$count=0;\r\n\t\t\t\tparent.open = 0;\r\n\t\t\t\trefresh_parent = 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//repaint signal\r\n\t\tthis.callEvent(\"onStoreUpdated\",[id,obj,\"delete\"]);\r\n\t\tif (refresh_parent)\r\n\t\t\tthis.refresh(parent.id);\r\n\t},\r\n\t/*\r\n\t\tserializes data to a json object\r\n\t*/\r\n\tgetBranch:function(id){\r\n\t\tvar out = [];\r\n\t\tvar items = (this._filter_branch || this.branch)[id];\r\n\t\tif (items)\r\n\t\t\tfor (var i = 0; i < items.length; i++) out[i] = this.pull[items[i]];\r\n\r\n\t\treturn out;\r\n\t},\r\n\tserialize: function(id, all){\r\n\t\tvar coll = this.branch;\r\n\t\t//use original collection of branches\r\n\t\tif (all && this._filter_branch) coll = this._filter_branch;\r\n\r\n\t\tvar ids = this.branch[id||0];\r\n\t\tvar result = [];\r\n\t\tfor(var i=0; i< ids.length;i++) {\r\n\t\t\tvar obj = this.pull[ids[i]];\r\n\t\t\tvar rel;\r\n\r\n\t\t\tif (this._scheme_serialize){\r\n\t\t\t\trel = this._scheme_serialize(obj);\r\n\t\t\t\tif (rel===false) continue;\r\n\t\t\t} else \r\n\t\t\t\trel = webix.copy(obj);\r\n\t\t\t\t\r\n\t\t\tif (this.branch[obj.id])\r\n\t\t\t\trel.data = this.serialize(obj.id, all);\r\n\r\n\t\t\tresult.push(rel);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n};\r\n\r\n\r\nwebix.TreeType={\r\n\tspace:function(obj,common){\r\n\t\tvar html = \"\";\r\n\t\tfor (var i=1; i<obj.$level; i++)\r\n\t\t\thtml += \"<div class='webix_tree_none'></div>\";\r\n\t\treturn html;\r\n\t},\r\n\ticon:function(obj,common){\r\n\t\tif (obj.$count){\r\n\t\t\tif (obj.open)\r\n\t\t\t\treturn \"<div class='webix_tree_open'></div>\";\r\n\t\t\telse\r\n\t\t\t\treturn \"<div class='webix_tree_close'></div>\";\r\n\t\t} else\r\n\t\t\treturn \"<div class='webix_tree_none'></div>\";\r\n\t},\r\n\tcheckbox:function(obj, common){\r\n\t\tif(obj.nocheckbox)\r\n\t\t   return \"\";\r\n        return \"<input type='checkbox' class='webix_tree_checkbox' \"+(obj.checked?\"checked\":\"\")+(obj.disabled?\" disabled\":\"\")+\">\";\r\n\t},\t\r\n\tfolder:function(obj, common){\r\n\t\tif (obj.icon)\r\n\t\t\treturn \"<div class='webix_tree_file webix_tree_\"+obj.icon+\"'></div>\";\r\n\r\n\t\tif (obj.$count){\r\n\t\t\tif (obj.open)\r\n\t\t\t\treturn \"<div class='webix_tree_folder_open'></div>\";\r\n\t\t\telse\r\n\t\t\t\treturn \"<div class='webix_tree_folder'></div>\";\r\n\t\t}\r\n\t\treturn \"<div class='webix_tree_file'></div>\";\r\n\t}\r\n};\r\n\r\nwebix.TreeAPI = {\r\n\topen: function(id, show) {\r\n\t\tif (!id) return;\r\n\t\t//ignore open for leaf items\r\n\t\tvar item = this.getItem(id);\r\n\t\tif (!item.$count || item.open) return;\r\n\r\n\t\tif (this.callEvent(\"onBeforeOpen\",[id])){\r\n\t\t\titem.open=true;\r\n\t\t\tthis.data.callEvent(\"onStoreUpdated\",[id, 0, \"branch\"]);\r\n\t\t\tthis.callEvent(\"onAfterOpen\",[id]);\r\n\t\t}\r\n\r\n\t\tif (show && id != \"0\")\r\n\t\t\tthis.open(this.getParentId(id), show);\r\n\t},\r\n\tclose: function(id) {\r\n\t\tif (!id) return;\r\n\t\tvar item = this.getItem(id);\r\n\t\tif (!item.open) return;\r\n\r\n\t\tif (this.callEvent(\"onBeforeClose\",[id])){\r\n\t\t\titem.open=false;\r\n\t\t\tthis.data.callEvent(\"onStoreUpdated\",[id, 0, \"branch\"]);\r\n\t\t\tthis.callEvent(\"onAfterClose\",[id]);\r\n\t\t}\r\n\t},\r\n\topenAll: function(id){\r\n\t\tthis.data.eachSubItem((id||0), function(obj, branch){\r\n\t\t\tif (branch)\r\n\t\t\t\tobj.open = true;\r\n\t\t});\r\n\t\tthis.data.refresh();\r\n\t},\r\n\tcloseAll: function(id){\r\n\t\tthis.data.eachSubItem((id||0), function(obj, branch){\r\n\t\t\tif (branch)\r\n\t\t\t\tobj.open = false;\r\n\t\t});\r\n\t\tthis.data.refresh();\r\n\t},\r\n\t_tree_check_uncheck:function(id,mode,e){\r\n\t\tif(this._settings.threeState)\r\n\t\t\treturn this._tree_check_uncheck_3(id,(mode !== null?mode:\"\"));\r\n\r\n\t\tvar value,\r\n\t\t\titem = this.getItem(id),\r\n\t\t\ttrg = (e? (e.target|| e.srcElement):null);\r\n\r\n\t\t//read actual value from HTML tag when possible\r\n\t\t//as it can be affected by dbl-clicks\r\n\t\tif(trg && trg.type == \"checkbox\")\r\n\t\t\tvalue = trg.checked?true:false;\r\n\t\telse\r\n\t\t\tvalue = (mode !== null?mode:!item.checked);\r\n\r\n\t\titem.checked = value;\r\n\t\tthis.callEvent(\"onItemCheck\", [id, item.checked, e]);\r\n\t},\r\n\tisBranchOpen:function(search_id){\r\n\t\tif (search_id == \"0\") return true;\r\n\r\n\t\tvar item = this.getItem(search_id);\r\n\t\tif (item.open)\r\n\t\t\treturn this.isBranchOpen(item.$parent);\r\n\t\treturn false;\r\n\t},\r\n\tgetOpenItems: function() {\r\n\t\tvar open = [];\r\n\t\tfor (var id in this.data.branch) {\r\n\t\t\tif (this.exists(id) && this.getItem(id).open)\r\n\t\t\t\topen.push(id);\r\n\t\t}\r\n\t\treturn open;\r\n\t},\r\n\tgetState: function(){\r\n\t\treturn {\r\n\t\t\topen: this.getOpenItems(),\r\n\t\t\tselect: this.getSelectedId(true)\r\n\t\t};\r\n\t},\r\n\t_repeat_set_state:function(tree, open){\r\n\t\tvar event = this.data.attachEvent(\"onStoreLoad\", function(){\r\n\t\t\ttree.setState.call(tree,open);\r\n\t\t\ttree.data.detachEvent(event);\r\n\t\t\ttree = null;\r\n\t\t});\r\n\t},\r\n\tsetState: function(state){\r\n\t\tvar repeat = false;\r\n\t\tvar dyn = false;\r\n\r\n\t\tif (state.open){\r\n\t\t\tthis.closeAll();\t\r\n\t\t\tvar open = state.open;\r\n\t\t\tfor (var i = 0; i < open.length; i++){\r\n\t\t\t\tvar item = this.getItem(open[i]);\r\n\t\t\t\tif (item && item.$count){\r\n\t\t\t\t\titem.open=true;\r\n\t\t\t\t\t//dynamic loading\r\n\t\t\t\t\tif (item.$count == -1){\r\n\t\t\t\t\t\t//call the same method after data loading\r\n\t\t\t\t\t\tthis._repeat_set_state(this, state);\r\n\t\t\t\t\t\tthis.refresh();\r\n\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t//end processing\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.refresh();\r\n\t\t}\r\n\r\n\r\n\t\tif (state.select && this.select){\t\t\t\r\n\t\t\tvar select = state.select;\r\n\t\t\tthis.unselect();\r\n\t\t\tfor (var i = 0; i < select.length; i++)\r\n\t\t\t\tif (this.exists(select[i]))\r\n\t\t\t\t\tthis.select(select[i], true);\r\n\t\t}\r\n\r\n\t\treturn 1;\r\n\t}\r\n};\r\n\r\nwebix.TreeClick = {\r\n\twebix_tree_open:function(e, id){\r\n\t\tthis.close(id);\r\n\t\treturn false;\r\n\t},\r\n\twebix_tree_close:function(e, id){\r\n\t\tthis.open(id);\r\n\t\treturn false;\r\n\t},\r\n\twebix_tree_checkbox:function(e,id){\r\n\t\tthis._tree_check_uncheck(id, null, e);\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\nwebix.TreeCollection = webix.proto({\r\n\tname:\"TreeCollection\",\r\n\t$init:function(){\r\n\t\twebix.extend(this.data, webix.TreeStore, true);\r\n\t\tthis.data.provideApi(this,true);\r\n\t\twebix.extend(this, webix.TreeDataMove, true);\r\n\t}\r\n}, webix.TreeDataLoader, webix.DataCollection);\r\n\r\n/*\r\n\tBehavior:DragItem - adds ability to move items by dnd\r\n\t\r\n\tdnd context can have next properties\r\n\t\tfrom - source object\r\n\t\tto - target object\r\n\t\tsource - id of dragged item(s)\r\n\t\ttarget - id of drop target, null for drop on empty space\r\n\t\tstart - id from which DND was started\r\n*/\r\n\r\n\r\n\t\t\r\n\r\nwebix.AutoScroll = {\r\n\t_auto_scroll:function(pos, id){\r\n\t\tvar yscroll = 1;\r\n\t\tvar xscroll = 0;\r\n\r\n\t\tvar scroll = this._settings.dragscroll;\r\n\t\tif (typeof scroll == \"string\"){\r\n\t\t\txscroll = scroll.indexOf(\"x\") != -1;\r\n\t\t\tyscroll = scroll.indexOf(\"y\") != -1;\r\n\t\t}\r\n\r\n\t\tvar data = this._body || this.$view;\r\n\t\tvar box = webix.html.offset(data);\r\n\r\n\t\tvar top = box.y;\r\n\t\tvar bottom = top + data.offsetHeight;\r\n\t\tvar left = box.x;\r\n\t\tvar right = left + data.offsetWidth;\r\n\r\n\t\tvar scroll = this.getScrollState();\r\n\t\tvar reset = false;\r\n\t\tvar sense = 40; //dnd auto-scroll sensivity\r\n\r\n\t\tif (yscroll){\r\n\t\t\tvar config = this._settings;\r\n\t\t\tif(config.topSplit){\r\n\t\t\t\tvar topSplitPos = this._cellPosition(this.getIdByIndex(config.topSplit-1), this.columnId(0));\r\n\t\t\t\ttop += topSplitPos.top + topSplitPos.height;\r\n\t\t\t}\r\n\r\n\t\t\tif (pos.y < (top + sense)){\r\n\t\t\t\tthis._auto_scrollTo(scroll.x, scroll.y-sense*2, pos);\r\n\t\t\t\treset = true;\r\n\t\t\t} else if (pos.y > bottom - sense){\r\n\t\t\t\tthis._auto_scrollTo(scroll.x, scroll.y+sense*2, pos);\r\n\t\t\t\treset = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (xscroll){\r\n\t\t\tif (pos.x < (left + sense)){\r\n\t\t\t\tthis._auto_scrollTo(scroll.x-sense*2, scroll.y, pos);\r\n\t\t\t\treset = true;\r\n\t\t\t} else if (pos.x > right - sense){\r\n\t\t\t\tthis._auto_scrollTo(scroll.x+sense*2, scroll.y, pos);\r\n\t\t\t\treset = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (reset)\r\n\t\t\tthis._auto_scroll_delay = webix.delay(this._auto_scroll, this, [pos], 100);\r\n\r\n\t},\r\n\t_auto_scrollTo: function(x,y,pos){\r\n\t\tif(this.callEvent(\"onBeforeAutoScroll\",[pos]))\r\n\t\t\tthis.scrollTo(x,y);\r\n\t}\r\n};\r\n\r\nwebix.DragOrder={\r\n\t_do_not_drag_selection:true,\r\n\t$drag:function(s,e){\r\n\t\tvar html = webix.DragItem.$drag.call(this,s,e);\r\n\t\tif (html){\r\n\t\t\tvar context = webix.DragControl.getContext(); \r\n\t\t\tif (this.getBranchIndex)\r\n\t\t\t\tthis._drag_order_stored_left = this._drag_order_complex?((this.getItem(context.start).$level) * 16):0;\r\n\t\t\tif (!context.fragile)\r\n\t\t\t\tthis.addCss(context.start, \"webix_transparent\");\r\n\t\t}\r\n\t\treturn html;\r\n\t},\r\n\t_getDragItemPos: function(pos,e){\r\n\t\treturn webix.DragItem._getDragItemPos(pos,e);\r\n\t},\r\n\t$dragPos:function(pos,e, node){\r\n\t\tvar box = webix.html.offset(this.$view);\r\n\t\tvar left = box.x + (this._drag_order_complex?( 1+this._drag_order_stored_left):1);\r\n\t\tvar top = pos.y;\r\n\t\tvar config = this._settings;\r\n\t\tvar xdrag = (config.layout == \"x\");\r\n\r\n\t\tif (xdrag){\r\n\t\t\ttop = box.y + (this._drag_order_complex?( + box.height - webix.ui.scrollSize - 1):1);\r\n\t\t\tleft = pos.x;\r\n\t\t}\r\n\r\n\t\tnode.style.display = 'none';\r\n\r\n\t\tvar html = document.elementFromPoint(left, top);\r\n\r\n\t\tif (html != this._last_sort_dnd_node){\r\n\t\t\tvar view = webix.$$(html);\r\n\t\t\t//this type of dnd is limited to the self\r\n\t\t\tif (view && view == this){\r\n\t\t\t\tvar id = this.locate(html, true);\r\n\t\t\t\tvar start_id = webix.DragControl.getContext().start;\r\n\t\t\t\tthis._auto_scroll_force = true;\r\n\t\t\t\tif (id){\r\n\r\n\t\t\t\t\tif (id != this._last_sort_dnd_node){\r\n\t\t\t\t\t\tif (id != start_id){\r\n\t\t\t\t\t\t\tvar details, index;\r\n\r\n\t\t\t\t\t\t\tif (this.getBranchIndex){\r\n\t\t\t\t\t\t\t\tdetails = { parent:this.getParentId(id) }; \r\n\t\t\t\t\t\t\t\tindex = this.getBranchIndex(id);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdetails = {};\r\n\t\t\t\t\t\t\t\tindex = this.getIndexById(id);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (this.callEvent(\"onBeforeDropOrder\",[start_id, index, e, details])){\r\n\t\t\t\t\t\t\t\tthis.move(start_id, index, this, details);\r\n\t\t\t\t\t\t\t\tthis._last_sort_dnd_node = id;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\twebix.DragControl._last = this._contentobj;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tid = \"$webix-last\";\r\n\t\t\t\t\tif (this._last_sort_dnd_node != id){\r\n\t\t\t\t\t\tif (!this.callEvent(\"onBeforeDropOrder\",[start_id, -1, e, { parent: 0} ])) return;\r\n\t\t\t\t\t\tthis._last_sort_dnd_node  = id;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tnode.style.display = 'block';\r\n\r\n\t\t\r\n\t\tif (xdrag){\r\n\t\t\tpos.y = box.y;\r\n\t\t\tpos.x = pos.x-18;\r\n\r\n\t\t\tif (pos.x < box.x)\r\n\t\t\t\tpos.x = box.x; \r\n\t\t\telse {\r\n\t\t\t\tvar max = box.x + this.$view.offsetWidth - 60;\r\n\t\t\t\tif (pos.x > max)\r\n\t\t\t\t\tpos.x = max;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tbox.y += this._header_height;\r\n\t\t\tpos.x = this._drag_order_stored_left||box.x;\r\n\t\t\tpos.y = pos.y-18;\r\n\t\t\r\n\t\t\tif (pos.y < box.y)\r\n\t\t\t\tpos.y = box.y; \r\n\t\t\telse {\r\n\t\t\t\tvar max = box.y + this.$view.offsetHeight - 60;\r\n\t\t\t\tif (pos.y > max)\r\n\t\t\t\t\tpos.y = max;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this._auto_scroll_delay)\r\n\t\t\tthis._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\r\n\r\n\t\tthis._auto_scroll_delay = webix.delay(this._auto_scroll, this, [webix.html.pos(e), this.locate(e) || null],250);\r\n\r\n\t\t//prevent normal dnd landing checking\r\n\t\twebix.DragControl._skip = true;\r\n\t},\r\n\t$dragIn:function(){\r\n\t\treturn false;\r\n\t},\r\n\t$drop:function(s,t,e){\r\n\t\tif (this._auto_scroll_delay){\r\n\t\t\tthis._auto_scroll_force = null;\r\n\t\t\tthis._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\r\n\t\t}\r\n\r\n\t\tvar context = webix.DragControl.getContext();\r\n\t\tvar id = context.start;\r\n\t\tthis.removeCss(id, \"webix_transparent\");\r\n\r\n\t\tvar index = this.getIndexById(id);\r\n\t\tthis.callEvent(\"onAfterDropOrder\",[id, index , e]);\r\n\t\tif (context.fragile)\r\n\t\t\tthis.refresh();\r\n\t}\r\n};\r\nwebix.DragItem={\r\n\t//helper - defines component's container as active zone for dragging and for dropping\r\n\t_initHandlers:function(obj, source, target){\r\n\t\tif (!source) webix.DragControl.addDrop(obj._contentobj,obj,true);\r\n\t\tif (!target) webix.DragControl.addDrag(obj._contentobj,obj);\r\n\t\tthis.attachEvent(\"onDragOut\",function(a,b){ this.$dragMark(a,b); });\r\n\t\tthis.attachEvent(\"onBeforeAutoScroll\",function(){\r\n\t\t\tvar context = webix.DragControl.getContext();\r\n\t\t\treturn !!(webix.DragControl._active && context && (context.to === this || this._auto_scroll_force));\r\n\t\t});\r\n\t},\r\n\tdrag_setter:function(value){\r\n\t\tif (value){\r\n\t\t\twebix.extend(this, webix.AutoScroll, true);\r\n\t\t\tif (value == \"order\")\r\n\t\t\t\twebix.extend(this, webix.DragOrder, true);\r\n\t\t\tif (value == \"inner\")\r\n\t\t\t\tthis._inner_drag_only = true;\r\n\r\n\t\t\tthis._initHandlers(this, value == \"source\", value == \"target\");\r\n\t\t\tdelete this.drag_setter;\t//prevent double initialization\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\t/*\r\n\t\ts - source html element\r\n\t\tt - target html element\r\n\t\td - drop-on html element ( can be not equal to the target )\r\n\t\te - native html event \r\n\t*/\r\n\t//called when drag moved over possible target\r\n\t$dragIn:function(s,t,e){\r\n\t\tvar id = this.locate(e) || null;\r\n\t\tvar context = webix.DragControl._drag_context;\r\n\r\n\t\t//in inner drag mode - ignore dnd from other components\r\n\t\tif ((this._inner_drag_only || context.from._inner_drag_only) && context.from !== this) return false;\r\n\r\n\t\tvar to = webix.DragControl.getMaster(t);\r\n\t\t//previous target\r\n\t\tvar html = (this.getItemNode(id, e)||this._dataobj);\r\n\t\t//prevent double processing of same target\r\n\t\tif (html == webix.DragControl._landing) return html;\r\n\t\tcontext.target = id;\r\n\t\tcontext.to = to;\r\n\r\n\t\tif (this._auto_scroll_delay)\r\n\t\t\tthis._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\r\n\r\n\t\tthis._auto_scroll_delay = webix.delay(function(pos,id){\r\n\t\t\tthis._drag_pause(id);\r\n\t\t\tthis._auto_scroll(pos,id);\r\n\t\t}, this, [webix.html.pos(e), id], 250);\r\n\r\n\t\tif (!this.$dropAllow(context, e)  || !this.callEvent(\"onBeforeDragIn\",[context, e])){\r\n\t\t\tcontext.to = context.target = null;\r\n\t\t\tif (this._auto_scroll_delay)\r\n\t\t\t\tthis._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t//mark target only when landing confirmed\r\n\t\tthis.$dragMark(context,e);\r\n\t\treturn html;\r\n\t},\r\n\t$dropAllow:function(){\r\n\t\treturn true;\r\n\t},\r\n\t_drag_pause:function(id){\r\n\t\t//may be reimplemented in some components\r\n\t\t// tree for example\r\n\t},\r\n\t_target_to_id:function(target){\r\n\t\treturn target && typeof target === \"object\" ? target.toString() : target;\r\n\t},\r\n\t//called when drag moved out from possible target\r\n\t$dragOut:function(s,t,n,e){ \r\n\t\tvar id = (this._viewobj.contains(n) ? this.locate(e): null) || null;\r\n\t\tvar context = webix.DragControl._drag_context;\r\n\r\n\t\t//still over previous target\r\n\t\tif ((context.target||\"\").toString() == (id||\"\").toString()) return null;\r\n\t\tif (this._auto_scroll_delay){\r\n\t\t\tthis._auto_scroll_force = null;\r\n\t\t\tthis._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\r\n\t\t}\r\n\r\n\t\t//unmark previous target\r\n\t\tcontext.target = context.to = null;\r\n\t\tthis.callEvent(\"onDragOut\",[context,e]);\r\n\t\treturn null;\r\n\t},\r\n\t//called when drag moved on target and button is released\r\n\t$drop:function(s,t,e){ \r\n\t\tif (this._auto_scroll_delay)\r\n\t\t\tthis._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\r\n\r\n\t\tvar context = webix.DragControl._drag_context;\r\n\t\t//finalize context details\r\n\t\tcontext.to = this;\r\n\t\tvar target = this._target_to_id(context.target);\r\n\r\n\t\tif (this.getBranchIndex){\r\n\t\t\tif (target){\r\n\t\t\t\tcontext.parent = this.getParentId(target);\r\n\t\t\t\tcontext.index = this.getBranchIndex(target);\r\n\t\t\t}\r\n\t\t} else\r\n\t\t\tcontext.index = target?this.getIndexById(target):this.count();\r\n\r\n\t\t//unmark last target\r\n\t\tthis.$dragMark({}, e);\r\n\r\n\t\tif( context.from && context.from != context.to && context.from.callEvent ){\r\n\t\t\tcontext.from.callEvent(\"onBeforeDropOut\", [context,e]);\r\n\t\t}\r\n\r\n\t\tif (!this.callEvent(\"onBeforeDrop\",[context,e])) return;\r\n\t\t//moving\r\n\t\tthis._context_to_move(context,e);\r\n\t\t\r\n\t\tthis.callEvent(\"onAfterDrop\",[context,e]);\r\n\t},\r\n\t_context_to_move:function(context,e){\r\n\t\twebix.assert(context.from, \"Unsopported d-n-d combination\");\r\n\t\tif (context.from){\t//from different component\r\n\t\t\tvar details = { parent: context.parent, mode: context.pos };\r\n\t\t\tcontext.from.move(context.source,context.index,context.to, details);\r\n\t\t}\r\n\t},\r\n\t_getDragItemPos: function(pos,e){\r\n\t\tif (this.getItemNode){\r\n\t\t\tvar id = this.locate(e, true);\r\n\t\t\treturn id?webix.html.offset(this.getItemNode(id)):null;\r\n\t\t}\r\n\t},\r\n\t//called when drag action started\r\n\t$drag:function(s,e){\r\n\t\tvar id = this.locate(e, true);\r\n\t\tif (id){\r\n\t\t\tvar list = [id];\r\n\r\n\t\t\tif (this.getSelectedId && !this._do_not_drag_selection){ //has selection model\r\n\t\t\t\t//if dragged item is one of selected - drag all selected\r\n\t\t\t\tvar selection = this.getSelectedId(true, true);\t\r\n\r\n\t\t\t\tif (selection && selection.length > 1 && webix.PowerArray.find.call(selection,id)!=-1){\r\n\t\t\t\t\tvar hash = {}; \r\n\t\t\t\t\tvar list = [];\r\n\t\t\t\t\tfor (var i=0;i<selection.length; i++)\r\n\t\t\t\t\t\thash[selection[i]]=true;\r\n\t\t\t\t\tfor (var i = 0; i<this.data.order.length; i++){\r\n\t\t\t\t\t\tvar hash_id = this.data.order[i];\r\n\t\t\t\t\t\tif (hash[hash_id])\r\n\t\t\t\t\t\t\tlist.push(hash_id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//save initial dnd params\r\n\t\t\tvar context = webix.DragControl._drag_context= { source:list, start:id };\r\n\t\t\tcontext.fragile = (this.addRowCss && webix.env.touch && ( webix.env.isWebKit || webix.env.isFF ));\r\n\t\t\tcontext.from = this;\r\n\t\t\t\r\n\t\t\tif (this.callEvent(\"onBeforeDrag\",[context,e])){\r\n\t\t\t\tif (webix.Touch)\r\n\t\t\t\t\twebix.Touch._start_context = null;\r\n\r\n\t\t\t\t//set drag representation\r\n\t\t\t\treturn context.html||this.$dragHTML(this.getItem(id), e);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\t$dragHTML:function(obj, e){\r\n\t\treturn this._toHTML(obj);\r\n\t},\r\n\t$dragMark:function(context, ev){\r\n\t\tvar target = null;\r\n\t\tif (context.target)\r\n\t\t\ttarget = this._target_to_id(context.target);\r\n\r\n\t\t//touch webkit will stop touchmove event if source node removed\r\n\t\t//datatable can't repaint rows without repainting\r\n\t\tif (this._marked && this._marked != target){\r\n\t\t\tif (!context.fragile) this.removeCss(this._marked, \"webix_drag_over\");\r\n\t\t\tthis._marked = null;\r\n\t\t}\r\n\r\n\t\tif (!this._marked && target){\r\n\t\t\tthis._marked = target;\r\n\t\t\tif (!context.fragile) this.addCss(target, \"webix_drag_over\");\r\n\t\t\treturn target;\r\n\t\t}\r\n\t\t\r\n\t\tif (context.to){\r\n\t\t\treturn true;\r\n\t\t}else\r\n\t\t\treturn false;\r\n\t}\r\n};\r\n\r\n\r\n\r\nwebix.Group = {\r\n\t$init:function(){\r\n\t\twebix.extend(this.data, webix.GroupStore);\r\n\t\t//in case of plain store we need to remove store original dataset\r\n\t\tthis.data.attachEvent(\"onClearAll\",webix.bind(function(){\r\n\t\t\tthis.data._not_grouped_order = this.data._not_grouped_pull = null;\r\n\t\t\tthis._group_level_count = 0;\r\n\t\t},this));\r\n\t},\r\n\tgroup:function(config){\r\n\t\tthis.data.ungroup(true);\r\n\t\tthis.data.group(config);\r\n\t},\r\n\tungroup:function(skipRender){\r\n\t\tthis.data.ungroup(skipRender);\r\n\t}\r\n};\r\n\r\nwebix.GroupMethods = {\r\n\tsum:function(property, data){\r\n\t\tdata = data || this;\r\n\t\tvar summ = 0;\r\n\t\tfor (var i = 0; i < data.length; i++)\r\n\t\t\tsumm+=property(data[i])*1;\r\n\r\n\t\treturn summ;\r\n\t},\r\n\tmin:function(property, data){\r\n\t\tdata = data || this;\r\n\t\tvar min = Infinity;\r\n\r\n\t\tfor (var i = 0; i < data.length; i++)\r\n\t\t\tif (property(data[i])*1 < min) min = property(data[i])*1;\r\n\r\n\t\treturn min*1;\r\n\t},\r\n\tmax:function(property, data){\r\n\t\tdata = data || this;\r\n\t\tvar max = -Infinity;\r\n\r\n\t\tfor (var i = 0; i < data.length; i++)\r\n\t\t\tif (property(data[i])*1 > max) max = property(data[i])*1;\r\n\r\n\t\treturn max*1;\r\n\t},\r\n\tcount:function(property, data){\r\n\t\treturn data.length;\r\n\t},\r\n\tany:function(property, data){\r\n\t\treturn property(data[0]);\r\n\t},\r\n\tstring:function(property, data){\r\n\t\treturn property.$name;\r\n\t}\r\n};\r\n\r\nwebix.GroupStore = {\r\n\t$init:function(){\r\n\t\tthis.attachEvent(\"onClearAll\", this._reset_groups);\r\n\t},\r\n\t_reset_groups:function(){\r\n\t\tthis._not_grouped_order = this._not_grouped_pull = null;\r\n\t\tthis._group_level_count = 0;\r\n\t},\r\n\tungroup:function(skipRender){\r\n\t\tif (this.getBranchIndex)\r\n\t\t\treturn this._ungroup_tree.apply(this, arguments);\r\n\r\n\t\tif (this._not_grouped_order){\r\n\t\t\tthis.order = this._not_grouped_order;\r\n\t\t\tthis.pull = this._not_grouped_pull;\r\n\t\t\tthis._not_grouped_pull = this._not_grouped_order = null;\r\n\t\t\tif(!skipRender)\r\n\t\t\t\tthis.callEvent(\"onStoreUpdated\",[]);\r\n\t\t}\r\n\r\n\t},\r\n\t_group_processing:function(scheme){\r\n\t\tthis.blockEvent();\r\n\t\tthis.group(scheme);\r\n\t\tthis.unblockEvent();\r\n\t},\r\n\t_group_prop_accessor:function(val){\r\n\t\tif (typeof val == \"function\")\r\n\t\t\treturn val;\r\n\t\tvar acc = function(obj){ return obj[val]; };\r\n\t\tacc.$name = val;\r\n\t\treturn acc;\r\n\t},\t\r\n\tgroup:function(stats){ \r\n\t\tif (this.getBranchIndex)\r\n\t\t\treturn this._group_tree.apply(this, arguments);\r\n\r\n\t\tvar key = this._group_prop_accessor(stats.by);\r\n\t\tif (!stats.map[key])\r\n\t\t\tstats.map[key] = [key, this._any];\r\n\t\t\t\r\n\t\tvar groups = {};\r\n\t\tvar labels = [];\r\n\t\tthis.each(function(data){\r\n\t\t\tvar current = key(data);\r\n\t\t\tif (!groups[current]){\r\n\t\t\t\tlabels.push({ id:current, $group:true, $row:stats.row });\r\n\t\t\t\tgroups[current] = webix.toArray();\r\n\t\t\t}\r\n\t\t\tgroups[current].push(data);\r\n\t\t});\r\n\t\tfor (var prop in stats.map){\r\n\t\t\tvar functor = (stats.map[prop][1]||\"any\");\r\n\t\t\tvar property = this._group_prop_accessor(stats.map[prop][0]);\r\n\t\t\tif (typeof functor != \"function\"){\r\n\t\t\t\twebix.assert(webix.GroupMethods[functor], \"unknown grouping rule: \"+functor);\r\n\t\t\t\tfunctor = webix.GroupMethods[functor];\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i=0; i < labels.length; i++) {\r\n\t\t\t\tlabels[i][prop]=functor.call(this, property, groups[labels[i].id]);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\tthis._not_grouped_order = this.order;\r\n\t\tthis._not_grouped_pull = this.pull;\r\n\t\t\r\n\t\tthis.order = webix.toArray();\r\n\t\tthis.pull = {};\r\n\t\tfor (var i=0; i < labels.length; i++){\r\n\t\t\tvar id = this.id(labels[i]);\r\n\t\t\tthis.pull[id] = labels[i];\r\n\t\t\tthis.order.push(id);\r\n\t\t}\r\n\t\t\r\n\t\tthis.callEvent(\"onStoreUpdated\",[]);\r\n\t},\r\n\t_group_tree:function(input, parent){\r\n\t\tthis._group_level_count = (this._group_level_count||0) + 1;\r\n\r\n\t\t//supports simplified group by syntax\r\n\t\tvar stats;\r\n\t\tif (typeof input == \"string\"){\r\n\t\t\tstats = { by:this._group_prop_accessor(input), map:{} };\r\n\t\t\tstats.map[input] = [input];\r\n\t\t} else if (typeof input == \"function\"){\r\n\t\t\tstats = { by:input, map:{} };\r\n\t\t} else\r\n\t\t\tstats = input;\r\n\t\t\r\n\t\t//prepare\r\n\t\tvar level;\r\n\t\tif (parent)\r\n\t\t\tlevel = this.getItem(parent).$level;\r\n\t\telse {\r\n\t\t\tparent  = 0;\r\n\t\t\tlevel = 0;\r\n\t\t}\r\n\t\t\r\n\t\tvar order = this.branch[parent];\r\n\t\tvar key = this._group_prop_accessor(stats.by);\r\n\t\t\r\n\t\t//run\r\n\t\tvar topbranch = [];\r\n\t\tvar labels = [];\r\n\t\tfor (var i=0; i<order.length; i++){\r\n\t\t\tvar data = this.getItem(order[i]);\r\n\t\t\tvar current = key(data);\r\n\t\t\tvar current_id = level+\"$\"+current;\r\n\t\t\tvar ancestor = this.branch[current_id];\r\n\r\n\t\t\tif (!ancestor){\r\n\t\t\t\tvar newitem = this.pull[current_id] = { id:current_id, value:current, $group:true, $row:stats.row};\r\n\t\t\t\tlabels.push(newitem);\r\n\t\t\t\tancestor = this.branch[current_id] = [];\r\n\t\t\t\tancestor._formath = [];\r\n\t\t\t\ttopbranch.push(current_id);\r\n\t\t\t}\r\n\t\t\tancestor.push(data.id);\r\n\t\t\tancestor._formath.push(data);\r\n\t\t}\r\n\r\n\t\tthis.branch[parent] = topbranch;\r\n\t\tfor (var prop in stats.map){\r\n\t\t\tvar functor = (stats.map[prop][1]||\"any\");\r\n\t\t\tvar property = this._group_prop_accessor(stats.map[prop][0]);\r\n\t\t\tif (typeof functor != \"function\"){\r\n\t\t\t\twebix.assert(webix.GroupMethods[functor], \"unknown grouping rule: \"+functor);\r\n\t\t\t\tfunctor = webix.GroupMethods[functor];\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tfor (var i=0; i < labels.length; i++)\r\n\t\t\t\tlabels[i][prop]=functor.call(this, property, this.branch[labels[i].id]._formath);\r\n\t\t}\r\n\r\n\t\tfor (var i=0; i < labels.length; i++){\r\n\t\t\tvar group = labels[i];\r\n\r\n\t\t\tif (this.hasEvent(\"onGroupCreated\"))\r\n\t\t\t\tthis.callEvent(\"onGroupCreated\", [group.id, group.value, this.branch[group.id]._formath]);\r\n\r\n\t\t\tif (stats.footer){\r\n\t\t\t\tvar id = \"footer$\"+group.id;\r\n\t\t\t\tvar footer = this.pull[id] = { id:id, $footer:true, value: group.value, $level:level, $count:0, $parent:group.id, $row:stats.footer.row};\r\n\t\t\t\tfor (var prop in stats.footer){\r\n\t\t\t\t\tvar functor = (stats.footer[prop][1]||\"any\");\r\n\t\t\t\t\tvar property = this._group_prop_accessor(stats.footer[prop][0]);\r\n\t\t\t\t\tif (typeof functor != \"function\"){\r\n\t\t\t\t\t\twebix.assert(webix.GroupMethods[functor], \"unknown grouping rule: \"+functor);\r\n\t\t\t\t\t\tfunctor = webix.GroupMethods[functor];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfooter[prop]=functor.call(this, property, this.branch[labels[i].id]._formath);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.branch[group.id].push(footer.id);\r\n\t\t\t\tthis.callEvent(\"onGroupFooter\", [footer.id, footer.value, this.branch[group.id]._formath]);\r\n\t\t\t}\r\n\r\n\t\t\tdelete this.branch[group.id]._formath;\r\n\t\t}\r\n\t\t\t\r\n\r\n\t\tthis._fix_group_levels(topbranch, parent, level+1);\r\n\t\t\t\r\n\t\tthis.callEvent(\"onStoreUpdated\",[]);\r\n\t},\r\n\t_ungroup_tree:function(skipRender, parent, force){\r\n\t\t//not grouped\r\n\t\tif (!force && !this._group_level_count) return;\r\n\t\tthis._group_level_count = Math.max(0, this._group_level_count -1 );\r\n\r\n\t\tparent = parent || 0;\r\n\t\tvar order = [];\r\n\t\tvar toporder = this.branch[parent];\r\n\t\tfor (var i=0; i<toporder.length; i++){\r\n\t\t\tvar id = toporder[i];\r\n\t\t\tvar branch = this.branch[id];\r\n\t\t\tif (branch)\r\n\t\t\t\torder = order.concat(branch);\r\n\r\n\t\t\tdelete this.pull[id];\r\n\t\t\tdelete this.branch[id];\r\n\t\t}\r\n\r\n\t\tthis.branch[parent] = order;\r\n\t\tfor (var i = order.length - 1; i >= 0; i--) {\r\n\t\t\tif (this.pull[order[i]].$footer)\r\n\t\t\t\torder.splice(i,1);\r\n\t\t}\r\n\t\tthis._fix_group_levels(order, 0, 1);\r\n\r\n\t\tif (!skipRender)\r\n\t\t\tthis.callEvent(\"onStoreUpdated\",[]);\r\n\t},\r\n\t_fix_group_levels:function(branch, parent, level){\r\n\t\tif (parent)\r\n\t\t\tthis.getItem(parent).$count = branch.length;\r\n\r\n\t\tfor (var i = 0; i < branch.length; i++) {\r\n\t\t\tvar item = this.pull[branch[i]];\r\n\t\t\titem.$level = level;\r\n\t\t\titem.$parent = parent;\r\n\t\t\tvar next = this.branch[item.id];\r\n\t\t\tif (next)\r\n\t\t\t\tthis._fix_group_levels(next, item.id, level+1);\r\n\t\t}\r\n\t}\r\n};\r\nwebix.clipbuffer = {\r\n\r\n\t_area: null,\r\n\t_blur_id: null,\r\n\t_ctrl: 0,\r\n\r\n\t/*! create textarea or returns existing\r\n\t **/\r\n\tinit: function() {\r\n\t\t// returns existing textarea\r\n\t\tif (this._area !== null)\r\n\t\t\treturn this._area;\r\n\r\n\t\twebix.destructors.push(this);\r\n\t\t// creates new textarea\r\n\t\tthis._area = document.createElement('textarea');\r\n\t\tthis._area.className = \"webix_clipbuffer\";\r\n\t\tthis._area.setAttribute(\"webixignore\", 1);\r\n\t\tdocument.body.appendChild(this._area);\r\n\r\n\t\twebix.event(document.body, 'keydown', webix.bind(function(e){\r\n\t\t\tvar key = e.keyCode;\r\n\t\t\tvar ctrl = !!(e.ctrlKey || e.metaKey);\r\n\t\t\tif (key === 86 && ctrl)\r\n\t\t\t\twebix.delay(this._paste, this, [e], 100);\r\n\t\t}, this));\r\n\r\n\t\treturn this._area;\r\n\t},\r\n\tdestructor: function(){\r\n\t\tthis._area = null;\r\n\t},\r\n\t/*! set text into buffer\r\n\t **/\r\n\tset: function(text) {\r\n\t\tthis.init();\r\n\t\tthis._area.value = text;\r\n\t\tthis.focus();\r\n\t},\r\n\t/*! select text in textarea\r\n\t **/\r\n\tfocus: function() {\r\n\t\t// if there is native browser selection, skip focus\r\n\t\tif(!this._isSelectRange()){\r\n\t\t\tthis.init();\r\n\t\t\tthis._area.focus();\r\n\t\t\tthis._area.select();\r\n\t\t}\r\n\r\n\t},\r\n\t/*! checks document selection\r\n\t **/\r\n\t_isSelectRange: function() {\r\n\t\tvar text = \"\";\r\n\t\tif (typeof window.getSelection != \"undefined\") {\r\n\t\t\ttext = window.getSelection().toString();\r\n\t\t} else if (typeof document.selection != \"undefined\" && document.selection.type == \"Text\") {\r\n\t\t\ttext = document.selection.createRange().text;\r\n\t\t}\r\n\t\treturn !!text;\r\n\t},\r\n\t/*! process ctrl+V pressing\r\n\t **/\r\n\t_paste: function(e) {\r\n\t\tvar trg = e.target || e.srcElement;\r\n\t\tif (trg === this._area) {\r\n\t\t\tvar text = this._area.value;\r\n\t\t\tvar last_active = webix.UIManager.getFocus();\r\n\t\t\tif (last_active && (!last_active.getEditor || !last_active.getEditor())){\r\n\t\t\t\tlast_active.callEvent(\"onPaste\", [text]);\r\n\t\t\t\tthis._area.select();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\nwebix.CopyPaste = {\r\n\tclipboard_setter: function(value) {\r\n\t\tif (value === true || value === 1) value = \"modify\";\r\n\t\tthis.attachEvent(\"onAfterSelect\", function(id) {\r\n\t\t\tif (!this.getEditor || !this.getEditor()){\r\n\t\t\t\tvar item = this.getItem(id);\r\n\t\t\t\tvar text = this.type.templateCopy(item);\r\n\t\t\t\twebix.clipbuffer.set(text, this);\r\n\t\t\t\twebix.clipbuffer.focus();\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.attachEvent(\"onPaste\", function(text) {\r\n\t\t\tif (!webix.isUndefined(this._paste[this._settings.clipboard]))\r\n\t\t\t\tthis._paste[this._settings.clipboard].call(this, text);\r\n\t\t});\r\n\t\tthis.attachEvent(\"onFocus\", function() {\r\n\t\t\twebix.clipbuffer.focus();\r\n\t\t});\r\n\t\t// solution for clicks on selected items\r\n\t\tthis.attachEvent(\"onItemClick\",function(){\r\n\t\t\tif(!document.activeElement || !this.$view.contains(document.activeElement)){\r\n\t\t\t\twebix.clipbuffer.focus();\r\n\t\t\t\twebix.UIManager.setFocus(this);\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t\treturn value;\r\n\t},\r\n\t_paste: {\r\n\t\t// insert new item with pasted value\r\n\t\tinsert: function(text) {\r\n\t\t\tthis.add({ value: text });\r\n\t\t},\r\n\t\t// change value of each selected item\r\n\t\tmodify: function(text) {\r\n\t\t\tvar sel = this.getSelectedId(true);\r\n\t\t\tfor (var i = 0; i < sel.length; i++) {\r\n\t\t\t\tthis.getItem(sel[i]).value = text;\r\n\t\t\t\tthis.refresh(sel[i]);\r\n\t\t\t}\r\n\t\t},\r\n\t\t// do nothing\r\n\t\tcustom: function(text) {}\r\n\t},\r\n\ttemplateCopy_setter: function(value) {\r\n\t\tthis.type.templateCopy = webix.template(value);\r\n\t},\r\n\ttype:{\r\n\t\ttemplateCopy: function(item) {\r\n\t\t\treturn this.template(item);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\nwebix.KeysNavigation = {\r\n    $init:function(){\r\n        this.attachEvent(\"onAfterRender\", function(){\r\n\r\n            var sel = this.getSelectedId(true);\r\n            if(!sel.length || !this.getItemNode(sel[0])){\r\n                var node =  this._dataobj.querySelector(\"[\"+this._id+\"]\");\r\n                if(node) node.setAttribute(\"tabindex\", \"0\");\r\n            }\r\n        });\r\n    },\r\n    _navigation_helper:function(mode){\r\n        return function(view, e){\r\n            var tag = (e.srcElement || e.target);\r\n\r\n            //ignore clipboard listener\r\n            if (!tag.getAttribute(\"webixignore\")){\r\n                //ignore hotkeys if focus in the common input\r\n                //to allow normal text edit operations\r\n                var name = tag.tagName;\r\n                if (name == \"INPUT\" || name == \"TEXTAREA\" || name == \"SELECT\") return true;\r\n            }\r\n            webix.html.preventEvent(e);\r\n\r\n            if (view && view.moveSelection && view.config.navigation && !view._in_edit_mode){\r\n                webix.html.preventEvent(e);\r\n                return view.moveSelection(mode, e.shiftKey);\r\n            }\r\n            return true;\r\n        };\r\n    },\r\n    moveSelection:function(mode, shift){\r\n        var config = this._settings;\r\n        if(config.disabled) return;\r\n        //get existing selection\r\n        var selected = this.getSelectedId(true);\r\n        var x_layout = (this.count && (config.layout ==\"x\" || config.xCount > 1));\r\n\r\n\r\n         if((mode == \"right\" || mode == \"left\") && this._parent_menu){\r\n            var parent = webix.$$(this._parent_menu);\r\n          \r\n            parent._hide_sub_menu(true);\r\n            if(parent.config.layout === \"x\")\r\n                parent.moveSelection(mode);\r\n            else\r\n                webix.UIManager.setFocus(parent);\r\n            return;\r\n        }\r\n\r\n        if (!selected.length){\r\n            if (mode == \"down\" || (mode == \"right\" && x_layout)) mode = \"top\";\r\n            else if (mode == \"up\" || (mode == \"left\" && x_layout)) mode = \"bottom\";\r\n            else return;\r\n            selected = [this.getFirstId()];\r\n        }\r\n\r\n        if (selected.length == 1){  //if we have a selection\r\n            selected = selected[0];\r\n            var prev = selected;\r\n\r\n            if (mode == \"left\" && this.close)\r\n                return this.close(selected);\r\n            if (mode == \"right\" && this.open)\r\n                return this.open(selected);\r\n\r\n            else if (mode == \"top\") {\r\n                selected = this.getFirstId();\r\n            } else if (mode == \"bottom\") {\r\n                selected = this.getLastId();\r\n            } else if (mode == \"up\" || mode == \"left\" || mode == \"pgup\") {\r\n                var index = this.getIndexById(selected);\r\n                var step = mode == \"pgup\" ? 10 : 1;\r\n                selected = this.getIdByIndex(Math.max(0, index-step));\r\n            } else if (mode == \"down\" || mode == \"right\" || mode == \"pgdown\") {\r\n                var index = this.getIndexById(selected);\r\n                var step = mode == \"pgdown\" ? 10 : 1;\r\n                selected = this.getIdByIndex(Math.min(this.count()-1, index+step));\r\n            } else {\r\n                webix.assert(false, \"Not supported selection moving mode\");\r\n                return;\r\n            }\r\n\r\n            if(this._skip_item)\r\n                selected = this._skip_item(selected, prev, mode);\r\n\r\n            this.showItem(selected);\r\n            this.select(selected);\r\n\r\n            if(this.getSubMenu && this.getSubMenu(selected))\r\n                this._mouse_move_activation(selected, this.getItemNode(selected));\r\n\r\n            var node = this.getItemNode(selected);\r\n            if(node)\r\n                node.focus();\r\n            \r\n        }\r\n        return false;\r\n    },\r\n    navigation_setter:function(value){\r\n        //using global flag to apply hotkey only once\r\n        if (value && !webix.UIManager._global_nav_grid_hotkeys){\r\n            webix.UIManager._global_nav_grid_hotkeys = true;\r\n            //hotkeys will react on any component but will not work in edit mode\r\n            //you can define moveSelection method to handle navigation keys\r\n            webix.UIManager.addHotKey(\"up\",         this._navigation_helper(\"up\"));\r\n            webix.UIManager.addHotKey(\"down\",       this._navigation_helper(\"down\"));\r\n            webix.UIManager.addHotKey(\"shift+up\",   this._navigation_helper(\"up\"));\r\n            webix.UIManager.addHotKey(\"shift+down\", this._navigation_helper(\"down\"));\r\n            webix.UIManager.addHotKey(\"shift+right\",   this._navigation_helper(\"right\"));\r\n            webix.UIManager.addHotKey(\"shift+left\", this._navigation_helper(\"left\"));\r\n            webix.UIManager.addHotKey(\"pageup\", \tthis._navigation_helper(\"pgup\"));\r\n            webix.UIManager.addHotKey(\"pagedown\",   this._navigation_helper(\"pgdown\"));\r\n            webix.UIManager.addHotKey(\"home\", \t    this._navigation_helper(\"top\"));\r\n            webix.UIManager.addHotKey(\"end\", \t\tthis._navigation_helper(\"bottom\"));\r\n            webix.UIManager.addHotKey(\"right\", \t    this._navigation_helper(\"right\"));\r\n            webix.UIManager.addHotKey(\"left\",\t\tthis._navigation_helper(\"left\"));\r\n\r\n        }\r\n\r\n        return value;\r\n    }\r\n};\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"tree\",\r\n\tdefaults:{\r\n\t\tscroll:\"a\",\r\n\t\tnavigation:true\r\n\t},\r\n\t$init:function(){\r\n\t\tthis._viewobj.className += \" webix_tree\";\r\n\r\n\t\t//map API of DataStore on self\r\n\t\twebix.extend(this.data, webix.TreeStore, true);\r\n\t\twebix.extend(this.on_click, webix.TreeClick);\r\n\t\tthis.attachEvent(\"onAfterRender\", this._refresh_scroll);\r\n\t\tthis.attachEvent(\"onPartialRender\", this._refresh_scroll);\r\n\t\tthis.data.provideApi(this,true);\r\n\r\n\t\tthis._viewobj.setAttribute(\"role\", \"tree\");\r\n\t},\r\n\t//attribute , which will be used for ID storing\r\n\t_id:\"webix_tm_id\",\r\n\t//supports custom context menu\r\n\ton_context:{},\r\n\ton_dblclick:{\r\n\t\twebix_tree_checkbox:function(){\r\n\t\t\tif(this.on_click.webix_tree_checkbox)\r\n\t\t\t\treturn this.on_click.webix_tree_checkbox.apply(this,arguments);\r\n\t\t}\r\n\t},\r\n\t//css class to action map, for onclick event\r\n\ton_click:{\r\n\t\twebix_tree_item:function(e,id){\r\n\t\t\tif(this._settings.activeTitle){\r\n\t\t\t\tvar item = this.getItem(id);\r\n\t\t\t\tif(item.open)\r\n\t\t\t\t\tthis.close(id);\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.open(id);\r\n\t\t\t}\r\n\t\t\tif (this._settings.select){\r\n\t\t\t\tif (this._settings.select==\"multiselect\" || this._settings.multiselect){\r\n\t\t\t\t\tif (this._settings.multiselect == \"level\"){\r\n\t\t\t\t\t\t//allow only selection on the same level\r\n\t\t\t\t\t\tvar select = this.getSelectedId(true)[0];\r\n\t\t\t\t\t\tif (select && this.getParentId(id) != this.getParentId(select)) \r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.select(id, false, (e.ctrlKey || e.metaKey || (this._settings.multiselect == \"touch\")), e.shiftKey); \t//multiselection\r\n\t\t\t\t} else\r\n\t\t\t\t\tthis.select(id);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_paste: {\r\n\t\t// insert new item with pasted value\r\n\t\tinsert: function(text) {\r\n\t\t\tvar parent = this.getSelectedId() ||'0' ;\r\n\t\t\tthis.add({ value: text }, null, parent);\r\n\t\t},\r\n\t\t// change value of each selected item\r\n\t\tmodify: function(text) {\r\n\t\t\tvar sel = this.getSelectedId(true);\r\n\t\t\tfor (var i = 0; i < sel.length; i++) {\r\n\t\t\t\tthis.getItem(sel[i]).value = text;\r\n\t\t\t\tthis.refresh(sel[i]);\r\n\t\t\t}\r\n\t\t},\r\n\t\t// do nothing\r\n\t\tcustom: function(text) {}\r\n\t},\r\n\t_drag_order_complex:true,\r\n\t$dragHTML:function(obj){\r\n\t\treturn \"<div class='borderless'>\"+this.type.template(obj, this.type)+\"</div>\";\r\n\t},\r\n\t\r\n\t//css class to action map, for dblclick event\r\n\ttype:webix.extend({\r\n\t\t//normal state of item\r\n\t\ttemplate:function(obj,common){\r\n\t\t\tvar template = common[\"template\"+obj.level]||common.templateCommon;\r\n\t\t\treturn template.apply(this, arguments);\r\n\t\t},\r\n\t\tclassname:function(obj, common, marks){\r\n\t\t\tvar css = \"webix_tree_item\";\r\n\r\n\t\t\tif (obj.$css){\r\n\t\t\t\tif (typeof obj.$css == \"object\")\r\n\t\t\t\t\tobj.$css = webix.html.createCss(obj.$css);\r\n\t\t\t\tcss += \" \"+obj.$css;\r\n\t\t\t}\r\n\t\t\tif (marks && marks.$css)\r\n\t\t\t\tcss += \" \"+marks.$css;\r\n\r\n\t\t\treturn css;\r\n\t\t},\r\n\t\taria:function(obj, common, marks){\r\n\t\t\treturn 'role=\"treeitem\"'+(marks && marks.webix_selected?' aria-selected=\"true\" tabindex=\"0\"':' tabindex=\"-1\"')+\r\n\t\t\t\t(obj.$count?('aria-expanded=\"'+(obj.open?\"true\":\"false\")+'\"'):'')+'aria-level=\"'+obj.$level+'\"';\r\n\t\t},\r\n\t\ttemplateCommon:webix.template(\"{common.icon()} {common.folder()} <span>#value#</span>\"),\r\n\t\ttemplateStart:webix.template('<div webix_tm_id=\"#id#\" class=\"{common.classname()}\" {common.aria()}>'),\r\n\t\ttemplateEnd:webix.template(\"</div>\"),\r\n\t\ttemplateCopy: webix.template(\"#value#\")\r\n\t}, webix.TreeType)\r\n}, webix.AutoTooltip, webix.Group, webix.TreeAPI, webix.DragItem, webix.TreeDataMove, webix.SelectionModel, webix.KeysNavigation, webix.MouseEvents, webix.Scrollable, webix.TreeDataLoader, webix.ui.proto, webix.TreeRenderStack, webix.CopyPaste, webix.EventSystem);\r\n\r\nwebix.TreeStateCheckbox = {\r\n\t_init_render_tree_state: function(){\r\n\t\tif (this._branch_render_supported){\r\n\t\t\tvar old_render = this.render;\r\n\t\t\tthis.render = function(id,data,mode){\r\n\t\t\t\tvar updated = old_render.apply(this,arguments);\r\n\r\n\t\t\t\tif(this._settings.threeState && updated && data != \"checkbox\")\r\n\t\t\t\t\tthis._setThirdState.apply(this,arguments);\r\n\t\t\t};\r\n\t\t\tthis._init_render_tree_state=function(){};\r\n\t\t}\r\n\t},\r\n\tthreeState_setter:function(value){\r\n\t\tif (value)\r\n\t\t\tthis._init_render_tree_state();\r\n\t\treturn value;\r\n\t},\r\n\t_setThirdState:function(id){\r\n\t\tvar i,leaves,parents,checkedParents,tree;\r\n\t\tparents = [];\r\n\t\ttree = this;\r\n\r\n\t\t/*if item was removed*/\r\n\t\tif(id&&!tree.data.pull[id]){\r\n\t\t\tid = 0;\r\n\t\t}\r\n\t\t/*sets checkbox states*/\r\n\t\t/*if branch or full reloading*/\r\n\t\tif(!id||tree.data.pull[id].$count){\r\n\t\t\tleaves = this._getAllLeaves(id);\r\n\t\t\tleaves.sort(function(a,b){\r\n\t\t\t\treturn tree.data.pull[b].$level - tree.data.pull[a].$level;\r\n\t\t\t});\r\n\t\t\tfor(i=0;i < leaves.length;i++){\r\n\t\t\t\tif(!i||tree.data.pull[leaves[i]].$parent!=tree.data.pull[leaves[i-1]].$parent)\r\n\t\t\t\t\tparents = parents.concat(tree._setParentThirdState(leaves[i]));\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\t/*an item is a leaf */\r\n\t\t\tparents = parents.concat(tree._setParentThirdState(id));\r\n\t\t}\r\n\r\n\t\tcheckedParents = {};\r\n\t\tfor(i=0;i<parents.length;i++){\r\n\t\t\tif(!checkedParents[parents[i]]){\r\n\t\t\t\tcheckedParents[parents[i]] = 1;\r\n\t\t\t\tthis._setCheckboxIndeterminate(parents[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttree = null;\r\n\t},\r\n\t_setCheckboxIndeterminate:function(id){\r\n\t\tvar chElem, elem;\r\n\t\telem = this.getItemNode(id);\r\n\t\tif(elem){\r\n\t\t\tthis.render(id,\"checkbox\",\"update\");\r\n\t\t\t/*needed to get the new input obj and to set indeterminate state*/\r\n\t\t\tif(this.getItem(id).indeterminate){\r\n\t\t\t\telem = this.getItemNode(id);\r\n\t\t\t\tchElem = elem.getElementsByTagName(\"input\")[0];\r\n\t\t\t\tif(chElem)\r\n\t\t\t\t\tchElem.indeterminate = this.getItem(id).indeterminate;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_setParentThirdState:function(itemId){\r\n\t\t//we need to use dynamic function creating\r\n\t\t//jshint -W083:true\r\n\r\n\t\tvar checked, checkedCount,indeterminate, parentId,result,tree,unsureCount,needrender;\r\n\t\tparentId = this.getParentId(itemId);\r\n\t\ttree = this;\r\n\t\tresult = [];\r\n\t\twhile(parentId && parentId != \"0\"){\r\n\t\t\tunsureCount = 0;\r\n\t\t\tcheckedCount = 0;\r\n\t\t\tthis.data.eachChild(parentId,function(obj){\r\n\t\t\t\tif(obj.indeterminate){\r\n\t\t\t\t\tunsureCount++;\r\n\t\t\t\t}\r\n\t\t\t\telse if(obj.checked){\r\n\t\t\t\t\tcheckedCount++;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tchecked = indeterminate = needrender = false;\r\n\t\t\t\r\n\t\t\tvar item = this.getItem(parentId);\r\n\t\t\tif(checkedCount==item.$count){\r\n\t\t\t\tchecked = true;\r\n\t\t\t}\r\n\t\t\telse if(checkedCount>0||unsureCount>0){\r\n\t\t\t\tindeterminate = true;\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\t//we need to reset indeterminate in any case :(\r\n\t\t\tif (indeterminate || indeterminate != item.indeterminate)\r\n\t\t\t\tneedrender = true;\r\n\t\t\titem.indeterminate = indeterminate;\r\n\t\t\tif (item.checked != checked)\r\n\t\t\t\tneedrender = true;\r\n\t\t\titem.checked = checked;\r\n\r\n\t\t\tif (needrender){\r\n\t\t\t\tresult.push(parentId);\r\n\t\t\t\tparentId = this.getParentId(parentId);\r\n\t\t\t} else \r\n\t\t\t\tparentId = 0;\r\n\r\n\t\t\t\r\n\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\t/*get all checked items in tree*/\r\n\tgetChecked:function(){\r\n\t\tvar result=[];\r\n\t\tvar tree = this;\r\n\t\tthis.data.eachSubItem(0,function(obj){\r\n\t\t\tif (tree.isChecked(obj.id))\r\n\t\t\t\tresult.push(obj.id);\r\n\t\t});\r\n\t\treturn result;\r\n\t},\r\n\t_tree_check_uncheck_3:function(id, mode){\r\n\t\tvar item = this.getItem(id);\r\n\t\tif(item){\r\n\t\t\tif (mode === \"\") \r\n\t\t\t\tmode = !item.checked;\r\n\t\t\tif(item.checked != mode || item.indeterminate){\r\n\t\t\t\titem.checked = mode;\r\n\t\t\t\tthis._correctThreeState(id);\r\n\t\t\t\tvar parents = this._setParentThirdState(id);\r\n\t\t\t\tif (this._branch_render_supported && parents.length < 5){\r\n\t\t\t\t\tfor (var i=0; i<parents.length; i++)\r\n\t\t\t\t\t\tthis._setCheckboxIndeterminate(parents[i]);\r\n\t\t\t\t} else\r\n\t\t\t\t\tthis.refresh();\r\n\t\t\t\tthis.callEvent(\"onItemCheck\", [id, mode]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t/*set checked state for item checkbox*/\r\n\tcheckItem:function(id){\r\n\t\tthis._tree_check_uncheck(id, true);\r\n\t\tthis.updateItem(id);\r\n\t},\r\n\t/*uncheckes an item checkbox*/\r\n\tuncheckItem:function(id){\r\n\t\tthis._tree_check_uncheck(id, false);\r\n\t\tthis.updateItem(id);\r\n\t},\r\n\t_checkUncheckAll: function(id,mode,all){\r\n\t\tvar method = mode?\"checkItem\":\"uncheckItem\";\r\n\t\tif(!id)\r\n\t\t\tid = 0;\r\n\t\telse\r\n\t\t\tthis[method](id);\r\n\t\tif(this._settings.threeState){\r\n\t\t\tif(!id)\r\n\t\t\t\tthis.data.eachChild(0,function(item){\r\n\t\t\t\t\tthis[method](item.id);\r\n\t\t\t\t},this,all);\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis.data.each(function(item){\r\n\t\t\t\tthis[method](item.id);\r\n\t\t\t},this,all,id);\r\n\r\n\t},\r\n\t/*checkes checkboxes of all items in a branch/tree*/\r\n\tcheckAll: function(id, all){\r\n\t\tthis._checkUncheckAll(id,true,all);\r\n\r\n\t},\r\n\t/*uncheckes checkboxes of all items in a branch/tree*/\r\n\tuncheckAll: function(id, all){\r\n\t\tthis._checkUncheckAll(id,false,all);\r\n\t},\r\n\t_correctThreeState:function(id){\r\n\t\tvar i,leaves,state;\r\n\t\tvar item = this.getItem(id);\r\n\r\n\t\titem.indeterminate = false;\r\n\t\tstate = item.checked;\r\n\r\n\t\tthis.data.eachSubItem(id, function(child){\r\n\t\t\tchild.indeterminate = false;\r\n\t\t\tchild.checked = state;\r\n\t\t});\r\n\t\t\r\n\t\tif(this._branch_render_supported && this.isBranchOpen(item.$parent)){ //for tree-render only\r\n\t\t\tthis.render(id,0,\"branch\");\r\n\t\t}\r\n\t},\r\n\t/*returns checked state of item checkbox*/\r\n\tisChecked:function(id){\r\n\t\treturn this.getItem(id).checked;\r\n\t},\r\n\t/*gets all leaves in a certain branch (in the whole tree if id is not set)*/\r\n\t_getAllLeaves:function(parentId){\r\n\t\tvar result = [];\r\n\t\tthis.data.eachSubItem(parentId, function(obj, branch){\r\n\t\t\tif (!branch)\r\n\t\t\t\tresult.push(obj.id);\r\n\t\t});\r\n\t\treturn result;\r\n\t}\t\r\n};\r\n\r\nif (webix.ui.tree)\r\n\twebix.extend(webix.ui.tree, webix.TreeStateCheckbox, true);\r\nwebix.type(webix.ui.tree, {\r\n\tname:\"lineTree\",\r\n\tcss:\"webixLineTree\",\r\n\ticon:function(obj, common){\r\n\t\tvar html = \"\";\r\n\t\tvar open = \"\";\r\n\t\tfor (var i=1; i<=obj.$level; i++){\r\n\t\t\tif (i==obj.$level)\r\n\t\t\t\tvar open = (obj.$count?(obj.open?'webix_tree_open ':'webix_tree_close '):'webix_tree_none ');\r\n\r\n\t\t\tvar icon = this._icon_src(obj, common, i);\r\n\t\t\tif (icon)\r\n\t\t\t\thtml+=\"<div class='\"+open+\" webix_tree_img webix_tree_\"+icon+\"'></div>\";\r\n\t\t}\r\n\t\treturn html;\r\n\t},\r\n\t_icon_src:function(obj, common, level){\r\n\t\tvar lines = common._tree_branch_render_state; \r\n\t\tvar tree = webix.TreeRenderStack._obj;\r\n\t\tif (lines === 0 && tree){\r\n\t\t\t//we are in standalone rendering \r\n\t\t\t//need to reconstruct rendering state\r\n\t\t\tvar lines_level = obj.$level;\r\n\t\t\tvar branch_id = obj.id;\r\n\r\n\t\t\tlines = [];\r\n\t\t\twhile (lines_level){\r\n\t\t\t\tvar parent_id = tree.getParentId(branch_id);\r\n\t\t\t\tvar pbranch = tree.data.branch[parent_id];\r\n\t\t\t\tif (pbranch[pbranch.length-1] == branch_id)\r\n\t\t\t\t\tlines[lines_level] = true;\t\r\n\r\n\t\t\t\tbranch_id = parent_id;\r\n\t\t\t\tlines_level--;\r\n\t\t\t}\r\n\r\n\t\t\t//store for next round\r\n\t\t\tcommon._tree_branch_render_state = lines;\r\n\t\t}\r\n\t\tif (!lines)\r\n\t\t\treturn 0;\r\n\t\t//need to be replaced with image urls\r\n\t\tif (level == obj.$level){\r\n\t\t\tvar mode = 3; //3-way line\r\n\t\t\tif (!obj.$parent){ //top level\r\n\t\t\t\tif (obj.$index === 0)\r\n\t\t\t\t\tmode = 4; //firts top item\r\n\t\t\t}\r\n\t\t\tif (lines[obj.$level])\r\n\t\t\t\tmode = 2;\r\n\r\n\t\t\tif (obj.$count){\r\n\t\t\t\tif (obj.open)\r\n\t\t\t\t\treturn \"minus\"+mode;\r\n\t\t\t\telse\r\n\t\t\t\t\treturn \"plus\"+mode;\r\n\t\t\t} else\r\n\t\t\t\treturn \"line\"+mode;\r\n\t\t} else {\r\n\t\t\tif (!lines[level])\r\n\t\t\t\treturn \"line1\";\r\n\t\t\treturn \"blank\";\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\n\r\n \t\r\n \r\n\r\n\r\n\r\n\r\n/*\r\n    UI: navigation control\r\n*/\r\nwebix.NavigationButtons = {\r\n\t$init:function(){\r\n\t\tthis.$ready.push(function(){\r\n\t\t\tthis.attachEvent(\"onKeyPress\", this._onKeyPress);\r\n\t\t});\r\n\t},\r\n\t_moveActive:function(code, e){\r\n\t\tif(code === 37  || code === 39){\r\n\t\t\twebix.html.preventEvent(e);\r\n\t\t\tthis._showNavItem(code===37?-1:1);\r\n\r\n\t\t\tvar node = this._navPanel.querySelector(\"[tabindex='0']\");\r\n\t\t\tif(node) node.focus();\r\n\t\t}\r\n\t},\r\n\t_renderPanel:function(){\r\n\t\twebix.html.remove(this._navPanel);\r\n\r\n\r\n\t\tthis._navPanel = webix.html.create(\"DIV\",{\r\n\t\t\t\"class\":\"webix_nav_panel \"+\"webix_nav_panel_\"+this._settings.navigation.type,\r\n\t\t\t\"role\":\"tablist\"\r\n\t\t},\"\");\r\n\r\n\t\tthis._viewobj.appendChild(this._navPanel);\r\n\r\n\r\n\t\tthis._renderNavItems();\r\n\t\tthis._renderNavButtons();\r\n\t\tthis._setLinkEventHandler();\r\n\t},\r\n\t_setLinkEventHandler: function(){\r\n\t\tvar h = [];\r\n\t\tif(this._navPanel)\r\n\t\t\th[0] = webix.event(this._navPanel,\"click\", webix.bind(function(e){\r\n\t\t\t\tvar elem = (e.srcElement || e.target);\r\n\t\t\t\tvar found = false;\r\n\t\t\t\twhile(elem != this._navPanel && !found){\r\n\t\t\t\t\tvar bindId = elem.getAttribute(this._linkAttr);\r\n\t\t\t\t\tif(bindId){\r\n\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t\tthis._showPanelBind(bindId);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telem = elem.parentNode;\r\n\t\t\t\t}\r\n\t\t\t},this));\r\n\t\tif(this._prevNavButton)\r\n\t\t\th[1] = webix.event(this._prevNavButton,\"click\", webix.bind(function(e){\r\n\t\t\t\tthis._showNavItem(-1);\r\n\t\t\t},this));\r\n\t\tif(this._nextNavButton)\r\n\t\t\th[1] = webix.event(this._nextNavButton,\"click\", webix.bind(function(e){\r\n\t\t\t\tthis._showNavItem(1);\r\n\t\t\t},this));\r\n\t\tthis.attachEvent(\"onDestruct\", function(){\r\n\t\t\tfor(var i=0;i< h.length; i++){\r\n\t\t\t\tthis.detachEvent(h[i]);\r\n\t\t\t}\r\n\t\t\th = null;\r\n\t\t});\r\n\t},\r\n\t_showNavItem: function(inc){\r\n\t\tif(this._cells){\r\n\t\t\tvar index = this._active_cell + inc;\r\n\t\t\tif(index >= this._cells.length || index < 0){\r\n\t\t\t\tindex = (index < 0?this._cells.length-1:0);\r\n\t\t\t}\r\n\t\t\tthis.setActiveIndex(index);\r\n\t\t}\r\n\t},\r\n\t_showPanelBind: function(id){\r\n\t\tif(this._cells)\r\n\t\t\twebix.$$(id).show();\r\n\t},\r\n\t_renderNavItems:function(){\r\n\t\tvar item, config;\r\n\t\tconfig = this._settings.navigation;\r\n\t\tif(config.items){\r\n\t\t\tthis._linkAttr = config.linkAttr || \"bind_id\";\r\n\r\n\t\t\tif(!this._navPanel)\r\n\t\t\t\tthis._renderPanel();\r\n\t\t\telse\r\n\t\t\t\tthis._clearPanel();\r\n\r\n\t\t\tvar data = (this._cells?this._cells:this.data.order);\r\n\t\t\tif(data.length>1){\r\n\t\t\t\tfor (var i=0; i < data.length; i++){\r\n\r\n\t\t\t\t\titem = webix.html.create(\"DIV\",{\r\n\t\t\t\t\t\t\"class\":\"webix_nav_item webix_nav_\"+(i==this._active_cell?\"active\":\"inactive\"),\r\n\t\t\t\t\t\t\"role\":\"tab\",\r\n\t\t\t\t\t\t\"tabindex\":(i==this._active_cell?\"0\":\"-1\")\r\n\t\t\t\t\t},\"<div></div>\");\r\n\t\t\t\t\tvar id = this._cells?this._cells[i]._settings.id:data[i];\r\n\t\t\t\t\tif(id)\r\n\t\t\t\t\t\titem.setAttribute(this._linkAttr, id);\r\n\t\t\t\t\tthis._navPanel.appendChild(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_clearPanel:function(){\r\n\t\tif (this._navPanel){\r\n\t\t\tvar coll = this._navPanel.childNodes;\r\n\t\t\tfor (var i = coll.length - 1; i >= 0; i--)\r\n\t\t\t\twebix.html.remove(coll[i]);\r\n\t\t}\r\n\t},\r\n\t_renderNavButtons: function(){\r\n\t\tvar item, config;\r\n\t\tconfig = this._settings.navigation;\r\n\t\tif(config.buttons){\r\n\r\n\t\t\tif(this._prevNavButton)\r\n\t\t\t\twebix.html.remove(this._prevNavButton);\r\n\t\t\tif(this._prevNavButton)\r\n\t\t\t\twebix.html.remove(this._nextNavButton);\r\n\r\n\r\n\t\t\tthis._prevNavButton = webix.html.create(\r\n\t\t\t\t\"DIV\",\r\n\t\t\t\t{\r\n\t\t\t\t\t\"class\":\"webix_nav_button_\"+config.type+\" webix_nav_button_prev \",\r\n\t\t\t\t\t\"role\":\"button\",\r\n\t\t\t\t\t\"tabindex\":\"0\",\r\n\t\t\t\t\t\"aria-label\":webix.i18n.aria.prevTab\r\n\t\t\t\t},\r\n\t\t\t\t\"<div class=\\\"webix_nav_button_inner\\\"></div>\"\r\n\t\t\t);\r\n\t\t\tthis._viewobj.appendChild(this._prevNavButton);\r\n\r\n\t\t\tthis._nextNavButton = webix.html.create(\r\n\t\t\t\t\"DIV\",\r\n\t\t\t\t{\r\n\t\t\t\t\t\"class\":\"webix_nav_button_\"+config.type+\" webix_nav_button_next \",\r\n\t\t\t\t\t\"role\":\"button\",\r\n\t\t\t\t\t\"tabindex\":\"0\",\r\n\t\t\t\t\t\"aria-label\":webix.i18n.aria.nextTab\r\n\t\t\t\t},\r\n\t\t\t\t\"<div class=\\\"webix_nav_button_inner\\\"></div>\"\r\n\t\t\t);\r\n\t\t\tthis._viewobj.appendChild(this._nextNavButton);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"list\",\r\n\t_listClassName : \"webix_list\",\r\n\t$init:function(config){\r\n\t\twebix.html.addCss(this._viewobj, this._listClassName + (((config.layout||this.defaults.layout) == \"x\")?\"-x\":\"\") );\r\n\t\tthis.data.provideApi(this,true);\r\n\r\n\t\tthis._auto_resize = webix.bind(this._auto_resize, this);\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\", this._auto_resize);\r\n\t\tthis.data.attachEvent(\"onSyncApply\", this._auto_resize);\r\n\t\tthis.attachEvent(\"onAfterRender\", this._correct_width_scroll);\r\n\r\n\t\tthis._viewobj.setAttribute(\"role\", \"listbox\");\r\n\t},\r\n\t$dragHTML:function(obj, e){\r\n\t\tif (this._settings.layout == \"y\" && this.type.width == \"auto\"){\r\n\t\t\tthis.type.width = this._content_width;\r\n\t\t\tvar node = this._toHTML(obj);\r\n\t\t\tthis.type.width = \"auto\";\r\n\t\t\treturn node;\r\n\t\t}\r\n\t\treturn this._toHTML(obj);\r\n\t},\r\n\tdefaults:{\r\n\t\tselect:false,\r\n\t\tscroll:true,\r\n\t\tlayout:\"y\",\r\n\t\tnavigation:true\r\n\t},\r\n\t_id:\"webix_l_id\",\r\n\ton_click:{\r\n\t\twebix_list_item:function(e,id){\r\n\t\t\tif (this._settings.select){\r\n                this._no_animation = true;\r\n\t\t\t\tif (this._settings.select==\"multiselect\"  || this._settings.multiselect)\r\n\t\t\t\t\tthis.select(id, false, (e.ctrlKey || e.metaKey || (this._settings.multiselect == \"touch\")), e.shiftKey); \t//multiselection\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.select(id);\r\n                this._no_animation = false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\ton_dblclick:{\r\n\t},\r\n\tgetVisibleCount:function(){\r\n\t\treturn Math.floor(this._content_height / this.type.height);\r\n\t},\r\n\t_auto_resize:function(){\r\n\t\tif (this._settings.autoheight || this._settings.autowidth)\r\n\t\t\tthis.resize();\r\n\t},\r\n\t_auto_height_calc:function(count){\r\n\t\tvar value = this.data.$pagesize||this.count();\r\n\r\n\t\tthis._onoff_scroll(count && count < value);\r\n\t\tif (this._settings.autoheight && value < (count||Infinity) ) \r\n\t\t\tcount = value;\r\n\t\treturn Math.max(this.type.height * count,this._settings.minHeight||0);\r\n\t},\r\n\t_auto_width_calc:function(count){\r\n\t\tvar value = this.data.$pagesize||this.count();\r\n\r\n\t\tthis._onoff_scroll(count && count < value);\r\n\t\tif (this._settings.autowidth && value < (count||Infinity) ) \r\n\t\t\tcount = value;\r\n\r\n\t\treturn (this.type.width * count); \r\n\t},\r\n\t_correct_width_scroll:function(){\r\n\t\tif (this._settings.layout == \"x\")\r\n\t\t\tthis._dataobj.style.width = (this.type.width != \"auto\") ? (this.type.width * this.count() + \"px\") : \"auto\";\r\n\t},\r\n\t$getSize:function(dx,dy){\r\n\t\tif (this._settings.layout == \"y\"){\r\n\t\t\tif (this.type.width!=\"auto\")\r\n\t\t\t\tthis._settings.width = this.type.width + (this._scroll_y?webix.ui.scrollSize:0);\r\n\t\t\tif (this._settings.yCount || this._settings.autoheight)\r\n\t\t\t\tthis._settings.height = this._auto_height_calc(this._settings.yCount)||1;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (this.type.height!=\"auto\")\r\n\t\t\t\tthis._settings.height = this.type.height + (this._scroll_x?webix.ui.scrollSize:0);\r\n\t\t\tif (this._settings.xCount || this._settings.autowidth)\r\n\t\t\t\tthis._settings.width = this._auto_width_calc(this._settings.xCount)||1;\r\n\t\t}\r\n\t\treturn webix.ui.view.prototype.$getSize.call(this, dx, dy);\r\n\t},\r\n\t$setSize:function(){\r\n        webix.ui.view.prototype.$setSize.apply(this, arguments);\r\n\t},\r\n\ttype:{\r\n\t\tcss:\"\",\r\n\t\twidthSize:function(obj, common){\r\n\t\t\treturn common.width+(common.width>-1?\"px\":\"\");\r\n\t\t},\r\n\t\theightSize:function(obj, common){\r\n\t\t\treturn common.height+(common.height>-1?\"px\":\"\");\r\n\t\t},\r\n\t\tclassname:function(obj, common, marks){\r\n\t\t\tvar css = \"webix_list_item\";\r\n\t\t\tif (obj.$css){\r\n\t\t\t\tif (typeof obj.$css == \"object\")\r\n\t\t\t\t\tobj.$css = webix.html.createCss(obj.$css);\r\n\t\t\t\tcss += \" \"+obj.$css;\r\n\t\t\t}\r\n\t\t\tif (marks && marks.$css)\r\n\t\t\t\tcss += \" \"+marks.$css;\r\n\r\n\t\t\treturn css;\r\n\t\t},\r\n\t\taria:function(obj, common, marks){\r\n\t\t\treturn 'role=\"option\"'+(marks && marks.webix_selected?' aria-selected=\"true\" tabindex=\"0\"':' tabindex=\"-1\"')+(obj.$count && obj.$template?'aria-expanded=\"true\"':'');\r\n\t\t},\r\n\t\ttemplate:function(obj){\r\n\t\t\treturn (obj.icon?(\"<span class='webix_icon fa-\"+obj.icon+\"'></span> \"):\"\") + obj.value + (obj.badge?(\"<div class='webix_badge'>\"+obj.badge+\"</div>\"):\"\");\r\n\t\t},\r\n\t\twidth:\"auto\",\r\n\t\ttemplateStart:webix.template('<div webix_l_id=\"#id#\" class=\"{common.classname()}\" style=\"width:{common.widthSize()}; height:{common.heightSize()}; overflow:hidden;\" {common.aria()}>'),\r\n\t\ttemplateEnd:webix.template(\"</div>\")\r\n\t},\r\n\t$skin:function(){\r\n\t\tthis.type.height = webix.skin.$active.listItemHeight;\r\n\t}\r\n}, webix.KeysNavigation, webix.DataMove, webix.DragItem, webix.MouseEvents, webix.SelectionModel, webix.Scrollable, webix.ui.proto, webix.CopyPaste);\r\n\r\nwebix.protoUI({\r\n\tname:\"grouplist\",\r\n\tdefaults:{\r\n\t\tanimate:{\r\n\t\t}\r\n\t},\r\n\t_listClassName : \"webix_grouplist\",\r\n\t$init:function(){\r\n\t\twebix.extend(this.data, webix.TreeStore, true);\r\n\t\t//needed for getRange\r\n\t\tthis.data.count = function(){ return this.order.length; };\r\n\t\tthis.data.provideApi(this,true);\r\n\t\tthis.data.attachEvent(\"onClearAll\", webix.bind(this._onClear, this));\r\n\t\tthis._onClear();\r\n\t},\r\n\t_onClear:function(){\r\n\t\tthis._nested_cursor = [];\r\n\t\tthis._nested_chain = [];\r\n\t},\r\n\t$setSize:function(){\r\n        if (webix.ui.view.prototype.$setSize.apply(this, arguments)){\r\n\t        //critical for animations in group list\r\n\t        this._dataobj.style.width = this._content_width;\r\n\t    }\r\n\t},\t\r\n\ton_click:{\r\n\t\twebix_list_item:function(e,id){\r\n\t\t\tif (this._in_animation) {\r\n                return false;\r\n            }\r\n\r\n\t\t\tfor (var i=0; i < this._nested_chain.length; i++){\r\n\t\t\t\tif (this._nested_chain[i] == id){ //one level up\r\n\t\t\t\t\tfor (var j=i; j < this._nested_chain.length; j++) {\r\n\t\t\t\t\t\tthis.data.getItem(this._nested_chain[j]).$template=\"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!i){ //top level\r\n\t\t\t\t\t\tthis._nested_cursor = this.data.branch[0];\r\n\t\t\t\t\t\tthis._nested_chain = [];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis._nested_cursor= this.data.branch[this._nested_chain[i-1]];\r\n\t\t\t\t\t\tthis._nested_chain.splice(i);\r\n\t\t\t\t\t}\r\n                    this._is_level_down = false;\r\n\t\t\t\t\treturn this.render();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar obj = this.getItem(id);\r\n\t\t\tif (obj.$count){\t//one level down\r\n                this._is_level_down = true;\r\n\t\t\t\tthis._nested_chain.push(id);\r\n\t\t\t\tobj.$template = \"Back\";\r\n\t\t\t\tthis._nested_cursor = this.data.branch[obj.id];\r\n\t\t\t\treturn this.render();\r\n\t\t\t} else {\r\n\t\t\t\tif (this._settings.select){\r\n                    this._no_animation = true;\r\n\t\t\t\t\tif (this._settings.select==\"multiselect\" || this._settings.multiselect)\r\n\t\t\t\t\t\tthis.select(id, false, ((this._settings.multiselect == \"touch\") || e.ctrlKey || e.metaKey), e.shiftKey); \t//multiselection\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tthis.select(id);\r\n                    this._no_animation = false;\r\n\t\t\t\t}\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n    getOpenState:function(){\r\n        return {parents:this._nested_chain,branch:this._nested_cursor};\r\n    },\r\n\trender:function(id,data,type,after){\r\n\t\tvar i, lastChain;\r\n\r\n\t\t//start filtering processing=>\r\n\t\tthis._nested_chain = webix.copy(this._nested_chain);\r\n\t\tthis._nested_cursor = webix.copy(this._nested_cursor);\r\n\r\n\t\tif(this._nested_chain.length){\r\n\t\t\tfor(i = 0;i<this._nested_chain.length;i++){\r\n\t\t\t\tif(!this.data.branch[this._nested_chain[i]]){\r\n\t\t\t\t\tthis._nested_chain.splice(i,1);\r\n\t\t\t\t\ti--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tlastChain =  (this._nested_chain.length?this._nested_chain[this._nested_chain.length-1]:0);\r\n\t\tthis._nested_cursor = webix.copy(this.data.branch[lastChain]) ;\r\n\r\n\t\tif(!this._nested_cursor.length&&this._nested_chain.length){\r\n\t\t\tthis._nested_cursor =  [lastChain];\r\n\t\t\tthis._nested_chain.pop();\r\n\t\t}\r\n\t\t//<= end filtering processing\r\n\r\n\t\tif (this._in_animation) {\r\n            return webix.delay(this.render, this, arguments, 100);\r\n        }        \r\n        for (i=0; i < this._nested_cursor.length; i++)\r\n        \tthis.data.getItem(this._nested_cursor[i]).$template = \"\";\r\n\r\n\t\tif (!this._nested_cursor.length)\r\n            this._nested_cursor = this.data.branch[0];\r\n\r\n\t\tthis.data.order = webix.toArray([].concat(this._nested_chain).concat(this._nested_cursor));\r\n\t\t\t\r\n        if (this.callEvent(\"onBeforeRender\",[this.data])){\r\n            if(this._no_animation || !this._dataobj.innerHTML || !(webix.animate.isSupported() && this._settings.animate) || (this._prev_nested_chain_length == this._nested_chain.length)) { // if dataobj is empty or animation is not supported\r\n\t\t\t\twebix.RenderStack.render.apply(this, arguments);\r\n            }\r\n            else {\r\n                //getRange - returns all elements\r\n                if (this.callEvent(\"onBeforeRender\",[this.data])){\r\n\r\n                    if(!this._back_scroll_states)\r\n                        this._back_scroll_states = [];\r\n\r\n\t\t\t\t\tvar next_div = this._dataobj.cloneNode(false);\r\n\t\t\t\t\tnext_div.innerHTML = this.data.getRange().map(this._toHTML,this).join(\"\");\r\n\r\n\t\t\t\t\tvar aniset = webix.extend({}, this._settings.animate);\r\n\t\t\t\t\taniset.direction = (this._is_level_down)?'left':'right';\r\n\r\n\t\t\t\t\t/*scroll position restore*/\r\n\t\t\t\t\tvar animArr = [webix.clone(aniset),webix.clone(aniset)];\r\n\t\t\t\t\tif(this._is_level_down){\r\n\t\t\t\t\t\tthis._back_scroll_states.push(this.getScrollState());\r\n\t\t\t\t\t\tif(webix.Touch&&webix.Touch.$active){\r\n\t\t\t\t\t\t\tanimArr[0].y = 0;\r\n\t\t\t\t\t\t\tanimArr[1].y = - this.getScrollState().y;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tvar getScrollState = this._back_scroll_states.pop();\r\n\t\t\t\t\t\tif(webix.Touch&&webix.Touch.$active){\r\n\t\t\t\t\t\t\tanimArr[0].y = -getScrollState.y;\r\n\t\t\t\t\t\t\tanimArr[1].y = - this.getScrollState().y;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar line = webix.animate.formLine(\r\n\t\t\t\t\t\tnext_div,\r\n\t\t\t\t\t\tthis._dataobj,\r\n\t\t\t\t\t\taniset\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t/*keeping scroll position*/\r\n\t\t\t\t\tif(webix.Touch&&webix.Touch.$active)\r\n\t\t\t\t\t\twebix.Touch._set_matrix(next_div, 0,this._is_level_down?0:animArr[0].y, \"0ms\");\r\n\r\n\t\t\t\t\taniset.master = this;\r\n\t\t\t\t\taniset.callback = function(){\r\n\t\t\t\t\t\tthis._dataobj = next_div;\r\n\r\n\t\t\t\t\t\t/*scroll position restore*/\r\n\t\t\t\t\t\tif(!this._is_level_down){\r\n\t\t\t\t\t\t\tif(webix.Touch&&webix.Touch.$active){\r\n\t\t\t\t\t\t\t\twebix.delay(function(){\r\n\t\t\t\t\t\t\t\t\twebix.Touch._set_matrix(next_div, 0,animArr[0].y, \"0ms\");\r\n\t\t\t\t\t\t\t\t},this);\r\n\t\t\t\t\t\t\t} else if (getScrollState) \r\n\t\t\t\t\t\t\t\tthis.scrollTo(0,getScrollState.y);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(!(webix.Touch&&webix.Touch.$active)){\r\n\t\t\t\t\t\t\tthis.scrollTo(0,0);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\twebix.animate.breakLine(line);\r\n\t\t\t\t\t\taniset.master = aniset.callback = null;\r\n\t\t\t\t\t\tthis._htmlmap = null; //clear map, it will be filled at first getItemNode\r\n\t\t\t\t\t\tthis._in_animation = false;\r\n\t\t\t\t\t\tthis.callEvent(\"onAfterRender\",[]);\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis._in_animation = true;\r\n\t\t\t\t\twebix.animate(line, animArr);\r\n                }\r\n            }\r\n            this._prev_nested_chain_length = this._nested_chain.length;\r\n        }\r\n\t},\r\n\ttemplateBack_setter:function(config){\r\n\t\tthis.type.templateBack = webix.template(config);\r\n\t},\r\n\ttemplateItem_setter:function(config){\r\n\t\tthis.type.templateItem = webix.template(config);\r\n\t},\r\n\ttemplateGroup_setter:function(config){\r\n\t\tthis.type.templateGroup = webix.template(config);\r\n\t},\r\n\ttype:{\r\n\t\ttemplate:function(obj, common){\r\n\t\t\tif (obj.$count)\r\n\t\t\t\treturn common.templateGroup(obj, common);\r\n\t\t\treturn common.templateItem(obj, common);\r\n\t\t},\r\n\t\tcss:\"group\",\r\n\t\tclassname:function(obj, common, marks){\r\n\t\t\treturn \"webix_list_item webix_\"+(obj.$count?\"group\":\"item\")+(obj.$template?\"_back\":\"\")+((marks&&marks.webix_selected)?\" webix_selected \":\"\")+ (obj.$css?obj.$css:\"\");\r\n\t\t},\r\n\t\ttemplateStart:webix.template('<div webix_l_id=\"#id#\" class=\"{common.classname()}\" style=\"width:{common.widthSize()}; height:{common.heightSize()};  overflow:hidden;\" {common.aria()}>'),\r\n\t\ttemplateBack:webix.template(\"#value#\"),\r\n\t\ttemplateItem:webix.template(\"#value#\"),\r\n\t\ttemplateGroup:webix.template(\"#value#\"),\r\n        templateEnd:function(obj, common){\r\n            var html = '';\r\n            if(obj.$count) html += \"<div class='webix_arrow_icon'></div>\";\r\n            html += \"</div>\";\r\n            return html;\r\n        }\r\n\t},\r\n\tshowItem:function(id){\r\n\t\tvar obj, parent;\r\n\t\tif(id){\r\n\t\t\tobj = this.getItem(id);\r\n\t\t\tparent = obj.$parent;\r\n\t\t\t\r\n\t\t\tif (obj.$count)\r\n\t\t\t\tparent = obj.id;\r\n\t\t}\r\n\t\tthis._nested_cursor = this.data.branch[parent||0];\r\n\t\tthis._nested_chain=[];\r\n\t\t\t\t\r\n\t\t//build _nested_chain\r\n\t\twhile(parent){\r\n\t\t\tthis.getItem(parent).$template = \"Back\";\r\n\t\t\tthis._nested_chain.unshift(parent);\r\n\t\t\tparent = this.getItem(parent).$parent;\r\n\t\t} \r\n\t\t\r\n\t\t//render\r\n\t\tthis._no_animation = true;\r\n\t\tthis.render();\r\n\t\tthis._no_animation = false;\r\n\t\t\r\n\t\t//scroll if necessary\r\n\t\twebix.RenderStack.showItem.call(this,id);\r\n\t}\r\n}, webix.Group, webix.ui.list );\r\nwebix.type(webix.ui.grouplist,{});\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"unitlist\",\r\n\t_id:\"webix_item_id\",\r\n\tuniteBy_setter: webix.template,\r\n\tsort_setter: function(config){\r\n\t\tif(typeof(config)!=\"object\")\r\n\t\t\tconfig={};\r\n\t\tthis._mergeSettings(config,{\r\n\t\t\tdir:\"asc\",\r\n\t\t\tas:\"string\"\r\n\t\t});\r\n\t\treturn config;\r\n\t},\r\n   \trender:function(id,data,type,after){\r\n\t\tvar config = this._settings;\r\n\t\tif (!this.isVisible(config.id))\r\n\t\t\treturn;\r\n\t\tif (webix.debug_render)\r\n\t\t\twebix.log(\"Render: \"+this.name+\"@\"+config.id);\r\n\t\tif(!config.uniteBy){\r\n\t\t\tif (webix.debug_render){\r\n\t\t\t\twebix.log(\"uniteBy is undefined\");\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (id){\r\n\t\t\tvar cont = this.getItemNode(id); //get html element of updated item\r\n            if(cont&&type==\"update\"&&(this._settings.uniteBy.call(this,data)==this.getItem(id).$unitValue)){\r\n                var t = this._htmlmap[id] = this._toHTMLObject(data);\r\n\t\t\t\twebix.html.insertBefore(t, cont);\r\n\t\t\t\twebix.html.remove(cont);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\t//full reset\r\n\t\tif (this.callEvent(\"onBeforeRender\",[this.data])){\r\n\t\t\tthis.units = null;\r\n\t\t\tthis._setUnits();\r\n\t\t\tif(this.units){\r\n\t\t\t\tthis._dataobj.innerHTML = this._getUnitRange().map(this._toHTML, this).join(\"\");\r\n\t\t\t\tthis._htmlmap = null; \r\n\t\t\t}\r\n\t\t\tthis.callEvent(\"onAfterRender\",[]);\r\n\t\t}\r\n\t},\r\n\tgetUnits:function(){\r\n\t\tvar result = [];\r\n\t\tif(this.units){\r\n\t\t\tfor(var b in this.units){\r\n\t\t\t\tresult.push(b);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\t\r\n\t},\r\n\tgetUnitList:function(id){\r\n\t\treturn (this.units?this.units[id]:null);\r\n\t},\r\n\t_toHTML:function(obj){\r\n\t\t//check if related template exist\r\n\t\tvar mark = this.data._marks[obj.id];\r\n\t\twebix.assert((!obj.$template || this.type[\"template\"+obj.$template]),\"RenderStack :: Unknown template: \"+obj.$template);\r\n\t\tthis.callEvent(\"onItemRender\",[obj]);\r\n\t\tif(obj.$unit){\r\n\t\t\treturn this.type.templateStartHeader(obj,this.type)+this.type.templateHeader.call(this,obj.$unit)+this.type.templateEnd(obj, this.type);\r\n\t\t}\r\n\t\treturn this.type.templateStart(obj,this.type,mark)+(obj.$template?this.type[\"template\"+obj.$template]:this.type.template)(obj,this.type)+this.type.templateEnd(obj, this.type);\r\n\t},\r\n\t_getUnitRange:function(){\r\n\t\tvar data,i,u,unit;\r\n\t\tdata = [];\r\n\t\tvar min = this.data.$min || 0;\r\n\t\tvar max = this.data.$max || Infinity;\r\n\t\tvar count = 0;\r\n\r\n\t\tfor(u in this.units){\r\n\t\t\tdata.push({$unit:u});\r\n\t\t\tunit = this.units[u];\r\n\t\t\tfor(i=0;i < unit.length;i++){\r\n\t\t\t\tif (count == min) data = [{$unit:u}];\r\n\t\t\t\tdata.push(this.getItem(unit[i]));\r\n\t\t\t\tif (count == max) return webix.toArray(data);\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn webix.toArray(data);\r\n\t},\r\n\t_setUnits: function(){\r\n\t\tvar list = this;\r\n\t\tthis.units = {};\r\n\t\tthis.data.each(function(obj){\r\n\t\t\tvar result = list._settings.uniteBy.call(this,obj);\r\n            obj.$unitValue = result;\r\n            if(!list.units[result])\r\n\t\t\t\tlist.units[result] = [];\r\n\t\t\tlist.units[result].push(obj.id);\r\n\t\t});\r\n\t},\r\n\ttype:{\r\n\t\theaderHeight: 20,\r\n\t\ttemplateHeader: function(value){\r\n\t\t\treturn \"<span class='webix_unit_header_inner'>\"+value+\"</span>\";\r\n\t\t},\r\n\t\ttemplateStart:function(obj,type,marks){\r\n\t\t\tif(obj.$unit)\r\n\t\t\t\treturn type.templateStartHeader.apply(this,arguments);\r\n\t\t\tvar className = \"webix_list_item webix_list_\"+(type.css)+\"_item\"+((marks&&marks.webix_selected)?\" webix_selected\":\"\")+(obj.$css?obj.$css:\"\");\r\n\t\t\tvar style = \"width:\"+type.widthSize(obj,type,marks)+\"; height:\"+type.heightSize(obj,type,marks)+\"; overflow:hidden;\"+(type.layout&&type.layout==\"x\"?\"float:left;\":\"\");\r\n\t\t\treturn '<div webix_item_id=\"'+obj.id+'\" class=\"'+className+'\" style=\"'+style+'\" '+type.aria(obj, type, marks)+'>';\r\n\t\t},\r\n\t\ttemplateStartHeader:function(obj,type,marks){\r\n\t\t\tvar className = \"webix_unit_header webix_unit_\"+(type.css)+\"_header\"+(obj.$selected?\"_selected\":\"\");\r\n\t\t\tvar style = \"width:\"+type.widthSize(obj,type,marks)+\"; height:\"+type.headerHeight+\"px; overflow:hidden;\";\r\n\t\t\treturn '<div webix_unit_id=\"'+obj.$unit+'\" class=\"'+className+'\" style=\"'+style+'\">';\r\n\t\t}\r\n\t},\r\n\t$skin:function(){\r\n\t\tthis.type.headerHeight = webix.skin.$active.unitHeaderHeight||20;\r\n\t}\r\n}, webix.ui.list);\r\n\r\n/*\r\n\tUI:DataView\r\n*/\r\n\r\n\r\n \t\r\n/*\r\n\tBehavior:EditAbility - enables item operation for the items\r\n\t\r\n\t@export\r\n\t\tedit\r\n\t\tstopEdit\r\n*/\r\n\r\n\r\n\r\nwebix.EditAbility={\r\n\tdefaults:{\r\n\t\teditaction:\"click\"\r\n\t},\r\n\t$init:function(config){\r\n\t\tthis._editors = {};\r\n\t\tthis._in_edit_mode = 0;\r\n\t\tthis._edit_open_time = 0;\r\n\t\tthis._contentobj.style.position = \"relative\";\r\n\t\tif (config)\r\n\t\t\tconfig.onDblClick = config.onDblClick || {};\r\n\r\n\t\tthis.attachEvent(\"onAfterRender\", this._refocus_inline_editor);\r\n\r\n\t\t//when we call webix.extend the editable prop can be already set\r\n\t\tif (this._settings.editable)\r\n\t\t\tthis._init_edit_events_once();\r\n\r\n\t\t// adding undo support\r\n\t\twebix.extend(this,webix.Undo);\r\n\t},\r\n\t_refocus_try:function(newnode){\r\n\t\ttry{ //Chrome throws an error if selectionStart is not accessible\r\n\t\t\tif (typeof newnode.selectionStart == \"number\") {\r\n\t\t\t\tnewnode.selectionStart = newnode.selectionEnd = newnode.value.length;\r\n\t\t\t} else if (typeof newnode.createTextRange != \"undefined\") {\r\n\t\t\t\tvar range = newnode.createTextRange();\r\n\t\t\t\trange.collapse(false);\r\n\t\t\t\trange.select();\r\n\t\t\t}\r\n\t\t} catch(e){}\r\n\t},\r\n\t_refocus_inline_editor:function(){\r\n\t\tvar editor = this.getEditor();\r\n\t\tif (editor && editor.$inline && !editor.getPopup){\r\n\t\t\tvar newnode = this._locateInput(editor);\r\n\t\t\tif (newnode && newnode != editor.node){\r\n\t\t\t\tvar text = editor.node.value;\r\n\t\t\t\teditor.node = newnode;\r\n\t\t\t\tnewnode.value = text;\r\n\t\t\t\tnewnode.focus();\r\n\r\n\t\t\t\tthis._refocus_try(newnode);\r\n\t\t\t} else \r\n\t\t\t\tthis.editStop();\r\n\t\t}\r\n\t},\r\n\teditable_setter:function(value){\r\n\t\tif (value)\r\n\t\t\tthis._init_edit_events_once();\r\n\t\treturn value;\r\n\t},\r\n\t_init_edit_events_once:function(){\r\n\t\t//will close editor on any click outside\r\n\t\twebix.attachEvent(\"onEditEnd\", webix.bind(function(){\r\n\t\t\tif (this._in_edit_mode)\r\n\t\t\t\tthis.editStop();\r\n\t\t}, this));\r\n\t\twebix.attachEvent(\"onClick\", webix.bind(function(e){\r\n\t\t\t//but ignore click which opens editor\r\n\t\t\tif (this._in_edit_mode && (new Date())-this._edit_open_time > 200){\r\n\t\t\t\tif (!this._last_editor || this._last_editor.popupType || !e || ( !this._last_editor.node || !this._last_editor.node.contains(e.target || e.srcElement)))\r\n\t\t\t\t\tthis.editStop();\r\n\t\t\t}\r\n\t\t}, this));\r\n\t\t\r\n\t\t//property sheet has simple data object, without events\r\n\t\tif (this.data.attachEvent)\r\n\t\t\tthis.data.attachEvent(\"onIdChange\", webix.bind(function(oldid, newid){\r\n\t\t\t\tthis._changeEditorId(oldid, newid);\r\n\t\t\t}, this));\r\n\r\n\t\t//when clicking on row - will start editor\r\n\t\tthis.attachEvent(\"onItemClick\", function(id){\r\n\t\t\tif (this._settings.editable && this._settings.editaction == \"click\")\r\n\t\t\t\tthis.edit(id);\r\n\t\t});\r\n\t\tthis.attachEvent(\"onItemDblClick\", function(id){\r\n\t\t\tif (this._settings.editable && this._settings.editaction == \"dblclick\")\r\n\t\t\t\tthis.edit(id);\r\n\t\t});\r\n\t\t//each time when we clicking on input, reset timer to prevent self-closing\r\n\t\tthis._reset_active_editor = webix.bind(function(){\r\n\t\t\tthis._edit_open_time = new Date();\r\n\t\t},this);\r\n\r\n\t\tthis._init_edit_events_once = function(){};\r\n\r\n\t\tif (this._component_specific_edit_init)\r\n\t\t\tthis._component_specific_edit_init();\r\n\t},\r\n\t_handle_live_edits:function(){\r\n\t\twebix.delay(function(){\r\n\t\t\tvar editor = this.getEditor();\r\n\t\t\tif (editor && editor.config.liveEdit){\r\n\t\t\t\tvar state = { value:editor.getValue(), old: editor.value };\r\n\t\t\t\tif (state.value == state.old) return;\r\n\r\n\t\t\t\teditor.value = state.value;\r\n\t\t\t\tthis._set_new_value(editor, state.value);\r\n\t\t\t\tthis.callEvent(\"onLiveEdit\", [state, editor]);\r\n\t\t\t}\r\n\t\t}, this);\r\n\t},\r\n\t_show_editor_form:function(id){\r\n\t\tvar form = this._settings.form;\r\n\t\tif (typeof form != \"string\")\r\n\t\t\tthis._settings.form = form = webix.ui(form).config.id;\r\n\r\n\t\tvar form = webix.$$(form);\r\n\t\tvar realform = form.setValues?form:form.getChildViews()[0];\r\n\r\n\t\t\r\n\t\trealform.setValues(this.getItem(id.row || id));\r\n\t\tform.config.master = this.config.id;\r\n\t\tform.show( this.getItemNode(id) );\r\n\r\n\t\tvar first = realform.getChildViews()[0];\r\n\t\tif (first.focus)\r\n\t\t\tfirst.focus();\r\n\t},\r\n\tedit:function(id, preserve, show){\r\n\t\tif (!this.callEvent(\"onBeforeEditStart\", [id])) return;\r\n\t\tif (this._settings.form)\r\n\t\t\treturn this._show_editor_form(id);\r\n\r\n\t\tvar editor = this._get_editor_type(id);\r\n\t\tif (editor){\r\n\t\t\tif (this.getEditor(id)) return;\r\n\t\t\tif (!preserve) this.editStop();\r\n\r\n\t\t\t//render html input\r\n\t\t\twebix.assert(webix.editors[editor], \"Invalid editor type: \"+editor);\r\n\t\t\tvar type = webix.extend({}, webix.editors[editor]);\r\n\t\t\t\r\n\t\t\tvar node = this._init_editor(id, type, show);\r\n\t\t\tif (type.config.liveEdit)\r\n\t\t\t\tthis._live_edits_handler = this.attachEvent(\"onKeyPress\", this._handle_live_edits);\r\n\r\n\t\t\tvar area = type.getPopup?type.getPopup(node)._viewobj:node;\r\n\r\n\t\t\tif (area)\r\n\t\t\t\twebix.event(area, \"click\", this._reset_active_editor);\r\n\t\t\tif (node)\r\n\t\t\t\twebix.event(node, \"change\", this._on_editor_change, {bind:{ view:this, id:id }});\r\n\t\t\tif (show !== false)\r\n\t\t\t\ttype.focus();\r\n\r\n\t\t\t//save time of creation to prevent instant closing from the same click\r\n\t\t\tthis._edit_open_time = webix.edit_open_time = new Date();\r\n\r\n\t\t\twebix.UIManager.setFocus(this, true);\r\n\t\t\tthis.callEvent(\"onAfterEditStart\", [id]);\r\n\t\t\treturn type;\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\tgetEditor:function(id){\r\n\t\tif (!id)\r\n\t\t\treturn this._last_editor;\r\n\r\n\t\treturn this._editors[id];\r\n\t},\r\n\t_changeEditorId:function(oldid, newid)\t{\r\n\t\tvar editor = this._editors[oldid];\r\n\t\tif (editor){\r\n\t\t\tthis._editors[newid] = editor;\r\n\t\t\teditor.id = newid;\r\n\t\t\tdelete this._editors[oldid];\r\n\t\t}\r\n\t},\r\n\t_on_editor_change:function(e){\r\n\t\tif (this.view.hasEvent(\"onEditorChange\"))\r\n\t\t\tthis.view.callEvent(\"onEditorChange\", [this.id, this.view.getEditorValue(this.id) ]);\r\n\t},\r\n\t_get_edit_config:function(id){\r\n\t\treturn this._settings;\r\n\t},\r\n\t_init_editor:function(id, type, show){\r\n\t\tvar config = type.config = this._get_edit_config(id);\r\n\t\tvar node = type.render();\r\n\r\n\t\tif (type.$inline)\r\n\t\t\tnode = this._locateInput(id);\r\n\t\ttype.node = node;\r\n\r\n\t\tvar item = this.getItem(id);\r\n\t\t//value can be configured by editValue option\r\n\t\tvar value = item[this._settings.editValue||\"value\"];\r\n\t\t//if property was not defined - use empty value\r\n\t\tif (webix.isUndefined(value))\r\n\t\t\tvalue = \"\";\r\n\r\n\t\ttype.setValue(value, item);\r\n\t\ttype.value = value;\r\n\r\n\t\tthis._addEditor(id, type);\r\n\r\n\t\t//show it over cell\r\n\t\tif (show !== false)\r\n\t\t\tthis.showItem(id);\r\n\t\tif (!type.$inline)\r\n\t\t\tthis._sizeToCell(id, node, true);\r\n\r\n\t\tif (type.afterRender)\r\n\t\t\ttype.afterRender();\r\n\r\n\t\treturn node;\r\n\t},\r\n\t_locate_cell:function(id){\r\n\t\treturn this.getItemNode(id);\r\n\t},\r\n\t_locateInput:function(id){\r\n\t\tvar cell = this._locate_cell(id);\r\n\t\tif (cell)\r\n\t\t\tcell = cell.getElementsByTagName(\"input\")[0] || cell;\r\n\r\n\t\treturn cell;\r\n\t},\r\n\t_get_editor_type:function(id){\r\n\t\treturn this._settings.editor;\r\n\t},\r\n\t_addEditor:function(id, type){\r\n\t\ttype.id = id;\r\n\t\tthis._editors[id]= this._last_editor = type;\r\n\t\tthis._in_edit_mode++;\r\n\t},\r\n\t_removeEditor:function(editor){\r\n\t\tif (this._last_editor == editor)\r\n\t\t\tthis._last_editor = 0;\r\n\t\t\r\n\t\tif (editor.destroy)\r\n\t\t\teditor.destroy();\r\n\r\n\t\tdelete editor.popup;\r\n\t\tdelete editor.node;\r\n\r\n\t\tdelete this._editors[editor.id];\r\n\t\tthis._in_edit_mode--;\r\n\t},\r\n\tfocusEditor:function(id){\r\n\t\tvar editor = this.getEditor.apply(this, arguments);\r\n\t\tif (editor && editor.focus)\r\n\t\t\teditor.focus();\r\n\t},\r\n\teditCancel:function(){\r\n\t\tthis.editStop(null, null, true);\r\n\t},\r\n\t_applyChanges: function(el){\r\n\t\tif (el){\r\n\t\t\tvar ed = this.getEditor();\r\n\t\t\tif (ed && ed.getPopup && ed.getPopup() == el.getTopParentView()) return;\r\n\t\t}\r\n\t\tthis.editStop();\r\n\t},\r\n\teditStop:function(id){\r\n\t\tif (this._edit_stop) return;\r\n\t\tthis._edit_stop = 1;\r\n\r\n\r\n\t\tvar cancel = arguments[2];\r\n\t\tvar result = 1;\r\n\t\tif (!id){\r\n\t\t\tthis._for_each_editor(function(editor){\r\n\t\t\t\tresult = result * this._editStop(editor, cancel);\r\n\t\t\t});\r\n\t\t} else \r\n\t\t\tresult = this._editStop(this._editors[id], cancel);\r\n\r\n\t\tthis._edit_stop = 0;\r\n\t\treturn result;\r\n\t},\r\n\t_cellPosition:function(id){\r\n\t\tvar html = this.getItemNode(id);\r\n\t\treturn {\r\n\t\t\tleft:html.offsetLeft, \r\n\t\t\ttop:html.offsetTop,\r\n\t\t\theight:html.offsetHeight,\r\n\t\t\twidth:html.offsetWidth,\r\n\t\t\tparent:this._contentobj\r\n\t\t};\r\n\t},\r\n\t_sizeToCell:function(id, node, inline){\r\n\t\t//fake inputs\r\n\t\tif (!node.style) return;\r\n\r\n\t\tvar pos = this._cellPosition(id);\r\n\r\n\t\tnode.style.top = pos.top + \"px\";\r\n\t\tnode.style.left = pos.left + \"px\";\r\n\r\n\t\tnode.style.width = pos.width-1+\"px\";\r\n\t\tnode.style.height = pos.height-1+\"px\";\r\n\r\n\t\tnode.top = pos.top; //later will be used during y-scrolling\r\n\r\n\t\tif (inline) pos.parent.appendChild(node);\r\n\t},\r\n\t_for_each_editor:function(handler){\r\n\t\tfor (var editor in this._editors)\r\n\t\t\thandler.call(this, this._editors[editor]);\r\n\t},\r\n\t_editStop:function(editor, ignore){\r\n\t\tif (!editor) return;\r\n\t\tvar state = { \r\n\t\t\tvalue : editor.getValue(), \r\n\t\t\told : editor.value\r\n\t\t};\r\n\t\tif (this.callEvent(\"onBeforeEditStop\", [state, editor, ignore])){\r\n\t\t\tif (!ignore){\r\n\t\t\t\t//special case, state.old = 0, state.value = \"\"\r\n\t\t\t\t//we need to state.old to string, to detect the change\r\n\t\t\t\tvar old = state.old;\r\n\t\t\t\tif (typeof state.value == \"string\") old += \"\";\r\n\r\n\t\t\t\tif (old != state.value || editor.config.liveEdit)\r\n\t\t\t\t\tthis.updateItem(this._set_new_value(editor, state.value));\r\n\t\t\t}\r\n\t\t\tif (editor.$inline)\r\n\t\t\t\teditor.node = null;\r\n\t\t\telse\r\n\t\t\t\twebix.html.remove(editor.node);\r\n\r\n\t\t\tvar popup = editor.config.suggest;\r\n\t\t\tif (popup && typeof popup == \"string\")\r\n\t\t\t\twebix.$$(popup).hide();\r\n\r\n\t\t\tthis._removeEditor(editor);\r\n\t\t\tif (this._live_edits_handler)\r\n\t\t\t\tthis.detachEvent(this._live_edits_handler);\r\n\r\n\t\t\tthis.callEvent(\"onAfterEditStop\", [state, editor, ignore]);\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\treturn 0;\r\n\t},\r\n\tvalidateEditor:function(id){\r\n\t\tvar result = true;\r\n\t\tif (this._settings.rules){\r\n\t\t\tvar editor = this.getEditor(id);\r\n\t\t\tvar key = editor.column||this._settings.editValue||\"value\";\r\n\t\t\tvar rule = this._settings.rules[key];\r\n\t\t\tvar all = this._settings.rules.$all;\r\n\r\n\t\t\tif (rule || all){\r\n\t\t\t\tvar obj = this.data.getItem(editor.row||editor.id);\r\n\t\t\t\tvar value = editor.getValue();\r\n\t\t\t\tvar input = editor.getInputNode();\r\n\r\n\t\t\t\tif (rule)\r\n\t\t\t\t\tresult = rule.call(this, value, obj, key);\r\n\t\t\t\tif (all)\r\n\t\t\t\t\tresult = all.call(this, value, obj, key) && result;\r\n\t\t\t\r\n\t\t\t\tif (result)\r\n\t\t\t\t\twebix.html.removeCss(input, \"webix_invalid\");\r\n\t\t\t\telse\r\n\t\t\t\t\twebix.html.addCss(input, \"webix_invalid\");\r\n\r\n\t\t\t\twebix.callEvent(\"onLiveValidation\", [editor, result, obj, value]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tgetEditorValue:function(id){\r\n\t\tvar editor;\r\n\t\tif (arguments.length === 0)\r\n\t\t\teditor = this._last_editor;\r\n\t\telse\r\n\t\t\teditor = this.getEditor(id);\r\n\r\n\t\tif (editor)\r\n\t\t\treturn editor.getValue();\r\n\t},\r\n\tgetEditState:function(){\r\n\t\treturn this._last_editor || false;\r\n\t},\r\n\teditNext:function(next, from){ \r\n\t\tnext = next !== false; //true by default\r\n\t\tif (this._in_edit_mode == 1 || from){\r\n\t\t\t//only if one editor is active\r\n\t\t\tvar editor_next = this._find_cell_next((this._last_editor || from), function(id){\r\n\t\t\t\tif (this._get_editor_type(id))\r\n\t\t\t\t\treturn true;\r\n\t\t\t\treturn false;\r\n\t\t\t}, next);\r\n\r\n\t\t\tif (this.editStop()){\t//if we was able to close previous editor\r\n\t\t\t\tif (editor_next){\t//and there is a new target\r\n\t\t\t\t\tthis.edit(editor_next);\t//init new editor\r\n\t\t\t\t\tthis._after_edit_next(editor_next);\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t//stab, used in datatable\r\n\t_after_edit_next:function(){},\r\n\t_find_cell_next:function(start, check, direction){\r\n\t\tvar row = this.getIndexById(start.id);\r\n\t\tvar order = this.data.order;\r\n\t\t\r\n\t\tif (direction){\r\n\t\t\tfor (var i=row+1; i<order.length; i++){\r\n\t\t\t\tif (check.call(this, order[i]))\r\n\t\t\t\t\treturn order[i];\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i=row-1; i>=0; i--){\r\n\t\t\t\tif (check.call(this, order[i]))\r\n\t\t\t\t\treturn order[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t},\r\n\t_set_new_value:function(editor, new_value){\r\n\t\tthis.getItem(editor.id)[this._settings.editValue||\"value\"] = new_value;\r\n\t\treturn editor.id;\r\n\t}\r\n};\r\n\r\n\r\n(function(){\r\n\r\nfunction init_suggest(editor, input){\r\n\tvar suggest = editor.config.suggest;\r\n\tif (suggest){\r\n\t\tvar box = editor.config.suggest = create_suggest(suggest);\r\n\t\tvar boxobj = webix.$$(box);\r\n\t\tif (boxobj && input)\r\n\t\t\tboxobj.linkInput(input);\r\n\t}\r\n}\r\n\r\nfunction create_suggest(config){\r\n\tif (typeof config == \"string\") return config;\r\n\tif (config.linkInput) return config._settings.id;\r\n\r\n\t\r\n\tif (typeof config == \"object\"){\r\n\t\tif (webix.isArray(config))\r\n\t\t\tconfig = { data: config };\r\n\t\tconfig.view = config.view || \"suggest\";\r\n\t} else if (config === true)\r\n\t\tconfig = { view:\"suggest\" };\r\n\r\n\tvar obj = webix.ui(config);\r\n\treturn obj.config.id;\r\n}\r\n\r\nfunction getLabel(config){\r\n\treturn config.header && config.header[0]?config.header[0].text:config.editValue || config.label;\r\n}\r\n\r\n/*\r\n\tthis.node - html node, available after render call\r\n\tthis.config - editor config\r\n\tthis.value - original value\r\n\tthis.popup - id of popup \r\n*/\r\nwebix.editors = {\r\n\t\"text\":{\r\n\t\tfocus:function(){\r\n\t\t\tthis.getInputNode(this.node).focus();\r\n\t\t\tthis.getInputNode(this.node).select();\r\n\t\t},\r\n\t\tgetValue:function(){\r\n\t\t\treturn this.getInputNode(this.node).value;\r\n\t\t},\r\n\t\tsetValue:function(value){\r\n\t\t\tvar input = this.getInputNode(this.node);\r\n\t\t\tinput.value = value;\r\n\r\n\t\t\tinit_suggest(this, input);\r\n\t\t},\r\n\t\tgetInputNode:function(){\r\n\t\t\treturn this.node.firstChild;\r\n\t\t},\r\n\t\trender:function(){\r\n\t\t\treturn webix.html.create(\"div\", {\r\n\t\t\t\t\"class\":\"webix_dt_editor\"\r\n\t\t\t}, \"<input type='text' aria-label='\"+getLabel(this.config)+\"'>\");\r\n\t\t}\r\n\t},\r\n\t\"inline-checkbox\":{\r\n\t\trender:function(){ return {}; },\r\n\t\tgetValue:function(){\r\n\t\t\treturn this.node.checked;\r\n\t\t},\r\n\t\tsetValue:function(){},\r\n\t\tfocus:function(){\r\n\t\t\tthis.node.focus();\r\n\t\t},\r\n\t\tgetInputNode:function(){},\r\n\t\t$inline:true\r\n\t},\r\n\t\"inline-text\":{\r\n\t\trender:function(){ return {}; },\r\n\t\tgetValue:function(){\r\n\t\t\treturn this.node.value;\r\n\t\t},\r\n\t\tsetValue:function(){},\r\n\t\tfocus:function(){\r\n\t\t\ttry{\t//IE9\r\n\t\t\t\tthis.node.select();\r\n\t\t\t\tthis.node.focus();\r\n\t\t\t} catch(e){}\r\n\t\t},\r\n\t\tgetInputNode:function(){},\r\n\t\t$inline:true\r\n\t},\r\n\t\"checkbox\":{\r\n\t\tfocus:function(){\r\n\t\t\tthis.getInputNode().focus();\r\n\t\t},\r\n\t\tgetValue:function(){\r\n\t\t\treturn this.getInputNode().checked;\r\n\t\t},\r\n\t\tsetValue:function(value){\r\n\t\t\tthis.getInputNode().checked = !!value;\r\n\t\t},\r\n\t\tgetInputNode:function(){\r\n\t\t\treturn this.node.firstChild.firstChild;\r\n\t\t},\r\n\t\trender:function(){\r\n\t\t\treturn webix.html.create(\"div\", {\r\n\t\t\t\t\"class\":\"webix_dt_editor\"\r\n\t\t\t}, \"<div><input type='checkbox' aria-label='\"+getLabel(this.config)+\"'></div>\");\r\n\t\t}\r\n\t},\r\n\t\"select\":{\r\n\t\tfocus:function(){\r\n\t\t\tthis.getInputNode().focus();\r\n\t\t},\r\n\t\tgetValue:function(){\r\n\t\t\treturn this.getInputNode().value;\r\n\t\t},\r\n\t\tsetValue:function(value){\r\n\t\t\tthis.getInputNode().value = value;\r\n\t\t},\r\n\t\tgetInputNode:function(){\r\n\t\t\treturn this.node.firstChild;\r\n\t\t},\r\n\t\trender:function(){\r\n\t\t\tvar html = \"\";\r\n\t\t\tvar options = this.config.options || this.config.collection;\r\n\t\t\twebix.assert(options,\"options not defined for select editor\");\r\n\r\n\t\t\tif (options.data && options.data.each)\r\n\t\t\t\toptions.data.each(function(obj){\r\n\t\t\t\t\thtml +=\"<option value='\"+obj.id+\"'>\"+obj.value+\"</option>\";\r\n\t\t\t\t});\r\n\t\t\telse {\r\n\t\t\t\tif (webix.isArray(options)){\r\n\t\t\t\t\tfor (var i=0; i<options.length; i++){\r\n\t\t\t\t\t\tvar rec = options[i];\r\n\t\t\t\t\t\tvar isplain = webix.isUndefined(rec.id);\r\n\t\t\t\t\t\tvar id = isplain ? rec : rec.id;\r\n\t\t\t\t\t\tvar label = isplain ? rec : rec.value;\r\n\r\n\t\t\t\t\t\thtml +=\"<option value='\"+id+\"'>\"+label+\"</option>\";\r\n\t\t\t\t\t}\r\n\t\t\t\t} else for (var key in options){\r\n\t\t\t\t\thtml +=\"<option value='\"+key+\"'>\"+options[key]+\"</option>\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn webix.html.create(\"div\", {\r\n\t\t\t\t\"class\":\"webix_dt_editor\"\r\n\t\t\t}, \"<select aria-label='\"+getLabel(this.config)+\"'>\"+html+\"</select>\");\r\n\t\t}\r\n\t},\r\n\tpopup:{\r\n\t\tfocus:function(){\r\n\t\t\tthis.getInputNode().focus();\r\n\t\t},\r\n\t\tdestroy:function(){\r\n\t\t\tthis.getPopup().hide();\r\n\t\t},\r\n\t\tgetValue:function(){\r\n\t\t\treturn this.getInputNode().getValue()||\"\";\r\n\t\t},\r\n\t\tsetValue:function(value){\r\n\t\t\tthis.getPopup().show(this.node);\r\n\t\t\tthis.getInputNode().setValue(value);\r\n\t\t},\r\n\t\tgetInputNode:function(){\r\n\t\t\treturn this.getPopup().getChildViews()[0];\r\n\t\t},\r\n\t\tgetPopup:function(){\r\n\t\t\tif (!this.config.popup)\r\n\t\t\t\tthis.config.popup = this.createPopup();\r\n\r\n\t\t\treturn webix.$$(this.config.popup);\r\n\t\t},\r\n\t\tcreatePopup:function(){\r\n\t\t\tvar popup = this.config.popup || this.config.suggest;\r\n\r\n\t\t\tif (popup){\r\n\t\t\t\tvar pobj;\r\n\t\t\t\tif (typeof popup == \"object\" && !popup.name){\r\n\t\t\t\t\tpopup.view = popup.view || \"suggest\";\r\n\t\t\t\t\tpobj = webix.ui(popup);\r\n\t\t\t\t} else\r\n\t\t\t\t\tpobj = webix.$$(popup);\r\n\r\n\t\t\t\tif (pobj.linkInput)\r\n\t\t\t\t\tpobj.linkInput(document.body);\r\n\t\t\t\telse if(this.linkInput)\r\n\t\t\t\t\tthis.linkInput(document.body);\r\n\r\n\t\t\t\treturn pobj;\r\n\t\t\t}\r\n\r\n\t\t\tvar type = webix.editors.$popup[this.popupType];\r\n\t\t\tif (typeof type != \"string\"){\r\n\t\t\t\ttype = webix.editors.$popup[this.popupType] = webix.ui(type);\r\n\t\t\t\tthis.popupInit(type);\r\n\r\n\t\t\t\tif(!type.linkInput)\r\n\t\t\t\t\tthis.linkInput(document.body);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\treturn type._settings.id;\r\n\t\t},\r\n\t\tlinkInput:function(node){\r\n\t\t\twebix.event(webix.toNode(node), \"keydown\", webix.bind(function(e){\r\n\t\t\t\tvar code = e.which || e.keyCode, list = this.getInputNode();\r\n\t\t\t\tif(!list.isVisible()) return;\r\n\r\n\t\t\t\tif(code === 40){\r\n\t\t\t\t\tif(list.moveSelection)\r\n\t\t\t\t\t\tlist.moveSelection(\"down\");\r\n\t\t\t\t\twebix.UIManager.setFocus(list);\r\n\t\t\t\t}\r\n\t\t\t\telse if(code === 13)\r\n\t\t\t\t\twebix.callEvent(\"onEditEnd\", []);\r\n\t\t\t\t\r\n\t\t\t}, this));\r\n\t\t},\r\n\r\n\t\tpopupInit:function(popup){},\r\n\t\tpopupType:\"text\",\r\n\t\trender\t:function(){ return {}; },\r\n\t\t$inline:true\r\n\t}\r\n};\r\n\r\nwebix.editors.color = webix.extend({\r\n\tfocus\t:function(){},\r\n\tpopupType:\"color\",\r\n\tpopupInit:function(popup){\r\n\t\tpopup.getChildViews()[0].attachEvent(\"onSelect\", function(value){\r\n\t\t\twebix.callEvent(\"onEditEnd\",[value]);\r\n\t\t});\r\n\t}\r\n}, webix.editors.popup);\r\n\r\nwebix.editors.date = webix.extend({\r\n\tfocus\t:function(){},\r\n\tpopupType:\"date\",\r\n\tsetValue:function(value){\r\n\t\tthis._is_string = this.config.stringResult || (value && typeof value == \"string\");\r\n\t\twebix.editors.popup.setValue.call(this, value);\r\n\t},\r\n\tgetValue:function(){\r\n\t\treturn this.getInputNode().getValue(this._is_string?webix.i18n.parseFormatStr:\"\")||\"\";\r\n\t},\r\n\tpopupInit:function(popup){\r\n\t\tpopup.getChildViews()[0].attachEvent(\"onDateSelect\", function(value){\r\n\t\t\twebix.callEvent(\"onEditEnd\",[value]);\r\n\t\t});\r\n\t}\r\n}, webix.editors.popup);\r\n\r\nwebix.editors.combo = webix.extend({\r\n\t_create_suggest:function(config){\r\n        if(this.config.popup){\r\n            return this.config.popup.config.id;\r\n        }\r\n\t\telse if (config){\r\n\t\t\treturn create_suggest(config);\r\n\t\t} else\r\n\t\t\treturn this._shared_suggest(config);\r\n\t},\r\n\t_shared_suggest:function(){\r\n\t\tvar e = webix.editors.combo;\r\n\t\treturn (e._suggest = e._suggest || this._create_suggest(true));\r\n\t},\r\n\trender:function(){\r\n\t\tvar node = webix.html.create(\"div\", {\r\n\t\t\t\"class\":\"webix_dt_editor\"\r\n\t\t}, \"<input type='text' role='combobox' aria-label='\"+getLabel(this.config)+\"'>\");\r\n\r\n\t\t//save suggest id for future reference\t\t\r\n\t\tvar suggest = this.config.suggest = this._create_suggest(this.config.suggest);\r\n\r\n\t\tif (suggest){\r\n\t\t\twebix.$$(suggest).linkInput(node.firstChild, true);\r\n\t\t\twebix.event(node.firstChild, \"click\",webix.bind(this.showPopup, this));\r\n\t\t}\r\n\t\treturn node;\r\n\t},\r\n\tgetPopup:function(){\r\n\t\treturn webix.$$(this.config.suggest);\r\n\t},\r\n\tshowPopup:function(){\r\n\t\tvar popup = this.getPopup();\r\n        var list = popup.getList();\r\n\t\tvar input = this.getInputNode();\r\n        var value = this.getValue();\r\n\r\n\t\tpopup.show(input);\r\n\t\tinput.setAttribute(\"aria-expanded\", \"true\");\r\n        if(value ){\r\n           webix.assert(list.exists(value), \"Option with ID \"+value+\" doesn't exist\");\r\n            if(list.exists(value)){\r\n                list.select(value);\r\n                list.showItem(value);\r\n            }\r\n        }else{\r\n            list.unselect();\r\n            list.showItem(list.getFirstId());\r\n        }\r\n\t\tpopup._last_input_target = input;\r\n\t},\r\n\tafterRender:function(){\r\n\t\tthis.showPopup();\r\n\t},\r\n\tsetValue:function(value){\r\n\t\tthis._initial_value = value;\r\n\t\tif (this.config.suggest){\r\n\t\t\tvar sobj = webix.$$(this.config.suggest);\r\n\t\t\tvar data =  this.config.collection || this.config.options;\r\n\t\t\tif (data)\r\n\t\t\t\tsobj.getList().data.importData(data);\r\n\r\n\t\t\tthis._initial_text = this.getInputNode(this.node).value = sobj.getItemText(value);\r\n\t\t}\r\n\t},\r\n\tgetValue:function(){\r\n\t\tvar value = this.getInputNode().value;\r\n\t\t\r\n\t\tif (this.config.suggest){\r\n\t\t\tif (value == this._initial_text)\r\n\t\t\t\treturn this._initial_value;\r\n\t\t\treturn webix.$$(this.config.suggest).getSuggestion();\r\n\t\t} else \r\n\t\t\treturn value;\r\n\t}\r\n}, webix.editors.text);\r\n\r\n\r\nwebix.editors.richselect = webix.extend({\r\n\tfocus:function(){},\r\n\tgetValue:function(){\r\n\t\treturn this.getPopup().getValue();\r\n\t},\r\n\tsetValue:function(value){\r\n\t\tvar suggest =  this.config.collection || this.config.options;\r\n        var list = this.getInputNode();\r\n\t\tif (suggest)\r\n\t\t\tthis.getPopup().getList().data.importData(suggest);\r\n\r\n        this.getPopup().show(this.node);\r\n        this.getPopup().setValue(value);\r\n\t},\r\n\tgetInputNode:function(){\r\n\t\treturn this.getPopup().getList();\r\n\t},\r\n\tpopupInit:function(popup){\r\n\t\tpopup.linkInput(document.body);\r\n\t},\r\n\tpopupType:\"richselect\"\r\n}, webix.editors.popup);\r\n\r\nwebix.editors.password = webix.extend({\r\n\trender:function(){\r\n\t\treturn webix.html.create(\"div\", {\r\n\t\t\t\"class\":\"webix_dt_editor\"\r\n\t\t}, \"<input type='password' aria-label='\"+getLabel(this.config)+\"'>\");\r\n\t}\r\n}, webix.editors.text);\r\n\r\nwebix.editors.$popup = {\r\n\ttext:{\r\n\t\tview:\"popup\", width:250, height:150,\r\n\t\tbody:{ view:\"textarea\" }\r\n\t},\r\n\tcolor:{\r\n\t\tview:\"popup\",\r\n\t\tbody:{ view:\"colorboard\" }\r\n\t},\r\n\tdate:{\r\n\t\tview:\"popup\", width:250, height:250, padding:0,\r\n\t\tbody:{ view:\"calendar\", icons:true, borderless:true }\r\n\t},\r\n\trichselect:{\r\n\t\tview:\"suggest\",\r\n\t\tbody:{ view:\"list\", select:true }\r\n\t}\r\n};\r\n\r\n})(); \r\n \r\n\r\n\r\n\r\n/*\r\n\tRenders collection of items\r\n\tAlways shows y-scroll\r\n\tCan be used with huge datasets\r\n\t\r\n\t@export\r\n\t\tshow\r\n\t\trender\r\n*/\r\n\r\n \r\n\r\nwebix.VirtualRenderStack={\r\n\t$init:function(){\r\n\t\twebix.assert(this.render,\"VirtualRenderStack :: Object must use RenderStack first\");\r\n\t\t\r\n\t\tthis._htmlmap={}; //init map of rendered elements\r\n        \r\n        //we need to repaint area each time when view resized or scrolling state is changed\r\n        webix.event(this._viewobj,\"scroll\",webix.bind(this._render_visible_rows,this));\r\n\t\tif(webix.env.touch){\r\n\t\t\tthis.attachEvent(\"onAfterScroll\", webix.bind(this._render_visible_rows,this));\r\n\t\t}\r\n\t\t//here we store IDs of elemenst which doesn't loadede yet, but need to be rendered\r\n\t\tthis._unrendered_area=[];\r\n\t},\r\n\t//return html object by item's ID. Can return null for not-rendering element\r\n\tgetItemNode:function(search_id){\r\n\t\t//collection was filled in _render_visible_rows\r\n\t\treturn this._htmlmap[search_id];\r\n\t},\r\n\t//adjust scrolls to make item visible\r\n\tshowItem:function(id){\r\n\t\tvar range = this._getVisibleRange();\r\n\t\tvar ind = this.data.getIndexById(id);\r\n\t\t//we can't use DOM method for not-rendered-yet items, so fallback to pure math\r\n\t\tvar dy = Math.floor(ind/range._dx)*range._y;\r\n\t\tvar state = this.getScrollState();\r\n\t\tif (dy<state.y || dy + this._settings.height >= state.y + this._content_height)\r\n\t\t\tthis.scrollTo(0, dy);\r\n\t},\t\r\n\t//repain self after changes in DOM\r\n\t//for add, delete, move operations - render is delayed, to minify performance impact\r\n\trender:function(id,data,type){\r\n\t\tif (!this.isVisible(this._settings.id) || this.$blockRender)\r\n\t\t\treturn;\r\n\t\t\r\n\t\tif (webix.debug_render)\r\n\t\t\twebix.log(\"Render: \"+this.name+\"@\"+this._settings.id);\r\n\t\t\t\r\n\t\tif (id){\r\n\t\t\tvar cont = this.getItemNode(id);\t//old html element\r\n\t\t\tswitch(type){\r\n\t\t\t\tcase \"update\":\r\n\t\t\t\t\tif (!cont) return;\r\n\t\t\t\t\t//replace old with new\r\n\t\t\t\t\tvar t = this._htmlmap[id] = this._toHTMLObject(data);\r\n\t\t\t\t\twebix.html.insertBefore(t, cont); \r\n\t\t\t\t\twebix.html.remove(cont);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault: // \"move\", \"add\", \"delete\"\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t\tfor all above operations, full repainting is necessary\r\n\t\t\t\t\t\tbut from practical point of view, we need only one repainting per thread\r\n\t\t\t\t\t\tcode below initiates double-thread-rendering trick\r\n\t\t\t\t\t*/\r\n\t\t\t\t\tthis._render_delayed();\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t//full repainting\r\n\t\t\tif (this.callEvent(\"onBeforeRender\",[this.data])){\r\n\t\t\t\tthis._htmlmap = {}; \t\t\t\t\t//nulify links to already rendered elements\r\n\t\t\t\tthis._render_visible_rows(null, true);\t\r\n\t\t\t\t// clear delayed-rendering, because we already have repaint view\r\n\t\t\t\tthis._wait_for_render = false;\t\t\t\r\n\t\t\t\tthis.callEvent(\"onAfterRender\",[]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t//implement double-thread-rendering pattern\r\n\t_render_delayed:function(){\r\n\t\t//this flag can be reset from outside, to prevent actual rendering \r\n\t\tif (this._wait_for_render) return;\r\n\t\tthis._wait_for_render = true;\t\r\n\t\t\r\n\t\twindow.setTimeout(webix.bind(function(){\r\n\t\t\tthis.render();\r\n\t\t},this),1);\r\n\t},\r\n\t//create empty placeholders, which will take space before rendering\r\n\t_create_placeholder:function(height){\r\n\t\tvar node = document.createElement(\"DIV\");\r\n\t\t\tnode.style.cssText = \"height:\"+height+\"px; width:100%; overflow:hidden;\";\r\n\t\treturn node;\r\n\t},\r\n\t/*\r\n\t\tMethods get coordinatest of visible area and checks that all related items are rendered\r\n\t\tIf, during rendering, some not-loaded items was detected - extra data loading is initiated.\r\n\t\treset - flag, which forces clearing of previously rendered elements\r\n\t*/\r\n\t_render_visible_rows:function(e,reset){\r\n\t\tthis._unrendered_area=[]; //clear results of previous calls\r\n\t\t\r\n\t\tvar viewport = this._getVisibleRange();\t//details of visible view\r\n\r\n\t\tif (!this._dataobj.firstChild || reset){\t//create initial placeholder - for all view space\r\n\t\t\tthis._dataobj.innerHTML=\"\";\r\n\t\t\tthis._dataobj.appendChild(this._create_placeholder(viewport._max));\r\n\t\t\t//register placeholder in collection\r\n\t\t\tthis._htmlrows = [this._dataobj.firstChild];\r\n\t\t}\r\n\t\t\r\n\t\t/*\r\n\t\t\tvirtual rendering breaks all view on rows, because we know widht of item\r\n\t\t\twe can calculate how much items can be placed on single row, and knowledge \r\n\t\t\tof that, allows to calculate count of such rows\r\n\t\t\t\r\n\t\t\teach time after scrolling, code iterate through visible rows and render items \r\n\t\t\tin them, if they are not rendered yet\r\n\t\t\t\r\n\t\t\tboth rendered rows and placeholders are registered in _htmlrows collection\r\n\t\t*/\r\n\r\n\t\t//position of first visible row\r\n\t\tvar t = viewport._from;\r\n\t\t\t\r\n\t\twhile(t<=viewport._height){\t//loop for all visible rows\r\n\t\t\t//skip already rendered rows\r\n\t\t\twhile(this._htmlrows[t] && this._htmlrows[t]._filled && t<=viewport._height){\r\n\t\t\t\tt++; \r\n\t\t\t}\r\n\t\t\t//go out if all is rendered\r\n\t\t\tif (t>viewport._height) break;\r\n\t\t\t\r\n\t\t\t//locate nearest placeholder\r\n\t\t\tvar holder = t;\r\n\t\t\twhile (!this._htmlrows[holder]) holder--;\r\n\t\t\tvar holder_row = this._htmlrows[holder];\r\n\t\t\t\r\n\t\t\t//render elements in the row\t\t\t\r\n\t\t\tvar base = t*viewport._dx+(this.data.$min||0);\t//index of rendered item\r\n\t\t\tif (base > (this.data.$max||Infinity)) break;\t//check that row is in virtual bounds, defined by paging\r\n\t\t\tvar nextpoint =  Math.min(base+viewport._dx-1,(this.data.$max?this.data.$max-1:Infinity));\r\n\t\t\tvar node = this._create_placeholder(viewport._y);\r\n\t\t\t//all items in rendered row\r\n\t\t\tvar range = this.data.getIndexRange(base, nextpoint);\r\n\t\t\tif (!range.length) break; \r\n\t\t\t\r\n\t\t\tvar loading = { $template:\"Loading\" };\r\n\t\t\tfor (var i=0; i<range.length; i++){\r\n\t\t\t\tif (!range[i])\r\n\t        \t\tthis._unrendered_area.push(base+i);\r\n\t\t\t\trange[i] = this._toHTML(range[i]||loading);\r\n\t\t\t}\r\n\r\n\t\t\tnode.innerHTML=range.join(\"\"); \t//actual rendering\r\n\t\t\tfor (var i=0; i < range.length; i++)\t\t\t\t\t//register all new elements for later usage in getItemNode\r\n\t\t\t\tthis._htmlmap[this.data.getIdByIndex(base+i)]=node.childNodes[i];\r\n\t\t\t\r\n\t\t\t//correct placeholders\r\n\t\t\tvar h = parseInt(holder_row.style.height,10);\r\n\t\t\tvar delta = (t-holder)*viewport._y;\r\n\t\t\tvar delta2 = (h-delta-viewport._y);\r\n\t\t\t\r\n\t\t\t//add new row to the DOOM\r\n\t\t\twebix.html.insertBefore(node,delta?holder_row.nextSibling:holder_row,this._dataobj);\r\n\t\t\tthis._htmlrows[t]=node;\r\n\t\t\tnode._filled = true;\r\n\t\t\t\r\n\t\t\t/*\r\n\t\t\t\tif new row is at start of placeholder - decrease placeholder's height\r\n\t\t\t\telse if new row takes whole placeholder - remove placeholder from DOM\r\n\t\t\t\telse \r\n\t\t\t\t\twe are inserting row in the middle of existing placeholder\r\n\t\t\t\t\tdecrease height of existing one, and add one more, \r\n\t\t\t\t\tbefore the newly added row\r\n\t\t\t*/\r\n\t\t\tif (delta <= 0 && delta2>0){\r\n\t\t\t\tholder_row.style.height = delta2+\"px\";\r\n\t\t\t\tthis._htmlrows[t+1] = holder_row;\r\n\t\t\t} else {\r\n\t\t\t\tif (delta<0)\r\n\t\t\t\t\twebix.html.remove(holder_row);\r\n\t\t\t\telse\r\n\t\t\t\t\tholder_row.style.height = delta+\"px\";\r\n\t\t\t\tif (delta2>0){ \r\n\t\t\t\t\tvar new_space = this._htmlrows[t+1] = this._create_placeholder(delta2);\r\n\t\t\t\t\twebix.html.insertBefore(new_space,node.nextSibling,this._dataobj);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tt++;\r\n\t\t}\r\n\t\t\r\n\t\t//when all done, check for non-loaded items\r\n\t\tif (this._unrendered_area.length){\r\n\t\t\t//we have some data to load\r\n\t\t\t//detect borders\r\n\t\t\tvar from = this._unrendered_area[0];\r\n\t\t\tvar to = this._unrendered_area.pop()+1;\r\n\t\t\tif (to>from){\r\n\t\t\t\t//initiate data loading\r\n\t\t\t\tvar count = to - from;\r\n\t\t\t\tif (this._maybe_loading_already(count, from)) return;\r\n\r\n\t\t\t\tcount = Math.max(count, (this._settings.datafetch||this._settings.loadahead||0));\r\n\t\t\t\tthis.loadNext(count, from);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t//calculates visible view\r\n\t_getVisibleRange:function(){\r\n\t\tvar state = this.getScrollState();\r\n\t\tvar top = state.y;\r\n\t\tvar width = this._content_width; \r\n\t\tvar height = this._content_height;\r\n\r\n\t\t//size of single item\r\n\t\tvar t = this.type;\r\n\r\n\t\tvar dx = Math.floor(width/t.width)||1; //at least single item per row\r\n\t\t\r\n\t\tvar min = Math.floor(top/t.height);\t\t\t\t//index of first visible row\r\n\t\tvar dy = Math.ceil((height+top)/t.height)-1;\t\t//index of last visible row\r\n\t\t//total count of items, paging can affect this math\r\n\t\tvar count = this.data.$max?(this.data.$max-this.data.$min):this.data.count();\r\n\t\tvar max = Math.ceil(count/dx)*t.height;\t\t\t//size of view in rows\r\n\r\n\t\treturn { _from:min, _height:dy, _top:top, _max:max, _y:t.height, _dx:dx};\r\n\t},\r\n\t_cellPosition:function(id){\r\n\t\tvar html = this.getItemNode(id);\r\n\t\tif (!html){\r\n\t\t\tthis.showItem(id);\r\n\t\t\tthis._render_visible_rows();\r\n\t\t\thtml = this.getItemNode(id);\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tleft:html.offsetLeft, \r\n\t\t\ttop:html.offsetTop,\r\n\t\t\theight:html.offsetHeight,\r\n\t\t\twidth:html.offsetWidth,\r\n\t\t\tparent:this._contentobj\r\n\t\t};\r\n\t}\r\n};\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"dataview\",\r\n\t$init:function(config){\r\n\t\tif (config.sizeToContent)\r\n\t\t\t//method need to be called before data-loaders\r\n\t\t\t//so we are using unshift to place it at start\r\n\t\t\tthis.$ready.unshift(this._after_init_call);\r\n\t\tvar prerender = config.prerender || this.defaults.prerender;\r\n\t\tif (prerender === false || (prerender !== true && config.height !== \"auto\" && !config.autoheight))\r\n\t\t\twebix.extend(this, webix.VirtualRenderStack, true);\r\n\t\tif (config.autoheight)\r\n\t\t\tconfig.scroll = false;\r\n\r\n\t\tthis._contentobj.className+=\" webix_dataview\";\r\n\r\n\t\tthis._viewobj.setAttribute(\"role\", \"listbox\");\r\n\t},\r\n\t_after_init_call:function(){\r\n\t\tvar test = webix.html.create(\"DIV\",0,this.type.template({}));\r\n\t\ttest.style.position=\"absolute\";\r\n\t\tdocument.body.appendChild(test);\r\n\t\tthis.type.width = test.offsetWidth;\r\n\t\tthis.type.height = test.offsetHeight;\r\n\t\t\r\n\t\twebix.html.remove(test);\r\n\t},\r\n\tdefaults:{\r\n\t\tscroll:true,\r\n\t\tdatafetch:50,\r\n\t\tnavigation:true\r\n\t},\r\n\t_id:\"webix_f_id\",\r\n\ton_click:{\r\n\t\twebix_dataview_item:function(e,id){ \r\n\t\t\tif (this._settings.select){\r\n\t\t\t\tif (this._settings.select==\"multiselect\" || this._settings.multiselect)\r\n\t\t\t\t\tthis.select(id, false, ((this._settings.multiselect == \"touch\") || e.ctrlKey || e.metaKey), e.shiftKey); \t//multiselection\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.select(id);\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t},\r\n\ton_dblclick:{\r\n\t},\r\n\ton_mouse_move:{\r\n\t},\r\n\ttype:{\r\n\t\t//normal state of item\r\n\t\ttemplate:webix.template(\"#value#\"),\r\n\t\t//in case of dyn. loading - temporary spacer\r\n\t\ttemplateLoading:webix.template(\"Loading...\"),\r\n\t\twidth:160,\r\n\t\theight:50,\r\n\t\tclassname:function(obj, common, marks){\r\n\t\t\tvar css = \"webix_dataview_item \";\r\n\r\n\t\t\tif (common.css) css +=common.css+\" \";\r\n\t\t\tif (obj.$css){\r\n\t\t\t\tif (typeof obj.$css == \"object\")\r\n\t\t\t\t\tobj.$css = webix.html.createCss(obj.$css);\r\n\t\t\t\tcss +=obj.$css+\" \";\r\n\t\t\t}\r\n\t\t\tif (marks && marks.$css) css +=marks.$css+\" \";\r\n\t\t\t\r\n\t\t\treturn css;\r\n\t\t},\r\n\t\taria:function(obj, common, marks){\r\n\t\t\treturn 'role=\"option\"'+(marks && marks.webix_selected?' aria-selected=\"true\" tabindex=\"0\"':' tabindex=\"-1\"');\r\n\t\t},\r\n\t\ttemplateStart:webix.template('<div webix_f_id=\"#id#\" class=\"{common.classname()}\" {common.aria()} style=\"width:{common.width}px; height:{common.height}px; float:left; overflow:hidden;\">'),\r\n\t\ttemplateEnd:webix.template(\"</div>\")\r\n\t\t\r\n\t},\r\n\t_calck_autoheight:function(width){\r\n\t\treturn (this._settings.height = this.type.height * Math.ceil( this.data.count() / Math.floor(width / this.type.width)));\r\n\t},\r\n\tautoheight_setter:function(mode){\r\n\t\tif (mode){\r\n\t\t\tthis.data.attachEvent(\"onStoreLoad\", webix.bind(this.resize, this));\r\n\t\t\tthis._contentobj.style.overflowY = \"hidden\";\r\n\t\t}\r\n\t\treturn mode;\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tif ((this._settings.xCount >0) && this.type.width != \"auto\" && !this._autowidth)\r\n\t\t\tthis._settings.width = this.type.width*this._settings.xCount + (this._scroll_y?webix.ui.scrollSize:0);\r\n\t\tif (this._settings.yCount && this.type.height != \"auto\")\r\n\t\t\tthis._settings.height = this.type.height*this._settings.yCount;\r\n\r\n\t\tvar width = this._settings.width || this._content_width;\r\n\t\tif (this._settings.autoheight && width){\r\n\t\t\tthis._calck_autoheight(width);\r\n\t\t\tthis.scroll_setter(false);\t\r\n\t\t}\r\n\t\treturn webix.ui.view.prototype.$getSize.call(this, dx, dy);\t\t\r\n\t},\r\n\t_recalk_counts:function(){\r\n\t\tvar render = false;\r\n\t\tif (this._settings.yCount && this.type.height == \"auto\"){\r\n\t\t\tthis.type.height = Math.floor(this._content_height/this._settings.yCount);\r\n\t\t\trender = true;\r\n\t\t}\r\n\t\tif (this._settings.xCount && (this.type.width == \"auto\"||this._autowidth)){\r\n\t\t\tthis._autowidth = true; //flag marks that width was set to \"auto\" initially\r\n\t\t\tthis.type.width = Math.floor(this._content_width/this._settings.xCount);\r\n\t\t\trender = true;\r\n\t\t} else \r\n\t\t\tthis._autowidth = false;\r\n\r\n\t\treturn render;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tif (webix.ui.view.prototype.$setSize.call(this, x, y)){\r\n\t\t\tif (this._settings.autoheight && this._calck_autoheight() != this._content_height)\r\n\t\t\t\treturn webix.delay(this.resize, this);\r\n\r\n\t\t\tif (this._recalk_counts() || this._render_visible_rows)\r\n\t\t\t\tthis.render();\r\n\t\t}\r\n\t}\r\n}, webix.DataMove, webix.DragItem, webix.MouseEvents, webix.KeysNavigation, webix.SelectionModel, webix.Scrollable, webix.ui.proto);\r\n\r\n\r\n\r\n\r\nwebix.DataDriver.htmltable={\r\n\r\n\t//convert json string to json object if necessary\r\n\ttoObject:function(data){\r\n\t\tdata = webix.toNode(data);\r\n\t\twebix.assert(data, \"table is not found\");\r\n\t\twebix.assert(data.tagName.toLowerCase() === 'table', \"Incorrect table object\");\r\n\r\n\t\tvar tr = data.rows;\r\n\t\twebix.html.remove(data);\r\n\t\treturn tr;\r\n\t},\r\n\t//get array of records\r\n\tgetRecords:function(data){\r\n\t\tvar new_data = [];\r\n\t\t//skip header rows if necessary\r\n\t\tvar i = (data[0] && data[0]._webix_skip)?1:0;\r\n\r\n\t\tfor (; i < data.length; i++)\r\n\t\t\tnew_data.push(data[i]);\r\n\t\treturn new_data;\r\n\t},\r\n\t//get hash of properties for single record\r\n\tgetDetails:function(data){\r\n\t\tvar td = data.getElementsByTagName('td');\r\n\t\tdata = {};\r\n\t\t//get hash of properties for single record, data named as \"data{index}\"\r\n\t\tfor (var i=0; i < td.length; i++) {\r\n\t\t\tdata['data' + i] = td[i].innerHTML;\r\n\t\t}\r\n\t\treturn data;\r\n\t},\r\n\t//get count of data and position at which new data need to be inserted\r\n\tgetInfo:function(data){\r\n\t\t// dyn loading is not supported for htmltable\r\n\t\treturn { \r\n\t\t\tsize:0,\r\n\t\t\tfrom:0\r\n\t\t};\r\n\t},\r\n\tgetOptions:function(){},\r\n\r\n\t/*! gets header from first table row\r\n\t **/\r\n\tgetConfig: function(data) {\r\n\t\tvar columns = [];\r\n\t\tvar td = data[0].getElementsByTagName('th');\r\n\t\tif (td.length) data[0]._webix_skip = true;\r\n\t\tfor (var i = 0; i < td.length; i++) {\r\n\t\t\tvar col = {\r\n\t\t\t\tid: 'data' + i,\r\n\t\t\t\theader: this._de_json(td[i].innerHTML)\r\n\t\t\t};\r\n\t\t\tvar attrs = this._get_attrs(td[i]);\r\n\t\t\tcol = webix.extend(col, attrs);\r\n\t\t\tcolumns.push(col);\r\n\t\t}\r\n\t\treturn columns;\r\n\t},\r\n\r\n\t_de_json:function(str){\r\n\t\tvar pos = str.indexOf(\"json://\");\r\n\t\t\r\n\t\tif (pos != -1)\r\n\t\t\tstr = JSON.parse(str.substr(pos+7));\r\n\t\treturn str;\r\n\t},\r\n\t\r\n\t/*! gets hash of html-element attributes\r\n\t **/\r\n\t_get_attrs: function(el) {\r\n\t\tvar attr = el.attributes;\r\n\t\tvar hash = {};\r\n\t\tfor (var i = 0; i < attr.length; i++) {\r\n\t\t\thash[attr[i].nodeName] = this._de_json(attr[i].nodeValue);\r\n\t\t}\r\n\t\thash.width = parseInt(hash.width, 10);\r\n\t\treturn hash;\r\n\t}\r\n};\r\nwebix.protoUI({\r\n\tname:\"vscroll\",\r\n\tdefaults:{\r\n\t\tscroll:\"x\",\r\n\t\tscrollStep:40,\r\n\t\tscrollPos:0,\r\n\t\tscrollSize:18,\r\n\t\tscrollVisible:1,\r\n\t\tzoom:1\r\n\t},\r\n\t$init:function(config){\r\n\t\tvar dir = config.scroll||\"x\";\r\n\t\tvar node = this._viewobj = webix.toNode(config.container);\r\n\t\tnode.className += \" webix_vscroll_\"+dir;\r\n\t\tnode.innerHTML=\"<div class='webix_vscroll_body'></div>\";\r\n\t\twebix.event(node,\"scroll\", this._onscroll,{bind:this});\r\n\r\n\t\tthis._last_set_size = 0;\r\n\t\tthis._last_scroll_pos = 0;\r\n\t},\r\n\t_check_quantum:function(value){\r\n\t\tif (value>1500000){\r\n\t\t\tthis._settings.zoom = Math.floor(value/1500000)+1;\r\n\t\t\tthis._zoom_limit = value-this._last_set_size;\r\n\t\t\tvalue = Math.floor(value/this._settings.zoom)+this._last_set_size;\r\n\t\t} else {\r\n\t\t\tthis._settings.zoom = 1;\r\n\t\t\tthis._zoom_limit = Infinity;\r\n\t\t}\r\n\t\treturn value;\r\n\t},\t\r\n\tscrollWidth_setter:function(value){\r\n\t\tvalue = this._check_quantum(value);\r\n\t\tthis._viewobj.firstChild.style.width = value+\"px\";\r\n\t\treturn value;\t\t\r\n\t},\r\n\tscrollHeight_setter:function(value){\r\n\t\tvalue = this._check_quantum(value);\r\n\t\tthis._viewobj.firstChild.style.height = value+\"px\";\r\n\t\treturn value;\r\n\t},\r\n\tsizeTo:function(value, top, bottom){\r\n\t\tvalue = value-(top||0)-(bottom||0);\r\n\r\n\t\tvar width = this._settings.scrollSize;\r\n\t\t//IEFix\r\n\t\t//IE doesn't react on scroll-click if it has not at least 1 px of visible content\r\n\t\tif (webix.env.isIE && width)\r\n\t\t\twidth += 1;\r\n\t\tif (!width && this._settings.scrollVisible && !webix.env.$customScroll){\r\n\t\t\tthis._viewobj.style.pointerEvents=\"none\";\r\n\t\t\twidth = 14;\r\n\t\t}\r\n\r\n\t\tif (!width){\r\n\t\t\tthis._viewobj.style.display = 'none';\r\n\t\t} else {\r\n\t\t\tthis._viewobj.style.display = 'block';\r\n\t\t\tif (top)\r\n\t\t\t\tthis._viewobj.style.marginTop = top+ \"px\";\r\n\t\t\tthis._viewobj.style[this._settings.scroll == \"x\"?\"width\":\"height\"] =  Math.max(0,value)+\"px\";\r\n\t\t\tthis._viewobj.style[this._settings.scroll == \"x\"?\"height\":\"width\"] = width+\"px\";\r\n\t\t}\r\n\r\n\t\tthis._last_set_size = value;\r\n\t},\r\n\tgetScroll:function(){\r\n\t\treturn this._settings.scrollPos*this._settings.zoom;\r\n\t},\r\n\tgetSize:function(){\r\n\t\treturn (this._settings.scrollWidth||this._settings.scrollHeight)*this._settings.zoom;\r\n\t},\r\n\tscrollTo:function(value){\r\n\t\tif (value<0)\r\n\t\t\tvalue = 0;\r\n\t\tvar config = this._settings;\r\n\r\n\t\tvalue = Math.min(((config.scrollWidth||config.scrollHeight)-this._last_set_size)*config.zoom, value);\r\n\r\n\t\tif (value < 0) value = 0;\r\n\t\tvar svalue = value/config.zoom;\r\n\r\n\t\tif (this._last_scroll_pos != svalue){\r\n\t\t\tthis._viewobj[config.scroll == \"x\"?\"scrollLeft\":\"scrollTop\"] = svalue;\r\n\t\t\tthis._onscroll_inner(svalue);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t},\r\n\t_onscroll:function(){\t\r\n\t\tvar x = this._viewobj[this._settings.scroll == \"x\"?\"scrollLeft\":\"scrollTop\"];\r\n\t\tif (x != this._last_scroll_pos)\r\n\t\t\tthis._onscroll_inner(x);\r\n\t},\r\n\t_onscroll_inner:function(value){\r\n\t\tthis._last_scroll_pos = value;\r\n\t\tthis._settings.scrollPos = (Math.min(this._zoom_limit, value*this._settings.zoom) || 0);\r\n\r\n\t\tthis.callEvent(\"onScroll\",[this._settings.scrollPos]);\r\n\t},\r\n\tactiveArea:function(area, x_mode){\r\n\t\tthis._x_scroll_mode = x_mode;\r\n\t\twebix.event(area,(webix.env.isIE8 ? \"mousewheel\" : \"wheel\"),this._on_wheel,{bind:this});\r\n\t\tthis._add_touch_events(area);\r\n\t},\r\n\r\n\t_add_touch_events: function(area){\r\n\t\tif(!webix.env.touch && window.navigator.pointerEnabled){\r\n\t\t\twebix.html.addCss(area,\"webix_scroll_touch_ie\",true);\r\n\t\t\twebix.event(area, \"pointerdown\", function(e){\r\n\t\t\t\tif(e.pointerType == \"touch\" || e.pointerType == \"pen\"){\r\n\t\t\t\t\tthis._start_context = webix.Touch._get_context_m(e);\r\n\t\t\t\t\tthis._start_scroll_pos = this._settings.scrollPos;\r\n\t\t\t\t}\r\n\t\t\t},{bind:this});\r\n\r\n\t\t\twebix.event(document.body, \"pointermove\", function(e){\r\n\t\t\t\tvar scroll;\r\n\t\t\t\tif(this._start_context){\r\n\t\t\t\t\tthis._current_context = webix.Touch._get_context_m(e);\r\n\t\t\t\t\tif(this._settings.scroll == \"x\" ){\r\n\t\t\t\t\t\tscroll = this._current_context.x - this._start_context.x;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(this._settings.scroll == \"y\"){\r\n\t\t\t\t\t\tscroll = this._current_context.y - this._start_context.y;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(scroll && Math.abs(scroll) > 5){\r\n\t\t\t\t\t\tthis.scrollTo(this._start_scroll_pos - scroll);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},{bind:this});\r\n\t\t\twebix.event(window, \"pointerup\", function(e){\r\n\t\t\t\tif(this._start_context){\r\n\t\t\t\t\tthis._start_context = this._current_context = null;\r\n\t\t\t\t}\r\n\t\t\t},{bind:this});\r\n\t\t}\r\n\r\n\t},\r\n\t_on_wheel:function(e){\r\n\t\tvar dir = 0;\r\n\t\tvar step = e.deltaMode === 0 ? 30 : 1;\r\n\r\n\t\tif (webix.env.isIE8)\r\n\t\t\tdir = e.detail = -e.wheelDelta / 30;\r\n\r\n\t\tif (e.deltaX && Math.abs(e.deltaX) > Math.abs(e.deltaY)){\r\n\t\t\t//x-scroll\r\n\t\t\tif (this._x_scroll_mode && this._settings.scrollVisible)\r\n\t\t\t\tdir = e.deltaX / step;\r\n\t\t} else {\r\n\t\t\t//y-scroll\r\n\t\t\tif (!this._x_scroll_mode && this._settings.scrollVisible){\r\n\t\t\t\tif (webix.isUndefined(e.deltaY))\r\n\t\t\t\t\tdir = e.detail;\r\n\t\t\t\telse\r\n\t\t\t\t\tdir = e.deltaY / step;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Safari requires target preserving\r\n\t\t// (used in _check_rendered_cols of DataTable)\r\n\t\tif(webix.env.isSafari)\r\n\t\t\tthis._scroll_trg = e.target|| e.srcElement;\r\n\r\n\t\tif (dir)\r\n\t\t\tif (this.scrollTo(this._settings.scrollPos + dir*this._settings.scrollStep))\r\n\t\t\t\treturn webix.html.preventEvent(e);\r\n\r\n\t}\r\n}, webix.EventSystem, webix.Settings);\r\n\r\n\r\nwebix.Number={\r\n\tformat: function(value, config){ \r\n\t\tif (value === \"\" || typeof value === \"undefined\") return value;\r\n\t\t\r\n\t\tconfig = config||webix.i18n;\r\n\t\tvalue = parseFloat(value);\r\n\r\n\t\tvar sign = value < 0 ? \"-\":\"\";\r\n\t\tvalue = Math.abs(value);\r\n\r\n\t\tvar str = value.toFixed(config.decimalSize).toString();\r\n\t\tstr = str.split(\".\");\r\n\r\n\t\tvar int_value = \"\";\r\n\t\tif (config.groupSize){\r\n\t\t\tvar step = config.groupSize;\r\n\t\t\tvar i=str[0].length;\r\n\t\t\tdo {\r\n\t\t\t\ti-=step;\r\n\t\t\t\tvar chunk = (i>0)?str[0].substr(i,step):str[0].substr(0,step+i);\r\n\t\t\t\tint_value = chunk+(int_value?config.groupDelimiter+int_value:\"\");\r\n\t\t\t} while(i>0);\r\n\t\t} else\r\n\t\t\tint_value = str[0];\r\n\r\n\t\tif (config.decimalSize)\r\n\t\t\treturn sign + int_value + config.decimalDelimiter + str[1];\r\n\t\telse\r\n\t\t\treturn sign + int_value;\r\n\t},\r\n\tnumToStr:function(config){\r\n\t\treturn function(value){\r\n\t\t\treturn webix.Number.format(value, config);\r\n\t\t};\r\n\t}\r\n};\r\n\r\nwebix.Date={\r\n\tstartOnMonday:false,\r\n\r\n\ttoFixed:function(num){\r\n\t\tif (num<10)\treturn \"0\"+num;\r\n\t\treturn num;\r\n\t},\r\n\tweekStart:function(date){\r\n\t\tdate = this.copy(date);\r\n\r\n\t\tvar shift=date.getDay();\r\n\t\tif (this.startOnMonday){\r\n\t\t\tif (shift===0) shift=6;\r\n\t\t\telse shift--;\r\n\t\t}\r\n\t\treturn this.datePart(this.add(date,-1*shift,\"day\"));\r\n\t},\r\n\tmonthStart:function(date){\r\n\t\tdate = this.copy(date);\r\n\r\n\t\tdate.setDate(1);\r\n\t\treturn this.datePart(date);\r\n\t},\r\n\tyearStart:function(date){\r\n\t\tdate = this.copy(date);\r\n\r\n\t\tdate.setMonth(0);\r\n\t\treturn this.monthStart(date);\r\n\t},\r\n\tdayStart:function(date){\r\n\t\treturn this.datePart(date, true);\r\n\t},\r\n\tdateToStr:function(format,utc){\r\n\t\tif (typeof format == \"function\") return format;\r\n\r\n\t\tif(webix.env.strict){\r\n\t\t\treturn function(date){\r\n\t\t\t\tvar str = \"\";\r\n\t\t\t\tvar lastPos = 0;\r\n\t\t\t\tformat.replace(/%[a-zA-Z]/g,function(s,pos){\r\n\t\t\t\t\tstr += format.slice(lastPos,pos);\r\n\t\t\t\t\tvar fn = function(date){\r\n\t\t\t\t\t\tif( s == \"%d\")  return webix.Date.toFixed(date.getDate());\r\n\t\t\t\t\t\tif( s == \"%m\")  return webix.Date.toFixed((date.getMonth()+1));\r\n\t\t\t\t\t\tif( s == \"%j\")  return date.getDate();\r\n\t\t\t\t\t\tif( s == \"%n\")  return (date.getMonth()+1);\r\n\t\t\t\t\t\tif( s == \"%y\")  return webix.Date.toFixed(date.getFullYear()%100);\r\n\t\t\t\t\t\tif( s == \"%Y\")  return date.getFullYear();\r\n\t\t\t\t\t\tif( s == \"%D\")  return webix.i18n.calendar.dayShort[date.getDay()];\r\n\t\t\t\t\t\tif( s == \"%l\")  return webix.i18n.calendar.dayFull[date.getDay()];\r\n\t\t\t\t\t\tif( s == \"%M\")  return webix.i18n.calendar.monthShort[date.getMonth()];\r\n\t\t\t\t\t\tif( s == \"%F\")  return webix.i18n.calendar.monthFull[date.getMonth()];\r\n\t\t\t\t\t\tif( s == \"%h\")  return webix.Date.toFixed((date.getHours()+11)%12+1);\r\n\t\t\t\t\t\tif( s == \"%g\")  return ((date.getHours()+11)%12+1);\r\n\t\t\t\t\t\tif( s == \"%G\")  return date.getHours();\r\n\t\t\t\t\t\tif( s == \"%H\")  return webix.Date.toFixed(date.getHours());\r\n\t\t\t\t\t\tif( s == \"%i\")  return webix.Date.toFixed(date.getMinutes());\r\n\t\t\t\t\t\tif( s == \"%a\")  return (date.getHours()>11?webix.i18n.pm[0]:webix.i18n.am[0]);\r\n\t\t\t\t\t\tif( s == \"%A\")  return (date.getHours()>11?webix.i18n.pm[1]:webix.i18n.am[1]);\r\n\t\t\t\t\t\tif( s == \"%s\")  return webix.Date.toFixed(date.getSeconds());\r\n\t\t\t\t\t\tif( s == \"%W\")  return webix.Date.toFixed(webix.Date.getISOWeek(date));\r\n\t\t\t\t\t\tif( s == \"%c\"){\r\n\t\t\t\t\t\t\tvar str = date.getFullYear();\r\n\t\t\t\t\t\t\tstr += \"-\"+webix.Date.toFixed((date.getMonth()+1));\r\n\t\t\t\t\t\t\tstr += \"-\"+webix.Date.toFixed(date.getDate());\r\n\t\t\t\t\t\t\tstr += \"T\";\r\n\t\t\t\t\t\t\tstr += webix.Date.toFixed(date.getHours());\r\n\t\t\t\t\t\t\tstr += \":\"+webix.Date.toFixed(date.getMinutes());\r\n\t\t\t\t\t\t\tstr += \":\"+webix.Date.toFixed(date.getSeconds());\r\n\t\t\t\t\t\t\treturn str;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn s;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tstr += fn(date);\r\n\t\t\t\t\tlastPos = pos + 2;\r\n\t\t\t\t});\r\n\t\t\t\tstr += format.slice(lastPos,format.length);\r\n\t\t\t\treturn str;\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tformat=format.replace(/%[a-zA-Z]/g,function(a){\r\n\t\t\tswitch(a){\r\n\t\t\t\tcase \"%d\": return \"\\\"+webix.Date.toFixed(date.getDate())+\\\"\";\r\n\t\t\t\tcase \"%m\": return \"\\\"+webix.Date.toFixed((date.getMonth()+1))+\\\"\";\r\n\t\t\t\tcase \"%j\": return \"\\\"+date.getDate()+\\\"\";\r\n\t\t\t\tcase \"%n\": return \"\\\"+(date.getMonth()+1)+\\\"\";\r\n\t\t\t\tcase \"%y\": return \"\\\"+webix.Date.toFixed(date.getFullYear()%100)+\\\"\"; \r\n\t\t\t\tcase \"%Y\": return \"\\\"+date.getFullYear()+\\\"\";\r\n\t\t\t\tcase \"%D\": return \"\\\"+webix.i18n.calendar.dayShort[date.getDay()]+\\\"\";\r\n\t\t\t\tcase \"%l\": return \"\\\"+webix.i18n.calendar.dayFull[date.getDay()]+\\\"\";\r\n\t\t\t\tcase \"%M\": return \"\\\"+webix.i18n.calendar.monthShort[date.getMonth()]+\\\"\";\r\n\t\t\t\tcase \"%F\": return \"\\\"+webix.i18n.calendar.monthFull[date.getMonth()]+\\\"\";\r\n\t\t\t\tcase \"%h\": return \"\\\"+webix.Date.toFixed((date.getHours()+11)%12+1)+\\\"\";\r\n\t\t\t\tcase \"%g\": return \"\\\"+((date.getHours()+11)%12+1)+\\\"\";\r\n\t\t\t\tcase \"%G\": return \"\\\"+date.getHours()+\\\"\";\r\n\t\t\t\tcase \"%H\": return \"\\\"+webix.Date.toFixed(date.getHours())+\\\"\";\r\n\t\t\t\tcase \"%i\": return \"\\\"+webix.Date.toFixed(date.getMinutes())+\\\"\";\r\n\t\t\t\tcase \"%a\": return \"\\\"+(date.getHours()>11?webix.i18n.pm[0]:webix.i18n.am[0])+\\\"\";\r\n\t\t\t\tcase \"%A\": return \"\\\"+(date.getHours()>11?webix.i18n.pm[1]:webix.i18n.am[1])+\\\"\";\r\n\t\t\t\tcase \"%s\": return \"\\\"+webix.Date.toFixed(date.getSeconds())+\\\"\";\r\n\t\t\t\tcase \"%W\": return \"\\\"+webix.Date.toFixed(webix.Date.getISOWeek(date))+\\\"\";\r\n\t\t\t\tcase \"%c\":\r\n\t\t\t\t\tvar str = \"\\\"+date.getFullYear()+\\\"\";\r\n\t\t\t\t\tstr += \"-\\\"+webix.Date.toFixed((date.getMonth()+1))+\\\"\";\r\n\t\t\t\t\tstr += \"-\\\"+webix.Date.toFixed(date.getDate())+\\\"\";\r\n\t\t\t\t\tstr += \"T\";\r\n\t\t\t\t\tstr += \"\\\"+webix.Date.toFixed(date.getHours())+\\\"\";\r\n\t\t\t\t\tstr += \":\\\"+webix.Date.toFixed(date.getMinutes())+\\\"\";\r\n\t\t\t\t\tstr += \":\\\"+webix.Date.toFixed(date.getSeconds())+\\\"\";\r\n\t\t\t\t\tif(utc === true)\r\n\t\t\t\t\t\tstr += \"Z\";\r\n\t\t\t\t\treturn str;\r\n\r\n\t\t\t\tdefault: return a;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (utc===true) format=format.replace(/date\\.get/g,\"date.getUTC\");\r\n\t\treturn new Function(\"date\",\"if (!date) return ''; if (!date.getMonth) date=webix.i18n.parseFormatDate(date);  return \\\"\"+format+\"\\\";\");\r\n\t},\r\n\tstrToDate:function(format,utc){\r\n\t\tif (typeof format == \"function\") return format;\r\n\r\n\t\tvar mask=format.match(/%[a-zA-Z]/g);\r\n\t\tvar splt=\"var temp=date.split(/[^0-9a-zA-Z]+/g);\";\r\n\t\tvar i,t,s;\r\n\r\n\t\tif(!webix.i18n.calendar.monthShort_hash){\r\n\t\t\ts = webix.i18n.calendar.monthShort;\r\n\t\t\tt = webix.i18n.calendar.monthShort_hash = {};\r\n\t\t\tfor (i = 0; i < s.length; i++)\r\n\t\t\t\tt[s[i]]=i;\r\n\r\n\t\t\ts = webix.i18n.calendar.monthFull;\r\n\t\t\tt = webix.i18n.calendar.monthFull_hash = {};\r\n\t\t\tfor (i = 0; i < s.length; i++)\r\n\t\t\t\tt[s[i]]=i;\r\n\t\t}\r\n\r\n\t\tif(webix.env.strict){\r\n\t\t\treturn function(date){\r\n\t\t\t\tif (!date) return '';\r\n\t\t\t\tif (typeof date == 'object') return date;\r\n\t\t\t\tvar temp=date.split(/[^0-9a-zA-Z]+/g);\r\n\t\t\t\tvar set=[0,0,1,0,0,0];\r\n\t\t\t\tfor (i=0; i<mask.length; i++){\r\n\t\t\t\t\tvar a = mask[i];\r\n\t\t\t\t\tif( a ==  \"%y\")\r\n\t\t\t\t\t\tset[0]=temp[i]*1+(temp[i]>30?1900:2000);\r\n\t\t\t\t\telse if( a ==  \"%Y\"){\r\n\t\t\t\t\t\tset[0]=(temp[i]||0)*1; if (set[0]<30) set[0]+=2000;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if( a == \"%n\" || a == \"%m\")\r\n\t\t\t\t\t\tset[1]=(temp[i]||1)-1;\r\n\t\t\t\t\telse if( a ==  \"%M\")\r\n\t\t\t\t\t\tset[1]=webix.i18n.calendar.monthShort_hash[temp[i]]||0;\r\n\t\t\t\t\telse if( a ==  \"%F\")\r\n\t\t\t\t\t\tset[1]=webix.i18n.calendar.monthFull_hash[temp[i]]||0;\r\n\t\t\t\t\telse if( a == \"%j\" || a == \"%d\")\r\n\t\t\t\t\t\tset[2]=temp[i]||1;\r\n\t\t\t\t\telse if( a == \"%g\" || a == \"%G\" || a == \"%h\" || a == \"%H\")\r\n\t\t\t\t\t\tset[3]=temp[i]||0;\r\n\t\t\t\t\telse if( a == \"%a\")\r\n\t\t\t\t\t\t\tset[3]=set[3]%12+((temp[i]||'')==webix.i18n.am[0]?0:12);\r\n\t\t\t\t\telse if( a == \"%A\")\r\n\t\t\t\t\t\tset[3]=set[3]%12+((temp[i]||'')==webix.i18n.am[1]?0:12);\r\n\t\t\t\t\telse if( a ==  \"%i\")\r\n\t\t\t\t\t\tset[4]=temp[i]||0;\r\n\t\t\t\t\telse if( a ==  \"%s\")\r\n\t\t\t\t\t\tset[5]=temp[i]||0;\r\n\t\t\t\t\telse if( a ==  \"%c\"){\r\n\t\t\t\t\t\tvar reg = /(\\d+)-(\\d+)-(\\d+)T(\\d+):(\\d+):(\\d+)/g;\r\n\t\t\t\t\t\tvar res = reg.exec(date);\r\n\t\t\t\t\t\tset[0]= (res[1]||0)*1; if (set[0]<30) set[0]+=2000;\r\n\t\t\t\t\t\tset[1]= (res[2]||1)-1;\r\n\t\t\t\t\t\tset[2]= res[3]||1;\r\n\t\t\t\t\t\tset[3]= res[4]||0;\r\n\t\t\t\t\t\tset[4]= res[5]||0;\r\n\t\t\t\t\t\tset[5]= res[6]||0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(utc)\r\n\t\t\t\t\treturn new Date(Date.UTC(set[0],set[1],set[2],set[3],set[4],set[5]));\r\n\t\t\t\treturn new Date(set[0],set[1],set[2],set[3],set[4],set[5]);\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tfor (i=0; i<mask.length; i++){\r\n\t\t\tswitch(mask[i]){\r\n\t\t\t\tcase \"%j\":\r\n\t\t\t\tcase \"%d\": splt+=\"set[2]=temp[\"+i+\"]||1;\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%n\":\r\n\t\t\t\tcase \"%m\": splt+=\"set[1]=(temp[\"+i+\"]||1)-1;\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%y\": splt+=\"set[0]=temp[\"+i+\"]*1+(temp[\"+i+\"]>30?1900:2000);\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%g\":\r\n\t\t\t\tcase \"%G\":\r\n\t\t\t\tcase \"%h\": \r\n\t\t\t\tcase \"%H\":\r\n\t\t\t\t\t\t\tsplt+=\"set[3]=temp[\"+i+\"]||0;\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%i\":\r\n\t\t\t\t\t\t\tsplt+=\"set[4]=temp[\"+i+\"]||0;\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%Y\":  splt+=\"set[0]=(temp[\"+i+\"]||0)*1; if (set[0]<30) set[0]+=2000;\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%a\":\r\n\t\t\t\t\tsplt+= \"set[3]=set[3]%12+(temp[\"+i+\"]==webix.i18n.am[0]?0:12);\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%A\":\r\n\t\t\t\t\tsplt+= \"set[3]=set[3]%12+(temp[\"+i+\"]==webix.i18n.am[1]?0:12);\";\r\n\t\t\t\t\tbreak;\t\t\t\t\t\r\n\t\t\t\tcase \"%s\":  splt+=\"set[5]=temp[\"+i+\"]||0;\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%M\":  splt+=\"set[1]=webix.i18n.calendar.monthShort_hash[temp[\"+i+\"]]||0;\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%F\":  splt+=\"set[1]=webix.i18n.calendar.monthFull_hash[temp[\"+i+\"]]||0;\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%c\":\r\n\t\t\t\t\tsplt+= \"var res = date.split('T');\";\r\n\t\t\t\t\tsplt+= \"if(res[0]){ var d = res[0].split('-');\";\r\n\t\t\t\t\tsplt+= \"set[0]= (d[0]||0)*1; if (set[0]<30) set[0]+=2000;\";\r\n\t\t\t\t\tsplt+= \"set[1]= (d[1]||1)-1;\";\r\n\t\t\t\t\tsplt+= \"set[2]= d[2]||1;}\";\r\n\t\t\t\t\tsplt+= \"if(res[1]){ var t = res[1].split(':');\";\r\n\t\t\t\t\tsplt+= \"set[3]= t[0]||0;\";\r\n\t\t\t\t\tsplt+= \"set[4]= t[1]||0;\";\r\n\t\t\t\t\tsplt+= \"set[5]= t[2]||0;}\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar code =\"set[0],set[1],set[2],set[3],set[4],set[5]\";\r\n\t\tif (utc) code =\" Date.UTC(\"+code+\")\";\r\n\t\treturn new Function(\"date\",\"if (!date) return ''; if (typeof date == 'object') return date; var set=[0,0,1,0,0,0]; \"+splt+\" return new Date(\"+code+\");\");\r\n\t},\r\n\t\t\r\n\tgetISOWeek: function(ndate) {\r\n\t\tif(!ndate) return false;\r\n\t\tvar nday = ndate.getDay();\r\n\t\tif (nday === 0) {\r\n\t\t\tnday = 7;\r\n\t\t}\r\n\t\tvar first_thursday = new Date(ndate.valueOf());\r\n\t\tfirst_thursday.setDate(ndate.getDate() + (4 - nday));\r\n\t\tvar year_number = first_thursday.getFullYear(); // year of the first Thursday\r\n\t\tvar ordinal_date = Math.floor( (first_thursday.getTime() - new Date(year_number, 0, 1).getTime()) / 86400000); //ordinal date of the first Thursday - 1 (so not really ordinal date)\r\n\t\tvar weekNumber = 1 + Math.floor( ordinal_date / 7);\t\r\n\t\treturn weekNumber;\r\n\t},\r\n\t\r\n\tgetUTCISOWeek: function(ndate){\r\n\t\treturn this.getISOWeek(ndate);\r\n\t},\r\n\t_correctDate: function(d,d0,inc,checkFunc){\r\n\t\tif(!inc)\r\n\t\t\treturn;\r\n\t\tvar incorrect = checkFunc(d,d0);\r\n\t\tif(incorrect){\r\n\t\t\tvar i = (inc>0?1:-1);\r\n\r\n\t\t\twhile(incorrect){\r\n\t\t\t\td.setHours(d.getHours()+i);\r\n\t\t\t\tincorrect = checkFunc(d,d0);\r\n\t\t\t\ti += (inc>0?1:-1);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tadd:function(date,inc,mode,copy){\r\n\t\tif (copy) date = this.copy(date);\r\n\t\tvar d = webix.Date.copy(date);\r\n\t\tswitch(mode){\r\n\t\t\tcase \"day\":\r\n\t\t\t\tdate.setDate(date.getDate()+inc);\r\n\t\t\t\tthis._correctDate(date,d,inc,function(d,d0){\r\n\t\t\t\t\treturn \twebix.Date.datePart(d0,true).valueOf()== webix.Date.datePart(d,true).valueOf();\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"week\":\r\n\t\t\t\tdate.setDate(date.getDate()+7*inc);\r\n\t\t\t\tthis._correctDate(date,d,7*inc,function(d,d0){\r\n\t\t\t\t\treturn \twebix.Date.datePart(d0,true).valueOf()== webix.Date.datePart(d,true).valueOf();\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"month\":\r\n\t\t\t\tdate.setMonth(date.getMonth()+inc);\r\n\t\t\t\tthis._correctDate(date,d,inc,function(d,d0){\r\n\t\t\t\t\treturn \td0.getMonth() == d.getMonth() && d0.getYear() == d.getYear();\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"year\":\r\n\t\t\t\tdate.setYear(date.getFullYear()+inc);\r\n\t\t\t\tthis._correctDate(date,d,inc,function(d,d0){\r\n\t\t\t\t\treturn \td0.getFullYear() == d.getFullYear();\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"hour\":\r\n\t\t\t\tdate.setHours(date.getHours()+inc);\r\n\t\t\t\tthis._correctDate(date,d,inc,function(d,d0){\r\n\t\t\t\t\treturn \td0.getHours() == d.getHours() && webix.Date.datePart(d0,true)== webix.Date.datePart(d,true);\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"minute\": \tdate.setMinutes(date.getMinutes()+inc); break;\r\n\t\t\tdefault:\r\n\t\t\t\twebix.Date.add[mode](date, inc, mode);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn date;\r\n\t},\r\n\tdatePart:function(date, copy){\r\n\t\tif (copy) date = this.copy(date);\r\n\r\n\t\t// workaround for non-existent hours\r\n\t\tvar d = this.copy(date);\r\n\t\td.setHours(0);\r\n\t\tif(d.getDate()!=date.getDate()){\r\n\t\t\tdate.setHours(1);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tdate.setHours(0);\r\n\t\t}\r\n\r\n\t\tdate.setMinutes(0);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\t\treturn date;\r\n\t},\r\n\ttimePart:function(date, copy){\r\n\t\tif (copy) date = this.copy(date);\r\n\t\treturn (date.valueOf()/1000 - date.getTimezoneOffset()*60)%86400;\r\n\t},\r\n\tcopy:function(date){\r\n\t\treturn new Date(date.valueOf());\r\n\t},\r\n\tequal:function(a,b){\r\n\t\tif (!a || !b) return false;\r\n\t\treturn a.valueOf() === b.valueOf();\r\n\t},\r\n\tisHoliday:function(day){ \r\n\t\tday = day.getDay();\r\n\t\tif (day === 0 || day==6) return \"webix_cal_event\"; \r\n\t}\r\n};\r\n\r\n\r\nwebix.i18n = {\r\n\t_dateMethods:[\"fullDateFormat\", \"timeFormat\", \"dateFormat\", \"longDateFormat\", \"parseFormat\", \"parseTimeFormat\"],\r\n\tparseFormat:\"%Y-%m-%d %H:%i\",\r\n\tparseTimeFormat:\"%H:%i\",\r\n\tnumberFormat:webix.Number.format,\r\n\tpriceFormat:function(value){ return webix.i18n._price_format(webix.i18n.numberFormat(value, webix.i18n._price_settings)); },\r\n\r\n\tsetLocale:function(locale){\r\n\t\tvar extend = function(base,source){\r\n\t\t\tfor (var method in source){\r\n\t\t\t\tif(typeof(source[method]) == \"object\" && !webix.isArray(source[method])){\r\n\t\t\t\t\tif(!base[method]){\r\n\t\t\t\t\t\tbase[method] = {};\r\n\t\t\t\t\t}\r\n\t\t\t\t\textend(base[method],source[method]);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\tbase[method] = source[method];\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tif (typeof locale == \"string\")\r\n\t\t\tlocale = this.locales[locale];\r\n\t\tif (locale){\r\n\t\t\textend(this, locale);\r\n\t\t}\r\n\t\tvar helpers = webix.i18n._dateMethods;\r\n\t\tfor( var i=0; i<helpers.length; i++){\r\n\t\t\tvar key = helpers[i];\r\n\t\t\tvar utc = webix.i18n[key+\"UTC\"];\r\n\t\t\twebix.i18n[key+\"Str\"] = webix.Date.dateToStr(webix.i18n[key], utc);\r\n\t\t\twebix.i18n[key+\"Date\"] = webix.Date.strToDate(webix.i18n[key], utc);\r\n\t\t}\r\n\r\n\t\tthis._price_format = webix.template(this.price);\r\n\t\tthis._price_settings = this.priceSettings || this;\r\n\r\n\t\tthis.intFormat = webix.Number.numToStr({ groupSize:this.groupSize, groupDelimiter:this.groupDelimiter, decimalSize : 0});\r\n\t}\r\n};\r\n\r\n\r\nwebix.i18n.locales={};\r\nwebix.i18n.locales[\"en-US\"]={\r\n\tgroupDelimiter:\",\",\r\n\tgroupSize:3,\r\n\tdecimalDelimiter:\".\",\r\n\tdecimalSize:2,\r\n\r\n\tdateFormat:\"%m/%d/%Y\",\r\n\ttimeFormat:\"%h:%i %A\",\r\n\tlongDateFormat:\"%d %F %Y\",\r\n\tfullDateFormat:\"%m/%d/%Y %h:%i %A\",\r\n\tam:[\"am\",\"AM\"],\r\n\tpm:[\"pm\",\"PM\"],\r\n\r\n\tprice:\"${obj}\",\r\n\tpriceSettings:{\r\n        groupDelimiter:\",\",\r\n        groupSize:3,\r\n        decimalDelimiter:\".\",\r\n        decimalSize:2\r\n    },\r\n\tfileSize: [\"b\",\"Kb\",\"Mb\",\"Gb\",\"Tb\",\"Pb\",\"Eb\"],\r\n\t\r\n\tcalendar: {\r\n\t\tmonthFull:[\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\r\n\t\tmonthShort:[\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\r\n\t\tdayFull:[\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\r\n    \tdayShort:[\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\r\n\t\thours: \"Hours\",\r\n\t\tminutes: \"Minutes\",\r\n\t\tdone:\"Done\",\r\n\t\tclear: \"Clear\",\r\n\t\ttoday: \"Today\"\r\n    },\r\n\r\n    controls:{\r\n    \tselect:\"Select\",\r\n    \tinvalidMessage: \"Invalid input value\"\r\n    },\r\n    dataExport:{\r\n\t\tpage:\"Page\",\r\n\t\tof:\"of\"\r\n    },\r\n    PDFviewer:{\r\n\t\tof:\"of\",\r\n\t\tautomaticZoom:\"Automatic Zoom\",\r\n\t\tactualSize:\"Actual Size\",\r\n\t\tpageFit:\"Page Fit\",\r\n\t\tpageWidth:\"Page Width\",\r\n\t\tpageHeight:\"Page Height\"\r\n    },\r\n    aria:{\r\n\t\tincreaseValue:\"Increase value\",\r\n\t\tdecreaseValue:\"Decrease value\",\r\n\t\tnavMonth:[\"Previous month\", \"Next month\"],\r\n\t\tnavYear:[\"Previous year\", \"Next year\"],\r\n\t\tnavDecade:[\"Previous decade\", \"Next decade\"],\r\n\t\tremoveItem:\"Remove item\",\r\n\t\tpages:[\"First page\", \"Previous page\", \"Next page\", \"Last page\"],\r\n\t\tpage:\"Page\",\r\n\t\theadermenu:\"Header menu\",\r\n\t\topenGroup:\"Open column group\",\r\n\t\tcloseGroup:\"Close column group\",\r\n\t\tcloseTab:\"Close tab\",\r\n\t\tshowTabs:\"Show more tabs\",\r\n\t\tresetTreeMap:\"Reset tree map\",\r\n\t\tnavTreeMap:\"Level up\",\r\n\t\tnextTab:\"Next tab\",\r\n\t\tprevTab:\"Previous tab\",\r\n\t\tmultitextSection:\"Add section\",\r\n\t\tmultitextextraSection:\"Remove section\",\r\n\t\tshowChart:\"Show chart\",\r\n\t\thideChart:\"Hide chart\",\r\n\t\tresizeChart:\"Resize chart\"\r\n    }\r\n};\r\nwebix.i18n.setLocale(\"en-US\");\r\n\r\n\r\n\r\nwebix.Undo= {\r\n\t$init:function(){\r\n\t\tthis._undoHistory = webix.extend([],webix.PowerArray,true);\r\n\t\tthis._undoCursor = -1;\r\n\t},\r\n\tundo_setter: function(value){\r\n\t\tif(value){\r\n\t\t\tthis._init_undo();\r\n\t\t\tthis._init_undo = function(){};\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\t_init_undo: function(){\r\n\t\tvar view = this;\r\n\r\n\t\t// drag-n-drop\r\n\t\tthis.attachEvent(\"onBeforeDrop\", function(context){\r\n\t\t\tif(context.from == context.to){\r\n\t\t\t\tvar item = view._draggedItem = webix.copy(this.getItem(context.start));\r\n\t\t\t\tif(this.data.branch){\r\n\t\t\t\t\titem.$index = this.getBranchIndex(item.id);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\titem.$index = this.getIndexById(item.id);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.data.attachEvent(\"onDataMove\", function( sid ){\r\n\t\t\tif(view._draggedItem && view._draggedItem.id == sid){\r\n\t\t\t\tvar data = view._draggedItem;\r\n\t\t\t\tview._draggedItem = null;\r\n\t\t\t\tview._addToHistory(sid, data, \"move\");\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// edit, add, remove\r\n\t\tthis.attachEvent(\"onBeforeEditStop\", function(state, editor){\r\n\t\t\tthis._editedItem =  webix.copy(this.getItem(editor.id||editor.row));\r\n\t\t});\r\n\t\tthis.data.attachEvent(\"onBeforeDelete\", function(id){\r\n\t\t\tif(this.getItem(id)){\r\n\t\t\t\tvar item = view._deletedItem = webix.copy(this.getItem(id));\r\n\t\t\t\tif(this.branch){\r\n\t\t\t\t\titem.$index = this.getBranchIndex(id);\r\n\t\t\t\t\tif(this.branch[id])\r\n\t\t\t\t\t\titem.$branch = webix.copy(this.serialize(id));\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\titem.$index = this.getIndexById(id);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\", function(id, item, mode){\r\n\t\t\tvar data = null;\r\n\t\t\tif(id){\r\n\t\t\t\tif(mode == \"add\"){\r\n\t\t\t\t\tdata = webix.copy(item);\r\n\t\t\t\t}\r\n\t\t\t\telse if( mode == \"delete\"){\r\n\t\t\t\t\tdata = view._deletedItem;\r\n\t\t\t\t}\r\n\t\t\t\telse if(mode == \"update\"){\r\n\t\t\t\t\t// update can also be called due to custom updateItem call\r\n\t\t\t\t\tif(view._editedItem && view._editedItem.id == id){\r\n\t\t\t\t\t\tdata = view._editedItem;\r\n\t\t\t\t\t\tview._editedItem = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(data)\r\n\t\t\t\t\tview._addToHistory(id, data, mode);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// id change\r\n\t\tthis.data.attachEvent(\"onIdChange\", function(oldId,newId){\r\n\t\t\tif(typeof oldId == \"object\")\r\n\t\t\t\toldId = oldId.row;\r\n\t\t\tfor(var i =0; i < view._undoHistory.length; i++){\r\n\t\t\t\tif(view._undoHistory[i].id == oldId){\r\n\t\t\t\t\tview._undoHistory[i].id = newId;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t_addToHistory: function(id, data, action){\r\n\t\tif(!this._skipHistory && this._settings.undo){\r\n\t\t\tthis._undoHistory.push({id: id, action: action, data: data});\r\n\t\t\tif(this._undoHistory.length==20)\r\n\t\t\t\tthis._undoHistory.splice(0,1);\r\n\t\t\tif(!this._skipCursorInc)\r\n\t\t\t\tthis._undoCursor = this._undoHistory.length - 1;\r\n\t\t}\r\n\t},\r\n\tignoreUndo: function(func, master){\r\n\t\t this._skipHistory = true;\r\n\t\t func.call(master||this);\r\n\t\t this._skipHistory = false;\r\n\t},\r\n\tremoveUndo: function(id){\r\n\t\tfor( var i = this._undoHistory.length-1; i >=0; i--){\r\n\t\t\tif(this._undoHistory[i].id == id){\r\n\t\t\t\tif(this._undoHistory[i].action == \"id\"){\r\n\t\t\t\t\tid = this._undoHistory[i].data;\r\n\t\t\t\t}\r\n\t\t\t\tthis._undoHistory.removeAt(i);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._undoCursor = this._undoHistory.length - 1;\r\n\t},\r\n\tundo: function(id){\r\n\t\tif(id){\r\n\t\t\tthis.ignoreUndo(function(){\r\n\t\t\t\tvar data, i;\r\n\t\t\t\tfor( i = this._undoHistory.length-1; !data && i >=0; i--){\r\n\t\t\t\t\tif(this._undoHistory[i].id == id)\r\n\t\t\t\t\t\tdata = this._undoHistory[i];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(data){\r\n\t\t\t\t\t/*if(data.action == \"id\")\r\n\t\t\t\t\t\tid = data.data;*/\r\n\t\t\t\t\tthis._undoAction(data);\r\n\t\t\t\t\tthis._undoHistory.removeAt(i+1);\r\n\t\t\t\t\tthis._undoCursor = this._undoHistory.length - 1;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\telse{\r\n\t\t\tvar data = this._undoHistory[this._undoCursor];\r\n\t\t\tif(data){\r\n\t\t\t\tthis.ignoreUndo(function(){\r\n\t\t\t\t\tthis._undoAction(data);\r\n\t\t\t\t\tthis._undoHistory.removeAt(this._undoCursor);\r\n\t\t\t\t});\r\n\t\t\t\tthis._undoCursor--;\r\n\t\t\t\t/*if(data.action == \"id\")\r\n\t\t\t\t\tthis.undo();*/\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_undoAction: function(obj){\r\n\t\tif(obj.action == \"delete\"){\r\n\t\t\tvar branch = null,\r\n\t\t\t\tparentId = obj.data.$parent;\r\n\r\n\t\t\tif(obj.data.$branch){\r\n\t\t\t\tbranch = {\r\n\t\t\t\t\tparent: obj.id,\r\n\t\t\t\t\tdata: webix.copy(obj.data.$branch)\r\n\t\t\t\t};\r\n\t\t\t\tdelete obj.data.$branch;\r\n\t\t\t\tif(parentId && !this.data.branch[parentId])\r\n\t\t\t\t\tparentId = 0;\r\n\t\t\t}\r\n\r\n\t\t\tthis.add(obj.data, obj.data.$index, parentId);\r\n\t\t\tif(branch){\r\n\t\t\t\tthis.parse(branch);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if(obj.action == \"add\"){\r\n\t\t\tthis.remove(obj.id);\r\n\t\t}\r\n\t\telse if(obj.action == \"update\"){\r\n\t\t\tthis.updateItem(obj.id, obj.data);\r\n\t\t}\r\n\t\telse if(obj.action == \"move\"){\r\n\t\t\tif(obj.data.$parent){\r\n\t\t\t\tif(this.getItem(obj.data.$parent))\r\n\t\t\t\t\tthis.move(obj.id, obj.data.$index, null, {parent: obj.data.$parent});\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tthis.move(obj.id, obj.data.$index);\r\n\t\t}\r\n\t\t/*else if(obj.action == \"id\"){\r\n\t\t\tthis.data.changeId(obj.id, obj.data);\r\n\t\t}*/\r\n\t}\r\n};\r\n\r\nwebix.protoUI({\r\n\tname:\"datatable\",\r\n\tdefaults:{\r\n\t\tleftSplit:0,\r\n\t\trightSplit:0,\r\n\t\ttopSplit:0,\r\n\t\tcolumnWidth:100,\r\n\t\tminColumnWidth:20,\r\n\t\tminColumnHeight:26,\r\n\t\tprerender:false,\r\n\t\tautoheight:false,\r\n\t\tautowidth:false,\r\n\t\theader:true,\r\n\t\tfixedRowHeight:true,\r\n\t\tscrollAlignY:true,\r\n\t\tscrollX:true,\r\n\t\tscrollY:true,\r\n\t\tdatafetch:50,\r\n\t\tnavigation:true\r\n\t},\r\n\t$skin:function(){\r\n\t\tvar height = webix.skin.$active.rowHeight;\r\n\t\tvar defaults = this.defaults;\r\n\t\tdefaults.rowHeight = height;\r\n\t\tdefaults.headerRowHeight = webix.skin.$active.barHeight;\r\n\t},\r\n\ton_click:{\r\n\t\twebix_richfilter:function(){\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\twebix_table_checkbox:function(e, id){\r\n\t\t\tid = this.locate(e);\r\n\t\t\t\r\n\t\t\tvar item = this.getItem(id.row);\r\n\t\t\tvar col = this.getColumnConfig(id.column);\r\n\t\t\tvar trg = e.target|| e.srcElement;\r\n\r\n\t\t\t//read actual value from HTML tag when possible\r\n\t\t\t//as it can be affected by dbl-clicks\r\n\t\t\tvar check = (trg.type == \"checkbox\")?trg.checked:(item[id.column] != col.checkValue);\r\n\t\t\tvar value =  check ? col.checkValue : col.uncheckValue;\r\n\r\n\t\t\titem[id.column] = value;\r\n\r\n\t\t\tthis.callEvent(\"onCheck\", [id.row, id.column, value]);\r\n\t\t\tthis.data.callEvent(\"onDataUpdate\", [id, item]);\r\n\t\t\tthis.data.callEvent(\"onStoreUpdated\", [id.row, item, (this._settings.checkboxRefresh?\"update\":\"save\")]);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\twebix_table_radio:function(e){\r\n\t\t\tvar id = this.locate(e);\r\n\t\t\t\r\n\t\t\tvar item = this.getItem(id.row);\r\n\t\t\tvar col = this.getColumnConfig(id.column);\r\n\r\n\t\t\tvar checked = 0;\r\n\t\t\tthis.eachRow(function(rowid){\r\n\t\t\t\tvar item = this.data.pull[rowid];\r\n\t\t\t\tif (item && item[id.column] == col.checkValue)\r\n\t\t\t\t\titem[id.column] = col.uncheckValue;\r\n\t\t\t});\r\n\r\n\t\t\titem[id.column] = col.checkValue;\r\n\r\n\t\t\tthis.callEvent(\"onCheck\", [id.row, id.column, true]);\r\n\t\t\tthis.refresh();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t},\r\n\ton_dblclick:{\r\n\t\twebix_table_checkbox: function(){\r\n\t\t\treturn this.on_click.webix_table_checkbox.apply(this,arguments);\r\n\t\t}\r\n\t},\r\n\ton_context:{\r\n\t},\r\n\t$init:function(config){\r\n\t\tthis.on_click = webix.extend({}, this.on_click);\r\n\t\tvar html  = \"<div class='webix_ss_header'><div class='webix_hs_left'></div><div class='webix_hs_center'></div><div class='webix_hs_right'></div></div><div class='webix_ss_body'><div class='webix_ss_left'><div class='webix_ss_center_scroll'></div></div>\";\r\n\t\t    html += \"<div class='webix_ss_center'><div class='webix_ss_center_scroll' role='rowgroup'></div></div>\";\r\n\t\t    html += \"<div class='webix_ss_right'><div class='webix_ss_center_scroll'></div></div></div>\";\r\n\t\t    html += \"<div class='webix_ss_hscroll' role='scrollbar' aria-orientation='horizontal'></div><div class='webix_ss_footer'><div class='webix_hs_left'></div><div class='webix_hs_center'></div><div class='webix_hs_right'></div></div><div class='webix_ss_vscroll_header'></div><div class='webix_ss_vscroll' role='scrollbar' aria-orientation='vertical'></div><div class='webix_ss_vscroll_footer'></div>\";\r\n\r\n\t\tthis._contentobj.innerHTML = html;\r\n\t\tthis._top_id = this._contentobj.id = this.name+webix.uid();\r\n\t\tthis._contentobj.className +=\" webix_dtable\";\r\n\r\n\t\tthis._dataobj = this._contentobj;\r\n\r\n\t\tthis._header = this._contentobj.firstChild;\r\n\t\tthis._body = this._header.nextSibling;\r\n\t\tthis._footer = this._body.nextSibling.nextSibling;\r\n\r\n\t\tthis._viewobj.setAttribute(\"role\", \"grid\");\r\n\t\tif(!config.editable) \r\n\t\t\tthis._viewobj.setAttribute(\"aria-readonly\", \"true\");\r\n\r\n\t\tthis.data.provideApi(this, true);\r\n\t\tthis.data.attachEvent(\"onParse\", webix.bind(this._call_onparse, this));\r\n\r\n\t\tthis.$ready.push(this._first_render);\r\n\r\n\t\tthis._columns = [];\r\n\t\tthis._headers = [];\r\n\t\tthis._footers = [];\r\n\t\tthis._rows_cache = [];\r\n\t\tthis._active_headers = {};\r\n\t\tthis._filter_elements = {};\r\n\t\tthis._header_height = this._footer_height = 0;\r\n\r\n\t\t//component can create new view\r\n\t\tthis._destroy_with_me = [];\r\n\r\n\t\tthis.data.attachEvent(\"onServerConfig\", webix.bind(this._config_table_from_file, this));\r\n\t\tthis.data.attachEvent(\"onServerOptions\", webix.bind(this._config_options_from_file, this));\r\n\t\tthis.attachEvent(\"onViewShow\", function(){\r\n\t\t\tthis._restore_scroll_state();\r\n\t\t\tthis._refresh_any_header_content();\r\n\t\t});\r\n\t\tthis.attachEvent(\"onDestruct\", this._clean_config_struct);\r\n\t\tthis.attachEvent(\"onKeyPress\", this._onKeyPress);\r\n\r\n\t\twebix.callEvent(\"onDataTable\", [this, config]);\r\n\r\n\r\n\t},\r\n\t_render_initial:function(){\r\n\t\tthis._scrollSizeX = this._scrollSizeY = webix.ui.scrollSize;\r\n\r\n\t\twebix.html.addStyle(\"#\"+this._top_id +\" .webix_cell { height:\"+this._settings.rowHeight+\"px; line-height:\"+(this._settings.rowLineHeight || this._settings.rowHeight)+\"px;\" +(this._settings.fixedRowHeight?\"\":\"white-space:normal;\")+\" }\");\r\n\t\twebix.html.addStyle(\"#\"+this._top_id +\" .webix_hcell { height:\"+this._settings.headerRowHeight+\"px; line-height:\"+this._settings.headerRowHeight+\"px;}\");\r\n\t\tthis._render_initial = function(){};\r\n\t},\r\n\t_first_render:function(){\r\n\t\tthis.data.attachEvent(\"onStoreLoad\", webix.bind(this._refresh_any_header_content, this));\r\n\t\tthis.data.attachEvent(\"onSyncApply\", webix.bind(this._refresh_any_header_content, this));\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\", webix.bind(function(){ return this.render.apply(this, arguments); }, this));\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\", webix.bind(this._refresh_tracking_header_content, this));\r\n\t\tthis.render();\r\n\t},\r\n\trefresh:function(){\r\n\t\tthis.render();\r\n\t},\r\n\trender:function(id, data, mode){\r\n\t\t//pure data saving call\r\n\t\tif (mode == \"save\") return;\r\n\t\t//during dnd we must not repaint anything in mobile webkit\r\n\t\tif (mode == \"move\"){\r\n\t\t\tvar context = webix.DragControl.getContext();\r\n\t\t\tif (context && context.fragile) return;\r\n\t\t}\r\n\r\n\t\tif (!this._columns.length){\r\n\t\t\tvar cols = this._settings.columns;\r\n\t\t\tif (!cols || !cols.length) {\r\n\t\t\t\tif (this._settings.autoConfig && this.data.order.length){\r\n\t\t\t\t\tthis._dtable_fully_ready = 0;\r\n\t\t\t\t\tthis._autoDetectConfig();\r\n\t\t\t\t} else\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._define_structure();\r\n\t\t}\r\n\r\n\t\tif (!this.isVisible(this._settings.id) || this.$blockRender)\r\n\t\t\treturn this._render_initial(); //Chrome 34, Custom Font loading bug\r\n\r\n\t\t//replace multiple atomic updates by single big repaint\r\n\t\tif (id && data != -1 && (mode == \"paint\" || mode == \"update\")){\r\n\t\t\tif (this._render_timer)\r\n\t\t\t\tclearTimeout(this._render_timer);\r\n\r\n\t\t\tif (!this._render_timer || this._render_timer_id == id){\r\n\t\t\t\tthis._render_timer_id = id;\r\n\t\t\t\tthis._render_timer = webix.delay(function(){\r\n\t\t\t\t\t//if only one call - repaint single item\r\n\t\t\t\t\tthis.render(id, -1, mode);\r\n\t\t\t\t}, this);\r\n\t\t\t} else {\r\n\t\t\t\tthis._render_timer_id = null;\r\n\t\t\t\tthis._render_timer = webix.delay(function(){\r\n\t\t\t\t\t//if ther was a serie of calls - replace them with single full repaint\r\n\t\t\t\t\tthis.render();\r\n\t\t\t\t}, this);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t} else if (this._render_timer){\r\n\t\t\tclearTimeout(this._render_timer);\r\n\t\t\tthis._render_timer = 0;\r\n\t\t}\r\n\r\n\t\tif (this.callEvent(\"onBeforeRender\",[this.data])){\r\n\r\n\t\t\tthis._render_initial();\r\n\t\t\tif (!this._dtable_fully_ready)\r\n\t\t\t\tthis._apply_headers();\r\n\r\n\t\t\tif (this._content_width){\r\n\t\t\t\tif (this[\"_settings\"].experimental && (mode == \"paint\" || mode == \"update\") && id)\r\n\t\t\t\t\tthis._repaint_single_row(id);\r\n\t\t\t\telse\r\n\t\t\t\t\tthis._check_rendered_cols(true, true);\r\n\t\t\t}\r\n\r\n\t\t\tif (!id || mode!=\"update\"){\r\n\t\t\t\tthis._dtable_height = this._get_total_height();\r\n\t\t\t\tthis._set_split_sizes_y();\r\n\t\t\t}\r\n\r\n\t\t\t//don't depend on hidden rows/rolumns\r\n\t\t\tthis._viewobj.setAttribute(\"aria-colcount\", Math.max(this._hidden_column_order.length, this._columns.length));\r\n\t\t\tthis._viewobj.setAttribute(\"aria-rowcount\", this.data.count());\r\n\r\n\t\t\tthis.callEvent(\"onAfterRender\",[this.data]);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t},\r\n\tgetColumnConfig:function(id){\r\n\t\treturn this._columns_pull[id] || this._hidden_column_hash[id];\r\n\t},\r\n\t_config_options_from_file:function(colls){\r\n\t\tfor (var key in colls){\r\n\t\t\tvar column = this.getColumnConfig(key);\r\n\t\t\twebix.assert(column, \"Orphan collection: \"+key);\r\n\t\t\tvar temp = new webix.DataCollection({\r\n\t\t\t\tdata:colls[key]\r\n\t\t\t});\r\n\t\t\tthis._destroy_with_me.push(temp);\r\n\t\t\tthis._bind_collection(temp, column);\r\n\t\t}\r\n\t},\r\n\t//xml has different configuration structure, fixing\r\n\t_config_table_from_file:function(config){\r\n\t\tif (config.columns && this._dtable_fully_ready)\r\n\t\t\tthis.refreshColumns(null, true);\r\n\t},\r\n\t_define_structure:function(){\r\n\t\tif (this._settings.columns){\r\n\t\t\tthis._columns = this._settings.columns;\r\n\t\t\tthis._columns_pull = {};\r\n\r\n\t\t\tfor (var i = 0; i < this._columns.length; i++){\r\n\t\t\t\tvar col = this._columns[i];\r\n\t\t\t\tthis._columns_pull[col.id] = col;\r\n\r\n\t\t\t\tvar format = col.cssFormat;\r\n\t\t\t\tif (format)\r\n\t\t\t\t\tcol.cssFormat = webix.toFunctor(format, this.$scope);\r\n\r\n\t\t\t\tcol.width = col.width||this._settings.columnWidth;\r\n\t\t\t\tif (typeof col.format == \"string\") \r\n\t\t\t\t\tcol.format = webix.i18n[col.format]||window[col.format];\r\n\r\n\t\t\t\t//default settings for checkboxes and radios\r\n\t\t\t\tif (webix.isUndefined(col.checkValue)) col.checkValue = 1;\r\n\t\t\t\tif (webix.isUndefined(col.uncheckValue)) col.uncheckValue = 0;\r\n\t\t\t\t\r\n\t\t\t\tif (col.css && typeof col.css == \"object\")\r\n\t\t\t\t\tcol.css = webix.html.createCss(col.css);\r\n\r\n\t\t\t\tvar template = col.template;\r\n\t\t\t\tif (template){\r\n\t\t\t\t\tif (typeof template == \"string\")\r\n\t\t\t\t\t\ttemplate = template.replace(/#\\$value#/g,\"#\"+col.id+\"#\");\r\n\t\t\t\t\tcol.template = webix.template(template);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._normalize_headers(\"header\", this._headers);\r\n\t\t\tthis._normalize_headers(\"footer\", this._footers);\r\n\r\n\t\t\tthis.callEvent(\"onStructureLoad\",[]);\r\n\t\t}\r\n\t},\r\n\t_define_structure_and_render:function(){\r\n\t\tthis._apply_headers();\r\n\t},\r\n\t_clean_config_struct:function(){ \r\n\t\t//remove column technical info from the column\r\n\t\t//it allows to reuse the same config object for new grid\r\n\t\tfor (var i = 0; i < this._columns.length; i++){\r\n\t\t\tdelete this._columns[i].attached;\r\n\t\t\tdelete this._columns[i].node;\r\n\t\t}\r\n\t},\r\n\t_apply_headers:function(){\r\n\t\tthis._rightSplit = this._columns.length-this._settings.rightSplit;\r\n\t\tthis._dtable_width = 0;\r\n\r\n\t\tfor (var i = 0; i < this._columns.length; i++){\r\n\t\t\tif (!this._columns[i].node){\r\n\r\n\t\t\t\tvar temp = webix.html.create(\"DIV\");\r\n\t\t\t\ttemp.style.width = this._columns[i].width + \"px\";\r\n\t\t\t\tthis._columns[i].node = temp;\r\n\t\t\t}\r\n\t\t\tif (i>=this._settings.leftSplit && i<this._rightSplit)\r\n\t\t\t\tthis._dtable_width += this._columns[i].width;\r\n\t\t}\r\n\r\n\t\tvar marks = [];\r\n\t\t\r\n\t\tif (this._settings.rightSplit){\r\n\t\t\tvar nr = this._columns.length-this._settings.rightSplit;\r\n\t\t\tmarks[nr]  =\" webix_first\";\r\n\t\t\tmarks[nr-1]=\" webix_last\";\r\n\t\t}\r\n\t\tif (this._settings.leftSplit){\r\n\t\t\tvar nl = this._settings.leftSplit;\r\n\t\t\tmarks[nl]  =\" webix_first\";\r\n\t\t\tmarks[nl-1]=\" webix_last\";\r\n\t\t}\r\n\t\tmarks[0]  = (marks[0]||\"\")+\" webix_first\";\r\n\t\tvar last_index = this._columns.length-1;\r\n\t\tmarks[last_index] = (marks[last_index]||\"\")+\" webix_last\";\r\n\r\n\r\n\t\tfor (var i=0; i<this._columns.length; i++){\r\n\t\t\tvar node = this._columns[i].node;\r\n\t\t\tnode.setAttribute(\"column\", i);\r\n\t\t\tnode.className = \"webix_column \"+(this._columns[i].css||\"\")+(marks[i]||'');\r\n\t\t}\r\n\r\n\t\tthis._create_scrolls();\t\t\r\n\r\n\t\tthis._set_columns_positions();\r\n\t\tthis._set_split_sizes_x();\r\n\t\tthis._render_header_and_footer();\r\n\r\n\t\tthis._dtable_fully_ready = true;\r\n\t},\r\n\t_set_columns_positions:function(){\r\n\t\tvar left = 0;\r\n\t\tfor (var i = 0; i < this._columns.length; i++){\r\n\t\t\tvar column = this._columns[i];\r\n\t\t\tif (i == this._settings.leftSplit || i == this._rightSplit)\r\n\t\t\t\tleft = 0;\r\n\r\n\t\t\tif (column.node){\r\n\t\t\t\tcolumn.node.style.left = left+\"px\";\r\n\t\t\t\tif (this._settings.leftSplit || this._settings.rightSplit){\r\n\t\t\t\t\twebix.html.remove(column.node);\r\n\t\t\t\t\tcolumn.attached = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tleft += column.width;\r\n\t\t}\r\n\t},\r\n\t_render_header_and_footer:function(){\r\n\t\tif (!this._header_fix_width)\r\n\t\t\tthis._header_fix_width = 0;\r\n\r\n\t\tthis._header_height = this._footer_height = 0;\r\n\r\n\t\tif (this._settings.header) {\r\n\t\t\tthis._refreshHeaderContent(this._header, 0, 1);\r\n\t\t\tthis._normalize_headers(\"header\", this._headers);\r\n\t\t\tthis._header_height = this._headers._summ;\r\n\t\t\tthis._render_header_section(this._header, \"header\", this._headers);\r\n\t\t}\r\n\t\tif (this._settings.footer){\r\n\t\t\tthis._refreshHeaderContent(this._footer, 0, 1);\r\n\t\t\tthis._normalize_headers(\"footer\", this._footers);\r\n\t\t\tthis._footer_height = this._footers._summ;\r\n\t\t\tthis._render_header_section(this._footer, \"footer\", this._footers);\r\n\t\t}\t\r\n\r\n\t\tthis.refreshHeaderContent(false, false);\r\n\t\tthis._size_header_footer_fix();\r\n\r\n\t\tif (this._last_sorted)\r\n\t\t\tthis.markSorting(this._last_sorted, this._last_order);\r\n\t},\r\n\t_normalize_headers:function(collection, heights){\r\n\t\tvar rows = 0;\r\n\t\t\r\n\t\tfor (var i=0; i<this._columns.length; i++){\r\n\t\t\tvar data = this._columns[i][collection];\r\n\t\t\tif (!data || typeof data != \"object\" || !data.length){\r\n\t\t\t\tif (webix.isUndefined(data)){\r\n\t\t\t\t\tif (collection == \"header\")\r\n\t\t\t\t\t\tdata = this._columns[i].id;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tdata = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tdata = [data]; \r\n\t\t\t}\r\n\t\t\tfor (var j = 0; j < data.length; j++){\r\n\t\t\t\tif (typeof data[j] != \"object\")\r\n\t\t\t\t\tdata[j] = { text:data[j] };\r\n\t\t\t\tif (data[j] && data[j].height) heights[j] = data[j].height;\r\n\t\t\t}\r\n\t\t\trows = Math.max(rows, data.length);\r\n\t\t\tthis._columns[i][collection] = data;\r\n\t\t}\r\n\r\n\r\n\t\theights._summ = rows;\r\n\t\tfor (var i = rows-1; i >= 0; i--){\r\n\t\t\theights[i] = heights[i] || this._settings.headerRowHeight;\r\n\t\t\theights._summ += heights[i]*1;\r\n\t\t}\r\n\r\n\t\t//set null to cells included in col|row spans\r\n\t\tfor (var i=0; i<this._columns.length; i++){\r\n\t\t\tvar col = this._columns[i][collection];\r\n\t\t\tfor (var j=0; j<col.length; j++){\r\n\t\t\t\tif (col[j] && col[j].rowspan)\r\n\t\t\t\t\tfor (var z=1; z<col[j].rowspan; z++)\r\n\t\t\t\t\t\tcol[j+z] = null;\r\n\t\t\t\tif (col[j] && col[j].colspan)\r\n\t\t\t\t\tfor (var z=1; z<col[j].colspan; z++)\r\n\t\t\t\t\t\tthis._columns[i+z][collection][j] = null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//auto-rowspan cells, which has not enough header lines\r\n\t\tfor (var i=0; i<this._columns.length; i++){\r\n\t\t\tvar data = this._columns[i][collection];\r\n\t\t\tif (data.length < rows){\r\n\t\t\t\tvar end = data.length-1;\r\n\t\t\t\tdata[end].rowspan = rows - data.length + 1;\r\n\t\t\t\tfor (var j=end+1; j<rows; j++)\r\n\t\t\t\t\tdata[j]=null;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn rows;\r\n\t},\r\n\t_find_header_content:function(sec, id){\r\n\t\tvar alltd = sec.getElementsByTagName(\"TD\");\r\n\t\tfor (var i = 0; i < alltd.length; i++)\r\n\t\t\tif (alltd[i].getAttribute(\"active_id\") == id)\r\n\t\t\t\treturn alltd[i];\r\n\t},\r\n\tgetHeaderContent:function(id){\r\n\t\tvar obj = this._find_header_content(this._header, id);\r\n\t\tif (!obj)\r\n\t\t\tobj = this._find_header_content(this._footer, id);\r\n\r\n\t\tif (obj){\r\n\t\t\tvar config = this._active_headers[id];\r\n\t\t\tvar type = webix.ui.datafilter[config.content];\r\n\r\n\t\t\tif (type.getHelper) return type.getHelper(obj, config);\r\n\t\t\treturn {\r\n\t\t\t\ttype: type,\r\n\t\t\t\tgetValue:function(){ return type.getValue(obj); },\r\n\t\t\t\tsetValue:function(value){ return type.setValue(obj, value); }\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\t_summ_next:function(heights, start, i){\r\n\t\tvar summ = i ? -1 : 0;\r\n\r\n\t\ti += start;\r\n\t\tfor (start; start<i; start++) \r\n\t\t\tsumm+=heights[start] + 1;\r\n\r\n\t\treturn summ;\r\n\t},\r\n\t_render_subheader:function(start, end, width, name, heights){\r\n\t\tif (start == end) return \"\";\r\n\r\n\t\tvar html = \"<table role='presentation' style='width:\"+width+\"px' cellspacing='0' cellpadding='0'>\";\r\n\t\tfor (var i = start; i < end; i++){\r\n\t\t\thtml += \"<tr>\";\r\n\t\t\tfor (var i = start; i < end; i++)\r\n\t\t\t\thtml += \"<th  style='width:\"+this._columns[i].width+\"px'></th>\";\r\n\t\t\thtml += \"</tr>\";\r\n\t\t}\r\n\r\n\t\tvar count = this._columns[0][name].length;\r\n\t\tvar block_evs = [];\r\n\r\n\t\tfor (var j = 0; j < count; j++){\r\n\t\t\thtml += \"<tr section='\"+name+\"' role='row'>\";\r\n\t\t\tfor (var i = start; i < end; i++){\r\n\t\t\t\tvar header = this._columns[i][name][j];\r\n\t\t\t\tif (header === null) continue;\r\n\r\n\t\t\t\tif (header.content){\r\n\t\t\t\t\theader.contentId = header.contentId||webix.uid();\r\n\t\t\t\t\theader.columnId = this._columns[i].id;\r\n\t\t\t\t\theader.format = this._columns[i].format;\r\n\r\n\t\t\t\t\twebix.assert(webix.ui.datafilter, \"Filtering extension was not included\");\r\n\t\t\t\t\twebix.assert(webix.ui.datafilter[header.content], \"Unknown content type: \"+header.content);\r\n\t\t\t\t\t\r\n\t\t\t\t\theader.text = webix.ui.datafilter[header.content].render(this, header);\r\n\t\t\t\t\tthis._active_headers[header.contentId] = header;\r\n\t\t\t\t\tthis._has_active_headers = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\thtml += \"<td  role='presentation' column='\"+(header.colspan?(header.colspan-1+i):i)+\"'\";\r\n\r\n\t\t\t\tvar hcss = '';\r\n\t\t\t\tif (i==start)\t\r\n\t\t\t\t\thcss+=\"webix_first\";\r\n\t\t\t\tvar column_pos = i + (header.colspan?header.colspan-1:0);\r\n\t\t\t\tif (column_pos>=end-1)\r\n\t\t\t\t\thcss+=\" webix_last\";\r\n\t\t\t\tif (hcss)\r\n\t\t\t\t\thtml+=' class=\"'+hcss+'\"';\r\n\t\t\t\t\r\n\t\t\t\tvar cell_height = heights[j];\r\n\t\t\t\tvar sheight=\"\";\r\n\t\t\t\tif (header.contentId)\r\n\t\t\t\t\thtml+=\" active_id='\"+header.contentId+\"'\";\r\n\t\t\t\tif (header.colspan)\r\n\t\t\t\t\thtml+=\" colspan='\"+header.colspan+\"'\";\r\n\t\t\t\tif (header.rowspan){\r\n\t\t\t\t\thtml+=\" rowspan='\"+header.rowspan+\"'\";\r\n\t\t\t\t\tcell_height = this._summ_next(this._headers, j, header.rowspan);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (cell_height != this._settings.headerRowHeight)\r\n\t\t\t\t\tsheight =\" style='line-height:\"+cell_height+\"px; height:\"+cell_height+\"px;'\";\r\n\r\n\t\t\t\tvar css =\"webix_hcell\";\r\n\t\t\t\tvar header_css = header.css;\r\n\t\t\t\tif (header_css){\r\n\t\t\t\t\tif (typeof header_css == \"object\")\r\n\t\t\t\t\t\theader.css = header_css = webix.html.createCss(header_css);\r\n\t\t\t\t\tcss+=\" \"+header_css;\r\n\t\t\t\t}\r\n\t\t\t\tif (this._columns[i].$selected)\r\n\t\t\t\t\tcss += \" webix_sel_hcell\";\r\n\t\t\t\t\r\n\t\t\t\thtml+=\"><div role='columnheader' class='\"+css+\"'\"+sheight+\">\";\r\n\t\t\t\t\r\n\t\t\t\tvar text = (header.text===\"\"?\"&nbsp;\":header.text);\r\n\t\t\t\tif (header.rotate)\r\n\t\t\t\t\ttext = \"<div class='webix_rotate' style='width:\"+(cell_height-10)+\"px; transform-origin:center \"+(cell_height-15)/2+\"px;-webkit-transform-origin:center \"+(cell_height-15)/2+\"px;'>\"+text+\"</div>\";\r\n\r\n\t\t\t\thtml += text + \"</div></td>\";\r\n\t\t\t}\r\n\t\t\thtml += \"</tr>\";\r\n\t\t}\r\n\t\thtml+=\"</tr></table>\";\t\r\n\r\n\t\treturn html;\r\n\t},\r\n\tshowItemByIndex:function(row_ind, column_ind){\r\n\t\tvar pager = this._settings.pager;\r\n\t\tif (pager){\r\n\t\t\tvar target = Math.floor(row_ind/pager.size);\r\n\t\t\tif (target != pager.page)\r\n\t\t\t\twebix.$$(pager.id).select(target);\r\n\t\t}\r\n\r\n\t\t//parameter will be set to -1, to mark that scroll need not to be adjusted\r\n\t\tif (row_ind != -1){\r\n\t\t\tvar state = this._get_y_range();\r\n\t\t\tif (row_ind < state[0]+1 || row_ind >= state[1]-1 ){\r\n\t\t\t\t//not visible currently\r\n\t\t\t\tvar summ = this._getHeightByIndexSumm((pager?this.data.$min:0),row_ind);\r\n\t\t\t\tif (row_ind < state[0]+1){\r\n\t\t\t\t\t//scroll top - show row at top of screen\r\n\t\t\t\t\tsumm = Math.max(0, summ-1) - this._top_split_height;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//scroll bottom - show row at bottom of screen\r\n\t\t\t\t\tsumm += this._getHeightByIndex(row_ind) - this._dtable_offset_height;\r\n\t\t\t\t\t//because of row rounding we neet to scroll some extra\r\n\t\t\t\t\t//TODO: create a better heuristic\r\n\t\t\t\t\tif (row_ind>0)\r\n\t\t\t\t\t\tsumm += this._getHeightByIndex(row_ind-1)-1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._y_scroll.scrollTo(summ);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (column_ind != -1){\r\n\t\t\t//ignore split columns - they are always visible\r\n\t\t\tif (column_ind < this._settings.leftSplit) return;\r\n\t\t\tif (column_ind >= this._rightSplit) return;\r\n\r\n\t\t\t//very similar to y-logic above\r\n\t\t\tvar state = this._get_x_range();\r\n\t\t\tif (column_ind < state[0]+1 || column_ind >= state[1]-1 ){\r\n\t\t\t\t//not visible currently\r\n\t\t\t\tvar summ = 0;\r\n\t\t\t\tfor (var i=this._settings.leftSplit; i<column_ind; i++)\r\n\t\t\t\t\tsumm += this._columns[i].width;\r\n\r\n\t\t\t\t/*jsl:ignore*/\r\n\t\t\t\tif (column_ind < state[0]+1){\r\n\t\t\t\t\t//scroll to left border\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//scroll to right border\r\n\t\t\t\t\tsumm += this._columns[column_ind].width - this._center_width;\r\n\t\t\t\t}\t\r\n\t\t\t\t/*jsl:end*/\r\n\t\t\t\tthis._x_scroll.scrollTo(summ);\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t},\r\n\tshowCell:function(row, column){\r\n\t\tif (!column || !row){ \r\n\t\t\t//if column or row not provided - take from current selection\r\n\t\t\tvar t=this.getSelectedId(true);\r\n\t\t\tif (t.length == 1){\r\n\t\t\t\tcolumn = column || t[0].column;\r\n\t\t\t\trow = row || t[0].row;\r\n\t\t\t}\r\n\t\t}\r\n\t\t//convert id to index\r\n\t\tcolumn = column?this.getColumnIndex(column):-1;\r\n\t\trow = row?this.getIndexById(row):-1;\r\n\t\tthis.showItemByIndex(row, column);\r\n\r\n\t},\r\n\tscrollTo:function(x,y){\r\n\t\tif (!this._x_scroll) return;\r\n\t\tif (this._scrollTo_touch)\r\n\t\t\treturn this._scrollTo_touch(x,y);\r\n\r\n\t\tif (x !== null)\r\n\t\t\tthis._x_scroll.scrollTo(x);\r\n\t\tif (y !== null)\r\n\t\t\tthis._y_scroll.scrollTo(y);\r\n\t},\r\n\tgetScrollState:function(){\r\n\t\tif (this._getScrollState_touch)\r\n\t\t\treturn this._getScrollState_touch();\r\n\r\n\t\tvar diff =  this._render_scroll_shift?0:(this._render_scroll_diff||0);\r\n\t\treturn {x:(this._scrollLeft||0), y:(this._scrollTop + diff)};\r\n\t},\r\n\tshowItem:function(id){\r\n\t\tthis.showItemByIndex(this.getIndexById(id), -1);\r\n\t},\r\n\t_render_header_section:function(sec, name, heights){\r\n\t\tsec.childNodes[0].innerHTML = this._render_subheader(0, this._settings.leftSplit, this._left_width, name, heights);\r\n\t\tsec.childNodes[1].innerHTML = this._render_subheader(this._settings.leftSplit, this._rightSplit, this._dtable_width, name, heights);\r\n\t\tsec.childNodes[1].onscroll = webix.bind(this._scroll_with_header, this);\r\n\t\tsec.childNodes[2].innerHTML = this._render_subheader(this._rightSplit, this._columns.length, this._right_width, name, heights);\r\n\t},\r\n\t_scroll_with_header:function(){\r\n\t\tvar active = this.getScrollState().x;\r\n\t\tvar header = this._header.childNodes[1].scrollLeft;\r\n\t\tif (header != active)\r\n\t\t\tthis.scrollTo(header, null);\r\n\t},\r\n\t_refresh_tracking_header_content:function(){\r\n\t\tthis.refreshHeaderContent(true, true);\r\n\t},\r\n\t_refresh_any_header_content:function(){\r\n\t\tthis.refreshHeaderContent(false, true);\r\n\t},\r\n\t//[DEPRECATE] - v3.0, move to private\r\n\trefreshHeaderContent:function(trackedOnly, preserve, id){\r\n\t\tif (this._settings.header){\r\n\t\t\tif (preserve) this._refreshHeaderContent(this._header, trackedOnly, 1, id);\r\n\t\t\tthis._refreshHeaderContent(this._header, trackedOnly, 0, id);\r\n\t\t}\r\n\t\tif (this._settings.footer){\r\n\t\t\tif (preserve) this._refreshHeaderContent(this._footer, trackedOnly, 1, id);\r\n\t\t\tthis._refreshHeaderContent(this._footer, trackedOnly, 0, id);\r\n\t\t}\r\n\t},\r\n\trefreshFilter:function(id){\r\n\t\tif (id && !this._active_headers[id]) return;\r\n\t\tthis.refreshHeaderContent(false, true, id);\r\n\t},\r\n\t_refreshHeaderContent:function(sec, cellTrackOnly, getOnly, byId){\r\n\t\tif (this._has_active_headers && sec){\r\n\t\t\tvar alltd = sec.getElementsByTagName(\"TD\");\r\n\r\n\t\t\tfor (var i = 0; i < alltd.length; i++){\r\n\t\t\t\tif (alltd[i].getAttribute(\"active_id\")){\r\n\t\t\t\t\tvar obj = this._active_headers[alltd[i].getAttribute(\"active_id\")];\r\n\t\t\t\t\tif (byId && byId != obj.columnId) continue;\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar content = webix.ui.datafilter[obj.content];\r\n\r\n\t\t\t\t\tif (getOnly){\r\n\t\t\t\t\t\tif (content.getValue)\r\n\t\t\t\t\t\t\tobj.value = content.getValue(alltd[i]);\r\n\t\t\t\t\t} else if (!cellTrackOnly || content.trackCells){\r\n\t\t\t\t\t\tcontent.refresh(this, alltd[i], obj);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\theaderContent:[],\r\n\t_set_size_scroll_area:function(obj, height, hdx){\r\n\t\tif (this._scrollSizeY){\r\n\r\n\t\t\tobj.style.height = Math.max(height,1)-1+\"px\";\r\n\t\t\tobj.style.width = (this._rightSplit?0:hdx)+this._scrollSizeY-1+\"px\";\r\n\r\n\t\t\t// temp. fix: Chrome [DIRTY]\r\n\t\t\tif (webix.env.isWebKit)\r\n\t\t\t\tvar w = obj.offsetWidth;\r\n\t\t} else \r\n\t\t\tobj.style.display = \"none\";\r\n\t},\r\n\t_size_header_footer_fix:function(){\r\n\t\tif (this._settings.header)\r\n\t\t\tthis._set_size_scroll_area(this._header_scroll, this._header_height, this._header_fix_width);\r\n\t\tif (this._settings.footer)\r\n\t\t\tthis._set_size_scroll_area(this._footer_scroll, this._footer_height, this._header_fix_width);\r\n\t},\r\n\t_update_scroll:function(x,y){\r\n\t\tvar hasX = !(this._settings.autowidth || this._settings.scrollX === false);\r\n\t\tthis._scrollSizeX =  hasX ? webix.ui.scrollSize : 0;\r\n\t\tvar hasY = !(this._settings.autoheight || this._settings.scrollY === false);\r\n\t\tthis._scrollSizeY = hasY ? webix.ui.scrollSize : 0;\r\n\t\tif(webix.env.touch)\r\n\t\t\thasX = hasY = false;\r\n\t\tif (this._x_scroll){\r\n\t\t\tthis._x_scroll._settings.scrollSize = this._scrollSizeX;\r\n\t\t\tthis._x_scroll._settings.scrollVisible = hasX;\r\n\t\t}\r\n\t\tif (this._y_scroll){\r\n\t\t\tthis._y_scroll._settings.scrollSize = this._scrollSizeY;\r\n\t\t\tthis._y_scroll._settings.scrollVisible = hasY;\r\n\t\t}\r\n\t},\r\n\t_create_scrolls:function(){\r\n\r\n\t\tthis._scrollTop = 0;\r\n\t\tthis._scrollLeft = 0;\r\n\t\tvar scrx, scry; scrx = scry = 1;\r\n\r\n\t\tif (this._settings.autoheight || this._settings.scrollY === false)\r\n\t\t\tscry = this._scrollSizeY = 0;\r\n\t\tif (this._settings.autowidth || this._settings.scrollX === false)\r\n\t\t\tscrx = this._scrollSizeX = 0;\r\n\t\t\r\n\t\tif (webix.env.touch) scrx = scry = 0;\r\n\r\n\t\tif (!this._x_scroll){\r\n\t\t\tthis._x_scroll = new webix.ui.vscroll({\r\n\t\t\t\tcontainer:this._footer.previousSibling,\r\n\t\t\t\tscrollWidth:this._dtable_width,\r\n\t\t\t\tscrollSize:this._scrollSizeX,\r\n\t\t\t\tscrollVisible:scrx\r\n\t\t\t});\r\n\r\n\t\t\t//fix for scroll space on Mac\r\n\t\t\tif (scrx && !this._scrollSizeX && !webix.env.$customScroll)\r\n\t\t\t\tthis._x_scroll._viewobj.style.position=\"absolute\";\r\n\r\n\t\t\tthis._x_scroll.attachEvent(\"onScroll\", webix.bind(this._onscroll_x, this));\r\n\t\t}\r\n\r\n\t\tif (!this._y_scroll){\r\n\t\t\tthis._header_scroll = this._footer.nextSibling;\r\n\t\t\tvar vscroll_view = this._header_scroll.nextSibling;\r\n\t\t\tthis._footer_scroll = vscroll_view.nextSibling;\r\n\r\n\t\t\tthis._y_scroll = new webix.ui.vscroll({\r\n\t\t\t\tcontainer:vscroll_view,\r\n\t\t\t\tscrollHeight:100,\r\n\t\t\t\tscroll:\"y\",\r\n\t\t\t\tscrollSize:this._scrollSizeY,\r\n\t\t\t\tscrollVisible:scry\r\n\t\t\t});\r\n\r\n\t\t\tthis._y_scroll.activeArea(this._body);\r\n\t\t\tthis._x_scroll.activeArea(this._body, true);\r\n\t\t\tthis._y_scroll.attachEvent(\"onScroll\", webix.bind(this._onscroll_y, this));\r\n\t\t}\r\n\r\n\t\tif (this._content_width)\r\n\t\t\tthis.callEvent(\"onResize\",[this._content_width, this._content_height]);\r\n\r\n\t\tif (webix.env.$customScroll)\r\n\t\t\twebix.CustomScroll.enable(this);\r\n\r\n\t\tthis._create_scrolls = function(){};\r\n\t},\r\n\tcolumnId:function(index){\r\n\t\treturn this._columns[index].id;\r\n\t},\r\n\tgetColumnIndex:function(id){\r\n\t\tfor (var i = 0; i < this._columns.length; i++)\r\n\t\t\tif (this._columns[i].id == id) \r\n\t\t\t\treturn i;\r\n\t\treturn -1;\r\n\t},\r\n\t_getNodeBox:function(rid, cid){\r\n\t\tvar xs=0, xe=0, ye=0, ys=0;\r\n\t\tvar i; var zone = 0;\r\n\t\tfor (i = 0; i < this._columns.length; i++){\r\n\t\t\tif (this._rightSplit == i || this._settings.leftSplit == i){\r\n\t\t\t\txs=0; zone++;\r\n\t\t\t}\r\n\t\t\tif (this._columns[i].id == cid) \r\n\t\t\t\tbreak;\r\n\t\t\txs+=this._columns[i].width;\r\n\t\t}\r\n\t\txe+=this._columns[i].width;\r\n\r\n\t\tfor (i = 0; i < this.data.order.length; i++){\r\n\t\t\tif (this.data.order[i] ==rid) \r\n\t\t\t\tbreak;\r\n\t\t\tys+=this._getHeightByIndex(i);\r\n\t\t}\r\n\t\tye+=this._getHeightByIndex(i);\r\n\t\treturn [xs,xe,ys-this._scrollTop,ye, this._body.childNodes[zone]];\r\n\t},\r\n\t_id_to_string:function(){ return this.row; },\r\n\tlocate:function(node, idOnly){\r\n\t\tif (this._settings.subview && this != webix.$$(node)) return null;\r\n\r\n\t\tnode = node.target||node.srcElement||node;\r\n\t\twhile (node && node.getAttribute){\r\n\t\t\tif (node.getAttribute(\"view_id\"))\r\n\t\t\t\tbreak;\r\n\t\t\tvar cs = webix.html._getClassName(node).toString();\r\n\r\n\t\t\tvar pos = null;\r\n\t\t\tif (cs.indexOf(\"webix_cell\")!=-1){\r\n\t\t\t\tpos = this._locate(node);\r\n\t\t\t\tif (pos) \r\n\t\t\t\t\tpos.row = this.data.order[pos.rind];\r\n\t\t\t}\r\n\t\t\tif (cs.indexOf(\"webix_hcell\")!=-1){\r\n\t\t\t\tpos = this._locate(node);\r\n\t\t\t\tif (pos)\r\n\t\t\t\t\tpos.header = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (pos){\r\n\t\t\t\tif (idOnly) return pos.header ? null : pos.row;\r\n\t\t\t\tpos.column = this._columns[pos.cind].id;\r\n\t\t\t\tpos.toString = this._id_to_string;\r\n\t\t\t\treturn pos;\r\n\t\t\t}\r\n\r\n\t\t\tnode = node.parentNode;\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\t_locate:function(node){\r\n\t\tvar cdiv = node.parentNode;\r\n\t\tif (!cdiv) return null;\r\n\t\tvar column = (node.getAttribute(\"column\") || cdiv.getAttribute(\"column\"))*1;\r\n\t\tvar row = node.getAttribute(\"row\") || 0;\r\n\t\tif (!row)\r\n\t\t\tfor (var i = 0; i < cdiv.childNodes.length; i++)\r\n\t\t\t\tif (cdiv.childNodes[i] == node){\r\n\t\t\t\t\tif (i >= this._settings.topSplit)\r\n\t\t\t\t\t\trow = i+this._columns[column]._yr0 - this._settings.topSplit;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\trow = i;\r\n\t\t\t\t}\r\n\r\n\t\treturn { rind:row, cind:column };\r\n\t},\r\n\t_updateColsSizeSettings:function(silent){\r\n\t\tif (!this._dtable_fully_ready) return;\r\n\r\n\t\tthis._set_columns_positions();\r\n\t\tthis._set_split_sizes_x();\r\n\t\tthis._render_header_and_footer();\r\n\r\n\t\tif (!silent)\r\n\t\t\tthis._check_rendered_cols(false, false);\r\n\t},\r\n\tsetColumnWidth:function(col, width, skip_update){\r\n\t\treturn this._setColumnWidth( this.getColumnIndex(col), width, skip_update);\r\n\t},\r\n\t_setColumnWidth:function(col, width, skip_update, by_user){\r\n\t\tif (isNaN(width)) return;\r\n\t\tvar column = this._columns[col];\r\n\r\n\t\tif (column.minWidth && width < column.minWidth)\r\n\t\t\twidth = column.minWidth;\r\n\t\telse if (width<this._settings.minColumnWidth)\r\n\t\t\twidth = this._settings.minColumnWidth;\t\t\r\n\r\n\t\tvar old = column.width;\r\n\t\tif (old !=width){\r\n\t\t\tif (col>=this._settings.leftSplit && col<this._rightSplit)\r\n\t\t\t\tthis._dtable_width += width-old;\r\n\t\t\t\r\n\t\t\tcolumn.width = width;\r\n\t\t\tif (column.node) //method can be called from onStructLoad\r\n\t\t\t\tcolumn.node.style.width = width+\"px\";\r\n\t\t\telse \r\n\t\t\t\treturn false;\r\n\r\n\t\t\tif(!skip_update)\r\n\t\t\t\tthis._updateColsSizeSettings();\r\n\r\n\t\t\tthis.callEvent(\"onColumnResize\", [column.id, width, old, !!by_user]);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\t_getRowHeight:function(row){\r\n\t\treturn (row.$height || this._settings.rowHeight)+(row.$subopen?row.$subHeight:0);\r\n\t},\r\n\t_getHeightByIndex:function(index){\r\n\t\tvar id = this.data.order[index];\r\n\t\tif (!id) return this._settings.rowHeight;\r\n\t\treturn this._getRowHeight(this.data.pull[id]);\r\n\t},\r\n\t_getHeightByIndexSumm:function(index1, index2){\r\n\t\tif (this._settings.fixedRowHeight)\r\n\t\t\treturn (index2-index1)*this._settings.rowHeight;\r\n\t\telse {\r\n\t\t\tvar summ = 0;\r\n\t\t\tfor (; index1<index2; index1++)\r\n\t\t\t\tsumm += this._getHeightByIndex(index1);\r\n\t\t\treturn summ;\r\n\t\t}\r\n\t},\r\n\t_cellPosition:function(row, column){\r\n\t\tvar top;\r\n\t\tif (arguments.length == 1){\r\n\t\t\tcolumn = row.column; row = row.row;\r\n\t\t}\r\n\t\tvar item = this.getItem(row);\r\n\t\tvar config = this.getColumnConfig(column);\r\n\t\tvar left = 0;\r\n\t\tvar parent = 0;\r\n\r\n\t\tfor (var index=0; index < this._columns.length; index++){\r\n\t\t\tif (index == this._settings.leftSplit || index == this._rightSplit)\r\n\t\t\t\tleft = 0;\r\n\t\t\tvar leftcolumn = this._columns[index];\r\n\t\t\tif (leftcolumn.id == column){\r\n\t\t\t\tvar split_column = index<this._settings.leftSplit ? 0 :( index >= this._rightSplit ? 2 : 1);\r\n\t\t\t\tparent = this._body.childNodes[split_column].firstChild;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tleft += leftcolumn.width;\r\n\t\t}\r\n\r\n\r\n\t\tif(this.getIndexById(row) < this._settings.topSplit)\r\n\t\t\ttop = this._getHeightByIndexSumm(0,  this.getIndexById(row));\r\n\t\telse\r\n\t\t\ttop = this._getHeightByIndexSumm((this._render_scroll_top||0)-this._settings.topSplit,  this.getIndexById(row)) + (this._render_scroll_shift||0);\r\n\r\n\t\treturn {\r\n\t\t\tparent: parent,\r\n\t\t\ttop:\ttop,\r\n\t\t\tleft:\tleft,\r\n\t\t\twidth:\tconfig.width,\r\n\t\t\theight:\t(item.$height || this._settings.rowHeight)\r\n\t\t};\r\n\t},\r\n\t_get_total_height:function(){\r\n\t\tvar pager  = this._settings.pager;\r\n\t\tvar start = 0;\r\n\t\tvar max = this.data.order.length;\r\n\t\t\r\n\t\tif (pager){\r\n\t\t\tstart = pager.size * pager.page;\r\n\t\t\tmax = Math.min(max, start + pager.size);\r\n\t\t\tif (pager.level){\r\n\t\t\t\tstart = this.data.$min;\r\n\t\t\t\tmax = this.data.$max;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this._getHeightByIndexSumm(start, max);\r\n\t},\r\n\tsetRowHeight:function(rowId, height){\r\n\t\tif (isNaN(height)) return;\r\n\t\tif (height<this._settings.minColumnHeight)\r\n\t\t\theight = this._settings.minColumnHeight;\r\n\r\n\t\tvar item = this.getItem(rowId);\r\n\t\tvar old_height = item.$height||this._settings.rowHeight;\r\n\r\n\t\tif (old_height != height){\r\n\t\t\titem.$height = height;\r\n\t\t\tthis.config.fixedRowHeight = false;\r\n\t\t\tthis.render();\r\n\t\t\tthis.callEvent(\"onRowResize\", [rowId, height, old_height]);\r\n\t\t}\r\n\t},\t\r\n\t_onscroll_y:function(value){\r\n\t\tthis._scrollTop = value;\r\n\t\tif (!this._settings.prerender){\r\n\t\t\tthis._check_rendered_cols();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tvar conts = this._body.childNodes;\r\n\t\t\tfor (var i = 0; i < conts.length; i++){\r\n\t\t\t\tconts[i].scrollTop = value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (webix.env.$customScroll) webix.CustomScroll._update_scroll(this._body);\r\n\t\tthis.callEvent(\"onScrollY\",[]);\r\n\t\tthis.callEvent(\"onAfterScroll\",[]);\r\n\t},\r\n\t_onscroll_x:function(value){ \r\n\t\tthis._body.childNodes[1].scrollLeft = this._scrollLeft = value;\r\n\t\tif (this._settings.header)\r\n\t\t\tthis._header.childNodes[1].scrollLeft = value;\r\n\t\tif (this._settings.footer)\r\n\t\t\tthis._footer.childNodes[1].scrollLeft = value;\r\n\t\tif (this._settings.prerender===false)\r\n\t\t\tthis._check_rendered_cols(this._minimize_dom_changes?false:true);\r\n\r\n\t\tif (webix.env.$customScroll) webix.CustomScroll._update_scroll(this._body);\r\n\t\tthis.callEvent(\"onScrollX\",[]);\r\n\t\tthis.callEvent(\"onAfterScroll\",[]);\r\n\t},\r\n\t_get_x_range:function(full){\r\n\t\tif (full) return [0,this._columns.length];\r\n\r\n\t\tvar t = this._scrollLeft;\r\n\t\t\r\n\t\tvar xind = this._settings.leftSplit;\r\n\t\twhile (t>0){\r\n\t\t\tt-=this._columns[xind].width;\r\n\t\t\txind++;\r\n\t\t}\r\n\t\tvar xend = xind;\r\n\t\tif (t) xind--;\r\n\r\n\t\tt+=this._center_width;\r\n\t\twhile (t>0 && xend<this._rightSplit){\r\n\t\t\tt-=this._columns[xend].width;\r\n\t\t\txend++;\r\n\t\t}\r\n\r\n\t\treturn [xind, xend];\r\n\t},\r\n\tgetVisibleCount:function(){\r\n\t\treturn Math.floor((this._dtable_offset_height) / this.config.rowHeight);\r\n\t},\r\n\t//returns info about y-scroll position\r\n\t_get_y_range:function(full){\r\n\t\tvar t = this._scrollTop;\r\n\t\tvar start = 0; \r\n\t\tvar end = this.count();\r\n\r\n\t\t//apply pager, if defined\r\n\t\tvar pager = this._settings.pager;\r\n\t\tif (pager){\r\n\t\t\tvar start = pager.page*pager.size;\r\n\t\t\tvar end = Math.min(end, start+pager.size);\r\n\t\t\tif (pager.level){\r\n\t\t\t\tstart = this.data.$min;\r\n\t\t\t\tend = this.data.$max;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//in case of autoheight - request full rendering\r\n\t\tif (this._settings.autoheight)\r\n\t\t\treturn [start, end, 0];\r\n\r\n\t\t\r\n\t\t\r\n\r\n\t\tif (full) return [start, end, 0];\r\n\t\tvar xind = start;\r\n\t\tvar rowHeight = this._settings.fixedRowHeight?this._settings.rowHeight:0;\r\n\t\tif (rowHeight){\r\n\t\t\tvar dep = Math.ceil(t/rowHeight);\r\n\t\t\tt -= dep*rowHeight;\r\n\t\t\txind += dep;\r\n\t\t} else\r\n\t\t\twhile (t>0){\r\n\t\t\t\tt-=this._getHeightByIndex(xind);\r\n\t\t\t\txind++;\r\n\t\t\t}\r\n\r\n\t\tvar topSplit = this._settings.topSplit;\r\n\t\tif (topSplit)\r\n\t\t\txind += topSplit;\r\n\r\n\t\t//how much of the first cell is scrolled out\r\n\t\tvar xdef = (xind>0 && t)?-(this._getHeightByIndex(xind-1)+t):0;\r\n\t\tvar xend = xind;\r\n\t\tif (t) xind--;\r\n\r\n\t\tt+=(this._dtable_offset_height||this._content_height) - (this._top_split_height||0);\r\n\r\n\r\n\r\n\t\tif (rowHeight){\r\n\t\t\tvar dep = Math.ceil(t/rowHeight);\r\n\t\t\tt-=dep*rowHeight;\r\n\t\t\txend+=dep;\r\n\r\n\t\t\tif (xend>end)\r\n\t\t\t\txend = end;\r\n\t\t} else\r\n\t\t\twhile (t>0 && xend<end){\r\n\t\t\t\tt-=this._getHeightByIndex(xend);\r\n\t\t\t\txend++;\r\n\t\t\t}\r\n\r\n\t\treturn [xind, xend, xdef];\r\n\t},\r\n\t_repaint_single_row:function(id){\r\n\t\tvar item = this.getItem(id);\r\n\t\tvar rowindex = this.getIndexById(id);\r\n\r\n\t\tvar state = this._get_y_range();\r\n\t\t//row not visible\r\n\t\tif (rowindex < state[0] || rowindex >= state[1]) return;\r\n\r\n\t\t//get visible column\r\n\t\tvar x_range = this._get_x_range();\r\n\t\tfor (var i=0; i<this._columns.length; i++){\r\n\t\t\tvar column = this._columns[i];\r\n\r\n\t\t\t//column not visible\r\n\t\t\tif (i < this._rightSplit && i >= this._settings.leftSplit && ( i<x_range[0] || i > x_range[1]))\r\n\t\t\t\tcolumn._yr0 = -999; //ensure that column will not be reused\r\n\r\n\t\t\tif (column.attached && column.node){\r\n\t\t\t\tvar node =  column.node.childNodes[rowindex-state[0]];\r\n\t\t\t\tvar value = this._getValue(item, this._columns[i], 0);\r\n\r\n\t\t\t\tnode.innerHTML = value;\r\n\t\t\t\tnode.className = this._getCss(this._columns[i], value, item, id);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_check_rendered_cols:function(x_scroll, force){\r\n\t\tif (!this._columns.length) return;\r\n\r\n\t\tif (force)\r\n\t\t\tthis._clearColumnCache();\r\n\r\n\t\tif (webix.debug_render)\r\n\t\t\twebix.log(\"Render: \"+this.name+\"@\"+this._settings.id);\r\n\r\n\r\n\t\tvar xr = this._get_x_range(this._settings.prerender);\r\n\t\tvar yr = this._get_y_range(this._settings.prerender === true);\r\n\r\n\t\tif (x_scroll){\r\n\t\t\tfor (var i=this._settings.leftSplit; i<xr[0]; i++)\r\n\t\t\t\tthis._hideColumn(i, force);\r\n\t\t\tfor (var i=xr[1]; i<this._rightSplit; i++)\r\n\t\t\t\tthis._hideColumn(i, force);\r\n\t\t}\r\n\r\n\t\tthis._render_full_rows = [];\r\n\t\tvar rendered = 0;\r\n\r\n\t\tfor (var i=0; i<this._settings.leftSplit; i++)\r\n\t\t\trendered += this._renderColumn(i,yr,force);\r\n\t\tfor (var i=xr[0]; i<xr[1]; i++)\r\n\t\t\trendered += this._renderColumn(i,yr,force, i == xr[0]);\r\n\t\tfor (var i=this._rightSplit; i<this._columns.length; i++)\r\n\t\t\trendered += this._renderColumn(i,yr,force);\r\n\r\n\t\tthis._check_and_render_full_rows(yr[0], yr[1], force);\r\n\t\tthis._check_load_next(yr);\r\n\t},\r\n\t_delete_full_rows:function(start, end){\r\n\t\tthis._rows_cache_start = start;\r\n\t\tthis._rows_cache_end = end;\r\n\r\n\t\twebix.html.remove(this._rows_cache);\r\n\t\tthis._rows_cache=[];\r\n\t},\r\n\t_check_and_render_full_rows:function(start, end, force){\r\n\t\tif (this._rows_body)\r\n\t\t\tthis._rows_body.style.top = this._render_scroll_shift+\"px\";\r\n\r\n\t\tif (!force && start == this._rows_cache_start && end == this._rows_cache_end)\r\n\t\t\treturn;\r\n\r\n\t\tthis._delete_full_rows(start, end);\r\n\r\n\t\tif (this._render_full_row_some)\r\n\t\t\tthis._render_full_row_some = false;\r\n\t\telse return;\r\n\r\n\t\tfor (var i=0; i<this._render_full_rows.length; i++){\r\n\t\t\tvar info = this._render_full_rows[i];\r\n\t\t\tvar item = this.getItem(info.id);\r\n\r\n\t\t\tvar value;\r\n\t\t\tif (typeof item.$row == \"function\"){\r\n\t\t\t\tvalue = item.$row.call(this, item, this.type);\r\n\t\t\t} else {\r\n\t\t\t\tvalue = this._getValue(item, this.getColumnConfig(item.$row), i);\r\n\t\t\t}\r\n\r\n\t\t\tvar row = this._rows_cache[i] = webix.html.create(\"DIV\", null , value);\r\n\t\t\trow.className = \"webix_cell \"+(item.$sub ? (\"webix_dtable_sub\"+(this._settings.subview?\"view\":\"row\")) : \"webix_dtable_colrow\");\r\n\t\t\trow.setAttribute(\"column\", 0);\r\n\t\t\trow.setAttribute(\"row\", info.index);\r\n\r\n\t\t\tvar height = (item.$height || this._settings.rowHeight);\r\n\t\t\tif (item.$subopen)\r\n\t\t\t\trow.style.height = item.$subHeight+\"px\";\r\n\t\t\telse \r\n\t\t\t\trow.style.height = height +\"px\";\r\n\r\n\t\t\trow.style.paddingRight = webix.ui.scrollSize+\"px\";\r\n\t\t\trow.style.top =  info.top + (item.$subopen ? height-1 : -1) + \"px\";\r\n\r\n\t\t\tif (!this._rows_body){\r\n\t\t\t\tthis._rows_body = webix.html.create(\"DIV\");\r\n\t\t\t\tthis._rows_body.style.position = \"relative\";\r\n\t\t\t\tthis._rows_body.style.top = this._render_scroll_shift+\"px\";\r\n\t\t\t\tthis._body.appendChild(this._rows_body);\r\n\t\t\t}\r\n\t\t\tthis._rows_body.appendChild(row);\r\n\t\t\tthis.attachEvent(\"onSyncScroll\", function(x,y,t){\r\n\t\t\t\twebix.Touch._set_matrix(this._rows_body,0,y,t);\r\n\t\t\t});\r\n\t\t\tif (this._settings.subview)\r\n\t\t\t\tthis.callEvent(\"onSubViewRender\", [item, row]);\r\n\t\t}\r\n\t},\r\n\t_check_load_next:function(yr){\r\n\t\tvar paging = this._settings.pager;\r\n\t\tvar fetch = this._settings.datafetch;\r\n\t\t\r\n\t\tvar direction = (!this._last_valid_render_pos || yr[0] >= this._last_valid_render_pos);\r\n\t\tthis._last_valid_render_pos = yr[0];\r\n\r\n\t\tif (this._data_request_flag){\r\n\t\t\tif (paging && (!fetch || fetch >= paging.size))\r\n\t\t\t\tif (this._check_rows([0,paging.size*paging.page], Math.max(fetch, paging.size), true)) \r\n\t\t\t\t\treturn (this._data_request_flag = null);\r\n\t\t\t\t\t\r\n\t\t\tthis._run_load_next(this._data_request_flag, direction);\r\n\t\t\tthis._data_request_flag = null;\r\n\t\t} else {\r\n\t\t\tif (this._settings.loadahead)\r\n\t\t\t\tvar check = this._check_rows(yr, this._settings.loadahead, direction);\r\n\t\t}\r\n\t},\r\n\t_check_rows:function(view, count, dir){\r\n\t\tvar start = view[1];\r\n\t\tvar end = start+count;\r\n\t\tif (!dir){\r\n\t\t\tstart = view[0]-count;\r\n\t\t\tend = view[0];\r\n\t\t}\r\n\r\n\t\tif (start<0) start = 0;\r\n\t\tend = Math.min(end, this.data.order.length-1);\r\n\r\n\t\tvar result = false;\t\t\t\r\n\t\tfor (var i=start; i<end; i++)\r\n\t\t\tif (!this.data.order[i]){\r\n\t\t\t\tif (!result)\r\n\t\t\t\t\tresult = { start:i, count:(end-start) };\r\n\t\t\t\telse {\r\n\t\t\t\t\tresult.last = i;\r\n\t\t\t\t\tresult.count = (i-start);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tif (result){\t\t\t\r\n\t\t\tthis._run_load_next(result, dir);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t},\r\n\t_run_load_next:function(conf, direction){\r\n\t\tvar count = Math.max(conf.count, (this._settings.datafetch||this._settings.loadahead||0));\r\n\t\tvar start = direction?conf.start:(conf.last - count+1);\r\n\t\t\r\n\t\tif (this._maybe_loading_already(conf.count, conf.start)) return;\r\n\t\tthis.loadNext(count, start);\r\n\t},\r\n\t// necessary for safari only\r\n\t_preserveScrollTarget: function(columnNode){\r\n\t\tif (webix.env.isSafari){\r\n\t\t\tvar i, node, newNode, scroll,\r\n\t\t\t\tdir = [this._x_scroll, this._y_scroll];\r\n\r\n\t\t\tfor(i = 0; i < 2; i++){\r\n\t\t\t\tscroll = dir[i];\r\n\t\t\t\tif(scroll && scroll._scroll_trg && scroll._scroll_trg.parentNode == columnNode){\r\n\t\t\t\t\tnode = scroll._scroll_trg;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(node){\r\n\t\t\t\tif(this._scrollWheelTrg)\r\n\t\t\t\t\twebix.html.remove(this._scrollWheelTrg);\r\n\t\t\t\tthis._scrollWheelTrg = node;\r\n\t\t\t\tnewNode  = node.cloneNode(true); // required for _hideColumn\r\n\t\t\t\tnode.parentNode.insertBefore(newNode, node);\r\n\t\t\t\tthis._scrollWheelTrg.style.display = \"none\";\r\n\t\t\t\tthis._body.appendChild(this._scrollWheelTrg);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_hideColumn:function(index){\r\n\t\tvar col = this._columns[index];\r\n\r\n\t\t// preserve target node for Safari wheel event\r\n\t\tthis._preserveScrollTarget(col.node);\r\n\t\twebix.html.remove(col.node);\r\n\t\tcol.attached = false;\r\n\t},\r\n\t_clearColumnCache:function(){\r\n\t\tfor (var i = 0; i < this._columns.length; i++)\r\n\t\t\tthis._columns[i]._yr0 = -1;\r\n\r\n\t\tif (this._rows_cache.length){\r\n\t\t\twebix.html.remove(this._rows_cache);\r\n\t\t\tthis._rows_cache = [];\r\n\t\t}\r\n\t},\r\n\tgetText:function(row_id, column_id){\r\n\t\treturn this._getValue(this.getItem(row_id), this.getColumnConfig(column_id), 0);\r\n\t},\r\n\t_getCss:function(config, value, item, id){\r\n\t\tvar css = \"webix_cell\";\r\n\t\t\t\t\r\n\t\tif (config.cssFormat){\r\n\t\t\tvar per_css = config.cssFormat(value, item, id, config.id);\r\n\t\t\tif (per_css){\r\n\t\t\t\tif (typeof per_css == \"object\")\r\n\t\t\t\t\tcss+= \" \"+webix.html.createCss(per_css);\r\n\t\t\t\telse\r\n\t\t\t\t\tcss+=\" \"+per_css;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar row_css = item.$css;\r\n\t\tif (row_css){\r\n\t\t\tif (typeof row_css == \"object\")\r\n\t\t\t\titem.$css = row_css = webix.html.createCss(row_css);\r\n\t\t\tcss+=\" \"+row_css;\r\n\t\t}\r\n\r\n\t\tvar mark = this.data._marks[id];\r\n\t\tif (mark){\r\n\t\t\tif (mark.$css)\r\n\t\t\t\tcss+=\" \"+mark.$css;\r\n\t\t\tif (mark.$cellCss){\r\n\t\t\t\tvar mark_marker = mark.$cellCss[config.id];\r\n\t\t\t\tif (mark_marker)\r\n\t\t\t\t\tcss+=\" \"+mark_marker;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (item.$cellCss){\r\n\t\t\tvar css_marker = item.$cellCss[config.id];\r\n\t\t\tif (css_marker){\r\n\t\t\t\tif (typeof css_marker == \"object\")\r\n\t\t\t\t\tcss_marker = webix.html.createCss(css_marker);\r\n\t\t\t\tcss += \" \"+css_marker;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//cell-selection\r\n\t\tvar selected = this.data.getMark(item.id,\"webix_selected\");\r\n\t\tif ((selected && (selected.$row || selected[config.id]))||config.$selected) css+=this._select_css;\r\n\r\n\t\treturn css;\r\n\t},\r\n\t_getValue:function(item, config, i){\r\n\t\tif (!item)\r\n\t\t\treturn \"\";\r\n\r\n\t\tvar value;\r\n\r\n\t\tvalue = item[config.id];\r\n\t\tif (value === webix.undefined || value === null)\r\n\t\t\tvalue = \"\";\r\n\t\telse if (config.format)\r\n\t\t\tvalue = config.format(value);\r\n\t\tif (config.template)\r\n\t\t\tvalue = config.template(item, this.type, value, config, i);\r\n\r\n\t\treturn value;\r\n\t},\r\n\t//we don't use render-stack, but still need a place for common helpers\r\n\t//so creating a simple \"type\" holder\r\n\ttype:{\r\n\t\tcheckbox:function(obj, common, value, config){\r\n\t\t\tvar checked = (value == config.checkValue) ? 'checked=\"true\"' : '';\r\n\t\t\treturn \"<input class='webix_table_checkbox' type='checkbox' \"+checked+\">\";\r\n\t\t},\r\n\t\tradio:function(obj, common, value, config){\r\n\t\t\tvar checked = (value == config.checkValue) ? 'checked=\"true\"' : '';\r\n\t\t\treturn \"<input class='webix_table_radio' type='radio' \"+checked+\">\";\r\n\t\t},\r\n\t\teditIcon:function(){\r\n\t\t\treturn \"<span class='webix_icon fa-pencil'></span>\";\r\n\t\t},\r\n\t\ttrashIcon:function(){\r\n\t\t\treturn \"<span class='webix_icon fa-trash'></span>\";\r\n\t\t}\r\n\t},\r\n\ttype_setter:function(value){\r\n\t\tif(!this.types || !this.types[value])\r\n\t\t\twebix.type(this, value);\r\n\t\telse {\r\n\t\t\tthis.type = webix.clone(this.types[value]);\r\n\t\t\tif (this.type.css) \r\n\t\t\t\tthis._contentobj.className+=\" \"+this.type.css;\r\n\t\t}\r\n\t\tif (this.type.on_click)\r\n\t\t\twebix.extend(this.on_click, this.type.on_click);\r\n\r\n\t\treturn value;\r\n\t},\r\n\t_renderColumn:function(index,yr,force, single){\r\n\t\tvar col = this._columns[index];\r\n\t\tif (!col.attached){\r\n\t\t\tvar split_column = index<this._settings.leftSplit ? 0 :( index >= this._rightSplit ? 2 : 1);\r\n\t\t\tthis._body.childNodes[split_column].firstChild.appendChild(col.node);\r\n\t\t\tcol.attached = true;\r\n\t\t\tcol.split = split_column;\r\n\t\t}\r\n\r\n\t\tthis._render_scroll_top = yr[0];\r\n\t\tthis._render_scroll_shift = 0;\r\n\t\tthis._render_scroll_diff = yr[2];\r\n\r\n\t\t//if columns not aligned during scroll - set correct scroll top value for each column\r\n\t\tif (this._settings.scrollAlignY){\r\n\t\t\tif ((yr[1] == this.data.order.length) || (this.data.$pagesize && yr[1] % this.data.$pagesize === 0 )){\r\n\t\t\t\tcol.node.style.top = (this._render_scroll_shift = yr[2])+\"px\";\r\n\t\t\t } else if (col._yr2)\r\n\t\t\t\tcol.node.style.top = \"0px\";\r\n\t\t} else {\r\n\t\t\tthis._render_scroll_shift = yr[2];\r\n\t\t\tif (yr[2] != col._yr2){\r\n\t\t\t\tcol.node.style.top = yr[2]+\"px\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!force  && (col._yr0 == yr[0] && col._yr1 == yr[1]) && (!this._settings.topSplit || col._render_scroll_shift==this._render_scroll_shift)) return 0;\r\n\r\n\t\tvar html=\"\";\r\n\t\tvar config = this._settings.columns[index];\r\n\t\tvar state = { \r\n\t\t\trow: this._settings.rowHeight,\r\n\t\t\ttotal: 0,\r\n\t\t\tsingle: single\r\n\t\t};\r\n\r\n\t\tfor (var i=0; i<this._settings.topSplit; i++)\r\n\t\t\thtml += this._render_single_cell(i, config, yr, state, -this._render_scroll_shift);\r\n\r\n\t\tfor (var i = Math.max(yr[0], this._settings.topSplit); i < yr[1]; i++)\r\n\t\t\thtml += this._render_single_cell(i, config, yr, state, -1);\r\n\r\n\t\t// preserve target node for Safari wheel event\r\n\t\tthis._preserveScrollTarget(col.node);\r\n\r\n\t\tcol.node.innerHTML = html;\r\n\t\tcol._yr0=yr[0];\r\n\t\tcol._yr1=yr[1];\r\n\t\tcol._yr2=yr[2];\r\n\t\tcol._render_scroll_shift=this._render_scroll_shift;\r\n\t\treturn 1;\r\n\t},\r\n\t_render_single_cell:function(i, config, yr, state, top){\r\n\t\tvar id = this.data.order[i];\r\n\t\tvar item = this.data.getItem(id);\r\n\t\tvar html = \"\";\r\n\r\n\t\t\r\n\t\tvar value;\r\n\t\tif (item){\r\n\t\t\tvar aria = \" role='gridcell' aria-rowindex='\"+(i+1)+\"' aria-colindex='\"+(this.getColumnIndex(config.id)+1)+\"'\"+\r\n\t\t\t\t(item.$count || item.$sub?(\" aria-expanded='\"+(item.open || item.$subopen?\"true\":\"false\")+\"'\"):\"\")+\r\n\t\t\t\t(item.$level?\" aria-level='\"+item.$level+\"'\":\"\");\r\n\r\n\t\t\tif (state.single && item.$row){\r\n\t\t\t\tthis._render_full_row_some = true;\r\n\t\t\t\tthis._render_full_rows.push({ top:state.total, id:item.id, index:i});\r\n\t\t\t\tif (!item.$sub){\r\n\t\t\t\t\tstate.total += state.row;\r\n\t\t\t\t\treturn \"<div\"+aria+\" class='webix_cell'></div>\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar value = this._getValue(item, config, i);\r\n\t\t\tvar css = this._getCss(config, value, item, id);\r\n\t\t\t\r\n\t\t\tif(css.indexOf(\"select\") !==-1 ) aria += \" aria-selected='true' tabindex='0'\";\r\n\t\t\t\r\n\t\t\tvar margin = item.$subopen ? \"margin-bottom:\"+item.$subHeight+\"px;\" : \"\";\r\n\t\t\tif (top>=0){\r\n\t\t\t\tif (top>0) margin+=\"top:\"+top+\"px;'\";\r\n\t\t\t\tcss = \"webix_topcell \"+css;\r\n\t\t\t}\r\n\t\t\tif (item.$height){\r\n\t\t\t\thtml = \"<div\"+aria+\" class='\"+css+\"' style='height:\"+item.$height+\"px;\"+margin+\"'>\"+value+\"</div>\";\r\n\t\t\t\tstate.total += item.$height - state.row;\r\n\t\t\t} else {\r\n\t\t\t\thtml = \"<div\"+aria+\" class='\"+css+\"'\"+(margin?\" style='\"+margin+\"'\":\"\")+\">\"+value+\"</div>\";\r\n\t\t\t}\r\n\r\n\t\t\tif (margin)\r\n\t\t\t\tstate.total += item.$subHeight;\r\n\r\n\t\t} else {\r\n\t\t\thtml = \"<div role='gridcell' class='webix_cell'></div>\";\r\n\t\t\tif (!this._data_request_flag)\r\n\t\t\t\tthis._data_request_flag = {start:i, count:yr[1]-i};\r\n\t\t\telse\r\n\t\t\t\tthis._data_request_flag.last = i;\r\n\t\t}\r\n\t\tstate.total += state.row;\r\n\t\treturn html;\r\n\t},\r\n\t_set_split_sizes_y:function(){\r\n\t\tif (!this._columns.length || isNaN(this._content_height*1)) return;\r\n\t\twebix.debug_size_box(this, [\"y-sizing\"], true);\r\n\r\n\t\tvar wanted_height = this._dtable_height+(this._scrollSizeX?this._scrollSizeX:0);\r\n\t\tif ((this._settings.autoheight || this._settings.yCount) && this.resize())\r\n\t\t\treturn;\r\n\r\n\t\tthis._y_scroll.sizeTo(this._content_height, this._header_height, this._footer_height);\r\n\t\tthis._y_scroll.define(\"scrollHeight\", wanted_height);\r\n\r\n\t\tthis._top_split_height = this._settings.topSplit * this._settings.rowHeight;\r\n\t\tthis._dtable_offset_height =  Math.max(0,this._content_height-this._scrollSizeX-this._header_height-this._footer_height);\r\n\t\tfor (var i = 0; i < 3; i++){\r\n\r\n\t\t\tthis._body.childNodes[i].style.height = this._dtable_offset_height+\"px\";\r\n\t\t\tif (this._settings.prerender)\r\n\t\t\t\tthis._body.childNodes[i].firstChild.style.height = this._dtable_height+\"px\";\r\n\t\t\telse\r\n\t\t\t\tthis._body.childNodes[i].firstChild.style.height = this._dtable_offset_height+\"px\";\r\n\t\t}\r\n\t\t//prevent float overflow, when we have split and very small\r\n\t\tthis._header.style.height = this._header_height+\"px\";\r\n\t},\r\n\t_set_split_sizes_x:function(){\r\n\t\tif (!this._columns.length) return;\r\n\t\tif (webix.debug_size) webix.log(\"  - \"+this.name+\"@\"+this._settings.id+\" X sizing\");\r\n\r\n\t\tvar index = 0; \r\n\t\tthis._left_width = 0;\r\n\t\tthis._right_width = 0;\r\n\t\tthis._center_width = 0;\r\n\r\n\t\twhile (index<this._settings.leftSplit){\r\n\t\t\tthis._left_width += this._columns[index].width;\r\n\t\t\tindex++;\r\n\t\t}\r\n\r\n\t\tindex = this._columns.length-1;\r\n\t\t\r\n\t\twhile (index>=this._rightSplit){\r\n\t\t\tthis._right_width += this._columns[index].width;\r\n\t\t\tindex--;\r\n\t\t}\r\n\r\n\t\tif (!this._content_width) return; \r\n\r\n\t\tif (this._settings.autowidth && this.resize())\r\n\t\t\treturn;\r\n\r\n\t\tthis._center_width = this._content_width - this._right_width - this._left_width - this._scrollSizeY;\r\n\r\n\t\tthis._body.childNodes[1].firstChild.style.width = this._dtable_width+\"px\";\r\n\r\n\t\tthis._body.childNodes[0].style.width = this._left_width+\"px\";\r\n\t\tthis._body.childNodes[1].style.width = this._center_width+\"px\";\r\n\t\tthis._body.childNodes[2].style.width = this._right_width+\"px\";\r\n\t\tthis._header.childNodes[0].style.width = this._left_width+\"px\";\r\n\t\tthis._header.childNodes[1].style.width = this._center_width+\"px\";\r\n\t\tthis._header.childNodes[2].style.width = this._right_width+\"px\";\r\n\t\tthis._footer.childNodes[0].style.width = this._left_width+\"px\";\r\n\t\tthis._footer.childNodes[1].style.width = this._center_width+\"px\";\r\n\t\tthis._footer.childNodes[2].style.width = this._right_width+\"px\";\r\n\r\n\t\tvar delta = this._center_width - this._dtable_width;\r\n\t\tif (delta<0) delta=0; //negative header space has not sense\r\n\r\n\t\tif (delta != this._header_fix_width){\r\n\t\t\tthis._header_fix_width = delta;\r\n\t\t\tthis._size_header_footer_fix();\r\n\t\t}\r\n\r\n\t\t// temp. fix: Chrome [DIRTY]\r\n\t\tif (webix.env.isWebKit){\r\n\t\t\tvar w = this._body.childNodes[0].offsetWidth;\r\n\t\t\tw = this._body.childNodes[1].offsetWidth;\r\n\t\t\tw = this._body.childNodes[1].firstChild.offsetWidth;\r\n\t\t\tw = this._body.childNodes[2].offsetWidth;\r\n\t\t}\r\n\r\n\t\tthis._x_scroll.sizeTo(this._content_width-this._scrollSizeY);\r\n\t\tthis._x_scroll.define(\"scrollWidth\", this._dtable_width+this._left_width+this._right_width);\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tif ((this._settings.autoheight || this._settings.yCount) && this._settings.columns){\r\n\t\t\t//if limit set - use it\r\n\t\t\tvar desired = ((this._settings.yCount || 0) * this._settings.rowHeight);\r\n\t\t\t//else try to use actual rendered size\r\n\t\t\t//if component invisible - this is not valid, so fallback to all rows\r\n\t\t\tif (!desired) desired =  this.isVisible() ? this._dtable_height : (this.count() * this._settings.rowHeight);\r\n\t\t\t//add scroll and check minHeight limit\r\n\t\t\tthis._settings.height = Math.max(desired+(this._scrollSizeX?this._scrollSizeX:0)-1, (this._settings.minHeight||0))+this._header_height+this._footer_height;\r\n\t\t}\r\n\t\tif (this._settings.autowidth && this._settings.columns)\r\n\t\t\tthis._settings.width = Math.max(this._dtable_width+this._left_width+this._right_width+this._scrollSizeY,(this._settings.minWidth||0));\r\n\r\n\t\t\r\n\t\tvar minwidth = this._left_width+this._right_width+this._scrollSizeY;\r\n\t\tvar sizes = webix.ui.view.prototype.$getSize.call(this, dx, dy);\r\n\r\n\r\n\t\tsizes[0] = Math.max(sizes[0]||minwidth);\r\n\t\treturn sizes;\r\n\t},\r\n\t_restore_scroll_state:function(){\r\n\t\tif (this._x_scroll){\r\n\t\t\tvar state = this.getScrollState();\r\n\t\t\tthis._x_scroll._last_scroll_pos = this._y_scroll._last_scroll_pos = -1;\r\n\t\t\tthis.scrollTo(state.x, state.y);\r\n\t\t}\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tvar oldw = this._content_width;\r\n\t\tvar oldh = this._content_height;\r\n\r\n\t\tif (webix.ui.view.prototype.$setSize.apply(this, arguments)){\r\n\t\t\tif (this._dtable_fully_ready){\r\n\t\t\t\tthis.callEvent(\"onResize\",[this._content_width, this._content_height, oldw, oldh]);\r\n\t\t\t\tthis._set_split_sizes_x();\r\n\t\t\t\tthis._set_split_sizes_y();\r\n\t\t\t}\r\n\t\t\tthis.render();\r\n\t\t}\r\n\t},\r\n\t_on_header_click:function(column){\r\n\t\tvar col = this.getColumnConfig(column);\r\n\t\tif (!col.sort) return;\r\n\r\n\t\tvar order = 'asc';\r\n\t\tif (col.id == this._last_sorted)\r\n\t\t\torder = this._last_order == \"asc\" ? \"desc\" : \"asc\";\r\n\t\t\r\n\t\tthis._sort(col.id, order, col.sort);\r\n\t},\r\n\tmarkSorting:function(column, order){\r\n\t\tif (!this._sort_sign)\r\n\t\t\tthis._sort_sign = webix.html.create(\"DIV\");\r\n\t\t\r\n\t\tvar parent = this._sort_sign.parentNode;\r\n\t\tif(parent){\r\n\t\t\tparent.removeAttribute(\"aria-sort\");\r\n\t\t\tparent.removeAttribute(\"tabindex\");\r\n\t\t}\r\n\t\twebix.html.remove(this._sort_sign);\r\n\r\n\t\tif (order){\r\n\t\t\tvar cell = this._get_header_cell(this.getColumnIndex(column));\r\n\t\t\tif (cell){\r\n\t\t\t\tthis._sort_sign.className = \"webix_ss_sort_\"+order;\r\n\t\t\t\tcell.style.position = \"relative\";\r\n\t\t\t\tcell.appendChild(this._sort_sign);\r\n\t\t\t\tcell.setAttribute(\"aria-sort\", order+\"ending\");\r\n\t\t\t\tcell.setAttribute(\"tabindex\", \"0\");\r\n\t\t\t}\r\n\r\n\t\t\tthis._last_sorted = column;\r\n\t\t\tthis._last_order = order;\r\n\t\t} else {\r\n\t\t\tthis._last_sorted = this._last_order = null;\r\n\t\t}\r\n\t},\r\n\tscroll_setter:function(mode){\r\n\t\tif (typeof mode == \"string\"){\r\n\t\t\tthis._settings.scrollX = (mode.indexOf(\"x\") != -1);\r\n\t\t\tthis._settings.scrollY = (mode.indexOf(\"y\") != -1);\r\n\t\t\treturn mode;\r\n\t\t} else \r\n\t\t\treturn (this._settings.scrollX = this._settings.scrollY = mode);\r\n\t},\r\n\t_get_header_cell:function(column){\r\n\t\tvar cells = this._header.getElementsByTagName(\"TD\");\r\n\t\tvar maybe = null;\r\n\t\tfor (var i = 0; i<cells.length; i++)\r\n\t\t\tif (cells[i].getAttribute(\"column\") == column && !cells[i].getAttribute(\"active_id\")){\r\n\t\t\t\tmaybe = cells[i].firstChild;\r\n\t\t\t\tif ((cells[i].colSpan||0) < 2) return maybe;\r\n\t\t\t}\r\n\t\treturn maybe;\r\n\t},\r\n\t_sort:function(col_id, direction, type){\r\n\t\tdirection = direction || \"asc\";\r\n\t\tthis.markSorting(col_id, direction);\r\n\r\n\t\tif (type == \"server\"){\r\n\t\t\tthis.loadNext(0, 0, {\r\n\t\t\t\t\"before\":function(){\r\n\t\t\t\t\tvar url = this.data.url;\r\n\t\t\t\t\tthis.clearAll();\r\n\t\t\t\t\tthis.data.url = url;\r\n\t\t\t\t}\r\n\t\t\t}, 0, 1);\r\n\t\t} else {\r\n\t\t\tif (type == \"text\"){\r\n\t\t\t\tthis.data.each(function(obj){ obj.$text = this.getText(obj.id, col_id); }, this);\r\n\t\t\t\ttype=\"string\"; col_id = \"$text\";\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof type == \"function\")\r\n\t\t\t\tthis.data.sort(type, direction);\r\n\t\t\telse\r\n\t\t\t\tthis.data.sort(col_id, direction, type || \"string\");\r\n\t\t}\r\n\t},\r\n\t_mouseEventCall: function( css_call, e, id, trg ) {\r\n\t\tvar functor, i, res;\r\n\t\tif (css_call.length){\r\n\t\t\tfor ( i = 0; i < css_call.length; i++) {\r\n\t\t\t\tfunctor = webix.toFunctor(css_call[i], this.$scope);\r\n\t\t\t\tres = functor.call(this,e,id,trg);\r\n\t\t\t\tif (res===false) return false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t//because we using non-standard rendering model, custom logic for mouse detection need to be used\r\n\t_mouseEvent:function(e,hash,name,pair){\r\n\t\te=e||event;\r\n\t\tvar trg=e.target||e.srcElement;\r\n\t\tif (this._settings.subview && this != webix.$$(trg)) return;\r\n\r\n\t\t//define some vars, which will be used below\r\n\t\tvar css = '',\r\n\t\t\tcss_call = [],\r\n\t\t\tfound = false,\r\n\t\t\tid = null, \r\n\t\t\tres,\r\n\t\t\ttrg=e.target||e.srcElement;\r\n\r\n\t\t//loop through all parents\r\n\t\twhile (trg && trg.parentNode && trg != this._viewobj.parentNode){\r\n\t\t\tvar trgCss = webix.html._getClassName(trg);\r\n\t\t\tif ((css = trgCss)) {\r\n\t\t\t\tcss = css.toString().split(\" \");\r\n\r\n\t\t\t\tfor (var i = css.length - 1; i >= 0; i--)\r\n\t\t\t\t\tif (hash[css[i]])\r\n\t\t\t\t\t\tcss_call.push(hash[css[i]]);\r\n\t\t\t}\r\n\r\n\t\t\tif (trg.parentNode.getAttribute && !id){\r\n\t\t\t\tvar column = trg.parentNode.getAttribute(\"column\") || trg.getAttribute(\"column\");\r\n\t\t\t\tif (column){ //we need to ignore TD - which is header|footer\r\n\t\t\t\t\tvar  isBody = trg.parentNode.tagName == \"DIV\";\r\n\t\t\t\t\t\r\n\t\t\t\t\t//column already hidden or removed\r\n\t\t\t\t\tif(!this._columns[column]) return;\r\n\t\t\t\t\t\r\n\t\t\t\t\tfound = true;\r\n\t\t\t\t\tif (isBody){\r\n\t\t\t\t\t\tvar index = trg.parentNode.getAttribute(\"row\") || trg.getAttribute(\"row\");\r\n\t\t\t\t\t\tif (!index){\r\n\t\t\t\t\t\t\tindex = webix.html.index(trg);\r\n\t\t\t\t\t\t\tif (index >= this._settings.topSplit) \r\n\t\t\t\t\t\t\t\tindex += this._columns[column]._yr0 - this._settings.topSplit;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis._item_clicked = id = { row:this.data.order[index], column:this._columns[column].id};\r\n\t\t\t\t\t\tid.toString = this._id_to_string;\r\n\t\t\t\t\t} else \r\n\t\t\t\t\t\tthis._item_clicked = id = { column:this._columns[column].id };\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t//some custom css handlers was found\r\n\t\t\t\t\tres = this._mouseEventCall(css_call, e, id, trg);\r\n\t\t\t\t\tif (res===false) return;\r\n\t\t\t\t\t\r\n\t\t\t\t\t//call inner handler\r\n\t\t\t\t\tif (isBody ){\r\n\t\t\t\t\t\tif(this.callEvent(\"on\"+name,[id,e,trg])&&pair){\r\n\t\t\t\t\t\t\tthis.callEvent(\"on\"+pair,[id,e,trg]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (name == \"ItemClick\"){\r\n\t\t\t\t\t\tvar isHeader = (trg.parentNode.parentNode.getAttribute(\"section\") == \"header\");\r\n\t\t\t\t\t\tif (isHeader && this.callEvent(\"onHeaderClick\", [id, e, trg]))\r\n\t\t\t\t\t \t\tthis._on_header_click(id.column);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcss_call = [];\r\n\t\t\t\t} \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttrg=trg.parentNode;\r\n\t\t}\r\n\t\tthis._mouseEventCall(css_call, e, id, this.$view);\r\n\t\treturn found;\t//returns true if item was located and event was triggered\r\n\t},\r\n\t\r\n\r\n\r\n\r\n\tshowOverlay:function(message){\r\n\t\tif (!this._datatable_overlay){\r\n\t\t\tvar t = webix.html.create(\"DIV\", { \"class\":\"webix_overlay\" }, \"\");\r\n\t\t\tthis._body.appendChild(t);\r\n\t\t\tthis._datatable_overlay = t;\r\n\t\t}\r\n\t\tthis._datatable_overlay.innerHTML = message;\r\n\t},\r\n\thideOverlay:function(){\r\n\t\tif (this._datatable_overlay){\r\n\t\t\twebix.html.remove(this._datatable_overlay);\r\n\t\t\tthis._datatable_overlay = null;\r\n\t\t}\r\n\t},\r\n\tmapCells: function(startrow, startcol, numrows, numcols, callback, getOnly) {\r\n\t\tif (startrow === null && this.data.order.length > 0) startrow = this.data.order[0];\r\n\t\tif (startcol === null) startcol = this.columnId(0);\r\n\t\tif (numrows === null) numrows = this.data.order.length;\r\n\t\tif (numcols === null) numcols = this._settings.columns.length;\r\n\r\n\t\tif (!this.exists(startrow)) return;\r\n\t\tstartrow = this.getIndexById(startrow);\r\n\t\tstartcol = this.getColumnIndex(startcol);\r\n\t\tif (startcol === null) return;\r\n\r\n\t\tfor (var i = 0; i < numrows && (startrow + i) < this.data.order.length; i++) {\r\n\t\t\tvar row_ind = startrow + i;\r\n\t\t\tvar row_id = this.data.order[row_ind];\r\n\t\t\tvar item = this.getItem(row_id);\r\n\t\t\tfor (var j = 0; j < numcols && (startcol + j) < this._settings.columns.length; j++) {\r\n\t\t\t\tvar col_ind = startcol + j;\r\n\t\t\t\tvar col_id = this.columnId(col_ind);\r\n\t\t\t\tvar result = callback(item[col_id], row_id, col_id, i, j);\r\n\t\t\t\tif (!getOnly)\r\n\t\t\t\t\titem[col_id] = result;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_call_onparse: function(driver, data){\r\n\t\tif (!this._settings.columns && driver.getConfig)\r\n\t\t\tthis.define(\"columns\", driver.getConfig(data));\r\n\t},\r\n\t_autoDetectConfig:function(){\r\n\t\tvar test = this.getItem(this.getFirstId());\r\n\t\tvar res = this._settings.columns = [];\r\n\t\tfor (var key in test)\r\n\t\t\tif (key != \"id\")\r\n\t\t\t\tres.push({ id:key, header:key[0].toUpperCase()+key.substr(1), sort:\"string\", editor:\"text\" });\r\n\t\tif (res.length)\r\n\t\t\tres[0].fillspace = true;\r\n\t\tif (typeof this._settings.select == \"undefined\")\r\n\t\t\tthis.define(\"select\", \"row\");\r\n\t}\r\n},webix.AutoTooltip, webix.Group, webix.DataMarks, webix.DataLoader,  webix.MouseEvents, webix.MapCollection, webix.ui.view, webix.EventSystem, webix.Settings);\r\n\r\nwebix.ui.datafilter = {\r\n\ttextWaitDelay:500,\r\n\t\"summColumn\":{\r\n\t\tgetValue:function(node){ return node.firstChild.innerHTML; },\r\n\t\tsetValue: function(){},\r\n\t\trefresh:function(master, node, value){ \r\n\t\t\tvar result = 0;\r\n\t\t\tmaster.mapCells(null, value.columnId, null, 1, function(value){\r\n\t\t\t\tvalue = value*1;\r\n\t\t\t\tif (!isNaN(value))\r\n\t\t\t\t\tresult+=value;\r\n\t\t\t}, true);\r\n\r\n\t\t\tif (value.format)\r\n\t\t\t\tresult = value.format(result);\r\n\t\t\tif (value.template)\r\n\t\t\t\tresult = value.template({value:result});\r\n\r\n\t\t\tnode.firstChild.innerHTML = result;\r\n\t\t},\r\n\t\ttrackCells:true,\r\n\t\trender:function(master, config){ \r\n\t\t\tif (config.template)\r\n\t\t\t\tconfig.template = webix.template(config.template);\r\n\t\t\treturn \"\"; \r\n\t\t}\r\n\t},\r\n\t\"masterCheckbox\":{\r\n\t\tgetValue:function(){},\r\n\t\tsetValue:function(){},\r\n\t\tgetHelper:function(node, config){\r\n\t\t\treturn {\r\n\t\t\t\tcheck:function(){ config.checked = false; node.onclick(); },\r\n\t\t\t\tuncheck:function(){ config.checked = true; node.onclick(); },\r\n\t\t\t\tisChecked:function(){ return config.checked; }\r\n\t\t\t};\r\n\t\t},\r\n\t\trefresh:function(master, node, config){\r\n\t\t\tnode.onclick = function(){\r\n\t\t\t\tthis.getElementsByTagName(\"input\")[0].checked = config.checked = !config.checked;\r\n\t\t\t\tvar column = master.getColumnConfig(config.columnId);\r\n\t\t\t\tvar checked = config.checked ? column.checkValue : column.uncheckValue;\r\n\t\t\t\tmaster.data.each(function(obj){\r\n\t\t\t\t\tif(obj){ //dyn loading\r\n\t\t\t\t\t\tobj[config.columnId] = checked;\r\n\t\t\t\t\t\tmaster.callEvent(\"onCheck\", [obj.id, config.columnId, checked]);\r\n\t\t\t\t\t\tthis.callEvent(\"onStoreUpdated\", [obj.id, obj, \"save\"]);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tmaster.refresh();\r\n\t\t\t};\r\n\t\t},\r\n\t\trender:function(master, config){ \r\n\t\t\treturn \"<input type='checkbox' \"+(config.checked?\"checked='1'\":\"\")+\">\"; \r\n\t\t}\r\n\t},\r\n\t\"textFilter\":{\r\n\t\tgetInputNode:function(node){ return node.firstChild.firstChild; },\r\n\t\tgetValue:function(node){ return this.getInputNode(node).value;  },\r\n\t\tsetValue:function(node, value){ this.getInputNode(node).value=value;  },\r\n\t\trefresh:function(master, node, value){\r\n\t\t\tnode.component = master._settings.id;\r\n\t\t\tmaster.registerFilter(node, value, this);\r\n\t\t\tnode._comp_id = master._settings.id;\r\n\t\t\tif (value.value && this.getValue(node) != value.value) this.setValue(node, value.value);\r\n\t\t\tnode.onclick = webix.html.preventEvent;\r\n\t\t\tvar evId = \"webix_keydown_filter_\"+master._settings.id+\"_\"+value.columnId;\r\n\t\t\twebix.event(node, \"keydown\", this._on_key_down, {id: evId});\r\n\t\t},\r\n\t\trender:function(master, config){\r\n\t\t\tif (this.init) this.init(config);\r\n\t\t  \tconfig.css = \"webix_ss_filter\"; \r\n\t\t  \treturn \"<input \"+(config.placeholder?('placeholder=\"'+config.placeholder+'\" '):\"\")+\"type='text'>\"; \r\n\t\t},\r\n\t\t_on_key_down:function(e, node, value){\r\n\t\t\tvar id = this._comp_id;\r\n\r\n\t\t\t//tabbing through filters must not trigger filtering\r\n\t\t\t//we can improve this functionality by preserving initial filter value\r\n\t\t\t//and comparing new one with it\r\n\t\t\tif ((e.which || e.keyCode) == 9) return;\r\n\r\n\t\t\tif (this._filter_timer) window.clearTimeout(this._filter_timer);\r\n\t\t\tthis._filter_timer=window.setTimeout(function(){\r\n\t\t\t\twebix.$$(id).filterByAll();\r\n\t\t\t},webix.ui.datafilter.textWaitDelay);\r\n\t\t}\r\n\t},\r\n\t\"selectFilter\":{\r\n\t\tgetInputNode:function(node){ return node.firstChild.firstChild; },\r\n\t\tgetValue:function(node){ return this.getInputNode(node).value;  },\r\n\t\tsetValue:function(node, value){ this.getInputNode(node).value=value; },\r\n\t\trefresh:function(master, node, value){\r\n\t\t\t//value - config from header { contet: }\r\n\t\t\tvalue.compare = value.compare || function(a,b){ return a == b; };\r\n\r\n\t\t\tnode.component = master._settings.id;\r\n\t\t\tmaster.registerFilter(node, value, this);\r\n\r\n\t\t\tvar data;\r\n\t\t\tvar options = value.options;\r\n\t\t\tif (options){\r\n\t\t\t\tif(typeof options ==\"string\"){\r\n\t\t\t\t\tdata = value.options = [];\r\n\t\t\t\t\twebix.ajax(options).then(webix.bind(function(data){\r\n\t\t\t\t\t\tvalue.options = data.json();\r\n\t\t\t\t\t\tthis.refresh(master, node, value);\r\n\t\t\t\t\t}, this));\r\n\t\t\t\t} else\r\n\t\t\t\t\tdata = options;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tdata = master.collectValues(value.columnId);\r\n\t\t\t\tdata.unshift({ id:\"\", value:\"\" });\r\n\t\t\t}\r\n\r\n\t\t\tvar optview = webix.$$(options);\r\n\t\t\tif(optview && optview.data && optview.data.getRange){\r\n\t\t\t\tdata = optview.data.getRange();\r\n\t\t\t}\r\n\t\t\t//slow in IE\r\n\t\t\t//http://jsperf.com/select-options-vs-innerhtml\r\n\r\n\t\t\tvar select = document.createElement(\"select\");\r\n\t\t\tfor (var i = 0; i < data.length; i++){\r\n\t\t\t\tvar option = document.createElement(\"option\");\r\n\t\t\t\toption.value = data[i].id;\r\n\t\t\t\toption.text = data[i].value;\r\n\t\t\t\tselect.add(option);\r\n\t\t\t}\r\n\r\n\t\t\tnode.firstChild.innerHTML = \"\";\r\n\t\t\tnode.firstChild.appendChild(select);\r\n\r\n\t\t\tif (value.value) this.setValue(node, value.value);\r\n\t\t\tnode.onclick = webix.html.preventEvent;\r\n\r\n\t\t\tselect._comp_id = master._settings.id;\r\n\t\t\tvar evId = \"webix_change_filter_\"+master._settings.id+\"_\"+value.columnId;\r\n\t\t\twebix.event(select, \"change\", this._on_change, {id: evId});\r\n\t\t},\r\n\t\trender:function(master, config){  \r\n\t\t\tif (this.init) this.$init(config);\r\n\t\t\tconfig.css = \"webix_ss_filter\"; return \"\"; },\r\n\t\t_on_change:function(e, node, value){ \r\n\t\t\twebix.$$(this._comp_id).filterByAll();\r\n\t\t}\r\n\t}\r\n};\r\n\r\nwebix.ui.datafilter.serverFilter = webix.extend({\r\n\t$server: true,\r\n\t_on_key_down:function(e, node, value){\r\n\t\tvar config, name,\r\n\t\t\tid = this._comp_id,\r\n\t\t\tcode = (e.which || e.keyCode);\r\n\r\n\t\tnode = e.target || e.srcElement;\r\n\t\t//ignore tab and navigation keys\r\n\t\tif (code == 9 || ( code >= 33 &&  code <= 40)) return;\r\n\t\tif (this._filter_timer) window.clearTimeout(this._filter_timer);\r\n\t\tthis._filter_timer=window.setTimeout(function(){\r\n\t\t\twebix.$$(id).filterByAll();\r\n\t\t},webix.ui.datafilter.textWaitDelay);\r\n\t}\r\n}, webix.ui.datafilter.textFilter);\r\n\r\nwebix.ui.datafilter.serverSelectFilter = webix.extend({\r\n\t$server: true,\r\n\t_on_change:function(e, node, value){\r\n\t\tvar id = this._comp_id;\r\n\t\twebix.$$(id).filterByAll();\r\n\t}\r\n}, webix.ui.datafilter.selectFilter);\r\n\r\nwebix.ui.datafilter.numberFilter = webix.extend({\r\n\tinit:function(config){\r\n\t\tconfig.prepare = function(value, filter){\r\n\t\t\tvar equality = (value.indexOf(\"=\") != -1)?1:0;\r\n\t\t\tvar intvalue = this.format(value);\r\n\t\t\tif (intvalue === \"\") return \"\";\r\n\r\n\t\t\tif (value.indexOf(\">\") != -1) \r\n\t\t\t\tconfig.compare = this._greater;\r\n\t\t\telse if (value.indexOf(\"<\") != -1){\r\n\t\t\t\tconfig.compare = this._lesser;\r\n\t\t\t\tequality *= -1;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconfig.compare = this._equal;\r\n\t\t\t\tequality = 0;\r\n\t\t\t}\r\n\r\n\t\t\treturn intvalue - equality;\r\n\t\t};\r\n\t},\r\n\tformat:function(value){\r\n\t\treturn value.replace(/[^\\-\\.0-9]/g,\"\");\r\n\t},\r\n\t_greater:function(a,b){ return a*1>b; },\r\n\t_lesser:function(a,b){ return a!==\"\" && a*1<b; },\r\n\t_equal:function(a,b){ return a*1==b; }\t\r\n}, webix.ui.datafilter.textFilter);\r\n\r\nwebix.ui.datafilter.dateFilter = webix.extend({\r\n\tformat:function(value){\r\n\t\tif (value === \"\") return \"\";\r\n\t\tvar date = new Date();\r\n\r\n\t\tif (value.indexOf(\"today\") != -1){\r\n\t\t\tdate = webix.Date.dayStart(date);\r\n\t\t} else if (value.indexOf(\"now\") == -1){\r\n\t\t\tvar parts = value.match(/[0-9]+/g);\r\n\t\t\tif (!parts||!parts.length) return \"\";\r\n\t\t\tif (parts.length < 3){\r\n\t\t\t\tparts.reverse();\r\n\t\t\t\tdate = new Date(parts[0], (parts[1]||1)-1, 1);\r\n\t\t\t} else\r\n\t\t\t\tdate = webix.i18n.dateFormatDate(value.replace(/^[>< =]+/,\"\"));\r\n\t\t}\r\n\t\treturn date.valueOf();\r\n\t}\r\n}, webix.ui.datafilter.numberFilter);\r\n\r\nwebix.extend(webix.ui.datatable,{\r\n\tfilterByAll:function(){\r\n\t\t//we need to use dynamic function creating\r\n\t\t//jshint -W083:true\r\n\t\tvar server = false;\r\n\t\tthis.data.silent(function(){\r\n\t\t\tthis.filter();\r\n\t\t\tvar first = false;\r\n\t\t\tfor (var key in this._filter_elements){\r\n\t\t\t\twebix.assert(key, \"empty column id for column with filtering\");\r\n\t\t\t\tif(!this.isColumnVisible(key))\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\tvar record = this._filter_elements[key];\r\n\t\t\t\tvar originvalue = record[2].getValue(record[0]);\r\n\r\n\t\t\t\t//saving last filter value, for usage in getState\r\n\t\t\t\tvar inputvalue = originvalue;\r\n\t\t\t\tif (record[1].prepare)\r\n\t\t\t\t\tinputvalue = record[1].prepare.call(record[2], inputvalue, record[1], this);\r\n\r\n\t\t\t\t//preserve original value\r\n\t\t\t\trecord[1].value = originvalue;\r\n\t\t\t\tvar compare = record[1].compare;\r\n\r\n\t\t\t\tif (!this.callEvent(\"onBeforeFilter\",[key, inputvalue, record[1]])) continue;\r\n\t\t\t\tif(record[2].$server){\r\n\t\t\t\t\tserver = true;\r\n\t\t\t\t\treturn this._runServerFilter();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (inputvalue === \"\") continue;\r\n\r\n\t\t\t\t\tif (compare){\r\n\t\t\t\t\t\tcompare = this._multi_compare(key, compare);\r\n\t\t\t\t\t\tthis.filter(webix.bind(function(obj, value){\r\n\t\t\t\t\t\t\tif (!obj) return false;\r\n\t\t\t\t\t\t\treturn compare(obj[key], value, obj);\r\n\t\t\t\t\t\t},this), inputvalue, first);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tthis.filter(key, inputvalue, first);\r\n\t\t\t\t}\r\n\t\t\t\tfirst = true;\r\n\t\t\t}\r\n\t\t}, this);\r\n\r\n\t\tif (!server){\r\n\t\t\tthis.refresh();\r\n\t\t\tthis.callEvent(\"onAfterFilter\",[]);\r\n\t\t}\r\n\t},\r\n\t_multi_compare: function(key, compare){\r\n\t\tvar separator = this.getColumnConfig(key).optionslist;\r\n\t\t//default mode\r\n\t\tif (!separator) \r\n\t\t\treturn compare;\r\n\r\n\t\tif(typeof separator != \"string\")\r\n\t\t\tseparator = \",\";\r\n\r\n\t\treturn function(itemValue, inputValue, obj){\r\n\t\t\tif(!itemValue)\r\n\t\t\t\treturn true;\r\n\t\t\tvar ids = itemValue.split(separator);\r\n\t\t\tfor (var i = 0; i < ids.length; i++) {\r\n\t\t\t\tif (compare(ids[i], inputValue, obj))\r\n\t\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tfilterMode_setter:function(mode){\r\n\t\treturn webix.extend(this.data._filterMode, mode, true);\r\n\t},\r\n\tgetFilter:function(columnId){\r\n\t\tvar filter = this._filter_elements[columnId];\r\n\t\twebix.assert(filter, \"Filter doesn't exists for column in question\");\r\n\r\n\t\tif (filter && filter[2].getInputNode)\r\n\t\t\treturn filter[2].getInputNode(filter[0]);\r\n\t\treturn null;\r\n\t},\r\n\tregisterFilter:function(node, config, obj){\r\n\t\tthis._filter_elements[config.columnId] = [node, config, obj];\r\n\t},\r\n\tcollectValues:function(id){\r\n\t\tvar values = [];\r\n\t\tvar checks = { \"\" : true };\r\n\r\n\t\tvar obj = this.getColumnConfig(id);\r\n\t\tvar options = obj.options||obj.collection;\r\n\r\n\t\tif (options){\r\n\t\t\tif (typeof options == \"object\" && !options.loadNext){\r\n\t\t\t\t//raw object\r\n\t\t\t\tif (webix.isArray(options))\r\n\t\t\t\t\tfor (var i=0; i<options.length; i++) \r\n\t\t\t\t\t\tvalues.push({ id:options[i], value:options[i] });\r\n\t\t\t\telse\r\n\t\t\t\t\tfor (var key in options) \r\n\t\t\t\t\t\tvalues.push({ id:key, value:options[key] });\r\n\t\t\t\treturn values;\r\n\t\t\t} else {\r\n\t\t\t\t//view\r\n\t\t\t\tif (typeof options === \"string\")\r\n\t\t\t\t\toptions = webix.$$(options);\r\n\t\t\t\tif (options.getBody)\r\n\t\t\t\t\toptions = options.getBody();\r\n\r\n\t\t\t\tthis._collectValues.call(options, \"id\", \"value\", values, checks);\r\n\t\t\t}\r\n\t\t} else\r\n\t\t\tthis._collectValues(obj.id, obj.id, values, checks);\r\n\r\n\t\tvar obj  = { values: values };\r\n\t\tthis.callEvent(\"onCollectValues\", [id, obj]);\r\n\t\treturn obj.values;\r\n\t},\r\n\t_collectValues:function(id, value,  values, checks){\r\n\t\tthis.data.each(function(obj){\r\n\t\t\tvar test = obj ? obj[id] : \"\";\r\n\t\t\tif (test !== webix.undefined && !checks[test]){\r\n\t\t\t\tchecks[test] = true;\r\n\t\t\t\tvalues.push({ id:obj[id], value:obj[value] });\r\n\t\t\t}\r\n\t\t}, this, true);\r\n\t\tvalues.sort(function(a,b){ return a.value > b.value ? 1 : -1;  });\r\n\t},\r\n\t_runServerFilter: function(name){\r\n\t\tthis.loadNext(0,0,{\r\n\t\t\tbefore:function(){\r\n\t\t\t\tvar url = this.data.url;\r\n\t\t\t\tif (this.editStop) this.editStop();\r\n\t\t\t\tthis.clearAll();\r\n\t\t\t\tthis.data.url = url;\r\n\t\t\t},\r\n\t\t\tsuccess:function(){\r\n\t\t\t\tthis.callEvent(\"onAfterFilter\",[]);\r\n\t\t\t}\r\n\t\t},0,1);\r\n\t}\r\n});\r\n\r\n\r\nwebix.extend(webix.ui.datatable, {\r\n\thover_setter:function(value){\r\n\t\tif (value && !this._hover_initialized){\r\n\t\t\tthis._enable_mouse_move();\r\n\t\t\tthis.config.experimental = true;\r\n\r\n\t\t\tthis.attachEvent(\"onMouseMoving\", function(e){\r\n\t\t\t\t\r\n\t\t\t\tvar row = this.locate(arguments[0]);\r\n\t\t\t\trow = row ? row.row : null;\r\n\r\n\t\t\t\tif (this._last_hover != row){\r\n\t\t\t\t\tif (this._last_hover)\r\n\t\t\t\t\t\tthis.removeRowCss(this._last_hover, this._settings.hover);\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis._delayed_hover_set();\r\n\t\t\t\t\tthis._last_hover = row;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.attachEvent(\"onMouseOut\", function(){\r\n\t\t\t\tif (this._last_hover){\r\n\t\t\t\t\tthis.removeRowCss(this._last_hover, this._settings.hover);\r\n\t\t\t\t\tthis._last_hover = null;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis._hover_initialized = 1;\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\t_delayed_hover_set:function(){\r\n\t\twebix.delay(function(){ \r\n\t\t\tif (this._last_hover)\r\n\t\t\t\tthis.addRowCss( this._last_hover, this._settings.hover );\r\n\t\t}, this, [],  5);\r\n\t},\r\n\tselect_setter:function(value){\r\n\t\tif (!this.select && value){\r\n\t\t\twebix.extend(this, this._selections._commonselect, true);\r\n\t\t\tif (value === true)\r\n\t\t\t\tvalue = \"row\";\r\n\t\t\telse if (value == \"multiselect\"){\r\n\t\t\t\tvalue = \"row\";\r\n\t\t\t\tthis._settings.multiselect = true;\r\n\t\t\t}\r\n\t\t\twebix.assert(this._selections[value], \"Unknown selection mode: \"+value);\r\n\t\t\twebix.extend(this, this._selections[value], true);\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\tgetSelectedId:function(mode){\r\n\t\treturn  mode?[]:\"\"; //dummy placeholder\r\n\t},\r\n\tgetSelectedItem:function(mode){\r\n\t\treturn webix.SelectionModel.getSelectedItem.call(this, mode);\r\n\t},\r\n\t_selections:{\r\n\t\t//shared methods for all selection models\r\n\t\t_commonselect:{\r\n\t\t\t_select_css:' webix_cell_select',\r\n\t\t\t$init:function(){\r\n\t\t\t\tthis._reinit_selection();\r\n\r\n\t\t\t\tthis.on_click.webix_cell = webix.bind(this._click_before_select, this);\r\n\r\n\t\t\t\t//temporary stab, actual handlers need to be created\r\n\t\t\t\tthis._data_cleared = this._data_filtered = function(){\r\n\t\t\t\t\tthis.unselect();\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.data.attachEvent(\"onStoreUpdated\",webix.bind(this._data_updated,this));\r\n\t\t\t\tthis.data.attachEvent(\"onClearAll\", webix.bind(this._data_cleared,this));\r\n\t\t\t\tthis.data.attachEvent(\"onAfterFilter\", webix.bind(this._data_filtered,this));\r\n\t\t\t\tthis.data.attachEvent(\"onIdChange\", webix.bind(this._id_changed,this));\r\n\r\n\t\t\t\tthis.$ready.push(webix.SelectionModel._set_noselect);\r\n\t\t\t},\r\n\t\t\t_id_changed:function(oldid, newid){\r\n\t\t\t\tfor (var i=0; i<this._selected_rows.length; i++)\r\n\t\t\t\t\tif (this._selected_rows[i] == oldid)\r\n\t\t\t\t\t\tthis._selected_rows[i] = newid;\r\n\r\n\t\t\t\tfor (var i=0; i<this._selected_areas.length; i++){\r\n\t\t\t\t\tvar item = this._selected_areas[i];\r\n\t\t\t\t\tif (item.row == oldid){\r\n\t\t\t\t\t\toldid = this._select_key(item);\r\n\t\t\t\t\t\titem.row = newid;\r\n\t\t\t\t\t\tnewid = this._select_key(item);\r\n\t\t\t\t\t\titem.id = newid;\r\n\r\n\t\t\t\t\t\tdelete this._selected_pull[oldid];\r\n\t\t\t\t\t\tthis._selected_pull[newid] = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_data_updated:function(id, obj, type){\r\n\t\t\t\tif (type == \"delete\") \r\n\t\t\t\t\tthis.unselect(id);\r\n\t\t\t},\r\n\t\t\t_reinit_selection:function(){\r\n\t\t\t\t//list of selected areas\r\n\t\t\t\tthis._selected_areas=[];\r\n\t\t\t\t//key-value hash of selected areas, for fast search\r\n\t\t\t\tthis._selected_pull={};\r\n\t\t\t\t//used to track selected cell objects\r\n\t\t\t\tthis._selected_rows = [];\r\n\t\t\t},\r\n\t\t\tisSelected:function(id, column){\r\n\t\t\t\tvar key;\r\n\t\t\t\tif (!webix.isUndefined(column))\r\n\t\t\t\t\tkey = this._select_key({ row:id, column: column});\r\n\t\t\t\telse \r\n\t\t\t\t\tkey = typeof id === \"object\"? this._select_key(id) : id;\r\n\r\n\t\t\t\treturn this._selected_pull[key];\r\n\t\t\t},\r\n\t\t\tgetSelectedId:function(asArray, plain){\r\n\t\t\t\tvar result;\r\n\r\n\t\t\t\t//if multiple selections was created - return array\r\n\t\t\t\t//in case of single selection, return value or array, when asArray parameter provided\r\n\t\t\t\tif (this._selected_areas.length > 1 || asArray){\r\n\t\t\t\t\tresult = [].concat(this._selected_areas);\r\n\t\t\t\t\tif (plain)\r\n\t\t\t\t\t\tfor (var i = 0; i < result.length; i++)\r\n\t\t\t\t\t\t\tresult[i]=result[i].id;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult = this._selected_areas[0];\r\n\t\t\t\t\tif (plain && result)\r\n\t\t\t\t\t\treturn result.id;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn result;\r\n\t\t\t},\r\n\t\t\t_id_to_string:function(){\r\n\t\t\t\treturn this.row;\r\n\t\t\t},\r\n\t\t\t_select:function(data, preserve){\r\n\t\t\t\tvar key = this._select_key(data);\r\n\t\t\t\t//don't allow selection on unnamed columns\r\n\t\t\t\tif (key === null) return;\r\n\r\n\t\t\t\tif (preserve === -1)\r\n\t\t\t\t\treturn this._unselect(data);\r\n\r\n\t\t\t\tdata.id = key;\r\n\t\t\t\tdata.toString = this._id_to_string;\r\n\r\n\t\t\t\tif (!this.callEvent(\"onBeforeSelect\",[data, preserve])) return false;\r\n\r\n\t\t\t\t//ignore area, if it was already selected and\r\n\t\t\t\t// - we are preserving existing selection\r\n\t\t\t\t// - this is the only selected area\r\n\t\t\t\t// otherwise we need to clear other selected areas\r\n\t\t\t\tif (this._selected_pull[key] && (preserve || this._selected_areas.length == 1)) return;\r\n\r\n\t\t\t\tif (!preserve)\r\n\t\t\t\t\tthis._clear_selection();\r\n\r\n\t\t\t\tthis._selected_areas.push(data);\r\n\t\t\t\tthis._selected_pull[key] = true;\r\n\r\n\t\t\t\tthis.callEvent(\"onAfterSelect\",[data, preserve]);\r\n\r\n\t\t\t\t\r\n\t\t\t\tthis._finalize_select(this._post_select(data));\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\t_clear_selection:function(){\r\n\t\t\t\tif (!this._selected_areas.length) return false; \r\n\r\n\t\t\t\tfor (var i=0; i<this._selected_rows.length; i++){\r\n\t\t\t\t\tvar item = this.getItem(this._selected_rows[i]);\r\n\t\t\t\t\tif (item)\r\n\t\t\t\t\t\tthis.data.removeMark(item.id, \"webix_selected\", 0, 1);\r\n\t\t\t\t}\r\n\t\t\t\tvar cols = this._settings.columns;\r\n\t\t\t\tif (cols)\r\n\t\t\t\t\tfor (var i = 0; i < cols.length; i++) {\r\n\t\t\t\t\t\tcols[i].$selected = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\tthis._reinit_selection();\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\tunselectAll:function(){\r\n\t\t\t\tthis.clearSelection();\r\n\t\t\t},\r\n\t\t\tselectAll:function(){\r\n\t\t\t\tthis.selectRange();\r\n\t\t\t},\r\n\t\t\tclearSelection:function(){\r\n\t\t\t\tif (this._clear_selection()){\r\n\t\t\t\t\tthis.callEvent(\"onSelectChange\",[]);\r\n\t\t\t\t\tthis.render();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_unselect:function(data){\r\n\t\t\t\tvar key = this._select_key(data);\r\n\t\t\t\tif (!key && this._selected_areas.length){\r\n\t\t\t\t\tthis.clearSelection();\r\n\t\t\t\t\tthis.callEvent(\"onSelectChange\", []);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//ignore area, if it was already selected\r\n\t\t\t\tif (!this._selected_pull[key]) return;\r\n\r\n\t\t\t\tif (!this.callEvent(\"onBeforeUnSelect\",[data])) return false;\r\n\r\n\t\t\t\tfor (var i = 0; i < this._selected_areas.length; i++){\r\n\t\t\t\t\tif (this._selected_areas[i].id == key){\r\n\t\t\t\t\t\tthis._selected_areas.splice(i,1);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdelete this._selected_pull[key];\r\n\r\n\t\t\t\tthis.callEvent(\"onAfterUnSelect\",[data]);\r\n\t\t\t\tthis._finalize_select(0, this._post_unselect(data));\r\n\t\t\t},\r\n\t\t\t_add_item_select:function(id){\r\n\t\t\t\tvar item = this.getItem(id);\r\n\t\t\t\treturn this.data.addMark(item.id, \"webix_selected\", 0, { $count : 0 }, true);\r\n\r\n\t\t\t},\r\n\t\t\t_finalize_select:function(id){\r\n\t\t\t\tif (id)\r\n\t\t\t\t\tthis._selected_rows.push(id);\r\n\t\t\t\tif (!this._silent_selection){\r\n\t\t\t\t\tthis.render();\r\n\t\t\t\t\tthis.callEvent(\"onSelectChange\",[]);\t\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_click_before_select:function(e, id){\r\n\t\t\t\tvar preserve = e.ctrlKey || e.metaKey || (this._settings.multiselect == \"touch\");\r\n\t\t\t\tvar range = e.shiftKey;\r\n\r\n\t\t\t\tif (!this._settings.multiselect && this._settings.select != \"multiselect\")\r\n\t\t\t\t\tpreserve = range = false;\r\n\r\n\t\t\t\tif (range && this._selected_areas.length){\r\n\t\t\t\t\tvar last = this._selected_areas[this._selected_areas.length-1];\r\n\t\t\t\t\tthis._selectRange(id, last);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (preserve && this._selected_pull[this._select_key(id)])\r\n\t\t\t\t\t\tthis._unselect(id);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tthis._select({ row: id.row, column:id.column }, preserve);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_mapSelection:function(callback, column, row){\r\n\t\t\t\tvar cols = this._settings.columns;\r\n\t\t\t\t//selected columns only\r\n\t\t\t\tif (column){\r\n\t\t\t\t\tvar temp = [];\r\n\t\t\t\t\tfor (var i=0; i<cols.length; i++)\r\n\t\t\t\t\t\tif (cols[i].$selected)\r\n\t\t\t\t\t\t\ttemp.push(cols[i]);\r\n\t\t\t\t\tcols = temp;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar rows = this.data.order;\r\n\t\t\t\tvar row_ind = 0;\r\n\r\n\t\t\t\tfor (var i=0; i<rows.length; i++){\r\n\t\t\t\t\tvar item = this.getItem(rows[i]);\r\n\t\t\t\t\tif (!item) continue; //dyn loading, row is not available\r\n\t\t\t\t\tvar selection = this.data.getMark(item.id, \"webix_selected\");\r\n\t\t\t\t\tif (selection || column){\r\n\t\t\t\t\t\tvar col_ind = 0;\r\n\t\t\t\t\t\tfor (var j = 0; j < cols.length; j++){\r\n\t\t\t\t\t\t\tvar id = cols[j].id;\r\n\t\t\t\t\t\t\tif (row || column || selection[id]){\r\n\t\t\t\t\t\t\t\tif (callback)\r\n\t\t\t\t\t\t\t\t\titem[id] = callback(item[id], rows[i], id, row_ind, col_ind);\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\treturn {row:rows[i], column:id};\r\n\t\t\t\t\t\t\t\tcol_ind++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//use separate row counter, to count only selected rows\r\n\t\t\t\t\t\trow_ind++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, \r\n\r\n\t\trow : {\r\n\t\t\t_select_css:' webix_row_select',\r\n\t\t\t_select_key:function(data){ return data.row; },\r\n\t\t\tselect:function(row_id, preserve){\r\n\t\t\t\t//when we are using id from mouse events\r\n\t\t\t\tif (row_id) row_id = row_id.toString();\r\n\r\n\t\t\t\twebix.assert(this.data.exists(row_id), \"Incorrect id in select command: \"+row_id);\r\n\t\t\t\tthis._select({ row:row_id }, preserve);\r\n\t\t\t},\r\n\t\t\t_post_select:function(data){\r\n\t\t\t\tthis._add_item_select(data.row).$row = true;\r\n\t\t\t\treturn data.row;\r\n\t\t\t},\r\n\t\t\tunselect:function(row_id){\r\n\t\t\t\tthis._unselect({row : row_id});\r\n\t\t\t},\r\n\t\t\t_post_unselect:function(data){\r\n\t\t\t\tthis.data.removeMark(data.row, \"webix_selected\", 0, 1);\r\n\t\t\t\treturn data.row;\r\n\t\t\t},\r\n\t\t\tmapSelection:function(callback){\r\n\t\t\t\treturn this._mapSelection(callback, false, true);\r\n\t\t\t},\r\n\t\t\t_selectRange:function(a,b){\r\n\t\t\t\treturn this.selectRange(a.row, b.row);\r\n\t\t\t},\r\n\t\t\tselectRange:function(row_id, end_row_id, preserve){\r\n\t\t\t\tif (webix.isUndefined(preserve)) preserve = true;\r\n\r\n\t\t\t\tvar row_start_ind = row_id ? this.getIndexById(row_id) : 0;\r\n\t\t\t\tvar row_end_ind = end_row_id ? this.getIndexById(end_row_id) : this.data.order.length-1;\r\n\r\n\t\t\t\tif (row_start_ind>row_end_ind){\r\n\t\t\t\t\tvar temp = row_start_ind;\r\n\t\t\t\t\trow_start_ind = row_end_ind;\r\n\t\t\t\t\trow_end_ind = temp;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis._silent_selection = true;\r\n\t\t\t\tfor (var i=row_start_ind; i<=row_end_ind; i++)\r\n\t\t\t\t\tthis.select(this.getIdByIndex(i), preserve);\r\n\t\t\t\tthis._silent_selection = false;\r\n\t\t\t\tthis._finalize_select();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcell:{\r\n\t\t\t_select_key:function(data){\r\n\t\t\t\tif (!data.column) return null;\r\n\t\t\t \treturn data.row+\"_\"+data.column; \r\n\t\t\t},\r\n\t\t\tselect:function(row_id, column_id, preserve){\r\n\t\t\t\twebix.assert(this.data.exists(row_id), \"Incorrect id in select command: \"+row_id);\r\n\t\t\t\tthis._select({row:row_id, column:column_id}, preserve);\r\n\t\t\t},\r\n\t\t\t_post_select:function(data){\r\n\t\t\t\t\tvar sel = this._add_item_select(data.row);\r\n\t\t\t\t\tsel.$count++;\r\n\t\t\t\t\tsel[data.column]=true;\r\n\t\t\t\t\treturn data.row;\r\n\t\t\t},\r\n\t\t\tunselect:function(row_id, column_id){\r\n\t\t\t\tthis._unselect({row:row_id, column:column_id});\r\n\t\t\t},\r\n\t\t\t_post_unselect:function(data){\r\n\t\t\t\tvar sel = this._add_item_select(data.row);\r\n\t\t\t\t\tsel.$count-- ;\r\n\t\t\t\t\tsel[data.column] = false;\r\n\t\t\t\t\tif (sel.$count<=0)\r\n\t\t\t\t\t\tthis.data.removeMark(data.row,\"webix_selected\");\r\n\t\t\t\t\treturn data.row;\r\n\t\t\t},\r\n\t\t\tmapSelection:function(callback){\r\n\t\t\t\treturn this._mapSelection(callback, false, false);\r\n\t\t\t},\r\n\t\t\t_selectRange:function(a,b){\r\n\t\t\t\treturn this.selectRange(a.row, a.column, b.row, b.column);\r\n\t\t\t},\r\n\r\n\t\t\tselectRange:function(row_id, column_id, end_row_id, end_column_id, preserve){\r\n\t\t\t\tif (webix.isUndefined(preserve)) preserve = true;\r\n\r\n\t\t\t\tvar row_start_ind = row_id ? this.getIndexById(row_id) : 0;\r\n\t\t\t\tvar row_end_ind = end_row_id ? this.getIndexById(end_row_id) : this.data.order.length-1;\r\n\r\n\t\t\t\tvar col_start_ind = column_id ? this.getColumnIndex(column_id) : 0;\r\n\t\t\t\tvar col_end_ind = end_column_id ? this.getColumnIndex(end_column_id) : this._columns.length-1;\r\n\r\n\t\t\t\tif (row_start_ind>row_end_ind){\r\n\t\t\t\t\tvar temp = row_start_ind;\r\n\t\t\t\t\trow_start_ind = row_end_ind;\r\n\t\t\t\t\trow_end_ind = temp;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (col_start_ind>col_end_ind){\r\n\t\t\t\t\tvar temp = col_start_ind;\r\n\t\t\t\t\tcol_start_ind = col_end_ind;\r\n\t\t\t\t\tcol_end_ind = temp;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._silent_selection = true;\r\n\t\t\t\tfor (var i=row_start_ind; i<=row_end_ind; i++)\r\n\t\t\t\t\tfor (var j=col_start_ind; j<=col_end_ind; j++)\r\n\t\t\t\t\t\tthis.select(this.getIdByIndex(i), this.columnId(j), preserve);\r\n\t\t\t\tthis._silent_selection = false;\r\n\t\t\t\tthis._finalize_select();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcolumn:{\r\n\t\t\t_select_css:' webix_column_select',\r\n\t\t\t_select_key:function(data){ return data.column; },\r\n\t\t\t_id_to_string:function(){\r\n\t\t\t\treturn this.column;\r\n\t\t\t},\r\n\t\t\t//returns box-like area, with ordered selection cells\r\n\t\t\tselect:function(column_id, preserve){\r\n\t\t\t\tthis._select({ column:column_id }, preserve);\r\n\t\t\t},\r\n\t\t\t_post_select:function(data){\r\n\t\t\t\tthis._settings.columns[this.getColumnIndex(data.column)].$selected = true;\r\n\t\t\t\tif (!this._silent_selection)\r\n\t\t\t\t\tthis._render_header_and_footer();\r\n\t\t\t},\r\n\t\t\tunselect:function(column_id){\r\n\t\t\t\tthis._unselect({column : column_id});\r\n\t\t\t},\r\n\t\t\t_post_unselect:function(data){\r\n\t\t\t\tthis._settings.columns[this.getColumnIndex(data.column)].$selected = null;\r\n\t\t\t\tthis._render_header_and_footer();\r\n\t\t\t},\r\n\t\t\tmapSelection:function(callback){\r\n\t\t\t\treturn this._mapSelection(callback, true, false);\r\n\t\t\t},\r\n\t\t\t_selectRange:function(a,b){\r\n\t\t\t\treturn this.selectRange(a.column, b.column);\r\n\t\t\t},\r\n\t\t\tselectRange:function(column_id, end_column_id, preserve){\r\n\t\t\t\tif (webix.isUndefined(preserve)) preserve = true;\r\n\r\n\t\t\t\tvar column_start_ind = column_id ? this.getColumnIndex(column_id) : 0;\r\n\t\t\t\tvar column_end_ind = end_column_id ? this.getColumnIndex(end_column_id) : this._columns.length-1;\r\n\r\n\t\t\t\tif (column_start_ind>column_end_ind){\r\n\t\t\t\t\tvar temp = column_start_ind;\r\n\t\t\t\t\tcolumn_start_ind = column_end_ind;\r\n\t\t\t\t\tcolumn_end_ind = temp;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis._silent_selection = true;\r\n\t\t\t\tfor (var i=column_start_ind; i<=column_end_ind; i++)\r\n\t\t\t\t\tthis.select(this.columnId(i), preserve);\r\n\r\n\t\t\t\tthis._silent_selection = false;\r\n\r\n\t\t\t\tthis._render_header_and_footer();\r\n\t\t\t\tthis._finalize_select();\r\n\t\t\t}\r\n\t\t},\r\n\t\tarea: {\r\n\t\t\t_select_key:function(data){\r\n\t\t\t\treturn data.row+\"_\"+data.column;\r\n\t\t\t},\r\n\t\t\tgetSelectedId: function(asArray){\r\n\t\t\t\tvar area = this.getSelectArea();\r\n\t\t\t\tvar result = [];\r\n\t\t\t\tif(area){\r\n\t\t\t\t\tif(asArray && ( area.start.row != area.end.row || area.start.column != area.end.column )){\r\n\t\t\t\t\t\tvar row_start_ind = this.getIndexById(area.start.row);\r\n\t\t\t\t\t\tvar row_end_ind = this.getIndexById(area.end.row);\r\n\r\n\t\t\t\t\t\tvar col_start_ind = this.getColumnIndex(area.start.column);\r\n\t\t\t\t\t\tvar col_end_ind = this.getColumnIndex(area.end.column);\r\n\r\n\t\t\t\t\t\tfor (var i=row_start_ind; i<=row_end_ind; i++)\r\n\t\t\t\t\t\t\tfor (var j=col_start_ind; j<=col_end_ind; j++){\r\n\t\t\t\t\t\t\t\tresult.push({row:this.getIdByIndex(i), column:this.columnId(j)});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tresult.push(area.end);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn asArray?result:result[0];\r\n\t\t\t},\r\n\t\t\tunselect:function(row_id){\r\n\t\t\t\tthis.removeSelectArea();\r\n\t\t\t},\r\n\t\t\t_unselect: function() {\r\n\t\t\t\tthis.removeSelectArea();\r\n\t\t\t},\r\n\t\t\tmapSelection:function(callback){\r\n\t\t\t\tvar select  = this.getSelectArea();\r\n\t\t\t\tif (select){\r\n\t\t\t\t\tvar sind = this.getColumnIndex(select.start.column);\r\n\t\t\t\t\tvar eind = this.getColumnIndex(select.end.column);\r\n\t\t\t\t\tvar srow = this.getIndexById(select.start.row);\r\n\t\t\t\t\tvar erow = this.getIndexById(select.end.row);\r\n\r\n\t\t\t\t\tfor (var i = srow; i <= erow; i++) {\r\n\t\t\t\t\t\tvar rid = this.data.order[i];\r\n\t\t\t\t\t\tvar item = this.getItem(rid);\r\n\t\t\t\t\t\tfor (var j = sind; j <= eind; j++) {\r\n\t\t\t\t\t\t\tvar cid = this._columns[j].id;\r\n\t\t\t\t\t\t\tif (callback)\r\n\t\t\t\t\t\t\t\tcallback((item[cid] || \"\"), rid, cid, i-srow, j-sind);\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\treturn { row:rid, column:cid };\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_selectRange:function(id,last){\r\n\t\t\t\tthis._extendAreaRange(id, last);\r\n\t\t\t},\r\n\t\t\t_select: function(cell, preserve){\r\n\t\t\t\t//ctrl-selection is not supported yet, so ignoring the preserve flag\r\n\t\t\t\tthis.addSelectArea(cell,cell,false);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.extend(webix.ui.datatable, {\r\n\tblockselect_setter:function(value){\r\n\t\tif (value && this._block_sel_flag){\r\n\t\t\twebix.event(this._viewobj, webix.env.mouse.move, this._bs_move, {bind:this});\r\n\t\t\twebix.event(this._viewobj, webix.env.mouse.down, this._bs_down, {bind:this});\r\n\t\t\twebix.event(document.body, webix.env.mouse.up, this._bs_up, {bind:this});\r\n\t\t\tthis._block_sel_flag = this._bs_ready = this._bs_progress = false;\r\n\t\t\tthis.attachEvent(\"onAfterScroll\", function(){\r\n\t\t\t\tthis._update_block_selection();\r\n\t\t\t});\r\n\t\t\t// auto scroll\r\n\t\t\twebix.extend(this, webix.AutoScroll, true);\r\n\t\t\tthis.attachEvent(\"onBeforeAutoScroll\",function(){\r\n\t\t\t\treturn this._bs_progress;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\t_block_sel_flag:true,\r\n\t_childOf:function(e, tag){\r\n\t\tvar src = e.target||e.srcElement;\r\n\t\twhile (src){\r\n\t\t\tif (src.getAttribute && src.getAttribute(\"webixignore\")) return false;\r\n\t\t\tif (src == tag)\r\n\t\t\t\treturn true;\r\n\t\t\tsrc = src.parentNode;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\t_bs_down:function(e){\r\n\t\t// do not listen to mousedown of subview on master\r\n\t\tif (this._settings.subview && this != webix.$$(e.target||e.srcElement)) return;\r\n\t\tif (this._childOf(e, this._body)){\r\n\t\t\t//disable block selection when we have an active editor\r\n\t\t\tif (e.target && e.target.tagName == \"INPUT\" || this._rs_process) return;\r\n\r\n\t\t\twebix.html.addCss(document.body,\"webix_noselect\");\r\n\t\t\tthis._bs_position = webix.html.offset(this._body);\r\n\t\t\tvar pos = webix.html.pos(e);\r\n\r\n\t\t\tthis._bs_ready = [pos.x - this._bs_position.x, pos.y - this._bs_position.y];\r\n\t\t}\r\n\t},\r\n\t_bs_up:function(e){\r\n\t\tif (this._block_panel){\r\n\t\t\tthis._bs_select(\"select\", true, e);\r\n\t\t\tthis._block_panel = webix.html.remove(this._block_panel);\r\n\t\t}\r\n\t\twebix.html.removeCss(document.body,\"webix_noselect\");\r\n\t\tthis._bs_ready = this._bs_progress = false;\r\n\t\tif (this._auto_scroll_delay)\r\n\t\t\tthis._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\r\n\t},\r\n\t_update_block_selection: function(){\r\n\t\tif (this._bs_progress)\r\n\t\t\tthis._bs_select(false, false);\r\n\t},\r\n\t_bs_select:function(mode, theend, e){\r\n\t\tvar start = null;\r\n\t\tif(!this._bs_ready[2])\r\n\t\t\tthis._bs_ready[2] = this._locate_cell_xy.apply(this, this._bs_ready);\r\n\t\tstart = this._bs_ready[2];\r\n\r\n\t\tvar end = this._locate_cell_xy.apply(this, this._bs_progress);\r\n\r\n\t\tif (!this.callEvent(\"onBeforeBlockSelect\", [start, end, theend, e]))\r\n\t\t\treturn;\r\n\r\n\t\tif ((!this._bs_do_select || this._bs_do_select(start, end, theend, e) !== false) && (start.row && end.row)){\r\n\t\t\tif (mode === \"select\"){\r\n\t\t\t\tthis._clear_selection();\r\n\t\t\t\tthis._selectRange(start, end);\r\n\t\t\t} else {\r\n\t\t\t\tvar startx, starty, endx, endy;\r\n\r\n\t\t\t\tif (mode === \"box\"){\r\n\t\t\t\t\tstartx = Math.min(this._bs_ready[0],this._bs_progress[0]);\r\n\t\t\t\t\tendx = Math.max(this._bs_ready[0],this._bs_progress[0]);\r\n\r\n\t\t\t\t\tstarty = Math.min(this._bs_ready[1],this._bs_progress[1]);\r\n\t\t\t\t\tendy = Math.max(this._bs_ready[1],this._bs_progress[1]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar startn = this._cellPosition(start.row, start.column);\r\n\t\t\t\t\tvar endn = this._cellPosition(end.row, end.column);\r\n\t\t\t\t\tvar scroll = this.getScrollState();\r\n\r\n\t\t\t\t\tvar startWidth = startn.width;\r\n\t\t\t\t\tvar endWidth = endn.width;\r\n\r\n\t\t\t\t\tif (this._right_width && this._bs_ready[0] > this._left_width+this._center_width){\r\n\t\t\t\t\t\tstartn.left += this._left_width+this._center_width;\r\n\t\t\t\t\t} else if (this._left_width){\r\n\r\n\t\t\t\t\t\tif (this._bs_ready[0] > this._left_width){\r\n\t\t\t\t\t\t\tif(startn.left < scroll.x){\r\n\t\t\t\t\t\t\t\tstartWidth -= scroll.x-startn.left;\r\n\t\t\t\t\t\t\t\tstartn.left = this._left_width;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tstartn.left+=this._left_width-scroll.x;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else startn.left -= scroll.x;\r\n\r\n\r\n\r\n\t\t\t\t\tif (this._right_width && this._bs_progress[0] > this._left_width+this._center_width){\r\n\t\t\t\t\t\tendn.left += this._left_width+this._center_width;\r\n\t\t\t\t\t} else if (this._left_width){\r\n\t\t\t\t\t\tif (this._bs_progress[0] > this._left_width){\r\n\t\t\t\t\t\t\tif(endn.left < scroll.x){\r\n\t\t\t\t\t\t\t\tendWidth -= scroll.x-endn.left;\r\n\t\t\t\t\t\t\t\tendn.left = this._left_width;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tendn.left+=this._left_width-scroll.x;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else endn.left -= scroll.x;\r\n\r\n\t\t\t\t\tif(this._settings.prerender){\r\n\t\t\t\t\t\tstartn.top -= this._scrollTop;\r\n\t\t\t\t\t\tendn.top -= this._scrollTop;\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tstartx = Math.min(startn.left, endn.left);\r\n\t\t\t\t\tendx = Math.max(startn.left+startWidth, endn.left+endWidth);\r\n\r\n\t\t\t\t\tstarty = Math.min(startn.top, endn.top);\r\n\t\t\t\t\tendy = Math.max(startn.top+startn.height, endn.top+endn.height);\r\n\r\n\t\t\t\t\tif(this._settings.topSplit)\r\n\t\t\t\t\t\tstarty += this._getTopSplitOffset(start);\r\n\r\n\t\t\t\t\tif (this._auto_scroll_delay)\r\n\t\t\t\t\t\tthis._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\r\n\t\t\t\t\tif(e)\r\n\t\t\t\t\t\tthis._auto_scroll_delay = webix.delay(this._auto_scroll, this, [webix.html.pos(e)], 250);\r\n\t\t\t\t}\r\n  \r\n\r\n\t\t\t\tvar style = this._block_panel.style;\r\n\t\t\t\tstyle.left = startx+\"px\";\r\n\t\t\t\tstyle.top = starty+\"px\";\r\n\t\t\t\tstyle.width = (endx-startx)+\"px\";\r\n\t\t\t\tstyle.height = (endy-starty)+\"px\";\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (theend)\r\n\t\t\tthis.callEvent(\"onAfterBlockSelect\", [start, end]);\r\n\t},\r\n\t_bs_start:function(e){\r\n\t\tthis._block_panel = webix.html.create(\"div\", {\"class\":\"webix_block_selection\"},\"\");\r\n\r\n\t\tthis._body.appendChild(this._block_panel);\r\n\t},\r\n\t_bs_move:function(e){\r\n\t\tif (this._bs_ready !== false){\r\n\t\t\tvar pos = webix.html.pos(e);\r\n\t\t\tvar progress = [pos.x - this._bs_position.x, pos.y - this._bs_position.y];\r\n\r\n\t\t\t//prevent unnecessary block selection while dbl-clicking\r\n\t\t\tif (Math.abs(this._bs_ready[0] - progress[0]) < 5 && Math.abs(this._bs_ready[1] - progress[1]) < 5)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tif (this._bs_progress === false)\r\n\t\t\t\tthis._bs_start(e);\r\n\r\n\t\t\tthis._bs_progress = progress;\r\n\t\t\tthis._bs_select(this.config.blockselect, false, e);\r\n\t\t}\r\n\t},\r\n\t_locate_cell_xy:function(x,y){\r\n\t\tvar inTopSplit = false,\r\n\t\t\trow = null,\r\n\t\t\tcolumn = null;\r\n\r\n\r\n\t\tif (this._right_width && x>this._left_width + this._center_width)\r\n\t\t\tx+= this._x_scroll.getSize()-this._center_width-this._left_width-this._right_width; \r\n\t\telse if (!this._left_width || x>this._left_width)\r\n\t\t\tx+= this._x_scroll.getScroll();\r\n\r\n\t\tif(this._settings.topSplit && this._render_scroll_top > this._settings.topSplit) {\r\n\t\t\tvar splitPos = this._cellPosition(this.getIdByIndex(this._settings.topSplit-1), this.columnId(0));\r\n\t\t\tif(splitPos.top + splitPos.height > y){\r\n\t\t\t\tinTopSplit = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(!inTopSplit)\r\n\t\t\ty += this.getScrollState().y;\r\n\r\n\t\tif (x<0) x=0;\r\n\t\tif (y<0) y=0;\r\n\r\n\t\tvar cols = this._settings.columns;\r\n\t\tvar rows = this.data.order;\r\n\r\n\t\tvar summ = 0; \r\n\t\tfor (var i=0; i<cols.length; i++){\r\n\t\t\tsumm+=cols[i].width;\r\n\t\t\tif (summ>=x){\r\n\t\t\t\tcolumn = cols[i].id;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!column)\r\n\t\t\tcolumn = cols[cols.length-1].id;\r\n\r\n\t\tsumm = 0;\r\n\r\n\t\tif (this._settings.fixedRowHeight){\r\n\t\t\trow = rows[Math.floor(y/this._settings.rowHeight)];\r\n\t\t} else for (var i=0; i<rows.length; i++){\r\n\t\t\tsumm+=this._getHeightByIndex(i);\r\n\t\t\tif (summ>=y){\r\n\t\t\t\trow = rows[i];\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!row)\r\n\t\t\trow = rows[rows.length-1];\r\n\r\n\t\treturn {row:row, column:column};\r\n\t},\r\n\t_getTopSplitOffset: function(cell, area){\r\n\t\tvar y = 0,\r\n\t\t\tstartIndex = this.getIndexById(cell.row);\r\n\r\n\t\tif(startIndex >= this._settings.topSplit){\r\n\t\t\tvar startPos = this._cellPosition(this.getIdByIndex(startIndex), cell.column);\r\n\t\t\tvar splitPos = this._cellPosition(this.getIdByIndex(this._settings.topSplit-1), cell.column);\r\n\t\t\tif(splitPos.top + splitPos.height - startPos.top > 0){\r\n\t\t\t\ty = splitPos.top + splitPos.height - (startPos.top>0 ||!area?startPos.top:0);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn y;\r\n\t}\r\n});\r\nwebix.protoUI({\r\n\tname:\"resizearea\",\r\n\tdefaults:{\r\n\t\tdir:\"x\"\r\n\t},\r\n\t$init:function(config){\r\n\t\tvar dir = config.dir||\"x\";\r\n\t\tvar node = webix.toNode(config.container);\r\n        var size = (dir==\"x\"?\"width\":\"height\");\r\n\t\tvar margin = (config.margin? config.margin+\"px\":0);\r\n\r\n\t\tthis._key_property = (dir == \"x\"?\"left\":\"top\");\r\n\r\n\t\tthis._viewobj = webix.html.create(\"DIV\",{\r\n\t\t\t\"class\"\t: \"webix_resize_area webix_dir_\"+dir\r\n\t\t});\r\n\t\t//[[COMPAT]] FF12 can produce 2 move events\r\n\t\twebix.event(this._viewobj, webix.env.mouse.down, webix.html.stopEvent);\r\n\r\n\t\tif(margin){\r\n\t\t\tif(dir==\"x\")\r\n\t\t\t\tmargin = margin+\" 0 \"+margin;\r\n\t\t\telse\r\n\t\t\t\tmargin = \"0 \"+margin+\" 0 \"+margin;\r\n\t\t}\r\n\t\tthis._dragobj = webix.html.create(\"DIV\",{\r\n\t\t\t\"class\"\t: \"webix_resize_handle_\"+dir,\r\n\t\t\t \"style\" : (margin?\"padding:\"+margin:\"\")\r\n\t\t},\"<div class='webix_handle_content'></div>\");\r\n\r\n\t\tthis._originobj = webix.html.create(\"DIV\",{\r\n\t\t\t\"class\"\t: \"webix_resize_origin_\"+dir\r\n\t\t});\r\n\r\n        if(config[size]){\r\n            this._originobj.style[size] = config[size]+(config.border?1:0)+\"px\";\r\n            this._dragobj.style[size] = config[size]+\"px\";\r\n        }\r\n\t\tif (config.cursor)\r\n\t\t\tthis._dragobj.style.cursor = this._originobj.style.cursor = this._viewobj.style.cursor = config.cursor;\r\n\t\tthis._moveev =\twebix.event(node, webix.env.mouse.move, this._onmove, {bind:this});\r\n\t\tthis._upev =\twebix.event(document.body, webix.env.mouse.up, this._onup, {bind:this});\r\n\r\n\t\tthis._dragobj.style[this._key_property] = this._originobj.style[this._key_property] = config.start+\"px\";\r\n\r\n\t\tnode.appendChild(this._viewobj);\r\n\t\tnode.appendChild(this._dragobj);\r\n\t\tnode.appendChild(this._originobj);\r\n\t},\r\n\t_onup:function(){\r\n\r\n\t\tthis.callEvent(\"onResizeEnd\", [this._last_result]);\r\n\r\n\t\twebix.eventRemove(this._moveev);\r\n\t\twebix.eventRemove(this._upev);\r\n\r\n\t\twebix.html.remove(this._viewobj);\r\n\t\twebix.html.remove(this._dragobj);\r\n\t\twebix.html.remove(this._originobj);\r\n\t\tthis._viewobj = this._dragobj = this._originobj = null;\r\n\t},\r\n\t_onmove:function(e){\r\n\t\tvar pos = webix.html.pos(e);\r\n\t\tthis._last_result = (this._settings.dir == \"x\" ? pos.x : pos.y)+this._settings.start-this._settings.eventPos;\r\n\t\tthis._dragobj.style[this._key_property] = this._last_result+\"px\";\r\n\t\tthis.callEvent(\"onResize\", [this._last_result]);\r\n\t}\r\n}, webix.EventSystem, webix.Settings);\r\nwebix.extend(webix.ui.datatable, {\r\n\r\n\tresizeRow_setter:function(value){\r\n\t\tthis._settings.scrollAlignY = false;\r\n\t\tthis._settings.fixedRowHeight = false;\r\n\t\treturn this.resizeColumn_setter(value);\r\n\t},\r\n\tresizeColumn_setter:function(value){\r\n\t\tif (value && this._rs_init_flag){\r\n\t\t\twebix.event(this._viewobj, \"mousemove\", this._rs_move, {bind:this});\r\n\t\t\twebix.event(this._viewobj, \"mousedown\", this._rs_down, {bind:this});\r\n\t\t\twebix.event(this._viewobj, \"mouseup\", this._rs_up, {bind:this});\r\n\t\t\tthis._rs_init_flag = false;\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\t_rs_init_flag:true,\r\n\t_rs_down:function(e){\r\n\t\t// do not listen to mousedown of subview on master\r\n\t\tif (this._settings.subview && this != webix.$$(e.target||e.srcElement)) return;\r\n\t\t//if mouse was near border\r\n\t\tif (!this._rs_ready) return;\r\n\t\tthis._rs_process = [webix.html.pos(e),this._rs_ready[2]];\r\n\t\twebix.html.addCss(document.body,\"webix_noselect\");\r\n\t\twebix.html.denySelect();\r\n\t},\r\n\t_rs_up:function(){\r\n\t\tthis._rs_process = false;\r\n\t\twebix.html.removeCss(document.body,\"webix_noselect\");\r\n\t\twebix.html.allowSelect();\r\n\t},\r\n\t_rs_start:function(e){\r\n\t\te = e||event;\r\n\t\tif(this._rs_progress)\r\n\t\t\treturn;\r\n\t\tvar dir  = this._rs_ready[0];\r\n\t\tvar node = this._rs_process[1];\r\n\t\tvar obj  = this._locate(node);\r\n\t\tif (!obj) return;\r\n\r\n\t\tvar eventPos = this._rs_process[0];\r\n\t\tvar start;\r\n\r\n\t\tif (dir == \"x\"){\r\n\t\t\tstart = webix.html.offset(node).x+this._rs_ready[1] - webix.html.offset(this._body).x;\r\n\t\t\teventPos = eventPos.x;\r\n\t\t\tif (!this._rs_ready[1]) obj.cind-=(node.parentNode.colSpan||1);\r\n\t\t} else {\r\n\t\t\tstart = webix.html.offset(node).y+this._rs_ready[1] - webix.html.offset(this._body).y+this._header_height;\r\n\t\t\teventPos = eventPos.y;\r\n\t\t\tif (!this._rs_ready[1]) obj.rind--;\r\n\t\t}\r\n\t\tif (obj.cind>=0 && obj.rind>=0){\r\n\t\t\tthis._rs_progress = [dir, obj, start];\r\n\t\t\t\r\n\t\t\tvar resize = new webix.ui.resizearea({\r\n\t\t\t\tcontainer:this._viewobj,\r\n\t\t\t\tdir:dir,\r\n\t\t\t\teventPos:eventPos,\r\n\t\t\t\tstart:start,\r\n\t\t\t\tcursor:(dir == \"x\"?\"e\":\"n\")+\"-resize\"\r\n\t\t\t});\r\n\t\t\tresize.attachEvent(\"onResizeEnd\", webix.bind(this._rs_end, this));\r\n\t\t}\r\n\t\tthis._rs_down = this._rs_ready = false;\r\n\t},\r\n\t_rs_end:function(result){\r\n\t\tif (this._rs_progress){\r\n\t\t\tvar dir = this._rs_progress[0];\r\n\t\t\tvar obj = this._rs_progress[1];\r\n\t\t\tvar newsize = result-this._rs_progress[2];\r\n\t\t\tif (dir == \"x\"){\r\n\t\t\t\t\r\n\t\t\t\t//in case of right split - different sizing logic applied\r\n\t\t\t\tif (this._settings.rightSplit && obj.cind+1>=this._rightSplit &&\r\n\t\t\t\t\tobj.cind !== this._columns.length - 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tobj.cind++;\r\n\t\t\t\t\tnewsize *= -1;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar column = this._columns[obj.cind];\r\n\t\t\t\tvar oldwidth = column.width;\r\n\t\t\t\tdelete column.fillspace;\r\n\t\t\t\tthis._setColumnWidth(obj.cind, oldwidth + newsize, true, true);\r\n\t\t\t\tthis._updateColsSizeSettings();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar rid = this.getIdByIndex(obj.rind);\r\n\t\t\t\tvar oldheight = this._getRowHeight(this.getItem(rid));\r\n\t\t\t\tthis.setRowHeight(rid, oldheight + newsize);\r\n\t\t\t}\r\n\t\t\tthis._rs_up();\r\n\t\t}\r\n\t\tthis._rs_progress = null;\r\n\t},\r\n\t_rs_move:function(e){\r\n\t\tvar cell= null,\r\n\t\t\tconfig = this._settings;\r\n\t\tif (this._rs_ready && this._rs_process)\r\n\t\t\treturn this._rs_start(e);\r\n\r\n\t\te = e||event;\r\n\t\tvar node = e.target||e.srcElement;\r\n\t\tvar mode = false; //resize ready flag\r\n\r\n\t\tif (node.tagName == \"TD\" || node.tagName == \"TABLE\") return ;\r\n\t\tvar element_class = node.className||\"\";\r\n\t\tvar in_body = typeof element_class === \"string\" && element_class.indexOf(\"webix_cell\")!=-1;\r\n\t\t//ignore resize in case of drag-n-drop enabled\r\n\t\tif (in_body && config.drag) return;\r\n\t\tvar in_header = typeof element_class === \"string\" && element_class.indexOf(\"webix_hcell\")!=-1;\r\n\t\tthis._rs_ready = false;\r\n\t\t\r\n\t\tif (in_body || in_header){\r\n\t\t\tvar dx = node.offsetWidth;\r\n\t\t\tvar dy = node.offsetHeight;\r\n\t\t\tvar pos = webix.html.posRelative(e);\r\n\r\n\t\t\tvar resizeRow = config.resizeRow;\r\n\t\t\t// if resize is only within the first column\r\n\t\t\tif(typeof resizeRow == \"object\" && resizeRow.headerOnly){\r\n\t\t\t\tcell = this._locate(node);\r\n\t\t\t\tif(cell.cind >0)\r\n\t\t\t\t\tresizeRow = false;\r\n\t\t\t}\r\n\r\n\t\t\tif (in_body && resizeRow){\r\n\t\t\t\tresizeRow = (typeof resizeRow == \"object\" && resizeRow.size?resizeRow.size:3);\r\n\t\t\t\tif (pos.y<resizeRow){\r\n\t\t\t\t\tif(!cell)\r\n\t\t\t\t\t\tcell = this._locate(node);\r\n\t\t\t\t\t// avoid resize header border\r\n\t\t\t\t\tif(cell.rind){\r\n\t\t\t\t\t\tthis._rs_ready = [\"y\", 0, node];\r\n\t\t\t\t\t\tmode = \"n-resize\";\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (dy-pos.y<resizeRow+1){\r\n\t\t\t\t\tthis._rs_ready = [\"y\", dy, node];\r\n\t\t\t\t\tmode = \"n-resize\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar resizeColumn = config.resizeColumn;\r\n\t\t\t// if resize is only within the header\r\n\t\t\tif(typeof resizeColumn == \"object\" && resizeColumn.headerOnly && in_body)\r\n\t\t\t\tresizeColumn = false;\r\n\r\n\t\t\tif (resizeColumn){\r\n\t\t\t\tresizeColumn = (typeof resizeColumn == \"object\" && resizeColumn.size?resizeColumn.size:3);\r\n\r\n\t\t\t\tif (pos.x<resizeColumn){\r\n\t\t\t\t\tthis._rs_ready = [\"x\", 0, node];\r\n\t\t\t\t\tmode = \"e-resize\";\r\n\t\t\t\t} else if (dx-pos.x<resizeColumn+1){\r\n\t\t\t\t\tthis._rs_ready = [\"x\", dx, node];\r\n\t\t\t\t\tmode = \"e-resize\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//mark or unmark resizing ready state\r\n\t\tif (this._cursor_timer) window.clearTimeout(this._cursor_timer);\r\n\t\tthis._cursor_timer = webix.delay(this._mark_resize_ready, this, [mode], mode?100:0);\r\n\t},\r\n\r\n\t_mark_resize_ready:function(mode){\r\n\t\tif (this._last_cursor_mode != mode){\r\n\t\t\tthis._last_cursor_mode = mode;\r\n\t\t\tthis._viewobj.style.cursor=mode||\"default\";\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\nwebix.extend(webix.ui.datatable,webix.PagingAbility);\r\n\r\nwebix.csv = {\r\n\tescape:true,\r\n\tdelimiter:{\r\n\t\trows: \"\\n\",\r\n\t\tcols: \"\\t\"\r\n\t},\r\n\tparse:function(text, sep){\r\n\t\tsep = sep||this.delimiter;\r\n\t\tif (!this.escape)\r\n\t\t\treturn this._split_clip_data(text, sep);\r\n\r\n\t\tvar lines = text.replace(/\\n$/,\"\").split(sep.rows);\r\n\r\n\t\tvar i = 0;\r\n\t\twhile (i < lines.length - 1) {\r\n\t\t\tif (this._substr_count(lines[i], '\"') % 2 === 1) {\r\n\t\t\t\tlines[i] += sep.rows + lines[i + 1];\r\n\t\t\t\tdelete lines[i + 1];\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t\tvar csv = [];\r\n\t\tfor (i = 0; i < lines.length; i++) {\r\n\t\t\tif (typeof(lines[i]) !== 'undefined') {\r\n\t\t\t\tvar line = lines[i].split(sep.cols);\r\n\t\t\t\tfor (var j = 0; j < line.length; j++) {\r\n\t\t\t\t\tif (line[j].indexOf('\"') === 0)\r\n\t\t\t\t\t\tline[j] = line[j].substr(1, line[j].length - 2);\r\n\t\t\t\t\tline[j] = line[j].replace('\"\"', '\"');\r\n\t\t\t\t}\r\n\t\t\t\tcsv.push(line);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn csv;\r\n\t},\r\n\t_split_clip_data: function(text, sep) {\r\n\t\tvar lines = text.split(sep.rows);\r\n\t\tfor (var i = 0; i < lines.length; i++) {\r\n\t\t\tlines[i] = lines[i].split(sep.cols);\r\n\t\t}\r\n\t\treturn lines;\r\n\t},\r\n\t/*! counts how many occurances substring in string **/\r\n\t_substr_count: function(string, substring) {\r\n\t\tvar arr = string.split(substring);\r\n\t\treturn arr.length - 1;\r\n\t},\r\n\tstringify:function(data, sep){\r\n\t\tsep = sep||this.delimiter;\r\n\r\n\t\tif (!this.escape){\r\n\t\t\tfor (var i = 0; i < data.length; i++)\r\n\t\t\t\tdata[i] = data[i].join(sep.cols);\r\n\t\t\treturn data.join(sep.rows);\r\n\t\t}\r\n\r\n\t\tvar reg = /\\n|\\\"|;|,/;\r\n\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\tfor (var j = 0; j < data[i].length; j++) {\r\n\t\t\t\tif (reg.test(data[i][j])) {\r\n\t\t\t\t\tdata[i][j] = data[i][j].replace(/\"/g, '\"\"');\r\n\t\t\t\t\tdata[i][j] = '\"' + data[i][j] + '\"';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdata[i] = data[i].join(sep.cols);\r\n\t\t}\r\n\t\tdata = data.join(sep.rows);\r\n\t\treturn data;\r\n\t}\r\n};\r\n\r\nwebix.TablePaste = {\r\n\tclipboard_setter:function(value){\r\n\t\tif (value === true || value === 1) this._settings.clipboard = 'block';\r\n\t\twebix.clipbuffer.init();\r\n\t\tthis.attachEvent(\"onSelectChange\",this._sel_to_clip);\r\n\t\t// solution for clicks on selected items\r\n\t\tthis.attachEvent(\"onItemClick\",function(id,e,node){\r\n\t\t\tif(!document.activeElement || !this.$view.contains(document.activeElement)){\r\n\t\t\t\twebix.clipbuffer.focus();\r\n\t\t\t\twebix.UIManager.setFocus(this);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.attachEvent(\"onPaste\", this._clip_to_sel);\r\n\r\n\t\treturn value;\r\n\t},\r\n\r\n\t_sel_to_clip: function() {\r\n\t\tif (!this.getEditor || !this.getEditor()){\r\n\t\t\tvar data = this._get_sel_text();\r\n\t\t\twebix.clipbuffer.set(data);\r\n\t\t\twebix.UIManager.setFocus(this);\r\n\t\t}\r\n\t},\r\n\r\n\t_get_sel_text: function() {\r\n\t\tvar data = [];\r\n\t\tthis.mapSelection(function(value, row, col, row_ind, col_ind) {\r\n\t\t\tif (!data[row_ind]) data[row_ind] = [];\r\n\t\t\tdata[row_ind].push(value);\r\n\t\t\treturn value;\r\n\t\t});\r\n\r\n\t\treturn webix.csv.stringify(data, this._settings.delimiter);\r\n\t},\r\n\r\n\t_clip_to_sel: function(text) {\r\n\t\tif (!webix.isUndefined(this._paste[this._settings.clipboard])) {\r\n\t\t\tvar data = webix.csv.parse(text, this._settings.delimiter);\r\n\t\t\tthis._paste[this._settings.clipboard].call(this, data);\r\n\t\t}\r\n\t},\r\n\r\n\t_paste: {\r\n\t\tblock: function(data) {\r\n\t\t\tvar leftTop = this.mapSelection(null);\r\n\t\t\tif (!leftTop) return;\r\n\r\n\t\t\t// filling cells with data\r\n\t\t\tthis.mapCells(leftTop.row, leftTop.column, data.length, null, function(value, row, col, row_ind, col_ind) {\r\n\t\t\t\tif (data[row_ind] && data[row_ind].length>col_ind) {\r\n\t\t\t\t\treturn data[row_ind][col_ind];\r\n\t\t\t\t}\r\n\t\t\t\treturn value;\r\n\t\t\t});\r\n\t\t\tthis.render();\r\n\t\t},\r\n\r\n\t\tselection: function(data) {\r\n\t\t\tthis.mapSelection(function(value, row, col, row_ind, col_ind) {\r\n\t\t\t\tif (data[row_ind] && data[row_ind].length>col_ind)\r\n\t\t\t\t\treturn data[row_ind][col_ind];\r\n\t\t\t\treturn value;\r\n\t\t\t});\r\n\t\t\tthis.render();\r\n\t\t},\r\n\r\n\t\trepeat: function(data) {\r\n\t\t\tthis.mapSelection(function(value, row, col, row_ind, col_ind) {\r\n\t\t\t\trow = data[row_ind%data.length];\r\n\t\t\t\tvalue = row[col_ind%row.length];\r\n\t\t\t\treturn value;\r\n\t\t\t});\r\n\t\t\tthis.render();\r\n\t\t},\r\n\r\n\t\tcustom: function(text) {}\r\n\t}\r\n};\r\n\r\nwebix.extend(webix.ui.datatable, webix.TablePaste);\r\nif(!webix.storage)\r\n\twebix.storage = {};\r\n\r\nwebix.storage.local = {\r\n\tput:function(name, data){\r\n\t\tif(name && window.JSON && window.localStorage){\r\n\t\t\twindow.localStorage.setItem(name, window.JSON.stringify(data));\r\n\t\t}\r\n\t},\r\n\tget:function(name){\r\n\t\tif(name && window.JSON && window.localStorage){\r\n\t\t\tvar json = window.localStorage.getItem(name);\r\n\t\t\tif(!json)\r\n\t\t\t\treturn null;\r\n\t\t\treturn webix.DataDriver.json.toObject(json);\r\n\t\t}else\r\n\t\t\treturn null;\r\n\t},\r\n\tremove:function(name){\r\n\t\tif(name && window.JSON && window.localStorage){\r\n\t\t\twindow.localStorage.removeItem(name);\r\n\t\t}\r\n\t},\r\n\tclear:function(){\r\n\t\twindow.localStorage.clear();\r\n\t}\r\n};\r\n\r\nwebix.storage.session = {\r\n\tput:function(name, data){\r\n\t\tif(name && window.JSON && window.sessionStorage){\r\n\t\t\twindow.sessionStorage.setItem(name, window.JSON.stringify(data));\r\n\t\t}\r\n\t},\r\n\tget:function(name){\r\n\t\tif(name && window.JSON && window.sessionStorage){\r\n\t\t\tvar json = window.sessionStorage.getItem(name);\r\n\t\t\tif(!json)\r\n\t\t\t\treturn null;\r\n\t\t\treturn webix.DataDriver.json.toObject(json);\r\n\t\t}else\r\n\t\t\treturn null;\r\n\t},\r\n\tremove:function(name){\r\n\t\tif(name && window.JSON && window.sessionStorage){\r\n\t\t\twindow.sessionStorage.removeItem(name);\r\n\t\t}\r\n\t},\r\n\tclear:function(){\r\n\t\twindow.sessionStorage.clear();\r\n\t}\r\n};\r\n\r\nwebix.storage.cookie = {\r\n\tput:function(name, data, domain, expires ){\r\n\t\tif(name && window.JSON){\r\n\t\t\tdocument.cookie = name + \"=\" + escape(window.JSON.stringify(data)) +\r\n\t\t\t(( expires && (expires instanceof Date)) ? \";expires=\" + expires.toUTCString() : \"\" ) +\r\n\t\t\t(( domain ) ? \";domain=\" + domain : \"\" ) + \r\n\t\t\t(( webix.env.https ) ? \";secure\" : \"\");\r\n\t\t}\r\n\t},\r\n\t_get_cookie:function(check_name){\r\n\t\t// first we'll split this cookie up into name/value pairs\r\n\t\t// note: document.cookie only returns name=value, not the other components\r\n\t\tvar a_all_cookies = document.cookie.split( ';' );\r\n\t\tvar a_temp_cookie = '';\r\n\t\tvar cookie_name = '';\r\n\t\tvar cookie_value = '';\r\n\t\tvar b_cookie_found = false; // set boolean t/f default f\r\n\r\n\t\tfor (var i = 0; i < a_all_cookies.length; i++ ){\r\n\t\t\t// now we'll split apart each name=value pair\r\n\t\t\ta_temp_cookie = a_all_cookies[i].split( '=' );\r\n\r\n\t\t\t// and trim left/right whitespace while we're at it\r\n\t\t\tcookie_name = a_temp_cookie[0].replace(/^\\s+|\\s+$/g, '');\r\n\r\n\t\t\t// if the extracted name matches passed check_name\r\n\t\t\tif (cookie_name == check_name ){\r\n\t\t\t\tb_cookie_found = true;\r\n\t\t\t\t// we need to handle case where cookie has no value but exists (no = sign, that is):\r\n\t\t\t\tif ( a_temp_cookie.length > 1 ){\r\n\t\t\t\t\tcookie_value = unescape( a_temp_cookie[1].replace(/^\\s+|\\s+$/g, '') );\r\n\t\t\t\t}\r\n\t\t\t\t// note that in cases where cookie is initialized but no value, null is returned\r\n\t\t\t\treturn cookie_value;\r\n\t\t\t}\r\n\t\t\ta_temp_cookie = null;\r\n\t\t\tcookie_name = '';\r\n\t\t}\r\n\t\tif ( !b_cookie_found ){\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\tget:function(name){\r\n\t\tif(name && window.JSON){\r\n\t\t\tvar json = this._get_cookie(name);\r\n\t\t\tif(!json)\r\n\t\t\t\treturn null;\r\n\t\t\treturn webix.DataDriver.json.toObject(unescape(json));\r\n\t\t}else\r\n\t\t\treturn null;\r\n\t},\r\n\tremove:function(name, domain){\r\n\t\tif(name && this._get_cookie(name)) \r\n\t\t\tdocument.cookie = name + \"=\" + (( domain ) ? \";domain=\" + domain : \"\") + \";expires=Thu, 01-Jan-1970 00:00:01 GMT\";\r\n\t},\r\n\tclear:function(domain){\r\n\t\tvar cookies = document.cookie.split(\";\");\r\n\t\tfor (var i = 0; i < cookies.length; i++)\r\n\t\t\tdocument.cookie = /^[^=]+/.exec(cookies[i])[0] + \"=\" + (( domain ) ? \";domain=\" + domain : \"\") + \";expires=Thu, 01-Jan-1970 00:00:01 GMT\";\t\t\r\n\t}\r\n};\r\n\r\nwebix.DataState = {\r\n\tgetState:function(){\r\n\t\tvar cols_n = this.config.columns.length;\r\n\t\tvar columns = this.config.columns;\r\n\t\tvar settings = { \r\n\t\t\tids:[],\r\n\t\t\tsize:[],\r\n\t\t\tselect:this.getSelectedId(true),\r\n            scroll:this.getScrollState()\r\n\t\t};\r\n\t\tfor(var i = 0; i < cols_n; i++){\r\n\t\t\tsettings.ids.push(columns[i].id);\r\n\t\t\tsettings.size.push(columns[i].width);\r\n\t\t}\r\n\r\n\t\tsettings.order = [].concat(this._hidden_column_order.length ? this._hidden_column_order : settings.ids);\r\n\r\n\t\tif(this._last_sorted){\r\n\t\t\tsettings.sort={\r\n\t\t\t\tid:this._last_sorted,\r\n\t\t\t\tdir:this._last_order\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (this._filter_elements) {\r\n\t\t\tvar filter = {};\r\n\t\t\tvar any_filter = 0;\r\n\t\t\tfor (var key in this._filter_elements) {\r\n\t\t\t\tif (this._hidden_column_hash[key]) continue;\r\n\r\n\t\t\t\tvar f = this._filter_elements[key];\r\n\t\t\t\tf[1].value = filter[key] = f[2].getValue(f[0]);\r\n\t\t\t\tany_filter = 1;\r\n\t\t\t}\r\n\t\t\tif (any_filter)\r\n\t\t\t\tsettings.filter=filter;\r\n\t\t}\r\n\r\n\t\tsettings.hidden = [];\r\n\t\tfor (var key in this._hidden_column_hash)\r\n\t\t\tsettings.hidden.push(key);\r\n\t\t\r\n\t\treturn settings;\r\n\t},\r\n\tsetState:function(obj){\r\n\t\tvar columns = this.config.columns;\r\n\t\tif(!obj) return;\r\n\r\n\t\tthis._last_sorted = null; \r\n\t\tthis.blockEvent();\r\n\r\n        if (obj.hidden){\r\n            var hihash = {};\r\n            for (var i=0; i<obj.hidden.length; i++){\r\n                hihash[obj.hidden[i]] = true;\r\n                if(!this._hidden_column_order.length)\r\n                    this.hideColumn(obj.hidden[i]);\r\n            }\r\n\r\n            if(this._hidden_column_order.length){\r\n                for (var i=0; i<this._hidden_column_order.length; i++){\r\n                    var hikey = this._hidden_column_order[i];\r\n                    if (!!hihash[hikey] == !this._hidden_column_hash[hikey])\r\n                        this.hideColumn(hikey, !!hihash[hikey]);\r\n                }\r\n            }\r\n        }\r\n\r\n\t\tif (obj.ids){\r\n\t\t\tvar reorder = false;\r\n\t\t\tvar cols = this.config.columns;\r\n\t\t\tfor (var i=0; i<cols.length; i++)\r\n\t\t\t\tif (cols[i].id != obj.ids[i])\r\n\t\t\t\t\treorder = true;\r\n\t\t\tif (reorder){\r\n\t\t\t\tfor (var i=0; i<obj.ids.length; i++)\r\n\t\t\t\t\tcols[i] = this.getColumnConfig(obj.ids[i]) || cols[i];\r\n\t\t\t\tthis.refreshColumns();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (obj.size){\r\n\t\t\tvar cols_n = Math.min(obj.size.length, columns.length);\r\n\t\t\tfor(var i = 0; i < cols_n; i++){\r\n\t\t\t\tif(columns[i] && columns[i].width != obj.size[i])\r\n\t\t\t\t\tthis._setColumnWidth( i, obj.size[i], true);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (obj.filter){\r\n\t\t\tfor (var key in this._filter_elements){\r\n\t\t\t\tvar f = this._filter_elements[key];\r\n\t\t\t\tf[2].setValue(f[0], \"\");\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.unblockEvent();\r\n\t\tthis._updateColsSizeSettings(true);\r\n\t\tthis.callEvent(\"onStructureUpdate\", []);\r\n\r\n\t\tif(obj.sort){\r\n\t\t\tvar column = columns[this.getColumnIndex(obj.sort.id)];\r\n\t\t\tif (column)\r\n\t\t\t\tthis._sort(obj.sort.id, obj.sort.dir, column.sort);\t\r\n\t\t}\r\n\t\t\t\t\r\n\t\tif (obj.filter){\r\n\t\t\tfor (var key in obj.filter) {\r\n\t\t\t\tvar value = obj.filter[key];\r\n\t\t\t\tif (!value) continue;\r\n\r\n\t\t\t\tif (!this._filter_elements[key]) continue;\r\n\t\t\t\tvar f = this._filter_elements[key];\r\n\t\t\t\tf[2].setValue(f[0], value);\r\n\t\t\t\tvar contentid = f[1].contentId;\r\n\t\t\t\tif (contentid)\r\n\t\t\t\t\tthis._active_headers[contentid].value = value;\r\n\t\t\t}\r\n\t\t\tthis.filterByAll();\r\n\t\t}\r\n\r\n\t\tif (obj.select && this.select){\r\n\t\t\tvar select = obj.select;\r\n\t\t\tthis.unselect();\r\n\t\t\tfor (var i = 0; i < select.length; i++)\r\n\t\t\t\tif (!select[i].row || this.exists(select[i].row))\r\n\t\t\t\t\tthis._select(select[i], true);\r\n\t\t}\r\n\r\n        if(obj.scroll)\r\n            this.scrollTo(obj.scroll.x, obj.scroll.y);\r\n\t}\r\n};\r\n\r\nwebix.extend(webix.ui.datatable, webix.DataState);\r\n\r\n\r\n(function(){\r\nvar t = webix.Touch = {\r\n\tconfig:{\r\n\t\tlongTouchDelay:1000,\r\n\t\tscrollDelay:150,\r\n\t\tgravity:500,\r\n\t\tdeltaStep:30,\r\n\t\tspeed:\"0ms\",\r\n\t\tfinish:1500,\r\n\t\tellastic:true\r\n\t},\r\n\tlimit:function(value){\r\n\t\tt._limited = value !== false;\t\r\n\t},\r\n\tdisable:function(){\r\n\t\tt._disabled = true;\r\n\t},\r\n\tenable:function(){\r\n\t\tt._disabled = false;\r\n\t},\r\n\t$init:function(){\r\n\t\tt.$init = function(){};\r\n\r\n\t\twebix.event(document.body, mouse.down,\tt._touchstart);\r\n\t\twebix.event(document.body, mouse.move, \tt._touchmove);\r\n\t\twebix.event(document.body, mouse.up, \tt._touchend);\r\n\r\n\t\twebix.event(document.body,\"dragstart\",function(e){\r\n\t\t\treturn webix.html.preventEvent(e);\r\n\t\t});\r\n\t\twebix.event(document.body,\"touchstart\",function(e){\r\n\t\t\tif (t._disabled || t._limited) return;\r\n\t\t\t//fast click mode for iOS\r\n\t\t\t//To have working form elements Android must not block event - so there are no fast clicks for Android\r\n\t\t\t//Selects still don't work with fast clicks\r\n\t\t\tif (webix.env.isSafari) {\r\n\t\t\t\tvar tag = e.srcElement.tagName.toLowerCase();\r\n\t\t\t\tif (tag == \"input\" || tag == \"textarea\" || tag == \"select\" || tag==\"label\")\r\n\t\t\t\t\treturn true;\r\n\r\n\t\t\t\tt._fire_fast_event = true;\r\n\t\t\t\treturn webix.html.preventEvent(e);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tt._clear_artefacts();\r\n\t\tt._scroll = [null, null];\r\n\t\tt.$active = true;\r\n\t},\r\n\t_clear_artefacts:function(){\r\n\t\tt._start_context = t._current_context = t._prev_context = t._scroll_context = null;\r\n\t\tt._scroll_mode = t._scroll_node = t._scroll_stat = this._long_touched = null;\r\n\t\t//webix.html.remove(t._scroll);\r\n\t\t//t._scroll = [null, null];\r\n\t\tt._delta = \t{ _x_moment:0, _y_moment:0, _time:0 };\r\n\r\n\t\tif (t._css_button_remove){\r\n\t\t\twebix.html.removeCss(t._css_button_remove,\"webix_touch\");\r\n\t\t\tt._css_button_remove = null;\r\n\t\t}\r\n\t\t\r\n\t\twindow.clearTimeout(t._long_touch_timer);\r\n\t\tt._was_not_moved = true;\r\n\t\tt._axis_x = true;\r\n\t\tt._axis_y = true;\r\n\t\tif (!t._active_transion)\r\n\t\t\tt._scroll_end();\r\n\t},\r\n\t_touchend:function(e){\r\n\t\tif (t._start_context) {\r\n\t\t\tif (!t._scroll_mode) {\r\n\t\t\t\tif (!this._long_touched) {\r\n\t\t\t\t\tif (t._axis_y && !t._axis_x) {\r\n\t\t\t\t\t\tt._translate_event(\"onSwipeX\");\r\n\t\t\t\t\t} else if (t._axis_x && !t._axis_y) {\r\n\t\t\t\t\t\tt._translate_event(\"onSwipeY\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (webix.env.isSafari && t._fire_fast_event) { //need to test for mobile ff and blackbery\r\n\t\t\t\t\t\t\tt._fire_fast_event = false;\r\n\t\t\t\t\t\t\tvar target = t._start_context.target;\r\n\r\n\t\t\t\t\t\t\t//dark iOS magic, without delay it can skip repainting\r\n\t\t\t\t\t\t\twebix.delay(function () {\r\n\t\t\t\t\t\t\t\tvar click_event = document.createEvent('MouseEvents');\r\n\t\t\t\t\t\t\t\tclick_event.initEvent('click', true, true);\r\n\t\t\t\t\t\t\t\ttarget.dispatchEvent(click_event);\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\r\n\t\t\t\tvar temp = t._get_matrix(t._scroll_node);\r\n\t\t\t\tvar x = temp.e;\r\n\t\t\t\tvar y = temp.f;\r\n\t\t\t\tvar finish = t.config.finish;\r\n\r\n\t\t\t\tvar delta = t._get_delta(e, true);\r\n\t\t\t\tvar view = webix.$$(t._scroll_node);\r\n\r\n\t\t\t\tvar gravity = (view && view.$scroll ? view.$scroll.gravity : t.config.gravity);\r\n\t\t\t\tif (delta._time) {\r\n\t\t\t\t\tvar nx = x + gravity * delta._x_moment / delta._time;\r\n\t\t\t\t\tvar ny = y + gravity * delta._y_moment / delta._time;\r\n\r\n\t\t\t\t\tvar cnx = t._scroll[0] ? t._correct_minmax(nx, false, false, t._scroll_stat.dx, t._scroll_stat.px) : x;\r\n\t\t\t\t\tvar cny = t._scroll[1] ? t._correct_minmax(ny, false, false, t._scroll_stat.dy, t._scroll_stat.py) : y;\r\n\r\n\r\n\t\t\t\t\tvar size = Math.max(Math.abs(cnx - x), Math.abs(cny - y));\r\n\t\t\t\t\tif (size < 150)\r\n\t\t\t\t\t\tfinish = finish * size / 150;\r\n\r\n\t\t\t\t\tif (cnx != x || cny != y)\r\n\t\t\t\t\t\tfinish = Math.round(finish * Math.max((cnx - x) / (nx - x), (cny - y) / (ny - y)));\r\n\r\n\t\t\t\t\tvar result = {e: cnx, f: cny};\r\n\r\n\r\n\t\t\t\t\tvar view = webix.$$(t._scroll_node);\r\n\t\t\t\t\tif (view && view.adjustScroll)\r\n\t\t\t\t\t\tview.adjustScroll(result);\r\n\r\n\r\n\t\t\t\t\t//finish = Math.max(100,(t._fast_correction?100:finish));\r\n\t\t\t\t\tfinish = Math.max(100, finish);\r\n\r\n\r\n\t\t\t\t\tif (x != result.e || y != result.f) {\r\n\t\t\t\t\t\tt._set_matrix(t._scroll_node, result.e, result.f, finish + \"ms\");\r\n\t\t\t\t\t\tif (t._scroll_master)\r\n\t\t\t\t\t\t\tt._scroll_master._sync_scroll(result.e, result.f, finish + \"ms\");\r\n\t\t\t\t\t\tt._set_scroll(result.e, result.f, finish + \"ms\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tt._scroll_end();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else\r\n\t\t\t\t\tt._scroll_end();\r\n\t\t\t}\r\n\t\t\tt._translate_event(\"onTouchEnd\");\r\n\t\t\tt._clear_artefacts();\r\n\t\t}\r\n\t},\r\n\t_touchmove:function(e){\r\n\t\tif (!t._scroll_context || !t._start_context) return;\r\n\r\n\t\tvar\tdelta = t._get_delta(e);\r\n\t\tt._translate_event(\"onTouchMove\");\r\n\r\n\t\tif (t._scroll_mode){\r\n\t\t\tt._set_scroll_pos(delta);\r\n\t\t} else {\r\n\t\t\tt._axis_x = t._axis_check(delta._x, \"x\", t._axis_x);\r\n\t\t\tt._axis_y = t._axis_check(delta._y, \"y\", t._axis_y);\r\n\t\t\tif (t._scroll_mode){\r\n\t\t\t\tvar view = t._get_event_view(\"onBeforeScroll\", true);\r\n\t\t\t\tif (view){\r\n\t\t\t\t\tvar data = {};\r\n\t\t\t\t\tview.callEvent(\"onBeforeScroll\",[data]);\r\n\t\t\t\t\tif (data.update){\r\n\t\t\t\t\t\tt.config.speed = data.speed;\r\n\t\t\t\t\t\tt.config.scale = data.scale;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tt._init_scroller(delta); //apply scrolling\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn webix.html.preventEvent(e);\r\n\t},\r\n\t_set_scroll_pos:function(){\r\n\t\tif (!t._scroll_node) return;\r\n\t\tvar temp = t._get_matrix(t._scroll_node);\r\n\t\tvar be = temp.e, bf = temp.f;\r\n\t\tvar prev = t._prev_context || t._start_context;\r\n\r\n\t\tvar view = webix.$$(t._scroll_node);\r\n\t\tvar ellastic = (view&&view.$scroll)?view.$scroll.ellastic: t.config.ellastic;\r\n\t\tif (t._scroll[0])\r\n\t\t\ttemp.e = t._correct_minmax( temp.e - prev.x + t._current_context.x , ellastic, temp.e, t._scroll_stat.dx, t._scroll_stat.px);\r\n\t\tif (t._scroll[1])\r\n\t\t\ttemp.f = t._correct_minmax( temp.f - prev.y + t._current_context.y , ellastic, temp.f, t._scroll_stat.dy, t._scroll_stat.py);\r\n\r\n\t\tt._set_matrix(t._scroll_node, temp.e, temp.f, \"0ms\");\r\n\t\tif (t._scroll_master)\r\n\t\t\tt._scroll_master._sync_scroll(temp.e, temp.f, \"0ms\");\r\n\t\tt._set_scroll(temp.e, temp.f, \"0ms\");\r\n\t},\r\n\t_set_scroll:function(dx, dy, speed){\r\n\t\t\r\n\t\tvar edx = t._scroll_stat.px/t._scroll_stat.dx * -dx;\r\n\t\tvar edy = t._scroll_stat.py/t._scroll_stat.dy * -dy;\r\n\t\tif (t._scroll[0])\r\n\t\t\tt._set_matrix(t._scroll[0], edx, 0 ,speed);\r\n\t\tif (t._scroll[1])\r\n\t\t\tt._set_matrix(t._scroll[1], 0, edy ,speed);\r\n\t},\r\n\tscrollTo:function(node, x, y, speed){\r\n\t\tt._set_matrix(node,x,y,speed);\r\n\t},\r\n\t_set_matrix:function(node, xv, yv, speed){\r\n\t\tif(!t._in_anim_frame && window.setAnimationFrame){\r\n\t\t\twindow.setAnimationFrame(function(){\r\n\t\t\t\tt._in_anim_frame = true;\r\n\t\t\t\treturn t._set_matrix(node, xv, yv, speed);\r\n\t\t\t});\r\n\t\t}\r\n\t\tt._in_anim_frame = null;\r\n\t\tt._active_transion = true;\r\n\t\tif (node){\r\n\t\t\tvar trans = t.config.translate || webix.env.translate;\r\n\t\t\tnode.style[webix.env.transform] = trans+\"(\"+Math.round(xv)+\"px, \"+Math.round(yv)+\"px\"+((trans==\"translate3d\")?\", 0\":\"\")+\")\";\r\n\t\t\tnode.style[webix.env.transitionDuration] = speed;\r\n\t\t}\r\n\t},\r\n\t_get_matrix:function(node){\r\n\t\tvar matrix = window.getComputedStyle(node)[webix.env.transform];\r\n\t\tvar tmatrix;\r\n\r\n\t\tif (matrix == \"none\")\r\n\t\t\ttmatrix = {e:0, f:0};\r\n\t\telse {\r\n            if(window.WebKitCSSMatrix)\r\n                tmatrix = new WebKitCSSMatrix(matrix);\r\n            else if (window.MSCSSMatrix)\r\n            \ttmatrix = new MSCSSMatrix(matrix);\r\n\t\t\telse {\r\n\t            // matrix(1, 0, 0, 1, 0, 0) --> 1, 0, 0, 1, 0, 0\r\n\t            var _tmatrix = matrix.replace(/(matrix\\()(.*)(\\))/gi, \"$2\");\r\n\t            // 1, 0, 0, 1, 0, 0 --> 1,0,0,1,0,0\r\n\t            _tmatrix = _tmatrix.replace(/\\s/gi, \"\");\r\n\t            _tmatrix = _tmatrix.split(',');\r\n\r\n\t            var tmatrix = {};\r\n\t            var tkey = ['a', 'b', 'c', 'd', 'e', 'f'];\r\n\t            for(var i=0; i<tkey.length; i++){\r\n\t                tmatrix[tkey[i]] = parseInt(_tmatrix[i], 10);\r\n\t            }\r\n\t        }\r\n        }\r\n\r\n        if (t._scroll_master)\r\n        \tt._scroll_master._sync_pos(tmatrix);\r\n\r\n        return tmatrix;\r\n\t},\t\r\n\t_correct_minmax:function(value, allow, current, dx, px){\r\n\t\tif (value === current) return value;\r\n\t\t\r\n\t\tvar delta = Math.abs(value-current);\r\n\t\tvar sign = delta/(value-current);\r\n\t//\tt._fast_correction = true;\r\n\t\t\r\n\t\t\r\n\t\tif (value>0) return allow?(current + sign*Math.sqrt(delta)):0;\r\n\t\t\r\n\t\tvar max = dx - px;\r\n\t\tif (max + value < 0)\t\r\n\t\t\treturn allow?(current - Math.sqrt(-(value-current))):-max;\r\n\t\t\t\r\n\t//\tt._fast_correction = false;\r\n\t\treturn value;\r\n\t},\t\r\n\t_init_scroll_node:function(node){\r\n\t\tif (!node.scroll_enabled){ \r\n\t\t\tnode.scroll_enabled = true;\t\r\n\t\t\tnode.parentNode.style.position=\"relative\";\r\n\t\t\tvar prefix = webix.env.cssPrefix;\r\n\t\t\tnode.style.cssText += prefix+\"transition: \"+prefix+\"transform; \"+prefix+\"user-select:none; \"+prefix+\"transform-style:flat;\";\r\n\t\t\tnode.addEventListener(webix.env.transitionEnd,t._scroll_end,false);\r\n\t\t}\r\n\t},\r\n\t_init_scroller:function(delta){\r\n\t\tif (t._scroll_mode.indexOf(\"x\") != -1)\r\n\t\t\tt._scroll[0] = t._create_scroll(\"x\", t._scroll_stat.dx, t._scroll_stat.px, \"width\");\r\n\t\tif (t._scroll_mode.indexOf(\"y\") != -1)\r\n\t\t\tt._scroll[1] = t._create_scroll(\"y\", t._scroll_stat.dy, t._scroll_stat.py, \"height\");\r\n\t\t\t\r\n\t\tt._init_scroll_node(t._scroll_node);\r\n\t\twindow.setTimeout(t._set_scroll_pos,1);\r\n\t},\r\n\t_create_scroll:function(mode, dy, py, dim){\r\n\t\tif (dy - py <2){\r\n\t\t\tvar matrix = t._get_matrix(t._scroll_node);\r\n\t\t\tvar e = (mode==\"y\"?matrix.e:0);\r\n\t\t\tvar f = (mode==\"y\"?0:matrix.f);\r\n\t\t\tif (!t._scroll_master)\r\n\t\t\t\tt._set_matrix(t._scroll_node, e, f, \"0ms\");\r\n\t\t\tt._scroll_mode = t._scroll_mode.replace(mode,\"\");\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\r\n\t\tvar scroll = webix.html.create(\"DIV\", {\r\n\t\t\t\"class\":\"webix_scroll_\"+mode\r\n\t\t},\"\");\r\n\t\t\r\n\t\tscroll.style[dim] = Math.max((py*py/dy-7),10) +\"px\";\r\n\t\tt._scroll_node.parentNode.appendChild(scroll);\r\n\t\t\r\n\t\treturn scroll;\r\n\t},\r\n\t_axis_check:function(value, mode, old){\r\n\t\tif (value > t.config.deltaStep){\r\n\t\t\t\tif (t._was_not_moved){\r\n\t\t\t\t\tt._long_move(mode);\r\n\t\t\t\t\tt._locate(mode);\r\n\t\t\t\t\tif ((t._scroll_mode||\"\").indexOf(mode) == -1) t._scroll_mode = \"\";\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t\treturn old;\r\n\t},\r\n\t_scroll_end:function(){\r\n        //sending event to the owner of the scroll only\r\n        var result,state,view;\r\n        view = webix.$$(t._scroll_node||this);\r\n        if (view){\r\n        \tif (t._scroll_node)\r\n        \t\tresult = t._get_matrix(t._scroll_node);\r\n        \telse if(view.getScrollState){\r\n                state = view.getScrollState();\r\n                result = {e:state.x, f:state.y};\r\n            }\r\n            webix.callEvent(\"onAfterScroll\", [result]);\r\n            if (view.callEvent)\r\n                 view.callEvent(\"onAfterScroll\",[result]);\r\n        }\r\n\t\tif (!t._scroll_mode){\r\n\t\t\twebix.html.remove(t._scroll);\r\n\t\t\tt._scroll = [null, null];\r\n\t\t}\r\n\t\tt._active_transion = false;\r\n\t},\r\n\t_long_move:function(mode){\r\n\t\twindow.clearTimeout(t._long_touch_timer);\r\n\t\tt._was_not_moved = false;\t\r\n\t},\t\r\n\t_stop_old_scroll:function(e){\r\n\t\tif (t._scroll[0] || t._scroll[1]){\r\n\t\t\tt._stop_scroll(e, t._scroll[0]?\"x\":\"y\");\r\n\t\t}else\r\n\t\t\treturn true;\r\n\t},\r\n\t_touchstart :function(e){\r\n\t\tvar target = e.target || event.srcElement;\r\n\r\n\r\n\t\tif (t._disabled || (target.tagName&&target.tagName.toLowerCase() == \"textarea\" && target.offsetHeight<target.scrollHeight)) return;\r\n\t\tt._long_touched = null;\r\n\t\tt._scroll_context = t._start_context = mouse.context(e);\r\n\r\n\t\t// in \"limited\" mode we should have possibility to use slider\r\n\t\tvar element = webix.$$(e);\r\n\r\n\t\tif (t._limited && !t._is_scroll() && !(element && element.$touchCapture)){\r\n\t\t\tt._scroll_context = null;\r\n\t\t}\r\n\r\n\r\n\r\n\t\tt._translate_event(\"onTouchStart\");\r\n\r\n\t\tif (t._stop_old_scroll(e))\r\n\t\t\tt._long_touch_timer = window.setTimeout(t._long_touch, t.config.longTouchDelay);\r\n\t\t\r\n\t\tif (element && element.touchable && (!target.className || target.className.indexOf(\"webix_view\")!==0)){\r\n\t\t\tt._css_button_remove = element.getNode(e);\r\n\t\t\twebix.html.addCss(t._css_button_remove,\"webix_touch\");\r\n\t\t}\t\r\n\t\t\t\r\n\t},\r\n\t_long_touch:function(e){\r\n        if(t._start_context){\r\n\t\t\tt._translate_event(\"onLongTouch\");\r\n\t\t\twebix.callEvent(\"onClick\", [t._start_context]);\r\n\t\t\tt._long_touched = true;\r\n\t\t\t//t._clear_artefacts();\r\n        }\r\n\t},\r\n\t_stop_scroll:function(e, stop_mode){ \r\n\t\tt._locate(stop_mode);\r\n\t\tvar scroll = t._scroll[0]||t._scroll[1];\r\n\t\tif (scroll){\r\n\t\t\tvar view = t._get_event_view(\"onBeforeScroll\", true);\r\n\t\t\tif (view)\r\n\t\t\t\tview.callEvent(\"onBeforeScroll\", [t._start_context,t._current_context]);\r\n\t\t}\r\n\t\tif (scroll && (!t._scroll_node || scroll.parentNode != t._scroll_node.parentNode)){\r\n\t\t\tt._clear_artefacts();\r\n\t\t\tt._scroll_end();\r\n\t\t\tt._start_context = mouse.context(e);\r\n\t\t}\r\n\t\tt._touchmove(e);\r\n\t},\t\r\n\t_get_delta:function(e, ch){\r\n\t\tt._prev_context = t._current_context;\r\n\t\tt._current_context = mouse.context(e);\r\n\t\t\t\r\n\t\tt._delta._x = Math.abs(t._start_context.x - t._current_context.x);\r\n\t\tt._delta._y = Math.abs(t._start_context.y - t._current_context.y);\r\n\t\t\r\n\t\tif (t._prev_context){\r\n\t\t\tif (t._current_context.time - t._prev_context.time < t.config.scrollDelay){\r\n\t\t\t\tt._delta._x_moment = t._delta._x_moment/1.3+t._current_context.x - t._prev_context.x;\r\n\t\t\t\tt._delta._y_moment = t._delta._y_moment/1.3+t._current_context.y - t._prev_context.y;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tt._delta._y_moment = t._delta._x_moment = 0;\r\n\t\t\t}\r\n\t\t\tt._delta._time = t._delta._time/1.3+(t._current_context.time - t._prev_context.time);\r\n\t\t}\r\n\t\t\r\n\t\treturn t._delta;\r\n\t},\r\n\t_get_sizes:function(node){\r\n\t\tt._scroll_stat = {\r\n\t\t\tdx:node.offsetWidth,\r\n\t\t\tdy:node.offsetHeight,\r\n\t\t\tpx:node.parentNode.offsetWidth,\r\n\t\t\tpy:node.parentNode.offsetHeight\r\n\t\t};\r\n\t},\r\n\t_is_scroll:function(locate_mode){\r\n\t\tvar node = t._start_context.target;\r\n\t\tif (!webix.env.touch && !webix.env.transition && !webix.env.transform) return null;\r\n\t\twhile(node && node.tagName!=\"BODY\"){\r\n\t\t\tif(node.getAttribute){\r\n\t\t\t\tvar mode = node.getAttribute(\"touch_scroll\");\r\n\t\t\t\tif (mode && (!locate_mode || mode.indexOf(locate_mode)!=-1))\r\n\t\t\t\t\treturn [node, mode];\r\n\t\t\t}\r\n\t\t\tnode = node.parentNode;\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\t_locate:function(locate_mode){\r\n\t\tvar state = this._is_scroll(locate_mode);\r\n\t\tif (state){\r\n\t\t\tt._scroll_mode = state[1];\r\n\t\t\tt._scroll_node = state[0];\r\n\t\t\tt._get_sizes(state[0]);\r\n\t\t}\r\n\t\treturn state;\r\n\t},\r\n\t_translate_event:function(name){\r\n\t\twebix.callEvent(name, [t._start_context,t._current_context]);\r\n\t\tvar view = t._get_event_view(name);\r\n\t\tif (view)\r\n\t\t\tview.callEvent(name, [t._start_context,t._current_context]);\r\n\t},\r\n\t_get_event_view:function(name, active){\r\n\t\tvar view = webix.$$(active ? t._scroll_node : t._start_context);\r\n\t\tif(!view) return null;\r\n\t\t\r\n\t\twhile (view){\r\n\t\t\tif (view.hasEvent&&view.hasEvent(name))\t\r\n\t\t\t\treturn view;\r\n\t\t\tview = view.getParentView();\r\n\t\t}\r\n\t\t\r\n\t\treturn null;\r\n\t},\t\r\n\t_get_context:function(e){\r\n\t\tif (!e.touches[0]) {\r\n\t\t\tvar temp = t._current_context;\r\n\t\t\ttemp.time = new Date();\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t\t\r\n\t\treturn {\r\n\t\t\ttarget:e.target,\r\n\t\t\tx:e.touches[0].pageX,\r\n\t\t\ty:e.touches[0].pageY,\r\n\t\t\ttime:new Date()\r\n\t\t};\r\n\t},\r\n\t_get_context_m:function(e){\r\n\t\treturn {\r\n\t\t\ttarget:e.target || e.srcElement,\r\n\t\t\tx:e.pageX,\r\n\t\t\ty:e.pageY,\r\n\t\t\ttime:new Date()\r\n\t\t};\r\n\t}\r\n};\r\n\r\n\r\nwebix.ready(function(){\r\n\tif (webix.env.touch){\r\n\t\tt.$init();\r\n\t\t//not full screen mode\r\n\t\tif (document.body.className.indexOf(\"webix_full_screen\") == -1)\r\n\t\t\tt.limit(true);\r\n\r\n\t\tif (window.MSCSSMatrix)\r\n\t\t\twebix.html.addStyle(\".webix_view{ -ms-touch-action: none; }\");\r\n\t}\r\n});\r\n\r\n\r\nvar mouse = webix.env.mouse = { down:\"mousedown\", up:\"mouseup\", \r\n\t\t\t\t\t\t\t\tmove:\"mousemove\", context:t._get_context_m };\r\n\r\nif (window.navigator.pointerEnabled){\r\n\tmouse.down = \"pointerdown\";\r\n\tmouse.move = \"pointermove\";\r\n\tmouse.up   = \"pointerup\";\r\n} else if (window.navigator.msPointerEnabled){\r\n\tmouse.down = \"MSPointerDown\";\r\n\tmouse.move = \"MSPointerMove\";\r\n\tmouse.up   = \"MSPointerUp\";\r\n} else if (webix.env.touch){\r\n\tmouse.down = \"touchstart\";\r\n\tmouse.move = \"touchmove\";\r\n\tmouse.up   = \"touchend\";\r\n\tmouse.context = t._get_context;\r\n}\r\n\r\n\r\n})();\r\n\r\n\r\n\r\nwebix.attachEvent(\"onDataTable\", function(table, config){\r\n\tif (webix.env.touch){\r\n\t\twebix.Touch.$init();\r\n\t\tconfig.scrollSize = 0;\r\n\t\twebix.extend(table, (config.prerender===true)?table._touchNative:table._touch);\r\n\r\n\t\t// needed to show datatable scroll\r\n\t\tif(webix.Touch._disabled)\r\n\t\t\twebix.Touch.limit();\r\n\r\n\t\ttable.defaults.scrollAlignY = false;\r\n\r\n\t\ttable._body.setAttribute(\"touch_scroll\",\"xy\");\r\n\r\n\t\ttable.$ready.push(function(){\r\n\t\t\tvar scrollMode = \"\";\r\n\t\t\tvar config = this._settings;\r\n\t\t\tif (!config.autowidth && config.scrollX !== false)\r\n\t\t\t\tscrollMode += \"x\";\r\n\t\t\tif (!config.autoheight && config.scrollY !== false)\r\n\t\t\t\tscrollMode += \"y\";\r\n\t\t\tthis._body.setAttribute(\"touch_scroll\", scrollMode);\r\n\t\t});\r\n\t\t\r\n\t\twebix.Touch._init_scroll_node(table._body.childNodes[1].firstChild);\r\n\t\twebix.Touch._set_matrix(table._body.childNodes[1].firstChild, 0,0,\"0ms\");\r\n\t\ttable._sync_scroll(0,0,\"0ms\");\r\n\t}\r\n});\r\n\r\nwebix.extend(webix.ui.datatable, {\r\n\t_touchNative:{\r\n\t\t_scrollTo_touch:function(x,y){\r\n\t\t\twebix.Touch._set_matrix(this._body.childNodes[1].firstChild, 0,0,\"0ms\");\r\n\t\t\tthis._sync_scroll(x,y,\"0ms\");\r\n\t\t},\r\n\t\t_getScrollState_touch:function(){\r\n\t\t\tvar temp = webix.Touch._get_matrix(this._body.childNodes[1].firstChild);\r\n\t\t\treturn { x : -temp.e, y : -temp.f };\r\n\t\t},\r\n\t\t$init:function(){\r\n\t\t\tthis.attachEvent(\"onBeforeScroll\", function(){ \r\n\t\t\t\twebix.Touch._scroll_node = this._body.childNodes[1].firstChild;\r\n\t\t\t\twebix.Touch._get_sizes(webix.Touch._scroll_node);\r\n\t\t\t\twebix.Touch._scroll_master = this;\r\n\t\t\t});\r\n\t\t\tthis.attachEvent(\"onTouchEnd\", function(){\r\n\t\t\t\twebix.Touch._scroll_master = null;\r\n\t\t\t});\r\n\t\t},\r\n\t\t_sync_scroll:function(x,y,t){\r\n\t\t\tif (this._settings.leftSplit)\r\n\t\t\t\twebix.Touch._set_matrix(this._body.childNodes[0].firstChild,0,y,t);\r\n\t\t\tif (this._settings.rightSplit)\r\n\t\t\t\twebix.Touch._set_matrix(this._body.childNodes[2].firstChild,0,y,t);\r\n\t\t\tif (this._settings.header)\r\n\t\t\t\twebix.Touch._set_matrix(this._header.childNodes[1].firstChild,x,0,t);\r\n\t\t\tif (this._settings.footer)\r\n\t\t\t\twebix.Touch._set_matrix(this._footer.childNodes[1].firstChild,x,0,t);\r\n\r\n\t\t\tthis.callEvent(\"onSyncScroll\", [x,y,t]);\r\n\t\t},\r\n\t\t_sync_pos:function(){}\r\n\t},\r\n\t_touch:{\r\n\t\t_scrollTo_touch:function(x,y){\r\n\t\t\twebix.delay(function(){\r\n\t\t\t\tthis.callEvent(\"onAfterScroll\", [{ e: -x, f: -y}]);\t\r\n\t\t\t}, this);\r\n\t\t  \t\r\n\t\t},\r\n\t\t$scroll:{\r\n\t\t\tgravity:0,\r\n\t\t\telastic:false\r\n\t\t},\r\n\t\t$init:function(){\r\n\t\t\tthis.attachEvent(\"onBeforeScroll\", function(){\r\n\t\t\t\tvar t = webix.Touch;\r\n\t\t\t\tt._scroll_node = this._body.childNodes[1].firstChild;\r\n\t\t\t\tt._get_sizes(t._scroll_node);\r\n\t\t\t\tt._scroll_stat.dy = this._dtable_height;\r\n\t\t\t\tt._scroll_master = this;\r\n\r\n\t\t\t});\r\n\t\t\tthis.attachEvent(\"onAfterScroll\", function(result){\r\n\t\t\t\t//onAfterScroll may be triggered by some non-touch related logic\r\n\t\t\t\tif (!result) return;\r\n\r\n\t\t\t\tvar isScrollX = (this._scrollLeft != -result.e);\r\n\t\t\t\tvar isScrollY = (this._scrollTop != -result.f);\r\n\r\n\t\t\t\twebix.Touch._scroll_master = null;\r\n\t\t\t\twebix.Touch._fix_f = null;\r\n\r\n\t\t\t\tthis._scrollTop = 0;\r\n\r\n\t\t\t\t//ipad can delay content rendering if 3d transformation applied\r\n\t\t\t\t//switch back to 2d\r\n\t\t\t\tvar temp = webix.Touch.config.translate;\r\n\t\t\t\twebix.Touch.config.translate = \"translate\";\r\n\t\t\t\tthis._sync_scroll(result.e, 0, \"0ms\");\r\n\t\t\t\twebix.Touch.config.translate = temp;\r\n\r\n\t\t\t\tthis._scrollLeft = - result.e;\r\n\t\t\t\tthis._scrollTop = -result.f;\r\n\r\n\t\t\t\tthis.render();\r\n\r\n\t\t\t\tif(isScrollX)\r\n\t\t\t\t\tthis.callEvent(\"onScrollX\",[]);\r\n\t\t\t\tif(isScrollY)\r\n\t\t\t\t\tthis.callEvent(\"onScrollY\",[]);\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t},\r\n\t\t_sync_scroll:function(x,y,t){\r\n\t\t\ty += this._scrollTop;\r\n\t\t\twebix.Touch._set_matrix(this._body.childNodes[1].firstChild, x, y, t);\r\n\t\t\tif (this._settings.leftSplit)\r\n\t\t\t\twebix.Touch._set_matrix(this._body.childNodes[0].firstChild,0,y,t);\r\n\t\t\tif (this._settings.rightSplit)\r\n\t\t\t\twebix.Touch._set_matrix(this._body.childNodes[2].firstChild,0,y,t);\r\n\t\t\tif (this._settings.header)\r\n\t\t\t\twebix.Touch._set_matrix(this._header.childNodes[1].firstChild,x,0,t);\r\n\t\t\tif (this._settings.footer)\r\n\t\t\t\twebix.Touch._set_matrix(this._footer.childNodes[1].firstChild,x,0,t);\r\n\r\n\t\t\tthis.callEvent(\"onSyncScroll\", [x,y,t]);\r\n\t\t},\r\n\t\t_sync_pos:function(matrix){\r\n\t\t\tmatrix.f -= this._scrollTop;\r\n\r\n\t\t}\r\n\t}\r\n});\r\nwebix.extend(webix.ui.datatable, {\r\n\t$init:function(){\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\", webix.bind(function(id){\r\n\t\t\tif (!id) this._adjustColumns();\r\n\t\t}, this));\r\n\t\tthis.attachEvent(\"onStructureLoad\", this._adjustColumns);\r\n\r\n\t\tthis.attachEvent(\"onStructureUpdate\", this._resizeColumns);\r\n\t\tthis.attachEvent(\"onColumnResize\", function(a,b,c,user){\r\n\t\t\tif (user)\r\n\t\t\t\tthis._resizeColumns();\r\n\t\t});\r\n\t\tthis.attachEvent(\"onResize\", this._resizeColumns);\r\n\t},\r\n\t_adjustColumns:function(){\r\n\t\tif (!this.count()) return;\r\n\r\n\t\tvar resize = false;\r\n\t\tvar cols = this._columns;\r\n\t\tfor (var i = 0; i < cols.length; i++)\r\n\t\t\tif (cols[i].adjust)\r\n\t\t\t\tresize = this._adjustColumn(i, cols[i].adjust, true) || resize;\r\n\r\n\t\tif (resize){\r\n\t\t\tthis._updateColsSizeSettings(true);\r\n\t\t\tthis._resizeColumns();\r\n\t\t}\r\n\t},\r\n\t_resizeColumns:function(){\r\n\t\tvar cols = this._settings.columns;\r\n\t\tvar fill = [];\r\n\t\tvar summ = 0;\r\n\r\n\t\tif (cols && !this._settings.autowidth)\r\n\t\t\tfor (var i = 0; i < cols.length; i++){\r\n\t\t\t\tvar colfil = cols[i].fillspace;\r\n\t\t\t\tif (colfil){\r\n\t\t\t\t\tfill[i] = colfil;\r\n\t\t\t\t\tsumm += colfil*1 || 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\tif (summ)\t\t\t\t\r\n\t\t\tthis._fillColumnSize(fill, summ);\r\n\t},\r\n\t_fillColumnSize:function(fill, summ){\r\n\t\tvar cols = this._settings.columns;\r\n\t\tif (!cols) return;\r\n\r\n\t\tvar width = this._content_width - this._scrollSizeY;\r\n\t\tvar resize = false;\r\n\r\n\t\tif (width>0){\r\n\t\t\tfor (var i=0; i<cols.length; i++)\r\n\t\t\t\tif (!fill[i]) width -= (cols[i].width || this.config.columnWidth);\r\n\r\n\t\t\tfor (var i = 0; i < fill.length; i++)\r\n\t\t\t\tif (fill[i]){\r\n\t\t\t\t\tvar request = Math.min(width, Math.round(width * fill[i]/summ));\r\n\t\t\t\t\tresize = this._setColumnWidth(i, request, true) || resize;\r\n\t\t\t\t\twidth = width - cols[i].width;\r\n\t\t\t\t\tsumm = summ - fill[i];\r\n\t\t\t\t}\r\n\r\n\t\t\tif (resize) \r\n\t\t\t\tthis._updateColsSizeSettings(true);\r\n\t\t}\r\n\t},\r\n\t_getColumnConfigSize:function(ind, headers){\r\n\t\tvar d = webix.html.create(\"DIV\",{\"class\":\"webix_view webix_table_cell webix_measure_size webix_cell\"},\"\");\r\n\t\td.style.cssText = \"width:1px; visibility:hidden; position:absolute; top:0px; left:0px; overflow:hidden;\";\r\n\t\tdocument.body.appendChild(d);\r\n\r\n\t\tvar config = this._settings.columns[ind];\r\n\t\tvar max = -Infinity;\r\n\t\t\r\n\t\t//iterator other all loaded data is required\r\n\t\tif (headers != \"header\")\r\n\t\t\tthis.data.each(function(obj){\r\n\t\t\t\tif (obj){\r\n\t\t\t\t\tvar text = this._getValue(obj, config, 0);\r\n\t\t\t\t\td.innerHTML = text;\r\n\t\t\t\t\tmax = Math.max(d.scrollWidth, max);\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\r\n\t\tif (headers && headers != \"data\"){\r\n\t\t\tfor (var i=0; i<config.header.length; i++){\r\n\t\t\t\tvar header = config.header[i];\r\n\t\t\t\tif (header){\r\n\t\t\t\t\td.innerHTML = header.text;\r\n\t\t\t\t\tmax = Math.max(d.scrollWidth, max);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\td = webix.html.remove(d);\r\n\t\t//1px to compensate scrollWidth rounding\r\n\t\treturn max+1+(webix.env.isIE?webix.skin.$active.layoutPadding.space:0);\t\r\n\t},\r\n\t_adjustColumn:function(ind, headers, ignore){\r\n\t\tif (ind >= 0){\r\n\t\t\tvar width = this._getColumnConfigSize(ind, headers);\r\n\t\t\treturn this._setColumnWidth(ind, width, ignore);\r\n\t\t}\r\n\t},\r\n\tadjustColumn:function(id, headers){\r\n\t\tthis._adjustColumn(this.getColumnIndex(id), headers);\r\n\t},\r\n\tadjustRowHeight:function(id, silent){\r\n\t\tvar config = this.getColumnConfig(id);\r\n\t\tvar count = this.data.count();\r\n\r\n\t\tvar container;\r\n\t\tvar d = webix.html.create(\"DIV\",{\"class\":\"webix_table_cell webix_measure_size webix_cell\"},\"\");\r\n\t\td.style.cssText = \"width:\"+config.width+\"px; height:1px; visibility:hidden; position:absolute; top:0px; left:0px; overflow:hidden;\";\r\n\t\tthis.$view.appendChild(d);\r\n\r\n\t\tif (d.offsetHeight < 1){\r\n\t\t\t//hidden container, height detection is broken\r\n\t\t\t//reattach to the body\r\n\t\t\tcontainer = this.$view.cloneNode(true);\r\n\t\t\tdocument.body.appendChild(container);\r\n\t\t\tcontainer.appendChild(d);\r\n\t\t}\r\n\r\n\t\tthis.data.each(function(obj){\r\n\t\t\t//in case of dyn. mode - this can be undefined \r\n\t\t\tif (obj){\r\n\t\t\t\td.innerHTML = this._getValue(obj, config, 0);\r\n\t\t\t\tobj.$height = Math.max(d.scrollHeight, this._settings.rowHeight);\r\n\t\t\t}\r\n\t\t}, this);\r\n\r\n\t\td = webix.html.remove(d);\r\n\t\tif (container)\r\n\t\t\twebix.html.remove(container);\r\n\r\n\t\tif (!silent)\r\n\t\t\tthis.refresh();\r\n\t}\r\n});\r\nwebix.extend(webix.ui.datatable,{\r\n\r\n\tmath_setter:function(value){\r\n\t\tif (value)\r\n\t\t\tthis._math_init();\r\n\t\treturn value;\r\n\t},\r\n\r\n\t_math_pref: '$',\r\n\r\n\t_math_init: function() {\r\n\t\tif(webix.env.strict) return;\r\n\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\", webix.bind(this._parse_row_math, this));\r\n\t\tthis.data.attachEvent(\"onStoreLoad\", webix.bind(this._parse_math, this));\r\n\t\tthis.attachEvent(\"onStructureLoad\", this._parse_math);\r\n\t},\r\n\t_parse_row_math:function(id, obj, action){\r\n\t\tif (!id || (action==\"delete\" || action==\"paint\")) return;\r\n\r\n\t\tif (action == \"add\")\r\n\t\t\tthis._exprs_by_columns(obj);\r\n\r\n\t\tfor (var i=0; i<this._columns.length; i++)\r\n\t\t\tthis._parse_cell_math(id, this._columns[i].id, action !== \"add\");\r\n\t\tthis._math_recalc = {};\r\n\t},\r\n\t_parse_cell_math: function(row, col, _inner_call) {\r\n\t\tvar item = this.getItem(row);\r\n\t\tvar value;\r\n\r\n\t\t// if it's outer call we should use inputted value otherwise to take formula, not calculated value\r\n\t\tif (_inner_call === true)\r\n\t\t\tvalue = item[this._math_pref + col] || item[col];\r\n\t\telse {\r\n\t\t\tvalue = item[col];\r\n\t\t\tthis._math_recalc = {};\r\n\t\t}\r\n\r\n\t\tif (typeof value === \"undefined\" || value === null) return;\r\n\r\n\t\tif (value.length > 0 && value.substr(0, 1) === '=') {\r\n\t\t\t// calculate math value\r\n\t\t\tif ((typeof(item[this._math_pref + col]) === 'undefined') || (_inner_call !== true))\r\n\t\t\t\titem[this._math_pref + col] = item[col];\r\n\t\t\titem[col] = this._calculate(value, row, col);\r\n\t\t\t//this.updateItem(item);\r\n\t\t} else {\r\n\t\t\t// just a string\r\n\t\t\tif (typeof(item[this._math_pref + col]) !== 'undefined')\r\n\t\t\t\tdelete item[this._math_pref + col];\r\n\t\t\t// remove triggers if they were setted earlier\r\n\t\t\tthis._remove_old_triggers(row, col);\r\n\t\t}\r\n\t\t// recalculate depending cells\r\n\t\tif (typeof(item.depends) !== 'undefined' && typeof(item.depends[col]) !== 'undefined') {\r\n\t\t\tfor (var i in item.depends[col]) {\r\n\t\t\t\tvar name = item.depends[col][i][0] + '__' + item.depends[col][i][1];\r\n\t\t\t\tif (typeof(this._math_recalc[name]) === 'undefined') {\r\n\t\t\t\t\tthis._math_recalc[name] = true;\r\n\t\t\t\t\tthis._parse_cell_math(item.depends[col][i][0], item.depends[col][i][1], true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_set_original_value: function(row, col) {\r\n\t\tvar item = this.getItem(row);\r\n\t\tif (typeof(item[this._math_pref + col]) !== 'undefined')\r\n\t\t\titem[col] = item[this._math_pref + col];\r\n\t},\r\n\r\n\t_parse_math: function(){\r\n\t\tif (!this._columns || !this.count()) return;\r\n\r\n\t\tthis._exprs_by_columns();\r\n\r\n\r\n\t\tfor (var j = 0; j < this._columns.length; j++){\r\n\t\t\tvar col = this.columnId(j);\r\n\t\t\tthis.data.each(function(obj){\r\n\t\t\t\tthis._parse_cell_math(obj.id, col);\r\n\t\t\t}, this);\r\n\t\t}\r\n\r\n\t\tthis._math_recalc = {};\r\n\t},\r\n\r\n\t_exprs_by_columns: function(row) {\r\n\t\tfor (var i = 0; i < this._columns.length; i++){\r\n\t\t\tif (this._columns[i].math) {\r\n\t\t\t\tvar col = this.columnId(i);\r\n\t\t\t\tvar math = '=' + this._columns[i].math;\r\n\t\t\t\tmath = math.replace(/\\$r/g, '#$r#');\r\n\t\t\t\tmath = math.replace(/\\$c/g, '#$c#');\r\n\t\t\t\tif (row)\r\n\t\t\t\t\trow[col] = this._parse_relative_expr(math, row.id, col);\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.data.each(function(obj){\r\n\t\t\t\t\t\tobj[col] = this._parse_relative_expr(math, obj.id, col);\r\n\t\t\t\t\t}, this);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_parse_relative_expr: function(expr, row, col) {\r\n\t\treturn (webix.template(expr))({ '$r': row, '$c': col });\r\n\t},\r\n\r\n\t_get_calc_value: function(row, col) {\r\n\t\tvar item;\r\n\r\n\t\tif (this.exists(row))\r\n\t\t\titem = this.getItem(row);\r\n\t\telse\r\n\t\t\treturn '#out_of_range';\r\n\r\n\t\tvar value = item[this._math_pref + col] || item[col] || 0;\r\n\t\tvalue = value.toString();\r\n\t\tif (value.substring(0, 1) !== '=')\r\n\t\t\t// it's a string\r\n\t\t\treturn value;\r\n\t\telse {\r\n\t\t\t// TODO: check if value shouldn't be recalculated\r\n\t\t\t// and return value calculated earlier\r\n\r\n\t\t\t// calculate math expr value right now\r\n\t\t\tif (typeof(item[this._math_pref + col]) === 'undefined')\r\n\t\t\t\titem[this._math_pref + col] = item[col];\r\n\t\t\titem[col] = this._calculate(value, row, col, true);\r\n\t\t\treturn item[col];\r\n\t\t}\r\n\t},\r\n\r\n\t_calculate: function(value, row, col, _inner_call) {\r\n\t\t// add coord in math trace to detect self-references\r\n\t\tif (_inner_call === true) {\r\n\t\t\tif (this._in_math_trace(row, col))\r\n\t\t\t\treturn '#selfreference';\r\n\t\t} else\r\n\t\t\tthis._start_math_trace();\r\n\t\tthis._to_math_trace(row, col);\r\n\r\n\t\tvar item = this.getItem(row);\r\n\t\tvalue = value.substring(1);\r\n\r\n\t\t// get operations list\r\n\t\tvar operations = this._get_operations(value);\r\n\t\tvar triggers = this._get_refs(value);\r\n\r\n\t\tif (operations) {\r\n\t\t\tvalue = this._replace_refs(value, triggers);\r\n\t\t\tvalue = this._parse_args(value, operations);\r\n\t\t} else {\r\n\t\t\tvalue = this._replace_refs(value, triggers, true);\r\n\t\t}\r\n\r\n\t\tvar exc = this._math_exception(value);\r\n\t\tif (exc !== false)\r\n\t\t\treturn exc;\r\n\r\n\t\t// remove from coord from trace when calculations were finished - it's important!\r\n\t\tthis._from_math_trace(row, col);\r\n\r\n\t\t// process triggers to know which cells should be recalculated when one was changed\r\n\t\tthis._remove_old_triggers(row, col);\r\n\t\tfor (var i = 0; i < triggers.length; i++) {\r\n\t\t\tthis._add_trigger([row, col], triggers[i]);\r\n\t\t}\r\n\t\tvar exc = this._math_exception(value);\r\n\t\tif (exc !== false)\r\n\t\t\treturn exc;\r\n\r\n\t\t// there aren't any operations here. returns number or value of another cell\r\n\t\tif (!value) return value;\r\n\r\n\t\t// process mathematical expression and getting final result\r\n\t\tvalue = this._compute(value);\r\n\t\tvar exc = this._math_exception(value);\r\n\t\tif (exc !== false)\r\n\t\t\treturn exc;\r\n\t\treturn value;\r\n\t},\r\n\r\n\t_get_operations: function(value) {\r\n\t\t// gettings operations list (+-*/)\r\n\t\tvar splitter = /(\\+|\\-|\\*|\\/)/g;\r\n\t\tvar operations = value.replace(/\\[[^)]*?\\]/g,\"\").match(splitter);\r\n\t\treturn operations;\r\n\t},\r\n\r\n\t/*! gets list of referencies in formula\r\n\t **/\r\n\t_get_refs: function(value) {\r\n\t\tvar reg = /\\[([^\\]]+),([^\\]]+)\\]/g;\r\n\t\tvar cells = value.match(reg);\r\n\t\tif (cells === null) cells = [];\r\n\r\n\t\tfor (var i = 0; i < cells.length; i++) {\r\n\t\t\tvar cell = cells[i];\r\n\t\t\tvar tmp = cell;\r\n\t\t\tcell = cell.substr(1, cell.length - 2);\r\n\t\t\tcell = cell.split(',');\r\n\t\t\tcell[0] = this._trim(cell[0]);\r\n\t\t\tcell[1] = this._trim(cell[1]);\r\n\t\t\tif (cell[0].substr(0, 1) === ':')\r\n\t\t\t\tcell[0] = this.getIdByIndex(cell[0].substr(1));\r\n\t\t\tif (cell[1].substr(0, 1) === ':')\r\n\t\t\t\tcell[1] = this.columnId(cell[1].substr(1));\r\n\t\t\tcell[2] = tmp;\r\n\t\t\tcells[i] = cell;\r\n\t\t}\r\n\r\n\t\treturn cells;\r\n\t},\r\n\r\n\t// replace given list of references by their values\r\n\t_replace_refs: function(value, cells, clean) {\r\n\t\tvar dell = \"(\", delr = \")\";\r\n\t\tif (clean) dell = delr = \"\";\r\n\t\tfor (var i = 0; i < cells.length; i++) {\r\n\t\t\tvar cell = cells[i];\r\n\t\t\tvar cell_value = this._get_calc_value(cell[0], cell[1]);\r\n\t\t\tif (isNaN(cell_value))\r\n\t\t\t\tcell_value = '\"'+cell_value+'\"';\r\n\t\t\tvalue = value.replace(cell[2], dell + cell_value + delr);\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\r\n\t_parse_args: function(value, operations) {\r\n\t\tvar args = [];\r\n\t\tfor (var i = 0; i < operations.length; i++) {\r\n\t\t\tvar op = operations[i];\r\n\t\t\tvar temp = this._split_by(value, op);\r\n\t\t\targs.push(temp[0]);\r\n\t\t\tvalue = temp[1];\r\n\t\t}\r\n\t\targs.push(value);\r\n\r\n\t\t//var reg = /^(-?\\d|\\.|\\(|\\))+$/;\r\n\t\tfor (var i = 0; i < args.length; i++) {\r\n\t\t\tvar arg = this._trim(args[i]);\r\n\t\t//\tif (reg.test(arg) === false)\r\n\t\t//\t\treturn ''; //error\r\n\t\t\targs[i] = arg;\r\n\t\t}\r\n\r\n\t\tvar expr = \"\";\r\n\t\tfor (var i = 0; i < args.length - 1; i++) {\r\n\t\t\texpr += args[i] + operations[i];\r\n\t\t}\r\n\t\texpr += args[args.length - 1];\r\n\t\treturn expr;\r\n\t},\r\n\r\n\t_compute: function(expr) {\r\n\t\ttry {\r\n\t\t\twebix.temp_value = '';\r\n\t\t\texpr = 'webix.temp_value = ' + expr;\r\n\t\t\teval(expr);\r\n\t\t} catch(ex) {\r\n\t\t\twebix.assert(false,\"Math error in datatable<br>\"+expr);\r\n\t\t\twebix.temp_value = '';\r\n\t\t}\r\n\t\tvar result = webix.temp_value;\r\n\t\twebix.temp_value = null;\r\n\t\treturn result.toString();\r\n\t},\r\n\r\n\t_split_by: function(value, splitter) {\r\n\t\tvar pos = value.indexOf(splitter);\r\n\t\tvar before = value.substr(0, pos);\r\n\t\tvar after = value.substr(pos + 1);\r\n\t\treturn [before, after];\r\n\t},\r\n\r\n\t_trim: function(value) {\r\n\t\tvalue = value.replace(/^ */g, '');\r\n\t\tvalue = value.replace(/ *$/g, '');\r\n\t\treturn value;\r\n\t},\r\n\r\n\t_start_math_trace: function() {\r\n\t\tthis._math_trace = [];\r\n\t},\r\n\t_to_math_trace: function(row, col) {\r\n\t\tthis._math_trace[row + '__' + col] = true;\r\n\t},\r\n\t_from_math_trace: function(row, col) {\r\n\t\tif (typeof(this._math_trace[row + '__' + col]) !== 'undefined')\r\n\t\t\tdelete this._math_trace[row + '__' + col];\r\n\t},\r\n\t_in_math_trace: function(row, col) {\r\n\t\tif (typeof(this._math_trace[row + '__' + col]) !== 'undefined')\r\n\t\t\treturn true;\r\n\t\telse\r\n\t\t\treturn false;\r\n\t},\r\n\r\n\t_add_trigger: function(depends, from) {\r\n\t\tvar item = this.getItem(from[0]);\r\n\t\tif (typeof(item.depends) === 'undefined')\r\n\t\t\titem.depends = {};\r\n\t\tif (typeof(item.depends[from[1]]) === 'undefined')\r\n\t\t\titem.depends[from[1]] = {};\r\n\t\titem.depends[from[1]][depends[0] + '__' + depends[1]] = depends;\r\n\r\n\t\titem = this.getItem(depends[0]);\r\n\t\tif (typeof(item.triggers) === 'undefined')\r\n\t\t\titem.triggers = {};\r\n\t\tif (typeof(item.triggers[depends[1]]) === 'undefined')\r\n\t\t\titem.triggers[depends[1]] = {};\r\n\t\titem.triggers[depends[1]][from[0] + '__' + from[1]] = from;\r\n\t},\r\n\r\n\t_remove_old_triggers: function(row, col) {\r\n\t\tif (!this.exists(row, col)) return;\r\n\t\tvar item = this.getItem(row, col);\r\n\t\tif (typeof(item.triggers) === 'undefined') return;\r\n\t\tfor (var i in item.triggers[col]) {\r\n\t\t\tvar depend = item.triggers[col][i];\r\n\t\t\tdelete this.getItem(depend[0]).depends[depend[1]][row + '__' + col];\r\n\t\t}\r\n\t},\r\n\r\n\t// check if exception syntax exists and returns exception text or false\r\n\t_math_exception: function(value) {\r\n\t\tvar reg = /#\\w+/;\r\n\t\tvar match = value.match(reg);\r\n\t\tif (match !== null && match.length > 0)\r\n\t\t\treturn match[0];\r\n\t\treturn false;\r\n\t}\r\n\r\n});\r\n\r\n\r\n\r\n\r\nwebix.extend(webix.ui.datatable, {\r\n\r\n\t/////////////////////////\r\n\t//    edit start       //\r\n\t/////////////////////////\r\n\t_get_editor_type:function(id){\r\n\t\treturn this.getColumnConfig(id.column).editor;\r\n\t},\r\n\tgetEditor:function(row, column){\r\n\t\tif (!row)\r\n\t\t\treturn this._last_editor;\r\n\r\n\t\tif (arguments.length == 1){\r\n\t\t\tcolumn = row.column;\r\n\t\t\trow = row.row; \r\n\t\t}\r\n\t\t\r\n\t\treturn ((this._editors[row]||{})[column]);\r\n\t},\r\n\t_for_each_editor:function(handler){\r\n\t\tfor (var row in this._editors){\r\n\t\t\tvar row_editors = this._editors[row];\r\n\t\t\tfor (var column in row_editors)\r\n\t\t\t\tif (column!=\"$count\")\r\n\t\t\t\t\thandler.call(this, row_editors[column]);\r\n\t\t}\r\n\t},\r\n\t_init_editor:function(id, type, show){\r\n\t\tvar row = id.row;\r\n\t\tvar column  = id.column;\r\n\t\tvar col_settings = type.config = this.getColumnConfig(column);\r\n\t\t//show it over cell\r\n\t\tif (show !== false)\r\n\t\t\tthis.showCell(row, column);\r\n\r\n\t\tvar node = type.render();\r\n\r\n\t\tif (type.$inline)\r\n\t\t\tnode = this._locateInput(id);\r\n\t\ttype.node = node;\r\n\t\t\t\r\n\t\tvar item = this.getItem(row);\r\n\t\tvar format = col_settings.editFormat;\r\n\r\n\t\tvar value;\r\n\t\tif (this._settings.editMath)\r\n\t\t\tvalue = item[\"$\"+column];\r\n\t\tvalue = value || item[column];\r\n\r\n\t\tif (webix.isUndefined(value))\r\n\t\t\tvalue=\"\";\r\n\r\n\t\ttype.setValue(format?format(value):value, item);\r\n\t\ttype.value = item[column];\r\n\t\tthis._addEditor(id, type);\r\n\r\n\t\tif (!type.$inline)\r\n\t\t\tthis._sizeToCell(id, node, true);\r\n\r\n\t\tif (type.afterRender)\r\n\t\t\ttype.afterRender();\r\n\t\t\r\n\t\tif (this._settings.liveValidation){\r\n\t\t\tvar evId = \"webix_keyup_edit_\"+this._settings.id+\"_\"+row+\"_\"+column;\r\n\t\t\twebix.event(type.node, \"keyup\", this._bind_live_validation(id, this),{id: evId});\r\n\t\t\tthis.validateEditor(id);\r\n\t\t}\r\n\r\n\t\treturn node;\r\n\t},\r\n\t_bind_live_validation:function(id, that){\r\n\t\treturn function(){\r\n\t\t\tthat.validateEditor(id);\r\n\t\t};\r\n\t},\r\n\t_set_new_value:function(editor, new_value){\r\n\t\tvar parser = this.getColumnConfig(editor.column).editParse;\r\n\t\tvar item = this.getItem(editor.row);\r\n\r\n\t\titem[editor.column] = parser?parser(new_value):new_value;\r\n\t\tif (this._settings.editMath)\r\n\t\t\tdelete item[\"$\"+editor.column];\r\n\t\treturn editor.row;\r\n\t},\r\n\t//register editor in collection\r\n\t_addEditor:function(id, type, node){\r\n\t\tvar row_editors = this._editors[id.row]=this._editors[id.row]||{};\r\n\r\n\t\trow_editors.$count = (row_editors.$count||0)+1;\r\n\r\n\t\ttype.row = id.row; type.column = id.column;\r\n\t\tthis._last_editor = row_editors[id.column] = type;\r\n\r\n\t\tthis._in_edit_mode++;\r\n\t\tthis._last_editor_scroll = this.getScrollState();\r\n\t},\r\n\t_removeEditor:function(editor){\r\n\t\tif (this._last_editor == editor)\r\n\t\t\tthis._last_editor = 0;\r\n\t\t\r\n\t\tif (editor.destroy)\r\n\t\t\teditor.destroy();\r\n\t\t\r\n\t\tvar row = this._editors[editor.row];\r\n\t\tdelete row[editor.column];\r\n\t\trow.$count -- ;\r\n\t\tif (!row.$count)\r\n\t\t\tdelete this._editors[editor.row];\r\n\t\tthis._in_edit_mode--;\r\n\t},\r\n\t_changeEditorId:function(oldid, newid)\t{\r\n\t\tvar editor = this._editors[oldid];\r\n\t\tif (editor){\r\n\t\t\tthis._editors[newid] = editor;\r\n\t\t\tdelete this._editors[oldid];\r\n\t\t\tfor (var key in editor)\r\n\t\t\t\teditor[key].row = newid;\r\n\t\t}\r\n\t},\r\n\t//get html cell by combined id\r\n\t_locate_cell:function(id){\r\n\t\tvar area, i, index, j, node, span,\r\n\t\t\tconfig = this.getColumnConfig(id.column),\r\n\t\t\tcell = 0;\r\n\r\n\t\tif (config && config.node && config.attached){\r\n\t\t\tindex = this.getIndexById(id.row);\r\n\t\t\tif(this._spans_pull){\r\n\t\t\t\tspan = this.getSpan(id.row,id.column);\r\n\t\t\t\tif(span){\r\n\t\t\t\t\tfor (i=0; i<3; i++){\r\n\t\t\t\t\t\tarea = this._spans_areas[i];\r\n\t\t\t\t\t\tfor(j=0; !cell && j < area.childNodes.length; j++){\r\n\t\t\t\t\t\t\tnode = area.childNodes[j];\r\n\t\t\t\t\t\t\tif(node.getAttribute(\"row\") == index && node.getAttribute(\"column\") == this.getColumnIndex(id.column))\r\n\t\t\t\t\t\t\t\tcell = node;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!cell && index >= (config._yr0-this._settings.topSplit) && index< config._yr1)\r\n\t\t\t\tcell = config.node.childNodes[index-config._yr0+this._settings.topSplit];\r\n\t\t}\r\n\t\treturn cell;\r\n\t},\r\n\r\n\t\r\n\t/////////////////////////\r\n\t//    public methods   //\r\n\t/////////////////////////\r\n\teditCell:function(row, column, preserve, show){\r\n\t\tcolumn = column || this._settings.columns[0].id;\r\n\t\treturn webix.EditAbility.edit.call(this, {row:row, column:column}, preserve, show);\r\n\t},\r\n\teditRow:function(id, focus){\r\n\t\tif (id && id.row)\r\n\t\t\tid = id.row;\r\n\r\n\t\tvar next = false;\r\n\t\tthis.eachColumn(function(column){\r\n\t\t\tthis.edit({ row:id, column:column}, next, !next);\r\n\t\t\tnext = true;\r\n\t\t});\r\n\t},\r\n\teditColumn:function(id, focus){\r\n\t\tif (id && id.column)\r\n\t\t\tid = id.column;\r\n\r\n\t\tvar next = false;\r\n\t\tthis.eachRow(function(row){\r\n\t\t\tthis.edit({row:row, column:id}, next, !next);\r\n\t\t\tnext = true;\r\n\t\t});\r\n\t},\r\n\teachRow:function(handler, all){\r\n\t\tvar order = this.data.order;\r\n\t\tif (all) \r\n\t\t\torder = this.data._filter_order || order;\r\n\r\n\t\tfor (var i=0; i<order.length; i++)\r\n\t\t\thandler.call(this, order[i]);\r\n\t},\r\n\teachColumn:function(handler, all){\r\n\t\tfor (var i in this._columns_pull){\r\n\t\t\tvar column = this._columns_pull[i];\r\n\t\t\thandler.call(this, column.id, column);\r\n\t\t}\r\n\t\tif (all){\r\n\t\t\tfor (var i in this._hidden_column_hash){\r\n\t\t\t\tvar column = this._hidden_column_hash[i];\r\n\t\t\t\thandler.call(this, column.id, column);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t////////////////////\r\n\t//    edit next   //\r\n\t////////////////////\r\n\t_after_edit_next:function(editor_next){\r\n\t\tif (this.getSelectedId){\t//select related cell when possible\r\n\t\t\tvar sel = this.getSelectedId(true);\r\n\t\t\tif (sel.length == 1){\r\n\t\t\t\tthis._select(editor_next);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_custom_tab_handler:function(tab, e){\r\n\t\tif (this._settings.editable && !this._in_edit_mode){\r\n\t\t\t//if we have focus in some custom input inside of datatable\r\n\t\t\tif (e.target && e.target.tagName == \"INPUT\") return true;\r\n\r\n\t\t\tvar selection = this.getSelectedId(true);\r\n\t\t\tif (selection.length == 1){\r\n\t\t\t\tthis.editNext(tab, selection[0]);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\r\n\t_find_cell_next:function(start, check, direction){\r\n\t\tvar row = this.getIndexById(start.row);\r\n\t\tvar column = this.getColumnIndex(start.column);\r\n\t\tvar order = this.data.order;\r\n\t\tvar cols = this._columns;\r\n\r\n\t\tif (direction){\r\n\r\n\t\t\tfor (var i=row; i<order.length; i++){\r\n\t\t\t\tfor (var j=column+1; j<cols.length; j++){\r\n\t\t\t\t\tvar id = { row:order[i], column:cols[j].id};\r\n\t\t\t\t\tif (check.call(this, id) && !this._checkCellMerge(start,id)){\r\n\t\t\t\t\t\treturn id;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcolumn = -1;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i=row; i>=0; i--){\r\n\t\t\t\tfor (var j=column-1; j>=0; j--){\r\n\t\t\t\t\tvar id = { row:order[i], column:cols[j].id};\r\n\t\t\t\t\tif (check.call(this, id))\r\n\t\t\t\t\t\treturn id;\r\n\t\t\t\t}\r\n\t\t\t\tcolumn = cols.length;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t},\r\n\r\n\r\n\t/////////////////////////////\r\n\t//    scroll correction    //\r\n\t/////////////////////////////\r\n\t_correct_after_focus_y:function(){\r\n\t\tif (this._in_edit_mode){\r\n\t\t\tif (this._ignore_after_focus_scroll)\r\n\t\t\t\tthis._ignore_after_focus_scroll = false;\r\n\t\t\telse {\r\n\t\t\t\tthis._y_scroll.scrollTo(this.getScrollState().y+this._body.childNodes[1].firstChild.scrollTop);\r\n\t\t\t\tthis._body.childNodes[1].firstChild.scrollTop = 0;\r\n\t\t\t\tthis._ignore_after_focus_scroll = true;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_correct_after_focus_x:function(){\r\n\t\tif (this._in_edit_mode){\r\n\t\t\tthis._x_scroll.scrollTo(this._body.childNodes[1].scrollLeft);\r\n\t\t}\r\n\t},\r\n\t_component_specific_edit_init:function(){\r\n\t\tthis.attachEvent(\"onScrollY\", this._update_editor_y_pos);\r\n\t\tthis.attachEvent(\"onScrollX\", this._update_editor_y_pos);\r\n\t\tthis.attachEvent(\"onScrollY\", this._refocus_inline_editor);\r\n\t\tthis.attachEvent(\"onColumnResize\", function(){ this.editStop(); });\r\n\t\tthis.attachEvent(\"onAfterFilter\", function(){ this.editStop(); });\r\n\t\tthis.attachEvent(\"onRowResize\", function(){ this.editStop(); });\r\n\t\tthis.attachEvent(\"onAfterScroll\", function(){ if(this._settings.topSplit) this.editStop(); });\r\n\t\tthis._body.childNodes[1].firstChild.onscroll = webix.bind(this._correct_after_focus_y, this);\r\n\t\tthis._body.childNodes[1].onscroll = webix.bind(this._correct_after_focus_x, this);\r\n\t},\r\n\t_update_editor_y_pos:function(){\r\n\t\tif (this._in_edit_mode){\r\n\t\t\tvar old  = this._last_editor_scroll;\r\n\t\t\tthis._last_editor_scroll = this.getScrollState();\r\n\r\n\t\t\tvar diff = this._last_editor_scroll.y - old.y;\r\n\t\t\tthis._for_each_editor(function(editor){\r\n\t\t\t\tif (editor.getPopup){\r\n\t\t\t\t\tvar node = this.getItemNode(editor);\r\n\t\t\t\t\tif (node)\r\n\t\t\t\t\t\teditor.getPopup().show(node);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\teditor.getPopup().show({ x:-10000, y:-10000 });\r\n\t\t\t\t} else if (!editor.$inline){\r\n\t\t\t\t\teditor.node.top -= diff;\r\n\t\t\t\t\teditor.node.style.top = editor.node.top + \"px\";\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n});\r\n\r\nwebix.extend(webix.ui.datatable, webix.EditAbility);\r\nwebix.extend(webix.ui.datatable, {\r\n\t$init:function(){\r\n\t\tthis._clear_hidden_state();\t\r\n\t\tthis.attachEvent(\"onStructureLoad\", this._hideInitialColumns);\r\n\t},\r\n\t_clear_hidden_state:function(){\r\n\t\tthis._hidden_column_hash = {};\r\n\t\tthis._hidden_column_order = webix.toArray();\r\n\t\tthis._hidden_split=[0,0];\r\n\t},\r\n\t_hideInitialColumns:function(){\r\n\t\tvar cols = this._columns;\r\n\t\tthis._getInitialSpans(cols);\r\n\r\n\t\tfor (var i = cols.length-1; i>=0; i--){\r\n\t\t\tif (cols[i].hidden)\r\n\t\t\t\tthis.hideColumn(cols[i].id, true, true);\r\n\t\t\telse if (cols[i].batch && this.config.visibleBatch && cols[i].batch!=this.config.visibleBatch){\r\n\t\t\t\tthis.hideColumn(cols[i].id, true, true);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_getInitialSpans:function(cols){\r\n\t\tfor(var i = 0; i<cols.length; i++)\r\n\t\t\tfor(var h = 0; h<cols[i].header.length;h++){\r\n\t\t\t\tvar line = cols[i].header[h];\r\n\t\t\t\tif(line && line.colspan)\r\n\t\t\t\t\tline.$colspan = line.colspan;\r\n\t\t\t}\r\n\t},\r\n\tmoveColumn:function(id, index){\r\n\t\tvar start_index = this.getColumnIndex(id);\r\n\t\tif (start_index == index) return; //already in place\r\n\t\tvar columns = this._settings.columns;\r\n\r\n\t\tvar start = columns.splice(start_index,1);\r\n\t\tvar pos = index - (index>start_index?1:0);\r\n\t\twebix.PowerArray.insertAt.call(columns, start[0], pos);\r\n\r\n\t\t//TODO: split handling\r\n\t\t//we can move split line when column dropped after it\r\n\r\n\t\tthis._refresh_columns();\r\n\t},\r\n\t_init_horder:function(){\r\n\t\tvar horder = this._hidden_column_order;\r\n\t\tvar cols = this._settings.columns;\r\n\t\tif (!horder.length){\r\n\t\t\tfor (var i=0; i<cols.length; i++)\r\n\t\t\t\thorder[i] = cols[i].id;\r\n\t\t\tthis._hidden_split = [this._settings.leftSplit, this._rightSplit];\r\n\t\t}\r\n\t},\r\n\tisColumnVisible:function(id){\r\n\t\treturn !this._hidden_column_hash[id];\r\n\t},\r\n\thideColumn:function(id, mode, silent){\r\n\t\tvar cols = this._settings.columns;\r\n\t\tvar horder = this._hidden_column_order;\r\n\t\tvar hhash = this._hidden_column_hash;\r\n\t\tvar column;\r\n\r\n\t\tif (mode!==false){\r\n\t\t\t\r\n\t\t\tvar index = this.getColumnIndex(id);\r\n\t\t\twebix.assert(index != -1, \"hideColumn: invalid ID or already hidden\");\r\n\t\t\tif(index === -1 || !this.callEvent(\"onBeforeColumnHide\", [id])) return;\r\n\r\n\t\t\t//in case of second call to hide the same column, command will be ignored\r\n\t\t\tif (index == -1) return;\r\n\r\n\t\t\tthis._init_horder();\r\n\r\n\t\t\tif (index<this._settings.leftSplit)\r\n\t\t\t\tthis._settings.leftSplit--;\r\n\t\t\tif (index>=this._rightSplit)\r\n\t\t\t\tthis._settings.rightSplit--;\r\n\t\t\telse \r\n\t\t\t\tthis._rightSplit--;\r\n\r\n\t\t\tthis._hideColumn(index);\r\n\t\t\tcolumn  = hhash[id] = cols.splice(index, 1)[0];\r\n\t\t\tcolumn._yr0 = -1;\r\n\t\t\tdelete this._columns_pull[id];\r\n\t\t\tthis.callEvent(\"onAfterColumnHide\", [id]);\r\n\t\t} else {\r\n\t\t\tcolumn = hhash[id];\r\n\t\t\twebix.assert(column, \"showColumn: invalid ID or already visible\");\r\n\r\n\t\t\t//in case of second show command for already visible column - ignoring\r\n\t\t\tif(!column || !this.callEvent(\"onBeforeColumnShow\", [id])) return;\r\n\r\n\t\t\tvar prev = null;\r\n\t\t\tvar i = 0;\r\n\t\t\tfor (; i<horder.length; i++){\r\n\t\t\t\tif (horder[i] == id)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tif (!hhash[horder[i]])\r\n\t\t\t\t\tprev = horder[i];\r\n\t\t\t}\r\n\t\t\tvar index = prev?this.getColumnIndex(prev)+1:0;\r\n\r\n\t\t\twebix.PowerArray.insertAt.call(cols,column, index);\r\n\t\t\tdelete column.hidden;\r\n\r\n\t\t\tif (i<this._hidden_split[0])\r\n\t\t\t\tthis._settings.leftSplit++;\r\n\t\t\tif (i>=this._hidden_split[1])\t\r\n\t\t\t\tthis._settings.rightSplit++;\r\n\t\t\telse\r\n\t\t\t\tthis._rightSplit++;\r\n\t\t\t\t\t\t\t\r\n\t\t\tdelete hhash[id];\r\n\t\t\tthis._columns_pull[id] = column;\r\n\t\t\tthis.callEvent(\"onAfterColumnShow\", [id]);\r\n\t\t}\r\n\t\tthis._fixColspansHidden(column, mode !== false ? 0 : 1);\r\n\t\tif (!silent)\r\n\t\t\tthis._refresh_columns();\r\n\t},\r\n\t_fixColspansHidden:function(config, mod){\r\n\t\tfor (var i = config.header.length - 1; i >= 0; i--) {\r\n\t\t\tvar ind = this._hidden_column_order;\r\n\t\t\tvar spanSource, isHidden = false, spanSize = 0;\r\n\r\n\t\t\tfor (var j = 0; j < ind.length; j++) {\r\n\t\t\t\tvar config = this.getColumnConfig(ind[j]);\r\n\t\t\t\tvar header = config.header[i];\r\n\t\t\t\tif (!this.isColumnVisible(ind[j])){\r\n\t\t\t\t\t//hidden column\r\n\t\t\t\t\tif (header && header.$colspan && spanSize <= 0){\r\n\t\t\t\t\t\t//start of colspan in hidden\r\n\t\t\t\t\t\tspanSize = header.colspan = header.$colspan;\r\n\t\t\t\t\t\tisHidden = spanSource = header;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (spanSource && spanSize > 0){\r\n\t\t\t\t\t\t//hidden column in colspan, decrease colspan size\r\n\t\t\t\t\t\tspanSource.colspan--;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//visible column\r\n\t\t\t\t\tif (isHidden && spanSize > 0 && spanSource && spanSource.colspan > 0){\r\n\t\t\t\t\t\t//bit start of colspan is hidden\r\n\t\t\t\t\t\theader = config.header[i] = spanSource;\r\n\t\t\t\t\t\tspanSource = header;\r\n\t\t\t\t\t} else if (header && header.$colspan && spanSize <= 0){\r\n\t\t\t\t\t\t//visible start of colspan\r\n\t\t\t\t\t\tspanSize = header.colspan = header.$colspan;\r\n\t\t\t\t\t\tspanSource = header;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tisHidden = null;\r\n\t\t\t\t}\r\n\t\t\t\tspanSize--;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\trefreshColumns:function(columns, reset){\r\n\t\tif ((columns && columns != this.config.columns) || reset){\r\n\t\t\tthis._clear_hidden_state();\r\n\t\t\tthis._filter_elements = [];\r\n\t\t\tif (columns)\r\n\t\t\t\tthis._rightSplit = columns.length - (this.config.rightSplit || 0);\r\n\t\t}\r\n\r\n\t\tthis._columns_pull = {};\r\n\t\t//clear rendered data\r\n\t\tfor (var i=0; i<this._columns.length; i++){\r\n\t\t\tvar col = this._columns[i];\r\n\t\t\tthis._columns_pull[col.id] = col;\r\n\t\t\tcol.attached = col.node = null;\r\n\t\t}\r\n\t\tfor (var i=0; i<3; i++){\r\n\t\t\tthis._header.childNodes[i].innerHTML = \"\";\r\n\t\t\tthis._body.childNodes[i].firstChild.innerHTML = \"\";\r\n\t\t}\r\n\r\n\t\t//render new structure\r\n\t\tthis._columns = this.config.columns = (columns || this.config.columns);\r\n\t\tthis._rightSplit = this._columns.length-this._settings.rightSplit;\r\n\r\n\t\tthis._dtable_fully_ready = 0;\r\n\t\tthis._define_structure();\r\n\r\n\t\tthis.callEvent(\"onStructureUpdate\");\r\n\r\n\t\tthis._update_scroll();\r\n\t\tthis.render();\t\r\n\t},\r\n\t_refresh_columns:function(){\r\n\t\tthis._dtable_fully_ready = 0;\r\n\t\tthis.callEvent(\"onStructureUpdate\");\r\n\t\t\r\n\t\tthis._apply_headers();\r\n\t\tthis.render();\r\n\t},\r\n\tshowColumn:function(id){\r\n\t\treturn this.hideColumn(id, false);\r\n\t},\r\n\tshowColumnBatch:function(batch, mode){\r\n\t\tvar preserve = typeof mode != \"undefined\";\r\n\t\tmode = mode !== false;\r\n\r\n\t\tthis.eachColumn(function(id, col){\r\n\t\t\tif(col.batch){\r\n\t\t\t\tvar hidden = this._hidden_column_hash[col.id];\r\n\t\t\t\tif (!mode) hidden = !hidden;\r\n\r\n\t\t\t\tif(col.batch == batch && hidden)\r\n\t\t\t\t\tthis.hideColumn(col.id, !mode, true);\r\n\t\t\t\telse if(!preserve && col.batch!=batch && !hidden)\r\n\t\t\t\t\tthis.hideColumn(col.id, mode, true);\r\n\t\t\t}\r\n\t\t}, true);\r\n\r\n\t\tthis._refresh_columns();\r\n\t}\r\n});\r\n\r\n\r\n\r\nwebix.extend(webix.ui.datatable, {\r\n\t$init:function(){\r\n        this.attachEvent(\"onAfterRender\", function(){\r\n\r\n            var sel = this.getSelectedId(true);\r\n            if(!sel.length || !this.getItemNode(sel[0])){\r\n                var node =  this._dataobj.querySelector(\".webix_cell\");\r\n                if(node) node.setAttribute(\"tabindex\", \"0\");\r\n            }\r\n        });\r\n    },\r\n\tmoveSelection:function(mode, shift){\r\n\t\tif(this._settings.disabled) return;\r\n\t\t//get existing selection as array\r\n\t\tvar t = this.getSelectedId(true);\r\n\t\tvar index = t.length-1;\r\n\t\t\r\n\t\tif (index < 0){\r\n\t\t\tif (mode == \"down\" || mode == \"right\") mode = \"top\";\r\n\t\t\telse if (mode == \"up\" || mode == \"left\") mode = \"bottom\";\r\n\t\t\telse return;\r\n\t\t\tindex = 0; \r\n\t\t\tt =  [{ row:1, column:1 }];\r\n\t\t}\r\n\r\n\t\tif (index>=0){\r\n\t\t\tvar row = t[index].row;\r\n\t\t\tvar column = t[index].column;\r\n\t\t\tvar preserve = this._settings.multiselect ? shift : false;\r\n\r\n\t\t\tif (mode == \"top\" || mode == \"bottom\") {\r\n\t\t\t\tif (row) {\r\n\t\t\t\t\t// first/last row setting\r\n\t\t\t\t\tif (mode == \"top\") \r\n\t\t\t\t\t\trow = this.data.getFirstId();\r\n\t\t\t\t\telse if (mode == \"bottom\") \r\n\t\t\t\t\t\trow = this.data.getLastId();\r\n\t\t\t\t}\r\n\t\t\t\tif (column) {\r\n\t\t\t\t\t// first/last column setting\r\n\t\t\t\t\tvar index = 0;\r\n\t\t\t\t\tif (mode == \"bottom\") \r\n\t\t\t\t\t\tindex = this.config.columns.length-1;\r\n\t\t\t\t\tcolumn = this.columnId(index);\r\n\t\t\t\t}\r\n\t\t\t} else if (mode == \"up\" || mode== \"down\" || mode == \"pgup\" || mode == \"pgdown\"){\r\n\t\t\t\tif (row){\r\n\t\t\t\t\t//it seems row's can be seleted\r\n\t\t\t\t\tvar index = this.getIndexById(row);\r\n\t\t\t\t\tvar step = (mode == \"pgup\" || mode == \"pgdown\") ? Math.round(this._dtable_offset_height/this._settings.rowHeight) : 1;\r\n\t\t\t\t\t//get new selection row\r\n\t\t\t\t\tif (mode == \"up\" || mode == \"pgup\") index-=step;\r\n\t\t\t\t\telse if (mode == \"down\" || mode == \"pgdown\") index+=step;\r\n\t\t\t\t\t//check that we in valid row range\r\n\t\t\t\t\tif (index <0) index=0;\r\n\t\t\t\t\tif (index >=this.data.order.length) index=this.data.order.length-1;\r\n\r\n\t\t\t\t\trow = this.getIdByIndex(index);\r\n\t\t\t\t\tif (!row && this._settings.pager)\r\n\t\t\t\t\t\tthis.showItemByIndex(index);\r\n\t\t\t\t}\r\n\t\t\t} else if (mode == \"right\" || mode == \"left\"){\r\n\t\t\t\tif (column && this.config.select != \"row\"){\r\n\t\t\t\t\t//it seems column's can be selected\r\n\t\t\t\t\tvar index = this.getColumnIndex(column);\r\n\t\t\t\t\t//get new selected column\r\n\t\t\t\t\tif (mode == \"right\") index++;\r\n\t\t\t\t\telse if (mode == \"left\") index--;\r\n\t\t\t\t\t//check that result column index is in valid range\r\n\t\t\t\t\tif (index<0 || index>=this.config.columns.length) return;\r\n\r\n\t\t\t\t\tcolumn = this.columnId(index);\r\n\t\t\t\t} else if ((this.open || this._subViewStorage) && mode == \"right\"){\r\n\t\t\t\t\treturn this.open ? this.open(row) : this.openSub(row);\r\n\t\t\t\t} else if ((this.close || this._subViewStorage) && mode == \"left\"){\r\n\t\t\t\t\treturn this.close ? this.close(row) : this.closeSub(row);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\twebix.assert(false, \"Not supported selection moving mode\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (row){\r\n\t\t\t\tthis.showCell(row, column);\r\n\r\n\t\t\t\tif(!this.select){ //switch on cell or row selection by default\r\n\t\t\t\t\twebix.extend(this, this._selections._commonselect, true);\r\n\t\t\t\t\tthis._settings.select = (this.open || this._subViewStorage?\"row\":\"cell\");\r\n\t\t\t\t\twebix.extend(this, this._selections[this._settings.select], true);\r\n\t\t\t\t}\r\n\t\t\t\tthis._select({ row:row, column:column }, preserve);\r\n\r\n\t\t\t\tvar node = this.getItemNode({ row:row, column:column });\r\n\t\t\t\tif(node)\r\n\t\t\t\t\tnode.focus();\r\n\t\t\t}\r\n\t\t}\r\n\r\n        return false;\r\n\t}\r\n});\r\nwebix.extend(webix.ui.datatable, webix.KeysNavigation);\r\n\r\n\r\n\r\n\r\nwebix.extend(webix.ui.datatable,webix.DataMove);\r\nwebix.extend(webix.ui.datatable, {\r\n\tdrag_setter:function(value){\r\n\t\t// disable drag-n-drop for frozen rows\r\n\t\tthis.attachEvent(\"onBeforeDrag\", function(context){\r\n\t\t\treturn this._checkDragTopSplit(context.source);\r\n\t\t});\r\n\t\tthis.attachEvent(\"onBeforeDragIn\", function(context){\r\n\t\t\treturn this._checkDragTopSplit(context.target);\r\n\t\t});\r\n\t\tthis.attachEvent(\"onBeforeDropOrder\", function(startId, index){\r\n\t\t\treturn index >= this._settings.topSplit;\r\n\t\t});\r\n\r\n\t\treturn webix.DragItem.drag_setter.call(this,value);\r\n\t},\r\n\t_checkDragTopSplit: function(ids){\r\n\t\tvar i, index,\r\n\t\t\tfrozen = false;\r\n\t\tif(this._settings.topSplit && ids){\r\n\t\t\tif(!webix.isArray(ids))\r\n\t\t\t\tids = [ids];\r\n\t\t\tfor(i=0; !frozen && i< ids.length;i++ ){\r\n\t\t\t\tindex = this.getIndexById(ids[i]);\r\n\t\t\t\tfrozen = index < this._settings.topSplit;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn !frozen;\r\n\t},\r\n\t$dragHTML:function(item, e){\r\n\t\tvar width = this._content_width - this._scrollSizeY;\r\n\t\tvar html=\"<div class='webix_dd_drag' style='width:\"+(width-2)+\"px;'>\";\r\n\t\tvar cols = this._settings.columns;\r\n\t\tfor (var i=0; i<cols.length; i++){\r\n\t\t\tvar value = this._getValue(item, cols[i]);\r\n\t\t\thtml += \"<div style='width:\"+cols[i].width+\"px;'>\"+value+\"</div>\";\r\n\t\t}\r\n\t\treturn html+\"</div>\";\r\n\t},\t\r\n\tgetHeaderNode:function(column_id, row_index){\r\n\t\tvar ind = this.getColumnIndex(column_id);\r\n\t\trow_index = row_index || 0;\r\n\t\tvar nodes = this._header.childNodes[1].getElementsByTagName(\"TR\")[row_index+1].childNodes;\r\n\t\tfor (var i=0; i<nodes.length; i++)\r\n\t\t\tif (nodes[i].getAttribute(\"column\") == ind)\r\n\t\t\t\treturn nodes[i].firstChild;\r\n\t\treturn null;\r\n\t},\r\n\tgetItemNode:function(id, e){\r\n\t\tif (id && !id.header){\r\n\t\t\tvar row = id.row || id;\r\n\t\t\tvar rowindex = this.getIndexById(row);\r\n\t\t\tvar state = this._get_y_range();\r\n\t\t\tvar minRow = state[0]-this._settings.topSplit;\r\n\t\t\t//row not visible\r\n\t\t\tif (rowindex < minRow && rowindex > state[1]) return;\r\n\r\n\t\t\t//get visible column\r\n\t\t\tvar x_range = this._get_x_range();\r\n\t\t\tvar colindex = this._settings.leftSplit ? 0 : x_range[0];\r\n\t\t\tif (id.column){\r\n\t\t\t\tcolindex = this.getColumnIndex(id.column);\r\n\t\t\t\t//column not visible\r\n\t\t\t\tif (colindex < this._rightSplit && colindex >= this._settings.leftSplit && ( colindex<x_range[0] || colindex > x_range[1]))\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar column = this._settings.columns[colindex];\r\n\r\n\t\t\tif (column.attached && column.node){\r\n\t\t\t\tvar nodeIndex = rowindex < this._settings.topSplit?rowindex:(rowindex-minRow);\r\n\t\t\t\treturn column.node.childNodes[nodeIndex];\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t},\r\n\tdragColumn_setter:function(value){\r\n\t\tvar control; //will be defined below\r\n\t\tif (value == \"order\"){\r\n\t\t\tcontrol = {\r\n\t\t\t\t$drag:webix.bind(function(s,e){\r\n\t\t\t\t\tvar id = this.locate(e);\r\n\t\t\t\t\tif (this._rs_process || !id || !this.callEvent(\"onBeforeColumnDrag\", [id.column, e])) return false;\r\n\t\t\t\t\twebix.DragControl._drag_context = { from:control, start:id, custom:\"column_dnd\" };\r\n\r\n\t\t\t\t\tvar column = this.getColumnConfig(id.column);\r\n\r\n\t\t\t\t\tthis._relative_column_drag = webix.html.posRelative(e);\r\n\t\t\t\t\tthis._limit_column_drag = column.width;\r\n\r\n\t\t\t\t\treturn \"<div class='webix_dd_drag_column' style='width:\"+column.width+\"px'>\"+(column.header[0].text||\"&nbsp;\")+\"</div>\";\r\n\t\t\t\t}, this),\r\n\t\t\t\t$dragPos:webix.bind(function(pos, e, node){\r\n\t\t\t\t\tvar context = webix.DragControl.getContext();\r\n\t\t\t\t\tvar box = webix.html.offset(this.$view);\r\n\t\t\t\t\tnode.style.display = 'none';\r\n\t\t\t\t\tvar html = document.elementFromPoint(pos.x, box.y+1);\r\n\r\n\t\t\t\t\tvar id = (html?this.locate(html):null);\r\n\r\n\t\t\t\t\tvar start = webix.DragControl.getContext().start.column;\r\n\r\n\t\t\t\t\tif (id && id.column != start && (!this._column_dnd_temp_block || id.column != this._last_sort_dnd_node )){\r\n\t\t\t\t\t\t//ignore normal dnd , and dnd from other components\r\n\t\t\t\t\t\tif (context.custom == \"column_dnd\" && webix.$$(html) == this){\r\n\r\n\t\t\t\t\t\t\tif (!this.callEvent(\"onBeforeColumnDropOrder\",[start, id.column,e])) return;\r\n\r\n\t\t\t\t\t\t\tvar start_index = this.getColumnIndex(start);\r\n\t\t\t\t\t\t\tvar end_index = this.getColumnIndex(id.column);\r\n\r\n\t\t\t\t\t\t\t//on touch devices we need to preserve drag-start element till the end of dnd\r\n\t\t\t\t\t\t\tif(e.touches){\r\n\t\t\t\t\t\t\t\tthis._dragTarget = e.target;\r\n\t\t\t\t\t\t\t\tthis._dragTarget.style.display = \"none\";\r\n\t\t\t\t\t\t\t\tthis.$view.parentNode.appendChild(this._dragTarget);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tthis.moveColumn(start, end_index+(start_index<end_index?1:0));\r\n\t\t\t\t\t\t\tthis._last_sort_dnd_node = id.column;\r\n\t\t\t\t\t\t\tthis._column_dnd_temp_block = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} if (id && id.column == start){\r\n\t\t\t\t\t\t//flag prevent flickering just after column move\r\n\t\t\t\t\t\tthis._column_dnd_temp_block = false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tnode.style.display = 'block';\r\n\r\n\t\t\t\t\tpos.x = pos.x - this._relative_column_drag.x;\r\n\t\t\t\t\tpos.y = box.y;\r\n\r\n\t\t\t\t\tif (pos.x < box.x)\r\n\t\t\t\t\t\tpos.x = box.x; \r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tvar max = box.x + this.$view.offsetWidth - this._scrollSizeY-this._limit_column_drag;\r\n\t\t\t\t\t\tif (pos.x > max)\r\n\t\t\t\t\t\t\tpos.x = max;\r\n\t\t\t\t\t}\r\n\t\t\t\t\twebix.DragControl._skip = true;\r\n\t\t\t\t\r\n\t\t\t\t}, this),\r\n\t\t\t\t$dragDestroy:webix.bind(function(a, node){\r\n\t\t\t\t\twebix.html.remove(node);\r\n\t\t\t\t\t//clean dnd source element\r\n\t\t\t\t\tif(this._dragTarget)\r\n\t\t\t\t\t\twebix.html.remove(this._dragTarget);\r\n\t\t\t\t\tvar id = webix.DragControl.getContext().start;\r\n\t\t\t\t\tthis.callEvent(\"onAfterColumnDropOrder\",[id.column, this._last_sort_dnd_node, a]);\r\n\t\t\t\t}, this),\r\n\t\t\t\t$drop: function(){}\r\n\t\t\t};\r\n\t\t} else if (value) {\r\n\t\t\tcontrol = {\r\n\t\t\t\t_inner_drag_only:true,\r\n\t\t\t\t$drag:webix.bind(function(s,e){\r\n\t\t\t\t\tvar id = this.locate(e);\r\n\t\t\t\t\tif (this._rs_process || !id || !this.callEvent(\"onBeforeColumnDrag\", [id.column, e])) return false;\r\n\t\t\t\t\twebix.DragControl._drag_context = { from:control, start:id, custom:\"column_dnd\" };\r\n\r\n\t\t\t\t\tvar header = this.getColumnConfig(id.column).header;\r\n\t\t\t\t\tvar text = \"&nbsp;\";\r\n\t\t\t\t\tfor (var i = 0; i < header.length; i++)\r\n\t\t\t\t\t\tif (header[i]){\r\n\t\t\t\t\t\t\ttext = header[i].text;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn \"<div class='webix_dd_drag_column'>\"+text+\"</div>\";\r\n\t\t\t\t}, this),\r\n\t\t\t\t$drop:webix.bind(function(s,t,e){\r\n\t\t\t\t\tvar target = e;\r\n\t\t\t\t\t//on touch devices event doesn't point to the actual drop target\r\n\t\t\t\t\tif(e.touches && this._drag_column_last)\r\n\t\t\t\t\t\ttarget = this._drag_column_last;\r\n\r\n\t\t\t\t\tvar id = this.locate(target);\r\n\r\n\t\t\t\t\tif (!id) return false;\r\n\t\t\t\t\tvar start = webix.DragControl.getContext().start.column;\r\n\t\t\t\t\tif (start != id.column){\r\n\t\t\t\t\t\tif (!this.callEvent(\"onBeforeColumnDrop\",[start, id.column ,e])) return;\r\n\t\t\t\t\t\tvar start_index = this.getColumnIndex(start);\r\n\t\t\t\t\t\tvar end_index = this.getColumnIndex(id.column);\r\n\r\n\t\t\t\t\t\tthis.moveColumn(start, end_index+(start_index<end_index?1:0));\r\n\t\t\t\t\t\tthis.callEvent(\"onAfterColumnDrop\",[start, id.column, e]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this),\r\n\t\t\t\t$dragIn:webix.bind(function(s,t,e){\r\n\t\t\t\t\tvar context = webix.DragControl.getContext();\r\n\t\t\t\t\t//ignore normal dnd , and dnd from other components\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (context.custom != \"column_dnd\" || context.from != control) return false;\r\n\r\n\t\t\t\t\tvar target = (e.target||e.srcElement);\r\n\t\t\t\t\twhile ((target.className||\"\").indexOf(\"webix_hcell\") == -1){\r\n\t\t\t\t\t\ttarget = target.parentNode;\r\n\t\t\t\t\t\tif (!target) return;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (target != this._drag_column_last){\t//new target\r\n\t\t\t\t\t\tif (this._drag_column_last)\r\n\t\t\t\t\t\t\twebix.html.removeCss(this._drag_column_last, \"webix_dd_over_column\");\r\n\t\t\t\t\t\twebix.html.addCss(target, \"webix_dd_over_column\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn (this._drag_column_last = target);\r\n\t\t\t\t}, this),\r\n\t\t\t\t$dragDestroy:webix.bind(function(a,h){\r\n\t\t\t\t\tif (this._drag_column_last)\r\n\t\t\t\t\t\twebix.html.removeCss(this._drag_column_last, \"webix_dd_over_column\");\r\n\t\t\t\t\twebix.html.remove(h);\r\n\t\t\t\t}, this)\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tif (value){\r\n\t\t\twebix.DragControl.addDrag(this._header, control);\r\n\t\t\twebix.DragControl.addDrop(this._header, control, true);\r\n\t\t}\r\n\t}\r\n});\r\nwebix.extend(webix.ui.datatable,webix.DragItem);\r\nwebix.extend(webix.ui.datatable, {\r\n\t_mark_invalid:function(id, details){\r\n\t\tthis._clear_invalid_css(id);\r\n\t\tfor (var key in details)\r\n\t\t\tthis.addCellCss(id, key, \"webix_invalid_cell\");\r\n\r\n\t\tthis.addCss(id, \"webix_invalid\");\r\n\t},\r\n\t_clear_invalid:function(id){\r\n\t\tthis._clear_invalid_css(id);\r\n\t\tthis.removeCss(id, \"webix_invalid\");\r\n\t},\r\n\t_clear_invalid_css:function(id){\r\n\t\tvar item = this.getItem(id);\r\n\t\tvar mark = this.data.getMark(id, \"$cellCss\");\r\n\t\tif (mark){\r\n\t\t\tfor (var key in mark)\r\n\t\t\t\tmark[key] = mark[key].replace(\"webix_invalid_cell\", \"\").replace(\"  \",\" \");\r\n\t\t}\r\n\t},\r\n\r\n\taddRowCss:function(id, css, silent){\r\n\t\tthis.addCss(id, css, silent);\r\n\t},\r\n\tremoveRowCss:function(id, css, silent){\r\n\t\tthis.removeCss(id, css, silent);\r\n\t},\r\n\taddCellCss:function(id, name, css, silent){\r\n\t\tvar mark = this.data.getMark(id, \"$cellCss\");\r\n\t\tvar newmark = mark || {};\r\n\r\n\t\tvar style = newmark[name]||\"\";\r\n\t\tnewmark[name] = style.replace(css, \"\").replace(\"  \",\" \")+\" \"+css;\r\n\r\n\t\tif (!mark) this.data.addMark(id, \"$cellCss\", false, newmark, true);\r\n\t\tif (!silent)\r\n\t\t\tthis.refresh(id);\r\n\t},\r\n\tremoveCellCss:function(id, name, css, silent){\r\n\t\tvar mark = this.data.getMark(id, \"$cellCss\");\r\n\t\tif (mark){\r\n\t\t\tvar style = mark[name]||\"\";\r\n\t\t\tif (style)\r\n\t\t\t\tmark[name] = style.replace(css, \"\").replace(\"  \",\" \");\r\n\t\t\tif (!silent)\r\n\t\t\t\tthis.refresh(id);\r\n\t\t}\r\n\t}\r\n});\r\nwebix.extend(webix.ui.datatable, webix.ValidateCollection);\r\n\r\n(function(){\r\n\tfunction getData(data){\r\n\t\tvar values = [];\r\n\t\tfor (var i = data.length - 1; i >= 0; i--) {\r\n\t\t\tvar value = data[i];\r\n\t\t\tvalues[i] = (typeof value === \"object\" ? value.value : value);\r\n\t\t}\r\n\t\treturn values;\r\n\t}\r\n\r\n\tvar SLines = webix.Sparklines = function(){};\r\n\tSLines.types ={};\r\n\r\n\tSLines.getTemplate = function(customConfig){\r\n\t\tvar config = customConfig||{};\r\n\t\tif(typeof customConfig == \"string\")\r\n\t\t\tconfig = { type: customConfig };\r\n\r\n\t\twebix.extend(config,{ type:\"line\" });\r\n\r\n\t\tvar slConstructor = this.types[config.type];\r\n\t\twebix.assert(slConstructor,\"Unknown sparkline type\");\r\n\t\treturn webix.bind(this._template, new slConstructor(config));\r\n\t};\r\n\r\n\tSLines._template =  function(item, common, data, column){\r\n\t\tif (column)\r\n\t\t\treturn this.draw(getData(data), column.width, 33);\r\n\t\telse\r\n\t\t\treturn this.draw(item.data || item, common.width, common.height);\r\n\t};\r\n})();\r\n\r\n// add \"sparklines\" type\r\nwebix.attachEvent(\"onDataTable\", function(table){\r\n\ttable.type.sparklines = webix.Sparklines.getTemplate();\r\n});\r\n\r\n(function(){\r\n\tfunction setOpacity(color,opacity){\r\n\t\tcolor = webix.color.toRgb(color);\r\n\t\tcolor.push(opacity);\r\n\t\treturn \"rgba(\"+color.join(\",\")+\")\";\r\n\t}\r\n\r\n\tfunction joinAttributes(attrs){\r\n\t\tvar result = ' ';\r\n\t\tif(attrs)\r\n\t\t\tfor(var a in attrs)\r\n\t\t\t\tresult += a+'=\\\"'+attrs[a]+'\\\" ';\r\n\t\treturn result;\r\n\t}\r\n\t// SVG\r\n\tvar SVG = {};\r\n\r\n\tSVG.draw = function(content, width, height, css){\r\n\t\tvar attrs = {\r\n\t\t\txmlns: 'http://www.w3.org/2000/svg',\r\n\t\t\tversion: '1.1',\r\n\t\t\theight: '100%',\r\n\t\t\twidth: '100%',\r\n\t\t\tviewBox: '0 0 '+width+' '+height,\r\n\t\t\t\"class\": css||\"\"\r\n\t\t};\r\n\t\treturn '<svg '+joinAttributes(attrs)+'>'+content+'</svg>';\r\n\t};\r\n\tSVG.styleMap = {\r\n\t\t\"lineColor\": \"stroke\",\r\n\t\t\"color\": \"fill\"\r\n\t};\r\n\tSVG.group = function(path){\r\n\t\treturn \"<g>\"+path+\"</g>\";\r\n\t};\r\n\tSVG._handlers = {\r\n\t\t// MoveTo: {x:px,y:py}\r\n\t\t\"M\": function(p){\r\n\t\t\treturn \" M \"+ p.x+\" \"+ p.y;\r\n\t\t},\r\n\t\t// LineTo: {x:px,y:py}\r\n\t\t\"L\": function(p){\r\n\t\t\treturn \" L \"+ p.x+\" \"+ p.y;\r\n\t\t},\r\n\t\t// Curve: 3 points {x:px,y:py}: two control points and an end point\r\n\t\t\"C\": function(cp0, cp1, p){\r\n\t\t\treturn \" C \"+cp0.x + \" \"+cp0.y+\" \"+cp1.x + \" \"+cp1.y+\" \"+p.x + \" \"+p.y;\r\n\t\t},\r\n\t\t// Arc: center point {x:px,y:py}, radius, angle0, angle1\r\n\t\t\"A\": function(p, radius, angle0, angle1){\r\n\t\t\tvar x = p.x+Math.cos(angle1)*radius;\r\n\t\t\tvar y = p.y+Math.sin(angle1)*radius;\r\n\t\t\treturn  \" A \"+radius+\" \"+radius+\" 0 0 1 \"+x+\" \"+y;\r\n\t\t}\r\n\t};\r\n\t// points is an array of an array with two elements: {string} line type, {array}\r\n\tSVG.definePath = function(points, close){\r\n\t\tvar path = \"\";\r\n\t\tfor(var i =0; i < points.length; i++){\r\n\t\t\twebix.assert(points[i][0]&&typeof points[i][0] == \"string\", \"Path type must be a string\");\r\n\t\t\tvar type = (points[i][0]).toUpperCase();\r\n\t\t\twebix.assert(this._handlers[type], \"Incorrect path type\");\r\n\t\t\tpath += this._handlers[type].apply(this,points[i].slice(1));\r\n\r\n\t\t}\r\n\t\tif(close)\r\n\t\t\tpath += \" Z\";\r\n\r\n\t\treturn path;\r\n\t};\r\n\tSVG._linePoints = function(points){\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i< points.length; i++){\r\n\t\t\tresult.push([i?\"L\":\"M\",points[i]]);\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\tSVG.setOpacity = function(color,opacity){\r\n\t\tcolor = webix.color.toRgb(color);\r\n\t\tcolor.push(opacity);\r\n\t\treturn \"rgba(\"+color.join(\",\")+\")\";\r\n\t};\r\n\tSVG._curvePoints = function(points){\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i< points.length; i++){\r\n\t\t\tvar p = points[i];\r\n\t\t\tif(!i){\r\n\t\t\t\tresult.push([\"M\",p[0]]);\r\n\t\t\t}\r\n\t\t\tresult.push([\"C\",p[1],p[2],p[3]]);\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\tSVG.getPath = function(path, css, attrs){\r\n\t\tattrs = joinAttributes(attrs);\r\n\t\treturn '<path class=\"'+css+'\" vector-effect=\"non-scaling-stroke\" d=\"'+path+'\" '+attrs+'/>';\r\n\t};\r\n\tSVG.getSector = function(p, radius, angle0, angle1, css, attrs){\r\n\t\tattrs = joinAttributes(attrs);\r\n\t\tvar x0 = p.x+Math.cos(angle0)*radius;\r\n\t\tvar y0 = p.y+Math.sin(angle0)*radius;\r\n\t\tvar lines = [\r\n\t\t\t[\"M\",p],\r\n\t\t\t[\"L\",{x:x0, y:y0}],\r\n\t\t\t[\"A\", p,radius,angle0,angle1],\r\n\t\t\t[\"L\",p]\r\n\t\t];\r\n\r\n\r\n\t\treturn '<path class=\"'+css+'\" vector-effect=\"non-scaling-stroke\" d=\"'+SVG.definePath(lines,true)+'\" '+attrs+'/>';\r\n\t};\r\n\tSVG.getCurve = function(points,css, attrs){\r\n\t\tattrs = joinAttributes(attrs);\r\n\t\tvar path = this.definePath(this._curvePoints(points));\r\n\t\treturn '<path fill=\"none\" class=\"'+css+'\" vector-effect=\"non-scaling-stroke\" d=\"'+path+'\" '+attrs+'/>';\r\n\t};\r\n\tSVG.getLine = function(p0,p1,css, attrs){\r\n\t\treturn this.getPath(this.definePath(this._linePoints([p0,p1]),true),css,attrs);\r\n\t};\r\n\tSVG.getCircle = function(p, radius, css, attrs){\r\n\t\tattrs = joinAttributes(attrs);\r\n\t\treturn '<circle class=\"'+css+'\" cx=\"'+ p.x+'\" cy=\"'+ p.y+'\" r=\"'+radius+'\" '+attrs+'/>';\r\n\t};\r\n\tSVG.getRect = function(x, y, width, height, css, attrs){\r\n\t\tattrs = joinAttributes(attrs);\r\n\t\treturn '<rect class=\"'+css+'\" rx=\"0\" ry=\"0\" x=\"'+x+'\" y=\"'+y+'\" width=\"'+width+'\" height=\"'+height+'\" '+attrs+'/>';\r\n\t};\r\n\twebix._SVG = SVG;\r\n})();\r\n(function(){\r\n\tvar defaults = {\r\n\t\tpaddingX: 3,\r\n\t\tpaddingY: 4,\r\n\t\tradius: 1,\r\n\t\tminHeight: 4,\r\n\t\teventRadius: 8\r\n\t};\r\n\r\n\tfunction Area(config){\r\n\t\tthis.config = webix.extend(webix.copy(defaults),config||{},true);\r\n\t}\r\n\r\n\tArea.prototype.draw = function(data, width, height){\r\n\t\tvar eventRadius, graph, path, points, styles,\r\n\t\t\tconfig = this.config,\r\n\t\t\tLine = webix.Sparklines.types.line.prototype,\r\n\t\t\trenderer = webix._SVG;\r\n\r\n\t\t// draw area\r\n\t\tpoints = this.getPoints(data, width, height);\r\n\t\tpath = renderer.definePath(Line._getLinePoints(points),true);\r\n\r\n\t\tif(config.color)\r\n\t\t\tstyles = this._applyColor(renderer,config.color);\r\n\r\n\t\tgraph = renderer.group(renderer.getPath(path,'webix_sparklines_area'+(styles?' '+styles.area:'')));\r\n\t\t// draw line\r\n\t\tpoints.splice(points.length - 3, 3);\r\n\t\tpath = renderer.definePath(Line._getLinePoints(points));\r\n\t\tgraph += renderer.group(renderer.getPath(path,'webix_sparklines_line'+(styles?' '+styles.line:'')));\r\n\t\t// draw items\r\n\t\tgraph += Line._drawItems(renderer, points, config.radius, 'webix_sparklines_item'+(styles?' '+styles.item:''));\r\n\t\t// draw event areas\r\n\t\teventRadius = Math.min(data.length?(width-2*(config.paddingX||0))/data.length:0,config.eventRadius);\r\n\t\tgraph += Line._drawEventItems(renderer, points, eventRadius);\r\n\t\treturn  renderer.draw(graph, width, height, 'webix_sparklines_area_chart'+(config.css?' '+config.css:''));\r\n\t};\r\n\tArea.prototype._applyColor = function(renderer,color){\r\n\t\tvar config = {'area': {}, 'line':{},'item':{}},\r\n\t\t\tmap = renderer.styleMap;\r\n\t\tif(color){\r\n\t\t\tconfig.area[map.color] = renderer.setOpacity(color,0.2);\r\n\t\t\tconfig.line[map.lineColor] = color;\r\n\t\t\tconfig.item[map.color] = color;\r\n\t\t\tfor(var name in config)\r\n\t\t\t\tconfig[name] = webix.html.createCss(config[name]);\r\n\t\t}\r\n\r\n\t\treturn config;\r\n\t};\r\n\tArea.prototype.getPoints = function(data, width, height){\r\n\t\tvar Line = webix.Sparklines.types.line.prototype;\r\n\t\tvar points =Line.getPoints.call(this, data, width, height);\r\n\t\tvar x = this.config.paddingX || 0;\r\n\t\tvar y = this.config.paddingY || 0;\r\n\t\tpoints.push({x: width - x, y: height - y},{x: x, y: height - y},{x: x, y: points[0].y});\r\n\t\treturn points;\r\n\t};\r\n\twebix.Sparklines.types[\"area\"]=Area;\r\n})();\r\n(function(){\r\n\tvar defaults = {\r\n\t\tpaddingX: 3,\r\n\t\tpaddingY: 4,\r\n\t\twidth: 20,\r\n\t\tmargin: 4,\r\n\t\tminHeight: 4,\r\n\t\teventRadius: 8,\r\n\t\torigin:0,\r\n\t\titemCss: function(value){return value < (this.config.origin||0)?\" webix_sparklines_bar_negative\":\"\";}\r\n\t};\r\n\tfunction Bar(config){\r\n\t\tthis.config = webix.extend(webix.copy(defaults),config||{},true);\r\n\t}\r\n\r\n\tBar.prototype.draw = function(data, width, height){\r\n\t\tvar i, css, p, y, padding,\r\n\t\t\tconfig = this.config,\r\n\t\t\tgraph = \"\", items = [],\r\n\t\t\tpoints = this.getPoints(data, width, height),\r\n\t\t\trenderer = webix._SVG;\r\n\r\n\t\t// draw bars\r\n\t\tfor( i = 0; i< points.length; i++){\r\n\t\t\tcss = (typeof config.itemCss == 'function'?config.itemCss.call(this,data[i]):(config.itemCss||''));\r\n\t\t\tif (config.negativeColor && data[i] < config.origin)\r\n\t\t\t\tcss += ' '+this._applyColor(renderer,config.negativeColor);\r\n\t\t\telse if(config.color)\r\n\t\t\t\tcss += ' '+this._applyColor(renderer,config.color);\r\n\t\t\tp = points[i];\r\n\t\t\titems.push(renderer.getRect(p.x, p.y, p.width, p.height,'webix_sparklines_bar '+css));\r\n\t\t}\r\n\t\tgraph += renderer.group(items.join(\"\"));\r\n\t\t// origin)\r\n\t\ty = parseInt(this._getOrigin(data, width, height),10)+0.5;\r\n\t\tpadding = config.paddingX||0;\r\n\t\tgraph += renderer.group(renderer.getLine({x:padding, y: y},{x: width-padding, y: y},'webix_sparklines_origin'));\r\n\r\n\t\t// event areas\r\n\t\tvar evPoints = this._getEventPoints(data, width, height);\r\n\t\tvar evItems = [];\r\n\t\tfor( i = 0; i< evPoints.length; i++){\r\n\t\t\tp = evPoints[i];\r\n\t\t\tevItems.push(renderer.getRect(p.x, p.y, p.width, p.height,'webix_sparklines_event_area ',{\"webix_area\":i}));\r\n\t\t}\r\n\t\tgraph += renderer.group(evItems.join(\"\"));\r\n\t\treturn  renderer.draw(graph, width, height, 'webix_sparklines_bar_chart'+(config.css?' '+config.css:''));\r\n\t};\r\n\tBar.prototype._applyColor = function(renderer,color){\r\n\t\tvar config = {},\r\n\t\t\tmap = renderer.styleMap;\r\n\t\tif(color)\r\n\t\t\tconfig[map.color] = color;\r\n\t\treturn webix.html.createCss(config);\r\n\t};\r\n\tBar.prototype._getOrigin = function(data, width, height){\r\n\t\tvar config = this.config;\r\n\t\tvar y = config.paddingY||0;\r\n\t\theight = (height||100)-y*2;\r\n\t\tvar pos = y+height;\r\n\t\tif(config.origin !== false){\r\n\t\t\tvar minValue = Math.min.apply(null,data);\r\n\t\t\tvar maxValue = Math.max.apply(null,data);\r\n\t\t\tvar origin = config.origin||0;\r\n\t\t\tif(origin >= maxValue){\r\n\t\t\t\tpos = y;\r\n\t\t\t}\r\n\t\t\telse if(origin > minValue){\r\n\t\t\t\tvar unitY = height/(maxValue - minValue);\r\n\t\t\t\tpos -= unitY*(origin-minValue);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn pos;\r\n\t};\r\n\tBar.prototype._getEventPoints = function(data, width, height){\r\n\t\tvar result = [];\r\n\t\tvar x = this.config.paddingX||0;\r\n\t\tvar y = this.config.paddingY||0;\r\n\t\twidth = (width||100)-x*2;\r\n\t\theight = (height||100)-y*2;\r\n\t\tif(data.length){\r\n\t\t\tvar unitX = width/data.length;\r\n\t\t\tfor(var i=0; i < data.length; i++)\r\n\t\t\t\tresult.push({x: Math.ceil(unitX*i)+x, y: y, height: height, width: unitX});\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\tBar.prototype.getPoints = function(data, width, height){\r\n\t\tvar config = this.config;\r\n\t\tvar minValue = Math.min.apply(null,data);\r\n\t\tvar maxValue = Math.max.apply(null,data);\r\n\t\tvar result = [];\r\n\t\tvar x = config.paddingX;\r\n\t\tvar y = config.paddingY;\r\n\t\tvar margin = config.margin;\r\n\t\tvar barWidth = config.width||20;\r\n\t\tvar originY = this._getOrigin(data,width,height);\r\n\t\twidth = (width||100)-x*2;\r\n\t\theight = (height||100)-y*2;\r\n\t\tif(data.length){\r\n\t\t\tvar unitX = width/data.length;\r\n\t\t\tvar yNum = maxValue - minValue;\r\n\t\t\tbarWidth = Math.min(unitX-margin,barWidth);\r\n\t\t\tmargin = unitX-barWidth;\r\n\t\t\tvar minHeight = 0;\r\n\t\t\tvar origin = minValue;\r\n\r\n\t\t\tif(config.origin !== false && config.origin > minValue)\r\n\t\t\t\torigin = config.origin||0;\r\n\t\t\telse\r\n\t\t\t\tminHeight = config.minHeight;\r\n\r\n\t\t\tvar unitY = (height-minHeight)/(yNum?yNum:1);\r\n\r\n\t\t\tfor(var i=0; i < data.length; i++){\r\n\t\t\t\tvar h = Math.ceil(unitY*(data[i]-origin));\r\n\t\t\t\tresult.push({x: Math.ceil(unitX*i)+x+margin/2, y: originY-(data[i]>=origin?h:0)-minHeight, height: Math.abs(h)+minHeight, width: barWidth});\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\twebix.Sparklines.types[\"bar\"]=Bar;\r\n})();\r\n(function(){\r\n\tvar defaults = {\r\n\t\tpaddingX: 6,\r\n\t\tpaddingY: 6,\r\n\t\tradius: 2,\r\n\t\tminHeight: 4,\r\n\t\teventRadius: 8\r\n\t};\r\n\tfunction Line(config){\r\n\t\tthis.config = webix.extend(webix.copy(defaults),config||{},true);\r\n\t}\r\n\r\n\tLine.prototype.draw = function(data, width, height){\r\n\t\tvar points = this.getPoints(data, width, height);\r\n\t\tvar config = this.config;\r\n\t\tvar renderer = webix._SVG;\r\n\t\tvar styles = config.color?this._applyColor(renderer,config.color):null;\r\n\t\t// draw line\r\n\t\tvar path = renderer.definePath(this._getLinePoints(points));\r\n\t\tvar graph = renderer.group(renderer.getPath(path,'webix_sparklines_line'+(styles?' '+styles.line:'')));\r\n\t\t// draw items\r\n\t\tgraph += this._drawItems(renderer, points, config.radius, 'webix_sparklines_item'+(styles?' '+styles.item:''));\r\n\t\t// draw event items\r\n\t\tvar eventRadius = Math.min(data.length?(width-2*(config.paddingX||0))/data.length:0,config.eventRadius);\r\n\t\tgraph += this._drawEventItems(renderer, points, eventRadius);\r\n\t\treturn  renderer.draw(graph, width, height, \"webix_sparklines_line_chart\"+(config.css?' '+config.css:''));\r\n\t};\r\n\tLine.prototype._applyColor = function(renderer,color){\r\n\t\tvar config = {'line':{},'item':{}},\r\n\t\t\tmap = renderer.styleMap;\r\n\t\tif(color){\r\n\t\t\tconfig.line[map.lineColor] = color;\r\n\t\t\tconfig.item[map.color] = color;\r\n\t\t\tfor(var name in config)\r\n\t\t\t\tconfig[name] = webix.html.createCss(config[name]);\r\n\t\t}\r\n\t\treturn config;\r\n\t};\r\n\tLine.prototype._drawItems = function(renderer,points,radius,css,attrs){\r\n\t\tvar items = [];\r\n\t\tfor(var i = 0; i< points.length; i++){\r\n\t\t\titems.push(renderer.getCircle(points[i], radius, css,attrs));\r\n\t\t}\r\n\t\treturn renderer.group(items.join(\"\"));\r\n\t};\r\n\tLine.prototype._drawEventItems = function(renderer,points,radius){\r\n\t\tvar items = [];\r\n\t\tfor(var i = 0; i< points.length; i++){\r\n\t\t\titems.push(renderer.getCircle(points[i], radius, 'webix_sparklines_event_area', {webix_area:i}));\r\n\t\t}\r\n\t\treturn renderer.group(items.join(\"\"));\r\n\t};\r\n\r\n\tLine.prototype._getLinePoints = function(points){\r\n\t\tvar i, type, result =[];\r\n\t\tfor( i =0; i< points.length; i++){\r\n\t\t\ttype = i?\"L\":\"M\";\r\n\t\t\tresult.push([type,points[i]]);\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\tLine.prototype.getPoints = function(data, width, height) {\r\n\t\tvar config = this.config;\r\n\t\tvar minValue = Math.min.apply(null,data);\r\n\t\tvar maxValue = Math.max.apply(null,data);\r\n\t\tvar result = [];\r\n\t\tvar x = config.paddingX||0;\r\n\t\tvar y = config.paddingY||0;\r\n\t\twidth = (width||100)-x*2;\r\n\t\tvar minHeight = config.minHeight||0;\r\n\t\theight = (height||100)-y*2;\r\n\t\tif(data.length){\r\n\t\t\tif(data.length==1)\r\n\t\t\t\tresult.push({x: width/2+x, y: height/2+x});\r\n\t\t\telse{\r\n\t\t\t\tvar unitX = width/(data.length-1);\r\n\t\t\t\tvar yNum = maxValue - minValue;\r\n\t\t\t\tvar unitY = (height- minHeight)/(yNum?yNum:1);\r\n\t\t\t\tif(!yNum)\r\n\t\t\t\t\theight /= 2;\r\n\t\t\t\tfor(var i=0; i < data.length; i++){\r\n\t\t\t\t\tresult.push({x: Math.ceil(unitX*i)+x, y: height-Math.ceil(unitY*(data[i]-minValue))+y-minHeight});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\twebix.Sparklines.types[\"line\"] = Line;\r\n})();\r\n(function(){\r\n\tvar defaults = {\r\n\t\tpaddingY: 2\r\n\t};\r\n\r\n\tfunction Pie(config){\r\n\t\tthis.config = webix.extend(defaults,config||{},true);\r\n\t}\r\n\tPie.prototype._defColorsCursor = 0;\r\n\tPie.prototype._defColors  = [\r\n\t\t\"#f55b50\",\"#ff6d3f\",\"#ffa521\",\"#ffc927\",\"#ffee54\",\"#d3e153\",\"#9acb61\",\"#63b967\",\r\n\t\t\"#21a497\",\"#21c5da\",\"#3ea4f5\",\"#5868bf\",\"#7b53c0\",\"#a943ba\",\"#ec3b77\",\"#9eb0b8\"\r\n\t];\r\n\tPie.prototype._getColor = function(i,data){\r\n\t\tvar count = data.length;\r\n\t\tvar colorsCount = this._defColors.length;\r\n\t\tif(colorsCount > count){\r\n\t\t\tif(i){\r\n\t\t\t\tif(i < colorsCount - count)\r\n\t\t\t\t\ti = this._defColorsCursor +2;\r\n\t\t\t\telse\r\n\t\t\t\t\ti = this._defColorsCursor+1;\r\n\t\t\t}\r\n\t\t\tthis._defColorsCursor = i;\r\n\t\t}\r\n\t\telse\r\n\t\t\ti = i%colorsCount;\r\n\t\treturn this._defColors[i];\r\n\t};\r\n\tPie.prototype.draw = function(data, width, height){\r\n\t\tvar attrs, graph, i, sectors,\r\n\t\t\tconfig = this.config,\r\n\t\t\tcolor = config.color||this._getColor,\r\n\t\t\tpoints = this.getAngles(data),\r\n\t\t\trenderer = webix._SVG,\r\n\t\t\ty = config.paddingY|| 0,\r\n\t\t\t// radius\r\n\t\t\tr = height/2 - y,\r\n\t\t\t// center\r\n\t\t\tx0 = width/2, y0 = height/2;\r\n\r\n\t\t// draw sectors\r\n\t\tif(typeof color != \"function\")\r\n\t\t\tcolor = function(){return color;};\r\n\t\tsectors = \"\";\r\n\t\tfor( i =0; i < points.length; i++){\r\n\t\t\tattrs = {};\r\n\t\t\tattrs[renderer.styleMap['color']] = color.call(this,i,data,this._context);\r\n\t\t\tsectors += renderer.getSector({x:x0,y:y0},r,points[i][0],points[i][1],'webix_sparklines_sector', attrs);\r\n\t\t}\r\n\t\tgraph = renderer.group(sectors);\r\n\r\n\t\t// draw event areas\r\n\t\tsectors = \"\";\r\n\t\tfor(i =0; i < points.length; i++){\r\n\t\t\tsectors += renderer.getSector({x:x0,y:y0},r,points[i][0],points[i][1],'webix_sparklines_event_area',{\"webix_area\":i});\r\n\t\t}\r\n\t\tgraph += renderer.group(sectors);\r\n\r\n\t\treturn  renderer.draw(graph, width, height, 'webix_sparklines_pie_chart'+(config.css?' '+config.css:''));\r\n\t};\r\n\tPie.prototype.getAngles = function(data){\r\n\t\tvar a0 = -Math.PI/ 2, a1,\r\n\t\t\ti, result = [];\r\n\r\n\t\tvar ratios = this._getRatios(data);\r\n\r\n\t\tfor( i =0; i < data.length; i++){\r\n\t\t\ta1= -Math.PI/2+ratios[i]-0.0001;\r\n\t\t\tresult.push([a0,a1]);\r\n\t\t\ta0 = a1;\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\tPie.prototype._getTotalValue = function(data){\r\n\t\tvar t=0;\r\n\t\tfor(var i = 0; i < data.length;i++)\r\n\t\t\tt += data[i];\r\n\t\treturn  t;\r\n\t};\r\n\tPie.prototype._getRatios = function(data){\r\n\t\tvar i, value,\r\n\t\t\tratios = [],\r\n\t\t\tprevSum = 0,\r\n\t\t\ttotalValue = this._getTotalValue(data);\r\n\t\tfor(i = 0; i < data.length;i++){\r\n\t\t\tvalue = data[i];\r\n\t\t\tratios[i] = Math.PI*2*(totalValue?((value+prevSum)/totalValue):(1/data.length));\r\n\t\t\tprevSum += value;\r\n\t\t}\r\n\r\n\t\treturn ratios;\r\n\t};\r\n\r\n\twebix.Sparklines.types[\"pie\"]=Pie;\r\n})();\r\n(function(){\r\n\tvar defaults = {\r\n\t\tpaddingX: 3,\r\n\t\tpaddingY: 6,\r\n\t\tradius: 2,\r\n\t\tminHeight: 4,\r\n\t\teventRadius: 8\r\n\t};\r\n\r\n\tfunction Spline(config){\r\n\t\tthis.config = webix.extend(webix.copy(defaults),config||{},true);\r\n\t}\r\n\r\n\tSpline.prototype.draw = function(data, width, height){\r\n\t\tvar config = this.config,\r\n\t\t\tgraph = \"\",\r\n\t\t \tLine = webix.Sparklines.types.line.prototype,\r\n\t\t\tpoints = this.getPoints(data, width, height),\r\n\t\t\trenderer = webix._SVG,\r\n\t\t\tstyles = config.color?this._applyColor(renderer,config.color):null;\r\n\r\n\t\t// draw spline\r\n\t\tgraph += renderer.group(renderer.getCurve(points, 'webix_sparklines_line'+(styles?' '+styles.line:'')));\r\n\r\n\t\tvar linePoints = Line.getPoints.call(this,data, width, height);\r\n\t\t// draw items\r\n\t\tgraph += Line._drawItems(renderer, linePoints, config.radius, 'webix_sparklines_item'+(styles?' '+styles.item:''));\r\n\t\t// draw event items\r\n\t\tvar eventRadius = Math.min(data.length?(width-2*(config.paddingX||0))/data.length:0,config.eventRadius);\r\n\t\tgraph += Line._drawEventItems(renderer, linePoints, eventRadius);\r\n\t\treturn  renderer.draw(graph, width, height,\"webix_sparklines_line_chart\"+(config.css?' '+config.css:''));\r\n\t};\r\n\tSpline.prototype._applyColor = function(renderer,color){\r\n\t\tvar config = {'line':{},'item':{}},\r\n\t\t\tmap = renderer.styleMap;\r\n\t\tif(color){\r\n\t\t\tconfig.line[map.lineColor] = color;\r\n\t\t\tconfig.item[map.color] = color;\r\n\t\t\tfor(var name in config)\r\n\t\t\t\tconfig[name] = webix.html.createCss(config[name]);\r\n\t\t}\r\n\t\treturn config;\r\n\t};\r\n\tSpline.prototype.getPoints = function(data, width, height){\r\n\t\tvar i, points, px, py,\r\n\t\t\tresult = [], x = [], y =[],\r\n\t\t\tLine = webix.Sparklines.types.line.prototype;\r\n\r\n\t\tpoints = Line.getPoints.call(this, data, width, height);\r\n\r\n\t\tfor(i = 0; i< points.length; i++){\r\n\t\t\tx.push(points[i].x);\r\n\t\t\ty.push(points[i].y);\r\n\t\t}\r\n\t\tpx = this._getControlPoints(x);\r\n\t\tpy = this._getControlPoints(y);\r\n\t\t/*updates path settings, the browser will draw the new spline*/\r\n\t\tfor ( i=0;i<points.length-1;i++){\r\n\t\t\tresult.push([points[i],{x:px[0][i],y:py[0][i]},{x:px[1][i],y:py[1][i]},points[i+1]]);\r\n\t\t}\r\n\t\treturn result;\r\n\r\n\t};\r\n\t/* code from https://www.particleincell.com/2012/bezier-splines/ */\r\n\tSpline.prototype._getControlPoints = function(points){\r\n\t\tvar a=[], b=[], c=[], r=[], p1=[], p2=[],\r\n\t\t\ti, m, n = points.length-1;\r\n\r\n\t\ta[0]=0;\r\n\t\tb[0]=2;\r\n\t\tc[0]=1;\r\n\t\tr[0] = points[0] + 2*points[1];\r\n\r\n\t\tfor (i = 1; i < n - 1; i++){\r\n\t\t\ta[i]=1;\r\n\t\t\tb[i]=4;\r\n\t\t\tc[i]=1;\r\n\t\t\tr[i] = 4 * points[i] + 2 * points[i+1];\r\n\t\t}\r\n\r\n\t\ta[n-1]=2;\r\n\t\tb[n-1]=7;\r\n\t\tc[n-1]=0;\r\n\t\tr[n-1] = 8*points[n-1]+points[n];\r\n\r\n\t\tfor (i = 1; i < n; i++){\r\n\t\t\tm = a[i]/b[i-1];\r\n\t\t\tb[i] = b[i] - m * c[i - 1];\r\n\t\t\tr[i] = r[i] - m*r[i-1];\r\n\t\t}\r\n\r\n\t\tp1[n-1] = r[n-1]/b[n-1];\r\n\t\tfor (i = n - 2; i >= 0; --i)\r\n\t\t\tp1[i] = (r[i] - c[i] * p1[i+1]) / b[i];\r\n\r\n\t\tfor (i=0;i<n-1;i++)\r\n\t\t\tp2[i]=2*points[i+1]-p1[i+1];\r\n\r\n\t\tp2[n-1]=0.5*(points[n]+p1[n-1]);\r\n\r\n\t\treturn [p1, p2];\r\n\t};\r\n\r\n\twebix.Sparklines.types[\"spline\"] = Spline;\r\n\r\n\tvar defaultsArea = {\r\n\t\tpaddingX: 3,\r\n\t\tpaddingY: 6,\r\n\t\tradius: 1,\r\n\t\tminHeight: 4,\r\n\t\teventRadius: 8\r\n\t};\r\n\t// spline area\r\n\tfunction SplineArea(config){\r\n\t\tthis.config = webix.extend(webix.copy(defaultsArea),config||{},true);\r\n\t}\r\n\tSplineArea.prototype = webix.copy(Spline.prototype);\r\n\tSplineArea.prototype.draw = function(data, width, height){\r\n\t\tvar config = this.config,\r\n\t\t\tLine = webix.Sparklines.types.line.prototype,\r\n\t\t\trenderer = webix._SVG,\r\n\t\t\tstyles = config.color?this._applyColor(renderer,config.color):null;\r\n\r\n\t\tvar points = this.getPoints(data, width, height);\r\n\t\t// draw area\r\n\t\tvar linePoints = points.splice(points.length - 3, 3);\r\n\t\tvar linePath = renderer._linePoints(linePoints);\r\n\t\tlinePath[0][0] = \"L\";\r\n\t\tvar areaPoints = renderer._curvePoints(points).concat(linePath);\r\n\t\tvar graph = renderer.group(renderer.getPath(renderer.definePath(areaPoints),'webix_sparklines_area'+(styles?' '+styles.area:''), true));\r\n\t\t// draw line\r\n\t\tgraph += renderer.group(renderer.getPath(renderer.definePath(renderer._curvePoints(points)),'webix_sparklines_line'+(styles?' '+styles.line:'')));\r\n\r\n\t\tvar itemPoints = Line.getPoints.call(this,data, width, height);\r\n\t\t// draw items\r\n\t\tgraph += Line._drawItems(renderer, itemPoints, config.radius, 'webix_sparklines_item'+(styles?' '+styles.item:''));\r\n\t\t// draw event items\r\n\t\tvar eventRadius = Math.min(data.length?(width-2*(config.paddingX||0))/data.length:0,config.eventRadius);\r\n\t\tgraph += Line._drawEventItems(renderer, itemPoints, eventRadius);\r\n\t\treturn  renderer.draw(graph, width, height, \"webix_sparklines_splinearea_chart\"+(config.css?' '+config.css:''));\r\n\t};\r\n\tSplineArea.prototype._applyColor = function(renderer,color){\r\n\t\tvar config = {'area': {}, 'line':{},'item':{}},\r\n\t\t\tmap = renderer.styleMap;\r\n\t\tif(color){\r\n\t\t\tconfig.area[map.color] = renderer.setOpacity(color,0.2);\r\n\t\t\tconfig.line[map.lineColor] = color;\r\n\t\t\tconfig.item[map.color] = color;\r\n\t\t\tfor(var name in config)\r\n\t\t\t\tconfig[name] = webix.html.createCss(config[name]);\r\n\t\t}\r\n\t\treturn config;\r\n\t};\r\n\tSplineArea.prototype.getPoints = function(data, width, height){\r\n\t\tvar points = Spline.prototype.getPoints.call(this, data, width, height);\r\n\t\tvar x = this.config.paddingX || 0;\r\n\t\tvar y = this.config.paddingY || 0;\r\n\t\tpoints.push({x: width - x, y: height - y},{x: x, y: height - y},{x: x, y: points[0][0].y});\r\n\t\treturn points;\r\n\t};\r\n\twebix.Sparklines.types[\"splineArea\"] = SplineArea;\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.TreeTableClick = {};\r\n\r\nwebix.TreeTablePaste = {\r\n\tinsert: function(data) {\r\n\t\tvar parent = this.getSelectedId(true, true);\r\n\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\tvar item = {};\r\n\t\t\tfor (var j = 0; j < this._settings.columns.length; j++) {\r\n\t\t\t\titem[this._settings.columns[j].id] = data[i][j] || \"\";\r\n\t\t\t}\r\n\t\t\tif (!webix.isUndefined(item.id) && this.exists(item.id))\r\n\t\t\t\titem.id = webix.uid();\r\n\t\t\tthis.add(item, null, parent[0]);\r\n\t\t}\r\n\t}\r\n};\r\n\r\nwebix.protoUI({\r\n\tname:\"treetable\",\r\n\t$init:function(){\r\n\t\twebix.extend(this.data, webix.TreeStore, true);\r\n\t\twebix.extend(this.type, webix.TreeType);\r\n\t\twebix.extend(this,  webix.TreeDataMove, true);\r\n\r\n\t\tfor (var key in webix.TreeClick)\r\n\t\t\tif (!this.on_click[key])\r\n\t\t\t\tthis.on_click[key] = this._unwrap_id(webix.TreeClick[key]);\r\n\t\t\r\n\t\tthis.type.treetable = webix.template(\"{common.space()}{common.icon()} {common.folder()}\");\r\n\t\tthis.type.treecheckbox = function(obj, common){\r\n\t\t\tif (obj.indeterminate && !obj.nocheckbox)\r\n\t\t\t\treturn \"<div class='webix_tree_checkbox webix_indeterminate'></div>\";\r\n\t\t\telse\r\n\t\t\t\treturn webix.TreeType.checkbox.apply(this, arguments);\r\n\t\t};\r\n\t\r\n\t\tthis.data.provideApi(this,true);\r\n\r\n\t\tthis._viewobj.setAttribute(\"role\", \"treegrid\");\r\n\r\n\t},\r\n\t$exportView:function(options){\r\n\t\twebix.extend(options, { filterHTML: true });\r\n\t\treturn this;\r\n\t},\r\n\t_drag_order_complex:false,\r\n\t_unwrap_id:function(original){\r\n\t\treturn function (e,id){\r\n\t\t\tid = id.row;\r\n\t\t\treturn original.call(this,e,id);\r\n\t\t};\r\n\t},\r\n\tgetState:function(){\r\n\t\tvar state = webix.DataState.getState.call(this);\r\n\t\twebix.extend(state, webix.TreeAPI.getState.call(this));\r\n\t\treturn state;\r\n\t},\r\n\tsetState:function(state){\r\n\t\tif (webix.TreeAPI.setState.call(this, state)){\r\n\t\t\t//run grid-state only when tree component was fully loaded \r\n\t\t\twebix.DataState.setState.call(this, state);\t\r\n\t\t}\r\n\t},\r\n\tclipboard_setter: function(value) {\r\n\t\twebix.extend(this._paste, webix.TreeTablePaste);\r\n\t\treturn webix.TablePaste.clipboard_setter.call(this, value);\r\n\t},\r\n\t_run_load_next:function(conf, direction){\r\n\t\tfor (var i=0; i<conf.start; i++){\r\n\t\t\tvar id = this.data.order[i];\r\n\t\t\tif (id && this.getItem(id).$level != 1)\r\n\t\t\t\tconf.start--;\r\n\t\t}\r\n\t\treturn webix.ui.datatable.prototype._run_load_next.call(this, conf, direction);\r\n\t},\r\n}, webix.TreeAPI, webix.TreeStateCheckbox, webix.TreeDataLoader, webix.ui.datatable);\r\n\r\n\r\n\r\n\r\n\r\nwebix.Canvas = webix.proto({\r\n\t$init:function(container){\r\n\t\tthis._canvas_labels = [];\r\n\t\tthis._canvas_name =  container.name;\r\n\t\tthis._obj = webix.toNode(container.container||container);\r\n\t\tvar width = container.width*(window.devicePixelRatio||1);\r\n\t\tvar height = container.height*(window.devicePixelRatio||1);\r\n\t\tvar style = container.style||\"\";\r\n\t\tstyle += \";width:\"+container.width+\"px;height:\"+container.height+\"px;\";\r\n\t\tthis._prepareCanvas(container.name, style ,width, height);\r\n\t},\r\n\t_prepareCanvas:function(name,style,x,y){\r\n\t\t//canvas has the same size as master object\r\n\t\tthis._canvas = webix.html.create(\"canvas\",{ title:name, width:x, height:y, canvas_id:name, style:(style||\"\")});\r\n\t\tthis._obj.appendChild(this._canvas);\r\n\t\t//use excanvas in IE\r\n\t\tif (!this._canvas.getContext){\r\n\t\t\tif (webix.env.isIE){\r\n\t\t\t\twebix.require(\"legacy/excanvas/excanvas.js\", true);\t//sync loading\r\n\t\t\t\tG_vmlCanvasManager.init_(document);\r\n\t\t\t\tG_vmlCanvasManager.initElement(this._canvas);\r\n\t\t\t} else\t//some other not supported browser\r\n\t\t\t\twebix.assert(this._canvas.getContext,\"Canvas is not supported in the browser\");\r\n\t\t}\r\n\t\treturn this._canvas;\r\n\t}, \r\n\tgetCanvas:function(context){\r\n\t\tvar ctx = (this._canvas||this._prepareCanvas(this._contentobj)).getContext(context||\"2d\");\r\n\t\tif(!this._webixDevicePixelRatio){\r\n\t\t\tthis._webixDevicePixelRatio = true;\r\n\t\t\tctx.scale(window.devicePixelRatio||1, window.devicePixelRatio||1);\r\n\t\t}\r\n\t\treturn ctx;\r\n\t},\r\n\t_resizeCanvas:function(x, y){\r\n\t\tif (this._canvas){\r\n\t\t\tthis._canvas.setAttribute(\"width\", x*(window.devicePixelRatio||1));\r\n\t\t\tthis._canvas.setAttribute(\"height\", y*(window.devicePixelRatio||1));\r\n\t\t\tthis._canvas.style.width = x+\"px\";\r\n\t\t\tthis._canvas.style.height = y+\"px\";\r\n\t\t\tthis._webixDevicePixelRatio = false;\r\n\t\t}\r\n\t},\r\n\trenderText:function(x,y,text,css,w){\r\n\t\tif (!text) return; //ignore empty text\r\n\t\tif (w) w = Math.max(w,0);\r\n\t\tif (y) y = Math.max(y,0);\r\n\t\tvar t = webix.html.create(\"DIV\",{\r\n\t\t\t\"class\":\"webix_canvas_text\"+(css?(\" \"+css):\"\"),\r\n\t\t\t\"style\":\"left:\"+x+\"px; top:\"+y+\"px;\",\r\n\t\t\t\"aria-hidden\":\"true\"\r\n\t\t},text);\r\n\t\tthis._obj.appendChild(t);\r\n\t\tthis._canvas_labels.push(t); //destructor?\r\n\t\tif (w)\r\n\t\t\tt.style.width = w+\"px\";\r\n\t\treturn t;\r\n\t},\r\n\trenderTextAt:function(valign,align, x,y,t,c,w){\r\n\t\tvar text=this.renderText.call(this,x,y,t,c,w);\r\n\t\tif (text){\r\n\t\t\tif (valign){\r\n\t\t\t\tif(valign == \"middle\")\r\n\t\t\t\t\ttext.style.top = parseInt(y-text.offsetHeight/2,10) + \"px\";\r\n\t\t\t\telse\r\n\t\t\t\t\ttext.style.top = y-text.offsetHeight + \"px\";\r\n\t\t\t}\r\n\t\t\tif (align){\r\n\t\t\t\tif(align == \"left\")\r\n\t\t\t\t\ttext.style.left = x-text.offsetWidth + \"px\";\r\n\t\t\t\telse\r\n\t\t\t\t\ttext.style.left = parseInt(x-text.offsetWidth/2,10) + \"px\";\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn text;\r\n\t},\r\n\tclearCanvas:function(skipMap){\r\n\t\tvar areas=[], i;\r\n\r\n\t\tfor(i=0; i < this._canvas_labels.length;i++)\r\n\t\t\tthis._obj.removeChild(this._canvas_labels[i]);\r\n\t\tthis._canvas_labels = [];\r\n\r\n\t\tif (!skipMap&&this._obj._htmlmap){\r\n\r\n\t\t\t//areas that correspond this canvas layer\r\n\t\t\tareas = this._getMapAreas();\r\n\r\n\t\t\t//removes areas of this canvas\r\n\t\t\twhile(areas.length){\r\n\t\t\t\tareas[0].parentNode.removeChild(areas[0]);\r\n\t\t\t\tareas.splice(0,1);\r\n\t\t\t}\r\n\t\t\tareas = null;\r\n\r\n\t\t\t//removes _htmlmap object if all its child nodes are removed\r\n\t\t\tif(!this._obj._htmlmap.getElementsByTagName(\"AREA\").length){\r\n\t\t\t\tthis._obj._htmlmap.parentNode.removeChild(this._obj._htmlmap);\r\n\t\t\t\tthis._obj._htmlmap = null;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t//FF breaks, when we are using clear canvas and call clearRect without parameters\r\n\t\tthis.getCanvas().clearRect(0,0,this._canvas.offsetWidth, this._canvas.offsetHeight);\r\n\t},\r\n\ttoggleCanvas:function(){\r\n\t\tthis._toggleCanvas(this._canvas.style.display==\"none\");\r\n\t},\r\n\tshowCanvas:function(){\r\n\t\tthis._toggleCanvas(true);\r\n\t},\r\n\thideCanvas:function(){\r\n\t\tthis._toggleCanvas(false);\r\n\t},\r\n\t_toggleCanvas:function(show){\r\n\t\tvar areas, i;\r\n\r\n\t\tfor(i=0; i < this._canvas_labels.length;i++)\r\n\t\t\tthis._canvas_labels[i].style.display = (show?\"\":\"none\");\r\n\r\n\t\tif (this._obj._htmlmap){\r\n\t\t\tareas = this._getMapAreas();\r\n\t\t\tfor( i = 0; i < areas.length; i++){\r\n\t\t\t\tif(show)\r\n\t\t\t\t\tareas[i].removeAttribute(\"disabled\");\r\n\t\t\t\telse\r\n\t\t\t\t\tareas[i].setAttribute(\"disabled\",\"true\");\r\n\t\t\t}\r\n\t\t}\r\n\t\t//FF breaks, when we are using clear canvas and call clearRect without parameters\r\n\t\tthis._canvas.style.display = (show?\"\":\"none\");\r\n\t},\r\n\t_getMapAreas:function(){\r\n\t\tvar res = [], areas, i;\r\n\r\n\t\tareas = this._obj._htmlmap.getElementsByTagName(\"AREA\");\r\n\r\n\t\tfor(i = 0; i < areas.length; i++){\r\n\t\t\tif(areas[i].getAttribute(\"userdata\") == this._canvas_name){\r\n\t\t\t\tres.push(areas[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn res;\r\n\t}\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.color = {\r\n\t_toHex:[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\"],\r\n\ttoHex:function(number, length){\r\n\t\tnumber=parseInt(number,10);\r\n\t\tvar str = \"\";\r\n\t\t\twhile (number>0){\r\n\t\t\t\tstr=this._toHex[number%16]+str;\r\n\t\t\t\tnumber=Math.floor(number/16);\r\n\t\t\t}\r\n\t\t\twhile (str.length <length)\r\n\t\t\t\tstr = \"0\"+str;\r\n\t\treturn str;\r\n\t},\r\n\thexToDec:function(hex){\r\n\t\treturn parseInt(hex, 16);\r\n\t},\r\n\ttoRgb:function(rgb){\r\n\t\tvar r,g,b,rgbArr;\r\n\t\tif (typeof(rgb) != 'string') {\r\n\t\t\tr = rgb[0];\r\n\t\t\tg = rgb[1];\r\n\t\t\tb = rgb[2];\r\n\t\t} else if (rgb.indexOf('rgb')!=-1) {\r\n\t\t\trgbArr = rgb.substr(rgb.indexOf(\"(\")+1,rgb.lastIndexOf(\")\")-rgb.indexOf(\"(\")-1).split(\",\");\r\n\t\t\tr = rgbArr[0];\r\n\t\t\tg = rgbArr[1];\r\n\t\t\tb = rgbArr[2];\r\n\t\t} else {\r\n\t\t\tif (rgb.substr(0, 1) == '#') {\r\n\t\t\t\trgb = rgb.substr(1);\r\n\t\t\t}\r\n\t\t\tr = this.hexToDec(rgb.substr(0, 2));\r\n\t\t\tg = this.hexToDec(rgb.substr(2, 2));\r\n\t\t\tb = this.hexToDec(rgb.substr(4, 2));\r\n\t\t}\r\n\t\tr = (parseInt(r,10)||0);\r\n\t\tg = (parseInt(g,10)||0);\r\n\t\tb = (parseInt(b,10)||0);\r\n\t\tif (r < 0 || r > 255)\r\n\t\t\tr = 0;\r\n\t\tif (g < 0 || g > 255)\r\n\t\t\tg = 0;\r\n\t\tif (b < 0 || b > 255)\r\n\t\t\tb = 0;\r\n\t\treturn [r,g,b];\r\n\t},\r\n\thsvToRgb:function(h, s, v){\r\n\t\tvar hi,f,p,q,t,r,g,b;\r\n\t\thi = Math.floor((h/60))%6;\r\n\t\tf = h/60-hi;\r\n\t\tp = v*(1-s);\r\n\t\tq = v*(1-f*s);\r\n\t\tt = v*(1-(1-f)*s);\r\n\t\tr = 0;\r\n\t\tg = 0;\r\n\t\tb = 0;\r\n\t\tswitch(hi) {\r\n\t\t\tcase 0:\r\n\t\t\t\tr = v; g = t; b = p;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tr = q; g = v; b = p;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tr = p; g = v; b = t;\r\n\t\t\t\t break;\r\n\t\t\tcase 3:\r\n\t\t\t\tr = p; g = q; b = v;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tr = t; g = p; b = v;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tr = v; g = p; b = q;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tr = Math.floor(r*255);\r\n\t\tg = Math.floor(g*255);\r\n\t\tb = Math.floor(b*255);\r\n\t\treturn [r, g, b];\r\n\t},\r\n\trgbToHsv:function(r, g, b){\r\n\t\tvar r0,g0,b0,min0,max0,s,h,v;\r\n\t\tr0 = r/255;\r\n\t\tg0 = g/255;\r\n\t\tb0 = b/255;\r\n\t\tmin0 = Math.min(r0, g0, b0);\r\n\t\tmax0 = Math.max(r0, g0, b0);\r\n\t\th = 0;\r\n\t\ts = max0===0?0:(1-min0/max0);\r\n\t\tv = max0;\r\n\t\tif (max0 == min0) {\r\n\t\t\th = 0;\r\n\t\t} else if (max0 == r0 && g0>=b0) {\r\n\t\t\th = 60*(g0 - b0)/(max0 - min0)+0;\r\n\t\t} else if (max0 == r0 && g0 < b0) {\r\n\t\t\th = 60*(g0 - b0)/(max0 - min0)+360;\r\n\t\t} else if (max0 == g0) {\r\n\t\t\th = 60*(b0 - r0)/(max0-min0)+120;\r\n\t\t} else if (max0 == b0) {\r\n\t\t\th = 60*(r0 - g0)/(max0 - min0)+240;\r\n\t\t}\r\n\t\treturn [h, s, v];\r\n\t}\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.HtmlMap = webix.proto({\r\n\t$init:function(key){\r\n\t\tthis._id = \"map_\"+webix.uid();\r\n\t\tthis._key = key;\r\n\t\tthis._map = [];\r\n\t\tthis._areas = [];\r\n\t},\r\n\taddRect: function(id,points,userdata) {\r\n\t\tthis._createMapArea(id,\"RECT\",points,userdata);\r\n\t},\r\n\taddPoly: function(id,points,userdata) {\r\n\t\tthis._createMapArea(id,\"POLY\",points,userdata);\r\n\t},\r\n\t_createMapArea:function(id,shape,coords,userdata){\r\n\t\tvar extra_data = \"\";\r\n\t\tif(arguments.length==4) \r\n\t\t\textra_data = \"userdata='\"+userdata+\"'\";\r\n\t\tthis._map.push(\"<area \"+this._key+\"='\"+id+\"' shape='\"+shape+\"' coords='\"+coords.join()+\"' \"+extra_data+\"></area>\");\r\n\t\tthis._areas.push({index: userdata, points:coords});\r\n\r\n\t},\r\n\taddSector:function(id,alpha0,alpha1,x,y,R,ky,userdata){\r\n\t\tvar points = [];\r\n\t\tpoints.push(x);\r\n\t\tpoints.push(Math.floor(y*ky)); \r\n\t\tfor(var i = alpha0; i < alpha1; i+=Math.PI/18){\r\n\t\t\tpoints.push(Math.floor(x+R*Math.cos(i)));\r\n\t\t\tpoints.push(Math.floor((y+R*Math.sin(i))*ky));\r\n\t\t}\r\n\t\tpoints.push(Math.floor(x+R*Math.cos(alpha1)));\r\n\t\tpoints.push(Math.floor((y+R*Math.sin(alpha1))*ky));\r\n\t\tpoints.push(x);\r\n\t\tpoints.push(Math.floor(y*ky)); \r\n\t\t\r\n\t\treturn this.addPoly(id,points,userdata);\r\n\t},\r\n\trender:function(obj){\r\n\t\tvar d = webix.html.create(\"DIV\");\r\n\t\td.style.cssText=\"position:absolute; width:100%; height:100%; top:0px; left:0px;\";\r\n\t\tobj.appendChild(d);\r\n\t\tvar src = webix.env.isIE?\"\":\"src='data:image/gif;base64,R0lGODlhEgASAIAAAP///////yH5BAUUAAEALAAAAAASABIAAAIPjI+py+0Po5y02ouz3pwXADs='\";\r\n\t\td.innerHTML=\"<map id='\"+this._id+\"' name='\"+this._id+\"'>\"+this._map.join(\"\\n\")+\"</map><img \"+src+\" class='webix_map_img' usemap='#\"+this._id+\"'>\";\r\n\t\t\r\n\t\tobj._htmlmap = d; //for clearing routine\r\n\t\t\r\n\t\tthis._map = [];\r\n\t}\r\n});\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"chart\",\r\n\t$init:function(config){\r\n\t\tthis._series = [this._settings];\r\n\t\tthis._legend_labels = [];\r\n\t\tthis._contentobj.className += \" webix_chart\";\r\n\t\tthis.$ready.push(this._after_init_call);\r\n\t\t/*preset*/\r\n\t\tif(config.preset){\r\n\t\t\tthis._definePreset(config);\r\n\t\t}\r\n\r\n\t\t// move series to end of configuration properties hash\r\n\t\t// so it will be parsed after other settings\r\n\t\tif(config.series){\r\n\t\t\tvar series = config.series;\r\n\t\t\tdelete config.series;\r\n\t\t\tconfig.series = series;\r\n\t\t}\r\n\r\n\t\tthis.attachEvent(\"onMouseMove\",this._switchSeries);\r\n\r\n\t\tthis.data.provideApi(this, true);\r\n\t},\r\n\t_after_init_call:function(){\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\",webix.bind(function(){\r\n\t\t\tthis.render();\r\n\t\t},this));\r\n\t},\r\n\tdefaults:{\r\n\t\tariaLabel:\"chart\",\r\n        color:\"default\",\r\n\t\talpha:\"1\",\r\n\t\tlabel:false,\r\n\t\tvalue:\"{obj.value}\",\r\n\t\tpadding:{},\r\n\t\ttype:\"pie\",\r\n\t\tlineColor:\"#ffffff\",\r\n\t\tcant:0.5,\r\n\t\tbarWidth: 30,\r\n\t\tline:{\r\n            width:2,\r\n\t\t\tcolor:\"#1293f8\"\r\n        },\r\n\t\titem:{\r\n\t\t\tradius:3,\r\n\t\t\tborderColor:\"#636363\",\r\n            borderWidth:1,\r\n            color: \"#ffffff\",\r\n            alpha:1,\r\n            type:\"r\",\r\n            shadow:false\r\n\t\t},\r\n\t\tshadow:true,\r\n\t\tgradient:false,\r\n\t\tborder:true,\r\n\t\tlabelOffset: 20,\r\n\t\torigin:\"auto\",\r\n\t\tscale: \"linear\"\r\n    },\r\n\t_id:\"webix_area_id\",\r\n\ton_click:{\r\n\t\twebix_chart_legend_item: function(e,id,obj){\r\n\t\t\tvar series = obj.getAttribute(\"series_id\");\r\n\t\t\tif(this.callEvent(\"onLegendClick\",[e,series,obj])){\r\n\t\t\t\tvar config = this._settings;\r\n\t\t\t\tvar values = config.legend.values;\r\n\t\t\t\tvar toggle = (values&&values[series].toggle)||config.legend.toggle;\r\n\t\t\t\tif((typeof series != \"undefined\")&&this._series.length>1){\r\n\t\t\t\t\t// hide action\r\n\t\t\t\t\tif(toggle){\r\n\t\t\t\t\t\tif(obj.className.indexOf(\"hidden\")!=-1){\r\n\t\t\t\t\t\t\tthis.showSeries(series);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tthis.hideSeries(series);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\ton_dblclick:{\r\n\t},\r\n\ton_mouse_move:{\r\n\t},\r\n\tlocate: function(e){\r\n\t\treturn webix.html.locate(e,this._id);\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tif(webix.ui.view.prototype.$setSize.call(this,x,y)){\r\n\t\t\tfor(var c in this.canvases){\r\n\t\t\t\tthis.canvases[c]._resizeCanvas(this._content_width, this._content_height);\r\n\t\t\t}\r\n\t\t\tthis.render();\r\n\t\t}\r\n\t},\r\n\ttype_setter:function(val){\r\n\t\twebix.assert(this[\"$render_\"+val], \"Chart type is not supported, or extension is not loaded: \"+val);\r\n\t\t\r\n\t\tif (typeof this._settings.offset == \"undefined\"){\r\n\t\t\tthis._settings.offset = !(val == \"area\" || val == \"stackedArea\");\r\n\t\t}\r\n\r\n        if(val==\"radar\"&&!this._settings.yAxis)\r\n\t\t    this.define(\"yAxis\",{});\r\n        if(val==\"scatter\"){\r\n            if(!this._settings.yAxis)\r\n                this.define(\"yAxis\",{});\r\n            if(!this._settings.xAxis)\r\n                this.define(\"xAxis\",{});\r\n        }\r\n\t\t\t\r\n\t\t\t\r\n\t\treturn val;\r\n\t},\r\n\tdestructor: function(){\r\n\t\tthis.removeAllSeries();\r\n\t\twebix.Destruction.destructor.apply(this,arguments);\r\n\t},\r\n\tremoveAllSeries: function(){\r\n\t\tthis.clearCanvas();\r\n\t\tif(this._legendObj){\r\n\t\t\tthis._legendObj.innerHTML = \"\";\r\n\t\t\tthis._legendObj.parentNode.removeChild(this._legendObj);\r\n\t\t\tthis._legendObj = null;\r\n\t\t}\r\n\t\tif(this.canvases){\r\n\t\t\tthis.canvases = {};\r\n\t\t}\r\n\t\tthis._contentobj.innerHTML=\"\";\r\n\t\tfor(var i = 0; i < this._series.length; i++){\r\n\t\t\tif(this._series[i].tooltip)\r\n\t\t\t\tthis._series[i].tooltip.destructor();\r\n\t\t}\r\n\t//\tthis.callEvent(\"onDestruct\",[]);\r\n\t\tthis._series = [];\r\n\t},\r\n\tclearCanvas:function(){\r\n\t\tif(this.canvases&&typeof this.canvases == \"object\")\r\n\t\t\tfor(var c in this.canvases){\r\n\t\t\t\tthis.canvases[c].clearCanvas();\r\n\t\t\t}\r\n\t},\r\n\trender:function(){\r\n\t\tvar bounds, i, data, map, temp;\r\n\t\tif (!this.isVisible(this._settings.id))\r\n\t\t\treturn;\r\n\r\n\t\tif (!this.callEvent(\"onBeforeRender\",[this.data]))\r\n\t\t\treturn;\r\n\t\tif(this.canvases&&typeof this.canvases == \"object\"){\r\n\t\t\tfor(i in this.canvases){\r\n\t\t\t\tthis.canvases[i].clearCanvas();\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis.canvases = {};\r\n\t\t/*if(this._legendObj){\r\n\t\t\tfor(i=0; i < this._legend_labels.length;i++)\r\n\t\t\t\tthis._legendObj.removeChild(this._legend_labels[i]);\r\n\t\t}\r\n\t\tthis._legend_labels = [];\r\n\t\t*/\r\n\t\t\r\n\t\tif(this._settings.legend){\r\n\t\t\tif(!this.canvases[\"legend\"])\r\n\t\t\t\tthis.canvases[\"legend\"] =  this._createCanvas(\"legend\");\r\n\t\t\tthis._drawLegend(\r\n\t\t\t\tthis.data.getRange(),\r\n\t\t\t\tthis._content_width,\r\n\t\t\t\tthis._content_height\r\n\t\t\t);\r\n\t\t}\r\n\t\tbounds = this._getChartBounds(this._content_width,this._content_height);\r\n\t\tthis._map = map = new webix.HtmlMap(this._id);\r\n\t\ttemp = this._settings;\r\n\r\n\t\tif(this._series){\r\n\t\t\tdata = this._getChartData();\r\n\r\n\t\t\tfor(i=0; i < this._series.length;i++){\r\n\t\t\t\tthis._settings = this._series[i];\r\n\t\t\t\tif(!this.canvases[i])\r\n\t\t\t\t\tthis.canvases[i] = this._createCanvas(this._settings.ariaLabel+\" \"+i,\"z-index:\"+(2+i));\r\n\t\t\t\tthis[\"$render_\"+this._settings.type](\r\n\t\t\t\t\tthis.canvases[i].getCanvas(),\r\n\t\t\t\t\tdata,\r\n\t\t\t\t\tbounds.start,\r\n\t\t\t\t\tbounds.end,\r\n\t\t\t\t\ti,\r\n\t\t\t\t\tmap\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tmap.render(this._contentobj);\r\n\t\tthis._contentobj.lastChild.style.zIndex = 100;\r\n\t\tthis._applyBounds(this._contentobj.lastChild,bounds);\r\n\t\tthis.callEvent(\"onAfterRender\",[]);\r\n\t\tthis._settings = temp;\r\n\t},\r\n\t_applyBounds: function(elem,bounds){\r\n\t\tvar style = {};\r\n\t\tstyle.left = bounds.start.x;\r\n\t\tstyle.top = bounds.start.y;\r\n\t\tstyle.width = bounds.end.x-bounds.start.x;\r\n\t\tstyle.height = bounds.end.y - bounds.start.y;\r\n\t\tfor(var prop in style){\r\n\t\t\telem.style[prop] = style[prop]+\"px\";\r\n\t\t}\r\n\t},\r\n\t_getChartData: function(){\r\n\t\tvar axis, axisConfig ,config, data, i, newData,\r\n\t\t\tstart, units, value, valuesHash;\r\n\t\tdata = this.data.getRange();\r\n\t\taxis = (this._settings.type.toLowerCase().indexOf(\"barh\")!=-1?\"yAxis\":\"xAxis\");\r\n\t\taxisConfig = this._settings[axis];\r\n\t\tif(axisConfig&&axisConfig.units&&(typeof axisConfig.units == \"object\")){\r\n\t\t\tconfig = axisConfig.units;\r\n\t\t\tunits = [];\r\n\t\t\tif(typeof config.start != \"undefined\"&&typeof config.end != \"undefined\" && typeof config.next != \"undefined\"){\r\n\t\t\t\tstart = config.start;\r\n\t\t\t\twhile(start<=config.end){\r\n\t\t\t\t\tunits.push(start);\r\n\t\t\t\t\tstart = config.next.call(this,start);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if(Object.prototype.toString.call(config) === '[object Array]'){\r\n\t\t\t\tunits = config;\r\n\t\t\t}\r\n\t\t\tnewData = [];\r\n\t\t\tif(units.length){\r\n\t\t\t\tvalue = axisConfig.value;\r\n\t\t\t\tvaluesHash = {};\r\n\t\t\t\tfor(i=0;i < data.length;i++){\r\n\t\t\t\t\tvaluesHash[value(data[i])] = i;\r\n\t\t\t\t}\r\n\t\t\t\tfor(i=0;i< units.length;i++){\r\n\t\t\t\t\tif(typeof valuesHash[units[i]]!= \"undefined\"){\r\n\t\t\t\t\t\tdata[valuesHash[units[i]]].$unit = units[i];\r\n\t\t\t\t\t\tnewData.push(data[valuesHash[units[i]]]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tnewData.push({$unit:units[i]});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn newData;\r\n\t\t}\r\n\t\treturn data;\r\n\t},\r\n\tseries_setter:function(config){\r\n\t\tif(typeof config!=\"object\"){\r\n\t\t\twebix.assert(config,\"Chart :: Series must be an array or object\");\t\r\n\t\t}\r\n\t\telse{\r\n\r\n\t\t\tthis._parseSettings(!config.length?config:config[0]);\r\n\t\t\tthis._series = [this._settings];\r\n\r\n\r\n\t\t\tfor(var i=1;i< config.length;i++)\r\n\t\t\t\tthis.addSeries(config[i]);\r\n\t\t}\r\n\t\treturn config;\r\n\t},\r\n\tvalue_setter:webix.template,\r\n    xValue_setter:webix.template,\r\n    yValue_setter:function(config){\r\n        this.define(\"value\",config);\r\n    },\r\n\talpha_setter:webix.template,\r\n\tlabel_setter:webix.template,\r\n\tlineColor_setter:webix.template,\r\n\tborderColor_setter:webix.template,\r\n\tpieInnerText_setter:webix.template,\r\n\tgradient_setter:function(config){\r\n\t\tif((typeof(config)!=\"function\")&&config&&(config === true))\r\n\t\t\tconfig = \"light\";\r\n\t\treturn config;\r\n\t},\r\n\tcolormap:{\r\n\t\t\"RAINBOW\":function(obj){\r\n            var pos = Math.floor(this.getIndexById(obj.id)/this.count()*1536);\r\n\t\t\tif (pos==1536) pos-=1;\r\n\t\t\treturn this._rainbow[Math.floor(pos/256)](pos%256);\r\n\t\t},\r\n\r\n\t\t\"default\": function(obj){\r\n\t\t\tvar count = this.count();\r\n\t\t\tvar colorsCount = this._defColors.length;\r\n\t\t\tvar i = this.getIndexById(obj.id);\r\n\t\t\tif(colorsCount > count){\r\n\t\t\t\tif(i){\r\n\t\t\t\t\tif(i < colorsCount - count)\r\n\t\t\t\t\t\ti = this._defColorsCursor +2;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\ti = this._defColorsCursor+1;\r\n\t\t\t\t}\r\n\t\t\t\tthis._defColorsCursor = i;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\ti = i%colorsCount;\r\n\t\t\treturn this._defColors[i];\r\n\t\t}\r\n\t},\r\n\tcolor_setter:function(value){\r\n\t\treturn this.colormap[value]||webix.template( value);\r\n\t},\r\n    fill_setter:function(value){\r\n        return ((!value||value==\"0\")?false:webix.template( value));\r\n    },\r\n    _definePreset:function(obj){\r\n        this.define(\"preset\",obj.preset);\r\n        delete obj.preset;\r\n    },\r\n\tpreset_setter:function(value){\r\n        var a, b, preset;\r\n        this.defaults = webix.extend({},this.defaults);\r\n        preset =  this.presets[value];\r\n\r\n        if(typeof preset == \"object\"){\r\n\r\n            for(a in preset){\r\n\r\n                if(typeof preset[a]==\"object\"){\r\n                    if(!this.defaults[a]||typeof this.defaults[a]!=\"object\"){\r\n                         this.defaults[a] = webix.extend({},preset[a]);\r\n                    }\r\n                    else{\r\n                        this.defaults[a] = webix.extend({},this.defaults[a]);\r\n                        for(b in preset[a]){\r\n                            this.defaults[a][b] = preset[a][b];\r\n                        }\r\n                    }\r\n                }else{\r\n                     this.defaults[a] = preset[a];\r\n                }\r\n            }\r\n            return value;\r\n        }\r\n\t\treturn false;\r\n\t},\r\n\tlegend_setter:function( config){\r\n\t\tif(!config){\r\n\t\t\tif(this._legendObj){\r\n\t\t\t\tthis._legendObj.innerHTML = \"\";\r\n\t\t\t\tthis._legendObj = null;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif(typeof(config)!=\"object\")\t//allow to use template string instead of object\r\n\t\t\tconfig={template:config};\r\n\r\n\t\tthis._mergeSettings(config,{\r\n\t\t\twidth:150,\r\n\t\t\theight:18,\r\n\t\t\tlayout:\"y\",\r\n\t\t\talign:\"left\",\r\n\t\t\tvalign:\"bottom\",\r\n\t\t\ttemplate:\"\",\r\n\t\t\ttoggle:(this._settings.type.toLowerCase().indexOf(\"stacked\")!=-1?\"\":\"hide\"),\r\n\t\t\tmarker:{\r\n\t\t\t\ttype:\"square\",\r\n\t\t\t\twidth:15,\r\n\t\t\t\theight:15,\r\n                radius:3\r\n\t\t\t},\r\n            margin: 4,\r\n            padding: 3\r\n\t\t});\r\n\r\n\t\tconfig.template = webix.template(config.template);\r\n\t\treturn config;\r\n\t},\r\n\titem_setter:function( config){\r\n\t\tif(typeof(config)!=\"object\")\r\n\t\t\tconfig={color:config, borderColor:config};\r\n        this._mergeSettings(config,webix.extend({},this.defaults.item));\r\n\t\tvar settings = [\"alpha\",\"borderColor\",\"color\",\"radius\"];\r\n\t\tthis._converToTemplate(settings,config);\r\n\t\treturn config;\r\n\t},\r\n\tline_setter:function( config){\r\n\t\tif(typeof(config)!=\"object\")\r\n\t\t\tconfig={color:config};\r\n\r\n        config = webix.extend(config,this.defaults.line);\r\n\t\tconfig.color = webix.template(config.color);\r\n\t\treturn config;\r\n\t},\r\n\tpadding_setter:function( config){\r\n\t\tif(typeof(config)!=\"object\")\r\n\t\t\tconfig={left:config, right:config, top:config, bottom:config};\r\n\t\tthis._mergeSettings(config,{\r\n\t\t\tleft:50,\r\n\t\t\tright:20,\r\n\t\t\ttop:35,\r\n\t\t\tbottom:40\r\n\t\t});\r\n\t\treturn config;\r\n\t},\r\n\txAxis_setter:function( config){\r\n\t\tif(!config) return false;\r\n\t\tif(typeof(config)!=\"object\")\r\n\t\t\tconfig={ template:config };\r\n\r\n\t\tthis._mergeSettings(config,{\r\n\t\t\ttitle:\"\",\r\n\t\t\tcolor:\"#000000\",\r\n\t\t\tlineColor:\"#cfcfcf\",\r\n\t\t\ttemplate:\"{obj}\",\r\n\t\t\tlines:true\r\n\t\t});\r\n\t\tvar templates = [\"lineColor\",\"template\",\"lines\"];\r\n        this._converToTemplate(templates,config);\r\n\t\tthis._configXAxis = webix.extend({},config);\r\n\t\treturn config;\r\n\t},\r\n    yAxis_setter:function( config){\r\n\t    this._mergeSettings(config,{\r\n\t\t\ttitle:\"\",\r\n\t\t\tcolor:\"#000000\",\r\n\t\t\tlineColor:\"#cfcfcf\",\r\n\t\t\ttemplate:\"{obj}\",\r\n\t\t\tlines:true,\r\n            bg:\"#ffffff\"\r\n\t\t});\r\n\t\tvar templates = [\"lineColor\",\"template\",\"lines\",\"bg\"];\r\n        this._converToTemplate(templates,config);\r\n\t\tthis._configYAxis = webix.extend({},config);\r\n\t\treturn config;\r\n\t},\r\n    _converToTemplate:function(arr,config){\r\n        for(var i=0;i< arr.length;i++){\r\n            config[arr[i]] = webix.template(config[arr[i]]);\r\n        }\r\n    },\r\n\t_createCanvas: function(name,style,container){\r\n\t\treturn new webix.Canvas({container:(container||this._contentobj),name:name,style:(style||\"\"), width: this._content_width, height:this._content_height });\r\n\t},\r\n    _drawScales:function(data,point0,point1,start,end,cellWidth){\r\n\t    var y = 0;\r\n\t    if(this._settings.yAxis){\r\n\t\t    if(!this.canvases[\"y\"])\r\n\t\t        this.canvases[\"y\"] =  this._createCanvas(\"axis_y\");\r\n\r\n\t\t    y = this._drawYAxis(this.canvases[\"y\"].getCanvas(),data,point0,point1,start,end);\r\n\t    }\r\n\t    if (this._settings.xAxis){\r\n\t\t    if(!this.canvases[\"x\"])\r\n\t\t        this.canvases[\"x\"] =  this._createCanvas(\"axis_x\");\r\n\t\t    this._drawXAxis(this.canvases[\"x\"].getCanvas(),data,point0,point1,cellWidth,y);\r\n\t    }\r\n\t    return y;\r\n\t},\r\n\t_drawXAxis:function(ctx,data,point0,point1,cellWidth,y){\r\n\t\tvar x0 = point0.x-0.5;\r\n\t\tvar y0 = parseInt((y?y:point1.y),10)+0.5;\r\n\t\tvar x1 = point1.x;\r\n\t\tvar unitPos;\r\n\t\tvar center = true;\r\n\t\tvar labelY = this._settings.type == \"stackedBar\"?(point1.y+0.5):y0;\r\n\r\n\t\tfor(var i=0; i < data.length;i ++){\r\n\r\n\t\t\tif(this._settings.offset === true)\r\n\t\t\t\tunitPos = x0+cellWidth/2+i*cellWidth;\r\n\t\t\telse{\r\n\t\t\t\tunitPos = (i==data.length-1)?point1.x:x0+i*cellWidth;\r\n\t\t\t\tcenter = !!i;\r\n\t\t\t}\r\n\t\t\tunitPos = Math.ceil(unitPos)-0.5;\r\n\t\t\t/*scale labels*/\r\n\t\t\tvar top = ((this._settings.origin!=\"auto\")&&(this._settings.type==\"bar\")&&(parseFloat(this._settings.value(data[i]))<this._settings.origin));\r\n\t\t\tthis._drawXAxisLabel(unitPos,labelY,data[i],center,top);\r\n\t\t\t/*draws a vertical line for the horizontal scale*/\r\n\r\n\t\t\tif((this._settings.offset||i)&&this._settings.xAxis.lines.call(this,data[i]))\r\n\t\t\t\tthis._drawXAxisLine(ctx,unitPos,point1.y,point0.y,data[i]);\r\n\t\t}\r\n\r\n\t\tthis.canvases[\"x\"].renderTextAt(true, false, x0,point1.y+this._settings.padding.bottom-3,\r\n\t\t\tthis._settings.xAxis.title,\r\n\t\t\t\"webix_axis_title_x\",\r\n\t\t\tpoint1.x - point0.x\r\n\t\t);\r\n\t\tthis._drawLine(ctx,x0,y0,x1,y0,this._settings.xAxis.color,1);\r\n\t\t/*the right border in lines in scale are enabled*/\r\n\t\tif (!this._settings.xAxis.lines.call(this,{}) || !this._settings.offset) return;\r\n\t\tthis._drawLine(ctx,x1+0.5,point1.y,x1+0.5,point0.y+0.5,this._settings.xAxis.color,0.2);\r\n\t},\r\n\t_drawYAxis:function(ctx,data,point0,point1,start,end){\r\n\t\tvar step;\r\n\t\tvar scaleParam= {};\r\n\t\tif (!this._settings.yAxis) return;\r\n\r\n\t\tvar x0 = point0.x - 0.5;\r\n\t\tvar y0 = point1.y;\r\n\t\tvar y1 = point0.y;\r\n\t\tvar lineX = point1.y+0.5;\r\n\r\n\t\t//this._drawLine(ctx,x0,y0,x0,y1,this._settings.yAxis.color,1);\r\n\r\n\t\tif(this._settings.yAxis.step)\r\n\t\t\tstep = parseFloat(this._settings.yAxis.step);\r\n\r\n\t\tif(typeof this._configYAxis.step ==\"undefined\"||typeof this._configYAxis.start==\"undefined\"||typeof this._configYAxis.end ==\"undefined\"){\r\n\t\t\tscaleParam = this._calculateScale(start,end);\r\n\t\t\tstart = scaleParam.start;\r\n\t\t\tend = scaleParam.end;\r\n\t\t\tstep = scaleParam.step;\r\n\r\n\t\t\tthis._settings.yAxis.end = end;\r\n\t\t\tthis._settings.yAxis.start = start;\r\n\t\t}\r\n\t\telse if(this.config.scale == \"logarithmic\")\r\n\t\t\tthis._logScaleCalc = true;\r\n\r\n\t\tthis._setYAxisTitle(point0,point1);\r\n\t\tif(step===0) return;\r\n\t\tif(end==start){\r\n\t\t\treturn y0;\r\n\t\t}\r\n\t\tvar stepHeight = (y0-y1)*step/(end-start);\r\n\t\tvar c = 0;\r\n\t\tfor(var i = start; i<=end; i += step){\r\n\t\t\tvar value = this._logScaleCalc?Math.pow(10,i):i;\r\n\t\t\tif (scaleParam.fixNum)  value = parseFloat(value).toFixed(scaleParam.fixNum);\r\n\t\t\tvar yi = Math.floor(y0-c*stepHeight)+ 0.5;/*canvas line fix*/\r\n\t\t\tif(!(i==start&&this._settings.origin==\"auto\") &&this._settings.yAxis.lines.call(this,i))\r\n\t\t\t\tthis._drawLine(ctx,x0,yi,point1.x,yi,this._settings.yAxis.lineColor.call(this,i),1);\r\n\t\t\tif(i == this._settings.origin) lineX = yi;\r\n\t\t\t/*correction for JS float calculation*/\r\n\t\t\tif(step<1 && !this._logScaleCalc){\r\n\t\t\t\tvar power = Math.min(Math.floor(this._log10(step)),(start<=0?0:Math.floor(this._log10(start))));\r\n\t\t\t\tvar corr = Math.pow(10,-power);\r\n\t\t\t\tvalue = Math.round(value*corr)/corr;\r\n\t\t\t\ti = value;\r\n\t\t\t}\r\n\t\t\tthis.canvases[\"y\"].renderText(0,yi-5,\r\n\t\t\t\tthis._settings.yAxis.template(value.toString()),\r\n\t\t\t\t\"webix_axis_item_y\",\r\n\t\t\t\tpoint0.x-5\r\n\t\t\t);\r\n\t\t\tc++;\r\n\t\t}\r\n\t\tthis._drawLine(ctx,x0,y0+1,x0,y1,this._settings.yAxis.color,1);\r\n\t\treturn lineX;\r\n\t},\r\n\r\n\t_setYAxisTitle:function(point0,point1){\r\n        var className = \"webix_axis_title_y\"+(webix._isIE&&webix._isIE !=9?\" webix_ie_filter\":\"\");\r\n\t\tvar text=this.canvases[\"y\"].renderTextAt(\"middle\",false,0,parseInt((point1.y-point0.y)/2+point0.y,10),this._settings.yAxis.title,className);\r\n        if (text)\r\n\t\t\ttext.style.left = (webix.env.transform?(text.offsetHeight-text.offsetWidth)/2:0)+\"px\";\r\n\t},\r\n\t_calculateLogScale: function(nmin,nmax){\r\n\t\tvar startPower = Math.floor(this._log10(nmin));\r\n\t\tvar endPower = Math.ceil(this._log10(nmax));\r\n\t\treturn {start: startPower, step: 1, end: endPower};\r\n\t},\r\n\t_calculateScale:function(nmin,nmax){\r\n\t\tthis._logScaleCalc = false;\r\n\t\tif(this._settings.scale == \"logarithmic\"){\r\n\t\t\tvar logMin = Math.floor(this._log10(nmin));\r\n\t\t\tvar logMax = Math.ceil(this._log10(nmax));\r\n\t\t\tif(nmin>0 && nmax > 0 && (logMax-logMin>1) ){\r\n\t\t\t\tthis._logScaleCalc = true;\r\n\t\t\t\treturn this._calculateLogScale(nmin,nmax);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t    if(this._settings.origin!=\"auto\"&&this._settings.origin<nmin)\r\n\t\t\tnmin = this._settings.origin;\r\n\t\tvar step,start,end;\r\n\t   \tstep = ((nmax-nmin)/8)||1;\r\n\t\tvar power = Math.floor(this._log10(step));\r\n\t\tvar calculStep = Math.pow(10,power);\r\n\t\tvar stepVal = step/calculStep;\r\n\t\tstepVal = (stepVal>5?10:5);\r\n\t\tstep = parseInt(stepVal,10)*calculStep;\r\n\r\n\t\tif(step>Math.abs(nmin))\r\n\t\t\tstart = (nmin<0?-step:0);\r\n\t\telse{\r\n\t\t\tvar absNmin = Math.abs(nmin);\r\n\t\t\tvar powerStart = Math.floor(this._log10(absNmin));\r\n\t\t\tvar nminVal = absNmin/Math.pow(10,powerStart);\r\n\t\t\tstart = Math.ceil(nminVal*10)/10*Math.pow(10,powerStart)-step;\r\n\t\t\tif(absNmin>1&&step>0.1){\r\n\t\t\t\tstart = Math.ceil(start);\r\n\t\t\t}\r\n\t\t\twhile(nmin<0?start<=nmin:start>=nmin)\r\n\t\t\t\tstart -= step;\r\n\t\t\tif(nmin<0) start =-start-2*step;\r\n\t\t\t\r\n\t\t}\r\n\t     end = start;\r\n\t\twhile(end<nmax){\r\n\t\t\tend += step;\r\n\t\t\tend = parseFloat((end*1.0).toFixed(Math.abs(power)));\r\n\t\t}\r\n\t\treturn { start:start,end:end,step:step,fixNum:power<0?Math.abs(power):0 };\r\n\t},\r\n\t_getLimits:function(orientation,value){\r\n\t\tvar data = this.data._obj_array();\r\n\r\n\t\tvar maxValue, minValue;\r\n\t\tvar axis = ((arguments.length && orientation==\"h\")?this._configXAxis:this._configYAxis);\r\n\t\tvalue = value||\"value\";\r\n\t\tif(axis&&(typeof axis.end!=\"undefined\")&&(typeof axis.start!=\"undefined\")&&axis.step){\r\n\t\t    maxValue = parseFloat(axis.end);\r\n\t\t\tminValue = parseFloat(axis.start);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tmaxValue = webix.GroupMethods.max(this._series[0][value], data);\r\n\t\t\tminValue = (axis&&(typeof axis.start!=\"undefined\"))?parseFloat(axis.start):webix.GroupMethods.min(this._series[0][value], data);\r\n\t\t\tif(this._series.length>1)\r\n\t\t\tfor(var i=1; i < this._series.length;i++){\r\n\t\t\t\tvar maxI = webix.GroupMethods.max(this._series[i][value], data);\r\n\t\t\t\tvar minI = webix.GroupMethods.min(this._series[i][value], data);\r\n\t\t\t\tif (maxI > maxValue) maxValue = maxI;\r\n\t\t    \tif (minI < minValue) minValue = minI;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {max:maxValue,min:minValue};\r\n\t},\r\n\t_log10:function(n){\r\n        var method_name=\"log\";\r\n        return Math[method_name](n)/Math.LN10;\r\n    },\r\n\t_drawXAxisLabel:function(x,y,obj,center,top){\r\n\t\tif (!this._settings.xAxis) return;\r\n\t\tvar elem = this.canvases[\"x\"].renderTextAt(top, center, x,y-(top?2:0),this._settings.xAxis.template(obj));\r\n\t\tif (elem)\r\n\t\t\telem.className += \" webix_axis_item_x\";\r\n\t},\r\n\t_drawXAxisLine:function(ctx,x,y1,y2,obj){\r\n\t\tif (!this._settings.xAxis||!this._settings.xAxis.lines) return;\r\n\t\tthis._drawLine(ctx,x,y1,x,y2,this._settings.xAxis.lineColor.call(this,obj),1);\r\n\t},\r\n\t_drawLine:function(ctx,x1,y1,x2,y2,color,width){\r\n\t\tctx.strokeStyle = color;\r\n\t\tctx.lineWidth = width;\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(x1,y1);\r\n\t\tctx.lineTo(x2,y2);\r\n\t\tctx.stroke();\r\n        ctx.lineWidth = 1;\r\n\t},\r\n\t_getRelativeValue:function(minValue,maxValue){\r\n\t    var relValue, origRelValue;\r\n\t\tvar valueFactor = 1;\r\n\t\tif(maxValue != minValue){\r\n\t\t\trelValue = maxValue - minValue;\r\n\t\t}\r\n\t\telse relValue = minValue;\r\n\t\treturn [relValue,valueFactor];\r\n\t},\r\n\t_rainbow : [\r\n\t\tfunction(pos){ return \"#FF\"+webix.color.toHex(pos/2,2)+\"00\";},\r\n\t\tfunction(pos){ return \"#FF\"+webix.color.toHex(pos/2+128,2)+\"00\";},\r\n\t\tfunction(pos){ return \"#\"+webix.color.toHex(255-pos,2)+\"FF00\";},\r\n\t\tfunction(pos){ return \"#00FF\"+webix.color.toHex(pos,2);},\r\n\t\tfunction(pos){ return \"#00\"+webix.color.toHex(255-pos,2)+\"FF\";},\r\n\t\tfunction(pos){ return \"#\"+webix.color.toHex(pos,2)+\"00FF\";}\t\t\r\n\t],\r\n\t_defColors : [\r\n\t\t\"#f55b50\",\"#ff6d3f\",\"#ffa521\",\"#ffc927\",\"#ffee54\",\"#d3e153\",\"#9acb61\",\"#63b967\",\r\n\t\t\"#21a497\",\"#21c5da\",\"#3ea4f5\",\"#5868bf\",\"#7b53c0\",\"#a943ba\",\"#ec3b77\",\"#9eb0b8\"\r\n\t],\r\n\t_defColorsCursor: 0,\r\n\t/**\r\n\t*   adds series to the chart (value and color properties)\r\n\t*   @param: obj - obj with configuration properties\r\n\t*/\r\n\taddSeries:function(obj){\r\n\t\tvar temp = webix.extend({},this._settings);\r\n\t\tthis._settings = webix.extend({},temp);\r\n\t\tthis._parseSettings(obj,{});\r\n\t    this._series.push(this._settings);\r\n\t\tthis._settings = temp;\r\n    },\r\n    /*switch global settings to serit in question*/\r\n    _switchSeries:function(id, e, tag) {\r\n\t    var tip;\r\n\r\n\t    if(!tag.getAttribute(\"userdata\"))\r\n\t        return;\r\n\r\n\t    this._active_serie = this._series.length==1?tag.getAttribute(\"userdata\"):this._getActiveSeries(e);\r\n\t    if (!this._series[this._active_serie]) return;\r\n\t    for (var i=0; i < this._series.length; i++) {\r\n\t\t    tip = this._series[i].tooltip;\r\n\r\n\t\t    if (tip)\r\n\t\t\t    tip.disable();\r\n\t    }\r\n\t    if(!tag.getAttribute(\"disabled\")){\r\n\t\t    tip = this._series[this._active_serie].tooltip;\r\n\t\t    if (tip)\r\n\t\t\t    tip.enable();\r\n\t    }\r\n    },\r\n\t_getActiveSeries: function(e){\r\n\t\tvar a, areas, i, offset, pos, selection,  x, y;\r\n\r\n\t\tareas = this._map._areas;\r\n\t\toffset = webix.html.offset(this._contentobj._htmlmap);\r\n\t\tpos = webix.html.pos(e);\r\n\t\tx = pos.x - offset.x;\r\n\t\ty = pos.y - offset.y;\r\n\r\n\t\tfor( i = 0; i < areas.length; i++){\r\n\t\t\ta = areas[i].points;\r\n\t\t\tif(x <= a[2] && x >= a[0] && y <= a[3] && y >= a[1]){\r\n\t\t\t\tif(selection){\r\n\t\t\t\t\tif(areas[i].index > selection.index)\r\n\t\t\t\t\t\tselection = areas[i];\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\tselection = areas[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn selection?selection.index:0;\r\n\t},\r\n\thideSeries:function(series){\r\n\t\tthis.canvases[series].hideCanvas();\r\n\t\tvar legend = this._settings.legend;\r\n\t\tif(legend && legend.values && legend.values[series]){\r\n\t\t\tlegend.values[series].$hidden = true;\r\n\t\t\tthis._drawLegend();\r\n\t\t}\r\n\t},\r\n\tshowSeries:function(series){\r\n\t\tthis.canvases[series].showCanvas();\r\n\t\tvar legend = this._settings.legend;\r\n\t\tif(legend && legend.values && legend.values[series]){\r\n\t\t\tdelete legend.values[series].$hidden;\r\n\t\t\tthis._drawLegend();\r\n\t\t}\r\n\t},\r\n\t/**\r\n\t*   renders legend block\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: data - object those need to be displayed\r\n\t*   @param: width - the width of the container\r\n\t*   @param: height - the height of the container\r\n\t*/\r\n\t_drawLegend:function(data,width){\r\n\t\t/*position of the legend block*/\r\n\t\tvar i, legend, legendContainer, legendHeight, legendItems, legendWidth, style,\r\n\t\t\tx=0, y= 0, ctx, itemColor, disabled, item;\r\n\r\n\t\tdata = data||[];\r\n\t\twidth = width||this._content_width;\r\n\t\tctx = this.canvases[\"legend\"].getCanvas();\r\n\t\t/*legend config*/\r\n\t\tlegend = this._settings.legend;\r\n\t\t /*the legend sizes*/\r\n\r\n\t\tstyle = (this._settings.legend.layout!=\"x\"?\"width:\"+legend.width+\"px\":\"\");\r\n\t\t/*creation of legend container*/\r\n\r\n\t\tif(this._legendObj){\r\n\r\n\t\t\tthis._legendObj.innerHTML = \"\";\r\n\t\t\tthis._legendObj.parentNode.removeChild(this._legendObj);\r\n\t\t}\r\n\t\tthis.canvases[\"legend\"].clearCanvas(true);\r\n\r\n\t\tlegendContainer = webix.html.create(\"DIV\",{\r\n\t\t\t\"class\":\"webix_chart_legend\",\r\n\t\t\t\"style\":\"left:\"+x+\"px; top:\"+y+\"px;\"+style\r\n\t\t},\"\");\r\n\t\tif(legend.padding){\r\n\t\t\tlegendContainer.style.padding =  legend.padding+\"px\";\r\n\t\t}\r\n\t\tthis._legendObj = legendContainer;\r\n\t\tthis._contentobj.appendChild(legendContainer);\r\n\r\n\t\t/*rendering legend text items*/\r\n\t\tlegendItems = [];\r\n\t\tif(!legend.values)\r\n\t\t\tfor(i = 0; i < data.length; i++){\r\n\t\t\t\tlegendItems.push(this._drawLegendText(legendContainer,legend.template(data[i])));\r\n\t\t\t}\r\n\t\telse\r\n\t\t\tfor(i = 0; i < legend.values.length; i++){\r\n\t\t\t\tlegendItems.push(this._drawLegendText(legendContainer,legend.values[i].text,(typeof legend.values[i].id!=\"undefined\"?typeof legend.values[i].id:i),legend.values[i].$hidden));\r\n\t\t\t}\r\n\t\tif (legendContainer.offsetWidth === 0)\r\n\t\t\tlegendContainer.style.width = \"auto\"; \r\n\t   \tlegendWidth = legendContainer.offsetWidth;\r\n\t    legendHeight = legendContainer.offsetHeight;\r\n\r\n\t\t/*this._settings.legend.width = legendWidth;\r\n\t\tthis._settings.legend.height = legendHeight;*/\r\n\t\t/*setting legend position*/\r\n\t\tif(legendWidth<width){\r\n\t\t\tif(legend.layout == \"x\"&&legend.align == \"center\"){\r\n\t\t\t    x = (width-legendWidth)/2;\r\n            }\r\n\t\t\tif(legend.align == \"right\"){\r\n\t\t\t\tx = width-legendWidth;\r\n\t\t\t}\r\n            if(legend.margin&&legend.align != \"center\"){\r\n                x += (legend.align == \"left\"?1:-1)*legend.margin;\r\n            }\r\n        }\r\n\r\n\t\tif(legendHeight<this._content_height){\r\n\t\t\tif(legend.valign == \"middle\"&&legend.align != \"center\"&&legend.layout != \"x\")\r\n\t\t\t\ty = (this._content_height-legendHeight)/2;\r\n\t\t\telse if(legend.valign == \"bottom\")\r\n\t\t\t\ty = this._content_height-legendHeight;\r\n            if(legend.margin&&legend.valign != \"middle\"){\r\n                y += (legend.valign == \"top\"?1:-1)*legend.margin;\r\n            }\r\n\t\t}\r\n\t\tlegendContainer.style.left = x+\"px\";\r\n\t\tlegendContainer.style.top = y+\"px\";\r\n\r\n\t\t/*drawing colorful markers*/\r\n\t\tctx.save();\r\n\t\tfor(i = 0; i < legendItems.length; i++){\r\n\t\t\titem = legendItems[i];\r\n\t\t\tif(legend.values&&legend.values[i].$hidden){\r\n\t\t\t\tdisabled = true;\r\n\t\t\t\titemColor = (legend.values[i].disableColor?legend.values[i].disableColor:\"#d9d9d9\");\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tdisabled = false;\r\n\t\t\t\titemColor = (legend.values?legend.values[i].color:this._settings.color.call(this,data[i]));\r\n\t\t\t}\r\n\t\t\tthis._drawLegendMarker(ctx,item.offsetLeft+x,item.offsetTop+y,itemColor,item.offsetHeight,disabled,i);\r\n\t\t}\r\n\t\tctx.restore();\r\n\t\tlegendItems = null;\r\n\t},\r\n\t/**\r\n\t*   appends legend item to legend block\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: obj - data object that needs being represented\r\n\t*/\r\n\t_drawLegendText:function(cont,value,series,disabled){\r\n\t\tvar style = \"\";\r\n\t\tif(this._settings.legend.layout==\"x\")\r\n\t\t\tstyle = \"float:left;\";\r\n\t\t/*the text of the legend item*/\r\n\t\tvar text = webix.html.create(\"DIV\",{\r\n\t\t\t\"style\":style+\"padding-left:\"+(10+this._settings.legend.marker.width)+\"px\",\r\n\t\t\t\"class\":\"webix_chart_legend_item\"+(disabled?\" hidden\":\"\"),\r\n\t\t\t\"role\":\"button\",\r\n\t\t\t\"tabindex\":\"0\",\r\n\t\t\t\"aria-label\":(webix.i18n.aria[(disabled?\"show\":\"hide\")+\"Chart\"])+\" \"+value\r\n\t\t},value);\r\n\t\tif(arguments.length>2)\r\n\t\t\ttext.setAttribute(\"series_id\",series);\r\n\t\tcont.appendChild(text);\r\n\t\treturn text;\r\n\t},\r\n\t/**\r\n\t*   draw legend colorful marder\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: x - the horizontal position of the marker\r\n\t*   @param: y - the vertical position of the marker\r\n\t*   @param: obj - data object which color needs being used\r\n\t*/\r\n\t_drawLegendMarker:function(ctx,x,y,color,height,disabled,i){\r\n\t\tvar p = [];\r\n\t\tvar marker = this._settings.legend.marker;\r\n\t\tvar values = this._settings.legend.values;\r\n\t\tvar type = (values&&values[i].markerType?values[i].markerType:marker.type);\r\n\t\tif(color){\r\n\t\t\tctx.strokeStyle = ctx.fillStyle = color;\r\n\t\t}\r\n\r\n\t\tif(type==\"round\"||!marker.radius){\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.lineWidth = marker.height;\r\n\t\t\tctx.lineCap = marker.type;\r\n\t\t\t/*start of marker*/\r\n\t\t\tx += ctx.lineWidth/2+5;\r\n\t\t\ty += height/2;\r\n\t\t\tctx.moveTo(x,y);\r\n\t\t\tvar x1 = x + marker.width-marker.height +1;\r\n\t\t\tctx.lineTo(x1,y);\r\n\t\t\tctx.stroke();\r\n\t\t\tctx.fill();\r\n\r\n\t\t}\r\n\t\telse if(type==\"item\"){\r\n\t\t\t/*copy of line*/\r\n\t\t\tif(this._settings.line&&this._settings.type != \"scatter\" && !this._settings.disableLines){\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.lineWidth = this._series[i].line.width;\r\n\t\t\t\tctx.strokeStyle = disabled?color:this._series[i].line.color.call(this,{});\r\n\t\t\t\tvar x0 = x + 5;\r\n\t\t\t\tvar y0 = y + height/2;\r\n\t\t\t\tctx.moveTo(x0,y0);\r\n\t\t\t\tvar x1 = x0 + marker.width;\r\n\t\t\t\tctx.lineTo(x1,y0);\r\n\t\t\t\tctx.stroke();\r\n\t\t\t}\r\n\t\t\t/*item copy*/\r\n\t\t\tvar config = this._series[i].item;\r\n\t\t\tvar radius = parseInt(config.radius.call(this,{}),10)||0;\r\n\t\t\tif(radius){\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tif(disabled){\r\n\t\t\t\t\tctx.lineWidth = config.borderWidth;\r\n\t\t\t\t\tctx.strokeStyle = color;\r\n\t\t\t\t\tctx.fillStyle = color;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tctx.lineWidth = config.borderWidth;\r\n\t\t\t\t\tctx.fillStyle = config.color.call(this,{});\r\n\t\t\t\t\tctx.strokeStyle = config.borderColor.call(this,{});\r\n\t\t\t\t\tctx.globalAlpha = config.alpha.call(this,{});\r\n\t\t\t\t}\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tx += marker.width/2+5;\r\n\t\t\t\ty += height/2;\r\n\t\t\t\tthis._strokeChartItem(ctx,x,y,radius+1,config.type);\r\n\t\t\t\tctx.fill();\r\n\t\t\t\tctx.stroke();\r\n\t\t\t}\r\n\t\t\tctx.globalAlpha = 1;\r\n\t\t}else{\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.lineWidth = 1;\r\n\t\t\tx += 5;\r\n\t\t\ty += height/2-marker.height/2;\r\n\t\t\tp = [\r\n\t\t\t\t[x+marker.radius,y+marker.radius,marker.radius,Math.PI,3*Math.PI/2,false],\r\n\t\t\t\t[x+marker.width-marker.radius,y],\r\n\t\t\t\t[x+marker.width-marker.radius,y+marker.radius,marker.radius,-Math.PI/2,0,false],\r\n\t\t\t\t[x+marker.width,y+marker.height-marker.radius],\r\n\t\t\t\t[x+marker.width-marker.radius,y+marker.height-marker.radius,marker.radius,0,Math.PI/2,false],\r\n\t\t\t\t[x+marker.radius,y+marker.height],\r\n\t\t\t\t[x+marker.radius,y+marker.height-marker.radius,marker.radius,Math.PI/2,Math.PI,false],\r\n\t\t\t\t[x,y+marker.radius]\r\n\t\t\t];\r\n\t\t\tthis._path(ctx,p);\r\n\t\t\tctx.stroke();\r\n\t\t\tctx.fill();\r\n\t\t}\r\n\r\n\t},\r\n\t/**\r\n\t*   gets the points those represent chart left top and right bottom bounds\r\n\t*   @param: width - the width of the chart container\r\n\t*   @param: height - the height of the chart container\r\n\t*/\r\n\t_getChartBounds:function(width,height){\r\n\t\tvar chartX0, chartY0, chartX1, chartY1;\r\n\t\t\r\n\t\tchartX0 = this._settings.padding.left;\r\n\t\tchartY0 = this._settings.padding.top;\r\n\t\tchartX1 = width - this._settings.padding.right;\r\n\t\tchartY1 = height - this._settings.padding.bottom;\t\r\n\t\t\r\n\t\tif(this._settings.legend){\r\n\t\t\tvar legend = this._settings.legend;\r\n\t\t\t/*legend size*/\r\n\t\t\tvar legendWidth = this._settings.legend.width;\r\n\t\t\tvar legendHeight = this._settings.legend.height;\r\n\t\t\r\n\t\t\t/*if legend is horizontal*/\r\n\t\t\tif(legend.layout == \"x\"){\r\n\t\t\t\tif(legend.valign == \"center\"){\r\n\t\t\t\t\tif(legend.align == \"right\")\r\n\t\t\t\t\t\tchartX1 -= legendWidth;\r\n\t\t\t\t\telse if(legend.align == \"left\")\r\n\t\t\t\t \t\tchartX0 += legendWidth;\r\n\t\t\t \t}\r\n\t\t\t \telse if(legend.valign == \"bottom\"){\r\n\t\t\t    \tchartY1 -= legendHeight;\r\n\t\t\t \t}\r\n\t\t\t \telse{\r\n\t\t\t    \tchartY0 += legendHeight;\r\n\t\t\t \t}\r\n\t\t\t}\r\n\t\t\t/*vertical scale*/\r\n\t\t\telse{\r\n\t\t\t\tif(legend.align == \"right\")\r\n\t\t\t\t\tchartX1 -= legendWidth;\r\n\t\t\t \telse if(legend.align == \"left\")\r\n\t\t\t\t\tchartX0 += legendWidth;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {start:{x:chartX0,y:chartY0},end:{x:chartX1,y:chartY1}};\r\n\t},\r\n\t/**\r\n\t*   gets the maximum and minimum values for the stacked chart\r\n\t*   @param: data - data set\r\n\t*/\r\n\t_getStackedLimits:function(data){\r\n\t\tvar i, j, maxValue, minValue, value;\r\n\t\tif(this._settings.yAxis&&(typeof this._settings.yAxis.end!=\"undefined\")&&(typeof this._settings.yAxis.start!=\"undefined\")&&this._settings.yAxis.step){\r\n\t\t\tmaxValue = parseFloat(this._settings.yAxis.end);\r\n\t\t\tminValue = parseFloat(this._settings.yAxis.start);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tfor(i=0; i < data.length; i++){\r\n\t\t\t\tdata[i].$sum = 0 ;\r\n\t\t\t\tdata[i].$min = Infinity;\r\n\t\t\t\tfor(j =0; j < this._series.length;j++){\r\n\t\t\t\t\tvalue = parseFloat(this._series[j].value(data[i])||0);\r\n\t\t\t\t\tif(isNaN(value)) continue;\r\n\t\t\t\t\tif(this._series[j].type.toLowerCase().indexOf(\"stacked\")!=-1)\r\n\t\t\t\t\t\tdata[i].$sum += value;\r\n\t\t\t\t\tif(value < data[i].$min) data[i].$min = value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tmaxValue = -Infinity;\r\n\t\t\tminValue = Infinity;\r\n\t\t\tfor(i=0; i < data.length; i++){\r\n\t\t\t\tif (data[i].$sum > maxValue) maxValue = data[i].$sum ;\r\n\t\t\t\tif (data[i].$min < minValue) minValue = data[i].$min ;\r\n\t\t\t}\r\n\t\t\tif(minValue>0) minValue =0;\r\n\t\t}\r\n\t\treturn {max: maxValue, min: minValue};\r\n\t},\r\n\t/*adds colors to the gradient object*/\r\n\t_setBarGradient:function(ctx,x1,y1,x2,y2,type,color,axis){\r\n\t\tvar gradient, offset, rgb, hsv, color0, stops;\r\n\t\tif(type == \"light\"){\r\n\t\t\tif(axis == \"x\")\r\n\t\t\t\tgradient = ctx.createLinearGradient(x1,y1,x2,y1);\r\n\t\t\telse\r\n\t\t\t\tgradient = ctx.createLinearGradient(x1,y1,x1,y2);\r\n\t\t\tstops = [[0,\"#FFFFFF\"],[0.9,color],[1,color]];\r\n\t\t\toffset = 2;\r\n\t\t}\r\n\t\telse if(type == \"falling\"||type == \"rising\"){\r\n\t\t\tif(axis == \"x\")\r\n\t\t\t\tgradient = ctx.createLinearGradient(x1,y1,x2,y1);\r\n\t\t\telse\r\n\t\t\t\tgradient = ctx.createLinearGradient(x1,y1,x1,y2);\r\n\t\t\trgb = webix.color.toRgb(color);\r\n\t\t\thsv = webix.color.rgbToHsv(rgb[0],rgb[1],rgb[2]);\r\n\t\t\thsv[1] *= 1/2;\r\n\t\t\tcolor0 = \"rgb(\"+webix.color.hsvToRgb(hsv[0],hsv[1],hsv[2])+\")\";\r\n\t\t\tif(type == \"falling\"){\r\n\t\t\t\tstops = [[0,color0],[0.7,color],[1,color]];\r\n\t\t\t}\r\n\t\t\telse if(type == \"rising\"){\r\n\t\t\t\tstops = [[0,color],[0.3,color],[1,color0]];\r\n\t\t\t}\r\n\t\t\toffset = 0;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tctx.globalAlpha = 0.37;\r\n\t\t\toffset = 0;\r\n\t\t\tif(axis == \"x\")\r\n\t\t\t\tgradient = ctx.createLinearGradient(x1,y2,x1,y1);\r\n\t\t\telse\r\n\t\t\t\tgradient = ctx.createLinearGradient(x1,y1,x2,y1);\r\n\t\t\tstops = [[0,\"#9d9d9d\"],[0.3,\"#e8e8e8\"],[0.45,\"#ffffff\"],[0.55,\"#ffffff\"],[0.7,\"#e8e8e8\"],[1,\"#9d9d9d\"]];\r\n\t\t}\r\n\t\tthis._gradient(gradient,stops);\r\n\t\treturn {gradient: gradient,offset: offset};\r\n\t},\r\n\t/**\r\n\t*   returns the x and y position\r\n    *   @param: a - angle\r\n    *   @param: x - start x position\r\n    *   @param: y - start y position\r\n\t*   @param: r - destination to the point\r\n\t*/\r\n     _getPositionByAngle:function(a,x,y,r){\r\n         a *= (-1);\r\n         x = x+Math.cos(a)*r;\r\n         y = y-Math.sin(a)*r;\r\n         return {x:x,y:y};\r\n    },\r\n\t_gradient:function(gradient,stops){\r\n\t\tfor(var i=0; i< stops.length; i++){\r\n\t\t\tgradient.addColorStop(stops[i][0],stops[i][1]);\r\n\t\t}\r\n\t},\r\n\t_path: function(ctx,points){\r\n\t\tvar i, method;\r\n\t\tfor(i = 0; i< points.length; i++){\r\n\t\t\tmethod = (i?\"lineTo\":\"moveTo\");\r\n\t\t\tif(points[i].length>2)\r\n\t\t\t\tmethod = \"arc\";\r\n\t\t\tctx[method].apply(ctx,points[i]);\r\n\t\t}\r\n\t},\r\n\t_addMapRect:function(map,id,points,bounds,sIndex){\r\n\t\tmap.addRect(id,[points[0].x-bounds.x,points[0].y-bounds.y,points[1].x-bounds.x,points[1].y-bounds.y],sIndex);\r\n\t}\r\n}, webix.Group, webix.AutoTooltip, webix.DataLoader, webix.MouseEvents,  webix.EventSystem , webix.ui.view);\r\n\r\n\r\nwebix.extend(webix.ui.chart, {\r\n\t$render_pie:function(ctx,data,x,y,sIndex,map){\r\n\t\tthis._renderPie(ctx,data,x,y,1,map,sIndex);\r\n\t\t\r\n\t},\r\n\t/**\r\n\t *   renders a pie chart\r\n\t *   @param: ctx - canvas object\r\n\t *   @param: data - object those need to be displayed\r\n\t *   @param: x - the width of the container\r\n\t *   @param: y - the height of the container\r\n\t *   @param: ky - value from 0 to 1 that defines an angle of inclination (0<ky<1 - 3D chart)\r\n\t */\r\n\t_renderPie:function(ctx,data,point0,point1,ky,map,sIndex){\r\n\t\tif(!data.length)\r\n\t\t\treturn;\r\n\t\tvar coord = this._getPieParameters(point0,point1);\r\n\t\t/*pie radius*/\r\n\t\tvar radius = (this._settings.radius?this._settings.radius:coord.radius);\r\n\t\tif(radius<0)\r\n\t\t\treturn;\r\n\r\n\t\t/*real values*/\r\n\t\tvar values = this._getValues(data);\r\n\r\n\t\tvar totalValue = this._getTotalValue(values);\r\n\r\n\t\t/*weighed values (the ratio of object value to total value)*/\r\n\t\tvar ratios = this._getRatios(values,totalValue);\r\n\r\n\t\t/*pie center*/\r\n\t\tvar x0 = (this._settings.x?this._settings.x:coord.x);\r\n\t\tvar y0 = (this._settings.y?this._settings.y:coord.y);\r\n\t\t/*adds shadow to the 2D pie*/\r\n\t\tif(ky==1&&this._settings.shadow)\r\n\t\t\tthis._addShadow(ctx,x0,y0,radius);\r\n\r\n\t\t/*changes vertical position of the center according to 3Dpie cant*/\r\n\t\ty0 = y0/ky;\r\n\t\t/*the angle defines the 1st edge of the sector*/\r\n\t\tvar alpha0 = -Math.PI/2;\r\n\t\tvar angles = [];\r\n\t\t/*changes Canvas vertical scale*/\r\n\t\tctx.scale(1,ky);\r\n\t\t/*adds radial gradient to a pie*/\r\n\t\tif (this._settings.gradient){\r\n\t\t\tvar x1 = (ky!=1?x0+radius/3:x0);\r\n\t\t\tvar y1 = (ky!=1?y0+radius/3:y0);\r\n\t\t\tthis._showRadialGradient(ctx,x0,y0,radius,x1,y1);\r\n\t\t}\r\n\t\tfor(var i = 0; i < data.length;i++){\r\n\t\t\tif (!values[i]) continue;\r\n\t\t\t/*drawing sector*/\r\n\t\t\t//ctx.lineWidth = 2;\r\n\t\t\tctx.strokeStyle = this._settings.lineColor.call(this,data[i]);\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.moveTo(x0,y0);\r\n\t\t\tangles.push(alpha0);\r\n\t\t\t/*the angle defines the 2nd edge of the sector*/\r\n\t\t\tvar alpha1 = -Math.PI/2+ratios[i]-0.0001;\r\n\t\t\tctx.arc(x0,y0,radius,alpha0,alpha1,false);\r\n\t\t\tctx.lineTo(x0,y0);\r\n\r\n\t\t\tvar color = this._settings.color.call(this,data[i]);\r\n\t\t\tctx.fillStyle = color;\r\n\t\t\tctx.fill();\r\n\r\n\t\t\t/*text that needs being displayed inside the sector*/\r\n\t\t\tif(this._settings.pieInnerText)\r\n\t\t\t\tthis._drawSectorLabel(x0,y0,5*radius/6,alpha0,alpha1,ky,this._settings.pieInnerText(data[i],totalValue),true);\r\n\t\t\t/*label outside the sector*/\r\n\t\t\tif(this._settings.label)\r\n\t\t\t\tthis._drawSectorLabel(x0,y0,radius+this._settings.labelOffset,alpha0,alpha1,ky,this._settings.label(data[i]));\r\n\t\t\t/*drawing lower part for 3D pie*/\r\n\t\t\tif(ky!=1){\r\n\t\t\t\tthis._createLowerSector(ctx,x0,y0,alpha0,alpha1,radius,true);\r\n\t\t\t\tctx.fillStyle = \"#000000\";\r\n\t\t\t\tctx.globalAlpha = 0.2;\r\n\t\t\t\tthis._createLowerSector(ctx,x0,y0,alpha0,alpha1,radius,false);\r\n\t\t\t\tctx.globalAlpha = 1;\r\n\t\t\t\tctx.fillStyle = color;\r\n\t\t\t}\r\n\t\t\t/*creats map area (needed for events)*/\r\n\t\t\tmap.addSector(data[i].id,alpha0,alpha1,x0-point0.x,y0-point0.y/ky,radius,ky,sIndex);\r\n\r\n\t\t\talpha0 = alpha1;\r\n\t\t}\r\n\t\t/*renders radius lines and labels*/\r\n\t\tctx.globalAlpha = 0.8;\r\n\t\tvar p;\r\n\t\tfor(i=0;i< angles.length;i++){\r\n\t\t\tp = this._getPositionByAngle(angles[i],x0,y0,radius);\r\n\t\t\tthis._drawLine(ctx,x0,y0,p.x,p.y,this._settings.lineColor.call(this,data[i]),2);\r\n\t\t}\r\n\t\tif(ky==1){\r\n\t\t\tctx.lineWidth = 2;\r\n\t\t\tctx.strokeStyle = \"#ffffff\";\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.arc(x0,y0,radius+1,0,2*Math.PI,false);\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t\tctx.globalAlpha =1;\r\n\r\n\t\tctx.scale(1,1/ky);\r\n\t},\r\n\t/**\r\n\t *   returns list of values\r\n\t *   @param: data array\r\n\t */\r\n\t_getValues:function(data){\r\n\t\tvar v = [];\r\n\t\tfor(var i = 0; i < data.length;i++)\r\n\t\t\tv.push(parseFloat(this._settings.value(data[i])||0));\r\n\t\treturn v;\r\n\t},\r\n\t/**\r\n\t *   returns total value\r\n\t *   @param: the array of values\r\n\t */\r\n\t_getTotalValue:function(values){\r\n\t\tvar t=0;\r\n\t\tfor(var i = 0; i < values.length;i++)\r\n\t\t\tt += values[i];\r\n\t\treturn  t;\r\n\t},\r\n\t/**\r\n\t *   gets angles for all values\r\n\t *   @param: the array of values\r\n\t *   @param: total value (optional)\r\n\t */\r\n\t_getRatios:function(values,totalValue){\r\n\t\tvar value;\r\n\t\tvar ratios = [];\r\n\t\tvar prevSum = 0;\r\n\t\ttotalValue = totalValue||this._getTotalValue(values);\r\n\t\tfor(var i = 0; i < values.length;i++){\r\n\t\t\tvalue = values[i];\r\n\r\n\t\t\tratios[i] = Math.PI*2*(totalValue?((value+prevSum)/totalValue):(1/values.length));\r\n\t\t\tprevSum += value;\r\n\t\t}\r\n\t\treturn ratios;\r\n\t},\r\n\t/**\r\n\t *   returns calculated pie parameters: center position and radius\r\n\t *   @param: x - the width of a container\r\n\t *   @param: y - the height of a container\r\n\t */\r\n\t_getPieParameters:function(point0,point1){\r\n\t\t/*var offsetX = 0;\r\n\t\t var offsetY = 0;\r\n\t\t if(this._settings.legend &&this._settings.legend.layout!=\"x\")\r\n\t\t offsetX = this._settings.legend.width*(this._settings.legend.align==\"right\"?-1:1);\r\n\t\t var x0 = (x + offsetX)/2;\r\n\t\t if(this._settings.legend &&this._settings.legend.layout==\"x\")\r\n\t\t offsetY = this._settings.legend.height*(this._settings.legend.valign==\"bottom\"?-1:1);\r\n\t\t var y0 = (y+offsetY)/2;*/\r\n\t\tvar width = point1.x-point0.x;\r\n\t\tvar height = point1.y-point0.y;\r\n\t\tvar x0 = point0.x+width/2;\r\n\t\tvar y0 = point0.y+height/2;\r\n\t\tvar radius = Math.min(width/2,height/2);\r\n\t\treturn {\"x\":x0,\"y\":y0,\"radius\":radius};\r\n\t},\r\n\t/**\r\n\t *   creates lower part of sector in 3Dpie\r\n\t *   @param: ctx - canvas object\r\n\t *   @param: x0 - the horizontal position of the pie center\r\n\t *   @param: y0 - the vertical position of the pie center\r\n\t *   @param: a0 - the angle that defines the first edge of a sector\r\n\t *   @param: a1 - the angle that defines the second edge of a sector\r\n\t *   @param: R - pie radius\r\n\t *   @param: line (boolean) - if the sector needs a border\r\n\t */\r\n\t_createLowerSector:function(ctx,x0,y0,a1,a2,R,line){\r\n\t\tctx.lineWidth = 1;\r\n\t\t/*checks if the lower sector needs being displayed*/\r\n\t\tif(!((a1<=0 && a2>=0)||(a1>=0 && a2<=Math.PI)||(Math.abs(a1-Math.PI)>0.003&&a1<=Math.PI && a2>=Math.PI))) return;\r\n\r\n\t\tif(a1<=0 && a2>=0){\r\n\t\t\ta1 = 0;\r\n\t\t\tline = false;\r\n\t\t\tthis._drawSectorLine(ctx,x0,y0,R,a1,a2);\r\n\t\t}\r\n\t\tif(a1<=Math.PI && a2>=Math.PI){\r\n\t\t\ta2 = Math.PI;\r\n\t\t\tline = false;\r\n\t\t\tthis._drawSectorLine(ctx,x0,y0,R,a1,a2);\r\n\t\t}\r\n\t\t/*the height of 3D pie*/\r\n\t\tvar offset = (this._settings.pieHeight||Math.floor(R/4))/this._settings.cant;\r\n\t\tctx.beginPath();\r\n\t\tctx.arc(x0,y0,R,a1,a2,false);\r\n\t\tctx.lineTo(x0+R*Math.cos(a2),y0+R*Math.sin(a2)+offset);\r\n\t\tctx.arc(x0,y0+offset,R,a2,a1,true);\r\n\t\tctx.lineTo(x0+R*Math.cos(a1),y0+R*Math.sin(a1));\r\n\t\tctx.fill();\r\n\t\tif(line)\r\n\t\t\tctx.stroke();\r\n\t},\r\n\t/**\r\n\t *   draws a serctor arc\r\n\t */\r\n\t_drawSectorLine:function(ctx,x0,y0,R,a1,a2){\r\n\t\tctx.beginPath();\r\n\t\tctx.arc(x0,y0,R,a1,a2,false);\r\n\t\tctx.stroke();\r\n\t},\r\n\t/**\r\n\t *   adds a shadow to pie\r\n\t *   @param: ctx - canvas object\r\n\t *   @param: x - the horizontal position of the pie center\r\n\t *   @param: y - the vertical position of the pie center\r\n\t *   @param: R - pie radius\r\n\t */\r\n\t_addShadow:function(ctx,x,y,R){\r\n\t\tctx.globalAlpha = 0.5;\r\n\t\tvar shadows = [\"#c4c4c4\",\"#c6c6c6\",\"#cacaca\",\"#dcdcdc\",\"#dddddd\",\"#e0e0e0\",\"#eeeeee\",\"#f5f5f5\",\"#f8f8f8\"];\r\n\t\tfor(var i = shadows.length-1;i>-1;i--){\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.fillStyle = shadows[i];\r\n\t\t\tctx.arc(x+1,y+1,R+i,0,Math.PI*2,true);\r\n\t\t\tctx.fill();\r\n\t\t}\r\n\t\tctx.globalAlpha = 1;\r\n\t},\r\n\t/**\r\n\t *   returns a gray gradient\r\n\t *   @param: gradient - gradient object\r\n\t */\r\n\t_getGrayGradient:function(gradient){\r\n\t\tgradient.addColorStop(0.0,\"#ffffff\");\r\n\t\tgradient.addColorStop(0.7,\"#7a7a7a\");\r\n\t\tgradient.addColorStop(1.0,\"#000000\");\r\n\t\treturn gradient;\r\n\t},\r\n\t/**\r\n\t *   adds gray radial gradient\r\n\t *   @param: ctx - canvas object\r\n\t *   @param: x - the horizontal position of the pie center\r\n\t *   @param: y - the vertical position of the pie center\r\n\t *   @param: radius - pie radius\r\n\t *   @param: x0 - the horizontal position of a gradient center\r\n\t *   @param: y0 - the vertical position of a gradient center\r\n\t */\r\n\t_showRadialGradient:function(ctx,x,y,radius,x0,y0){\r\n\t\t//ctx.globalAlpha = 0.3;\r\n\t\tctx.beginPath();\r\n\t\tvar gradient;\r\n\t\tif(typeof this._settings.gradient!= \"function\"){\r\n\t\t\tgradient = ctx.createRadialGradient(x0,y0,radius/4,x,y,radius);\r\n\t\t\tgradient = this._getGrayGradient(gradient);\r\n\t\t}\r\n\t\telse gradient = this._settings.gradient(gradient);\r\n\t\tctx.fillStyle = gradient;\r\n\t\tctx.arc(x,y,radius,0,Math.PI*2,true);\r\n\t\tctx.fill();\r\n\t\t//ctx.globalAlpha = 1;\r\n\t\tctx.globalAlpha = 0.7;\r\n\t},\r\n\t/**\r\n\t *   returns the calculates pie parameters: center position and radius\r\n\t *   @param: ctx - canvas object\r\n\t *   @param: x0 - the horizontal position of the pie center\r\n\t *   @param: y0 - the vertical position of the pie center\r\n\t *   @param: R - pie radius\r\n\t *   @param: alpha1 - the angle that defines the 1st edge of a sector\r\n\t *   @param: alpha2 - the angle that defines the 2nd edge of a sector\r\n\t *   @param: ky - the value that defines an angle of inclination\r\n\t *   @param: text - label text\r\n\t *   @param: in_width (boolean) - if label needs being displayed inside a pie\r\n\t */\r\n\t_drawSectorLabel:function(x0,y0,R,alpha1,alpha2,ky,text,in_width){\r\n\t\tvar t = this.canvases[0].renderText(0,0,text,0,1);\r\n\t\tif (!t) return;\r\n\r\n\t\t//get existing width of text\r\n\t\tvar labelWidth = t.scrollWidth;\r\n\t\tt.style.width = labelWidth+\"px\";\t//adjust text label to fit all text\r\n\t\tif (labelWidth>x0) labelWidth = x0;\t//the text can't be greater than half of view\r\n\r\n\t\t//calculate expected correction based on default font metrics\r\n\t\tvar width = (alpha2-alpha1<0.2?4:8);\r\n\t\tif (in_width) width = labelWidth/1.8;\r\n\t\tvar alpha = alpha1+(alpha2-alpha1)/2;\r\n\r\n\t\t//position and its correction\r\n\t\tR = R-(width-8)/2;\r\n\t\tvar corr_x = - width;\r\n\t\tvar corr_y = -8;\r\n\t\tvar align = \"right\";\r\n\r\n\t\t//for items in left upper and lower sector\r\n\t\tif(alpha>=Math.PI/2 && alpha<Math.PI || alpha<=3*Math.PI/2 && alpha>=Math.PI){\r\n\t\t\tcorr_x = -labelWidth-corr_x+1;/*correction for label width*/\r\n\t\t\talign = \"left\";\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\t   calculate position of text\r\n\t\t   basically get point at center of pie sector\r\n\t\t*/\r\n\t\tvar offset = 0;\r\n\r\n\t\tif(!in_width&&ky<1&&(alpha>0&&alpha<Math.PI))\r\n\t\t\toffset = (this._settings.height||Math.floor(R/4))/ky;\r\n\r\n\t\tvar y = (y0+Math.floor((R+offset)*Math.sin(alpha)))*ky+corr_y;\r\n\t\tvar x = x0+Math.floor((R+width/2)*Math.cos(alpha))+corr_x;\r\n\r\n\t\t/*\r\n\t\t   if pie sector starts in left of right part pie,\r\n\t\t   related text\tmust be placed to the left of to the right of pie as well\r\n\t\t*/\r\n\t\tvar left_end = (alpha2 < Math.PI/2+0.01);\r\n\t\tvar left_start = (alpha1 < Math.PI/2);\r\n\t\tif (left_start && left_end){\r\n\t\t\tx = Math.max(x,x0+3);\t//right part of pie\r\n\t\t\t/*if(alpha2-alpha1<0.2)\r\n\t\t\t\tx = x0;*/\r\n\t\t}\r\n\t\telse if (!left_start && !left_end)\r\n\t\t\tx = Math.min(x,x0-labelWidth);\t//left part of pie\r\n\t\telse if (!in_width&&(alpha>=Math.PI/2 && alpha<Math.PI || alpha<=3*Math.PI/2 && alpha>=Math.PI)){\r\n\t\t\tx += labelWidth/3;\r\n\t\t}\r\n\r\n\r\n\t\t//we need to set position of text manually, based on above calculations\r\n\t\tt.style.top  = y+\"px\";\r\n\t\tt.style.left = x+\"px\";\r\n\t\tt.style.width = labelWidth+\"px\";\r\n\t\tt.style.textAlign = align;\r\n\t\tt.style.whiteSpace = \"nowrap\";\r\n\t},\r\n\t$render_pie3D:function(ctx,data,x,y,sIndex,map){\r\n\t\tthis._renderPie(ctx,data,x,y,this._settings.cant,map);\r\n\t},\r\n\t$render_donut:function(ctx,data,point0,point1,sIndex,map){\r\n        if(!data.length)\r\n\t\t\treturn;\r\n\t\tthis._renderPie(ctx,data,point0,point1,1,map,sIndex);\r\n        var config = this._settings;\r\n\t\tvar coord = this._getPieParameters(point0,point1);\r\n\t\tvar pieRadius = (config.radius?config.radius:coord.radius);\r\n\t    var innerRadius = ((config.innerRadius&&(config.innerRadius<pieRadius))?config.innerRadius:pieRadius/3);\r\n        var x0 = (config.x?config.x:coord.x);\r\n\t\tvar y0 = (config.y?config.y:coord.y);\r\n        ctx.fillStyle = \"#ffffff\";\r\n        ctx.beginPath();\r\n\t\tctx.arc(x0,y0,innerRadius,0,Math.PI*2,true);\r\n\t\tctx.fill();\r\n    }\r\n});\r\n\t\t//+pie3d\r\nwebix.extend(webix.ui.chart, {\r\n\t/**\r\n\t*   renders a bar chart\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: data - object those need to be displayed\r\n\t*   @param: x - the width of the container\r\n\t*   @param: y - the height of the container\r\n\t*   @param: sIndex - index of drawing chart\r\n\t*/\r\n\t$render_bar:function(ctx, data, point0, point1, sIndex, map){\r\n\t\tvar barWidth, cellWidth,\r\n\t\t\ti,\r\n\t\t\tlimits, maxValue, minValue,\r\n\t\t\trelValue, valueFactor, relativeValues,\r\n\t\t\tstartValue, unit,\r\n\t\t\txax, yax,\r\n\t\t\ttotalHeight = point1.y-point0.y;\r\n\r\n\t\tyax = !!this._settings.yAxis;\r\n\t\txax = !!this._settings.xAxis;\r\n\r\n\t\tlimits = this._getLimits();\r\n\t\tmaxValue = limits.max;\r\n\t\tminValue = limits.min;\r\n\r\n\t\t/*an available width for one bar*/\r\n\t\tcellWidth = (point1.x-point0.x)/data.length;\r\n\r\n\r\n\t\t/*draws x and y scales*/\r\n\t\tif(!sIndex&&!(this._settings.origin!=\"auto\"&&!yax)){\r\n\t\t\tthis._drawScales(data,point0, point1,minValue,maxValue,cellWidth);\r\n\t\t}\r\n\r\n\t\t/*necessary for automatic scale*/\r\n\t\tif(yax){\r\n\t\t\tmaxValue = parseFloat(this._settings.yAxis.end);\r\n\t\t\tminValue = parseFloat(this._settings.yAxis.start);\r\n\t\t}\r\n\r\n\t\t/*unit calculation (bar_height = value*unit)*/\r\n\t\trelativeValues = this._getRelativeValue(minValue,maxValue);\r\n\t\trelValue = relativeValues[0];\r\n\t\tvalueFactor = relativeValues[1];\r\n\r\n\t\tunit = (relValue?totalHeight/relValue:relValue);\r\n\r\n\t\tif(!yax&&!(this._settings.origin!=\"auto\"&&xax)){\r\n\t\t\t/*defines start value for better representation of small values*/\r\n\t\t\tstartValue = 10;\r\n\t\t\tunit = (relValue?(totalHeight-startValue)/relValue:startValue);\r\n\t\t}\r\n\t\t/*if yAxis isn't set, but with custom origin */\r\n\t\tif(!sIndex&&(this._settings.origin!=\"auto\"&&!yax)&&this._settings.origin>minValue){\r\n\t\t\tthis._drawXAxis(ctx,data,point0,point1,cellWidth,point1.y-unit*(this._settings.origin-minValue));\r\n\t\t}\r\n\r\n\t\t/*a real bar width */\r\n\t\tbarWidth = parseInt(this._settings.barWidth,10);\r\n\t\tvar seriesNumber = 0;\r\n\t\tvar seriesIndex = 0;\r\n\t\tfor(i=0; i<this._series.length; i++ ){\r\n\t\t\tif(i == sIndex){\r\n\t\t\t\tseriesIndex  = seriesNumber;\r\n\t\t\t}\r\n\t\t\tif(this._series[i].type == \"bar\")\r\n\t\t\t\tseriesNumber++;\r\n\t\t}\r\n\t\tif(this._series&&(barWidth*seriesNumber+4)>cellWidth) barWidth = parseInt(cellWidth/seriesNumber-4,10);\r\n\r\n\t\t/*the half of distance between bars*/\r\n\t\tvar barOffset = (cellWidth - barWidth*seriesNumber)/2;\r\n\r\n\t\t/*the radius of rounding in the top part of each bar*/\r\n\t\tvar radius = (typeof this._settings.radius!=\"undefined\"?parseInt(this._settings.radius,10):Math.round(barWidth/5));\r\n\r\n\t\tvar inner_gradient = false;\r\n\t\tvar gradient = this._settings.gradient;\r\n\r\n\t\tif(gradient && typeof(gradient) != \"function\"){\r\n\t\t\tinner_gradient = gradient;\r\n\t\t\tgradient = false;\r\n\t\t} else if (gradient){\r\n\t\t\tgradient = ctx.createLinearGradient(0,point1.y,0,point0.y);\r\n\t\t\tthis._settings.gradient(gradient);\r\n\t\t}\r\n\t\t/*draws a black line if the horizontal scale isn't defined*/\r\n\t\tif(!xax){\r\n\t\t\tthis._drawLine(ctx,point0.x,point1.y+0.5,point1.x,point1.y+0.5,\"#000000\",1); //hardcoded color!\r\n\t\t}\r\n\r\n\t\tfor(i=0; i < data.length;i ++){\r\n\r\n\t\t\tvar value =  parseFloat(this._settings.value(data[i])||0);\r\n\t\t\tif(this._logScaleCalc)\r\n\t\t\t\tvalue = this._log10(value);\r\n\r\n\t\t\tif(isNaN(value))\r\n\t\t\t\tcontinue;\r\n\t\t\tif(value>maxValue) value = maxValue;\r\n\t\t\tvalue -= minValue;\r\n\t\t\tvalue *= valueFactor;\r\n\r\n\t\t\t/*start point (bottom left)*/\r\n\t\t\tvar x0 = point0.x + barOffset + i*cellWidth+(barWidth+1)*seriesIndex;\r\n\t\t\tvar y0 = point1.y;\r\n\r\n\t\t\tif(value<0||(this._settings.yAxis&&value===0&&!(this._settings.origin!=\"auto\"&&this._settings.origin>minValue))){\r\n\t\t\t\tthis.canvases[sIndex].renderTextAt(true, true, x0+Math.floor(barWidth/2),y0,this._settings.label(data[i]));\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t/*takes start value into consideration*/\r\n\t\t\tif(!yax&&!(this._settings.origin!=\"auto\"&&xax)) value += startValue/unit;\r\n\r\n\t\t\tvar color = gradient||this._settings.color.call(this,data[i]);\r\n\r\n\r\n\t\t\t/*drawing bar body*/\r\n\t\t\tctx.globalAlpha = this._settings.alpha.call(this,data[i]);\r\n\t\t\tvar points = this._drawBar(ctx,point0,x0,y0,barWidth,minValue,radius,unit,value,color,gradient,inner_gradient);\r\n\t\t\tif (inner_gradient){\r\n\t\t\t\tthis._drawBarGradient(ctx,x0,y0,barWidth,minValue,radius,unit,value,color,inner_gradient);\r\n\t\t\t}\r\n\t\t\t/*drawing the gradient border of a bar*/\r\n\t\t\tif(this._settings.border)\r\n\t\t\t\tthis._drawBarBorder(ctx,x0,y0,barWidth,minValue,radius,unit,value,color);\r\n\r\n\t\t\tctx.globalAlpha = 1;\r\n\r\n\t\t\t/*sets a bar label*/\r\n\t\t\tif(points[0]!=x0)\r\n\t\t\t\tthis.canvases[sIndex].renderTextAt(false, true, x0+Math.floor(barWidth/2),points[1],this._settings.label(data[i]));\r\n\t\t\telse\r\n\t\t\t\tthis.canvases[sIndex].renderTextAt(true, true, x0+Math.floor(barWidth/2),points[3],this._settings.label(data[i]));\r\n\t\t\t/*defines a map area for a bar*/\r\n\t\t\tmap.addRect(data[i].id,[x0-point0.x,points[3]-point0.y,points[2]-point0.x,points[1]-point0.y],sIndex);\r\n\t\t\t//this._addMapRect(map,data[i].id,[{x:x0,y:points[3]},{x:points[2],y:points[1]}],point0,sIndex);\r\n\t\t}\r\n\t},\r\n\t_correctBarParams:function(ctx,x,y,value,unit,barWidth,minValue){\r\n\t\tvar xax = this._settings.xAxis;\r\n\t\tvar axisStart = y;\r\n\t\tif(!!xax&&this._settings.origin!=\"auto\" && (this._settings.origin>minValue)){\r\n\t\t\ty -= (this._settings.origin-minValue)*unit;\r\n\t\t\taxisStart = y;\r\n\t\t\tvalue = value-(this._settings.origin-minValue);\r\n\t\t\tif(value < 0){\r\n\t\t\t\tvalue *= (-1);\r\n\t\t\t\tctx.translate(x+barWidth,y);\r\n\t\t\t\tctx.rotate(Math.PI);\r\n\t\t\t\tx = 0;\r\n\t\t\t\ty = 0;\r\n\t\t\t}\r\n\t\t\ty -= 0.5;\r\n\t\t}\r\n\r\n\t\treturn {value:value,x0:x,y0:y,start:axisStart};\r\n\t},\r\n\t_drawBar:function(ctx,point0,x0,y0,barWidth,minValue,radius,unit,value,color,gradient,inner_gradient){\r\n\t\tctx.save();\r\n\t\tctx.fillStyle = color;\r\n\t\tvar p = this._correctBarParams(ctx,x0,y0,value,unit,barWidth,minValue);\r\n\t\tvar points = this._setBarPoints(ctx,p.x0,p.y0,barWidth,radius,unit,p.value,(this._settings.border?1:0));\r\n\t\tif (gradient&&!inner_gradient) ctx.lineTo(p.x0+(this._settings.border?1:0),point0.y); //fix gradient sphreading\r\n\t\tctx.fill();\r\n\t\tctx.restore();\r\n\t\tvar x1 = p.x0;\r\n\t\tvar x2 = (p.x0!=x0?x0+points[0]:points[0]);\r\n\t\tvar y1 = (p.x0!=x0?(p.start-points[1]-p.y0):p.y0);\r\n\t\tvar y2 = (p.x0!=x0?p.start-p.y0:points[1]);\r\n\r\n\t\treturn [x1,y1,x2,y2];\r\n\t},\r\n\t_setBorderStyles:function(ctx,color){\r\n\t\tvar hsv,rgb;\r\n\t\trgb = webix.color.toRgb(color);\r\n\t\thsv = webix.color.rgbToHsv(rgb[0],rgb[1],rgb[2]);\r\n\t\thsv[2] /= 1.4;\r\n\t\tcolor = \"rgb(\"+webix.color.hsvToRgb(hsv[0],hsv[1],hsv[2])+\")\";\r\n\t\tctx.strokeStyle = color;\r\n\t\tif(ctx.globalAlpha==1)\r\n\t\t\tctx.globalAlpha = 0.9;\r\n\t},\r\n\t_drawBarBorder:function(ctx,x0,y0,barWidth,minValue,radius,unit,value,color){\r\n\t\tvar p;\r\n\t\tctx.save();\r\n\t\tp = this._correctBarParams(ctx,x0,y0,value,unit,barWidth,minValue);\r\n\t\tthis._setBorderStyles(ctx,color);\r\n\t\tthis._setBarPoints(ctx,p.x0,p.y0,barWidth,radius,unit,p.value,ctx.lineWidth/2,1);\r\n\t\tctx.stroke();\r\n\t\t/*ctx.fillStyle = color;\r\n\t\t this._setBarPoints(ctx,p.x0,p.y0,barWidth,radius,unit,p.value,0);\r\n\t\t ctx.lineTo(p.x0,0);\r\n\t\t ctx.fill()\r\n\r\n\r\n\t\t ctx.fillStyle = \"#000000\";\r\n\t\t ctx.globalAlpha = 0.37;\r\n\r\n\t\t this._setBarPoints(ctx,p.x0,p.y0,barWidth,radius,unit,p.value,0);\r\n\t\t ctx.fill()\r\n\t\t */\r\n\t\tctx.restore();\r\n\t},\r\n\t_drawBarGradient:function(ctx,x0,y0,barWidth,minValue,radius,unit,value,color,inner_gradient){\r\n\t\tctx.save();\r\n\t\tvar p = this._correctBarParams(ctx,x0,y0,value,unit,barWidth,minValue);\r\n\t\tvar gradParam = this._setBarGradient(ctx,p.x0,p.y0,p.x0+barWidth,p.y0-unit*p.value+2,inner_gradient,color,\"y\");\r\n\t\tvar borderOffset = this._settings.border?1:0;\r\n\t\tctx.fillStyle = gradParam.gradient;\r\n\t\tthis._setBarPoints(ctx,p.x0+gradParam.offset,p.y0,barWidth-gradParam.offset*2,radius,unit,p.value,gradParam.offset+borderOffset);\r\n\t\tctx.fill();\r\n\t\tctx.restore();\r\n\t},\r\n\t/**\r\n\t *   sets points for bar and returns the position of the bottom right point\r\n\t *   @param: ctx - canvas object\r\n\t *   @param: x0 - the x position of start point\r\n\t *   @param: y0 - the y position of start point\r\n\t *   @param: barWidth - bar width\r\n\t *   @param: radius - the rounding radius of the top\r\n\t *   @param: unit - the value defines the correspondence between item value and bar height\r\n\t *   @param: value - item value\r\n\t *   @param: offset - the offset from expected bar edge (necessary for drawing border)\r\n\t */\r\n\t_setBarPoints:function(ctx,x0,y0,barWidth,radius,unit,value,offset,skipBottom){\r\n\t\t/*correction for displaing small values (when rounding radius is bigger than bar height)*/\r\n\t\tctx.beginPath();\r\n\t\t//y0 = 0.5;\r\n\t\tvar angle_corr = 0;\r\n\t\tif(radius>unit*value){\r\n\t\t\tvar cosA = (radius-unit*value)/radius;\r\n\t\t\tif(cosA<=1&&cosA>=-1)\r\n\t\t\t\tangle_corr = -Math.acos(cosA)+Math.PI/2;\r\n\t\t}\r\n\t\t/*start*/\r\n\t\tctx.moveTo(x0+offset,y0);\r\n\t\t/*start of left rounding*/\r\n\t\tvar y1 = y0 - Math.floor(unit*value) + radius + (radius?0:offset);\r\n\t\tif(radius<unit*value)\r\n\t\t\tctx.lineTo(x0+offset,y1);\r\n\t\t/*left rounding*/\r\n\t\tvar x2 = x0 + radius;\r\n\r\n\t\tif (radius&&radius>0)\r\n\t\t\tctx.arc(x2,y1,Math.max(radius-offset,0),-Math.PI+angle_corr,-Math.PI/2,false);\r\n\t\t/*start of right rounding*/\r\n\t\tvar x3 = x0 + barWidth - radius - offset;\r\n\t\tvar y3 = y1 - radius + (radius?offset:0);\r\n\t\tctx.lineTo(x3,y3);\r\n\t\t/*right rounding*/\r\n\t\tif (radius&&radius>0)\r\n\t\t\tctx.arc(x3+offset,y1,Math.max(radius-offset,0),-Math.PI/2,0-angle_corr,false);\r\n\t\t/*bottom right point*/\r\n\t\tvar x5 = x0 + barWidth-offset;\r\n\t\tctx.lineTo(x5,y0);\r\n\t\t/*line to the start point*/\r\n\t\tif(!skipBottom){\r\n\t\t\tctx.lineTo(x0+offset,y0);\r\n\t\t}\r\n\t\t//\tctx.lineTo(x0,0); //IE fix!\r\n\t\treturn [x5,y3];\r\n\t}\r\n});\t\r\nwebix.extend(webix.ui.chart, {\r\n\t/**\r\n\t*   renders a graphic\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: data - object those need to be displayed\r\n\t*   @param: width - the width of the container\r\n\t*   @param: height - the height of the container\r\n\t*   @param: sIndex - index of drawing chart\r\n\t*/\r\n\t$render_line:function(ctx, data, point0, point1, sIndex, map){\r\n\t\tvar config,i,items,params,x0,x1,x2,y1,y2,y0,res1,res2;\r\n\t\tparams = this._calculateLineParams(ctx,data,point0,point1,sIndex);\r\n\t\tconfig = this._settings;\r\n\t\tif (data.length) {\r\n\t\t\tx0 = (config.offset?point0.x+params.cellWidth*0.5:point0.x);\r\n\t\t\t//finds items with data (excludes scale units)\r\n\t\t\titems= [];\r\n\t\t\tfor(i=0; i < data.length;i++){\r\n\t\t\t\tres2 = this._getPointY(data[i],point0,point1,params);\r\n\t\t\t\tif(res2){\r\n\t\t\t\t\tx2 = ((!i)?x0:params.cellWidth*i - 0.5 + x0);\r\n\t\t\t\t\ty2 = (typeof res2 == \"object\"?res2.y0:res2);\r\n\t\t\t\t\tif(i && this._settings.fixOverflow){\r\n\t\t\t\t\t\tres1 = this._getPointY(data[i-1],point0,point1,params);\r\n\t\t\t\t\t\tif(res1.out && res1.out == res2.out){\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tx1 = params.cellWidth*(i-1) - 0.5 + x0;\r\n\t\t\t\t\t\ty1 = (typeof res1 == \"object\"?res1.y0:res1);\r\n\r\n\t\t\t\t\t\tif(res1.out){\r\n\t\t\t\t\t\t\ty0 = (res1.out == \"min\"?point1.y:point0.y);\r\n\t\t\t\t\t\t\titems.push({x:this._calcOverflowX(x1,x2,y1,y2,y0),y:y0});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(res2.out){\r\n\t\t\t\t\t\t\ty0 = (res2.out == \"min\"?point1.y:point0.y);\r\n\t\t\t\t\t\t\titems.push({x:this._calcOverflowX(x1,x2,y1,y2,y0),y:y0});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!res2.out)\r\n\t\t\t\t\t\titems.push({x:x2, y: res2, index: i});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._mapStart = point0;\r\n\t\t\tfor(i = 1; i <= items.length; i++){\r\n\t\t\t\t//line start position\r\n\t\t\t\tx1 = items[i-1].x;\r\n\t\t\t\ty1 = items[i-1].y;\r\n\t\t\t\tif(i<items.length){\r\n\t\t\t\t\t//line end position\r\n\t\t\t\t\tx2 = items[i].x;\r\n\t\t\t\t\ty2 = items[i].y;\r\n\t\t\t\t\t//line\r\n\t\t\t\t\tthis._drawLine(ctx,x1,y1,x2,y2,config.line.color.call(this,data[i-1]),config.line.width);\r\n\t\t\t\t\t//line shadow\r\n\t\t\t\t\tif(config.line&&config.line.shadow){\r\n\t\t\t\t\t\tctx.globalAlpha = 0.3;\r\n\t\t\t\t\t\tthis._drawLine(ctx,x1+2,y1+config.line.width+8,x2+2,y2+config.line.width+8,\"#eeeeee\",config.line.width+3);\r\n\t\t\t\t\t\tctx.globalAlpha = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//item\r\n\t\t\t\tif(typeof items[i-1].index != \"undefined\")\r\n\t\t\t\t\tthis._drawItem(ctx,x1,y1,data[items[i-1].index],config.label(data[items[i-1].index]), sIndex, map, point0);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t},\r\n\t_calcOverflowX: function(x1,x2,y1,y2,y){\r\n\t\treturn  x1 + ( y - y1 )*( x2 - x1 )/( y2 - y1 );\r\n\t},\r\n\t/**\r\n\t*   draws an item and its label\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: x0 - the x position of a circle\r\n\t*   @param: y0 - the y position of a circle\r\n\t*   @param: obj - data object\r\n\t*   @param: label - (boolean) defines wherether label needs being drawn\r\n\t*/\r\n\t_drawItem:function(ctx,x0,y0,obj,label,sIndex,map){\r\n\t\tvar config = this._settings.item;\r\n\r\n\t\tvar R = parseInt(config.radius.call(this,obj),10)||0;\r\n\t\tvar mapStart = this._mapStart;\r\n\t\tif(R){\r\n\t\t\tctx.save();\r\n\t\t\tif(config.shadow){\r\n\t\t\t\tctx.lineWidth = 1;\r\n\t\t\t\tctx.strokeStyle = \"#bdbdbd\";\r\n\t\t\t\tctx.fillStyle = \"#bdbdbd\";\r\n\t\t\t\tvar alphas = [0.1,0.2,0.3];\r\n\t\t\t\tfor(var i=(alphas.length-1);i>=0;i--){\r\n\t\t\t\t\tctx.globalAlpha = alphas[i];\r\n\t\t\t\t\tctx.strokeStyle = \"#d0d0d0\";\r\n\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\tthis._strokeChartItem(ctx,x0,y0+2*R/3,R+i+1,config.type);\r\n\t\t\t\t\tctx.stroke();\r\n\t\t\t\t}\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.globalAlpha = 0.3;\r\n\t\t\t\tctx.fillStyle = \"#bdbdbd\";\r\n\t\t\t\tthis._strokeChartItem(ctx,x0,y0+2*R/3,R+1,config.type);\r\n\t\t\t\tctx.fill();\r\n\t\t\t}\r\n\t\t\tctx.restore();\r\n\t\t\tctx.lineWidth = config.borderWidth;\r\n\t\t\tctx.fillStyle = config.color.call(this,obj);\r\n\t\t\tctx.strokeStyle = config.borderColor.call(this,obj);\r\n\t\t\tctx.globalAlpha = config.alpha.call(this,obj);\r\n\t\t\tctx.beginPath();\r\n\t\t\tthis._strokeChartItem(ctx,x0,y0,R+1,config.type);\r\n\t\t\tctx.fill();\r\n\t\t\tctx.stroke();\r\n\t\t\tctx.globalAlpha = 1;\r\n\t\t}\r\n\t\t/*item label*/\r\n\t\tif(label){\r\n\t\t\tthis.canvases[sIndex].renderTextAt(false, true, x0,y0-R-this._settings.labelOffset,this._settings.label.call(this,obj));\r\n\t\t}\r\n\t\tif(map){\r\n\t\t\tvar areaPos = (this._settings.eventRadius||R+1);\r\n\t\t\t//this._addMapRect(map,obj.id,[{x:x0-areaPos,y:y0-areaPos},{x0+areaPos,y:y0+areaPos}],point0,sIndex);\r\n\t\t\tmap.addRect(obj.id,[x0-areaPos-mapStart.x,y0-areaPos-mapStart.y,x0+areaPos-mapStart.x,y0+areaPos-mapStart.y],sIndex);\r\n\t\t}\r\n\r\n\t},\r\n\t_strokeChartItem:function(ctx,x0,y0,R,type){\r\n\t\tvar p=[];\r\n\t\tif(type && (type==\"square\" || type==\"s\")){\r\n\t\t\tR *= Math.sqrt(2)/2;\r\n\t\t\tp = [\r\n\t\t\t\t[x0-R-ctx.lineWidth/2,y0-R],\r\n\t\t\t\t[x0+R,y0-R],\r\n\t\t\t\t[x0+R,y0+R],\r\n\t\t\t\t[x0-R,y0+R],\r\n\t\t\t\t[x0-R,y0-R]\r\n\t\t\t];\r\n\t\t}\r\n\t\telse if(type && (type==\"diamond\" || type==\"d\")){\r\n\t\t\tvar corr = (ctx.lineWidth>1?ctx.lineWidth*Math.sqrt(2)/4:0);\r\n\t\t\tp = [\r\n\t\t\t\t[x0,y0-R],\r\n\t\t\t\t[x0+R,y0],\r\n\t\t\t\t[x0,y0+R],\r\n\t\t\t\t[x0-R,y0],\r\n\t\t\t\t[x0+corr,y0-R-corr]\r\n\t\t\t];\r\n\t\t}\r\n\t\telse if(type && (type==\"triangle\" || type==\"t\")){\r\n\t\t\tp = [\r\n\t\t\t\t[x0,y0-R],\r\n\t\t\t\t[x0+Math.sqrt(3)*R/2,y0+R/2],\r\n\t\t\t\t[x0-Math.sqrt(3)*R/2,y0+R/2],\r\n\t\t\t\t[x0,y0-R]\r\n\t\t\t];\r\n\t\t}\r\n\t\telse\r\n\t\t\tp = [\r\n\t\t\t\t[x0,y0,R,0,Math.PI*2,true]\r\n\t\t\t];\r\n\t\tthis._path(ctx,p);\r\n\t},\r\n\t/**\r\n\t*   gets the vertical position of the item\r\n\t*   @param: data - data object\r\n\t*   @param: y0 - the y position of chart start\r\n\t*   @param: y1 - the y position of chart end\r\n\t*   @param: params - the object with elements: minValue, maxValue, unit, valueFactor (the value multiple of 10)\r\n\t*/\r\n\t_getPointY: function(data,point0,point1,params){\r\n\t\tvar minValue = params.minValue;\r\n\t\tvar maxValue = params.maxValue;\r\n\t\tvar unit = params.unit;\r\n\t\tvar valueFactor = params.valueFactor;\r\n\t\t/*the real value of an object*/\r\n\t\tvar value = this._settings.value(data);\r\n\t\tif(this._logScaleCalc){\r\n\t\t\tvalue = this._log10(value);\r\n\t\t}\r\n\t\t/*a relative value*/\r\n\t\tvar v = (parseFloat(value||0) - minValue)*valueFactor;\r\n\t\tif(!this._settings.yAxis)\r\n\t\t\tv += params.startValue/unit;\r\n\t\t/*a vertical coordinate*/\r\n\t\tvar y = point1.y - unit*v;\r\n\t\t/*the limit of the max and min values*/\r\n\t\tif(this._settings.fixOverflow && ( this._settings.type == \"line\" || this._settings.type == \"area\")){\r\n\t\t\tif(value > maxValue)\r\n\t\t\t\ty = {y: point0.y, y0:  y, out: \"max\"};\r\n\t\t\telse if(v<0 || value < minValue)\r\n\t\t\t\ty = {y: point1.y, y0:  y, out: \"min\"};\r\n\t\t}\r\n\t\telse{\r\n\t\t\tif(value > maxValue)\r\n\t\t\t\ty =  point0.y;\r\n\t\t\tif(v<0 || value < minValue)\r\n\t\t\t\ty =  point1.y;\r\n\t\t}\r\n\t\treturn y;\r\n\t},\r\n\t_calculateLineParams: function(ctx,data,point0,point1,sIndex){\r\n\t\tvar params = {};\r\n\r\n\t\t/*maxValue - minValue*/\r\n\t\tvar relValue;\r\n\r\n\t\t/*available height*/\r\n\t\tparams.totalHeight = point1.y-point0.y;\r\n\r\n\t\t/*a space available for a single item*/\r\n\t\t//params.cellWidth = Math.round((point1.x-point0.x)/((!this._settings.offset&&this._settings.yAxis)?(data.length-1):data.length));\r\n\t\tparams.cellWidth =(point1.x-point0.x)/((!this._settings.offset)?(data.length-1):data.length);\r\n\t\t/*scales*/\r\n\t\tvar yax = !!this._settings.yAxis;\r\n\r\n\t\tvar limits = (this._settings.type.indexOf(\"stacked\")!=-1?this._getStackedLimits(data):this._getLimits());\r\n\t\tparams.maxValue = limits.max;\r\n\t\tparams.minValue = limits.min;\r\n\r\n\t\t/*draws x and y scales*/\r\n\t\tif(!sIndex)\r\n\t\t\tthis._drawScales(data, point0, point1,params.minValue,params.maxValue,params.cellWidth);\r\n\r\n\t\t/*necessary for automatic scale*/\r\n\t\tif(yax){\r\n\t\t    params.maxValue = parseFloat(this._settings.yAxis.end);\r\n\t\t\tparams.minValue = parseFloat(this._settings.yAxis.start);\r\n\t\t}\r\n\r\n\t\t/*unit calculation (y_position = value*unit)*/\r\n\t\tvar relativeValues = this._getRelativeValue(params.minValue,params.maxValue);\r\n\t\trelValue = relativeValues[0];\r\n\t\tparams.valueFactor = relativeValues[1];\r\n\t\tparams.unit = (relValue?params.totalHeight/relValue:10);\r\n\r\n\t\tparams.startValue = 0;\r\n\t\tif(!yax){\r\n\t\t\t/*defines start value for better representation of small values*/\r\n\t\t\tparams.startValue = 10;\r\n\t\t\tif(params.unit!=params.totalHeight)\r\n\t\t\t\tparams.unit = (relValue?(params.totalHeight - params.startValue)/relValue:10);\r\n\t\t}\r\n\t\treturn params;\r\n\t}\r\n});\r\n\r\n\r\nwebix.extend(webix.ui.chart, {\r\n\t/**\r\n\t*   renders a bar chart\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: data - object those need to be displayed\r\n\t*   @param: x - the width of the container\r\n\t*   @param: y - the height of the container\r\n\t*   @param: sIndex - index of drawing chart\r\n\t*/\r\n\t$render_barH:function(ctx, data, point0, point1, sIndex, map){\r\n\t\tvar barOffset, barWidth, cellWidth, color, gradient, i, limits, maxValue, minValue,\r\n\t\t\tinnerGradient, valueFactor, relValue, radius, relativeValues,\r\n\t\t\tstartValue, totalWidth,value,  unit, x0, y0, xax;\r\n\r\n\t\t/*an available width for one bar*/\r\n\t\tcellWidth = (point1.y-point0.y)/data.length;\r\n\r\n\t\tlimits = this._getLimits(\"h\");\r\n\r\n\t\tmaxValue = limits.max;\r\n\t\tminValue = limits.min;\r\n\r\n\t\ttotalWidth = point1.x-point0.x;\r\n\r\n\t\txax = !!this._settings.xAxis;\r\n\r\n\t\t/*draws x and y scales*/\r\n\t\tif(!sIndex )\r\n\t\t\tthis._drawHScales(ctx,data,point0, point1,minValue,maxValue,cellWidth);\r\n\r\n\t\t/*necessary for automatic scale*/\r\n\t\tif(xax ){\r\n\t\t\tmaxValue = parseFloat(this._settings.xAxis.end);\r\n\t\t\tminValue = parseFloat(this._settings.xAxis.start);\r\n\t\t}\r\n\r\n\t\t/*unit calculation (bar_height = value*unit)*/\r\n\t\trelativeValues = this._getRelativeValue(minValue,maxValue);\r\n\t\trelValue = relativeValues[0];\r\n\t\tvalueFactor = relativeValues[1];\r\n\r\n\t\tunit = (relValue?totalWidth/relValue:10);\r\n\t\tif(!xax){\r\n\t\t\t/*defines start value for better representation of small values*/\r\n\t\t\tstartValue = 10;\r\n\t\t\tunit = (relValue?(totalWidth-startValue)/relValue:10);\r\n\t\t}\r\n\r\n\r\n\t\t/*a real bar width */\r\n\t\tbarWidth = parseInt(this._settings.barWidth,10);\r\n\t\tif((barWidth*this._series.length+4)>cellWidth) barWidth = cellWidth/this._series.length-4;\r\n\t\t/*the half of distance between bars*/\r\n\t\tbarOffset = Math.floor((cellWidth - barWidth*this._series.length)/2);\r\n\t\t/*the radius of rounding in the top part of each bar*/\r\n\t\tradius = (typeof this._settings.radius!=\"undefined\"?parseInt(this._settings.radius,10):Math.round(barWidth/5));\r\n\r\n\t\tinnerGradient = false;\r\n\t\tgradient = this._settings.gradient;\r\n\r\n\t\tif (gradient&&typeof(gradient) != \"function\"){\r\n\t\t\tinnerGradient = gradient;\r\n\t\t\tgradient = false;\r\n\t\t} else if (gradient){\r\n\t\t\tgradient = ctx.createLinearGradient(point0.x,point0.y,point1.x,point0.y);\r\n\t\t\tthis._settings.gradient(gradient);\r\n\t\t}\r\n\t\t/*draws a black line if the horizontal scale isn't defined*/\r\n\t\tif(!xax){\r\n\t\t\tthis._drawLine(ctx,point0.x-0.5,point0.y,point0.x-0.5,point1.y,\"#000000\",1); //hardcoded color!\r\n\t\t}\r\n\r\n\r\n\r\n\t\tfor(i=0; i < data.length;i ++){\r\n\r\n\r\n\t\t\tvalue =  parseFloat(this._settings.value(data[i]||0));\r\n\t\t\tif(this._logScaleCalc)\r\n\t\t\t\tvalue = this._log10(value);\r\n\r\n\t\t\tif(value>maxValue) value = maxValue;\r\n\t\t\tvalue -= minValue;\r\n\t\t\tvalue *= valueFactor;\r\n\r\n\t\t\t/*start point (bottom left)*/\r\n\t\t\tx0 = point0.x;\r\n\t\t\ty0 = point0.y+ barOffset + i*cellWidth+(barWidth+1)*sIndex;\r\n\r\n\t\t\tif((value<0&&this._settings.origin==\"auto\")||(this._settings.xAxis&&value===0&&!(this._settings.origin!=\"auto\"&&this._settings.origin>minValue))){\r\n\t\t\t\tthis.canvases[sIndex].renderTextAt(\"middle\", \"right\", x0+10,y0+barWidth/2+barOffset,this._settings.label(data[i]));\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif(value<0&&this._settings.origin!=\"auto\"&&this._settings.origin>minValue){\r\n\t\t\t\tvalue = 0;\r\n\t\t\t}\r\n\r\n\t\t\t/*takes start value into consideration*/\r\n\t\t\tif(!xax) value += startValue/unit;\r\n\t\t\tcolor = gradient||this._settings.color.call(this,data[i]);\r\n\r\n\t\t\t/*drawing the gradient border of a bar*/\r\n\t\t\tif(this._settings.border){\r\n\t\t\t\tthis._drawBarHBorder(ctx,x0,y0,barWidth,minValue,radius,unit,value,color);\r\n\t\t\t}\r\n\r\n\t\t\t/*drawing bar body*/\r\n\t\t\tctx.globalAlpha = this._settings.alpha.call(this,data[i]);\r\n\t\t\tvar points = this._drawBarH(ctx,point1,x0,y0,barWidth,minValue,radius,unit,value,color,gradient,innerGradient);\r\n\t\t\tif (innerGradient){\r\n\t\t\t\tthis._drawBarHGradient(ctx,x0,y0,barWidth,minValue,radius,unit,value,color,innerGradient);\r\n\r\n\t\t\t}\r\n\t\t\tctx.globalAlpha = 1;\r\n\r\n\r\n\t\t\t/*sets a bar label and map area*/\r\n\r\n\t\t\tif(points[3]==y0){\r\n\t\t\t\tthis.canvases[sIndex].renderTextAt(\"middle\", \"left\", points[0]-5,points[3]+Math.floor(barWidth/2),this._settings.label(data[i]));\r\n\t\t\t\tmap.addRect(data[i].id,[points[0]-point0.x,points[3]-point0.y,points[2]-point0.x,points[3]+barWidth-point0.y],sIndex);\r\n\r\n\t\t\t}else{\r\n\t\t\t\tthis.canvases[sIndex].renderTextAt(\"middle\", false, points[2]+5,points[1]+Math.floor(barWidth/2),this._settings.label(data[i]));\r\n\t\t\t\tmap.addRect(data[i].id,[points[0]-point0.x,y0-point0.y,points[2]-point0.x,points[3]-point0.y],sIndex);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t},\r\n\t/**\r\n\t *   sets points for bar and returns the position of the bottom right point\r\n\t *   @param: ctx - canvas object\r\n\t *   @param: x0 - the x position of start point\r\n\t *   @param: y0 - the y position of start point\r\n\t *   @param: barWidth - bar width\r\n\t *   @param: radius - the rounding radius of the top\r\n\t *   @param: unit - the value defines the correspondence between item value and bar height\r\n\t *   @param: value - item value\r\n\t *   @param: offset - the offset from expected bar edge (necessary for drawing border)\r\n\t */\r\n\t_setBarHPoints:function(ctx,x0,y0,barWidth,radius,unit,value,offset,skipLeft){\r\n\t\t/*correction for displaing small values (when rounding radius is bigger than bar height)*/\r\n\t\tvar angle_corr = 0;\r\n\r\n\t\tif(radius>unit*value){\r\n\t\t\tvar sinA = (radius-unit*value)/radius;\r\n\t\t\tangle_corr = -Math.asin(sinA)+Math.PI/2;\r\n\t\t}\r\n\t\t/*start*/\r\n\t\tctx.moveTo(x0,y0+offset);\r\n\t\t/*start of left rounding*/\r\n\t\tvar x1 = x0 + unit*value - radius - (radius?0:offset);\r\n\t\tx1 = Math.max(x0,x1);\r\n\t\tif(radius<unit*value)\r\n\t\t\tctx.lineTo(x1,y0+offset);\r\n\t\t/*left rounding*/\r\n\t\tvar y2 = y0 + radius;\r\n\t\tif (radius&&radius>0)\r\n\t\t\tctx.arc(x1,y2,radius-offset,-Math.PI/2+angle_corr,0,false);\r\n\t\t/*start of right rounding*/\r\n\t\tvar y3 = y0 + barWidth - radius - (radius?0:offset);\r\n\t\tvar x3 = x1 + radius - (radius?offset:0);\r\n\t\tctx.lineTo(x3,y3);\r\n\t\t/*right rounding*/\r\n\t\tif (radius&&radius>0)\r\n\t\t\tctx.arc(x1,y3,radius-offset,0,Math.PI/2-angle_corr,false);\r\n\t\t/*bottom right point*/\r\n\t\tvar y5 = y0 + barWidth-offset;\r\n\t\tctx.lineTo(x0,y5);\r\n\t\t/*line to the start point*/\r\n\t\tif(!skipLeft){\r\n\t\t\tctx.lineTo(x0,y0+offset);\r\n\t\t}\r\n\t\t//\tctx.lineTo(x0,0); //IE fix!\r\n\t\treturn [x3,y5];\r\n\t},\r\n\t_drawHScales:function(ctx,data,point0,point1,start,end,cellWidth){\r\n\t\tvar x = 0;\r\n\t\tif(this._settings.xAxis){\r\n\t\t\tif(!this.canvases[\"x\"])\r\n\t\t\t\tthis.canvases[\"x\"] =  this._createCanvas(\"axis_x\");\r\n\t\t\tx = this._drawHXAxis(this.canvases[\"x\"].getCanvas(),data,point0,point1,start,end);\r\n\t\t}\r\n\t\tif (this._settings.yAxis){\r\n\t\t\tif(!this.canvases[\"y\"])\r\n\t\t\t\tthis.canvases[\"y\"] =  this._createCanvas(\"axis_y\");\r\n\t\t\tthis._drawHYAxis(this.canvases[\"y\"].getCanvas(),data,point0,point1,cellWidth,x);\r\n\t\t}\r\n\t},\r\n\t_drawHYAxis:function(ctx,data,point0,point1,cellWidth,yAxisX){\r\n\t\tif (!this._settings.yAxis) return;\r\n\t\tvar unitPos;\r\n\t\tvar x0 = parseInt((yAxisX?yAxisX:point0.x),10)-0.5;\r\n\t\tvar y0 = point1.y+0.5;\r\n\t\tvar y1 = point0.y;\r\n\t\tthis._drawLine(ctx,x0,y0,x0,y1,this._settings.yAxis.color,1);\r\n\r\n\r\n\r\n\t\tfor(var i=0; i < data.length;i ++){\r\n\r\n\t\t\t/*scale labels*/\r\n\t\t\tvar right = ((this._settings.origin!=\"auto\")&&(this._settings.type==\"barH\")&&(parseFloat(this._settings.value(data[i]))<this._settings.origin));\r\n\t\t\tunitPos = y1+cellWidth/2+i*cellWidth;\r\n\t\t\tthis.canvases[\"y\"].renderTextAt(\"middle\",(right?false:\"left\"),(right?x0+5:x0-5),unitPos,\r\n\t\t\t\tthis._settings.yAxis.template(data[i]),\r\n\t\t\t\t\"webix_axis_item_y\",(right?0:x0-10)\r\n\t\t\t);\r\n\t\t\tif(this._settings.yAxis.lines.call(this,data[i]))\r\n\t\t\t\tthis._drawLine(ctx,point0.x,unitPos,point1.x,unitPos,this._settings.yAxis.lineColor.call(this,data[i]),1);\r\n\t\t}\r\n\r\n\t\tif(this._settings.yAxis.lines.call(this,{}))\r\n\t\t\tthis._drawLine(ctx,point0.x+0.5,y1+0.5,point1.x,y1+0.5,this._settings.yAxis.lineColor.call(this,{}),1);\r\n\t\tthis._setYAxisTitle(point0,point1);\r\n\t},\r\n\t_drawHXAxis:function(ctx,data,point0,point1,start,end){\r\n\t\tvar step;\r\n\t\tvar scaleParam= {};\r\n\t\tvar axis = this._settings.xAxis;\r\n\t\tif (!axis) return;\r\n\r\n\t\tvar y0 = point1.y+0.5;\r\n\t\tvar x0 = point0.x-0.5;\r\n\t\tvar x1 = point1.x-0.5;\r\n\t\tvar yAxisStart = point0.x;\r\n\t\tthis._drawLine(ctx,x0,y0,x1,y0,axis.color,1);\r\n\r\n\t\tif(axis.step)\r\n\t\t\tstep = parseFloat(axis.step);\r\n\r\n\t\tif(typeof this._configXAxis.step ==\"undefined\"||typeof this._configXAxis.start==\"undefined\"||typeof this._configXAxis.end ==\"undefined\"){\r\n\t\t\tscaleParam = this._calculateScale(start,end);\r\n\t\t\tstart = scaleParam.start;\r\n\t\t\tend = scaleParam.end;\r\n\t\t\tstep = scaleParam.step;\r\n\t\t\tthis._settings.xAxis.end = end;\r\n\t\t\tthis._settings.xAxis.start = start;\r\n\t\t\tthis._settings.xAxis.step = step;\r\n\t\t}\r\n\r\n\t\tif(step===0) return;\r\n\t\tvar stepHeight = (x1-x0)*step/(end-start);\r\n\t\tvar c = 0;\r\n\t\tfor(var i = start; i<=end; i += step){\r\n\t\t\tvar value = this._logScaleCalc?Math.pow(10,i):i;\r\n\t\t\tif(scaleParam.fixNum)  value = parseFloat(value).toFixed(scaleParam.fixNum);\r\n\t\t\tvar xi = Math.floor(x0+c*stepHeight)+ 0.5;/*canvas line fix*/\r\n\r\n\t\t\tif(!(i==start&&this._settings.origin==\"auto\") &&axis.lines.call(this,i))\r\n\t\t\t\tthis._drawLine(ctx,xi,y0,xi,point0.y,this._settings.xAxis.lineColor.call(this,i),1);\r\n\t\t\tif(i == this._settings.origin) yAxisStart = xi+1;\r\n\t\t\t/*correction for JS float calculation*/\r\n\t\t\tif(step<1 && !this._logScaleCalc){\r\n\t\t\t\tvar power = Math.min(Math.floor(this._log10(step)),(start<=0?0:Math.floor(this._log10(start))));\r\n\t\t\t\tvar corr = Math.pow(10,-power);\r\n\t\t\t\tvalue = Math.round(value*corr)/corr;\r\n\t\t\t\ti = value;\r\n\t\t\t}\r\n\t\t\tthis.canvases[\"x\"].renderTextAt(false, true,xi,y0+2,axis.template(value.toString()),\"webix_axis_item_x\");\r\n\t\t\tc++;\r\n\t\t}\r\n\t\tthis.canvases[\"x\"].renderTextAt(true, false, x0,point1.y+this._settings.padding.bottom-3,\r\n\t\t\tthis._settings.xAxis.title,\r\n\t\t\t\"webix_axis_title_x\",\r\n\t\t\tpoint1.x - point0.x\r\n\t\t);\r\n\t\t/*the right border in lines in scale are enabled*/\r\n\t\tif (!axis.lines.call(this,{})){\r\n\t\t\tthis._drawLine(ctx,x0,point0.y-0.5,x1,point0.y-0.5,this._settings.xAxis.color,0.2);\r\n\t\t}\r\n\t\treturn yAxisStart;\r\n\t},\r\n\t_correctBarHParams:function(ctx,x,y,value,unit,barWidth,minValue){\r\n\t\tvar yax = this._settings.yAxis;\r\n\t\tvar axisStart = x;\r\n\t\tif(!!yax&&this._settings.origin!=\"auto\" && (this._settings.origin>minValue)){\r\n\t\t\tx += (this._settings.origin-minValue)*unit;\r\n\t\t\taxisStart = x;\r\n\t\t\tvalue = value-(this._settings.origin-minValue);\r\n\t\t\tif(value < 0){\r\n\t\t\t\tvalue *= (-1);\r\n\t\t\t\tctx.translate(x,y+barWidth);\r\n\t\t\t\tctx.rotate(Math.PI);\r\n\t\t\t\tx = 0.5;\r\n\t\t\t\ty = 0;\r\n\t\t\t}\r\n\t\t\tx += 0.5;\r\n\t\t}\r\n\r\n\t\treturn {value:value,x0:x,y0:y,start:axisStart};\r\n\t},\r\n\t_drawBarH:function(ctx,point1,x0,y0,barWidth,minValue,radius,unit,value,color,gradient,inner_gradient){\r\n\t\tctx.save();\r\n\t\tvar p = this._correctBarHParams(ctx,x0,y0,value,unit,barWidth,minValue);\r\n\t\tctx.fillStyle = color;\r\n\t\tctx.beginPath();\r\n\t\tvar points = this._setBarHPoints(ctx,p.x0,p.y0,barWidth,radius,unit,p.value,(this._settings.border?1:0));\r\n\t\tif (gradient&&!inner_gradient) ctx.lineTo(point1.x,p.y0+(this._settings.border?1:0)); //fix gradient sphreading\r\n\t\tctx.fill();\r\n\t\tctx.restore();\r\n\t\tvar y1 = p.y0;\r\n\t\tvar y2 = (p.y0!=y0?y0:points[1]);\r\n\t\tvar x1 = (p.y0!=y0?(p.start-points[0]):p.start);\r\n\t\tvar x2 = (p.y0!=y0?p.start:points[0]);\r\n\r\n\t\treturn [x1,y1,x2,y2];\r\n\t},\r\n\t_drawBarHBorder:function(ctx,x0,y0,barWidth,minValue,radius,unit,value,color){\r\n\t\tctx.save();\r\n\t\tvar p = this._correctBarHParams(ctx,x0,y0,value,unit,barWidth,minValue);\r\n\r\n\t\tctx.beginPath();\r\n\t\tthis._setBorderStyles(ctx,color);\r\n\t\tctx.globalAlpha =0.9;\r\n\t\tthis._setBarHPoints(ctx,p.x0,p.y0,barWidth,radius,unit,p.value,ctx.lineWidth/2,1);\r\n\r\n\t\tctx.stroke();\r\n\t\tctx.restore();\r\n\t},\r\n\t_drawBarHGradient:function(ctx,x0,y0,barWidth,minValue,radius,unit,value,color,inner_gradient){\r\n\t\tctx.save();\r\n\t\t//y0 -= (webix.env.isIE?0:0.5);\r\n\t\tvar p = this._correctBarHParams(ctx,x0,y0,value,unit,barWidth,minValue);\r\n\t\tvar gradParam = this._setBarGradient(ctx,p.x0,p.y0+barWidth,p.x0+unit*p.value,p.y0,inner_gradient,color,\"x\");\r\n\t\tctx.fillStyle = gradParam.gradient;\r\n\t\tctx.beginPath();\r\n\t\tthis._setBarHPoints(ctx,p.x0,p.y0+gradParam.offset,barWidth-gradParam.offset*2,radius,unit,p.value,gradParam.offset);\r\n\t\tctx.fill();\r\n\t\tctx.globalAlpha = 1;\r\n\t\tctx.restore();\r\n\t}\r\n});\r\n\t\t\r\nwebix.extend(webix.ui.chart, {\r\n\t/**\r\n\t*   renders a bar chart\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: data - object those need to be displayed\r\n\t*   @param: x - the width of the container\r\n\t*   @param: y - the height of the container\r\n\t*   @param: sIndex - index of drawing chart\r\n\t*/\r\n\t$render_stackedBar:function(ctx, data, point0, point1, sIndex, map){\r\n\t\tvar maxValue,minValue, xAxisY, x0, y0;\r\n\t\t/*necessary if maxValue - minValue < 0*/\r\n\t\tvar valueFactor;\r\n\t\t/*maxValue - minValue*/\r\n\t\tvar relValue;\r\n\t\tvar config = this._settings;\r\n\t\tvar total_height = point1.y-point0.y;\r\n\r\n\t\tvar yax = !!config.yAxis;\r\n\t\tvar xax = !!config.xAxis;\r\n\r\n\t\tvar limits = this._getStackedLimits(data);\r\n\r\n\t\tvar origin = (config.origin === 0);\r\n\r\n\t\tmaxValue = limits.max;\r\n\t\tminValue = limits.min;\r\n\r\n\t\t/*an available width for one bar*/\r\n\t\tvar cellWidth = Math.floor((point1.x-point0.x)/data.length);\r\n\r\n\t\t/*draws x and y scales*/\r\n\t\tif(!sIndex){\r\n\t\t\txAxisY = this._drawScales(data,point0, point1,minValue,maxValue,cellWidth);\r\n\t\t}\r\n\r\n\t\t/*necessary for automatic scale*/\r\n\t\tif(yax){\r\n\t\t\tmaxValue = parseFloat(config.yAxis.end);\r\n\t\t\tminValue = parseFloat(config.yAxis.start);\r\n\t\t}\r\n\r\n\t\t/*unit calculation (bar_height = value*unit)*/\r\n\t\tvar relativeValues = this._getRelativeValue(minValue,maxValue);\r\n\t\trelValue = relativeValues[0];\r\n\t\tvalueFactor = relativeValues[1];\r\n\r\n\t\tvar unit = (relValue?total_height/relValue:10);\r\n\r\n\t\t/*a real bar width */\r\n\t\tvar barWidth = parseInt(config.barWidth,10);\r\n\t\tif(barWidth+4 > cellWidth) barWidth = cellWidth-4;\r\n\t\t/*the half of distance between bars*/\r\n\t\tvar barOffset = Math.floor((cellWidth - barWidth)/2);\r\n\r\n\r\n\t\tvar inner_gradient = (config.gradient?config.gradient:false);\r\n\r\n\t\t/*draws a black line if the horizontal scale isn't defined*/\r\n\t\tif(!xax){\r\n\t\t\t//scaleY = y-bottomPadding;\r\n\t\t\tthis._drawLine(ctx,point0.x,point1.y+0.5,point1.x,point1.y+0.5,\"#000000\",1); //hardcoded color!\r\n\t\t}\r\n\r\n\t\tfor(var i=0; i < data.length;i ++){\r\n\t\t\tvar value =  parseFloat(config.value(data[i]||0));\r\n\r\n\t\t\tif(this._logScaleCalc)\r\n\t\t\t\tvalue = this._log10(value);\r\n\r\n\t\t\t/*start point (bottom left)*/\r\n\t\t\tx0 = point0.x + barOffset + i*cellWidth;\r\n\r\n\r\n\t\t\tvar negValue = origin&&value<0;\r\n\t\t\tif(!sIndex){\r\n\t\t\t\ty0 = xAxisY-1;\r\n\t\t\t\tdata[i].$startY = y0;\r\n\t\t\t\tif(origin){\r\n\t\t\t\t\tif(negValue)\r\n\t\t\t\t\t\ty0 = xAxisY+1;\r\n\t\t\t\t\tdata[i].$startYN = xAxisY+1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\ty0 = negValue?data[i].$startYN:data[i].$startY;\r\n\t\t\t}\r\n\r\n\t\t\tif(!value)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t/*adjusts the first tab to the scale*/\r\n\t\t\tif(!sIndex && !origin)\r\n\t\t\t\tvalue -= minValue;\r\n\r\n\t\t\tvalue *= valueFactor;\r\n\r\n\t\t\t/*the max height limit*/\r\n\t\t\tif(y0 < (point0.y+1)) continue;\r\n\r\n\t\t\tif(config.yAxis&&value===0){\r\n\t\t\t\tthis.canvases[\"y\"].renderTextAt(true, true, x0+Math.floor(barWidth/2),y0,this._settings.label(data[i]));\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tvar color = this._settings.color.call(this,data[i]);\r\n\r\n\t\t\tvar firstSector =  Math.abs(y0-(origin?(point1.y+minValue*unit):point1.y))<3;\r\n\r\n\t\t\t/*drawing bar body*/\r\n\t\t\tctx.globalAlpha = config.alpha.call(this,data[i]);\r\n\t\t\tctx.fillStyle = ctx.strokeStyle = config.color.call(this,data[i]);\r\n\t\t\tctx.beginPath();\r\n\r\n\t\t\tvar y1 = y0 - unit*value + (firstSector?(negValue?-1:1):0);\r\n\r\n\t\t\tvar points = this._setStakedBarPoints(ctx,x0-(config.border?0.5:0),y0,barWidth+(config.border?0.5:0),y1, 0,point0.y);\r\n\t\t\tctx.fill();\r\n\t\t\tctx.stroke();\r\n\r\n\t\t\t/*gradient*/\r\n\t\t\tif (inner_gradient){\r\n\t\t\t\tctx.save();\r\n\t\t\t\tvar gradParam = this._setBarGradient(ctx,x0,y0,x0+barWidth,points[1],inner_gradient,color,\"y\");\r\n\t\t\t\tctx.fillStyle = gradParam.gradient;\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tpoints = this._setStakedBarPoints(ctx,x0+gradParam.offset,y0,barWidth-gradParam.offset*2,y1,(config.border?1:0),point0.y);\r\n\t\t\t\tctx.fill();\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t\t/*drawing the gradient border of a bar*/\r\n\t\t\tif(config.border){\r\n\t\t\t\tctx.save();\r\n\t\t\t\tif(typeof config.border == \"string\")\r\n\t\t\t\t\tctx.strokeStyle = config.border;\r\n\t\t\t\telse\r\n\t\t\t\t\tthis._setBorderStyles(ctx,color);\r\n\t\t\t\tctx.beginPath();\r\n\r\n\t\t\t\tthis._setStakedBarPoints(ctx,x0-0.5,parseInt(y0,10)+0.5,barWidth+1,parseInt(y1,10)+0.5,0,point0.y, firstSector);\r\n\t\t\t\tctx.stroke();\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t\tctx.globalAlpha = 1;\r\n\r\n\t\t\t/*sets a bar label*/\r\n\t\t\tthis.canvases[sIndex].renderTextAt(false, true, x0+Math.floor(barWidth/2),(points[1]+(y0-points[1])/2)-7,this._settings.label(data[i]));\r\n\t\t\t/*defines a map area for a bar*/\r\n\t\t\tmap.addRect(data[i].id,[x0-point0.x,points[1]-point0.y,points[0]-point0.x,data[i][negValue?\"$startYN\":\"$startY\"]-point0.y],sIndex);\r\n\r\n\t\t\t/*the start position for the next series*/\r\n\r\n\t\t\tdata[i][negValue?\"$startYN\":\"$startY\"] = points[1];\r\n\r\n\t\t}\r\n\t},\r\n\t/**\r\n\t *   sets points for bar and returns the position of the bottom right point\r\n\t *   @param: ctx - canvas object\r\n\t *   @param: x0 - the x position of start point\r\n\t *   @param: y0 - the y position of start point\r\n\t *   @param: barWidth - bar width\r\n\t *   @param: radius - the rounding radius of the top\r\n\t *   @param: unit - the value defines the correspondence between item value and bar height\r\n\t *   @param: value - item value\r\n\t *   @param: offset - the offset from expected bar edge (necessary for drawing border)\r\n\t *   @param: minY - the minimum y position for the bars ()\r\n\t */\r\n\t_setStakedBarPoints:function(ctx,x0,y0,barWidth,y1,offset,minY,skipBottom){\r\n\t\t/*start*/\r\n\t\tctx.moveTo(x0,y0);\r\n\t\t/*maximum height limit*/\r\n\r\n\t\tif(y1<minY)\r\n\t\t\ty1 = minY;\r\n\t\tctx.lineTo(x0,y1);\r\n\t\tvar x3 = x0 + barWidth;\r\n\t\tvar y3 = y1;\r\n\t\tctx.lineTo(x3,y3);\r\n\t\t/*right rounding*/\r\n\t\t/*bottom right point*/\r\n\t\tvar x5 = x0 + barWidth;\r\n\t\tctx.lineTo(x5,y0);\r\n\t\t/*line to the start point*/\r\n\t\tif(!skipBottom){\r\n\t\t\tctx.lineTo(x0,y0);\r\n\t\t}\r\n\t\t//\tctx.lineTo(x0,0); //IE fix!\r\n\t\treturn [x5,y3];\r\n\t}\r\n});\t\r\n\r\nwebix.extend(webix.ui.chart, {\r\n/**\r\n\t*   renders a bar chart\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: data - object those need to be displayed\r\n\t*   @param: x - the width of the container\r\n\t*   @param: y - the height of the container\r\n\t*   @param: sIndex - index of drawing chart\r\n\t*   @param: map - map object\r\n\t*/\r\n\t$render_stackedBarH:function(ctx, data, point0, point1, sIndex, map){\r\n\t\tvar maxValue,minValue;\r\n\t\t/*necessary if maxValue - minValue < 0*/\r\n\t\tvar valueFactor;\r\n\t\t/*maxValue - minValue*/\r\n\t\tvar relValue;\r\n\r\n\t\tvar total_width = point1.x-point0.x;\r\n\r\n\t\tvar yax = !!this._settings.yAxis;\r\n\r\n\t\tvar limits = this._getStackedLimits(data);\r\n\t\tmaxValue = limits.max;\r\n\t\tminValue = limits.min;\r\n\r\n\t\t/*an available width for one bar*/\r\n\t\tvar cellWidth = Math.floor((point1.y-point0.y)/data.length);\r\n\r\n\t\t/*draws x and y scales*/\r\n\t\tif(!sIndex)\r\n\t\t\tthis._drawHScales(ctx,data,point0, point1,minValue,maxValue,cellWidth);\r\n\r\n\t\t/*necessary for automatic scale*/\r\n\t\tif(yax){\r\n\t\t\tmaxValue = parseFloat(this._settings.xAxis.end);\r\n\t\t\tminValue = parseFloat(this._settings.xAxis.start);\r\n\t\t}\r\n\r\n\t\t/*unit calculation (bar_height = value*unit)*/\r\n\t\tvar relativeValues = this._getRelativeValue(minValue,maxValue);\r\n\t\trelValue = relativeValues[0];\r\n\t\tvalueFactor = relativeValues[1];\r\n\r\n\t\tvar unit = (relValue?total_width/relValue:10);\r\n\t\tvar startValue = 0;\r\n\t\tif(!yax){\r\n\t\t\t/*defines start value for better representation of small values*/\r\n\t\t\tstartValue = 10;\r\n\t\t\tunit = (relValue?(total_width-startValue)/relValue:10);\r\n\t\t}\r\n\r\n\t\t/*a real bar width */\r\n\t\tvar barWidth = parseInt(this._settings.barWidth,10);\r\n\t\tif((barWidth+4)>cellWidth) barWidth = cellWidth-4;\r\n\t\t/*the half of distance between bars*/\r\n\t\tvar barOffset = (cellWidth - barWidth)/2;\r\n\t\t/*the radius of rounding in the top part of each bar*/\r\n\t\tvar radius = 0;\r\n\r\n\t\tvar inner_gradient = false;\r\n\t\tvar gradient = this._settings.gradient;\r\n\t\tif (gradient){\r\n\t\t\tinner_gradient = true;\r\n\t\t}\r\n\t\t/*draws a black line if the horizontal scale isn't defined*/\r\n\t\tif(!yax){\r\n\t\t\tthis._drawLine(ctx,point0.x-0.5,point0.y,point0.x-0.5,point1.y,\"#000000\",1); //hardcoded color!\r\n\t\t}\r\n\r\n\t\tvar seriesNumber = 0;\r\n\t\tvar seriesIndex = 0;\r\n\t\tfor(i=0; i<this._series.length; i++ ){\r\n\t\t\tif(i == sIndex){\r\n\t\t\t\tseriesIndex  = seriesNumber;\r\n\t\t\t}\r\n\t\t\tif(this._series[i].type == \"stackedBarH\")\r\n\t\t\t\tseriesNumber++;\r\n\t\t}\r\n\r\n\t\tfor(var i=0; i < data.length;i ++){\r\n\r\n\t\t\tif(!seriesIndex)\r\n\t\t\t\tdata[i].$startX = point0.x;\r\n\r\n\t\t\tvar value =  parseFloat(this._settings.value(data[i]||0));\r\n\t\t\tif(value>maxValue) value = maxValue;\r\n\t\t\tvalue -= minValue;\r\n\t\t\tvalue *= valueFactor;\r\n\r\n\t\t\t/*start point (bottom left)*/\r\n\t\t\tvar x0 = point0.x;\r\n\t\t\tvar y0 = point0.y+ barOffset + i*cellWidth;\r\n\r\n\t\t\tif(!seriesIndex)\r\n\t\t\t\tdata[i].$startX = x0;\r\n\t\t\telse\r\n\t\t\t\tx0 = data[i].$startX;\r\n\r\n\t\t\tif(value<0||(this._settings.yAxis&&value===0)){\r\n\t\t\t\tthis.canvases[\"y\"].renderTextAt(\"middle\", true, x0+10,y0+barWidth/2,this._settings.label(data[i]));\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t/*takes start value into consideration*/\r\n\t\t\tif(!yax) value += startValue/unit;\r\n\t\t\tvar color = this._settings.color.call(this,data[i]);\r\n\r\n\r\n\t\t\t/*drawing bar body*/\r\n\t\t\tctx.globalAlpha = this._settings.alpha.call(this,data[i]);\r\n\t\t\tctx.fillStyle = this._settings.color.call(this,data[i]);\r\n\t\t\tctx.beginPath();\r\n\t\t\tvar points = this._setBarHPoints(ctx,x0,y0,barWidth,radius,unit,value,0);\r\n\t\t\tif (gradient&&!inner_gradient) ctx.lineTo(point0.x+total_width,y0+(this._settings.border?1:0)); //fix gradient sphreading\r\n\t\t\tctx.fill();\r\n\r\n\t\t\tif (inner_gradient){\r\n\t\t\t\tvar gradParam = this._setBarGradient(ctx,x0,y0+barWidth,x0,y0,inner_gradient,color,\"x\");\r\n\t\t\t\tctx.fillStyle = gradParam.gradient;\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tpoints = this._setBarHPoints(ctx,x0,y0, barWidth,radius,unit,value,0);\r\n\t\t\t\tctx.fill();\r\n\t\t\t}\r\n\t\t\t/*drawing the gradient border of a bar*/\r\n\t\t\tif(this._settings.border){\r\n\t\t\t\tthis._drawBarHBorder(ctx,x0,y0,barWidth,minValue,radius,unit,value,color);\r\n\t\t\t}\r\n\r\n\t\t\tctx.globalAlpha = 1;\r\n\r\n\t\t\t/*sets a bar label*/\r\n\t\t\tthis.canvases[sIndex].renderTextAt(\"middle\",true,data[i].$startX+(points[0]-data[i].$startX)/2-1, y0+(points[1]-y0)/2, this._settings.label(data[i]));\r\n\t\t\t/*defines a map area for a bar*/\r\n\t\t\tmap.addRect(data[i].id,[data[i].$startX-point0.x,y0-point0.y,points[0]-point0.x,points[1]-point0.y],sIndex);\r\n\t\t\t/*the start position for the next series*/\r\n\t\t\tdata[i].$startX = points[0];\r\n\t\t}\r\n\t}\r\n});\r\nwebix.extend(webix.ui.chart, {\r\n\t/**\r\n\t*   renders a spline chart\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: data - object those need to be displayed\r\n\t*   @param: width - the width of the container\r\n\t*   @param: height - the height of the container\r\n\t*   @param: sIndex - index of drawing chart\r\n\t*/\r\n\t$render_spline:function(ctx, data, point0, point1, sIndex, map){\r\n\t\tvar config,i,items,j,params,sparam,x,x0,x1,x2,y,y1,y2;\r\n\t\tparams = this._calculateLineParams(ctx,data,point0,point1,sIndex);\r\n\t\tconfig = this._settings;\r\n\t\tthis._mapStart = point0;\r\n\r\n\t\t/*array of all points*/\r\n\t\titems = [];\r\n\r\n\t\t/*drawing all items*/\r\n\t\tif (data.length) {\r\n\r\n\t\t\t/*getting all points*/\r\n\t\t\tx0 = (config.offset?point0.x+params.cellWidth*0.5:point0.x);\r\n\t\t\tfor(i=0; i < data.length;i ++){\r\n\t\t\t\ty = this._getPointY(data[i],point0,point1,params);\r\n\t\t\t\tif(y){\r\n\t\t\t\t\tx = ((!i)?x0:params.cellWidth*i - 0.5 + x0);\r\n\t\t\t\t\titems.push({x:x,y:y,index:i});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tsparam = this._getSplineParameters(items);\r\n\r\n\t\t\tfor(i =0; i< items.length; i++){\r\n\t\t\t\tx1 = items[i].x;\r\n\t\t\t\ty1 = items[i].y;\r\n\t\t\t\tif(i<items.length-1){\r\n\t\t\t\t\tx2 = items[i+1].x;\r\n\t\t\t\t\ty2 = items[i+1].y;\r\n\t\t\t\t\tfor(j = x1; j < x2; j++){\r\n\t\t\t\t\t\tvar sY1 = this._getSplineYPoint(j,x1,i,sparam.a,sparam.b,sparam.c,sparam.d);\r\n\t\t\t\t\t\tif(sY1<point0.y)\r\n\t\t\t\t\t\t\tsY1=point0.y;\r\n\t\t\t\t\t\tif(sY1>point1.y)\r\n\t\t\t\t\t\t\tsY1=point1.y;\r\n\t\t\t\t\t\tvar sY2 = this._getSplineYPoint(j+1,x1,i,sparam.a,sparam.b,sparam.c,sparam.d);\r\n\t\t\t\t\t\tif(sY2<point0.y)\r\n\t\t\t\t\t\t\tsY2=point0.y;\r\n\t\t\t\t\t\tif(sY2>point1.y)\r\n\t\t\t\t\t\t\tsY2=point1.y;\r\n\t\t\t\t\t\tthis._drawLine(ctx,j,sY1,j+1,sY2,config.line.color(data[i]),config.line.width);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._drawLine(ctx,x2-1,this._getSplineYPoint(j,x1,i,sparam.a,sparam.b,sparam.c,sparam.d),x2,y2,config.line.color(data[i]),config.line.width);\r\n\t\t\t\t}\r\n\t\t\t\tthis._drawItem(ctx,x1,y1,data[items[i].index],config.label(data[items[i].index]), sIndex, map);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t/*gets spline parameter*/\r\n\t_getSplineParameters:function(points){\r\n\t\tvar a ,b, c, d, i, s, u, v,\r\n\t\t\th = [],\r\n\t\t\tm = [],\r\n\t\t\tn = points.length;\r\n\r\n\t\tfor(i =0; i<n-1;i++){\r\n\t\t\th[i] = points[i+1].x - points[i].x;\r\n\t\t\tm[i] = (points[i+1].y - points[i].y)/h[i];\r\n\t\t}\r\n\t\tu = [];\tv = [];\r\n\t\tu[0] = 0;\r\n\t\tu[1] = 2*(h[0] + h[1]);\r\n\t\tv[0] = 0;\r\n\t\tv[1] = 6*(m[1] - m[0]);\r\n\t\tfor(i =2; i < n-1; i++){\r\n\t\t\tu[i] = 2*(h[i-1]+h[i]) - h[i-1]*h[i-1]/u[i-1];\r\n\t\t\tv[i] = 6*(m[i]-m[i-1]) - h[i-1]*v[i-1]/u[i-1];\r\n\t\t}\r\n\r\n\t\ts = [];\r\n\t\ts[n-1] = s[0] = 0;\r\n\t\tfor(i = n -2; i>=1; i--)\r\n\t\t\ts[i] = (v[i] - h[i]*s[i+1])/u[i];\r\n\r\n\t\ta = []; b = []; c = [];\td = [];\r\n\r\n\t\tfor(i =0; i<n-1;i++){\r\n\t\t\ta[i] = points[i].y;\r\n\t\t\tb[i] = - h[i]*s[i+1]/6 - h[i]*s[i]/3 + (points[i+1].y-points[i].y)/h[i];\r\n\t\t\tc[i] = s[i]/2;\r\n\t\t\td[i] = (s[i+1] - s[i])/(6*h[i]);\r\n\t\t}\r\n\t\treturn {a:a,b:b,c:c,d:d};\r\n\t},\r\n\t/*returns the y position of the spline point */\r\n\t_getSplineYPoint:function(x,xi,i,a,b,c,d){\r\n\t\treturn a[i] + (x - xi)*(b[i] + (x-xi)*(c[i]+(x-xi)*d[i]));\r\n\t}\r\n});\t\r\nwebix.extend(webix.ui.chart,{\r\n\t/**\r\n\t*   renders an area chart\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: data - object those need to be displayed\r\n\t*   @param: width - the width of the container\r\n\t*   @param: height - the height of the container\r\n\t*   @param: sIndex - index of drawing chart\r\n\t*/\r\n\t$render_area:function(ctx, data, point0, point1, sIndex, map){\r\n\r\n\t\tvar align, config, i, mapRect, obj, params, path,\r\n\t\t\tres1, res2, x0, x1, y1, x2, y2, y0;\r\n\r\n\t\tparams = this._calculateLineParams(ctx,data,point0,point1,sIndex);\r\n\t\tconfig = this._settings;\r\n\r\n\t\t//the size of map area\r\n\t\tmapRect = (config.eventRadius||Math.floor(params.cellWidth/2));\r\n\r\n\t\tif (data.length) {\r\n\r\n\t\t\t// area points\r\n\t\t\tpath = [];\r\n\r\n\t\t\t//the x position of the first item\r\n\t\t\tx0 = (!config.offset?point0.x:point0.x+params.cellWidth*0.5);\r\n\r\n\t\t\t/*\r\n\t\t\t iterates over all data items:\r\n\t\t\t calculates [x,y] for area path, adds rect to chart map and renders labels\r\n\t\t\t */\r\n\t\t\tfor(i=0; i < data.length;i ++){\r\n\t\t\t\tobj = data[i];\r\n\r\n\t\t\t\tres2 = this._getPointY(obj,point0,point1,params);\r\n\t\t\t\tx2 = x0 + params.cellWidth*i ;\r\n\t\t\t\tif(res2){\r\n\t\t\t\t\ty2 = (typeof res2 == \"object\"?res2.y0:res2);\r\n\t\t\t\t\tif(i && this._settings.fixOverflow){\r\n\t\t\t\t\t\tres1 = this._getPointY(data[i-1],point0,point1,params);\r\n\t\t\t\t\t\tif(res1.out && res1.out == res2.out){\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tx1 = params.cellWidth*(i-1) - 0.5 + x0;\r\n\t\t\t\t\t\ty1 = (typeof res1 == \"object\"?res1.y0:res1);\r\n\t\t\t\t\t\tif(res1.out){\r\n\t\t\t\t\t\t\ty0 = (res1.out == \"min\"?point1.y:point0.y);\r\n\t\t\t\t\t\t\tpath.push([this._calcOverflowX(x1,x2,y1,y2,y0),y0]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(res2.out){\r\n\t\t\t\t\t\t\ty0 = (res2.out == \"min\"?point1.y:point0.y);\r\n\t\t\t\t\t\t\tpath.push([this._calcOverflowX(x1,x2,y1,y2,y0),y0]);\r\n\t\t\t\t\t\t\tif(i == (data.length-1) && y0 == point0.y)\r\n\t\t\t\t\t\t\t\tpath.push([x2,point0.y]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!res2.out){\r\n\t\t\t\t\t\tpath.push([x2,y2]);\r\n\t\t\t\t\t\t//map\r\n\t\t\t\t\t\tmap.addRect(obj.id,[x2-mapRect-point0.x,y2-mapRect-point0.y,x2+mapRect-point0.x,y2+mapRect-point0.y],sIndex);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//labels\r\n\t\t\t\t\tif(!config.yAxis){\r\n\t\t\t\t\t\talign = (!config.offset&&(i == data.length-1)?\"left\":\"center\");\r\n\t\t\t\t\t\tthis.canvases[sIndex].renderTextAt(false, align, x2, y2-config.labelOffset,config.label(obj));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tif(path.length){\r\n\t\t\t\tpath.push([x2,point1.y]);\r\n\t\t\t\tpath.push([path[0][0],point1.y]);\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\t//filling area\r\n\t\t\tctx.globalAlpha = this._settings.alpha.call(this,data[0]);\r\n\t\t\tctx.fillStyle = this._settings.color.call(this,data[0]);\r\n\t\t\tctx.beginPath();\r\n\t\t\tthis._path(ctx,path);\r\n\t\t\tctx.fill();\r\n\r\n\t\t\t//border\r\n\t\t\tif(config.border){\r\n\t\t\t\tctx.lineWidth = config.borderWidth||1;\r\n\t\t\t\tif(config.borderColor)\r\n\t\t\t\t\tctx.strokeStyle =  config.borderColor.call(this,data[0]);\r\n\t\t\t\telse\r\n\t\t\t\t\tthis._setBorderStyles(ctx,ctx.fillStyle);\r\n\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tthis._path(ctx,path);\r\n\t\t\t\tctx.stroke();\r\n\r\n\t\t\t}\r\n\t\t\tctx.lineWidth = 1;\r\n\t\t\tctx.globalAlpha =1;\r\n\r\n\t\t}\r\n\t},\r\n\t\r\n\t/**\r\n\t*   renders an area chart\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: data - object those need to be displayed\r\n\t*   @param: width - the width of the container\r\n\t*   @param: height - the height of the container\r\n\t*   @param: sIndex - index of drawing chart\r\n\t*/\r\n\t$render_stackedArea:function(ctx, data, point0, point1, sIndex, map){\r\n\r\n\t\tvar a0, a1, align, config, i, j, lastItem, mapRect, obj, params, path, x, y, yPos;\r\n\r\n\t\tparams = this._calculateLineParams(ctx,data,point0,point1,sIndex);\r\n\r\n\t\tconfig = this._settings;\r\n\r\n\t\t/*the value that defines the map area position*/\r\n\t\tmapRect = (config.eventRadius||Math.floor(params.cellWidth/2));\r\n\r\n\r\n\t\t/*drawing all items*/\r\n\t\tif (data.length) {\r\n\r\n\t\t\t// area points\r\n\t\t\tpath = [];\r\n\r\n\t\t\t// y item positions\r\n\t\t\tyPos = [];\r\n\r\n\t\t\t//the x position of the first item\r\n\t\t\tx = (!config.offset?point0.x:point0.x+params.cellWidth*0.5);\r\n\r\n\r\n\t\t\tvar setOffset = function(i,y){\r\n\t\t\t\treturn sIndex?(data[i].$startY?y-point1.y+data[i].$startY:0):y;\r\n\t\t\t};\r\n\r\n\t\t\tvar solveEquation  = function(x,p0,p1){\r\n\t\t\t\tvar k = (p1.y - p0.y)/(p1.x - p0.x);\r\n\t\t\t\treturn  k*x + p0.y - k*p0.x;\r\n\t\t\t};\r\n\r\n\t\t\t/*\r\n\t\t\t iterates over all data items:\r\n\t\t\t calculates [x,y] for area path, adds rect to chart map and renders labels\r\n\t\t\t */\r\n\r\n\t\t\tfor(i=0; i < data.length;i ++){\r\n\t\t\t\tobj = data[i];\r\n\r\n\t\t\t\tif(!i){\r\n\t\t\t\t\ty =  setOffset(i,point1.y);\r\n\t\t\t\t\tpath.push([x,y]);\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tx += params.cellWidth ;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ty = setOffset(i,this._getPointY(obj,point0,point1,params));\r\n\r\n\t\t\t\tyPos.push((isNaN(y)&&!i)?(data[i].$startY||point1.y):y);\r\n\r\n\t\t\t\tif(y){\r\n\t\t\t\t\tpath.push([x,y]);\r\n\r\n\t\t\t\t\t//map\r\n\t\t\t\t\tmap.addRect(obj.id,[x-mapRect-point0.x,y-mapRect-point0.y,x+mapRect-point0.x,y+mapRect-point0.y],sIndex);\r\n\r\n\t\t\t\t\t//labels\r\n\t\t\t\t\tif(!config.yAxis){\r\n\t\t\t\t\t\talign = (!config.offset&&lastItem?\"left\":\"center\");\r\n\t\t\t\t\t\tthis.canvases[sIndex].renderTextAt(false, align, x, y-config.labelOffset,config.label(obj));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// bottom right point\r\n\t\t\tpath.push([x,setOffset(i-1,point1.y)]);\r\n\r\n\t\t\t// lower border from the end to start\r\n\t\t\tif(sIndex){\r\n\t\t\t\tfor(i=data.length-2; i > 0; i --){\r\n\t\t\t\t\tx -= params.cellWidth ;\r\n\t\t\t\t\ty =  data[i].$startY;\r\n\t\t\t\t\tif(y)\r\n\t\t\t\t\t\tpath.push([x,y]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// go to start point\r\n\t\t\tpath.push([path[0][0],path[0][1]]);\r\n\r\n\t\t\t// filling path\r\n\t\t\tctx.globalAlpha = this._settings.alpha.call(this,data[0]);\r\n\t\t\tctx.fillStyle = this._settings.color.call(this,data[0]);\r\n\t\t\tctx.beginPath();\r\n\t\t\tthis._path(ctx,path);\r\n\t\t\tctx.fill();\r\n\r\n\t\t\t// set y positions of the next series\r\n\t\t\tfor(i=0; i < data.length;i ++){\r\n\t\t\t\ty =  yPos[i];\r\n\r\n\t\t\t\tif(!y){\r\n\t\t\t\t\tif(i == data.length-1){\r\n\t\t\t\t\t\ty = data[i].$startY;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(j =i+1; j< data.length; j++){\r\n\t\t\t\t\t\tif(yPos[j]){\r\n\t\t\t\t\t\t\ta0 =  {x:point0.x,y:yPos[0]};\r\n\t\t\t\t\t\t\ta1 =  {x:(point0.x+params.cellWidth*j),y:yPos[j]};\r\n\t\t\t\t\t\t\ty = solveEquation(point0.x+params.cellWidth*i,a0,a1);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdata[i].$startY = y;\r\n\t\t\t}\r\n\r\n\r\n\t\t}\r\n\t}\r\n});\r\n\t \t//+stackedArea\r\nwebix.extend(webix.ui.chart, {\r\n\t$render_radar:function(ctx,data,x,y,sIndex,map){\r\n\t\tthis._renderRadarChart(ctx,data,x,y,sIndex,map);\r\n\t\t\r\n\t}, \r\n\t/**\r\n\t*   renders a pie chart\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: data - object those need to be displayed\r\n\t*   @param: x - the width of the container\r\n\t*   @param: y - the height of the container\r\n\t*   @param: ky - value from 0 to 1 that defines an angle of inclination (0<ky<1 - 3D chart)\r\n\t*/\r\n\t_renderRadarChart:function(ctx,data,point0,point1,sIndex,map){\r\n\t\tif(!data.length)\r\n\t\t\treturn;\r\n\t\tvar coord = this._getPieParameters(point0,point1);\r\n\t\t/*scale radius*/\r\n\t\tvar radius = (this._settings.radius?this._settings.radius:coord.radius);\r\n\t\t/*scale center*/\r\n\t\tvar x0 = (this._settings.x?this._settings.x:coord.x);\r\n\t\tvar y0 = (this._settings.y?this._settings.y:coord.y);\r\n\t\t/*angles for each unit*/\r\n\t\tvar ratioUnits = [];\r\n\t\tfor(var i=0;i<data.length;i++)\r\n\t\t\tratioUnits.push(1);\r\n\t\tvar ratios = this._getRatios(ratioUnits,data.length);\r\n\t\tthis._mapStart = point0;\r\n\t\tif(!sIndex)\r\n\t\t\tthis._drawRadarAxises(ratios,x0,y0,radius,data);\r\n\t\tthis._drawRadarData(ctx,ratios,x0,y0,radius,data,sIndex,map);\r\n\t},\r\n\t_drawRadarData:function(ctx,ratios,x,y,radius,data,sIndex,map){\r\n\t\tvar alpha0 ,alpha1, config, i, min, max, pos0, pos1, posArr,\r\n\t\t\tr0, r1, relValue, startAlpha, value, value0, value1, valueFactor,\r\n\t\t\tunit, unitArr;\r\n\t\tconfig = this._settings;\r\n\t\t/*unit calculation (item_radius_pos = value*unit)*/\r\n\t\tmin = config.yAxis.start;\r\n\t\tmax = config.yAxis.end;\r\n\t\tunitArr = this._getRelativeValue(min,max);\r\n\t\trelValue = unitArr[0];\r\n\t\tunit = (relValue?radius/relValue:radius/2);\r\n\t\tvalueFactor = unitArr[1];\r\n\r\n\t\tstartAlpha = -Math.PI/2;\r\n\t\talpha0 =  alpha1 = startAlpha;\r\n\t\tposArr = [];\r\n\t\tpos1 = 0;\r\n\t\tfor(i=0;i<data.length;i++){\r\n\t\t\tif(!value1){\r\n\t\t\t\tvalue = config.value(data[i]);\r\n\t\t\t\tif(this._logScaleCalc)\r\n\t\t\t\t\tvalue = this._log10(value);\r\n\t\t\t\t/*a relative value*/\r\n\t\t\t\tvalue0 = (parseFloat(value||0) - min)*valueFactor;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tvalue0 = value1;\r\n\t\t\tr0 = Math.floor(unit*value0);\r\n\r\n\t\t\tvalue = config.value((i!=(data.length-1))?data[i+1]:data[0]);\r\n\t\t\tif(this._logScaleCalc)\r\n\t\t\t\tvalue = this._log10(value);\r\n\r\n\t\t\tvalue1 = (parseFloat(value||0) - min)*valueFactor;\r\n\t\t\tr1 = Math.floor(unit*value1);\r\n\t\t\talpha0 = alpha1;\r\n\t\t\talpha1 = ((i!=(data.length-1))?(startAlpha+ratios[i]-0.0001):startAlpha);\r\n\t\t\tpos0 = (pos1||this._getPositionByAngle(alpha0,x,y,r0));\r\n\t\t\tpos1 = this._getPositionByAngle(alpha1,x,y,r1);\r\n\t\t\t/*creates map area*/\r\n\t\t\t/*areaWidth  = (config.eventRadius||(parseInt(config.item.radius.call(this,data[i]),10)+config.item.borderWidth));\r\n\t\t\t map.addRect(data[i].id,[pos0.x-areaWidth,pos0.y-areaWidth,pos0.x+areaWidth,pos0.y+areaWidth],sIndex);*/\r\n\t\t\t//this._drawLine(ctx,pos0.x,pos0.y,pos1.x,pos1.y,config.line.color.call(this,data[i]),config.line.width)\r\n\t\t\tposArr.push(pos0);\r\n\t\t}\r\n\t\tif(config.fill)\r\n\t\t\tthis._fillRadarChart(ctx,posArr,data);\r\n\t\tif(!config.disableLines && data.length>2)\r\n\t\t\tthis._strokeRadarChart(ctx,posArr,data);\r\n\t\tif(!config.disableItems || data.length<3)\r\n\t\t\tthis._drawRadarItemMarkers(ctx,posArr,data,sIndex,map);\r\n\t\tposArr = null;\r\n\t},\r\n\t_drawRadarItemMarkers:function(ctx,points,data,sIndex,map){\r\n\t\tfor(var i=0;i < points.length;i++){\r\n\t\t\tthis._drawItem(ctx,points[i].x,points[i].y,data[i],this._settings.label.call(this,data),sIndex,map);\r\n\t\t}\r\n\t},\r\n\t_fillRadarChart:function(ctx,points,data){\r\n\t\tvar pos0,pos1;\r\n\t\tctx.globalAlpha= this._settings.alpha.call(this,{});\r\n\r\n\t\tctx.beginPath();\r\n\t\tfor(var i=0;i < points.length;i++){\r\n\t\t\tctx.fillStyle = this._settings.fill.call(this,data[i]);\r\n\t\t\tpos0 = points[i];\r\n\t\t\tpos1 = (points[i+1]|| points[0]);\r\n\t\t\tif(!i){\r\n\r\n\t\t\t\tctx.moveTo(pos0.x,pos0.y);\r\n\t\t\t}\r\n\t\t\tctx.lineTo(pos1.x,pos1.y);\r\n\t\t}\r\n\t\tctx.fill();\r\n\t\tctx.globalAlpha=1;\r\n\t},\r\n\t_strokeRadarChart:function(ctx,points,data){\r\n\t\tvar pos0,pos1;\r\n\t\tfor(var i=0;i < points.length;i++){\r\n\t\t\tpos0 = points[i];\r\n\t\t\tpos1 = (points[i+1]|| points[0]);\r\n\t\t\tthis._drawLine(ctx,pos0.x,pos0.y,pos1.x,pos1.y,this._settings.line.color.call(this,data[i]),this._settings.line.width);\r\n\t\t}\r\n\t},\r\n\t_drawRadarAxises:function(ratios,x,y,radius,data){\r\n\t\tvar configY = this._settings.yAxis;\r\n\t\tvar configX = this._settings.xAxis;\r\n\t\tvar start = configY.start;\r\n\t\tvar end = configY.end;\r\n\t\tvar step = configY.step;\r\n\t\tvar scaleParam= {};\r\n\t\tvar config = this._configYAxis;\r\n\t\tif(typeof config.step ==\"undefined\"||typeof config.start==\"undefined\"||typeof config.end ==\"undefined\"){\r\n\t\t\tvar limits = this._getLimits();\r\n\t\t\tscaleParam = this._calculateScale(limits.min,limits.max);\r\n\t\t\tstart = scaleParam.start;\r\n\t\t\tend = scaleParam.end;\r\n\t\t\tstep = scaleParam.step;\r\n\t\t\tconfigY.end = end;\r\n\t\t\tconfigY.start = start;\r\n\t\t}\r\n\t\tvar units = [];\r\n\t\tvar i,j,p;\r\n\t\tvar c=0;\r\n\t\tvar stepHeight = radius*step/(end-start);\r\n\t\t/*correction for small step*/\r\n\t\tvar power,corr;\r\n\t\tif(step<1){\r\n\t\t\tpower = Math.min(this._log10(step),(start<=0?0:this._log10(start)));\r\n\t\t\tcorr = Math.pow(10,-power);\r\n\t\t}\r\n\t\tvar angles = [];\r\n\t\tif(!this.canvases[\"scale\"])\r\n\t\t\tthis.canvases[\"scale\"] =  this._createCanvas(\"radar_scale\");\r\n\t\tvar ctx = this.canvases[\"scale\"].getCanvas();\r\n\t\tfor(i = end; i>=start; i -=step){\r\n\t\t\tvar value = this._logScaleCalc?Math.pow(10,i):i;\r\n\t\t\tif(scaleParam.fixNum)  value = parseFloat(i).toFixed(scaleParam.fixNum);\r\n\r\n\t\t\tunits.push(Math.floor(c*stepHeight)+ 0.5);\r\n\t\t\tif(corr && !this._logScaleCalc){\r\n\t\t\t\tvalue = Math.round(value*corr)/corr;\r\n\t\t\t\ti = value;\r\n\t\t\t}\r\n\t\t\tvar unitY = y-radius+units[units.length-1];\r\n\r\n\t\t\tthis.canvases[\"scale\"].renderTextAt(\"middle\",\"left\",x,unitY,\r\n\t\t\t\tconfigY.template(value.toString()),\r\n\t\t\t\t\"webix_axis_item_y webix_radar\"\r\n\t\t\t);\r\n\t\t\tif(ratios.length<2){\r\n\t\t\t\tthis._drawScaleSector(ctx,\"arc\",x,y,radius-units[units.length-1],-Math.PI/2,3*Math.PI/2,i);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar startAlpha = -Math.PI/2;/*possibly need  to moved in config*/\r\n\t\t\tvar alpha0 = startAlpha;\r\n\t\t\tvar alpha1;\r\n\r\n\t\t\tfor(j=0;j< ratios.length;j++){\r\n\t\t\t\tif(!c)\r\n\t\t\t\t\tangles.push(alpha0);\r\n\t\t\t\talpha1 = startAlpha+ratios[j]-0.0001;\r\n\t\t\t\tthis._drawScaleSector(ctx,(ratios.length>2?(config.lineShape||\"line\"):\"arc\"),x,y,radius-units[units.length-1],alpha0,alpha1,i,j,data[i]);\r\n\t\t\t\talpha0 = alpha1;\r\n\t\t\t}\r\n\t\t\tc++;\r\n\t\t}\r\n\t\t/*renders radius lines and labels*/\r\n\t\tfor(i=0;i< angles.length;i++){\r\n\t\t\tp = this._getPositionByAngle(angles[i],x,y,radius);\r\n\t\t\tif(configX.lines.call(this,data[i],i))\r\n\t\t\t\tthis._drawLine(ctx,x,y,p.x,p.y,(configX?configX.lineColor.call(this,data[i]):\"#cfcfcf\"),1);\r\n\t\t\tthis._drawRadarScaleLabel(ctx,x,y,radius,angles[i],(configX?configX.template.call(this,data[i]):\"&nbsp;\"));\r\n\t\t}\r\n\r\n\t},\r\n\t_drawScaleSector:function(ctx,shape,x,y,radius,a1,a2,i,j){\r\n\t\tvar pos1, pos2;\r\n\t\tif(radius<0)\r\n\t\t\treturn false;\r\n\t\tpos1 = this._getPositionByAngle(a1,x,y,radius);\r\n\t\tpos2 = this._getPositionByAngle(a2,x,y,radius);\r\n\t\tvar configY = this._settings.yAxis;\r\n\t\tif(configY.bg){\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.moveTo(x,y);\r\n\t\t\tif(shape==\"arc\")\r\n\t\t\t\tctx.arc(x,y,radius,a1,a2,false);\r\n\t\t\telse{\r\n\t\t\t\tctx.lineTo(pos1.x,pos1.y);\r\n\t\t\t\tctx.lineTo(pos2.x,pos2.y);\r\n\t\t\t}\r\n\t\t\tctx.fillStyle =  configY.bg(i,j);\r\n\t\t\tctx.moveTo(x,y);\r\n\t\t\tctx.fill();\r\n\t\t\tctx.closePath();\r\n\t\t}\r\n\t\tif(configY.lines.call(this,i)){\r\n\t\t\tctx.lineWidth = 1;\r\n\t\t\tctx.beginPath();\r\n\t\t\tif(shape==\"arc\")\r\n\t\t\t\tctx.arc(x,y,radius,a1,a2,false);\r\n\t\t\telse{\r\n\t\t\t\tctx.moveTo(pos1.x,pos1.y);\r\n\t\t\t\tctx.lineTo(pos2.x,pos2.y);\r\n\t\t\t}\r\n\t\t\tctx.strokeStyle = configY.lineColor.call(this,i);\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t},\r\n\t_drawRadarScaleLabel:function(ctx,x,y,r,a,text){\r\n\t\tif(!text)\r\n\t\t\treturn false;\r\n\t\tvar t = this.canvases[\"scale\"].renderText(0,0,text,\"webix_axis_radar_title\",1);\r\n\t\tvar width = t.scrollWidth;\r\n\t\tvar height = t.offsetHeight;\r\n\t\tvar delta = 0.001;\r\n\t\tvar pos =  this._getPositionByAngle(a,x,y,r+5);\r\n\t\tvar corr_x=0,corr_y=0;\r\n\t\tif(a<0||a>Math.PI){\r\n\t\t\tcorr_y = -height;\r\n\t\t}\r\n\t\tif(a>Math.PI/2){\r\n\t\t\tcorr_x = -width;\r\n\t\t}\r\n\t\tif(Math.abs(a+Math.PI/2)<delta||Math.abs(a-Math.PI/2)<delta){\r\n\t\t\tcorr_x = -width/2;\r\n\t\t}\r\n\t\telse if(Math.abs(a)<delta||Math.abs(a-Math.PI)<delta){\r\n\t\t\tcorr_y = -height/2;\r\n\t\t}\r\n\t\tt.style.top  = pos.y+corr_y+\"px\";\r\n\t\tt.style.left = pos.x+corr_x+\"px\";\r\n\t\tt.style.width = width+\"px\";\r\n\t\tt.style.whiteSpace = \"nowrap\";\r\n\t}\r\n});\r\nwebix.extend(webix.ui.chart, {\r\n\r\n\t/**\r\n\t*   renders a graphic\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: data - object those need to be displayed\r\n\t*   @param: point0  - top left point of a chart\r\n\t*   @param: point1  - right bottom point of a chart\r\n\t*   @param: sIndex - index of drawing chart\r\n    *   @param: map - map object\r\n\t*/\r\n\t$render_scatter:function(ctx, data, point0, point1, sIndex, map){\r\n\t\tif(!this._settings.xValue)\r\n\t\t\treturn webix.log(\"warning\",\"Undefined propery: xValue\");\r\n\t\t/*max in min values*/\r\n\t\tvar limitsY = this._getLimits();\r\n\t\tvar limitsX = this._getLimits(\"h\",\"xValue\");\r\n\t\t/*render scale*/\r\n\t\tif(!sIndex){\r\n\t\t\tif(!this.canvases[\"x\"])\r\n\t\t\t\tthis.canvases[\"x\"] = this._createCanvas(\"axis_x\");\r\n\t\t\tif(!this.canvases[\"y\"])\r\n\t\t\t\tthis.canvases[\"y\"] = this._createCanvas(\"axis_y\");\r\n\t\t\tthis._drawYAxis(this.canvases[\"y\"].getCanvas(),data,point0,point1,limitsY.min,limitsY.max);\r\n\t\t\tthis._drawHXAxis(this.canvases[\"x\"].getCanvas(),data,point0,point1,limitsX.min,limitsX.max);\r\n\t\t}\r\n\t\tlimitsY = {min:this._settings.yAxis.start,max:this._settings.yAxis.end};\r\n\t\tlimitsX = {min:this._settings.xAxis.start,max:this._settings.xAxis.end};\r\n\t\tvar params = this._getScatterParams(ctx,data,point0,point1,limitsX,limitsY);\r\n\t\tthis._mapStart = point0;\r\n\t\tfor(var i=0;i<data.length;i++){\r\n\t\t\tthis._drawScatterItem(ctx,map,point0, point1, params,limitsX,limitsY,data[i],sIndex);\r\n\t\t}\r\n\t},\r\n\t_getScatterParams:function(ctx, data, point0, point1,limitsX,limitsY){\r\n\t\tvar params = {};\r\n\t\t/*available space*/\r\n\t\tparams.totalHeight = point1.y-point0.y;\r\n\t\t/*available width*/\r\n\t\tparams.totalWidth = point1.x-point0.x;\r\n\t\t/*unit calculation (y_position = value*unit)*/\r\n\t\tthis._calcScatterUnit(params,limitsX.min,limitsX.max,params.totalWidth,\"X\");\r\n\t\tthis._calcScatterUnit(params,limitsY.min,limitsY.max,params.totalHeight,\"Y\");\r\n\t\treturn params;\r\n\t},\r\n\t_drawScatterItem:function(ctx,map,point0, point1,params,limitsX,limitsY,obj,sIndex){\r\n\t\tvar x0 = this._calculateScatterItemPosition(params, point1, point0, limitsX, obj, \"X\");\r\n\t\tvar y0 = this._calculateScatterItemPosition(params, point0, point1, limitsY, obj, \"Y\");\r\n\t\tthis. _drawItem(ctx,x0,y0,obj,this._settings.label.call(this,obj),sIndex,map);\r\n\t},\r\n\t_calculateScatterItemPosition:function(params, point0, point1, limits, obj, axis){\r\n\t\t/*the real value of an object*/\r\n\t\tvar value = this._settings[axis==\"X\"?\"xValue\":\"value\"].call(this,obj);\r\n\t\t/*a relative value*/\r\n\t\tvar valueFactor = params[\"valueFactor\"+axis];\r\n\t\tvar v = (parseFloat(value||0) - limits.min)*valueFactor;\r\n\t\t/*a vertical coordinate*/\r\n\t\tvar unit = params[\"unit\"+axis];\r\n\t\tvar pos = point1[axis.toLowerCase()] - (axis==\"X\"?(-1):1)*Math.floor(unit*v);\r\n\t\t/*the limit of the minimum value is  the minimum visible value*/\r\n\t\tif(v<0)\r\n\t\t\tpos = point1[axis.toLowerCase()];\r\n\t\t/*the limit of the maximum value*/\r\n\t\tif(value > limits.max)\r\n\t\t\tpos = point0[axis.toLowerCase()];\r\n\t\t/*the limit of the minimum value*/\r\n\t\tif(value < limits.min)\r\n\t\t\tpos = point1[axis.toLowerCase()];\r\n\t\treturn pos;\r\n\t},\r\n\t_calcScatterUnit:function(p,min,max,size,axis){\r\n\t\tvar relativeValues = this._getRelativeValue(min,max);\r\n\t\taxis = (axis||\"\");\r\n\t\tp[\"relValue\"+axis] = relativeValues[0];\r\n\t\tp[\"valueFactor\"+axis] = relativeValues[1];\r\n\t\tp[\"unit\"+axis] = (p[\"relValue\"+axis]?size/p[\"relValue\"+axis]:10);\r\n\t}\r\n});\r\n/*chart presents*/\r\nwebix.extend(webix.ui.chart, {\r\n    presets:{\r\n        \"simple\":{\r\n            item:{\r\n                borderColor: \"#ffffff\",\r\n                color: \"#2b7100\",\r\n                shadow: false,\r\n                borderWidth:2\r\n            },\r\n    \t\tline:{\r\n    \t\t\tcolor:\"#8ecf03\",\r\n                width:2\r\n    \t\t}\r\n        },\r\n        \"plot\":{\r\n            color:\"#1293f8\",\r\n            item:{\r\n                borderColor:\"#636363\",\r\n                borderWidth:1,\r\n                color: \"#ffffff\",\r\n                type:\"r\",\r\n                shadow: false\r\n            },\r\n    \t    line:{\r\n    \t\t\tcolor:\"#1293f8\",\r\n                width:2\r\n    \t    }\r\n        },\r\n        \"diamond\":{\r\n            color:\"#b64040\",\r\n            item:{\r\n    \t\t\tborderColor:\"#b64040\",\r\n    \t\t\tcolor: \"#b64040\",\r\n                type:\"d\",\r\n                radius:3,\r\n                shadow:true\r\n            },\r\n    \t\tline:{\r\n    \t\t\tcolor:\"#ff9000\",\r\n                width:2\r\n    \t\t}\r\n        },\r\n        \"point\":{\r\n            color:\"#fe5916\",\r\n    \t\tdisableLines:true,\r\n            fill:false,\r\n            disableItems:false,\r\n            item:{\r\n                color:\"#feb916\",\r\n                borderColor:\"#fe5916\",\r\n                radius:2,\r\n                borderWidth:1,\r\n                type:\"r\"\r\n    \t    },\r\n            alpha:1\r\n        },\r\n        \"line\":{\r\n            line:{\r\n                color:\"#3399ff\",\r\n                width:2\r\n            },\r\n            item:{\r\n                color:\"#ffffff\",\r\n                borderColor:\"#3399ff\",\r\n                radius:2,\r\n                borderWidth:2,\r\n                type:\"d\"\r\n            },\r\n            fill:false,\r\n            disableItems:false,\r\n            disableLines:false,\r\n            alpha:1\r\n        },\r\n        \"area\":{\r\n            fill:\"#3399ff\",\r\n            line:{\r\n                color:\"#3399ff\",\r\n                width:1\r\n            },\r\n            disableItems:true,\r\n            alpha: 0.2,\r\n            disableLines:false\r\n        },\r\n        \"round\":{\r\n            item:{\r\n                radius:3,\r\n                borderColor:\"#3f83ff\",\r\n                borderWidth:1,\r\n                color:\"#3f83ff\",\r\n                type:\"r\",\r\n                shadow:false,\r\n                alpha:0.6\r\n            }\r\n        },\r\n        \"square\":{\r\n             item:{\r\n                radius:3,\r\n                borderColor:\"#447900\",\r\n                borderWidth:2,\r\n                color:\"#69ba00\",\r\n                type:\"s\",\r\n                shadow:false,\r\n                alpha:1\r\n            }\r\n        },\r\n        /*bar*/\r\n        \"column\":{\r\n            color:\"RAINBOW\",\r\n            gradient:false,\r\n            barWidth:45,\r\n            radius:0,\r\n            alpha:1,\r\n            border:true\r\n        },\r\n        \"stick\":{\r\n            barWidth:5,\r\n            gradient:false,\r\n    \t\tcolor:\"#67b5c9\",\r\n            radius:2,\r\n            alpha:1,\r\n            border:false\r\n        },\r\n        \"alpha\":{\r\n            color:\"#b9a8f9\",\r\n            barWidth:70,\r\n            gradient:\"falling\",\r\n            radius:0,\r\n            alpha:0.5,\r\n            border:true\r\n        }\r\n    }\r\n});\r\n\r\n\r\n/*\r\n\tUI:Calendar\r\n*/\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"calendar\",\r\n\r\n\tdefaults:{\r\n\t\tdate: new Date(), //selected date, not selected by default\r\n\t\tselect: false,\r\n\t\tnavigation: true,\r\n\t\tmonthSelect: true,\r\n\t\tweekHeader: true,\r\n\t\tweekNumber: false,\r\n\t\tskipEmptyWeeks: false,\r\n\r\n\t\tcalendarHeader: \"%F %Y\",\r\n\t\tcalendarWeekHeader: \"W#\",\r\n\t\t//calendarTime: \"%H:%i\",\r\n\t\tevents:webix.Date.isHoliday,\r\n\t\tminuteStep: 5,\r\n\t\ticons: false,\r\n\t\ttimepickerHeight: 30,\r\n\t\theaderHeight: 70,\r\n\t\tdayTemplate: function(d){\r\n\t\t\treturn d.getDate();\r\n\t\t},\r\n\t\twidth: 260,\r\n\t\theight: 250\r\n\t},\r\n\r\n\tdayTemplate_setter: webix.template,\r\n\tcalendarHeader_setter:webix.Date.dateToStr,\r\n\tcalendarWeekHeader_setter:webix.Date.dateToStr,\r\n\tcalendarTime_setter:function(format){\r\n\t\tthis._calendarTime = format;\r\n\t\treturn webix.Date.dateToStr(format);\r\n\t},\r\n\tdate_setter:function(date){\r\n\t\treturn this._string_to_date(date);\r\n\t},\r\n\tmaxDate_setter:function(date){\r\n\t\treturn this._string_to_date(date);\r\n\t},\r\n\tminDate_setter:function(date){\r\n\t\treturn this._string_to_date(date);\r\n\t},\r\n\tminTime_setter:function(time){\r\n\t\tif(typeof(time) == \"string\"){\r\n\t\t\ttime = webix.i18n.parseTimeFormatDate(time);\r\n\t\t\ttime = [time.getHours(),time.getMinutes()];\r\n\r\n\t\t}\r\n\r\n\t\treturn time;\r\n\t},\r\n\tmaxTime_setter:function(time){\r\n\t\tif(typeof(time) == \"string\"){\r\n\t\t\ttime = webix.i18n.parseTimeFormatDate(time);\r\n\t\t\ttime = [time.getHours(),time.getMinutes()];\r\n\r\n\t\t}\r\n\t\treturn time;\r\n\t},\r\n\t$init: function() {\r\n\t\tthis._viewobj.className += \" webix_calendar\";\r\n\t\tthis._viewobj.setAttribute(\"role\", \"grid\");\r\n\t\tthis._viewobj.setAttribute(\"aria-readonly\", \"true\");\r\n\r\n\t\t//special dates\r\n\t\tthis._special_dates = {};\r\n\t\tthis._selected_date_part = this._selected_date = null;\r\n\t\tthis._zoom_level = 0;\r\n\r\n\t\tthis.attachEvent(\"onKeyPress\", this._onKeyPress);\r\n\t},\r\n\ttype_setter: function(value){\r\n\t\tif(value == \"time\"){\r\n\t\t\tthis._zoom_in = true;\r\n\t\t\tthis._zoom_level = -1;\r\n\t\t}\r\n\t\telse if(value == \"year\"){\r\n\t\t\tthis._fixed = true;\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\r\n\t\tif(webix.ui.view.prototype.$setSize.call(this,x,y)){\r\n\t\t\t//repaint calendar when size changed\r\n\t\t\tthis.render();\r\n\t\t}\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tif (this._settings.cellHeight){\r\n\t\t\tvar state = this._getDateBoundaries(this._settings.date);\r\n\t\t\tthis._settings.height = this._settings.cellHeight * state._rows + (webix.skin.$active.calendarHeight||70);\r\n\t\t}\r\n\t\treturn webix.ui.view.prototype.$getSize.call(this, dx,dy);\r\n\t},\r\n\tmoveSelection:function(mode){\r\n\t\tvar date = webix.Date.copy(this.getSelectedDate() || this.getVisibleDate());\r\n\t\tvar css = this._zoom_logic[this._zoom_level]._keyshift(date, mode, this);\r\n\t\t\r\n\t\tvar sel = this._viewobj.querySelector(\".\"+css+\"[tabindex='0']\");\r\n\t\tif(sel)  sel.focus();\r\n\t},\r\n\t_getDateBoundaries: function(date, reset) {\r\n\t\t// addition information about rendering event:\r\n\t\t// how many days from the previous month,\r\n\t\t// next,\r\n\t\t// number of weeks to display and so on\r\n\t\t\r\n\t\tif (!this._set_date_bounds || reset){\r\n\t\t\tvar month = date.getMonth();\r\n\t\t\tvar year = date.getFullYear();\r\n\r\n\t\t\tvar next = new Date(year, month+1, 1);\r\n\t\t\tvar start = webix.Date.weekStart(new Date(year, month, 1));\r\n\r\n\t\t\tvar days = Math.round((next.valueOf() - start.valueOf())/(60*1000*60*24));\r\n\t\t\tvar rows = this._settings.skipEmptyWeeks?Math.ceil(days/7):6;\r\n\r\n\t\t\tthis._set_date_bounds = { _month: month, _start:start, _next:next, _rows: rows};\r\n\t\t}\r\n\r\n\t\treturn this._set_date_bounds;\r\n\t},\r\n\t$skin:function(){\r\n\t\tif(webix.skin.$active.calendar){\r\n\t\t\tif( webix.skin.$active.calendar.width)\r\n\t\t\t\tthis.defaults.width = webix.skin.$active.calendar.width;\r\n\t\t\tif( webix.skin.$active.calendar.height)\r\n\t\t\t\tthis.defaults.height = webix.skin.$active.calendar.height;\r\n\t\t\tif( webix.skin.$active.calendar.headerHeight)\r\n\t\t\t\tthis.defaults.headerHeight = webix.skin.$active.calendar.headerHeight;\r\n\t\t\tif( webix.skin.$active.calendar.timepickerHeight)\r\n\t\t\t\tthis.defaults.timepickerHeight = webix.skin.$active.calendar.timepickerHeight;\r\n\t\t}\r\n\r\n\t},\r\n\t_getColumnConfigSizes: function(date){ \r\n\t\tvar bounds = this._getDateBoundaries(date);\r\n\r\n\t\tvar s = this._settings;\r\n\t\tvar _columnsHeight = [];\r\n\t\tvar _columnsWidth = [];\r\n\r\n\t\tvar containerWidth = this._content_width - 36;\r\n\r\n\t\tvar containerHeight = this._content_height - this._settings.headerHeight - 10 - (this._settings.timepicker||this._icons?this._settings.timepickerHeight:0);\r\n\r\n\t\tvar columnsNumber = (s.weekNumber)?8:7;\r\n\t\tfor(var i=0; i<columnsNumber; i++) {\r\n\t\t\t_columnsWidth[i] = Math.ceil(containerWidth/(columnsNumber-i));\r\n\t\t\tcontainerWidth -= _columnsWidth[i];\r\n\t\t}\r\n\r\n\t\tvar rowsNumber = bounds._rows;\r\n\t\tfor (var k = 0; k < rowsNumber; k++) {\r\n\t\t\t_columnsHeight[k] = Math.ceil(containerHeight/(rowsNumber-k) );\r\n\t\t\tcontainerHeight -= _columnsHeight[k];\r\n\t\t}\r\n\t\treturn [_columnsWidth, _columnsHeight];\r\n\t},\r\n\ticons_setter: function(value){\r\n\t\tif(!value)\r\n\t\t\tthis._icons = null;\r\n\t\telse if(typeof value == \"object\")\r\n\t\t\tthis._icons = value;\r\n\t\telse\r\n\t\t\tthis._icons = this._icons2;\r\n\t},\r\n\t_icons: [],\r\n\t_icons2: [\r\n\r\n\t\t{\r\n\t\t\ttemplate: function(){\r\n\t\t\t\treturn \"<span role='button' tabindex='0' class='webix_cal_icon_today webix_cal_icon'>\"+webix.i18n.calendar.today+\"</span>\";\r\n\t\t\t},\r\n\t\t\ton_click:{\r\n\t\t\t\t\"webix_cal_icon_today\": function(){\r\n\t\t\t\t\tthis.setValue(new Date());\r\n\t\t\t\t\tthis.callEvent(\"onTodaySet\",[this.getSelectedDate()]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttemplate: function(){\r\n\t\t\t\treturn \"<span role='button' tabindex='0' class='webix_cal_icon_clear webix_cal_icon'>\"+webix.i18n.calendar.clear+\"</span>\";\r\n\t\t\t},\r\n\t\t\ton_click:{\r\n\t\t\t\t\"webix_cal_icon_clear\": function(){\r\n\t\t\t\t\tthis.setValue(\"\");\r\n\t\t\t\t\tthis.callEvent(\"onDateClear\",[this.getSelectedDate()]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t],\r\n\trefresh:function(){ this.render(); },\r\n\trender: function() {\r\n\t\t//reset zoom level\r\n\t\tthis._zoom_level = 0;\r\n\t\tthis._zoom_size = false;\r\n\r\n\t\tvar s = this._settings;\r\n\r\n\t\tif (!this.isVisible(s.id)) return;\r\n\t\tthis._current_time = webix.Date.datePart(new Date());\r\n\r\n\t\tif (webix.debug_render)\r\n\t\t\twebix.log(\"Render: \"+this.name+\"@\"+s.id);\r\n\t\tthis.callEvent(\"onBeforeRender\",[]);\r\n\r\n\t\tvar date = this._settings.date;\r\n\r\n\t\tvar bounds = this._getDateBoundaries(date, true);\r\n\t\tvar sizes = this._getColumnConfigSizes(date);\r\n\t\tvar width = sizes[0];\r\n\t\tvar height = sizes[1];\r\n\r\n\t\tvar html = \"<div class='webix_cal_month'><span role='heading' tabindex='0' aria-live='assertive' aria-atomic='true' class='webix_cal_month_name\"+(!this._settings.monthSelect?\" webix_readonly\":\"\")+\"'>\"+s.calendarHeader(date)+'</span>';\r\n\t\tif (s.navigation)\r\n\t\t\thtml += \"<div role='button' tabindex='0' aria-label='\"+webix.i18n.aria.navMonth[0]+\"' class='webix_cal_prev_button'></div><div role='button' tabindex='0' aria-label='\"+webix.i18n.aria.navMonth[1]+\"' class='webix_cal_next_button'></div>\";\r\n\t\thtml += \"</div>\";\r\n\r\n\t\tif(s.weekHeader)\r\n\t\t\thtml += \"<div class='webix_cal_header' role='row'>\"+this._week_template(width)+\"</div>\";\r\n\t\thtml += \"<div class='webix_cal_body' role='rowgroup'>\"+this._body_template(width, height, bounds)+\"</div>\";\r\n\r\n\t\tif (this._settings.timepicker || this._icons){\r\n\t\t\thtml += \"<div class='webix_cal_footer'>\";\r\n\t\t\tif(this._settings.timepicker)\r\n\t\t\t\thtml += this._timepicker_template(date);\r\n\r\n\t\t\tif(this._icons)\r\n\t\t\t\thtml += this._icons_template();\r\n\t\t\thtml += \"</div>\";\r\n\t\t}\r\n\r\n\r\n\t\tthis._contentobj.innerHTML = html;\r\n\r\n\t\tif(this._settings.type == \"time\"){\r\n\t\t\tvar time = this._settings.date;\r\n\t\t\tif(time){\r\n\t\t\t\tif(typeof(time) == \"string\"){\r\n\t\t\t\t\tdate = webix.i18n.parseTimeFormatDate(time);\r\n\t\t\t\t}\r\n\t\t\t\telse if(webix.isArray(time)){\r\n\t\t\t\t\tdate.setHours(time[0]);\r\n\t\t\t\t\tdate.setMinutes(time[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._changeZoomLevel(-1,date);\r\n\t\t}\r\n\t\telse if(this._settings.type == \"month\"){\r\n\t\t\tthis._changeZoomLevel(1,date);\r\n\t\t}\r\n\t\telse if(this._settings.type == \"year\"){\r\n\t\t\tthis._changeZoomLevel(2,date);\r\n\t\t}\r\n\t\tthis.callEvent(\"onAfterRender\",[]);\r\n\t},\r\n\t_icons_template: function(date){\r\n\t\tvar html =\t\"<div class='webix_cal_icons'>\";\r\n\t\tvar icons = this._icons;\r\n\r\n\t\tfor(var i=0; i < icons.length; i++){\r\n\t\t\tif(icons[i].template){\r\n\t\t\t\tvar template = (typeof(icons[i].template) == \"function\"?icons[i].template: webix.template(icons[i].template));\r\n\t\t\t\thtml += template.call(this,date);\r\n\t\t\t}\r\n\t\t\tif(icons[i].on_click){\r\n\t\t\t\twebix.extend(this.on_click,icons[i].on_click);\r\n\t\t\t}\r\n\t\t}\r\n\t\thtml += \"</div>\";\r\n\t\treturn html;\r\n\t},\r\n\t_timepicker_template:function(date){\r\n\t\tvar timeFormat = this._settings.calendarTime||webix.i18n.timeFormatStr;\r\n\t\tvar tpl = \"\";\r\n\r\n\t\tif(!this._settings.master)\r\n\t\t\ttpl = \"<div role='button' tabindex='0' class='webix_cal_time\"+(this._icons?\" webix_cal_time_icons\":\"\")+\"'><span class='webix_icon fa-clock-o'></span> \"+timeFormat(date)+\"</div>\";\r\n\t\telse{\r\n\t\t\t//daterange needs two clocks\r\n\t\t\tvar range_date = webix.copy(webix.$$(this._settings.master)._settings.value);\r\n\t\t\tif(webix.Date.equal(range_date.end, date))\r\n\t\t\t\trange_date.start = range_date.end;\r\n\t\t\t\t\r\n\t\t\tfor(var i in range_date){\r\n\t\t\t\ttpl += \"<div role='button' tabindex='0' class='webix_range_time_\"+i+\" webix_cal_time'><span class='webix_icon fa-clock-o'></span> \"+timeFormat(range_date[i])+\"</div>\";\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn tpl;\r\n\t},\r\n\t_week_template: function(widths){\r\n\t\tvar s = this._settings;\r\n\t\tvar week_template = '';\r\n\t\tvar correction = 0;\r\n\r\n\t\tif(s.weekNumber) {\r\n\t\t\tcorrection = 1;\r\n\t\t\tweek_template += \"<div class='webix_cal_week_header' role='columnheader' style='width: \"+widths[0]+\"px;' >\"+s.calendarWeekHeader()+\"</div>\";\r\n\t\t}\r\n\t\t\r\n\t\tvar k = (webix.Date.startOnMonday)?1:0;\r\n\t\tfor (var i=0; i<7; i++){ // 7 days total\r\n\t\t\tvar day_index = (k + i) % 7; // 0 - Sun, 6 - Sat as in Locale.date.day_short\r\n\t\t\tvar day = webix.i18n.calendar.dayShort[day_index]; // 01, 02 .. 31\r\n\t\t\tweek_template += \"<div role='columnheader' day='\"+day_index+\"' style='width: \"+widths[i+correction]+\"px;' >\"+day+\"</div>\";\r\n\t\t}\r\n\t\t\r\n\t\treturn week_template;\r\n\t},\r\n    blockDates_setter:function(value){\r\n        return webix.toFunctor(value, this.$scope);\r\n    },\r\n    _day_css:function(day, bounds){\r\n\t\tvar css = \"\";\r\n\t\tif (webix.Date.equal(day, this._current_time))\r\n\t\t\tcss += \" webix_cal_today\";\r\n\t\tif (!this._checkDate(day))\r\n\t\t\tcss+= \" webix_cal_day_disabled\";\r\n\t\tif (webix.Date.equal(day, this._selected_date_part))\r\n\t\t\tcss += \" webix_cal_select\";\r\n\t\tif (day.getMonth() != bounds._month)\r\n\t\t\tcss += \" webix_cal_outside\";\r\n\t\tif (this._settings.events)\r\n\t\t\tcss+=\" \"+(this._settings.events(day) || \"\");\r\n\t\tcss += \" webix_cal_day\";\r\n\t\treturn css;\r\n\t},\r\n\t_body_template: function(widths, heights, bounds){\r\n\t\tvar s = this._settings;\r\n\t\tvar html = \"\";\r\n\t\tvar day = webix.Date.datePart(webix.Date.copy(bounds._start));\r\n\t\tvar start = s.weekNumber?1:0;\r\n\t\tvar weekNumber = webix.Date.getISOWeek(webix.Date.add(day,2,\"day\", true));\r\n\t\tvar min = this._settings.minDate || new Date(1,1,1);\r\n        var max = this._settings.maxDate || new Date(9999,1,1);\r\n\r\n\t\tfor (var y=0; y<heights.length; y++){\r\n\t\t\thtml += \"<div class='webix_cal_row' role='row' style='height:\"+heights[y]+\"px;line-height:\"+heights[y]+\"px'>\";\r\n\r\n\t\t\tif (start){\r\n\t\t\t\t// recalculate week number for the first week of a year\r\n\t\t\t\tif(!day.getMonth() && day.getDate()<7)\r\n\t\t\t\t\tweekNumber =  webix.Date.getISOWeek(webix.Date.add(day,2,\"day\", true));\r\n\t\t\t\thtml += \"<div class='webix_cal_week_num' role='rowheader' style='width:\"+widths[0]+\"px'>\"+weekNumber+\"</div>\";\r\n\t\t\t}\r\n\r\n\t\t\tfor (var x=start; x<widths.length; x++){\r\n\t\t\t\tvar css = this._day_css(day, bounds);\r\n\t\t\t\tvar d = this._settings.dayTemplate.call(this,day);\r\n\t\t\t\tvar sel = webix.Date.equal(day, this._selected_date_part);\r\n\t\t\t\thtml += \"<div day='\"+x+\"' role='gridcell' tabindex='\"+(sel?\"0\":\"-1\")+\"' aria-selected='\"+(sel?\"true\":\"false\")+\"' class='\"+css+\"' style='width:\"+widths[x]+\"px'><span class='webix_cal_day_inner'>\"+d+\"</span></div>\";\r\n\t\t\t\tday = webix.Date.add(day, 1, \"day\");\r\n\t\t\t\tif(day.getHours()){\r\n\t\t\t\t\tday = webix.Date.datePart(day);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\thtml += \"</div>\";\r\n\t\t\tweekNumber++;\r\n\t\t}\r\n\t\treturn html;\r\n\t},\r\n\t_changeDate:function(dir, step, notset){\r\n\t\tvar now = this._settings.date;\r\n\t\tif(!step) { step = this._zoom_logic[this._zoom_level]._changeStep; }\r\n\t\tif(!this._zoom_level){\r\n\t\t\tnow = webix.Date.copy(now);\r\n\t\t\tnow.setDate(1);\r\n\t\t}\r\n\t\tvar next = webix.Date.add(now, dir*step, \"month\", true);\r\n\t\tthis._changeDateInternal(now, next);\r\n\t},\r\n\t_changeDateInternal:function(now, next){\r\n\t\tif(this.callEvent(\"onBeforeMonthChange\", [now, next])){\r\n\t\t\tif (this._zoom_level){\r\n\t\t\t\tthis._update_zoom_level(next);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.showCalendar(next);\r\n\t\t\t}\r\n\t\t\tthis.callEvent(\"onAfterMonthChange\", [next, now]);\r\n\t\t}\r\n\t},\r\n\t_zoom_logic:{\r\n\t\t\"-2\":{\r\n\t\t\t_isBlocked: function(i){\r\n\t\t\t\tvar config = this._settings,\r\n\t\t\t\t\tdate = config.date,\r\n\t\t\t\t\tisBlocked = false;\r\n\r\n\t\t\t\tvar minHour = (config.minTime ? config.minTime[0] : 0);\r\n\t\t\t\tvar maxHour = (config.maxTime ? (config.maxTime[0] + ( config.maxTime[1] ? 1 : 0 )) : 24);\r\n\r\n\t\t\t\tvar minMinute = (config.minTime && (date.getHours()==minHour) ? config.minTime[1] : 0);\r\n\t\t\t\tvar maxMinute = (config.maxTime && config.maxTime[1] && (date.getHours()==(maxHour-1)) ? config.maxTime[1] : 60);\r\n\r\n\t\t\t\tif(this._settings.blockTime){\r\n\t\t\t\t\tvar d = webix.Date.copy(date);\r\n\t\t\t\t\td.setMinutes(i);\r\n\t\t\t\t\tisBlocked = this._settings.blockTime(d);\r\n\t\t\t\t}\r\n\t\t\t\treturn (i < minMinute || i >= maxMinute || isBlocked);\r\n\r\n\t\t\t},\r\n\t\t\t_setContent:function(next, i){ next.setMinutes(i); },\r\n\t\t\t_findActive:function(date, mode, calendar){\r\n\t\t\t\tif(!this._isBlocked.call(calendar, date.getMinutes()))\r\n\t\t\t\t\treturn date;\r\n\t\t\t\telse{\r\n\t\t\t\t\tvar step = calendar._settings.minuteStep;\r\n\t\t\t\t\tvar newdate = webix.Date.add(date, mode ==\"right\"?step:-step, \"minute\", true);\r\n\t\t\t\t\tif(date.getHours() === newdate.getHours())\r\n\t\t\t\t\t\treturn  this._findActive(newdate, mode, calendar);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"-1\":{\r\n\t\t\t_isBlocked: function(i){\r\n\t\t\t\tvar config = this._settings,\r\n\t\t\t\t\tdate = config.date;\r\n\r\n\t\t\t\tvar minHour = (config.minTime? config.minTime[0]:0);\r\n\t\t\t\tvar maxHour = (config.maxTime? config.maxTime[0]+(config.maxTime[1]?1:0):24);\r\n\r\n\t\t\t\tif (i < minHour || i >= maxHour) return true;\r\n\r\n\t\t\t\tif(config.blockTime){\r\n\t\t\t\t\tvar d = webix.Date.copy(date);\r\n\t\t\t\t\td.setHours(i);\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar minMinute = (config.minTime && (i==minHour) ? config.minTime[1] : 0);\r\n\t\t\t\t\tvar maxMinute = (config.maxTime && config.maxTime[1] && (i==(maxHour-1)) ? config.maxTime[1] : 60);\r\n\r\n\t\t\t\t\tfor (var j=minMinute; j<maxMinute; j+= config.minuteStep){\r\n\t\t\t\t\t\td.setMinutes(j);\r\n\t\t\t\t\t\tif (!config.blockTime(d))\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_setContent:function(next, i){ next.setHours(i); },\r\n\t\t\t_keyshift:function(date, mode, calendar){\r\n\t\t\t\tvar newdate, inc, step = calendar._settings.minuteStep;\r\n\t\t\t\t\r\n\t\t\t\tif(mode === \"bottom\" || mode === \"top\"){\r\n\t\t\t\t\tdate.setHours(mode===\"bottom\"?23:0);\r\n\t\t\t\t\tdate.setMinutes(mode===\"bottom\"?55:0);\r\n\t\t\t\t\tdate.setSeconds(0);\r\n\t\t\t\t\tdate.setMilliseconds(0);\r\n\t\t\t\t\tnewdate = date;\r\n\t\t\t\t}\r\n\t\t\t\telse if(mode === \"left\" || mode === \"right\"){//minutes\r\n\r\n\t\t\t\t\tinc = (mode===\"right\"?step:-step);\r\n\t\t\t\t\tif(mode === \"left\" && date.getMinutes() < step ) inc = 60-step;\r\n\t\t\t\t\tif(mode === \"right\" && date.getMinutes() >= (60-step)) inc = step-60;\r\n\t\t\t\t\tinc -= date.getMinutes()%step;\r\n\t\t\t\t\tnewdate = calendar._zoom_logic[\"-2\"]._findActive(webix.Date.add(date, inc, \"minute\"), mode, calendar);\r\n\t\t\t\t}\r\n\t\t\t\telse if(mode === \"up\" || mode === \"down\"){ //hours\r\n\t\t\t\t\tinc = mode===\"down\"?1:-1;\r\n\t\t\t\t\tif(mode === \"down\" && date.getHours() === 23) inc = -23;\r\n\t\t\t\t\tif(mode === \"up\" && date.getHours() === 0) inc = 23;\r\n\t\t\t\t\tnewdate = this._findActive(webix.Date.add(date, inc, \"hour\"), mode, calendar);\r\n\t\t\t\t}\r\n\t\t\t\tcalendar.selectDate(newdate, false);\r\n\r\n\t\t\t\tif(newdate){\r\n\t\t\t\t\tcalendar._update_zoom_level(newdate);\r\n\t\t\t\t\tcalendar.selectDate(newdate, false);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn \"webix_cal_block\"+(mode === \"left\" || mode === \"right\"?\"_min\":\"\");\r\n\t\t\t},\r\n\t\t\t_findActive:function(date, mode, calendar){\r\n\t\t\t\tif(!this._isBlocked.call(calendar, date.getHours()))\r\n\t\t\t\t\treturn date;\r\n\t\t\t\telse{\r\n\t\t\t\t\tvar newdate = webix.Date.add(date, mode ==\"down\"?1:-1, \"hour\", true);\r\n\t\t\t\t\tif(date.getDate() === newdate.getDate())\r\n\t\t\t\t\t\treturn  this._findActive(newdate, mode, calendar);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"0\":{//days\r\n\t\t\t_changeStep:1,\r\n\t\t\t_keyshift:function(date, mode, calendar){\r\n\t\t\t\tvar newdate;\r\n\t\t\t\tif(mode === \"pgup\" || mode === \"pgdown\")\r\n\t\t\t\t\tnewdate = webix.Date.add(date, (mode===\"pgdown\"?1:-1), \"month\");\r\n\t\t\t\telse if(mode === \"bottom\")\r\n\t\t\t\t\tnewdate = new Date(date.getFullYear(), date.getMonth()+1, 0);\r\n\t\t\t\telse if(mode === \"top\")\r\n\t\t\t\t\tnewdate = new Date(date.setDate(1));\r\n\t\t\t\telse if(mode === \"left\" || mode === \"right\")\r\n\t\t\t\t\tnewdate = webix.Date.add(date, (mode===\"right\"?1:-1), \"day\");\r\n\t\t\t\telse if(mode === \"up\" || mode === \"down\")\r\n\t\t\t\t\tnewdate = webix.Date.add(date, (mode===\"down\"?1:-1), \"week\");\r\n\t\t\t\t\r\n\t\t\t\tif(!calendar._checkDate(newdate))\r\n\t\t\t\t\tnewdate = calendar._findActive(date, mode);\r\n\t\t\t\t\r\n\t\t\t\tif(newdate)\r\n\t\t\t\t\tcalendar.selectDate(newdate, true);\r\n\t\t\t\treturn \"webix_cal_day\";\r\n\t\t\t},\r\n\t\t\t\r\n\t\t},\r\n\t\t\"1\":{\t//months\r\n\t\t\t_isBlocked: function(i,calendar){\r\n\t\t\t\tvar blocked = false, minYear, maxYear,\r\n\t\t\t\t    min = calendar._settings.minDate||null,\r\n\t\t\t\t    max = calendar._settings.maxDate||null,\r\n                    year = calendar._settings.date.getFullYear();\r\n\r\n\t\t\t\tif(min && max){\r\n                    minYear = min.getFullYear();\r\n                    maxYear = max.getFullYear();\r\n                    if(year<minYear||year==minYear&&min.getMonth()>i || year>maxYear||year==maxYear&&max.getMonth()<i)\r\n\t\t\t\t\t    blocked = true;\r\n\t\t\t\t}\r\n\t\t\t\treturn blocked;\r\n\t\t\t},\r\n\t\t\t_correctDate: function(date,calendar){\r\n\t\t\t\tif(date < calendar._settings.minDate){\r\n\t\t\t\t\tdate = webix.Date.copy(calendar._settings.minDate);\r\n\t\t\t\t}\r\n\t\t\t\telse if(date > calendar._settings.maxDate){\r\n\t\t\t\t\tdate = webix.Date.copy(calendar._settings.maxDate);\r\n\t\t\t\t}\r\n\t\t\t\treturn date;\r\n\t\t\t},\r\n\t\t\t_getTitle:function(date){ return date.getFullYear(); },\r\n\t\t\t_getContent:function(i){ return webix.i18n.calendar.monthShort[i]; },\r\n\t\t\t_setContent:function(next, i){ if(i!=next.getMonth()) next.setDate(1);next.setMonth(i); },\r\n\t\t\t_changeStep:12,\r\n\t\t\t_keyshift:function(date, mode, calendar){\r\n\t\t\t\tvar newdate;\r\n\t\t\t\tif(mode === \"pgup\" || mode === \"pgdown\")\r\n\t\t\t\t\tnewdate = webix.Date.add(date, (mode===\"pgdown\"?1:-1), \"year\");\r\n\t\t\t\telse if(mode === \"bottom\")\r\n\t\t\t\t\tnewdate = new Date(date.setMonth(11));\r\n\t\t\t\telse if(mode === \"top\")\r\n\t\t\t\t\tnewdate = new Date(date.setMonth(0));\r\n\t\t\t\telse if(mode === \"left\" || mode === \"right\")\r\n\t\t\t\t\tnewdate = webix.Date.add(date, (mode===\"right\"?1:-1), \"month\");\r\n\t\t\t\telse if(mode === \"up\" || mode === \"down\")\r\n\t\t\t\t\tnewdate = webix.Date.add(date, (mode===\"down\"?4:-4), \"month\");\r\n\r\n\t\t\t\tif(!calendar._checkDate(newdate))\r\n\t\t\t\t\tnewdate = calendar._findActive(date, mode);\r\n\t\t\t\t\r\n\t\t\t\tif(newdate){\r\n\t\t\t\t\tcalendar._update_zoom_level(newdate);\r\n\t\t\t\t\tcalendar.selectDate(newdate, false);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn \"webix_cal_block\";\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"2\":{\t//years\r\n\t\t\t_isBlocked: function(i,calendar){\r\n\t\t\t\ti += calendar._zoom_start_date;\r\n\t\t\t\tvar blocked = false;\r\n\t\t\t\tvar min = calendar._settings.minDate;\r\n\t\t\t\tvar max = calendar._settings.maxDate;\r\n\r\n\t\t\t\tif( min && max && (min.getFullYear()>i || max.getFullYear()<i)){\r\n\t\t\t\t\tblocked = true;\r\n\t\t\t\t}\r\n\t\t\t\treturn blocked;\r\n\t\t\t},\r\n\t\t\t_correctDate: function(date,calendar){\r\n\t\t\t\tif(date < calendar._settings.minDate){\r\n\t\t\t\t\tdate = webix.Date.copy(calendar._settings.minDate);\r\n\t\t\t\t}\r\n\t\t\t\telse if(date > calendar._settings.maxDate){\r\n\t\t\t\t\tdate = webix.Date.copy(calendar._settings.maxDate);\r\n\t\t\t\t}\r\n\t\t\t\treturn date;\r\n\t\t\t},\r\n\t\t\t_getTitle:function(date, calendar){\r\n\t\t\t\tvar start = date.getFullYear();\r\n\t\t\t\tcalendar._zoom_start_date = start = start - start%10 - 1;\r\n\t\t\t\treturn start+\" - \"+(start+10);\r\n\t\t\t},\r\n\t\t\t_getContent:function(i, calendar){ return calendar._zoom_start_date+i; },\r\n\t\t\t_setContent:function(next, i, calendar){ next.setFullYear(calendar._zoom_start_date+i); },\r\n\t\t\t_changeStep:12*10,\r\n\t\t\t_keyshift:function(date, mode, calendar){\r\n\t\t\t\tvar newdate;\r\n\t\t\t\tif(mode === \"pgup\" || mode === \"pgdown\")\r\n\t\t\t\t\tnewdate = webix.Date.add(date, (mode===\"pgdown\"?10:-10), \"year\");\r\n\t\t\t\telse if(mode === \"bottom\")\r\n\t\t\t\t\tnewdate = new Date(date.setYear(calendar._zoom_start_date+10));\r\n\t\t\t\telse if(mode === \"top\")\r\n\t\t\t\t\tnewdate = new Date(date.setYear(calendar._zoom_start_date));\r\n\t\t\t\telse if(mode === \"left\" || mode === \"right\")\r\n\t\t\t\t\tnewdate = webix.Date.add(date, (mode===\"right\"?1:-1), \"year\");\r\n\t\t\t\telse if(mode === \"up\" || mode === \"down\")\r\n\t\t\t\t\tnewdate = webix.Date.add(date, (mode===\"down\"?4:-4), \"year\");\r\n\r\n\t\t\t\tif(!calendar._checkDate(newdate))\r\n\t\t\t\t\tnewdate = calendar._findActive(date, mode);\r\n\t\t\t\t\r\n\t\t\t\tif(newdate){\r\n\t\t\t\t\tcalendar._update_zoom_level(newdate);\r\n\t\t\t\t\tcalendar.selectDate(newdate, false);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn \"webix_cal_block\";\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_correctBlockedTime: function(){\r\n\t\tvar i, isDisabledHour, isDisabledMinutes;\r\n\t\tisDisabledHour = this._zoom_logic[-1]._isBlocked.call(this,this._settings.date.getHours());\r\n\t\tif(isDisabledHour){\r\n\t\t\tfor (i= 0; i< 24; i++){\r\n\t\t\t\tif(!this._zoom_logic[-1]._isBlocked.call(this,i)){\r\n\t\t\t\t\tthis._settings.date.setHours(i);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tisDisabledMinutes = this._zoom_logic[-2]._isBlocked.call(this,this._settings.date.getMinutes());\r\n\t\tif(isDisabledMinutes){\r\n\t\t\tfor (i=0; i<60; i+=this._settings.minuteStep){\r\n\t\t\t\tif(!this._zoom_logic[-2]._isBlocked.call(this,i)){\r\n\t\t\t\t\tthis._settings.date.setMinutes(i);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_update_zoom_level:function(date){\r\n\t\tvar config, css, height, i, index,  sections, selected, type, width, zlogic;\r\n\t\tvar html = \"\";\r\n\r\n\t\tconfig = this._settings;\r\n\t\tindex = config.weekHeader?2: 1;\r\n\t\tzlogic = this._zoom_logic[this._zoom_level];\r\n\t\tsections  = this._contentobj.childNodes;\r\n\r\n\t\tif (date){\r\n\t\t\tconfig.date = date;\r\n\t\t}\r\n\r\n\t\ttype = config.type;\r\n\r\n\r\n\r\n\t\t//store width and height of draw area\r\n\t\tif (!this._zoom_size){\r\n\t\t\t/*this._reserve_box_height = sections[index].offsetHeight +(index==2?sections[1].offsetHeight:0);*/\r\n\r\n\t\t\tthis._reserve_box_height = this._contentobj.offsetHeight - config.headerHeight ;\r\n\t\t\tif(type != \"year\" && type != \"month\")\r\n\t\t\t\tthis._reserve_box_height -= config.timepickerHeight;\r\n\t\t\telse if(this._icons){\r\n\t\t\t\tthis._reserve_box_height -= 10;\r\n\t\t\t}\r\n\t\t\tthis._reserve_box_width = sections[index].offsetWidth;\r\n\t\t\tthis._zoom_size = 1;\r\n\t\t}\r\n\r\n\t\t//main section\r\n\t\tif (this._zoom_in){\r\n\t\t\t//hours and minutes\r\n\t\t\theight = this._reserve_box_height/6;\r\n\t\t\tvar timeColNum = 6;\r\n\t\t\tvar timeFormat = this._calendarTime||webix.i18n.timeFormat;\r\n\t\t\tvar enLocale = timeFormat.match(/%([a,A])/);\r\n\t\t\tif(enLocale)\r\n\t\t\t\ttimeColNum++;\r\n\t\t\twidth = parseInt((this._reserve_box_width-3)/timeColNum,10);\r\n\r\n\t\t\thtml += \"<div class='webix_time_header' role='row'>\"+this._timeHeaderTemplate(width,enLocale)+\"</div>\";\r\n\t\t\thtml += \"<div  class='webix_cal_body' role='rowgroup' style='height:\"+this._reserve_box_height+\"px'>\";\r\n\r\n\t\t\t// check and change blocked selected time\r\n\t\t\tthis._correctBlockedTime();\r\n\r\n\t\t\thtml += \"<div class='webix_hours' role='row'>\";\r\n\t\t\tselected = config.date.getHours();\r\n\t\t\tfor (i= 0; i< 24; i++){\r\n\t\t\t\tcss=\"\";\r\n\t\t\t\tif(enLocale){\r\n\t\t\t\t\tif(i%4===0){\r\n\t\t\t\t\t\tvar label = (!i?\"am\":(i==12?\"pm\":\"\"));\r\n\t\t\t\t\t\thtml += \"<div \"+(label?\"role='row'\":\"\")+\"class='webix_cal_block_empty\"+css+\"' style='\"+this._getCalSizesString(width,height)+\"clear:both;\"+\"'>\"+label+\"</div>\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(this._zoom_logic[-1]._isBlocked.call(this,i)){\r\n\t\t\t\t\tcss += \" webix_cal_day_disabled\";\r\n\t\t\t\t}\r\n\t\t\t\telse if(selected ==  i)\r\n\t\t\t\t\tcss += \" webix_selected\";\r\n\t\t\t\tvar value = webix.Date.toFixed(enLocale&& i>12?i-12:i);\r\n\t\t\t\thtml += \"<div aria-label='\"+(value+(enLocale?(i<12?\" am\":\" pm\"):\"\"))+\"' role='gridcell'\"+(!i?\" colspan='24'\":\"\")+\" rowindex='1' tabindex='\"+(selected==i?\"0\":\"-1\")+\"' aria-selected='\"+(selected==i?\"true\":\"false\")+\"' class='webix_cal_block\"+css+\"' data-value='\"+i+\"' style='\"+this._getCalSizesString(width,height)+(i%4===0&&!enLocale?\"clear:both;\":\"\")+\"'>\"+value+\"</div>\";\r\n\t\t\t}\r\n\t\t\thtml += \"</div>\";\r\n\r\n\t\t\thtml += \"<div class='webix_minutes' role='row'>\";\r\n\t\t\tselected = config.date.getMinutes();\r\n\t\t\tfor (i=0; i<60; i+=config.minuteStep){\r\n\t\t\t\tcss = \"\";\r\n\t\t\t\tif(this._zoom_logic[-2]._isBlocked.call(this,i)){\r\n\t\t\t\t\tcss = \" webix_cal_day_disabled\";\r\n\t\t\t\t}\r\n\t\t\t\telse if(selected ==  i)\r\n\t\t\t\t\tcss = \" webix_selected\";\r\n\t\t\t\thtml += \"<div role='gridcell'\"+(!i?\" colspan='12'\":\"\")+\" rowindex='1' tabindex='\"+(selected==i?\"0\":\"-1\")+\"' aria-selected='\"+(selected==i?\"true\":\"false\")+\"' class='webix_cal_block webix_cal_block_min\"+css+\"' data-value='\"+i+\"' style='\"+this._getCalSizesString(width,height)+(i%2===0?\"clear:both;\":\"\")+\"'>\"+webix.Date.toFixed(i)+\"</div>\";\r\n\t\t\t}\r\n\t\t\thtml += \"</div>\";\r\n\r\n\t\t\thtml += \"</div>\";\r\n\t\t\thtml += \"<div  class='webix_time_footer'>\"+this._timeButtonsTemplate()+\"</div>\";\r\n\t\t\tthis._contentobj.innerHTML = html;\r\n\t\t} else {\r\n\t\t\t//years and months\r\n\t\t\t\r\n\t\t\t//reset header\r\n\t\t\tvar header = sections[0].childNodes;\r\n\t\t\tvar labels = webix.i18n.aria[\"nav\"+(this._zoom_level==1?\"Year\":\"Decade\")];\r\n\t\t\theader[0].innerHTML = zlogic._getTitle(config.date, this);\r\n\t\t\theader[1].setAttribute(\"aria-label\", labels[0]);\r\n\t\t\theader[2].setAttribute(\"aria-label\", labels[1]);\r\n\r\n\r\n\r\n\t\t\theight = this._reserve_box_height/3;\r\n\t\t\twidth = this._reserve_box_width/4;\r\n            if(this._checkDate(config.date))\r\n\t\t\t\tselected = (this._zoom_level==1?config.date.getMonth():config.date.getFullYear());\r\n\t\t\tfor (i=0; i<12; i++){\r\n\t\t\t\tcss = (selected == (this._zoom_level==1?i:zlogic._getContent(i, this)) ? \" webix_selected\" : \"\");\r\n\t\t\t\tif(zlogic._isBlocked(i,this)){\r\n\t\t\t\t\tcss += \" webix_cal_day_disabled\";\r\n\t\t\t\t}\r\n\t\t\t\thtml+=\"<div role='gridcell' tabindex='\"+(css.indexOf(\"selected\")!==-1?\"0\":\"-1\")+\"' aria-selected='\"+(css.indexOf(\"selected\")!==-1?\"true\":\"false\")+\"' class='webix_cal_block\"+css+\"' data-value='\"+i+\"' style='\"+this._getCalSizesString(width,height)+\"'>\"+zlogic._getContent(i, this)+\"</div>\";\r\n\t\t\t}\r\n\t\t\tif(index-1){\r\n\t\t\t\tsections[index-1].style.display = \"none\";\r\n\t\t\t}\r\n\t\t\tsections[index].innerHTML = html;\r\n\t\t\tif(type != \"year\" && type != \"month\"){\r\n\t\t\t\tif(!sections[index+1])\r\n\t\t\t\t\tthis._contentobj.innerHTML += \"<div  class='webix_time_footer'>\"+this._timeButtonsTemplate()+\"</div>\";\r\n\t\t\t\telse\r\n\t\t\t\t\tsections[index+1].innerHTML=this._timeButtonsTemplate();\r\n\t\t\t}\r\n\t\t\tsections[index].style.height = this._reserve_box_height+\"px\";\r\n\t\t\tsections[index].setAttribute(\"role\", \"row\");\r\n\t\t}\r\n\t},\r\n\t_getCalSizesString: function(width,height){\r\n\t\treturn \"width:\"+width+\"px; height:\"+height+\"px; line-height:\"+height+\"px;\";\r\n\t},\r\n\t_timeButtonsTemplate: function(){\r\n\t\treturn \"<input type='button' style='width:100%' class='webix_cal_done' value='\"+webix.i18n.calendar.done+\"'>\";\r\n\t},\r\n\t_timeHeaderTemplate: function(width,enLocale){\r\n\t\tvar w1 = width*(enLocale?5:4);\r\n\t\tvar w2 = width*2;\r\n\t\treturn \"<div class='webix_cal_hours' role='columnheader' style='width:\"+w1+\"px'>\"+webix.i18n.calendar.hours+\"</div><div class='webix_cal_minutes' role='columnheader' style='width:\"+w2+\"px'>\"+webix.i18n.calendar.minutes+\"</div>\";\r\n\t},\r\n\t_changeZoomLevel: function(zoom,date){\r\n\t\tvar oldzoom = this._zoom_level;\r\n\t\tif(this.callEvent(\"onBeforeZoom\",[zoom, oldzoom])){\r\n\t\t\tthis._zoom_level = zoom;\r\n\r\n\t\t\tif(zoom)\r\n\t\t\t\tthis._update_zoom_level(date);\r\n\t\t\telse\r\n\t\t\t\tthis.showCalendar(date);\r\n\t\t\tthis.callEvent(\"onAfterZoom\",[zoom, oldzoom]);\r\n\t\t}\r\n\t},\r\n\t_correctDate:function(date){\r\n\t\tif(!this._checkDate(date) && this._zoom_logic[this._zoom_level]._correctDate)\r\n\t\t\tdate = this._zoom_logic[this._zoom_level]._correctDate(date,this);\r\n\t\treturn date;\r\n\t},\r\n\t_mode_selected:function(value){\r\n\r\n\t\tvar now = this._settings.date;\r\n\t\tvar next = webix.Date.copy(now);\r\n\r\n\t\tthis._zoom_logic[this._zoom_level]._setContent(next, value, this);\r\n\r\n\t\tvar zoom = this._zoom_level-(this._fixed?0:1);\r\n\t\tvar prevZoom = this._zoom_level;\r\n        next = this._correctDate(next);\r\n        if(this._checkDate(next)){\r\n\t\t\tthis._changeZoomLevel(zoom, next);\r\n\t\t\tvar type = this._settings.type;\r\n\t\t\tif(type == \"month\" && prevZoom !=2 || type == \"year\")\r\n\t\t\t\tthis._selectDate(next);\r\n\t\t}\r\n\t},\r\n\t// selects date and redraw calendar\r\n\t_selectDate: function(date){\r\n\t\tif(this.callEvent(\"onBeforeDateSelect\", [date])){\r\n\t\t\tthis.selectDate(date, true);\r\n\t\t\tthis.callEvent(\"onDateSelect\", [date]);       // should be deleted in a future version\r\n\t\t\tthis.callEvent(\"onAfterDateSelect\", [date]);\r\n\t\t}\r\n\t},\r\n\ton_click:{\r\n\t\twebix_cal_prev_button: function(e, id, target){\r\n\t\t\tthis._changeDate(-1);\r\n\t\t},\r\n\t\twebix_cal_next_button: function(e, id, target){\r\n\t\t\tthis._changeDate(1);\r\n\t\t},\r\n\t\twebix_cal_day_disabled: function(){\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\twebix_cal_outside: function(){\r\n\t\t\tif(!this._settings.navigation)\r\n\t\t\t\treturn false;\r\n\t\t},\r\n\t\twebix_cal_day: function(e, id, target){\r\n\t\t\tvar cind = webix.html.index(target) - (this._settings.weekNumber?1:0);\r\n\t\t\tvar rind = webix.html.index(target.parentNode);\r\n\t\t\tvar date = webix.Date.add(this._getDateBoundaries()._start, cind + rind*7, \"day\", true);\r\n\t\t\tif (this._settings.timepicker){\r\n\t\t\t\tdate.setHours(this._settings.date.getHours());\r\n\t\t\t\tdate.setMinutes(this._settings.date.getMinutes());\r\n\t\t\t}\r\n\t\t\tthis._selectDate(date);\r\n\t\t},\r\n\t\twebix_cal_time:function(e){\r\n\t\t\tif(this._zoom_logic[this._zoom_level-1]){\r\n\t\t\t\tthis._zoom_in = true;\r\n\t\t\t\tvar zoom = this._zoom_level - 1;\r\n\t\t\t\tthis._changeZoomLevel(zoom);\r\n\t\t\t}\r\n\t\t},\r\n\t\twebix_range_time_start:function(){\r\n\t\t\twebix.$$(this._settings.master)._time_mode = \"start\";\r\n\t\t},\r\n\t\twebix_range_time_end:function(){\r\n\t\t\twebix.$$(this._settings.master)._time_mode = \"end\";\r\n\t\t},\r\n\t\twebix_cal_done:function(e){\r\n\t\t\tvar date = webix.Date.copy(this._settings.date);\r\n\t\t\tdate = this._correctDate(date);\r\n\t\t\tthis._selectDate(date);\r\n\t\t},\r\n\t\twebix_cal_month_name:function(e){\r\n\t\t\tthis._zoom_in = false;\r\n\t\t\t//maximum zoom reached\r\n\t\t\tif (this._zoom_level == 2 || !this._settings.monthSelect) return;\r\n\r\n\t\t\tvar zoom = Math.max(this._zoom_level, 0) + 1;\r\n\t\t\tthis._changeZoomLevel(zoom);\r\n\t\t},\r\n\t\twebix_cal_block:function(e, id, trg){\r\n\t\t\tif(this._zoom_in){\r\n\r\n\t\t\t\tif(trg.className.indexOf('webix_cal_day_disabled')!==-1)\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tvar level = (trg.className.indexOf(\"webix_cal_block_min\")!=-1?this._zoom_level-1:this._zoom_level);\r\n\t\t\t\tvar now = this._settings.date;\r\n\t\t\t\tvar next = webix.Date.copy(now);\r\n\t\t\t\tthis._zoom_logic[level]._setContent(next, trg.getAttribute(\"data-value\")*1, this);\r\n\t\t\t\tthis._update_zoom_level(next);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tif(trg.className.indexOf('webix_cal_day_disabled')==-1)\r\n\t\t\t\t\tthis._mode_selected(trg.getAttribute(\"data-value\")*1);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_string_to_date: function(date, format){\r\n\t\tif (!date){\r\n\t\t\treturn webix.Date.datePart(new Date());\r\n\t\t}\r\n\t\tif(typeof date == \"string\"){\r\n\t\t\tif (format)\r\n\t\t\t\tdate = webix.Date.strToDate(format)(date);\r\n\t\t\telse\r\n\t\t\t\tdate=webix.i18n.parseFormatDate(date);\r\n\t\t}\r\n\r\n\t\treturn date;\r\n\t},\r\n\t_checkDate: function(date){\r\n\t\tvar blockedDate = (this._settings.blockDates && this._settings.blockDates.call(this,date));\r\n\t\tvar minDate = this._settings.minDate;\r\n\t\tvar maxDate = this._settings.maxDate;\r\n\t\tvar outOfRange = (date < minDate || date > maxDate);\r\n\t\treturn !blockedDate &&!outOfRange;\r\n\t},\r\n\t_findActive:function(date, mode){\r\n\t\tvar dir = (mode === \"top\" || mode ===\"left\" || mode === \"pgup\" || mode === \"up\") ? -1 : 1;\r\n\t\tvar newdate = webix.Date.add(date, dir, \"day\", true);\r\n\t\tif(this._checkDate(newdate))\r\n\t\t\treturn newdate;\r\n\t\telse{\r\n\t\t\tvar compare;\r\n\t\t\tif(this._zoom_level === 0) compare = (date.getMonth() === newdate.getMonth());\r\n\t\t\telse if(this._zoom_level === 1 ) compare = (date.getFullYear() === newdate.getFullYear());\r\n\t\t\telse if(this._zoom_level === 2) compare = (newdate.getFullYear() > this._zoom_start_date && newdate.getFullYear() < this._zoom_start_date+10);\r\n\r\n\t\t\tif(compare)\r\n\t\t\t\treturn this._findActive(newdate, mode);\r\n\t\t}\r\n\t},\r\n\tshowCalendar: function(date) {\r\n\t\tdate = this._string_to_date(date);\r\n\t\tthis._settings.date = date;\r\n\t\tthis.render();\r\n\t\tthis.resize();\r\n\t},\r\n\tgetSelectedDate: function() {\r\n        return (this._selected_date)?webix.Date.copy(this._selected_date):this._selected_date;\r\n\r\n\t},\r\n\tgetVisibleDate: function() {\r\n\t\treturn webix.Date.copy(this._settings.date);\r\n\t},\r\n\tsetValue: function(date, format){\r\n        this.selectDate(date, true);\r\n\t},\r\n\tgetValue: function(format){\r\n\t\tvar date = this.getSelectedDate();\r\n\t\tif (format)\r\n\t\t\tdate = webix.Date.dateToStr(format)(date);\r\n\t\treturn date;\r\n\t},\r\n\tselectDate: function(date, show){\r\n        if(date){\r\n            date = this._string_to_date(date);\r\n            this._selected_date = date;\r\n            this._selected_date_part = webix.Date.datePart(webix.Date.copy(date));\r\n        }\r\n        else{ //deselect\r\n            this._selected_date = null;\r\n            this._selected_date_part = null;\r\n\t        if(this._settings.date){\r\n\t\t        webix.Date.datePart(this._settings.date);\r\n\t        }\r\n        }\r\n\r\n\t\tif (show)\r\n\t\t\tthis.showCalendar(date);\r\n\t\telse if(show !==false)\r\n\t\t\tthis.render();\r\n\r\n\t\tthis.callEvent(\"onChange\",[date]);\r\n\t}, \r\n\tlocate:function(){ return null; }\r\n\t\r\n}, webix.MouseEvents, webix.ui.view, webix.EventSystem);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"property\",\r\n\t$init:function(){\r\n\t\tthis._contentobj.className+=\" webix_property\";\r\n\t\tthis._contentobj.setAttribute(\"role\", \"listbox\");\r\n        this._destroy_with_me = [];\r\n\t},\r\n\tdefaults:{\r\n\t\tnameWidth:100,\r\n\t\teditable:true\r\n\t},\r\n\ton_render:{\r\n\t\tcheckbox:function(value, config){\r\n\t\t\treturn  \"<input type='checkbox' class='webix_property_check' \"+(value?\"checked\":\"\")+\">\";\r\n\t\t},\r\n\t\tcolor:function(value, config){\r\n\t\t\treturn  \"<div class=\\\"webix_property_col_val\\\"><div class='webix_property_col_ind' style=\\\"background-color:\"+(value||\"#FFFFFF\")+\";\\\"></div><span>\" +value+\"</span></div>\";\r\n\t\t}\r\n\t},\r\n\ton_edit:{\r\n\t\tlabel:false\r\n\t},\r\n\t_id:\"webix_f_id\",\r\n\ton_click:{\r\n\t\twebix_property_check:function(ev){\r\n\t\t\tvar id = this.locate(ev);\r\n\t\t\tthis.getItem(id).value = !this.getItem(id).value;\r\n\t\t\tthis.callEvent(\"onCheck\",[id, this.getItem(id).value]);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t},\r\n\ton_dblclick:{\r\n\t},\r\n\tregisterType:function(name, data){\r\n\t\tif (data.template)\r\n\t\t\tthis.on_render[name] = data.template;\r\n\t\tif (data.editor)\r\n\t\t\tthis.on_edit[name] = data.editor;\r\n\t\tif (data.click)\r\n\t\t\tfor (var key in data.click)\r\n\t\t\t\tthis.on_click[key] = data.click[key];\r\n\t},\r\n    elements_setter:function(data){\r\n        this._idToLine = {};\r\n        for(var i =0; i < data.length; i++){\r\n            var line = data[i];\r\n            if (line.type == \"multiselect\")\r\n            \tline.optionslist = true;\r\n\r\n            //line.type \t= \tline.type||\"label\";\r\n            line.id \t=\tline.id||webix.uid();\r\n            line.label \t=\tline.label||\"\";\r\n            line.value \t=\tline.value||\"\";\r\n            this._idToLine[line.id] = i;\r\n            this.template = this._map_options(data[i]);\r\n        }\r\n        return data;\r\n    },\r\n\tshowItem:function(id){\r\n\t\twebix.RenderStack.showItem.call(this, id);\r\n\t},\r\n\tlocate:function(e){\r\n\t\treturn webix.html.locate(arguments[0], this._id);\r\n\t},\r\n\tgetItemNode:function(id){\r\n\t\treturn this._dataobj.childNodes[this._idToLine[id]];\r\n\t},\r\n\tgetItem:function(id){\r\n\t\treturn this._settings.elements[this._idToLine[id]];\r\n\t},\r\n\t_get_editor_type:function(id){\r\n\t\tvar type = this.getItem(id).type;\r\n\t\tif (type == \"checkbox\") return \"inline-checkbox\";\r\n\t\tvar alter_type = this.on_edit[type];\r\n\t\treturn (alter_type === false)?false:(alter_type||type);\r\n\t},\r\n\t_get_edit_config:function(id){\r\n\t\treturn this.getItem(id);\r\n\t},\r\n\t_find_cell_next:function(start, check , direction){\r\n\t\tvar row = this._idToLine[start.id];\r\n\t\tvar order = this._settings.elements;\r\n\t\t\r\n\t\tif (direction){\r\n\t\t\tfor (var i=row+1; i<order.length; i++){\r\n\t\t\t\tif (check.call(this, order[i].id))\r\n\t\t\t\t\treturn order[i].id;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i=row-1; i>=0; i--){\r\n\t\t\t\tif (check.call(this, order[i].id))\r\n\t\t\t\t\treturn order[i].id;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t},\r\n\tupdateItem:function(){\r\n\t\tthis.refresh();\r\n\t},\r\n\t_cellPosition:function(id){\r\n\t\tvar html = this.getItemNode(id);\r\n\t\treturn {\r\n\t\t\tleft:html.offsetLeft+this._settings.nameWidth, \r\n\t\t\ttop:html.offsetTop,\r\n\t\t\theight:html.firstChild.offsetHeight,\r\n\t\t\twidth:this._data_width,\r\n\t\t\tparent:this._contentobj\r\n\t\t};\r\n\t},\r\n\tsetValues:function(data, update){\r\n\t\tif (this._settings.complexData)\r\n\t\t\tdata = webix.CodeParser.collapseNames(data);\r\n\r\n\t\tif(!update) this._clear();\r\n\t\tfor(var key in data){\r\n\t\t\tvar line = this.getItem(key);\r\n\t\t\tif (line)\r\n\t\t\t\tline.value = data[key];\r\n\t\t}\r\n\t\t\r\n\t\tthis._props_dataset = data;\r\n\t\tthis.refresh();\r\n\t},\r\n\t_clear:function(){\r\n\t\tvar lines = this._settings.elements;\r\n\t\tfor (var i=0; i<lines.length; i++)\r\n\t\t\tlines[i].value = \"\";\r\n\t},\r\n\tgetValues:function(){\r\n\t\tvar data = webix.clone(this._props_dataset||{});\r\n\t\tfor (var i = 0; i < this._settings.elements.length; i++) {\r\n\t\t\tvar line = this._settings.elements[i];\r\n\t\t\tif (line.type != \"label\")\r\n\t\t\t\tdata[line.id] = line.value;\r\n\t\t}\r\n\r\n\t\tif (this._settings.complexData)\r\n\t\t\tdata = webix.CodeParser.expandNames(data);\r\n\r\n\t\treturn data;\r\n\t},\r\n\trefresh:function(){\r\n\t\tthis.render();\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tif (webix.ui.view.prototype.$setSize.call(this, x, y)){\r\n\t\t\tthis._data_width = this._content_width - this._settings.nameWidth;\r\n\t\t\tthis.render();\r\n\t\t}\r\n\t},\r\n\t$getSize:function(dx,dy){\r\n\t\tif (this._settings.autoheight){\r\n\t\t\tvar count = this._settings.elements.length;\r\n\t\t\tthis._settings.height = Math.max(this.type.height * count,this._settings.minHeight||0);\r\n\t\t}\r\n\t\treturn webix.ui.view.prototype.$getSize.call(this, dx, dy);\r\n\t},\r\n\t_toHTML:function(){\r\n\t\tvar html = [];\r\n\t\tvar els = this._settings.elements;\r\n\t\tif (els)\r\n\t\t\tfor (var i=0; i<els.length; i++){\r\n\t\t\t\tvar data = els[i];\r\n\t\t\t\tif (data.css && typeof data.css == \"object\")\r\n\t\t\t\t\tdata.css = webix.html.createCss(data.css);\r\n\r\n\t\t\t\tvar pre = '<div webix_f_id=\"'+data.id+'\"'+(data.type!=='label'?'role=\"option\" tabindex=\"0\"':'')+' class=\"webix_property_line '+(data.css||'')+'\">';\r\n\t\t\t\tif (data.type == \"label\")\r\n\t\t\t\t\thtml[i] = pre+\"<div class='webix_property_label_line'>\"+data.label+\"</div></div>\";\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar render = this.on_render[data.type],\r\n                        content;\r\n\t\t\t\t\tvar post = \"<div class='webix_property_label' style='width:\"+this._settings.nameWidth+\"px'>\"+data.label+\"</div><div class='webix_property_value' style='width:\"+this._data_width+\"px'>\";\r\n                    if(data.collection || data.options){\r\n                        content = data.template(data, data.value);\r\n                    }else if(data.format)\r\n                        content = data.format(data.value);\r\n                    else\r\n                        content = data.value;\r\n\t\t\t\t\tif (render)\r\n\t\t\t\t\t\tcontent = render.call(this, data.value, data);\r\n\t\t\t\t\thtml[i] = pre+post+content+\"</div></div>\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\treturn html.join(\"\");\r\n\t},\r\n\ttype:{\r\n\t\theight:24,\r\n\t\ttemplateStart:webix.template(\"\"),\r\n\t\ttemplateEnd:webix.template(\"</div>\")\r\n\t},\r\n\t$skin: function(){\r\n\t\tthis.type.height = webix.skin.$active.propertyItemHeight||24;\r\n\t}\r\n}, webix.AutoTooltip, webix.EditAbility, webix.MapCollection, webix.MouseEvents, webix.Scrollable, webix.SingleRender, webix.AtomDataLoader, webix.EventSystem, webix.ui.view);\r\n\r\n\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"colorboard\",\r\n\tdefaults:{\r\n\t\ttemplate:\"<div style=\\\"width:100%;height:100%;background-color:{obj.val}\\\"></div>\",\r\n\t\tpalette:null,\r\n\t\theight:220,\r\n\t\twidth:220,\r\n\t\tcols:12,\r\n\t\trows:10,\r\n\t\tminLightness:0.15,\r\n\t\tmaxLightness:1,\r\n\t\tnavigation:true\r\n\t},\r\n\t$init:function(config){\r\n\t\twebix.event(this._viewobj, \"click\", webix.bind(function(e){\r\n\t\t\tvar value = webix.html.locate(e, \"webix_val\");\r\n\t\t\tthis.setValue(value);\r\n\t\t\tthis.callEvent(\"onSelect\", [this._settings.value, e]);\r\n\t\t}, this));\r\n\r\n\t\tthis.$view.setAttribute(\"role\", \"grid\");\r\n\t\tthis._viewobj.setAttribute(\"aria-readonly\", \"true\");\r\n\t},\r\n\t_findIndex:function(value){\r\n\t\tvar pal = this._settings.palette;\r\n\t\tvalue = value.toUpperCase();\r\n\t\tfor(var r= 0, rows= pal.length; r < rows; r++)\r\n\t\t\tfor(var c= 0, cols = pal[r].length; c < cols; c++){\r\n\t\t\t\tif(pal[r][c].toUpperCase() == value){\r\n\t\t\t\t\treturn {row:r, col:c};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\treturn null;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tif(webix.ui.view.prototype.$setSize.call(this,x,y)){\r\n\t\t\tthis.render();\r\n\t\t}\r\n\t},\r\n\tgetValue:function(){\r\n\t\treturn this._settings.value;\r\n\t},\r\n\t_getBox:function(){\r\n\t\treturn this._viewobj.firstChild;\r\n\t},\r\n\tsetValue:function(value){\r\n\t\tif(!value)\r\n\t\t\treturn;\r\n\t\tif(value.charAt(0) != \"#\")\r\n\t\t\tvalue = '#' + value;\r\n\r\n\t\tvar oldvalue = this._settings.value;\r\n\r\n\t\tthis._settings.value = value;\r\n\t\tthis.$setValue(value, oldvalue);\r\n\r\n\t\treturn value;\r\n\t},\r\n\t_selectBox:null,\r\n\t_getSelectBox:function(){\r\n\t\tif( this._selectBox && this._selectBox.parentNode ){\r\n\t\t\treturn this._selectBox;\r\n\t\t}else{\r\n\t\t\tvar div = this._selectBox = document.createElement(\"div\");\r\n\t\t\tdiv.className = \"webix_color_selector\";\r\n\t\t\tthis._viewobj.lastChild.appendChild(div);\r\n\t\t\treturn div;\r\n\t\t}\r\n\t},\r\n\t$setValue:function(value, oldvalue){\r\n\t\tif(this.isVisible(this._settings.id)){\r\n\t\t\tvar cell, div, ind, parent, style,\r\n\t\t\t\tleft = 0, top = 0;\r\n\r\n\t\t\t//remove tabindex for previous selection\r\n\t\t\tif(oldvalue) ind = this._findIndex(oldvalue);\r\n\t\t\tif(!ind) ind = {row:0, col:0};\r\n\t\t\tthis._viewobj.lastChild.childNodes[ind.row].childNodes[ind.col].setAttribute(\"tabindex\", \"-1\");\r\n\r\n\t\t\tind = this._findIndex(value);\r\n\t\t\tif(ind){\r\n\t\t\t\tcell = this._viewobj.lastChild.childNodes[ind.row].childNodes[ind.col];\r\n\t\t\t}\r\n\r\n\t\t\tif(cell && cell.parentNode && cell.parentNode.parentNode){\r\n\t\t\t\tparent = cell.parentNode;\r\n\t\t\t\tleft = cell.offsetLeft - parent.offsetLeft ;\r\n\t\t\t\ttop = - (this.$height - (cell.offsetTop -parent.parentNode.offsetTop ));\r\n\r\n\t\t\t\tcell.setAttribute(\"tabindex\", \"0\");\r\n\t\t\t\tcell.setAttribute(\"aria-selected\", \"true\");\r\n\t\t\t\tcell.setAttribute(\"tabindex\", \"0\");\r\n\t\t\t\tcell.setAttribute(\"aria-selected\", \"true\");\r\n\t\t\t}else{\r\n\t\t\t\tif (this._selectBox)\r\n\t\t\t\t\tthis._selectBox.style.left = \"-100px\";\r\n\t\t\t\tthis._viewobj.lastChild.childNodes[0].childNodes[0].setAttribute(\"tabindex\", \"0\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tdiv = this._getSelectBox();\r\n\t\t\tstyle =  [\r\n\t\t\t\t\"left:\" + left + \"px\",\r\n\t\t\t\t\"top:\" + top+\"px\",\r\n\t\t\t\t\"width:\" + cell.style.width,\r\n\t\t\t\t\"height:\" + cell.style.height\r\n\t\t\t].join(\";\");\r\n\r\n\t\t\tif( typeof( div.style.cssText ) !== 'undefined' ) {\r\n\t\t\t\tdiv.style.cssText = style;\r\n\t\t\t} else {\r\n\t\t\t\tdiv.setAttribute('style',style);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t_initPalette:function(config){\r\n\t\tfunction numToHex(n){\r\n\t\t\treturn webix.color.toHex(n, 2);\r\n\t\t}\r\n\t\tfunction rgbToHex(r,g,b){\r\n\t\t\treturn \"#\"+numToHex( Math.floor(r)) +numToHex( Math.floor(g)) + numToHex(Math.floor(b));\r\n\t\t}\r\n\t\tfunction hslToRgb(h, s, l){\r\n\t\t\tvar r, g, b;\r\n\t\t\tif(!s){\r\n\t\t\t\tr = g = b = l; // achromatic\r\n\t\t\t}else{\r\n\t\t\t\tvar q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n\t\t\t\tvar p = 2 * l - q;\r\n\t\t\t\tr = hue2rgb(p, q, h + 1/3);\r\n\t\t\t\tg = hue2rgb(p, q, h);\r\n\t\t\t\tb = hue2rgb(p, q, h - 1/3);\r\n\t\t\t}\r\n\r\n\t\t\treturn {r:r * 255, g:g * 255, b:b * 255};\r\n\t\t}\r\n\t\tfunction hue2rgb(p, q, t){\r\n\t\t\tif(t < 0) t += 1;\r\n\t\t\tif(t > 1) t -= 1;\r\n\t\t\tif (t < 1/6)\r\n\t\t\t\treturn p + (q - p) * 6 * t; \r\n\t\t\telse if (t <= 1/2)\r\n\t\t\t\treturn q;\r\n\t\t\telse if (t < 2/3) \r\n\t\t\t\treturn p + (q - p) * (2/3 - t) * 6;\r\n\t\t\telse\r\n\t\t\t\treturn p;\r\n\t\t}\r\n\r\n\t\tfunction renderGrayBar(colCount){\r\n\t\t\tvar gray = [],\r\n\t\t\t\tval = 255,\r\n\t\t\t\tstep = val / colCount;\r\n\r\n\t\t\tfor(var i=0; i < colCount; i++){\r\n\t\t\t\tval = Math.round(val > 0 ? val : 0);\r\n\t\t\t\tgray.push(rgbToHex(val, val, val));\r\n\t\t\t\tval -= step;\r\n\t\t\t}\r\n\t\t\tgray[gray.length - 1] = \"#000000\";\r\n\t\t\treturn gray;\r\n\t\t}\r\n\r\n\t\tvar colors = [];\r\n\t\tvar colorRows = config.rows - 1;\r\n\t\tvar colorStep = 1/config.cols;\r\n\t\tvar lightStep = (config.maxLightness - config.minLightness)/colorRows;\r\n\t\tvar colorRange = null;\r\n\r\n\t\tcolors.push(renderGrayBar(config.cols));\r\n\r\n\t\tfor(var step = 0, lt = config.minLightness; step < colorRows; step++){\r\n\t\t\tcolorRange = [];\r\n\t\t\tfor(var c = 0, col = 0; c < config.cols; c++ ){\r\n\t\t\t\tvar val = hslToRgb(col, 1, lt );\r\n\t\t\t\tcolorRange.push(rgbToHex(val.r, val.g, val.b));\r\n\t\t\t\tcol += colorStep;\r\n\t\t\t}\r\n\t\t\tcolors.push(colorRange);\r\n\t\t\tlt+=lightStep;\r\n\t\t}\r\n\r\n\t\tthis._settings.palette = colors;\r\n\t},\r\n\tmoveSelection:function(mode){\r\n\t\tvar value = this.getValue(), ind, cell;\r\n\r\n\t\tif(value) ind = this._findIndex(value);\r\n\t\tif(!ind) ind = {row:0, col:0};\r\n\r\n\t\tif(ind){\r\n\t\t\tif(mode == \"up\" || mode == \"down\")\r\n\t\t\t\tind.row = ind.row + (mode == \"up\"?-1:1);\r\n\t\t\telse if(mode == \"right\" || mode == \"left\")\r\n\t\t\t\tind.col = ind.col +(mode == \"right\"?1:-1);\r\n\t\t\telse if(mode == \"top\" )\r\n\t\t\t\tind.row = ind.col = 0;\r\n\t\t\telse if(mode == \"bottom\"){\r\n\t\t\t\tind.row = this._viewobj.lastChild.querySelectorAll(\".webix_color_row\").length-1;\r\n\t\t\t\tind.col = this._viewobj.lastChild.childNodes[ind.row].childNodes.length-1;\r\n\t\t\t}\r\n\r\n\t\t\tif(ind.row>=0)\r\n\t\t\t\tcell = this._viewobj.lastChild.childNodes[ind.row].childNodes[ind.col];\r\n\t\t\tif(cell){\r\n\t\t\t\tvalue =  cell.getAttribute(\"webix_val\");\r\n\t\t\t\tthis.setValue(value);\r\n\r\n\t\t\t\tvar sel = this._viewobj.querySelector(\"div[tabindex='0']\");\r\n\t\t\t\tif(sel)  sel.focus();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\trender:function(){\r\n\t\tif(!this.isVisible(this._settings.id))\r\n\t\t\treturn;\r\n\r\n\t\tif(!this._settings.palette)\r\n\t\t\tthis._initPalette(this._settings);\r\n\t\tvar palette = this._settings.palette;\r\n\r\n\t\tthis.callEvent(\"onBeforeRender\",[]);\r\n\t\tvar config = this._settings,\r\n\t\t\titemTpl = webix.template(\"<div role='gridcell' tabindex='-1' aria-label=\\\"{obj.val}\\\" style=\\\"width:{obj.width}px;height:{obj.height}px;\\\" webix_val=\\\"{obj.val}\\\">\" + (config.template||\"\") + \"</div>\"),\r\n\t\t\tdata = {width: 0, height:0, val:0},\r\n\t\t\twidth = this.$width,\r\n\t\t\theight =  this.$height,\r\n\t\t\twidths = [];\r\n\r\n\t\tvar html = \"<div class=\\\"webix_color_palette\\\"role=\\\"rowgroup\\\">\";\r\n\r\n\t\tvar firstRow = (typeof palette[0] == \"object\") ? palette[0] : palette;\r\n\t\tfor(var i=0; i < firstRow.length; i++){\r\n\t\t\twidths[i] = Math.floor(width/(firstRow.length - i));\r\n\t\t\twidth -= widths[i];\r\n\t\t}\r\n\r\n\t\tif(typeof palette[0] == \"object\"){\r\n\t\t\tfor(var r=0; r < palette.length; r++){\r\n\t\t\t\tvar cellHeight = Math.floor(height/(palette.length - r));\r\n\t\t\t\theight -= cellHeight;\r\n\t\t\t\tvar row = palette[r];\r\n\t\t\t\thtml += renderRow(row, widths, cellHeight);\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\thtml+= renderRow(palette, widths, height);\r\n\t\t}\r\n\r\n\t\thtml += \"</div>\";\r\n\t\tthis._viewobj.innerHTML = html;\r\n\r\n\t\tfunction renderRow(row, widths, height){\r\n\t\t\tvar rowHtml = \"<div class=\\\"webix_color_row\\\" role=\\\"row\\\">\";\r\n\t\t\tfor(var cell = 0; cell < row.length; cell++){\r\n\t\t\t\tdata.width = widths[cell];\r\n\t\t\t\tdata.height = height;\r\n\t\t\t\tdata.val = row[cell];\r\n\t\t\t\trowHtml += itemTpl(data);\r\n\t\t\t}\r\n\t\t\trowHtml += \"</div>\";\r\n\t\t\treturn rowHtml;\r\n\t\t}\r\n\t\tthis._selectBox = null;\r\n\t\tif(this._settings.value)\r\n\t\t\tthis.$setValue(this._settings.value);\r\n\t\telse\r\n\t\t\tthis._viewobj.lastChild.childNodes[0].childNodes[0].setAttribute(\"tabindex\", \"0\");\r\n\t\tthis.callEvent(\"onAfterRender\",[]);\r\n\t},\r\n\trefresh:function(){ this.render(); }\r\n}, webix.ui.view, webix.EventSystem);\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"resizer\",\r\n\tdefaults:{\r\n\t\twidth:7, height:7\r\n\t},\r\n\t$init:function(config){\r\n\t\twebix.assert(this.getParentView(), \"Resizer can't be initialized outside a layout\");\r\n\t\tthis._viewobj.className += \" webix_resizer\";\r\n\t\tvar space = this.getParentView()._margin;\r\n\t\t\r\n\t\twebix.event(this._viewobj, webix.env.mouse.down, this._rsDown, {bind:this});\r\n\t\twebix.event(document.body, webix.env.mouse.up, this._rsUp, {bind:this});\r\n\r\n\t\tvar dir = this._getResizeDir();\r\n\r\n\t\tthis._rs_started = false;\r\n\t\tthis._resizer_dir = dir;\r\n\r\n\t\tthis._resizer_dim = (dir==\"x\"?\"width\":\"height\");\r\n\t\t\r\n\t\tif (dir==\"x\")\r\n\t\t\tconfig.height = 0;\r\n\t\telse \r\n\t\t\tconfig.width = 0;\r\n\r\n\t\tif (space>0){\r\n\t\t\tthis._viewobj.className += \" webix_resizer_v\"+dir;\r\n\t\t\tthis._viewobj.style.marginRight = \"-\"+space+\"px\";\r\n\t\t\tif (dir == \"x\")\t\r\n\t\t\t\tconfig.width = space;\r\n\t\t\telse\r\n\t\t\t\tconfig.height = space;\r\n\t\t\tthis.$nospace = true;\r\n\t\t} else\r\n\t\t\tthis._viewobj.className += \" webix_resizer_\"+dir;\r\n\t\t\r\n\t\tthis._viewobj.innerHTML = \"<div class='webix_resizer_content'></div>\";\r\n\t\tif (dir == \"y\" && space>0) this._viewobj.style.marginBottom = \"-\"+(config.height||this.defaults.height)+\"px\";\r\n\r\n\t\tthis._viewobj.setAttribute(\"tabindex\", \"-1\");\r\n\t\tthis._viewobj.setAttribute(\"aria-grabbed\", \"false\");\r\n\r\n\t},\r\n\t_rsDown:function(e){\r\n\t\tvar cells = this._getResizerCells();\r\n\t\t//some sibling can block resize\r\n\t\tif(cells && !this._settings.disabled){\r\n\t\t\te = e||event;\r\n\t\t\tthis._rs_started = true;\r\n\t\t\tthis._rs_process = webix.html.pos(e);\r\n\t\t\tthis._rsLimit = [];\r\n\t\t\tthis._viewobj.setAttribute(\"aria-grabbed\", \"true\");\r\n\t\t\t\r\n\t\t\tfor(var i=0; i<2; i++)\r\n\t\t\t\tcells[i].$view.setAttribute(\"aria-dropeffect\", \"move\");\r\n\t\t\tthis._viewobj.setAttribute(\"aria-dropeffect\", \"move\");\r\n\t\t\t\r\n\t\t\tthis._rsStart(e, cells[0]);\r\n\t\t}\r\n\t},\r\n\t_rsUp:function(){\r\n\t\tthis._rs_started = false;\r\n\t\tthis._rs_process = false;\r\n\t},\r\n\t_rsStart:function(e, cell){\r\n\r\n\t\tvar dir,offset, pos,posParent,start;\r\n\t\te = e||event;\r\n\t\tdir = this._resizer_dir;\r\n\r\n\t\t/*layout position:relative to place absolutely positioned elements in it*/\r\n\t\tthis.getParentView()._viewobj.style.position = \"relative\";\r\n\t\tpos = webix.html.offset(this._viewobj);\r\n\t\tposParent = webix.html.offset(this.getParentView()._viewobj);\r\n\t\tstart = pos[dir]-posParent[dir];\r\n\t\toffset = webix.html.offset(cell.$view)[dir]- webix.html.offset(this.getParentView().$view)[dir];\r\n\r\n\t\tthis._rs_progress = [dir,cell, start, offset];\r\n\t\t/*resizer stick (resizerea ext)*/\r\n\r\n\t\tthis._resizeStick = new webix.ui.resizearea({\r\n\t\t\tcontainer:this.getParentView()._viewobj,\r\n\t\t\tdir:dir,\r\n\t\t\teventPos:this._rs_process[dir],\r\n\t\t\tstart:start-1,\r\n\t\t\theight: this.$height,\r\n\t\t\twidth: this.$width,\r\n\t\t\tborder: 1,\r\n\t\t\tmargin: this.getParentView()[\"_padding\"+dir.toUpperCase()]\r\n\t\t});\r\n\r\n\t\t/*stops resizing on stick mouseup*/\r\n\t\tthis._resizeStick.attachEvent(\"onResizeEnd\", webix.bind(this._rsEnd, this));\r\n\t\t/*needed to stop stick moving when the limit for dimension is reached*/\r\n\t\tthis._resizeStick.attachEvent(\"onResize\", webix.bind(this._rsResizeHandler, this));\r\n\r\n\t\twebix.html.addCss(document.body,\"webix_noselect\",1);\r\n\t},\r\n\t_getResizeDir: function(){\r\n\t\treturn this.getParentView()._vertical_orientation?\"y\":\"x\";\r\n\t},\r\n\t_rsResizeHandler:function(){\r\n\t\tvar cells,config,cDiff,diff,dir,i,limits,limitSizes,sizes,totalSize;\r\n\t\tif(this._rs_progress){\r\n\t\t\tcells = this._getResizerCells();\r\n\t\t\tdir = this._rs_progress[0];\r\n\t\t\t/*vector distance between resizer and stick*/\r\n\t\t\tdiff = this._resizeStick._last_result -this._rs_progress[2];\r\n\t\t\t/*new sizes for the resized cells, taking into account the stick position*/\r\n\t\t\tsizes = this._rsGetDiffCellSizes(cells,dir,diff);\r\n\t\t\t/*sum of cells dimensions*/\r\n\t\t\ttotalSize = cells[0][\"$\"+this._resizer_dim]+cells[1][\"$\"+this._resizer_dim];\r\n\t\t\t/*max and min limits if they're set*/\r\n\t\t\tlimits = (dir==\"y\"?[\"minHeight\",\"maxHeight\"]:[\"minWidth\",\"maxWidth\"]);\r\n\t\t\tfor(i=0;i<2;i++){\r\n\t\t\t\tconfig = cells[i]._settings;\r\n\t\t\t\tcDiff = (i?-diff:diff);/*if cDiff is positive, the size of i cell is increased*/\r\n\t\t\t\t/*if size is bigger than max limit or size is smaller than min limit*/\r\n\t\t\t\tvar min = config[limits[0]];\r\n\t\t\t\tvar max = config[limits[1]];\r\n\r\n\t\t\t\tif(cDiff>0&&max&&max<=sizes[i] || cDiff<0&&(min||3)>=sizes[i]){\r\n\t\t\t\t\tthis._rsLimit[i] = (cDiff>0?max:(min||3));\r\n\t\t\t\t\t/*new sizes, taking into account max and min limits*/\r\n\t\t\t\t\tlimitSizes = this._rsGetLimitCellSizes(cells,dir);\r\n\t\t\t\t\t/*stick position*/\r\n\t\t\t\t\tthis._resizeStick._dragobj.style[(dir==\"y\"?\"top\":\"left\")] = this._rs_progress[3] + limitSizes[0]+\"px\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}else if(sizes[i]<3){/*cells size can not be less than 1*/\r\n\t\t\t\t\tthis._resizeStick._dragobj.style[(dir==\"y\"?\"top\":\"left\")] = this._rs_progress[3] + i*totalSize+1+\"px\";\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis._rsLimit[i] = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_getResizerCells:function(){\r\n\t\tvar cells,i;\r\n\t\tcells = this.getParentView()._cells;\r\n\t\tfor(i=0; i< cells.length;i++){\r\n\t\t\tif(cells[i]==this){\r\n\t\t\t\tif (!cells[i-1] || cells[i-1]._settings.$noresize) return null;\r\n\t\t\t\tif (!cells[i+1] || cells[i+1]._settings.$noresize) return null;\r\n\t\t\t\treturn [cells[i-1],cells[i+1]];\r\n\t\t\t}\r\n\t\t}\r\n\t },\r\n\t_rsEnd:function(result){\r\n\t\tif (typeof result == \"undefined\") return;\r\n\r\n\t\tvar cells,dir,diff,i,size;\r\n\t\tvar vertical = this.getParentView()._vertical_orientation;\r\n\t\tthis._resizerStick = null;\r\n\t\tif (this._rs_progress){\r\n\t\t\tdir = this._rs_progress[0];\r\n\t\t\tdiff = result-this._rs_progress[2];\r\n\t\t\tcells = this._getResizerCells();\r\n\t\t\tif(cells[0]&&cells[1]){\r\n\t\t\t\t/*new cell sizes*/\r\n\t\t\t\tsize = this._rsGetCellSizes(cells,dir,diff);\r\n\r\n\t\t\t\tfor (var i=0; i<2; i++){\r\n\t\t\t\t\t//cell has not fixed size, of fully fixed layout\r\n\t\t\t\t\tvar cell_size = cells[i].$getSize(0,0);\r\n\t\t\t\t\tif (vertical?(cell_size[2] == cell_size[3]):(Math.abs(cell_size[1]-cell_size[0])<3)){\r\n\t\t\t\t\t\t/*set fixed sizes for both cells*/\r\n\t\t\t\t\t\tcells[i]._settings[this._resizer_dim]=size[i];\r\n\t\t\t\t\t\tif (cells[i]._bubble_size)\r\n\t\t\t\t\t\t\tcells[i]._bubble_size(this._resizer_dim, size[i], vertical);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar actualSize = cells[i].$view[vertical?\"offsetHeight\":\"offsetWidth\"];//cells[i][\"$\"+this._resizer_dim];\r\n\t\t\t\t\t\tcells[i]._settings.gravity = size[i]/actualSize*cells[i]._settings.gravity;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcells[0].resize();\r\n\r\n\t\t\t\tfor (var i = 0; i < 2; i++){\r\n\t\t\t\t\tif (cells[i].callEvent)\r\n\t\t\t\t\t\tcells[i].callEvent(\"onViewResize\",[]);\r\n\t\t\t\t\tcells[i].$view.removeAttribute(\"aria-dropeffect\");\r\n\t\t\t\t}\r\n\t\t\t\twebix.callEvent(\"onLayoutResize\", [cells]);\r\n\t\t\t}\r\n\t\t\tthis._rs_progress = false;\r\n\t\t}\r\n\t\tthis._rs_progress = false;\r\n\t\tthis._rs_started = false;\r\n\t\tthis._rsLimit = null;\r\n\t\twebix.html.removeCss(document.body,\"webix_noselect\");\r\n\r\n\t\tthis._viewobj.setAttribute(\"aria-grabbed\", \"false\");\r\n\t\tthis._viewobj.removeAttribute(\"aria-dropeffect\");\r\n\t},\r\n\t_rsGetLimitCellSizes: function(cells){\r\n\t\tvar size1,size2,totalSize;\r\n\t\ttotalSize = cells[0][\"$\"+this._resizer_dim]+cells[1][\"$\"+this._resizer_dim];\r\n\t\tif(this._rsLimit[0]){\r\n\t\t\tsize1 = this._rsLimit[0];\r\n\t\t\tsize2 = totalSize-size1;\r\n\t\t}\r\n\t\telse if(this._rsLimit[1]){\r\n\t\t\tsize2 = this._rsLimit[1];\r\n\t\t\tsize1 = totalSize-size2;\r\n\t\t}\r\n\t\treturn [size1,size2];\r\n\t},\r\n\t_rsGetDiffCellSizes:function(cells,dir,diff){\r\n\t\tvar sizes =[];\r\n\t\tvar styleDim = this._resizer_dim==\"height\"?\"offsetHeight\":\"offsetWidth\";\r\n\t\tfor(var i=0;i<2;i++)\r\n\t\t\tsizes[i] = cells[i].$view[styleDim]+(i?-1:1)*diff;\r\n\t\treturn sizes;\r\n\t},\r\n\t_rsGetCellSizes:function(cells,dir,diff){\r\n\t\tvar i,sizes,totalSize;\r\n\t\t/*if max or min dimentsions are set*/\r\n\t\tif(this._rsLimit[0]||this._rsLimit[1]){\r\n\t\t\tsizes = this._rsGetLimitCellSizes(cells,dir);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tsizes = this._rsGetDiffCellSizes(cells,dir,diff);\r\n\t\t\tfor(i =0; i<2;i++ ){\r\n\t\t\t\t/*if stick moving is stopped outsize cells borders*/\r\n\t\t\t\tif(sizes[i]<0){\r\n\t\t\t\t\ttotalSize = sizes[0]+sizes[1];\r\n\t\t\t\t\tsizes[i] =1;\r\n\t\t\t\t\tsizes[1-i] = totalSize-1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn sizes;\r\n\t}\r\n}, webix.MouseEvents, webix.ui.view);\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"multiview\",\r\n\tdefaults:{\r\n\t\tanimate:{\r\n\t\t}\r\n\t},\r\n\tsetValue:function(val){\r\n\t\twebix.$$(val).show();\r\n\t},\r\n\tgetValue:function(){\r\n\t\treturn this.getActiveId();\r\n\t},\r\n\t$init:function(){\r\n\t\tthis._active_cell = 0;\r\n\t\tthis._vertical_orientation = 1;\r\n\t\tthis._viewobj.style.position = \"relative\";\r\n\t\tthis._viewobj.className += \" webix_multiview\";\r\n\t\tthis._back_queue = [];\r\n\t},\r\n\t_ask_render:function(cell_id, view_id){\r\n\t\tvar cell = webix.$$(cell_id);\r\n\t\tif (!cell._render_hash){\r\n\t\t\tcell._render_queue = [];\r\n\t\t\tcell._render_hash = {};\t\t\t\r\n\t\t}\r\n\t\tif (!cell._render_hash[view_id]){\r\n\t\t\tcell._render_hash[view_id]=true;\r\n\t\t\tcell._render_queue.push(view_id);\r\n\t\t}\r\n\t},\r\n\t_render_activation:function(cell_id){ \r\n\t\tvar cell = webix.$$(cell_id);\r\n\t\tif(this._settings.keepViews)\r\n\t\t\tcell._viewobj.style.display = \"\";\r\n\t\t/*back array*/\r\n\t\tif(this._back_queue[this._back_queue.length-2]!=cell_id){\r\n\t\t\tif(this._back_queue.length==10)\r\n\t\t\t\tthis._back_queue.splice(0,1);\r\n\t\t\tthis._back_queue.push(cell_id);\r\n\t\t}\r\n\t\telse \r\n\t\t\tthis._back_queue.splice(this._back_queue.length-1,1);\t\r\n\t\t\r\n\t\tif (cell._render_hash){\r\n\t\t\tfor (var i=0; i < cell._render_queue.length; i++)\r\n\t\t\t\twebix.$$(cell._render_queue[i]).render();\r\n\t\t\t\t\r\n\t\t\tcell._render_queue = [];\r\n\t\t\tcell._render_hash = {};\t\t\t\r\n\t\t}\r\n\t},\r\n\taddView:function(){\r\n\t\tvar id = webix.ui.baselayout.prototype.addView.apply(this, arguments);\r\n\t\tif(this._settings.keepViews)\r\n\t\t\twebix.$$(id)._viewobj.style.display = \"none\";\r\n\t\telse\r\n\t\t\twebix.html.remove(webix.$$(id)._viewobj);\r\n\t\treturn id;\r\n\t},\r\n\t_beforeRemoveView:function(index, view){\r\n\t\t//removing current view\r\n\t\tif (index == this._active_cell){\r\n\t\t\tvar next = Math.max(index-1, 0);\r\n\t\t\tif (this._cells[next]){\r\n\t\t\t\tthis._in_animation = false;\r\n\t\t\t\tthis._show(this._cells[next], false);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (index < this._active_cell)\r\n\t\t\tthis._active_cell--;\r\n\t},\r\n\t//necessary, as we want to ignore hide calls for elements in multiview\r\n\t_hide:function(){},\r\n\t_parse_cells:function(collection){\r\n\t\tcollection = collection || this._collection; \r\n\r\n\t\tfor (var i=0; i < collection.length; i++)\r\n\t\t\tcollection[i]._inner = this._settings.borderless?{top:1, left:1, right:1, bottom:1}:(this._settings._inner||{});\r\n\t\t\t\r\n\t\twebix.ui.baselayout.prototype._parse_cells.call(this, collection);\r\n\t\t\r\n\t\tfor (var i=1; i < this._cells.length; i++){\r\n\t\t\tif(this._settings.keepViews)\r\n\t\t\t\tthis._cells[i]._viewobj.style.display = \"none\";\r\n\t\t\telse\r\n\t\t\t\twebix.html.remove(this._cells[i]._viewobj);\r\n\t\t}\r\n\r\n\t\t\t\r\n\t\tfor (var i=0; i<collection.length; i++){\r\n\t\t\tvar cell = this._cells[i];\r\n\t\t\tif (cell._cells && !cell._render_borders) continue; \r\n\t\t\t\r\n\t\t\tvar _inner = cell._settings._inner;\r\n\t\t\tif (_inner.top) \r\n\t\t\t\tcell._viewobj.style.borderTopWidth=\"0px\";\r\n\t\t\tif (_inner.left) \r\n\t\t\t\tcell._viewobj.style.borderLeftWidth=\"0px\";\r\n\t\t\tif (_inner.right) \r\n\t\t\t\tcell._viewobj.style.borderRightWidth=\"0px\";\r\n\t\t\tif (_inner.bottom) \r\n\t\t\t\tcell._viewobj.style.borderBottomWidth=\"0px\";\r\n\r\n\t\t\tcell._viewobj.setAttribute(\"role\", \"tabpanel\");\r\n\t\t}\r\n\t\tthis._render_activation(this.getActiveId());\r\n\t},\r\n\tcells_setter:function(value){\r\n\t\twebix.assert(value && value.length,\"Multiview must have at least one view in 'cells'\");\r\n\t\tthis._collection = value;\r\n\t},\r\n\t_getDirection:function(next, active){\r\n\t\tvar dir = (this._settings.animate || {}).direction;\r\n\t\tvar vx = (dir == \"top\" || dir == \"bottom\");\r\n\t\treturn \t next < active ? (vx?\"bottom\":\"right\"):(vx?\"top\":\"left\");\r\n\t},\r\n\t_show:function(obj, animation_options){\r\n\r\n\t\tvar parent = this.getParentView();\r\n\t\tif (parent && parent.getTabbar)\r\n\t\t\tparent.getTabbar().setValue(obj._settings.$id || obj._settings.id);\r\n\r\n\t\t if (this._in_animation)\r\n\t\t\treturn webix.delay(this._show, this,[obj, animation_options],100);\r\n\r\n\t\tvar _next_cell = -1;\r\n\t\tfor (var i=0; i < this._cells.length; i++)\r\n\t\t\tif (this._cells[i]==obj){\r\n\t\t\t\t_next_cell = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\tif (_next_cell < 0 || _next_cell == this._active_cell)\r\n\t\t\treturn;\r\n\r\n\r\n\t\tvar prev = this._cells[this._active_cell];\r\n\t\tvar next = this._cells[ _next_cell ];\r\n\t\tvar size = prev.$getSize(0,0);\r\n\r\n\t\t//need to be moved in animate\r\n\t\tif((animation_options||typeof animation_options==\"undefined\")&&webix.animate.isSupported() && this._settings.animate) {\r\n\t\t\tvar aniset = webix.extend({}, this._settings.animate);\r\n\t\t\tif(this._settings.keepViews)\r\n\t\t\t\taniset.keepViews = true;\r\n        \taniset.direction = this._getDirection(_next_cell,this._active_cell);\r\n        \taniset = webix.Settings._mergeSettings(animation_options||{}, aniset);\r\n\r\n\t\t\tvar line = webix.animate.formLine(\r\n\t\t\t\tnext._viewobj,\r\n                prev._viewobj,\r\n\t\t\t\taniset);\r\n\t\t\tnext.$getSize(0,0);\r\n\t\t\tnext.$setSize(this._content_width,this._content_height);\r\n\r\n\t\t\tvar callback_original = aniset.callback;\r\n\t\t\taniset.callback = function(){\r\n\t\t\t\twebix.animate.breakLine(line,this._settings.keepViews);\r\n\t\t\t\tthis._in_animation = false;\r\n\t\t\t\tif (callback_original) callback_original.call(this);\r\n\t\t\t\tcallback_original = aniset.master = aniset.callback = null;\r\n\t\t\t\tthis.resize();\r\n\t\t\t};\r\n\t\t\taniset.master = this;\r\n\r\n\t\t\tthis._active_cell = _next_cell;\r\n\t\t\tthis._render_activation(this.getActiveId());\r\n\r\n\t\t\twebix.animate(line, aniset);\r\n\t\t\tthis._in_animation = true;\r\n\t\t}\r\n\t\telse { // browsers which don't support transform and transition\r\n\t\t\tif(this._settings.keepViews){\r\n\t\t\t\tprev._viewobj.style.display = \"none\";\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\twebix.html.remove(prev._viewobj);\r\n\t\t\t\tthis._viewobj.appendChild(this._cells[i]._viewobj);\r\n\t\t\t}\r\n\r\n\t\t\tthis._active_cell = _next_cell;\r\n\r\n\t\t\tprev.resize();\r\n\t\t\tthis._render_activation(this.getActiveId());\r\n\t\t}\r\n\r\n\t\tif (next.callEvent){\r\n\t\t\tnext.callEvent(\"onViewShow\",[]);\r\n\t\t\twebix.ui.each(next, this._signal_hidden_cells);\r\n\t\t}\r\n\r\n\t\tthis.callEvent(\"onViewChange\",[prev._settings.id, next._settings.id]);\r\n\t\t\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\twebix.debug_size_box_start(this, true);\r\n\t\tvar size = this._cells[this._active_cell].$getSize(0, 0);\r\n\t\tif (this._settings.fitBiggest){\r\n\t\t\tfor (var i=0; i<this._cells.length; i++)\r\n\t\t\t\tif (i != this._active_cell){\r\n\t\t\t\t\tvar other = this._cells[i].$getSize(0, 0);\r\n\t\t\t\t\tfor (var j = 0; j < 4; j++)\r\n\t\t\t\t\t\tsize[j] = Math.max(size[j], other[j]);\r\n\t\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t//get layout sizes\r\n\t\tvar self_size = webix.ui.baseview.prototype.$getSize.call(this, 0, 0);\r\n\t\t//use child settings if layout's one was not defined\r\n\t\tif (self_size[1] >= 100000) self_size[1]=0;\r\n\t\tif (self_size[3] >= 100000) self_size[3]=0;\r\n\r\n\t\tself_size[0] = (self_size[0] || size[0] ) +dx;\r\n\t\tself_size[1] = (self_size[1] || size[1] ) +dx;\r\n\t\tself_size[2] = (self_size[2] || size[2] ) +dy;\r\n\t\tself_size[3] = (self_size[3] || size[3] ) +dy;\r\n\t\t\r\n\t\twebix.debug_size_box_end(this, self_size);\r\n\t\t\r\n\t\treturn self_size;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tthis._layout_sizes = [x,y];\r\n\t\twebix.ui.baseview.prototype.$setSize.call(this,x,y);\r\n\t\tthis._cells[this._active_cell].$setSize(x,y);\r\n\t},\r\n\tisVisible:function(base_id, cell_id){\r\n\t\tif (cell_id && cell_id != this.getActiveId()){\r\n\t\t\tif (base_id)\r\n\t\t\t\tthis._ask_render(cell_id, base_id);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn webix.ui.view.prototype.isVisible.call(this, base_id, this._settings.id);\r\n\t},\r\n\tgetActiveId:function(){\r\n\t\treturn this._cells.length?this._cells[this._active_cell]._settings.id:null;\r\n\t},\r\n\tback:function(step){\t\t\r\n\t\tstep=step||1;\r\n\t\tif(this.callEvent(\"onBeforeBack\",[this.getActiveId(), step])){\r\n\t\t\tif(this._back_queue.length>step){\r\n\t\t\t\tvar viewId = this._back_queue[this._back_queue.length-step-1];\r\n\t\t\t\twebix.$$(viewId).show();\r\n\t\t\t\treturn viewId;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn null;\r\n\r\n\t}\r\n},webix.ui.baselayout);\r\n\r\n\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"form\",\r\n\tdefaults:{\r\n\t\ttype:\"form\",\r\n\t\tautoheight:true\r\n\t},\r\n\t_default_height:-1,\r\n\t_form_classname:\"webix_form\",\r\n\t_form_vertical:true,\r\n\t$init:function(){\r\n\t\tthis._viewobj.setAttribute(\"role\", \"form\");\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tif (this._scroll_y && !this._settings.width) dx += webix.ui.scrollSize;\r\n\r\n\t\tvar sizes = webix.ui.layout.prototype.$getSize.call(this, dx, dy);\r\n\r\n\t\tif (this._settings.scroll || !this._settings.autoheight){\r\n\t\t\tsizes[2] =  this._settings.height || this._settings.minHeight || 0;\r\n\t\t\tsizes[3] += 100000;\r\n\t\t}\r\n\t\t\r\n\t\treturn sizes;\r\n\t}\r\n}, webix.ui.toolbar);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"menu\",\r\n\t_listClassName:\"webix_menu\",\r\n\t$init:function(config){\r\n\t\tif (config.autowidth){\r\n\t\t\tthis._autowidth_submenu = true;\r\n\t\t\tdelete config.autowidth;\r\n\t\t}\r\n\r\n\t\tthis.data.attachEvent('onStoreUpdated', webix.bind(function(){\r\n\t\t\tthis._hide_sub_menu();\r\n\t\t},this));\r\n\t\tthis.attachEvent('onMouseMove', this._mouse_move_menu);\r\n\t\tthis.attachEvent('onMouseOut',function(){\r\n\t\t\tif (this._menu_was_activated() && this._settings.openAction == \"click\") return;\r\n\t\t\tif (!this._child_menu_active)\r\n\t\t\t\tthis._hide_sub_menu();\r\n\t\t});\r\n\t\tthis.attachEvent('onItemClick', function(id, e, trg){\r\n\t\t\tvar item = this.getItem(id);\r\n\t\t\tif (item){\r\n\t\t\t\tif (item.$template) return;\r\n\r\n\t\t\t\tvar parent = this.getTopMenu();\r\n\r\n\t\t\t\t//ignore disabled items\r\n\t\t\t\tif (!this.data.getMark(id, \"webix_disabled\")){\r\n\t\t\t\t\tif (!parent.callEvent(\"onMenuItemClick\", [id, e, trg])){\r\n\t\t\t\t\t\te.showpopup = true;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (this != parent)\r\n\t\t\t\t\t\tparent._call_onclick(id,e,trg);\r\n\r\n\t\t\t\t\t//click on group - do not close submenus\r\n\t\t\t\t\tif (!item.submenu){\r\n\t\t\t\t\t\tparent._hide_sub_menu(true);\r\n\t\t\t\t\t\tif (parent._hide_on_item_click)\r\n\t\t\t\t\t\t\tparent.hide();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif ((this === parent || webix.env.touch ) && parent._settings.openAction == \"click\"){\r\n\t\t\t\t\t\t\tthis._mouse_move_activation(id, trg);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t//do not close popups when clicking on menu folder\r\n\t\t\t\t\t\te.showpopup = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.attachEvent(\"onKeyPress\", function(code, e){\r\n\t\t\tif(code === 9) this.getTopMenu()._hide_sub_menu();\r\n\t\t\telse if(code === 13 || code === 32){\r\n\t\t\t\tvar sel = this.getSelectedId(), node;\r\n\t\t\t\tif(sel)\r\n\t\t\t\t\tnode = this.getItemNode(sel);\r\n\t\t\t\tif(node)\r\n\t\t\t\t\twebix.html.triggerEvent(node, \"MouseEvents\", \"click\");\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\tthis.data.attachEvent(\"onClearAll\", function(){\r\n\t\t\tthis._hidden_items = [];\r\n\t\t});\r\n\t\tthis.data._hidden_items = [];\r\n\r\n\t\tthis._viewobj.setAttribute(\"role\", \"menubar\");\r\n\t},\r\n\tsizeToContent:function(){\r\n\t\tif (this._settings.layout == \"y\"){\r\n\t\t\tvar texts = [];\r\n\t\t\tvar isSubmenu = false;\r\n\t\t\tthis.data.each(function(obj){\r\n\t\t\t\ttexts.push(this._toHTML(obj));\r\n\t\t\t\tif(obj.submenu)\r\n\t\t\t\t\tisSubmenu = true;\r\n\t\t\t}, this);\r\n\t\t\t// text width + padding + borders+ arrow\r\n\t\t\tthis.config.width = webix.html.getTextSize(texts, this.$view.className).width+8*2+2+(isSubmenu?15:0);\r\n\t\t\tthis.resize();\r\n\t\t} else webix.assert(false, \"sizeToContent will work for vertical menu only\");\r\n\t},\r\n\tgetTopMenu:function(){\r\n\t\tvar parent = this;\r\n\t\twhile (parent._parent_menu)\r\n\t\t\tparent = webix.$$(parent._parent_menu);\r\n\t\treturn parent;\r\n\t},\r\n\t_auto_height_calc:function(count){\r\n\t\tif (this._settings.autoheight) count = this.count();\r\n\r\n\t\tvar height = 0;\r\n\t\tfor (var i=0; i<count; i++){\r\n\t\t\tvar item = this.data.pull[this.data.order[i]];\r\n\t\t\tif (item && item.$template == \"Separator\")\r\n\t\t\t\theight+=4;\r\n\t\t\telse\r\n\t\t\t\theight+=this.type.height;\r\n\t\t}\r\n\t\treturn height;\r\n\t},\r\n\ton_mouse_move:{},\r\n\ttype:{\r\n\t\tcss:\"menu\",\r\n\t\twidth:\"auto\",\r\n\t\taria:function(obj, common, marks){\r\n\t\t\treturn 'role=\"menuitem\"'+(marks && marks.webix_selected?' aria-selected=\"true\" tabindex=\"0\"':'tabindex=\"-1\"')+(obj.submenu?'aria-haspopup=\"true\"':'')+(marks && marks.webix_disabled?' aria-disabled=\"true\"':'');\r\n\t\t},\r\n\t\ttemplateStart:function(obj, common, mark){\r\n\t\t\tif (obj.$template === \"Separator\" || obj.$template === \"Spacer\"){\r\n\t\t\t\treturn '<div webix_l_id=\"#id#\" role=\"separator\" tabindex=\"-1\" class=\"webix_context_'+obj.$template.toLowerCase()+'\">';\r\n\t\t\t}\r\n\t\t\tvar link = (obj.href?\" href='\"+obj.href+\"' \":\"\")+(obj.target?\" target='\"+obj.target+\"' \":\"\");\r\n\t\t\treturn webix.ui.list.prototype.type.templateStart(obj,common,mark).replace(/^<div/,\"<a \"+link)+((obj.submenu && common.subsign)?\"<div class='webix_submenu_icon'></div>\":\"\");\r\n\t\t},\r\n\t\ttemplateEnd: function(obj, common, mark){\r\n\t\t\treturn (obj.$template === \"Separator\" || obj.$template === \"Spacer\")?\"</div>\":\"</a>\";\r\n\t\t},\r\n\t\ttemplateSeparator:webix.template(\"<div class='sep_line'></div>\"),\r\n\t\ttemplateSpacer:webix.template(\"<div></div>\")\r\n\t},\r\n\tgetMenu: function(id){\r\n\t\tif (!this.data.pull[id]){\r\n\t\t\tfor (var subid in this.data.pull){\r\n\t\t\t\tvar obj = this.getItem(subid);\r\n\t\t\t\tif (obj.submenu){\r\n\t\t\t\t\tvar search = this._get_submenu(obj).getMenu(id);\r\n\t\t\t\t\tif (search) return search;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else return this;\r\n\t},\r\n\tgetSubMenu:function(id){\r\n\t\tvar menu = this.getMenu(id);\r\n\t\tvar obj = menu.getItem(id);\r\n\t\treturn (obj.submenu?menu._get_submenu(obj):null);\r\n\t},\r\n\tgetMenuItem:function(id){\r\n\t\treturn this.getMenu(id).getItem(id);\r\n\t},\r\n\t_get_submenu:function(data){\r\n\t\tvar sub  = webix.$$(data.submenu);\r\n\t\tif (!sub){\r\n\t\t\tdata.submenu = this._create_sub_menu(data);\r\n\t\t\tsub = webix.$$(data.submenu);\r\n\t\t}\r\n\t\treturn sub;\r\n\t},\r\n\t_mouse_move_menu:function(id, e, target){\r\n\t\tif (!this._menu_was_activated())\r\n\t\t\treturn;\r\n\r\n\t\tthis._mouse_move_activation(id, target);\r\n\t},\r\n\t_menu_was_activated:function(){\r\n\t\tvar top = this.getTopMenu();\r\n\t\tif (top._settings.openAction == \"click\"){\r\n\t\t\tif (webix.env.touch) return false;\r\n\t\t\tvar sub = top._open_sub_menu;\r\n\t\t\tif (sub && webix.$$(sub).isVisible())\r\n\t\t\t\treturn true;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\t_mouse_move_activation:function(id, target){\r\n\t\tvar data = this.getItem(id);\r\n\t\tif (!data) return;\r\n\t\t\r\n\t\t//clear flag of submenu usage\r\n\t\tthis._child_menu_active = null;\r\n\r\n\t\t//hide previously opened sub-menu\r\n\t\tif (this._open_sub_menu && data.submenu != this._open_sub_menu)\r\n\t\t\tthis._hide_sub_menu(true);\r\n\t\t\t\r\n\t\t//show submenu\r\n\t\tif (data.submenu&&!this.config.hidden){\r\n\r\n\t\t\tvar sub  = this._get_submenu(data);\r\n\t\t\tif(this.data.getMark(id,\"webix_disabled\"))\r\n\t\t\t\treturn;\r\n\t\t\tsub.show(target,{ pos:this._settings.subMenuPos });\r\n\r\n\t\t\tsub._parent_menu = this._settings.id;\r\n\r\n\t\t\tthis._open_sub_menu = data.submenu;\r\n\t\t}\r\n\t},\r\n\tdisableItem:function(id){\r\n\t\tthis.getMenu(id).addCss(id, \"webix_disabled\");\r\n\t},\r\n\tenableItem:function(id){\r\n\t\tthis.getMenu(id).removeCss(id, \"webix_disabled\");\r\n\t},\r\n\t_set_item_hidden:function(id, state){\r\n\t\tvar menu = this.data;\r\n\t\tif (menu._hidden_items[id] != state){\r\n\t\t\tmenu._hidden_items[id] = state;\r\n\t\t\tmenu.filter(function(obj){\r\n\t\t\t\treturn !menu._hidden_items[obj.id];\r\n\t\t\t});\r\n\t\t\tthis.resize();\t\t\r\n\t\t}\r\n\t},\r\n\thideItem:function(id){\r\n\t\tvar menu = this.getMenu(id);\r\n\t\tif (menu) menu._set_item_hidden(id, true);\r\n\t},\r\n\tshowItem:function(id){\r\n\t\tvar menu = this.getMenu(id);\r\n\t\tif (menu){\r\n\t\t\tmenu._set_item_hidden(id, false);\r\n\t\t\treturn webix.ui.list.prototype.showItem.call(menu, id);\r\n\t\t}\r\n\t},\r\n\t_hide_sub_menu : function(mode){\r\n\t\tif (this._open_sub_menu){\r\n\t\t\t//recursive sub-closing\r\n\t\t\tvar sub = webix.$$(this._open_sub_menu);\r\n\t\t\tif (sub._hide_sub_menu)\t//custom context may not have submenu\r\n\t\t\t\tsub._hide_sub_menu(mode);\r\n\t\t\tif (mode || !sub._show_on_mouse_out){\r\n\t\t\t\tsub.hide();\r\n\t\t\t\tthis._open_sub_menu = null;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_create_sub_menu : function(data){\r\n\t\tvar listConfig = {\r\n\t\t\tview:\"submenu\",\r\n\t\t\tdata:data.submenu\r\n\t\t};\r\n\r\n\t\tvar settings = this.getTopMenu()._settings.submenuConfig;\r\n\t\tif (settings)\r\n\t\t\twebix.extend(listConfig, settings, true);\r\n\r\n\t\tvar parentData = this.getMenuItem(data.id);\r\n\t\tif(parentData && parentData.config)\r\n\t\t\twebix.extend(listConfig, parentData.config, true);\r\n\r\n\t\tvar menu = webix.ui(listConfig);\r\n\t\tmenu._parent_menu = this;\r\n\t\treturn menu._settings.id;\r\n\t},\r\n\t_skip_item:function(id, prev, mode){\r\n\t\tvar item = this.getItem(id);\r\n\t\tif(item.$template == \"Separator\" || item.$template == \"Spacer\" || this.data.getMark(id, \"webix_disabled\")){\r\n            var index = this.getIndexById(id)+(mode == \"up\"?-1:1);\r\n            id = (index>=0)?this.getIdByIndex(index):null;\r\n            return id? this._skip_item(id, prev, mode) : prev;\r\n        }\r\n        else\r\n\t\t\treturn id;\r\n\t},\r\n\t$skin:function(){\r\n\t\twebix.ui.list.prototype.$skin.call(this);\r\n\t\tthis.type.height = webix.skin.$active.menuHeight;\r\n\t},\r\n\tdefaults:{\r\n\t\tscroll:\"\",\r\n\t\tlayout:\"x\",\r\n\t\tmouseEventDelay:100,\r\n\t\tsubMenuPos:\"bottom\"\r\n\t}\r\n}, webix.ui.list);\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"submenu\",\r\n\t$init:function(){\r\n\t\tthis._body_cell = webix.clone(this._dummy_cell_interface);\r\n\t\tthis._body_cell._view = this;\r\n\r\n\t\tthis.attachEvent('onMouseOut',function(){\r\n\t\t\tif (this.getTopMenu()._settings.openAction == \"click\") \r\n\t\t\t\treturn;\r\n\t\t\tif (!this._child_menu_active && !this._show_on_mouse_out)\r\n\t\t\t\tthis.hide();\r\n\t\t});\r\n\r\n\t\t//inform parent that focus is still in menu\r\n\t\tthis.attachEvent('onMouseMoving',function(){\r\n\t\t\tif (this._parent_menu)\r\n\t\t\t\twebix.$$(this._parent_menu)._child_menu_active = true;\r\n\t\t});\r\n\t\tthis.attachEvent(\"onBeforeShow\", function(){\r\n\t\t\tif (this.getTopMenu()._autowidth_submenu && this.sizeToContent && !this.isVisible())\r\n\t\t\t\tthis.sizeToContent();\r\n\t\t});\r\n\r\n\t\tthis._dataobj.setAttribute(\"role\", \"menu\");\r\n\t},\r\n\t$skin:function(){\r\n\t\twebix.ui.menu.prototype.$skin.call(this);\r\n\t\twebix.ui.popup.prototype.$skin.call(this);\r\n\r\n\t\tthis.type.height = webix.skin.$active.menuHeight;\r\n\t},\r\n\t_dummy_cell_interface : {\r\n\t\t$getSize:function(dx, dy){\r\n\t\t\t//we saving height and width, as list can hardcode new values\r\n\t\t\tvar h = this._view._settings.height*1;\r\n\t\t\tvar w = this._view._settings.width*1;\r\n\t\t\tvar size = webix.ui.menu.prototype.$getSize.call(this._view, dx, dy);\r\n\t\t\t//restoring\r\n\t\t\tthis._view._settings.height = h;\r\n\t\t\tthis._view._settings.width = w;\r\n\t\t\treturn size;\r\n\t\t},\r\n\t\t$setSize:function(x,y){\r\n\t\t\tif (this._view._settings.scroll)\r\n\t\t\t\tthis._view._bodyobj.style.height = y+\"px\";\r\n\t\t},\r\n\t\tdestructor:function(){ this._view = null; }\r\n\t},\r\n\t//ignore body element\r\n\tbody_setter:function(){\r\n\t},\r\n\tgetChildViews:function(){ return []; },\r\n\tdefaults:{\r\n\t\twidth:150,\r\n\t\tsubMenuPos:\"right\",\r\n\t\tlayout:\"y\",\r\n\t\tautoheight:true\r\n\t},\r\n\ttype:{\r\n\t\theight: webix.skin.menuHeight,\r\n\t\tsubsign:true\r\n\t}\r\n}, webix.ui.menu, webix.ui.popup);\r\n\r\n\r\n\r\n\r\nwebix.ContextHelper = {\r\n\tdefaults:{\r\n\t\tpadding:\"4\",\r\n\t\thidden:true\r\n\t},\r\n\tbody_setter:function(value){\r\n\t\tvalue = webix.ui.window.prototype.body_setter.call(this, value);\r\n\t\tthis._body_cell._viewobj.style.borderWidth = \"0px\";\r\n\t\treturn value;\r\n\t},\r\n\tattachTo:function(obj){\r\n\t\twebix.assert(obj, \"Invalid target for Context::attach\");\r\n\t\tvar id;\r\n\t\tif (obj.on_context)\r\n\t\t\tid = obj.attachEvent(\"onAfterContextMenu\", webix.bind(this._show_at_ui, this));\r\n\t\telse \r\n\t\t\tid = webix.event(obj, \"contextmenu\", this._show_at_node, {bind:this});\r\n\r\n\t\tthis.attachEvent(\"onDestruct\", function(){\r\n\t\t\tif (obj.detachEvent)\r\n\t\t\t\tobj.detachEvent(id);\r\n\t\t\telse\r\n\t\t\t\twebix.eventRemove(id);\r\n\t\t\tobj = null;\t\t\t\r\n\t\t});\r\n\t},\r\n\tgetContext:function(){\r\n\t\treturn this._area;\r\n\t},\r\n\tsetContext:function(area){\r\n\t\tthis._area = area;\r\n\t},\r\n\t_show_at_node:function(e){\r\n\t\tthis._area = webix.toNode(e||event);\r\n\t\treturn this._show_at(e);\r\n\t},\r\n\t_show_at_ui:function(id, e, trg){\r\n\t\tthis._area = { obj:webix.$$(e), id:id };\r\n\t\treturn this._show_at(e);\r\n\t},\r\n\t_show_at:function(e){\r\n\t\tvar result = this.show(e, null, true);\r\n\t\tif (result === false) return result;\r\n\r\n\t\t//event forced to close other popups|context menus\r\n\t\twebix.callEvent(\"onClick\", []);\t\t\r\n\t\treturn webix.html.preventEvent(e);\r\n\t},\r\n\t_show_on_mouse_out:true,\r\n\tmaster_setter:function(value){\r\n\t\tthis.attachTo(value);\r\n\t\treturn null;\r\n\t}\r\n};\r\nwebix.protoUI({\r\n\tname:\"context\"\r\n}, webix.ContextHelper, webix.ui.popup); \r\n\r\nwebix.protoUI({\r\n\tname:\"contextmenu\",\r\n\t_hide_on_item_click:true,\r\n\t$init: function(config){\r\n\t\tif(config.submenuConfig)\r\n\t\t\twebix.extend(config,config.submenuConfig);\r\n\t}\r\n}, webix.ContextHelper, webix.ui.submenu);\r\n\r\n/*\r\n\r\n*/\r\n\r\nwebix.protoUI({\r\n\tname:\"tabbar\",\r\n\t$init:function(){\r\n\t\tthis.attachEvent(\"onKeyPress\", this._onKeyPress);\r\n\t},\r\n\t$skin:function(){\r\n\t\tvar skin = webix.skin.$active;\r\n\t\tvar defaults = this.defaults;\r\n\r\n\t\tdefaults.topOffset = skin.tabTopOffset||0;\r\n\t\tdefaults.tabOffset = (typeof skin.tabOffset != \"undefined\"?skin.tabOffset:10);\r\n\t\tdefaults.bottomOffset = skin.tabBottomOffset||0;\r\n\t\tdefaults.height = skin.tabbarHeight;\r\n\r\n\t\tdefaults.tabMargin = skin.tabMargin;\r\n\t\tdefaults.inputPadding = skin.inputPadding;\r\n\t\tdefaults.tabMinWidth = skin.tabMinWidth||100;\r\n\t\tdefaults.tabMoreWidth = skin.tabMoreWidth||40;\r\n\t},\r\n\t_getTabbarSizes: function(){\r\n\r\n\t\tvar config = this._settings,\r\n\t\t\ti, len,\r\n\t\t\ttabs = this._tabs||config.options,\r\n\t\t\ttotalWidth = this._input_width - config.tabOffset*2,\r\n\t\t\tlimitWidth = config.optionWidth||config.tabMinWidth;\r\n\r\n\t\tlen = tabs.length;\r\n\r\n\t\tif(config.tabMinWidth && totalWidth/len < limitWidth){\r\n\t\t\treturn { max: (parseInt(totalWidth/limitWidth,10)||1)};\r\n\t\t}\r\n\r\n\r\n\t\tif(!config.optionWidth){\r\n\t\t\tfor(i=0;i< len; i++){\r\n\t\t\t\tif(tabs[i].width){\r\n\t\t\t\t\ttotalWidth -= tabs[i].width+(!i&&!config .type?config.tabMargin:0);\r\n\t\t\t\t\tlen--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {width: (len?totalWidth/len:config.tabMinWidth)};\r\n\t},\r\n\t_init_popup: function(){\r\n\t\tvar obj = this._settings;\r\n\t\tif (!obj.tabbarPopup){\r\n\t\t\tvar popupConfig = {\r\n\t\t\t\tview: \"popup\",\r\n\t\t\t\twidth: (obj.popupWidth||200),\r\n\t\t\t\tbody:{\r\n\t\t\t\t\tview: \"list\",\r\n\t\t\t\t\tborderless: true,\r\n\t\t\t\t\tselect: true,\r\n\t\t\t\t\tcss: \"webix_tab_list\",\r\n\t\t\t\t\tautoheight: true, yCount:obj.yCount,\r\n\t\t\t\t\ttype:{\r\n\t\t\t\t\t\ttemplate: obj.popupTemplate\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar view = webix.ui(popupConfig);\r\n\t\t\tview.getBody().attachEvent(\"onBeforeSelect\",webix.bind(function(id){\r\n\t\t\t\tif (id && this.callEvent(\"onBeforeTabClick\", [id])){\r\n\t\t\t\t\t\tthis.setValue(id);\r\n\t\t\t\t\twebix.$$(this._settings.tabbarPopup).hide();\r\n\t\t\t\t\tthis.callEvent(\"onAfterTabClick\", [id]);\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t},this));\r\n\t\t\tobj.tabbarPopup = view._settings.id;\r\n\t\t\tthis._destroy_with_me.push(view);\r\n\t\t}\r\n\t\tthis._init_popup = function(){};\r\n\t},\r\n\tgetPopup: function(){\r\n\t\tthis._init_popup();\r\n\t\treturn webix.$$(this._settings.tabbarPopup);\r\n\t},\r\n\tmoreTemplate_setter: webix.template,\r\n\tpopupTemplate_setter: webix.template,\r\n\tdefaults:{\r\n\t\tpopupWidth: 200,\r\n\t\tpopupTemplate: \"#value#\",\r\n\t\tyCount: 7,\r\n\t\tmoreTemplate: '<span class=\"webix_icon fa-ellipsis-h\"></span>',\r\n\t\ttemplate:function(obj,common) {\r\n\t\t\tvar contentWidth, html, i, leafWidth, resultHTML, style, sum, tabs, verticalOffset, width;\r\n\r\n\t\t\tcommon._tabs = tabs = common._filterOptions(obj.options);\r\n\r\n\t\t\tif (!tabs.length){\r\n\t\t\t\thtml = \"<div class='webix_tab_filler' style='width:\"+common._input_width+\"px; border-right:0px;'></div>\";\r\n\t\t\t} else {\r\n\t\t\t\tcommon._check_options(tabs);\r\n\t\t\t\tif (!obj.value && tabs.length)\r\n\t\t\t\t\tobj.value = tabs[0].id;\r\n\r\n\t\t\t\thtml = \"\";\r\n\t\t\t\tif (obj.tabOffset)\r\n\t\t\t\t\thtml += \"<div class='webix_tab_filler' style='width:\"+obj.tabOffset+\"px;'>&nbsp;</div>\";\r\n\t\t\t\tcontentWidth = common._input_width - obj.tabOffset*2-(!obj.type?(obj.tabMargin)*(tabs.length-1):0);\r\n\t\t\t\tverticalOffset = obj.topOffset+obj.bottomOffset;\r\n\r\n\t\t\t\tvar sizes = common._getTabbarSizes();\r\n\r\n\t\t\t\tif(sizes.max && sizes.max < tabs.length){\r\n\t\t\t\t\t//we need popup\r\n\t\t\t\t\tvar popup = common.getPopup();\r\n\t\t\t\t\tpopup.hide();\r\n\r\n\t\t\t\t\tvar list = (popup.getBody()||null);\r\n\t\t\t\t\tif(list){\r\n\t\t\t\t\t\tif(sizes.max){\r\n\t\t\t\t\t\t\tvar found = false;\r\n\t\t\t\t\t\t\tfor( i = 0; i < tabs.length && !found; i++)\r\n\t\t\t\t\t\t\t\tif(tabs[i].id== obj.value){\r\n\t\t\t\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t\t\t\t\tif((i+1) > sizes.max){\r\n\t\t\t\t\t\t\t\t\t\tvar selectedTab =  tabs.splice(i, 1);\r\n\t\t\t\t\t\t\t\t\t\tvar displayTabs = tabs.splice(0, sizes.max-1).concat(selectedTab);\r\n\t\t\t\t\t\t\t\t\t\ttabs = displayTabs.concat(tabs);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlist.clearAll();\r\n\t\t\t\t\t\t\tlist.parse(tabs.slice(sizes.max));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tlist.clearAll();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (common._settings.tabbarPopup)\r\n\t\t\t\t\twebix.$$(common._settings.tabbarPopup).hide();\r\n\r\n\t\t\t\tsum = obj.tabOffset;\r\n\t\t\t\tvar lastTab = false;\r\n\t\t\t\tfor(i = 0; (i<tabs.length) && !lastTab; i++) {\r\n\r\n\t\t\t\t\t// tab width\r\n\t\t\t\t\tif(sizes && sizes.max){\r\n\t\t\t\t\t\tif(sizes.max == (i + 1)){\r\n\t\t\t\t\t\t\tlastTab = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcontentWidth = common._input_width - obj.tabOffset*2-(!obj.type&&(sizes.max>1)?(obj.tabMargin)*(sizes.max-1):0);\r\n\t\t\t\t\t\twidth = (contentWidth - obj.tabMoreWidth)/sizes.max ;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\twidth = sizes.width;\r\n\r\n\t\t\t\t\twidth = (tabs[i].width||obj.optionWidth||width);\r\n\r\n\t\t\t\t\tsum += width + (i&&!obj.type?obj.tabMargin:0);\r\n\r\n\t\t\t\t\tif(obj.tabMargin>0&&i&&!obj.type)\r\n\t\t\t\t\t   html += \"<div class='webix_tab_filler' style='width:\"+obj.tabMargin+\"px;'></div>\";\r\n\r\n\t\t\t\t\t// tab innerHTML\r\n\t\t\t\t\thtml += common._getTabHTML(tabs[i],width);\r\n\r\n\r\n\t\t\t\t\tif(lastTab){\r\n\t\t\t\t\t\thtml += '<div role=\"button\" tabindex=\"0\" aria-label=\"'+webix.i18n.aria.showTabs+'\" class=\"webix_tab_more_icon\" style=\"width:'+obj.tabMoreWidth+'px;\">'+obj.moreTemplate(obj,common)+'</div>';\r\n\t\t\t\t\t\tsum += obj.tabMoreWidth;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tleafWidth = common._content_width - sum;\r\n\r\n\t\t\t\tif (leafWidth>0 && !obj.type)\r\n\t\t\t\t\thtml += \"<div class='webix_tab_filler' style='width:\"+leafWidth+\"px;'>&nbsp;</div>\";\r\n\t\t\t}\r\n\r\n\t\t\tresultHTML = \"\";\r\n\r\n\t\t\t// consider top and bottom offset in tabs height (top tabbar)\r\n\t\t\tstyle = (verticalOffset&& !obj.type)?\"height:\"+(common._content_height-verticalOffset)+\"px\":\"\";\r\n\r\n\t\t\t//space above tabs (top tabbar)\r\n\t\t\tif(obj.topOffset && !obj.type)\r\n\t\t\t\tresultHTML += \"<div class='webix_before_all_tabs' style='width:100%;height:\"+obj.topOffset+\"px'></div>\";\r\n\r\n\t\t\t// tabs html\r\n\t\t\tresultHTML +=  \"<div style='\"+style+\"' role='tablist' class='webix_all_tabs \"+(obj.type?(\"webixtype_\"+obj.type):\"\")+\"'>\"+html+\"</div>\";\r\n\r\n\t\t\t//space below to tabs (top tabbar)\r\n\t\t\tif(obj.bottomOffset && !obj.type)\r\n\t\t\t\tresultHTML += \"<div class='webix_after_all_tabs' style='width:100%;height:\"+obj.bottomOffset+\"px'></div>\";\r\n\r\n\t\t\treturn resultHTML;\r\n\t\t}\r\n\t},\r\n\t_getInputNode:function(){\r\n\t\treturn this.$view.getElementsByClassName(\"webix_item_tab\");\r\n\t},\r\n\t_getTabHTML: function(tab,width){\r\n\t\tvar\thtml,\r\n\t\t\tclassName = '',\r\n\t\t\tconfig = this.config;\r\n\r\n\t\tif(tab.id== config.value)\r\n\t\t\tclassName=\" webix_selected\";\r\n\r\n\t\tif (tab.css)\r\n\t\t\tclassName+=\" \"+tab.css;\r\n\r\n\t\twidth = (tab.width||width);\r\n\r\n\t\thtml ='<div class=\"webix_item_tab'+className+'\" button_id=\"'+tab.id+'\" role=\"tab\" aria-selected=\"'+(tab.id== config.value?\"true\":\"false\")+'\" tabindex=\"'+(tab.id== config.value?\"0\":\"-1\")+'\" style=\"width:'+width+'px;\">';\r\n\r\n\t\t// a tab title\r\n\t\tif(this._tabTemplate){\r\n\t\t\tvar calcHeight = this._content_height- config.inputPadding*2 - 2;\r\n\t\t\tvar height = this._content_height - 2;\r\n\t\t\tvar temp = webix.extend({ cheight: calcHeight, aheight:height }, tab);\r\n\t\t\thtml+= this._tabTemplate(temp);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tvar icon = tab.icon?(\"<span class='webix_icon fa-\"+tab.icon+\"'></span> \"):\"\";\r\n\t\t\thtml+=icon + tab.value;\r\n\t\t}\r\n\r\n\t\tif (tab.close || config.close)\r\n\t\t\thtml+=\"<span role='button' tabindex='0' aria-label='\"+webix.i18n.aria.closeTab+\"' class='webix_tab_close webix_icon fa-times'></span>\";\r\n\r\n\t\thtml+=\"</div>\";\r\n\t\treturn html;\r\n\t},\r\n\t_types:{\r\n\t\timage:\"<div class='webix_img_btn_top' style='height:#cheight#px;background-image:url(#image#);'><div class='webix_img_btn_text'>#value#</div></div>\",\r\n\t\ticon:\"<div class='webix_img_btn' style='line-height:#cheight#px;height:#cheight#px;'><span class='webix_icon_btn fa-#icon#' style='max-width:#cheight#px;max-height:#cheight#px;'></span>#value#</div>\",\r\n\t\ticonTop:\"<div class='webix_img_btn_top' style='height:#cheight#px;width:100%;top:0px;text-align:center;'><span class='webix_icon fa-#icon#'></span><div class='webix_img_btn_text'>#value#</div></div>\"\r\n\t},\r\n\ttype_setter:function(value){\r\n\t\tthis._settings.tabOffset = 0;\r\n\t\tif (this._types[value])\r\n\t\t\tthis._tabTemplate = webix.template(this._types[value]);\r\n\t\treturn value;\r\n\t}\r\n}, webix.ui.segmented);\r\n\r\nwebix.protoUI({\r\n\tname:\"tabview\",\r\n\tdefaults:{\r\n\t\ttype:\"clean\"\r\n\t},\r\n\tsetValue:function(val){\r\n\t\tthis._cells[0].setValue(val);\r\n\t},\r\n\tgetValue:function(){\r\n\t\treturn this._cells[0].getValue();\r\n\t},\r\n\tgetTabbar:function(){\r\n\t\treturn this._cells[0];\r\n\t},\r\n\tgetMultiview:function(){\r\n\t\treturn this._cells[1];\r\n\t},\r\n\taddView:function(obj){\r\n\t\tvar id = obj.body.id = obj.body.id || webix.uid();\r\n\r\n\t\tthis.getMultiview().addView(obj.body);\r\n\r\n\t\tobj.id = obj.body.id;\r\n\t\tobj.value = obj.header;\r\n\t\tdelete obj.body;\r\n\t\tdelete obj.header;\r\n\r\n\t\tvar t = this.getTabbar();\r\n\t\tt.addOption(obj);\r\n\t\tt.refresh();\r\n\r\n\t\treturn id;\r\n\t},\r\n\tremoveView:function(id){\r\n\t\tvar t = this.getTabbar();\r\n\t\tt.removeOption(id);\r\n\t\tt.refresh();\r\n\t},\r\n\t$init:function(config){\r\n\t\tthis.$ready.push(this._init_tabview_handlers);\r\n\r\n\t\tvar cells = config.cells;\r\n\t\tvar tabs = [];\r\n\r\n\t\twebix.assert(cells && cells.length, \"tabview must have cells collection\");\r\n\r\n\t\tfor (var i = cells.length - 1; i >= 0; i--){\r\n\t\t\tvar view = cells[i].body||cells[i];\r\n\t\t\tif (!view.id) view.id = \"view\"+webix.uid();\r\n\t\t\ttabs[i] = { value:cells[i].header, id:view.id, close:cells[i].close, width:cells[i].width, hidden:  !!cells[i].hidden};\r\n\t\t\tcells[i] = view;\r\n\t\t}\r\n\r\n\t\tvar tabbar = { view:\"tabbar\", multiview:true };\r\n\t\tvar mview = { view:\"multiview\", cells:cells, animate:(!!config.animate) };\r\n\r\n\t\tif (config.value)\r\n\t\t\ttabbar.value = config.value;\r\n\r\n\t\tif (config.tabbar) \r\n\t\t\twebix.extend(tabbar, config.tabbar, true);\r\n\t\tif (config.multiview) \r\n\t\t\twebix.extend(mview, config.multiview, true);\r\n\t\t\r\n\t\ttabbar.options = tabbar.options || tabs;\r\n\r\n\t\tconfig.rows = [\t\r\n\t\t\ttabbar, mview\r\n\t\t];\r\n\r\n\t\tdelete config.cells;\r\n\t\tdelete config.tabs;\r\n\t},\r\n\t_init_tabview_handlers:function(){\r\n\t\tthis.getTabbar().attachEvent(\"onOptionRemove\", function(id){\r\n\t\t\tvar view = webix.$$(id);\r\n\t\t\tif (view)\r\n\t\t\t\tview.destructor();\r\n\t\t});\r\n\t}\r\n}, webix.ui.layout);\r\n\r\n\r\n\r\n\r\n\r\n(function(){\r\n\r\n\tfunction _tagname(el) {\r\n\t\tif (!el.tagName) return null;\r\n\t\treturn el.tagName.toLowerCase();\r\n\t}\r\n\tfunction _attribute(el, name) {\r\n\t\tif (!el.getAttribute) return null;\r\n\t\tvar attr = el.getAttribute(name);\r\n\t\treturn attr ? attr.toLowerCase() : null;\r\n\t}\r\n\tfunction _get_html_value() {\r\n\t\tvar tagname = _tagname(this);\r\n\t\tif (_get_value[tagname])\r\n\t\t\treturn _get_value[tagname](this);\r\n\t\treturn _get_value.other(this);\r\n\t}\r\n\r\n\tvar _get_value = {\r\n\t\tradio: function(el){\r\n\t\t\tfor (var i = 0; i < el.length; i++)\r\n\t\t\t\tif (el[i].checked) return el[i].value;\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\t\tinput: function(el) {\r\n\t\t\tvar type = _attribute(el, 'type');\r\n\t\t\tif (type === 'checkbox')\r\n\t\t\t\treturn el.checked;\t\t\t\r\n\t\t\treturn el.value;\r\n\t\t},\r\n\t\ttextarea: function(el) {\r\n\t\t\treturn el.value;\r\n\t\t},\r\n\t\tselect: function(el) {\r\n\t\t\tvar index = el.selectedIndex;\r\n\t\t\treturn el.options[index].value;\r\n\t\t},\r\n\t\tother: function(el) {\r\n\t\t\treturn el.innerHTML;\r\n\t\t}\r\n\t};\r\n\r\n\tfunction  _set_html_value(value) {\r\n\t\tvar tagname = _tagname(this);\r\n\t\tif (_set_value[tagname])\r\n\t\t\treturn _set_value[tagname]( this, value);\r\n\t\treturn _set_value.other( this, value);\r\n\t}\r\n\r\n\tvar _set_value = {\r\n\t\tradio:function(el, value){\r\n\t\t\tfor (var i = 0; i < el.length; i++)\r\n\t\t\t\tel[i].checked = (el[i].value == value);\r\n\t\t},\r\n\t\tinput: function(el, value) {\r\n\t\t\tvar type = _attribute(el, 'type');\r\n\t\t\tif (type === 'checkbox')\r\n\t\t\t\tel.checked = (value) ? true : false;\r\n\t\t\telse\r\n\t\t\t\tel.value = value;\r\n\t\t},\r\n\t\ttextarea: function(el, value) {\r\n\t\t\tel.value = value;\r\n\t\t},\r\n\t\tselect: function(el, value) {\r\n            //select first option if no provided and if possible\r\n\t\t\tel.value = value?value:el.firstElementChild.value||value;\r\n\t\t},\r\n\t\tother: function(el, value) {\r\n\t\t\tel.innerHTML = value;\r\n\t\t}\r\n\t};\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"htmlform\",\r\n\t$init: function(config) {\r\n\t\tthis.elements = {};\r\n\t\tthis._default_values  = false;\r\n\r\n\t\tif (config.content && (config.container == config.content || !config.container && config.content == document.body))\r\n\t\t\tthis._copy_inner_content = true;\r\n\t},\r\n\tcontent_setter:function(content){\r\n\t\tcontent = webix.toNode(content);\r\n\t\tif (this._copy_inner_content){\r\n\t\t\twhile (content.childNodes.length > 1)\r\n\t\t\t\tthis._viewobj.childNodes[0].appendChild(content.childNodes[0]);\r\n\t\t} else {\r\n\t\t\tthis._viewobj.childNodes[0].appendChild(content);\r\n\t\t}\r\n\t\tthis._parse_inputs();\r\n\t\treturn true;\r\n\t},\r\n\trender:function(){\r\n\t\twebix.ui.template.prototype.render.apply(this, arguments);\r\n\t\tthis._parse_inputs();\r\n\t},\r\n\t_parse_inputs: function() {\r\n\t\tvar inputs = this._viewobj.querySelectorAll(\"[name]\");\r\n\t\tthis.elements = {};\r\n\r\n\r\n\t\tfor (var i=0; i<inputs.length; i++){\r\n\t\t\tvar el = inputs[i];\r\n\t\t\tvar name = _attribute(el, \"name\");\r\n\t\t\tif (name){\r\n\t\t\t\tvar tag = _tagname(el) === \"button\";\r\n\t\t\t\tvar type = _attribute(el, \"type\");\r\n\r\n\t\t\t\tvar cant_clear = tag || type === \"button\" || type === \"submit\";\r\n\r\n\t\t\t\tif (type === \"radio\"){\r\n\t\t\t\t\tvar stack = this.elements[name] || [];\r\n\t\t\t\t\tstack.tagName = \"radio\";\r\n\t\t\t\t\tstack.push(el);\r\n\t\t\t\t\tel = stack;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.elements[name] = el;\r\n\r\n\t\t\t\tel.getValue =  _get_html_value;\r\n\t\t\t\tel.setValue =  _set_html_value;\r\n\t\t\t\tel._allowsClear = !cant_clear;\r\n\t\t\t\tel._settings =  { defaultValue : el.getValue() };\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this.elements;\r\n\t},\r\n\t_mark_invalid:function(id,obj){\r\n\t\tthis._clear_invalid(id,obj);\r\n\t\tvar el = this._viewobj.querySelector('[name=\"' + id + '\"]');\r\n\t\tif (el) webix.html.addCss(el, \"invalid\");\r\n\t},\r\n\t_clear_invalid:function(id,obj){\r\n\t\tvar el = this._viewobj.querySelector('[name=\"' + id + '\"]');\r\n\t\tif (el) webix.html.removeCss(el, \"invalid\");\r\n\t}\r\n\r\n}, webix.ui.template, webix.Values);\r\n\r\n})();\r\n(function(){\r\n\tvar google;\r\n\twebix.protoUI({\r\n\t\tname:\"google-map\",\r\n\t\t$init:function(config){\r\n\t\t\tthis.$view.innerHTML = \"<div class='webix_map_content' style='width:100%;height:100%'></div>\";\r\n\t\t\tthis._contentobj = this.$view.firstChild;\r\n\t\t\tthis._map = webix.promise.defer();\r\n\r\n\t\t\tthis.data.provideApi(this, true);\r\n\t\t\tthis.$ready.push(this.render);\r\n\t\t},\r\n\t\tgetMap:function(){\r\n\t\t\treturn this._map;\r\n\t\t},\r\n\t\trender:function(){\r\n\t\t\tif(typeof window.google==\"undefined\"||typeof window.google.maps==\"undefined\"){\r\n\t\t\t\tvar name = \"webix_callback_\"+webix.uid();\r\n\t\t\t\twindow[name] = webix.bind(function(){\r\n\t\t\t\t\tgoogle = window.google;\r\n\t\t\t\t\tthis._initMap.call(this,true);\r\n\t\t\t\t},this);\r\n\r\n\t\t\t\tvar script = document.createElement(\"script\");\r\n\t\t\t\tscript.type = \"text/javascript\";\r\n\t\t\t\tvar src = \"//maps.google.com/maps/api/js?callback=\"+name;\r\n\r\n\t\t\t\tif (this.config.key)\r\n\t\t\t\t\tsrc += \"&key=\"+this.config.key;\r\n\t\t\t\tif (this.config.libraries)\r\n\t\t\t\t\tsrc += \"&libraries=\"+this.config.libraries;\r\n\r\n\t\t\t\tscript.src = src;\r\n\t\t\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(script);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tthis._initMap();\r\n\t\t},\r\n\t\t_initMap:function(define){\r\n\t\t\tvar c = this.config;\r\n\t\t\tif(this.isVisible(c.id)){\r\n\t\t\t\tthis.map = new google.maps.Map(this._contentobj, {\r\n\t\t\t\t\tzoom: c.zoom,\r\n\t\t\t\t\tcenter: new google.maps.LatLng(c.center[0], c.center[1]),\r\n\t\t\t\t\tmapTypeId: google.maps.MapTypeId[c.mapType]\r\n\t\t\t\t});\r\n\t\t\t\tthis._map.resolve(this.map);\r\n\t\t\t}\r\n\t\t},\r\n\t\tcenter_setter:function(config){\r\n\t\t\tif(this.map)\r\n\t\t\t\tthis.map.setCenter(new google.maps.LatLng(config[0], config[1]));\r\n\r\n\t\t\treturn config;\r\n\t\t},\r\n\t\tmapType_setter:function(config){\r\n\t\t\t/*ROADMAP,SATELLITE,HYBRID,TERRAIN*/\r\n\t\t\tif(this.map)\r\n\t\t\t\tthis.map.setMapTypeId(google.maps.MapTypeId[config]);\r\n\r\n\t\t\treturn config;\r\n\t\t},\r\n\t\tzoom_setter:function(config){\r\n\t\t\tif(this.map)\r\n\t\t\t\tthis.map.setZoom(config);\r\n\t\t\treturn config;\r\n\t\t},\r\n\t\tlayerType_setter:function(config){\r\n\t\t\tif(config == \"heatmap\")\r\n\t\t\t\tthis.config.libraries = \"visualization\";\r\n\t\t\tif(this._layerApi[config]){\r\n\t\t\t\twebix.extend(this, this._layerApi[config], true);\r\n\t\t\t\tthis.data.attachEvent(\"onStoreUpdated\", webix.bind(this.drawData, this));\r\n\t\t\t}\r\n\r\n\t\t\treturn config;\r\n\t\t},\r\n\t\tdefaults:{\r\n\t\t\tzoom: 5,\r\n\t\t\tcenter:[ 39.5, -98.5 ],\r\n\t\t\tmapType: \"ROADMAP\",\r\n\t\t\tlayerType:\"marker\"\r\n\t\t},\r\n\t\t$setSize:function(){\r\n\t\t\twebix.ui.view.prototype.$setSize.apply(this, arguments);\r\n\t\t\tif(this.map)\r\n\t\t\t\tgoogle.maps.event.trigger(this.map, \"resize\");\r\n\t\t},\r\n\t\t$onLoad:function(data){\r\n\t\t\tif(!this.map){\r\n\t\t\t\tthis._map.then(webix.bind(function(){\r\n\t\t\t\t\tthis.parse(data);\r\n\t\t\t\t}, this));\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\t_layerApi:{\r\n\t\t\tmarker:{\r\n\t\t\t\tdrawData:function(id, item, operation){\r\n\t\t\t\t\tswitch (operation){\r\n\t\t\t\t\t\tcase \"add\":\r\n\t\t\t\t\t\t\titem.$marker = this._getItemConfig(item);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"update\":\r\n\t\t\t\t\t\t\titem.$marker.setMap(null);\r\n\t\t\t\t\t\t\titem.$marker = this._getItemConfig(item);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"delete\":\r\n\t\t\t\t\t\t\titem.$marker.setMap(null);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tthis.data.each(function(item){\r\n\t\t\t\t\t\t\t\titem.$marker = this._getItemConfig(item);\r\n\t\t\t\t\t\t\t}, this);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tclearAll:function(){\r\n\t\t\t\t\tthis.data.each(function(obj){\r\n\t\t\t\t\t\tobj.$marker.setMap(null);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.data.clearAll();\r\n\t\t\t\t},\r\n\t\t\t\tshowItem:function(id){\r\n\t\t\t\t\tvar item = this.getItem(id);\r\n\t\t\t\t\tthis.map.setCenter(new google.maps.LatLng(item.lat, item.lng));\r\n\t\t\t\t},\r\n\t\t\t\t_getItemConfig:function(item){\r\n\t\t\t\t\tvar obj = {};\r\n\t\t\t\t\tfor(var i in item) obj[i] = item[i];\r\n\t\t\t\t\tobj.position = new google.maps.LatLng(item.lat, item.lng);\r\n\t\t\t\t\tobj.map = item.hidden? null: this.map;\r\n\r\n\t\t\t\t\tvar marker = new google.maps.Marker(obj);\r\n\t\t\t\t\tthis._events(marker);\r\n\t\t\t\t\tthis.callEvent(\"onItemRender\", [item]);\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn marker;\r\n\t\t\t\t},\r\n\t\t\t\t_events:function(marker){\r\n\t\t\t\t\tvar map = this;\r\n\t\t\t\t\t\r\n\t\t\t\t\tmarker.addListener('click', function(){\r\n\t\t\t\t\t\tmap.callEvent(\"onItemClick\", [this.id, this]);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif(marker.getDraggable()){\r\n\t\t\t\t\t\tmarker.addListener('dragend', function(){ map._onDrag(this, true); });\r\n\t\t\t\t\t\tmarker.addListener('drag', function(){ map._onDrag(this); });\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t_onDrag:function(marker, end){\r\n\t\t\t\t\tvar item = this.getItem(marker.id);\r\n\t\t\t\t\tvar pos = marker.getPosition();\r\n\t\t\t\t\tvar ev = end?\"onAfterDrop\":\"onDrag\";\r\n\r\n\t\t\t\t\titem.lat = pos.lat();\r\n\t\t\t\t\titem.lng = pos.lng();\r\n\t\t\t\t\tthis.callEvent(ev, [item.id, item]);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\theatmap:{\r\n\t\t\t\theatmapConfig_setter:function(value){\r\n\t\t\t\t\tvalue = value || {};\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t},\r\n\t\t\t\tdrawData:function(){\r\n\t\t\t\t\tif(this.heatmap){\r\n\t\t\t\t\t\tthis.heatmap.setMap(null);\r\n\t\t\t\t\t\tthis.heatmap = null;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar hdata = [];\r\n\t\t\t\t\tthis.data.each(function(item){ hdata.push(this._getConfig(item)); }, this);\r\n\r\n\t\t\t\t\tif(hdata.length){\r\n\t\t\t\t\t\tvar data = webix.extend(this.config.heatmapConfig, {data:hdata, map:this.map}, true);\r\n\t\t\t\t\t\tthis.heatmap = new google.maps.visualization.HeatmapLayer(data);\r\n\t\t\t\t\t\tthis.callEvent(\"onHeatMapRender\", [this.heatmap]);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t_getConfig:function(item){\r\n\t\t\t\t\tvar obj = {};\r\n\t\t\t\t\tfor(var i in item) obj[i] = item[i];\r\n\t\t\t\t\tobj.location = new google.maps.LatLng(item.lat, item.lng);\r\n\r\n\t\t\t\t\treturn obj;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}, webix.DataLoader, webix.EventSystem, webix.ui.view);\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.dp = function(name,getOnly){\r\n\tif (typeof name == \"object\" && name._settings)\r\n\t\tname = name._settings.id;\r\n\tif (webix.dp._pull[name] || getOnly)\r\n\t\treturn webix.dp._pull[name];\r\n\r\n\tif (typeof name == \"string\"||typeof name == \"number\")\r\n\t\tname = { master:webix.$$(name) };\r\n\r\n\tvar dp = new webix.DataProcessor(name);\r\n\tvar masterId = dp._settings.master._settings.id;\r\n\twebix.dp._pull[masterId]=dp;\r\n\r\n\twebix.$$(masterId).attachEvent(\"onDestruct\",function(){\r\n\t\twebix.dp._pull[this._settings.id] = null;\r\n\t\tdelete webix.dp._pull[this._settings.id];\r\n\t});\r\n\r\n\treturn dp;\r\n};\r\nwebix.dp._pull = {};\r\nwebix.dp.$$ = function(id){\r\n\treturn webix.dp._pull[id];\r\n};\r\n\r\n\r\nwebix.DataProcessor = webix.proto({\r\n\tdefaults: {\r\n\t\tautoupdate:true,\r\n\t\tupdateFromResponse:false,\r\n\t\tmode:\"post\",\r\n\t\toperationName:\"webix_operation\",\r\n\t\ttrackMove:false\r\n\t},\r\n\r\n\r\n\t/*! constructor\r\n\t **/\r\n\t$init: function() {\r\n\t\tthis.reset();\r\n\t\tthis._ignore = false;\r\n\t\tthis.name = \"DataProcessor\";\r\n\t\tthis.$ready.push(this._after_init_call);\r\n\t},\r\n\treset:function(){\r\n\t\tthis._updates = [];\r\n\t},\r\n\turl_setter:function(value){\r\n\t\t/*\r\n\t\t\twe can use simple url or mode->url\r\n\t\t*/\r\n\t\tvar mode = \"\";\r\n\t\tif (typeof value == \"string\"){\r\n\t\t\tvar parts = value.split(\"->\");\r\n\t\t\tif (parts.length > 1){\r\n\t\t\t\tvalue = parts[1];\r\n\t\t\t\tmode = parts[0];\r\n\t\t\t}\r\n\t\t} else if (value && value.mode){\r\n\t\t\tmode = value.mode;\r\n\t\t\tvalue = value.url;\r\n\t\t}\r\n\r\n\t\tif (mode)\r\n\t\t\treturn webix.proxy(mode, value);\r\n\r\n\t\treturn value;\r\n\t},\r\n\tmaster_setter:function(value){\r\n\t\tvar store = value;\r\n\t\tif (value.name != \"DataStore\")\r\n\t\t\tstore = value.data;\r\n\r\n\t\tthis._settings.store = store;\r\n\t\treturn value;\r\n\t},\r\n\t/*! attaching onStoreUpdated event\r\n\t **/\r\n\t_after_init_call: function(){\r\n\t\twebix.assert(this._settings.store, \"store or master need to be defined for the dataprocessor\");\r\n\t\tthis._settings.store.attachEvent(\"onStoreUpdated\", webix.bind(this._onStoreUpdated, this));\r\n\t\tthis._settings.store.attachEvent(\"onDataMove\", webix.bind(this._onDataMove, this));\r\n\t},\r\n\tignore:function(code,master){\r\n\t\tvar temp = this._ignore;\r\n\t\tthis._ignore = true;\r\n\t\tcode.call((master||this));\r\n\t\tthis._ignore = temp;\r\n\t},\r\n\toff:function(){\r\n\t\tthis._ignore = true;\r\n\t},\r\n\ton:function(){\r\n\t\tthis._ignore = false;\r\n\t},\r\n\r\n\t_copy_data:function(source){\r\n\t\tvar obj = {};\r\n\t\tfor (var key in source)\t\r\n\t\t\tif (key.indexOf(\"$\")!==0)\r\n\t\t\t\tobj[key]=source[key];\r\n\t\treturn obj;\r\n\t},\r\n\tsave:function(id, operation, obj){\r\n\t\toperation = operation || \"update\";\r\n\t\tthis._save_inner(id, (obj || this._settings.store.getItem(id)), operation);\r\n\t},\r\n\t_save_inner:function(id, obj, operation){\r\n\t\tif (typeof id == \"object\") id = id.toString();\r\n\t\tif (!id || this._ignore === true || !operation || operation == \"paint\") return true;\r\n\r\n\t\tvar store = this._settings.store;\r\n\t\tif (store && store._scheme_serialize)\r\n\t\t\tobj = store._scheme_serialize(obj);\r\n\r\n\t\tvar update = { id: id, data:this._copy_data(obj), operation:operation };\r\n\t\t//save parent id\r\n\t\tif (!webix.isUndefined(obj.$parent)) update.data.parent = obj.$parent;\r\n\r\n\t\tif (update.operation != \"delete\"){\r\n\t\t\t//prevent saving of not-validated records\r\n\t\t\tvar master = this._settings.master;\r\n\t\t\tif (master && master.data && master.data.getMark && master.data.getMark(id, \"webix_invalid\"))\r\n\t\t\t\tupdate._invalid = true;\r\n\r\n\t\t\tif (!this.validate(null, update.data))\r\n\t\t\t\tupdate._invalid = true;\r\n\t\t}\r\n\r\n\t\tif (this._check_unique(update))\r\n\t\t\tthis._updates.push(update);\r\n\r\n\t\tif (this._settings.autoupdate)\r\n\t\t\tthis.send();\r\n\t\t\t\r\n\t\treturn true;\r\n\t},\r\n\t_onDataMove:function(sid, tindex, parent, targetid){\r\n\t\tif (this._settings.trackMove){\r\n\t\t\tvar obj = webix.copy(this._settings.store.getItem(sid));\r\n\t\t\tvar order = this._settings.store.order;\r\n\r\n\t\t\tobj.webix_move_index = tindex;\r\n\t\t\tobj.webix_move_id = targetid;\r\n\t\t\tobj.webix_move_parent = parent;\r\n\t\t\tthis._save_inner(sid, obj, \"order\");\r\n\t\t}\r\n\t},\r\n\t_onStoreUpdated: function(id, obj, operation){\r\n\t\tswitch (operation) {\r\n\t\t\tcase 'save':\r\n\t\t\t\toperation = \"update\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'update':\r\n\t\t\t\toperation = \"update\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'add':\r\n\t\t\t\toperation = \"insert\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'delete':\r\n\t\t\t\toperation = \"delete\";\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\treturn true;\r\n\t\t}\r\n\t\treturn this._save_inner(id, obj, operation);\r\n\t},\r\n\t_check_unique:function(check){\r\n\t\tfor (var i = 0; i < this._updates.length; i++){\r\n\t\t\tvar one = this._updates[i];\r\n\t\t\tif (one.id == check.id){\r\n\t\t\t\tif (check.operation == \"delete\"){\r\n\t\t\t\t\tif (one.operation == \"insert\")\r\n\t\t\t\t\t\tthis._updates.splice(i,1);\r\n\t\t\t\t\telse \r\n\t\t\t\t\t\tone.operation = \"delete\";\r\n\t\t\t\t}\r\n\t\t\t\tone.data = check.data;\r\n\t\t\t\tone._invalid = check._invalid;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\tsend:function(){\r\n\t\tthis._sendData();\r\n\t},\r\n\t_sendData: function(){\r\n\t\tif (!this._settings.url)\r\n\t\t\treturn;\r\n\r\n\t\tvar marked = this._updates;\r\n\t\tvar to_send = [];\r\n\t\tvar url = this._settings.url;\r\n\r\n\t\tfor (var i = 0; i < marked.length; i++) {\r\n\t\t\tvar tosave = marked[i];\r\n\r\n\t\t\tif (tosave._in_progress) continue;\r\n\t\t\tif (tosave._invalid) continue;\r\n\r\n\t\t\tvar id = tosave.id;\r\n\t\t\tvar operation = tosave.operation;\r\n\t\t\tvar precise_url = (typeof url == \"object\" && !url.$proxy) ? url[operation] : url;\r\n\t\t\tvar proxy = precise_url && (precise_url.$proxy || typeof precise_url === \"function\");\r\n\r\n\t\t\tif (!precise_url) continue;\r\n\r\n\t\t\tif (this._settings.store._scheme_save)\r\n\t\t\t\tthis._settings.store._scheme_save(tosave.data);\r\n\r\n\t\t\tif (!this.callEvent(\"onBefore\"+operation, [id, tosave]))\r\n\t\t\t\tcontinue;\r\n\t\t\ttosave._in_progress = true;\r\n\r\n\t\t\tif (!this.callEvent(\"onBeforeDataSend\", [tosave])) return;\r\n\r\n\t\t\ttosave.data = this._updatesData(tosave.data);\r\n\r\n\t\t\tvar callback = this._send_callback({ id:tosave.id, status:tosave.operation });\r\n\t\t\tif (precise_url.$proxy){\r\n\t\t\t\tif (precise_url.save)\r\n\t\t\t\t\tprecise_url.save(this.config.master, tosave, this, callback);\r\n\t\t\t\telse\r\n\t\t\t\t\tto_send.push(tosave);\r\n\t\t\t} else {\r\n\t\t\t\tif (operation == \"insert\") delete tosave.data.id;\r\n\r\n\t\t\t\t\r\n\t\t\t\tif (proxy){\r\n\t\t\t\t\t//promise\r\n\t\t\t\t\tprecise_url(tosave.id, tosave.operation, tosave.data).then(\r\n\t\t\t\t\t\tfunction(data){\r\n\t\t\t\t\t\t\tif (data && typeof data.json == \"function\")\r\n\t\t\t\t\t\t\t\tdata = data.json();\r\n\t\t\t\t\t\t\tcallback.success(\"\", data, -1);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfunction(error){\r\n\t\t\t\t\t\t\tcallback.error(\"\", null, error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//normal url\r\n\t\t\t\t\ttosave.data[this._settings.operationName] = operation;\r\n\r\n\t\t\t\t\tthis._send(precise_url, tosave.data, this._settings.mode, operation, callback);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.callEvent(\"onAfterDataSend\", [tosave]);\r\n\t\t}\r\n\r\n\t\tif (url.$proxy && url.saveAll && to_send.length)\r\n\t\t\turl.saveAll(this.config.master, to_send, this, this._send_callback({}));\r\n\t},\r\n\r\n\r\n\t/*! process updates list to POST and GET params according dataprocessor protocol\r\n\t *\t@param updates\r\n\t *\t\tlist of objects { id: \"item id\", data: \"data hash\", operation: \"type of operation\"}\r\n\t *\t@return\r\n\t *\t\tobject { post: { hash of post params as name: value }, get: { hash of get params as name: value } }\r\n\t **/\r\n\r\n\r\n\r\n\t_updatesData:function(source){\r\n\t\tvar target = {};\r\n\t\tfor (var j in source){\r\n\t\t\tif (j.indexOf(\"$\")!==0)\r\n\t\t\t\ttarget[j] = source[j];\r\n\t\t}\r\n\t\treturn target;\r\n\t},\r\n\r\n\r\n\r\n\t/*! send dataprocessor query to server\r\n\t *\tand attach event to process result\r\n\t *\t@param url\r\n\t *\t\tserver url\r\n\t *\t@param get\r\n\t *\t\thash of get params\r\n\t *\t@param post\r\n\t *\t\thash of post params\r\n\t *\t@mode\r\n\t *\t\t'post' or 'get'\r\n\t **/\r\n\t_send: function(url, post, mode, operation, callback) {\r\n\t\twebix.assert(url, \"url was not set for DataProcessor\");\r\n\r\n\t\tif (typeof url == \"function\")\r\n\t\t\treturn url(post, operation, callback);\r\n\r\n\t\twebix.ajax()[mode](url, post, callback);\r\n\t},\r\n\t_send_callback:function(id){\r\n\t\tvar self = this;\r\n\t\treturn {\r\n\t\t\tsuccess:function(t,d,l){ return self._processResult(id, t,d,l); },\r\n\t\t\terror  :function(t,d,l){ return self._processError(id, t,d,l); }\r\n\t\t};\r\n\t},\r\n\tattachProgress:function(start, end, error){\r\n\t\tthis.attachEvent(\"onBeforeDataSend\", start);\r\n\t\tthis.attachEvent(\"onAfterSync\", end);\r\n\t\tthis.attachEvent(\"onAfterSaveError\", error);\r\n\t\tthis.attachEvent(\"onLoadError\", error);\r\n\t},\r\n\t_processError:function(id, text, data, loader){\r\n\t\tif (id)\r\n\t\t\tthis._innerProcessResult(true, id.id, false, id.status, false, {text:text, data:data, loader:loader});\r\n\t\telse {\r\n\t\t\tthis.callEvent(\"onLoadError\", arguments);\r\n\t\t\twebix.callEvent(\"onLoadError\", [text, data, loader, this]);\r\n\t\t}\r\n\t},\r\n\t_innerProcessResult:function(error, id, newid, status, obj, details){\r\n\t\tvar master = this._settings.master;\r\n\t\tvar update = this.getItemState(id);\r\n\t\tupdate._in_progress = false;\r\n\r\n\t\tif (error){\r\n\t\t\tif (this.callEvent(\"onBeforeSaveError\", [id, status, obj, details])){\r\n\t\t\t\tupdate._invalid = true;\r\n\t\t\t\tif(this._settings.undoOnError && master._settings.undo)\r\n\t\t\t\t\tmaster.undo(id);\r\n\t\t\t\tthis.callEvent(\"onAfterSaveError\", [id, status, obj, details]);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} else\r\n\t\t\tthis.setItemState(id, false);\r\n\r\n\t\t//update from response\r\n\t\tif (newid && id != newid)\r\n\t\t\tthis._settings.store.changeId(id, newid);\r\n\r\n \t\tif (obj && status != \"delete\" && this._settings.updateFromResponse)\r\n \t\t\tthis.ignore(function(){\t\t\t\t\r\n\t\t\t\tthis._settings.store.updateItem(newid || id, obj);\r\n \t\t\t});\r\n\t\t\t\r\n\r\n\t\t//clean undo history, for the saved record\r\n\t\tif(this._settings.undoOnError && master._settings.undo)\r\n\t\t\tmaster.removeUndo(newid||id);\r\n\r\n\t\tthis.callEvent(\"onAfterSave\",[obj, id, details]);\r\n\t\tthis.callEvent(\"onAfter\"+status, [obj, id, details]);\r\n\t},\r\n\tprocessResult: function(state, hash, details){\r\n\t\t//compatibility with custom json response\r\n\t\tvar error = (hash && (hash.status == \"error\" || hash.status == \"invalid\"));\r\n\t\tvar newid = (hash ? ( hash.newid || hash.id ) : false);\r\n\r\n\t\tthis._innerProcessResult(error, state.id, newid, state.status, hash, details);\r\n\t},\r\n\t// process saving from result\r\n\t_processResult: function(state, text, data, loader){\r\n\t\tthis.callEvent(\"onBeforeSync\", [state, text, data, loader]);\r\n\r\n\t\tif (loader === -1){\r\n\t\t\t//callback from promise\r\n\t\t\tthis.processResult(state, data, {});\r\n\t\t} else {\r\n\t\t\tvar proxy = this._settings.url;\r\n\t\t\tif (proxy.$proxy && proxy.result)\r\n\t\t\t\tproxy.result(state, this._settings.master, this, text,  data, loader);\r\n\t\t\telse {\r\n\t\t\t\tvar hash;\r\n\t\t\t\tif (text){\r\n\t\t\t\t\thash = data.json();\r\n\t\t\t\t\t//invalid response\r\n\t\t\t\t\tif (text && typeof hash == \"undefined\")\r\n\t\t\t\t\t\thash = { status:\"error\" };\r\n\t\t\t\t}\r\n\t\t\t\tthis.processResult(state, hash,  {text:text, data:data, loader:loader});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.callEvent(\"onAfterSync\", [state, text, data, loader]);\r\n\t},\r\n\r\n\r\n\t/*! if it's defined escape function - call it\r\n\t *\t@param value\r\n\t *\t\tvalue to escape\r\n\t *\t@return\r\n\t *\t\tescaped value\r\n\t **/\r\n\tescape: function(value) {\r\n\t\tif (this._settings.escape)\r\n\t\t\treturn this._settings.escape(value);\r\n\t\telse\r\n\t\t\treturn encodeURIComponent(value);\r\n\t},\r\n\tgetState:function(){\r\n\t\tif (!this._updates.length) return false;\r\n\t\tfor (var i = this._updates.length - 1; i >= 0; i--)\r\n\t\t\tif (this._updates[i]._in_progress)\r\n\t\t\t\treturn \"saving\";\r\n\r\n\t\treturn true;\r\n\t},\r\n\tgetItemState:function(id){\r\n\t\tvar index = this._get_stack_index(id);\r\n\t\treturn this._updates[index] || null;\r\n\t},\r\n\tsetItemState:function(id, state){\r\n\t\tif (state)\r\n\t\t\tthis.save(id, state);\r\n\t\telse{\r\n\t\t\tvar index = this._get_stack_index(id);\r\n\t\t\tif (index > -1)\r\n\t\t\t\tthis._updates.splice(index, 1);\r\n\t\t}\r\n\t},\r\n\t_get_stack_index: function(id) {\r\n\t\tvar index = -1;\r\n\t\tvar update = null;\r\n\t\tfor (var i=0; i < this._updates.length; i++)\r\n\t\t\tif (this._updates[i].id == id) {\r\n\t\t\t\tindex = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\treturn index;\r\n\t}\r\n\r\n}, webix.Settings, webix.EventSystem, webix.ValidateData);\r\n\r\n\r\n\r\n\r\nwebix.jsonp = function(url, params, callback, master){\r\n\tvar id = \"webix_jsonp_\"+webix.uid();\r\n\tvar script = document.createElement('script');\r\n\tscript.id = id;\r\n\tscript.type = 'text/javascript';\r\n\r\n\tvar head = document.getElementsByTagName(\"head\")[0];\r\n\r\n\tif (typeof params == \"function\"){\r\n\t\tmaster = callback;\r\n\t\tcallback = params;\r\n\t\tparams = {};\r\n\t}\r\n\r\n\tif (!params)\r\n\t\tparams = {};\r\n\r\n\tparams.jsonp = \"webix.jsonp.\"+id;\r\n\twebix.jsonp[id]=function(){\r\n\t\tcallback.apply(master||window, arguments);\r\n\t\tscript.parentNode.removeChild(script);\r\n\t\tcallback = head = master = script = null;\r\n\t\tdelete webix.jsonp[id];\r\n\t};\r\n\t\r\n\tvar vals = [];\r\n\tfor (var key in params) vals.push(key+\"=\"+encodeURIComponent(params[key]));\r\n\t\r\n\turl += (url.indexOf(\"?\") == -1 ? \"?\" : \"&\")+vals.join(\"&\");\r\n\r\n    script.src = url ;\r\n    head.appendChild(script);\r\n};\r\n\r\nwebix.markup = {\r\n\tnamespace:\"x\",\r\n\tattribute:\"data-\",\r\n\tdataTag:\"li\",\r\n\t_dash:/-([a-z])/g,\r\n\t_after_dash:function (match) { return match[1].toUpperCase(); },\r\n\t_parse_int:{\r\n\t\twidth:true,\r\n\t\theight:true,\r\n\t\tgravity:true,\r\n\t\tmargin:true,\r\n\t\tpadding:true,\r\n\t\tpaddingX:true,\r\n\t\tpaddingY:true,\r\n\t\tminWidth:true,\r\n\t\tmaxWidth:true,\r\n\t\tminHeight:true,\r\n\t\tmaxHeight:true,\r\n        headerRowHeight:true\r\n\t},\r\n\t_parse_bool:{\r\n\t\tdisabled:true,\r\n\t\thidden:true\r\n\t},\r\n\t_view_has_method:function(view, name){\r\n\t\treturn webix.ui.hasMethod(view, name);\r\n\t},\r\n\r\n\tinit: function(node, target, scope){\r\n\t\tnode = node || document.body;\r\n\r\n\t\tvar els = [];\r\n\t\tvar temp = this._get_core_els(node);\r\n\t\tvar html = temp.html;\r\n\t\tvar ui = null;\r\n\r\n\t\t//make copy to prevent node removing effects\r\n\t\tfor (var i = temp.length - 1; i >= 0; i--) els[i] = temp[i];\r\n\t\t\r\n\t\tfor (var i = 0; i < els.length; i++) {\r\n\t\t\tvar config, temp_config;\r\n\t\t\t//collect configuration\r\n\t\t\tconfig = this._sub_markup(els[i], html);\r\n\t\t\tconfig.$scope = scope;\r\n\t\t\tui = this._initComponent(config, els[i], html, target);\r\n\t\t}\r\n\t\treturn ui;\r\n\t},\r\n\r\n\tparse:function(source, mode){\r\n\t\t//convert from string to object\r\n\t\tif (typeof source == \"string\")\r\n\t\t\tsource = webix.DataDriver[mode || \"xml\"].toObject(source, source);\r\n\r\n\t\tvar els = this._get_core_els(source, mode);\r\n\t\treturn this._sub_markup(els[0], els.html);\r\n\t},\r\n\r\n\t_initComponent:function(config, node, html, target){\r\n\t\tif (!target){\r\n\t\t\tconfig.container = node.parentNode;\r\n\t\t\twebix.html.remove(node);\r\n\t\t} else \r\n\t\t\tconfig.container = target;\r\n\r\n\t\tif (this._view_has_method(config.view, \"setPosition\"))\r\n\t\t\tdelete config.container;\r\n\r\n\t\t//init ui\r\n\t\treturn webix.ui(config);\r\n\t},\r\n\r\n\t_get_core_els:function(node){\r\n\t\tthis._full_prefix = this.namespace?(this.namespace+\":\"):\"\";\r\n\t\tthis._full_prefix_top = this._full_prefix+\"ui\";\r\n\r\n\t\t//xhtml mode\r\n\t\tvar els = node.getElementsByTagName(this._full_prefix_top);\r\n\t\tif (!els.length && node.documentElement && node.documentElement.tagName == this._full_prefix_top)\r\n\t\t\tels = [ node.documentElement ];\r\n\r\n\t\t//loading from xml file with valid namespace\r\n\t\tif (!els.length && this.namespace){\r\n\t\t\tels = node.getElementsByTagName(\"ui\");\r\n\t\t\tif (!els.length && node.documentElement && node.documentElement.tagName == \"ui\")\r\n\t\t\t\tels = [ node.documentElement ];\r\n\t\t}\r\n\r\n\t\tif (!els.length){\r\n\t\t\t//html mode\r\n\t\t\tels = this._get_html_tops(node);\r\n\t\t\tels.html = true;\r\n\t\t}\r\n\t\treturn els;\r\n\t},\r\n\r\n\t//html conversion\r\n\t_get_html_tops: function(node){\r\n\t\tif (node.getAttribute && node.getAttribute(this.attribute+\"view\"))\r\n\t\t\treturn [node];\r\n\r\n\t\tvar els = node.querySelectorAll(\"[\"+this.attribute+\"view]\");\r\n\r\n\t\tvar tags = []; var marks = [];\r\n\t\tfor (var i = 0; i < els.length; i++)\r\n\t\t\tif (!els[i].parentNode.getAttribute(this.attribute+\"view\"))\r\n\t\t\t\ttags.push(els[i]);\r\n\r\n\t\treturn tags;\r\n\t},\r\n\r\n\r\n\r\n\t_sub_markup: function(el, html, json){\r\n\t\tvar htmltable = false;\r\n\t\t//ignore top x:ui for xhtml and xml \r\n\t\tif (!json){\r\n\t\t\tvar name = this._get_name(el, html);\r\n\t\t\tif (name == \"ui\"){\r\n\t\t\t\tvar childs = el.childNodes;\r\n\t\t\t\tfor (var i = 0; i < childs.length; i++)\r\n\t\t\t\t\tif (childs[i].nodeType == 1){\r\n\t\t\t\t\t\treturn this._sub_markup(childs[i], html);\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tjson = { view: name };\r\n\t\t\tif (html && el.tagName.toLowerCase() == \"table\"){\r\n\t\t\t\tjson.data = el;\r\n\t\t\t\tjson.datatype = \"htmltable\";\r\n\t\t\t\thtmltable = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar is_layout = json.view == \"cols\" || json.view == \"rows\" || this._view_has_method(json.view, \"addView\");\r\n\r\n\t\tvar subs = [];\r\n\t\tvar has_tags = 0; \r\n\t\tvar allow_sub_tags = !(html || el.style); //only for xml documents\r\n\t\tvar first = el.firstChild;\r\n\t\twhile (first){\r\n\t\t\t//tag node\r\n\t\t\tif (first.nodeType == 1){\r\n\t\t\t\tvar name = this._get_name(first, html);\r\n\t\t\t\tif (name == \"data\"){\r\n\t\t\t\t\thas_tags = 1;\r\n\t\t\t\t\tvar data = first; first = first.nextSibling;\r\n\t\t\t\t\tjson.data = this._handle_data(data, html);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t} else if (name == \"config\"){\r\n\t\t\t\t\tthis._get_config_html(first, json, html);\r\n\t\t\t\t\tvar confignode = first;\r\n\t\t\t\t\tfirst = first.nextSibling;\r\n\r\n\t\t\t\t\twebix.html.remove(confignode);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t} else if (name == \"column\"){\r\n\t\t\t\t\thas_tags = 1;\r\n\r\n\t\t\t\t\tvar column = this._tag_to_json(first, html);\r\n\t\t\t\t\tcolumn.header = column.header || column.value;\r\n\t\t\t\t\tcolumn.width = column.width * 1 || \"\";\r\n\r\n\t\t\t\t\tjson.columns = json.columns || [];\r\n\t\t\t\t\tjson.columns.push(column);\r\n\t\t\t\t} else if (name || (is_layout && html)){\r\n\t\t\t\t\tvar obj = this._sub_markup(first , html , { view:name });\r\n\t\t\t\t\tif (obj.view == \"head\")\r\n\t\t\t\t\t\tjson.head = obj.rows ? obj.rows[0] : obj.template;\r\n\t\t\t\t\telse if (obj.view == \"body\"){\r\n\t\t\t\t\t\tif (this._view_has_method(json.view, \"addView\")){\r\n\t\t\t\t\t\t\t//multiview, accordion\r\n\r\n\t\t\t\t\t\t\t//subtag or plain value\r\n\t\t\t\t\t\t\t//in case of multiple sub tags, only first will be used\r\n\t\t\t\t\t\t\t// #dirty\r\n\t\t\t\t\t\t\tsubs.push({\r\n\t\t\t\t\t\t\t\tbody: (obj.rows ? obj.rows[0] : obj.value),\r\n\t\t\t\t\t\t\t\theader:obj.header || \"\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t//window, fieldset\r\n\r\n\t\t\t\t\t\t\t//one sub tag - use it\r\n\t\t\t\t\t\t\t//multiple sub tags - create sub layout\r\n\t\t\t\t\t\t\t//or use plain text value\r\n\t\t\t\t\t\t\tjson.body = obj.rows ? ( obj.rows.length == 1 ? obj.rows[0] : { rows:obj.rows } ) : obj.value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\tsubs.push(obj);\r\n\t\t\t\t} else if (allow_sub_tags) {\r\n\t\t\t\t\thas_tags = 1;\r\n\t\t\t\t\tvar tagName = first.tagName;\r\n\t\t\t\t\tif (html) tagName = tagName.toLowerCase().replace(this._dash, this._after_dash);\r\n\t\t\t\t\tjson[tagName] = webix.DataDriver.xml.tagToObject(first);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfirst = first.nextSibling;\r\n\t\t}\r\n\r\n\t\tthis._attrs_to_json(el, json, html);\r\n\r\n\t\tif (subs.length){\r\n\t\t\tif (json.stack)\r\n\t\t\t\tjson[json.stack] = subs;\r\n\t\t\telse if (this._view_has_method(json.view, \"setValues\"))\r\n\t\t\t\tjson[\"elements\"] = subs;\r\n\t\t\telse if (json.view == \"rows\"){\r\n\t\t\t\tjson.view = \"layout\";\r\n\t\t\t\tjson.rows = subs;\r\n\t\t\t} else if (json.view == \"cols\"){\r\n\t\t\t\tjson.view = \"layout\";\r\n\t\t\t\tjson.cols = subs;\r\n\t\t\t} else if (this._view_has_method(json.view, \"setValue\")){\r\n\t\t\t\tjson[\"cells\"] = subs;\r\n\t\t\t} else if (this._view_has_method(json.view, \"getBody\")){\r\n\t\t\t\tjson.body = subs.length == 1 ? subs[0] : { rows:subs };\r\n\t\t\t} else\r\n\t\t\t\tjson[\"rows\"] = subs;\r\n\t\t} else if (!htmltable && !has_tags){\r\n\t\t\tif (html && !json.template && (!json.view || json.view == \"template\")){\r\n\t\t\t\tjson.view = \"template\";\r\n\t\t\t\tjson.content = el;\r\n\t\t\t} else {\r\n\t\t\t\tvar content = this._content(el, html);\r\n\t\t\t\tif (content){\r\n\t\t\t\t\tvar target = \"template\";\r\n\t\t\t\t\tif (this._view_has_method(json.view, \"setValue\"))\r\n\t\t\t\t\t\ttarget = \"value\";\r\n\t\t\t\t\tjson[target] = json[target] || content;\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn json;\r\n\t},\r\n\r\n\t_empty: function(str) {\r\n\t\tvar clean = str.replace(/\\s+/gm, '');\r\n\t\treturn (clean.length > 0) ? false : true;\t \r\n\t},\r\n\r\n\t_markup_names:{\r\n\t\tbody:1,\r\n\t\thead:1,\r\n\t\tdata:1,\r\n\t\trows:1,\r\n\t\tcols:1,\r\n\t\tcells:1,\r\n\t\telements:1,\r\n\t\tui:1,\r\n\t\tcolumn:1,\r\n\t\tconfig:1\r\n\t},\r\n\r\n\t_get_config_html:function(tag, json, html){\r\n\t\tvar master = this._attrs_to_json(tag, { });\r\n\t\tif (master.name){\r\n\t\t\tjson[master.name] = master;\r\n\t\t\tdelete master.name;\r\n\t\t} else \r\n\t\t\tif (master.stack) json[master.stack] = [];\r\n\t\telse\r\n\t\t\tjson = master;\r\n\r\n\t\tvar childs = tag.childNodes;\r\n\t\tfor (var i = 0; i < childs.length; i++) {\r\n            var sub = null;\r\n\t\t\tif (childs[i].nodeType == 1 && childs[i].tagName.toLowerCase() == \"config\" && childs[i].attributes.length)\r\n\t\t\t\tsub = this._get_config_html(childs[i], master, html);\r\n            else\r\n                sub = childs[i].innerHTML;\r\n            if (master.stack && sub)\r\n                json[master.stack].push(sub);\r\n\r\n\t\t}\r\n\t\treturn json;\r\n\t},\r\n\r\n\t_get_name:function(tag, html){\r\n\t\t//value of view attribute or config tag\r\n\t\tif (html)\r\n\t\t\treturn tag.getAttribute(this.attribute+\"view\") || ( tag.tagName.toLowerCase() == \"config\" ? \"config\" : null);\r\n\t\tvar name = tag.tagName.toLowerCase();\r\n\t\tif (this.namespace){\r\n\t\t\tif (name.indexOf(this._full_prefix) === 0 || tag.scopeName == this.namespace)\r\n\t\t\t\treturn name.replace(this._full_prefix,\"\");\r\n\t\t} else {\r\n\t\t\tif (webix.ui[name] || this._markup_names[name])\r\n\t\t\t\treturn name;\r\n\t\t}\r\n\t\treturn 0;\r\n\t},\r\n\r\n\t_handle_data:function(el, html){\r\n\t\tvar data = [];\r\n\r\n\t\tvar records = el.getElementsByTagName(webix.markup.dataTag);\r\n\t\tfor (var i=0; i<records.length; i++){\r\n\t\t\tvar rec = records[i];\r\n\t\t\tif (rec.parentNode.parentNode.tagName != webix.markup.dataTag){\r\n\t\t\t\tvar json = this._tag_to_json(rec, html);\r\n\t\t\t\t//reuse css class \r\n\t\t\t\tif (rec.className) json.$css = rec.className;\r\n\t\t\t\tdata.push(json);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\twebix.html.remove(el);\r\n\r\n\t\treturn data;\r\n\t},\r\n\t_content:function(el, html){\r\n\t\tif (el.style) return el.innerHTML;\r\n\t\tif (el.firstChild)\r\n\t\t\treturn el.firstChild.wholeText||el.firstChild.data||\"\";\r\n\t\treturn \"\";\r\n\t},\r\n\r\n\r\n\t_tag_to_json:function(el, html){\r\n\t\tif (!html)\r\n\t\t\treturn webix.DataDriver.xml.tagToObject(el);\r\n\r\n\t\tvar json = this._attrs_to_json(el, {}, html);\r\n\t\tif (!json.value && el.childNodes.length)\r\n\t\t\tjson.value = this._content(el, html);\r\n\r\n\t\treturn json;\r\n\t},\r\n\t_attrs_to_json:function(el, json, html){\r\n\t\tvar attrs = el.attributes;\r\n        for (var i=0; i<attrs.length; i++){\r\n            var name = attrs[i].name;\r\n            if (html){\r\n                if (name.indexOf(this.attribute) !== 0)\r\n                    continue;\r\n                name = name.replace(this.attribute,\"\").replace(this._dash, this._after_dash);\r\n            }\r\n\r\n            var value = attrs[i].value;\r\n            if (value.indexOf(\"json://\") != -1)\r\n                value = JSON.parse(value.replace(\"json://\",\"\"));\r\n\r\n            if (this._parse_int[name])\r\n                value = parseInt(value,10);\r\n            else if (this._parse_bool[name])\r\n            \tvalue = (value && value !== \"false\" && value != \"0\");\r\n\r\n            json[name] = value;\r\n        }\r\n        return json;\r\n\t}\r\n};\r\n(function(){\r\n\tvar _webix_msg_cfg = null;\r\n\tfunction callback(config, result){\r\n\t\t\tvar usercall = config.callback;\r\n\t\t\tmodality(false);\r\n\t\t\tconfig.box.parentNode.removeChild(config.box);\r\n\t\t\t_webix_msg_cfg = config.box = null;\r\n\t\t\tif (usercall)\r\n\t\t\t\tusercall(result,config.details);\r\n\t}\r\n\tfunction modal_key(e){\r\n\t\tif (_webix_msg_cfg){\r\n\t\t\te = e||event;\r\n\t\t\tvar code = e.which||event.keyCode;\r\n\t\t\tif (webix.message.keyboard){\r\n\t\t\t\tif (code == 13 || code == 32)\r\n\t\t\t\t\tcallback(_webix_msg_cfg, true);\r\n\t\t\t\tif (code == 27)\r\n\t\t\t\t\tcallback(_webix_msg_cfg, false);\r\n\t\t\t\r\n\t\t\t\tif (e.preventDefault)\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\treturn !(e.cancelBubble = true);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (document.attachEvent)\r\n\t\tdocument.attachEvent(\"onkeydown\", modal_key);\r\n\telse\r\n\t\tdocument.addEventListener(\"keydown\", modal_key, true);\r\n\t\t\r\n\tfunction modality(mode){\r\n\t\tif(!modality.cover || !modality.cover.parentNode){\r\n\t\t\tmodality.cover = document.createElement(\"DIV\");\r\n\t\t\t//necessary for IE only\r\n\t\t\tmodality.cover.onkeydown = modal_key;\r\n\t\t\tmodality.cover.className = \"webix_modal_cover\";\r\n\t\t\tdocument.body.appendChild(modality.cover);\r\n\t\t}\r\n\t\tmodality.cover.style.display = mode?\"inline-block\":\"none\";\r\n\t}\r\n\r\n\tfunction button(text, result, className){\r\n\t\treturn \"<div role='button' tabindex='0' aria-label='\"+text+\"' class='webix_popup_button\"+(className?(\" \"+className):\"\")+\"' result='\"+result+\"' ><div>\"+text+\"</div></div>\";\r\n\t}\r\n\r\n\tfunction info(text){\r\n\t\tif (!t.area){\r\n\t\t\tt.area = document.createElement(\"DIV\");\r\n\t\t\tt.area.className = \"webix_message_area\";\r\n\t\t\tt.area.style[t.position]=\"5px\";\r\n\t\t\t\r\n\t\t\tdocument.body.appendChild(t.area);\r\n\t\t}\r\n\t\tt.area.setAttribute(\"role\", \"alert\");\r\n\t\tt.area.setAttribute(\"aria-atomic\", true);\r\n\t\tt.hide(text.id);\r\n\t\tvar message = document.createElement(\"DIV\");\r\n\t\tmessage.innerHTML = \"<div>\"+text.text+\"</div>\";\r\n\t\tmessage.className = \"webix_info webix_\" + text.type;\r\n\t\tmessage.onclick = function(){\r\n\t\t\tt.hide(text.id);\r\n\t\t\ttext = null;\r\n\t\t};\r\n\r\n\t\tif (webix.$testmode)\r\n\t\t\tmessage.className += \" webix_no_transition\";\r\n\r\n\t\tif (t.position == \"bottom\" && t.area.firstChild)\r\n\t\t\tt.area.insertBefore(message,t.area.firstChild);\r\n\t\telse\r\n\t\t\tt.area.appendChild(message);\r\n\t\t\r\n\t\tif (text.expire > 0)\r\n\t\t\tt.timers[text.id]=window.setTimeout(function(){\r\n\t\t\t\tt.hide(text.id);\r\n\t\t\t}, text.expire);\r\n\r\n\t\t//styling for animation\r\n\t\tmessage.style.height = message.offsetHeight-2+\"px\";\r\n\r\n\t\tt.pull[text.id] = message;\r\n\t\tmessage = null;\r\n\r\n\t\treturn text.id;\r\n\t}\r\n\tfunction _boxStructure(config, ok, cancel){\r\n\t\tvar box = document.createElement(\"DIV\");\r\n\t\tbox.className = \" webix_modal_box webix_\"+config.type;\r\n\t\tbox.setAttribute(\"webixbox\", 1);\r\n\t\tbox.setAttribute(\"role\", \"alertdialog\");\r\n\t\tbox.setAttribute(\"aria-label\", config.title || \"\");\r\n\t\tbox.setAttribute(\"tabindex\", \"0\");\r\n\t\t\t\r\n\t\tvar inner = '';\r\n\t\tif (config.width)\r\n\t\t\tbox.style.width = config.width+(webix.rules.isNumber(config.width)?\"px\":\"\");\r\n\t\tif (config.height)\r\n\t\t\tbox.style.height = config.height+(webix.rules.isNumber(config.height)?\"px\":\"\");\r\n\t\tif (config.title)\r\n\t\t\tinner+='<div class=\"webix_popup_title\">'+config.title+'</div>';\r\n\t\tinner+='<div class=\"webix_popup_text\"><span>'+(config.content?'':config.text)+'</span></div><div  class=\"webix_popup_controls\">';\r\n\t\tif (ok || config.ok)\r\n\t\t\tinner += button(config.ok || \"OK\", true,\"confirm\");\r\n\t\tif (cancel || config.cancel)\r\n\t\t\tinner += button(config.cancel || \"Cancel\", false);\r\n\t\tif (config.buttons){\r\n\t\t\tfor (var i=0; i<config.buttons.length; i++)\r\n\t\t\t\tinner += button(config.buttons[i],i);\r\n\t\t}\r\n\t\tinner += '</div>';\r\n\t\tbox.innerHTML = inner;\r\n\r\n\t\tif (config.content){\r\n\t\t\tvar node = config.content;\r\n\t\t\tif (typeof node == \"string\") \r\n\t\t\t\tnode = document.getElementById(node);\r\n\t\t\tif (node.style.display == 'none')\r\n\t\t\t\tnode.style.display = \"\";\r\n\t\t\tbox.childNodes[config.title?1:0].appendChild(node);\r\n\t\t}\r\n\r\n\t\tbox.onclick = function(e){\r\n\t\t\te = e ||event;\r\n\t\t\tvar source = e.target || e.srcElement;\r\n\t\t\tif (!source.className) source = source.parentNode;\r\n\t\t\tif (source.className.indexOf(\"webix_popup_button\")!=-1){\r\n\t\t\t\tvar result = source.getAttribute(\"result\");\r\n\t\t\t\tresult = (result == \"true\")||(result == \"false\"?false:result);\r\n\t\t\t\tcallback(config, result);\r\n\t\t\t}\r\n\t\t\te.cancelBubble = true;\r\n\t\t};\r\n\t\tconfig.box = box;\r\n\t\tif (ok||cancel||config.buttons)\r\n\t\t\t_webix_msg_cfg = config;\r\n\r\n\t\treturn box;\r\n\t}\r\n\tfunction _createBox(config, ok, cancel){\r\n\t\tvar box = config.tagName ? config : _boxStructure(config, ok, cancel);\r\n\t\t\r\n\t\tif (!config.hidden)\r\n\t\t\tmodality(true);\r\n\t\tdocument.body.appendChild(box);\r\n\t\tvar x = config.left||Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth) - box.offsetWidth)/2));\r\n\t\tvar y = config.top||Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight) - box.offsetHeight)/2));\r\n\t\tif (config.position == \"top\")\r\n\t\t\tbox.style.top = \"-3px\";\r\n\t\telse\r\n\t\t\tbox.style.top = y+'px';\r\n\t\tbox.style.left = x+'px';\r\n\t\t//necessary for IE only\r\n\t\tbox.onkeydown = modal_key;\r\n\r\n\t\tbox.focus();\r\n\t\tif (config.hidden)\r\n\t\t\twebix.modalbox.hide(box);\r\n\r\n\t\treturn box;\r\n\t}\r\n\r\n\tfunction alertPopup(config){\r\n\t\treturn _createBox(config, true, false);\r\n\t}\r\n\tfunction confirmPopup(config){\r\n\t\treturn _createBox(config, true, true);\r\n\t}\r\n\tfunction boxPopup(config){\r\n\t\treturn _createBox(config);\r\n\t}\r\n\tfunction box_params(text, type, callback){\r\n\t\tif (typeof text != \"object\"){\r\n\t\t\tif (typeof type == \"function\"){\r\n\t\t\t\tcallback = type;\r\n\t\t\t\ttype = \"\";\r\n\t\t\t}\r\n\t\t\ttext = {text:text, type:type, callback:callback };\r\n\t\t}\r\n\t\treturn text;\r\n\t}\r\n\tfunction params(text, type, expire, id){\r\n\t\tif (typeof text != \"object\")\r\n\t\t\ttext = {text:text, type:type, expire:expire, id:id};\r\n\t\ttext.id = text.id||t.uid();\r\n\t\ttext.expire = text.expire||t.expire;\r\n\t\treturn text;\r\n\t}\r\n\twebix.alert = function(){\r\n\t\tvar text = box_params.apply(this, arguments);\r\n\t\ttext.type = text.type || \"confirm\";\r\n\t\treturn alertPopup(text);\r\n\t};\r\n\twebix.confirm = function(){\r\n\t\tvar text = box_params.apply(this, arguments);\r\n\t\ttext.type = text.type || \"alert\";\r\n\t\treturn confirmPopup(text);\r\n\t};\r\n\twebix.modalbox = function(){\r\n\t\tvar text = box_params.apply(this, arguments);\r\n\t\ttext.type = text.type || \"alert\";\r\n\t\treturn boxPopup(text);\r\n\t};\r\n\twebix.modalbox.hide = function(node){\r\n\t\tif(node){\r\n\t\t\twhile (node && node.getAttribute && !node.getAttribute(\"webixbox\"))\r\n\t\t\t\tnode = node.parentNode;\r\n\t\t\tif (node){\r\n\t\t\t\tnode.parentNode.removeChild(node);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tmodality(false);\r\n\t\t_webix_msg_cfg = null;\r\n\t};\r\n\tvar t = webix.message = function(text, type, expire, id){\r\n\t\ttext = params.apply(this, arguments);\r\n\t\ttext.type = text.type||\"info\";\r\n\r\n\t\tvar subtype = text.type.split(\"-\")[0];\r\n\t\tswitch (subtype){\r\n\t\t\tcase \"alert\":\r\n\t\t\t\treturn alertPopup(text);\r\n\t\t\tcase \"confirm\":\r\n\t\t\t\treturn confirmPopup(text);\r\n\t\t\tcase \"modalbox\":\r\n\t\t\t\treturn boxPopup(text);\r\n\t\t\tdefault:\r\n\t\t\t\treturn info(text);\r\n\t\t}\r\n\t};\r\n\r\n\tt.seed = (new Date()).valueOf();\r\n\tt.uid = function(){return t.seed++;};\r\n\tt.expire = 4000;\r\n\tt.keyboard = true;\r\n\tt.position = \"top\";\r\n\tt.pull = {};\r\n\tt.timers = {};\r\n\r\n\tt.hideAll = function(){\r\n\t\tfor (var key in t.pull)\r\n\t\t\tt.hide(key);\r\n\t};\r\n\tt.hide = function(id){\r\n\t\tvar obj = t.pull[id];\r\n\t\tif (obj && obj.parentNode){\r\n\t\t\twindow.setTimeout(function(){\r\n\t\t\t\tobj.parentNode.removeChild(obj);\r\n\t\t\t\tobj = null;\r\n\t\t\t},2000);\r\n\t\t\t//styling for animation\r\n\t\t\tobj.style.height = 0;\r\n\t\t\tobj.className+=\" hidden\";\r\n\t\t\tt.area.removeAttribute(\"role\");\r\n\t\t\t\r\n\t\t\tif(t.timers[id])\r\n\t\t\t\twindow.clearTimeout(t.timers[id]);\r\n\t\t\tdelete t.pull[id];\r\n\t\t}\r\n\t};\r\n})();\r\nwebix.debug_ready(function(){\r\n\r\n\tvar ignore = {\r\n\t\t\"_inner\":true, \r\n\t\t\"awidth\":true,\r\n\t\t\"cheight\":true,\r\n\t\t\"bheight\":true,\r\n\t\t\"aheight\":true\r\n\t};\r\n\r\n\tfunction get_inspector_config(view){\r\n\t\tvar values={};\r\n\t\tvar options=[];\r\n\t\tview = webix.$$(view);\r\n\r\n\t\tfor (var key in view.config){\r\n\t\t\tif (ignore[key]) continue;\r\n\t\t\t\r\n\t\t\tif (typeof view.config[key] == \"object\") continue;\r\n\t\t\tif (typeof view.config[key] == \"undefined\") continue;\r\n\t\t\tif (typeof view.config[key] == \"function\") continue;\r\n\r\n\t\t\tif (key == \"view\" || key == \"id\")\r\n\t\t\t\toptions.push({ label:key, id:key});\r\n\t\t\telse \r\n\t\t\t\toptions.push({ label:key, type:\"text\", id:key});\r\n\r\n\t\t\tif (view.defaults[key] == view.config[key]) \r\n\t\t\t\toptions[options.length - 1].css = { \"color\" : \"#888\" };\r\n\r\n\t\t\tvalues[key] = view.config[key];\r\n\t\t}\r\n\t\toptions.sort(function(a,b){\r\n\t\t\tif (!a.css && b.css) return -1;\r\n\t\t\tif (a.css && !b.css) return 1;\r\n\t\t\treturn (a.id > b.id) ? 1 : ((a.id == b.id) ? 0 : -1);\r\n\t\t});\r\n\r\n\t\treturn { elements:options, data:values, head:\" [\"+view.name+\"] <strong>\"+view._settings.id+\"</strong>\" };\r\n\t}\r\n\r\n\tfunction create_inspector(){\r\n\t\tif (!webix.$$(\"webix_debug_inspector_win\"))\r\n\t\t\twebix.ui({\r\n\t\t\t\tid:\"webix_debug_inspector_win\",\r\n\t\t\t\tview:\"window\", \r\n\t\t\t\ttop:2, left: 0, width:350, height:350,\r\n\t\t\t\thead:false, autofit:false,\r\n\t\t\t\tbody:{cols:[\r\n\t\t\t\t\t{ width:10},\r\n\t\t\t\t\t{type:\"clean\", rows:[\r\n\t\t\t\t\t\t{ view:\"toolbar\", elements:[\r\n\t\t\t\t\t\t\t{ view:\"label\", value:\"\", id:\"webix_debug_inspector_head\" },\r\n\t\t\t\t\t\t\t{ view:\"button\", width:100, value:\"Hide\", type:\"custom\", click:function(){\r\n\t\t\t\t\t\t\t\twebix.debug_inspect();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t]},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid:\"webix_debug_inspector\", nameWidth:150,\r\n\t\t\t\t\t\t\tview:\"property\", scroll:\"y\",\r\n\t\t\t\t\t\t\telements:[],\r\n\t\t\t\t\t\t\ton:{\r\n\t\t\t\t\t\t\t\tonaftereditstop:function(state, editor){\r\n\t\t\t\t\t\t\t\t\tif (state.old == state.value) return;\r\n\r\n\t\t\t\t\t\t\t\t\tvar value = state.value;\r\n\t\t\t\t\t\t\t\t\tif (value === \"true\" || value === \"false\"){\r\n\t\t\t\t\t\t\t\t\t\tvalue = (value === \"true\");\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tvar intvalue = parseInt(value,10);\r\n\t\t\t\t\t\t\t\t\t\tif (intvalue == value)\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = intvalue;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tvar view = webix.$$(this.config.view);\r\n\t\t\t\t\t\t\t\t\tview.define(editor.id, value);\r\n\t\t\t\t\t\t\t\t\tif (view.refreshColumns)\r\n\t\t\t\t\t\t\t\t\t\tview.refreshColumns();\r\n\t\t\t\t\t\t\t\t\telse if (view.refresh)\r\n\t\t\t\t\t\t\t\t\t\tview.refresh();\r\n\r\n\t\t\t\t\t\t\t\t\tview.resize();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tfunction show_inspector(view, ev){\r\n\t\tcreate_inspector();\r\n\t\tvar win = webix.$$(\"webix_debug_inspector_win\");\r\n\r\n\t\tif (view){\r\n\t\t\tvar config = get_inspector_config(view);\r\n\t\t\tvar winx = document.body.offsetWidth;\r\n\t\t\tvar winy = document.body.offsetHeight;\r\n\t\t\tvar pos = ev?webix.html.pos(ev):{x:0,y:0};\r\n\r\n\t\t\twin.define(\"height\", Math.max(350, winy-4));\r\n\t\t\twin.resize();\r\n\r\n\t\t\tvar props = webix.$$(\"webix_debug_inspector\");\r\n\t\t\tprops.define(\"elements\", config.elements);\r\n\t\t\tprops.define(\"view\", view);\r\n\r\n\t\t\twin.show({ x:(pos.x > winx/2 )?0:(winx-370), y:0 });\r\n\t\t\twebix.$$(\"webix_debug_inspector\").setValues(config.data);\r\n\t\t\twebix.$$(\"webix_debug_inspector_head\").setValue(config.head);\r\n\t\t} else \r\n\t\t\twin.hide();\r\n\t}\r\n\twebix.debug_inspect = show_inspector;\r\n\r\n\tfunction infi(value){\r\n\t\tif (value >= 100000)\r\n\t\t\treturn \"Any\";\r\n\t\treturn value;\r\n\t}\r\n\tfunction log_level(data, prefix, now){\r\n\t\twindow.console.log((data == now?\">>\":\"  \")+prefix + data.name+\" / \" +data.config.id);\r\n\t\tprefix+=\"  \";\r\n\t\tif (data._cells)\r\n\t\t\tfor (var i=0; i<data._cells.length; i++){\r\n\t\t\t\tlog_level(data._cells[i], prefix, now);\r\n\t\t\t}\r\n\t\tif (data._head_cell)\r\n\t\t\tlog_level(data._head_cell, prefix, now);\r\n\r\n\t\tif (data._body_cell)\r\n\t\t\tlog_level(data._body_cell, prefix, now);\r\n\t}\r\n\r\n\twebix.ui({\r\n\t\tview:\"contextmenu\",\r\n\t\tid:\"webix:debugmenu\",\r\n\t\ton:{\r\n\t\t\tonBeforeShow:function(e){\r\n\t\t\t\tif (!e.ctrlKey) return false;\r\n\r\n\t\t\t\tvar view = webix.html.locate(e, \"view_id\");\r\n\t\t\t\tif (!view) return false;\r\n\t\t\t\tthis.config.lastTarget = view;\r\n\r\n\t\t\t\twebix.blockEvent();\r\n\t\t\t\twebix.delay(function(){ webix.unblockEvent(); });\r\n\t\t\t},\r\n\t\t\tonShow:function(){\r\n\t\t\t\tvar view = webix.$$(this.config.lastTarget);\r\n\t\t\t\tvar info = \"<span style='color:#888'>\"+view._settings.id + \"<sup style='float:right'>[\"+view.name+\"]</sup></span>\";\r\n\t\t\t\tdocument.getElementById(\"webix_debug_cmx\").innerHTML = info;\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata:[\r\n\t\t\t\"<div id='webix_debug_cmx'></div>\",\r\n\t\t\t{ id:\"inspect\", value:\"Inspect\"},\r\n\t\t\t{ id:\"docs\", value:\"Documentation\"},\r\n\t\t\t{\r\n\t\t\t\tvalue:\"Log to Console\", submenu:[\r\n\t\t\t\t\t{ id:\"size\", value:\"Sizes\" },\r\n\t\t\t\t\t{ id:\"tree\", value:\"Tree\" },\r\n\t\t\t\t\t{ id:\"dump\", value:\"Dump\"}\r\n\t\t\t\t]\r\n\t\t\t}\t\t\r\n\t\t],\r\n\t\tclick:function(id, ev){\r\n\t\t\t//mixing two object result in confusion\r\n\t\t\tvar obj = webix.$$(this.config.lastTarget);\r\n\r\n\t\t\tif  (id == \"dump\"){\r\n\t\t\t\twindow.console.info(\"\\n\"+obj.name+\" / \"+obj.config.id);\r\n\t\t\t\twindow.console.log(\"\\nView: \",obj,\", Config: \", obj.config, \", Data: \", obj.data);\r\n\t\t\t\twindow.console.log(obj.$view);\r\n\t\t\t}\r\n\r\n\t\t\tif (id == \"tree\"){\r\n\t\t\t\t\r\n\t\t\t\tvar now = obj;\r\n\t\t\t\twhile (obj.getParentView())\r\n\t\t\t\t\tobj = obj.getParentView();\r\n\r\n\t\t\t\twindow.console.log(\"\");\r\n\t\t\t\tlog_level(obj, \"\", now);\r\n\t\t\t}\r\n\r\n\t\t\tif (id == \"size\"){\r\n\t\t\t\twindow.console.info(\"\");\r\n\t\t\t\twindow.console.info(\"\\n\"+obj.name+\" / \"+obj.config.id);\r\n\t\t\t\twindow.console.info(\"\\n[min]   \", obj.config.width, \" x \", obj.config.height);\r\n\t\t\t\tvar sizes = obj.$getSize(0,0);\r\n\t\t\t\twindow.console.info(\"[max]    \", infi(sizes[1]), \" x \", infi(sizes[3])+(obj.config.autoheight?\", auto height\":\"\"));\r\n\t\t\t\twindow.console.info(\"[gravity]   \", obj.config.gravity);\r\n\r\n\t\t\t\twindow.console.info(\"\\n[content]    \", obj._content_width, \" x \", obj._content_height);\r\n\t\t\t\twindow.console.info(\"[last set]   \", obj._last_size[0], \" x \", obj._last_size[1]);\r\n\t\t\t\tif (obj._settings._inner)\r\n\t\t\t\t\twindow.console.info(\"\\n[borders]   \", \"left:\", !obj._settings._inner.left,\"\\ttop:\", !obj._settings._inner.top,  \"\\tright:\", !obj._settings._inner.right,  \"\\tbottom:\", !obj._settings._inner.bottom);\r\n\t\t\t\telse\r\n\t\t\t\t\twindow.console.info(\"\\n[borders]   none\");\r\n\t\t\t}\r\n\r\n\t\t\tif (id == \"docs\")\r\n\t\t\t\twindow.open(\"http://docs.webix.com/api__refs__ui.\"+obj.name+\".html\",\"__blank\");\r\n\r\n\t\t\tif (id == \"inspect\"){\r\n\t\t\t\tshow_inspector(this.config.lastTarget, ev);\r\n\t\t\t}\r\n\t\t},\r\n\t\tmaster:document.body\r\n\t});\r\n});\r\n\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"carousel\",\r\n\tdefaults:{\r\n\t\tscrollSpeed:\"300ms\",\r\n\t\ttype: \"clean\",\r\n\t\tnavigation: {}\r\n\t},\r\n\t$init:function(config){\r\n\t\tthis._viewobj.className += \" webix_carousel\";\r\n\t\tthis._layout = null;\r\n\t\tthis._dataobj = null;\r\n\t\tthis._active_cell = 0;\r\n\t\tthis.$ready.unshift(this._initLayout);\r\n\t\tthis.$ready.push(this._after_init_call);\r\n\t},\r\n\r\n\t_initLayout: function(){\r\n\t\tif(this._layout && this._layout.destructor)\r\n\t\t\tthis._layout.destructor();\r\n\r\n\t\tvar layout = \"\";\r\n\r\n\t\tif(this.config.cols){\r\n\t\t\tlayout = \"cols\";\r\n\t\t\tthis._vertical_orientation = 0;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tlayout = \"rows\";\r\n\t\t\tthis._vertical_orientation = 1;\r\n\t\t}\r\n\r\n\t\tvar config = {borderless: true, type: \"clean\"};\r\n\t\tconfig[layout] = webix.copy(this._settings[layout]);\r\n\t\tvar layoutProp = [\"type\", \"margin\", \"marginX\", \"marginY\", \"padding\", \"paddingX\", \"paddingY\"];\r\n\t\tvar layoutConfig = {};\r\n\t\tfor(var i=0; i< layoutProp.length; i++){\r\n\t\t\tif(this._settings[layoutProp[i]]){\r\n\t\t\t\tlayoutConfig[layoutProp[i]] = this._settings[layoutProp[i]];\r\n\t\t\t}\r\n\t\t}\r\n\t\twebix.extend(config,layoutConfig,true);\r\n\r\n\t\tthis._layout = webix.ui._view(config);\r\n\t\tthis._layout._parent_cell = this;\r\n\r\n\t\tthis._viewobj.appendChild(this._layout._viewobj);\r\n\t\tthis._cells = this._layout._cells;\r\n\r\n\t\tthis._layout._show = webix.bind(webix.ui.carousel.prototype._show,this);\r\n\t\tthis._layout.adjustScroll = webix.bind(webix.ui.carousel.prototype.adjustScroll,this);\r\n\r\n\t\twebix.attachEvent(\"onReconstruct\", webix.bind(function(view){\r\n\t\t\tif(view == this._layout)\r\n\t\t\t\tthis._setScroll();\r\n\t\t},this));\r\n\r\n\t\tthis._contentobj = this._viewobj.firstChild;\r\n\t},\r\n\t_onKeyPress:function(code, e){\r\n\t\tif(this._settings.navigation.items && e.target.getAttribute(\"role\") === \"tab\")\r\n\t\t\tthis._moveActive(code, e);\r\n\r\n\t\twebix.ui.baseview.prototype._onKeyPress.call(this, code, e);\r\n\t},\r\n\tgetChildViews:function(){\r\n\t\treturn [this._layout];\r\n\t},\r\n\tgetLayout:function(){\r\n\t\treturn this._layout;\r\n\t},\r\n\t_after_init_call:function(){\r\n\t\tthis._contentobj.setAttribute(\"touch_scroll\", (this._vertical_orientation?\"y\":\"x\"));\r\n\r\n\t\tthis._layout.attachEvent(\"onAfterScroll\",webix.bind(function(view){\r\n\t\t\tthis.callEvent(\"onShow\",[this.getActiveId()]);\r\n\t\t},this));\r\n\r\n\t\twebix.ui.each(this._layout, function(view){\r\n\t\t\tview._viewobj.setAttribute(\"role\", \"tabpanel\");\r\n\t\t});\r\n\t},\r\n\tadjustScroll:function(matrix){\r\n\t\tvar size =  (this._vertical_orientation?this._content_height:this._content_width);\r\n\r\n\t\tvar correction;\r\n\t\tif (this._vertical_orientation) {\r\n\t\t\tcorrection = Math.round(matrix.f/size);\r\n\t\t\tmatrix.f = correction*size;\r\n\t\t} else {\r\n\t\t\tcorrection = Math.round(matrix.e/size);\r\n\t\t\tmatrix.e = correction*size;\r\n\t\t}\r\n\t\t\r\n\t\tthis._active_cell = - correction;\r\n\r\n\t\tif(this._settings.navigation)\r\n\t\t\tthis._renderNavItems();\r\n\r\n\t\treturn true;\r\n\t},\r\n\t_show:function(obj){\r\n\t\tvar i, layout, _nextCell, _size, x, y;\r\n\t\t_nextCell = -1;\r\n\t\tlayout = this._layout;\r\n\t\tfor (i=0; i < layout._cells.length; i++){\r\n\t\t\tif (layout._cells[i]==obj){\r\n\t\t\t\t_nextCell = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (_nextCell < 0 || _nextCell == this._active_cell)\r\n\t\t\treturn;\r\n\r\n\t\tthis._active_cell = _nextCell;\r\n\t\t_size =  (layout._vertical_orientation?this._content_height:this._content_width);\r\n\r\n\t\tx = -(layout._vertical_orientation?0:_nextCell*_size);\r\n\t\ty = -(layout._vertical_orientation?_nextCell*_size:0);\r\n\r\n\t\tthis.scrollTo(x,y);\r\n\t\tthis.callEvent(\"onShow\",[layout._cells[this._active_cell]._settings.id]);\r\n\t\tif(this._settings.navigation)\r\n\t\t\tthis._renderPanel();\r\n\t},\r\n\tscrollTo:function(x,y){\r\n\t\tif (webix.Touch && webix.animate.isSupported())\r\n\t\t\twebix.Touch._set_matrix(this._contentobj, x,y, this._settings.scrollSpeed||\"100ms\");\r\n\t\telse{\r\n\t\t\tthis._contentobj.style.marginLeft = x+\"px\";\r\n\t\t\tthis._contentobj.style.marginTop =  y+\"px\";\r\n\t\t}\r\n\t},\r\n\tnavigation_setter:function(config){\r\n\t\tthis._mergeSettings(config,{\r\n\t\t\ttype: \"corner\",\r\n\t\t\tbuttons: true,\r\n\t\t\titems: true\r\n\t\t});\r\n\t\treturn config;\r\n\t},\r\n\tshowNext:function(){\r\n\t\tif (this._active_cell < this._layout._cells.length - 1)\r\n\t\t\tthis.setActiveIndex(this._active_cell+1);\r\n\t},\r\n\tshowPrev:function(){\r\n\t\tif (this._active_cell > 0)\r\n\t\t\tthis.setActiveIndex(this._active_cell-1);\r\n\t},\r\n\tsetActiveIndex:function(value){\r\n\t\twebix.assert(value < this._layout._cells.length, \"Not existing index in collection\");\r\n\r\n\t\tvar id = this._layout._cells[value]._settings.id;\r\n\t\twebix.$$(id).show();\r\n\t},\r\n\tgetActiveIndex:function(){\r\n\t\treturn this._active_cell;\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tvar layoutSizes = this._layout.$getSize(0, 0);\r\n\t\tvar selfSizes   = webix.ui.view.prototype.$getSize.call(this, dx, dy);\r\n\t\tif(this._layout._vertical_orientation){\r\n\t\t\tselfSizes[0] = Math.max(selfSizes[0], layoutSizes[0]);\r\n\t\t\tselfSizes[1] = Math.min(selfSizes[1], layoutSizes[1]);\r\n\r\n\t\t} else{\r\n\t\t\tselfSizes[2] = Math.max(selfSizes[2], layoutSizes[2]);\r\n\t\t\tselfSizes[3] = Math.min(selfSizes[3], layoutSizes[3]);\r\n\t\t}\r\n\t\treturn selfSizes;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tvar layout = this._layout;\r\n\t\tvar c = layout._cells.length;\r\n\r\n\t\tvar changed = webix.ui.view.prototype.$setSize.call(this,x,y);\r\n\t\tvar yc = this._content_height*(layout._vertical_orientation?c:1);\r\n\t\tvar xc = this._content_width*(layout._vertical_orientation?1:c);\r\n\r\n\t\tif (changed){\r\n\t\t\tthis._contentobj.style.height = yc+\"px\";\r\n\t\t\tthis._contentobj.style.width = xc+\"px\";\r\n\t\t\tlayout.$setSize(xc,yc);\r\n\t\t\tthis._setScroll();\r\n\t\t} else\r\n\t\t\tlayout.$setSize(xc,yc);\r\n\t},\r\n\t_setScroll: function(){\r\n\t\tvar layout = this._layout;\r\n\t\tvar activeCell = this._active_cell||0;\r\n\t\tvar size =  (layout._vertical_orientation?this._content_height:this._content_width);\r\n\r\n\t\tvar x = -(layout._vertical_orientation?0:activeCell*size);\r\n\t\tvar y = -(layout._vertical_orientation?activeCell*size:0);\r\n\r\n\r\n\t\tthis.scrollTo(x,y);\r\n\r\n\t\tif(this._settings.navigation)\r\n\t\t\tthis._renderPanel();\r\n\t},\r\n\tgetActiveId:function(){\r\n\t\tvar cell = this._layout._cells[this._active_cell];\r\n\t\treturn cell?cell._settings.id:null;\r\n\t},\r\n\tsetActive:function(value){\r\n\t\twebix.$$(value).show();\r\n\t}\r\n}, webix.EventSystem,webix.NavigationButtons, webix.ui.view);\r\n\r\n/*\r\n\tUI:Uploader\r\n*/\r\n\r\n\r\n\r\n\r\n\r\nwebix.type(webix.ui.list, {\r\n\tname:\"uploader\",\r\n\ttemplate:\"#name#  {common.removeIcon()}{common.percent()}<div style='float:right'>#sizetext#</div>\",\r\n\tpercent:function(obj){\r\n\t\tif (obj.status == 'transfer')\r\n\t\t\treturn \"<div style='width:60px; text-align:center; float:right'>\"+obj.percent+\"%</div>\";\r\n\t\treturn \"<div class='webix_upload_\"+obj.status+\"'><span class='\"+(obj.status ==\"error\"?\"error_icon\":\"fa-check webix_icon\")+\"'></span></div>\";\r\n\t},\r\n\tremoveIcon:function(obj){\r\n\t\treturn \"<div class='webix_remove_upload'><span class='cancel_icon'></span></div>\";\r\n\t},\r\n\ton_click:{\r\n\t\t\"webix_remove_upload\":function(ev, id){\r\n\t\t\twebix.$$(this.config.uploader).files.remove(id);\r\n\t\t}\r\n\t}\r\n});\r\n\r\nwebix.UploadDriver = {\r\n\tflash: {\r\n\t\t$render: function(render_config) {\r\n\r\n\t\t\tif (!window.swfobject)\r\n\t\t\t\twebix.require(\"legacy/swfobject.js\", true); // sync loading\r\n\r\n\t\t\tvar config = this._settings;\r\n\t\t\tconfig.swfId = (config.swfId||\"webix_swf_\"+webix.uid());\r\n\r\n\t\t\tthis._getBox().innerHTML += \"<div class='webix_upload_flash'><div id='\"+config.swfId+\"'></div></div>\";\r\n\t\t\tthis._upload_area = this._getBox().lastChild;\r\n\r\n\t\t\t// add swf object\r\n\t\t\tswfobject.embedSWF(webix.codebase+\"/legacy/uploader.swf\", config.swfId, \"100%\", \"100%\", \"9\", null, {\r\n\t\t\t\t\tuploaderId: config.id,\r\n\t\t\t\t\tID: config.swfId,\r\n\t\t\t\t\tenableLogs:(config.enableLogs?\"1\":\"\"),\r\n\t\t\t\t\tparamName:(config.inputName),\r\n\t\t\t\t\tmultiple:(config.multiple?\"Y\":\"\")\r\n\t\t\t}, {wmode:\"transparent\"});\r\n\r\n\t\t\tvar v = swfobject.getFlashPlayerVersion();\r\n\r\n\t\t\twebix.event(this._viewobj, \"click\", webix.bind(function() {\r\n\t\t\t\tvar now_date = new Date();\r\n\t\t\t\tif (now_date - (this._upload_timer_click||0)  > 250){\r\n\t\t\t\t\tthis.fileDialog();\r\n\t\t\t\t}\r\n\t\t\t}, this));\r\n\r\n\t\t\tthis.files.attachEvent(\"onBeforeDelete\", webix.bind(this._stop_file,this));\r\n\t\t},\r\n\t\t$applyFlash: function(name,params){\r\n\t\t\treturn this[name].apply(this,params);\r\n\t\t},\r\n\t\tgetSwfObject: function(){\r\n\t\t\treturn swfobject.getObjectById(this._settings.swfId);\r\n\t\t},\r\n\t\tfileDialog:function(){\r\n\t\t\tif(this.getSwfObject())\r\n\t\t\t\tthis.getSwfObject().showDialog();\r\n\t\t},\r\n\t\tsend: function(id){\r\n\t\t\tif (typeof id == \"function\"){\r\n\t\t\t\tthis._last_assigned_upload_callback = id;\r\n\t\t\t\tid = 0;\r\n\t\t\t}\r\n\r\n\t\t\tif (!id){\r\n\t\t\t\tvar order = this.files.data.order;\r\n\t\t\t\tvar complete = true;\r\n\t\t\t\tif (order.length)\r\n\t\t\t\t\tfor (var i=0; i<order.length; i++){\r\n\t\t\t\t\t\tcomplete = this.send(order[i])&&complete;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\tif (complete)\r\n\t\t\t\t\tthis._upload_complete();\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar item = this.files.getItem(id);\r\n\t\t\tif (item.status !== 'client')\r\n\t\t\t\treturn false;\r\n\t\t\titem.status = 'transfer';\r\n\r\n\t\t\tif(this.getSwfObject()){\r\n\t\t\t\tvar url = this._get_active_url();\r\n\t\t\t\tthis.getSwfObject().upload(id, url, this._settings.formData||{});\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\r\n\t\t},\r\n\t\t$beforeAddFileToQueue: function( id, name, size ){\r\n\r\n\t\t\tvar type = name.split(\".\").pop();\r\n\t\t\tvar format = this._format_size(size);\r\n\t\t\treturn this.callEvent(\"onBeforeFileAdd\", [{\r\n\t\t\t\tid: id,\r\n\t\t\t\tname:name,\r\n\t\t\t\tsize:size,\r\n\t\t\t\tsizetext:format,\r\n\t\t\t\ttype:type\r\n\t\t\t}]);\r\n\t\t},\r\n\t\t$addFileToQueue: function(id, name, size){\r\n\t\t\tif(this.files.exists(id))\r\n\t\t\t\treturn false;\r\n\t\t\tif (!this._settings.multiple)\r\n\t\t\t\tthis.files.clearAll();\r\n\t\t\tvar type = name.split(\".\").pop();\r\n\t\t\tvar format = this._format_size(size);\r\n\t\t\tvar file_struct = {\r\n\t\t\t\tname:name,\r\n\t\t\t\tid: id,\r\n\t\t\t\tsize:size,\r\n\t\t\t\tsizetext:format,\r\n\t\t\t\ttype:type,\r\n\t\t\t\tstatus:\"client\"\r\n\t\t\t};\r\n\t\t\tthis.files.add(file_struct);\r\n\t\t\tthis.callEvent(\"onAfterFileAdd\", [file_struct]);\r\n\r\n\t\t\tif (id && this._settings.autosend)\r\n\t\t\t\tthis.send(id);\r\n\t\t},\r\n\t\tstopUpload: function(id){\r\n\t\t\tthis._stop_file(id);\r\n\t\t},\r\n\t\t_stop_file: function(id) {\r\n\t\t\tvar item = this.files.getItem(id);\r\n\t\t\tif(item.status == \"transfer\"){\r\n\t\t\t\tthis.getSwfObject().uploadStop(id);\r\n\t\t\t\titem.status = \"client\";\r\n\t\t\t}\r\n\t\t},\r\n\t\t$onUploadComplete: function(){\r\n\t\t\tif(this._settings.autosend){\r\n\t\t\t\tthis._upload_complete();\r\n\t\t\t}\r\n\t\t},\r\n\t\t$onUploadSuccess: function(id,name,response){\r\n\t\t\tvar item = this.files.getItem(id);\r\n\t\t\tif(item){\r\n\t\t\t\titem.status = \"server\";\r\n\t\t\t\titem.progress = 100;\r\n\t\t\t\tif(response.text && (typeof response.text == \"string\")){\r\n\r\n\r\n\t\t\t\t\twebix.DataDriver.json.toObject(response.text);\r\n\r\n\t\t\t\t\twebix.extend(item,response,true);\r\n\t\t\t\t}\r\n\t\t\t\tthis.callEvent(\"onFileUpload\", [item,response]);\r\n\t\t\t\tthis.callEvent(\"onChange\", []);\r\n\t\t\t\tthis.files.updateItem(id);\r\n\t\t\t}\r\n\t\t},\r\n\t\t$onUploadFail: function(id){\r\n\t\t\tvar item = this.files.getItem(id);\r\n\t\t\titem.status = \"error\";\r\n\t\t\tdelete item.percent;\r\n\t\t\tthis.files.updateItem(id);\r\n\t\t\tthis.callEvent(\"onFileUploadError\", [item, \"\"]);\r\n\t\t}\r\n\t},\r\n\thtml5: {\r\n\t\t$render: function(config) {\r\n\t\t\tif (this._upload_area){\r\n\t\t\t\t//firstChild is webix_el_box container, which have relative position\r\n\t\t\t\t//as result, file control is placed under the button and not in the top corner\r\n\t\t\t\tthis._contentobj.firstChild.appendChild(this._upload_area);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.files.attachEvent(\"onBeforeDelete\", this._stop_file);\r\n\r\n\t\t\tvar input_config =  {\r\n\t\t\t\t\"type\": \"file\",\r\n\t\t\t\t\"class\": \"webix_hidden_upload\",\r\n\t\t\t\ttabindex:-1\r\n\t\t\t};\r\n\r\n\t\t\tif (this._settings.accept)\r\n\t\t\t\tinput_config.accept = this._settings.accept;\r\n\r\n\t\t\tif (this._settings.multiple)\r\n\t\t\t\tinput_config.multiple = \"true\";\r\n\r\n\t\t\tvar f = webix.html.create(\"input\",input_config);\r\n\t\t\tthis._upload_area = this._contentobj.firstChild.appendChild(f);\r\n\r\n\t\t\twebix.event(this._viewobj, 'drop', webix.bind(function(e) { this._drop(e); webix.html.preventEvent(e); }, this));\r\n\t\t\twebix.event(f, 'change', webix.bind(function() { \r\n\t\t\t\tthis._add_files(f.files); \r\n\t\t\t\tif (webix.env.isIE){\r\n\t\t\t\t\tvar t = document.createElement(\"form\");\r\n\t\t\t\t\tt.appendChild(this._upload_area);\r\n\t\t\t\t\tt.reset();\r\n\t\t\t\t\tthis._contentobj.firstChild.appendChild(f);\r\n\t\t\t\t} else \r\n\t\t\t\t\tf.value = \"\";\r\n\t\t\t}, this));\r\n\t\t\twebix.event(this._viewobj, \"click\", webix.bind(function() { \r\n\t\t\t\tvar now_date = new Date();\r\n\t\t\t\tif (now_date - (this._upload_timer_click||0)  > 250){\r\n\t\t\t\t\tthis.fileDialog();\r\n\t\t\t\t}\r\n\t\t\t}, this));\r\n\r\n\t\t\twebix.event(this._viewobj, 'dragenter', webix.html.preventEvent);\r\n\t\t\twebix.event(this._viewobj, 'dragexit', webix.html.preventEvent);\r\n\t\t\twebix.event(this._viewobj, 'dragover', webix.html.preventEvent);\r\n\t\t},\r\n\r\n\t\t// adding files by drag-n-drop\r\n\t\t_drop: function(e) {\r\n\t\t\tvar files = e.dataTransfer.files;\r\n\t\t\tif (this.callEvent('onBeforeFileDrop', [files, e]))\r\n\t\t\t\tthis._add_files(files);\r\n\t\t\tthis.callEvent(\"onAfterFileDrop\",[files, e]);\r\n\t\t},\r\n\r\n\t\tfileDialog:function(context){\r\n\t\t\tthis._upload_timer_click = new Date();\r\n\t\t\tthis._last_file_context = context;\r\n\t\t\tvar inputs = this._viewobj.getElementsByTagName(\"INPUT\");\r\n\t\t\tinputs[inputs.length-1].click();\r\n\t\t},\r\n\t\tsend: function(id){\r\n\t\t\t//alternative syntx send(callback)\r\n\t\t\tif (typeof id == \"function\"){\r\n\t\t\t\tthis._last_assigned_upload_callback = id; \r\n\t\t\t\tid = 0;\r\n\t\t\t}\r\n\r\n\t\t\tif (!id){\r\n\t\t\t\tvar order = this.files.data.order;\r\n\t\t\t\tvar complete = true;\r\n\t\t\t\t\r\n\t\t\t\tif (order.length)\r\n\t\t\t\t\tfor (var i=0; i<order.length; i++)\r\n\t\t\t\t\t\tcomplete = (!this.send(order[i])) && complete;\r\n\r\n\t\t\t\tif (complete)\r\n\t\t\t\t\tthis._upload_complete();\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar item = this.files.getItem(id);\r\n\t\t\tif (item.status !== 'client') return false;\r\n\r\n\t\t\twebix.assert(this._settings.upload, \"You need to define upload url for uploader component\");\r\n\t\t\titem.status = 'transfer';\r\n\r\n\t\t\tvar formData = new FormData();\r\n\t\t\tformData.append(this.config.inputName, item.file);\r\n\r\n\t\t\tvar headers = {};\r\n\t\t\tvar details = this._settings.formData || {};\r\n\r\n\t\t\tvar xhr = new XMLHttpRequest();\r\n\t\t\tvar url = this._get_active_url();\r\n\t\t\tif(webix.callEvent(\"onBeforeAjax\",[\"POST\", url, details, xhr, headers, formData])){\r\n\t\t\t\tfor (var key in details)\r\n\t\t\t\t\tformData.append(key, details[key]);\r\n\r\n\t\t\t\titem.xhr = xhr;\r\n\r\n\t\t\t\txhr.upload.addEventListener('progress', webix.bind(function(e){ this.$updateProgress(id, e.loaded/e.total*100); }, this), false);\r\n\t\t\t\txhr.onload = webix.bind(function(e){ if (!xhr.aborted) this._file_complete(id); }, this);\r\n\t\t\t\txhr.open('POST', url, true);\r\n\r\n\t\t\t\tfor (var key in headers)\r\n\t\t\t\t\txhr.setRequestHeader(key, headers[key]);\r\n\r\n\t\t\t\txhr.send(formData);\r\n\t\t\t}\r\n\r\n\t\t\tthis.$updateProgress(id, 0);\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t_file_complete: function(id) {\r\n\t\t\tvar item = this.files.getItem(id);\r\n\t\t\tif (item){\r\n\t\t\t\tvar response = null;\r\n\t\t\t\tif(item.xhr.status == 200)\r\n\t\t\t\t\tresponse = webix.DataDriver[this._settings.datatype||\"json\"].toObject(item.xhr.responseText);\r\n\t\t\t\tif (!response || response.status == \"error\"){\r\n\t\t\t\t\titem.status = \"error\";\r\n\t\t\t\t\tdelete item.percent;\r\n\t\t\t\t\tthis.files.updateItem(id);\r\n\t\t\t\t\tthis.callEvent(\"onFileUploadError\", [item, response]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._complete(id, response);\r\n\t\t\t\t}\r\n\t\t\t\tdelete item.xhr;\r\n\t\t\t}\r\n\t\t},\r\n\t\tstopUpload: function(id){\r\n\t\t\twebix.bind(this._stop_file,this.files)(id);\r\n\t\t},\r\n\t\t_stop_file: function(id) {\r\n\t\t\tvar item = this.getItem(id);\r\n\t\t\tif (typeof(item.xhr) !== 'undefined'){\r\n\t\t\t\titem.xhr.aborted = true;\r\n\t\t\t\titem.xhr.abort();\r\n\t\t\t\tdelete item.xhr;\r\n\t\t\t\titem.status = \"client\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"uploader\",\r\n\tdefaults:{\r\n\t\tautosend:true,\r\n\t\tmultiple:true,\r\n\t\tinputName:\"upload\"\r\n\t},\r\n\t$cssName:\"button\",\r\n\t_allowsClear:true,\r\n\r\n\t//will be redefined by upload driver\r\n\tsend:function(){},\r\n\tfileDialog:function(){},\r\n\tstopUpload:function(){},\r\n\r\n\t$init:function(config){\r\n\t\tvar driver = webix.UploadDriver.html5;\r\n\t\tthis.files = new webix.DataCollection();\r\n\r\n\t\t// browser doesn't support XMLHttpRequest2\r\n\t\tif (webix.isUndefined(XMLHttpRequest) || webix.isUndefined((new XMLHttpRequest()).upload))\r\n\t\t\tdriver = webix.UploadDriver.flash;\r\n\r\n\t\twebix.assert(driver,\"incorrect driver\");\r\n\t\twebix.extend(this, driver, true);\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tif (webix.ui.view.prototype.$setSize.call(this,x,y)){\r\n\t\t\tthis.render();\r\n\t\t}\r\n\t},\r\n\tapiOnly_setter:function(value){\r\n\t\twebix.delay(this.render, this);\r\n\t\treturn (this.$apiOnly=value);\r\n\t},\r\n\t_add_files: function(files){\r\n\t\tfor (var i = 0; i < files.length; i++)\r\n\t\t\tthis.addFile(files[i]);\r\n\r\n\t},\r\n\tlink_setter:function(value){\r\n\t\tif (value)\r\n\t\t\twebix.delay(function(){\r\n\t\t\t\tvar view = webix.$$(this._settings.link);\r\n\t\t\t\tif (view.sync && view.filter)\r\n\t\t\t\t\tview.sync(this.files);\r\n\t\t\t\telse if (view.setValues)\r\n\t\t\t\t\tthis.files.data.attachEvent(\"onStoreUpdated\", function(){\r\n\t\t\t\t\t\tview.setValues(this);\r\n\t\t\t\t\t});\r\n\t\t\t\tview._settings.uploader = this._settings.id;\r\n\t\t\t}, this);\r\n\t\treturn value;\r\n\t},\r\n\r\n\taddFile:function(name, size, type){\r\n\t\tvar file = null;\r\n\t\tif (typeof name == \"object\"){\r\n\t\t\tfile = name;\r\n\t\t\tname = file.name;\r\n\t\t\tsize = file.size;\r\n\t\t}\r\n\r\n\t\tvar format = this._format_size(size);\r\n\t\ttype = type || name.split(\".\").pop();\r\n\r\n\t\tvar file_struct = { \r\n\t\t\tfile:file, \r\n\t\t\tname:name, \r\n\t\t\tid:webix.uid(), \r\n\t\t\tsize:size, \r\n\t\t\tsizetext:format, \r\n\t\t\ttype:type, \r\n\t\t\tcontext:this._last_file_context,\r\n\t\t\tstatus:\"client\" \r\n\t\t};\r\n\t\tif (this.callEvent(\"onBeforeFileAdd\", [file_struct])){\r\n\t\t\tif (!this._settings.multiple)\r\n\t\t\t\tthis.files.clearAll();\r\n\t\t\t\r\n\t\t\tvar id = this.files.add(file_struct);\r\n\t\t\tthis.callEvent(\"onAfterFileAdd\", [file_struct]);\r\n\t\t\tif (id && this._settings.autosend)\r\n\t\t\t\tthis.send(id);\r\n\t\t}\r\n\t},\r\n\r\n\t_get_active_url:function(){\r\n\t\tvar url = this._settings.upload;\r\n\t\tvar urldata = this._settings.urlData;\r\n\t\tif (url && urldata){\r\n\t\t\tvar subline = [];\r\n\t\t\tfor (var key in urldata)\r\n\t\t\t\tsubline.push(encodeURIComponent(key)+\"=\"+encodeURIComponent(urldata[key]));\r\n\r\n\t\t\tif (subline.length)\r\n\t\t\t\turl += ((url.indexOf(\"?\") ==-1) ? \"?\" : \"&\") + subline.join(\"&\");\r\n\t\t}\r\n\t\treturn url;\r\n\t},\r\n\r\n\taddDropZone:function(id, hover_text){\r\n\t\tvar node = webix.toNode(id);\r\n\t\tvar extra_css = \"\";\r\n\t\tif (hover_text)\r\n\t\t\textra_css = \" \"+webix.html.createCss({ content:'\"'+hover_text+'\"' }, \":before\");\r\n\r\n\t\tvar fullcss = \"webix_drop_file\"+extra_css;\r\n\r\n\t\t//web\r\n\t\twebix.event(node,\"dragover\", webix.html.preventEvent);\r\n\t\twebix.event(node,\"dragover\", function(e){\r\n\t\t\twebix.html.addCss(node, fullcss, true);\r\n\t\t});\r\n\t\twebix.event(node,\"dragleave\", function(e){\r\n\t\t\twebix.html.removeCss(node, fullcss);\r\n\t\t});\r\n\r\n\t\twebix.event(node,\"drop\", webix.bind(function(e){\r\n\t\t\twebix.html.removeCss(node, fullcss);\r\n\r\n\t\t\tvar data=e.dataTransfer;\r\n\t\t\tif(data&&data.files.length)\r\n\t\t\t\tfor (var i = 0; i < data.files.length; i++)\r\n\t\t\t\t\tthis.addFile(data.files[i]);\r\n\r\n\t\t\treturn webix.html.preventEvent(e);\r\n\t\t}, this));\r\n\t},\r\n\t\r\n\t_format_size: function(size) {\r\n\t\tvar index = 0;\r\n\t\twhile (size > 1024){\r\n\t\t\tindex++;\r\n\t\t\tsize = size/1024;\r\n\t\t}\r\n\t\treturn Math.round(size*100)/100+\" \"+webix.i18n.fileSize[index];\r\n\t},\r\n\r\n\t_complete: function(id, response) {\r\n\t\tif (response.status != 'error') {\r\n\t\t\tvar item = this.files.getItem(id);\r\n\r\n\t\t\titem.status = \"server\";\r\n\t\t\titem.progress = 100;\r\n\t\t\twebix.extend(item, response, true);\r\n\r\n\t\t\tthis.callEvent(\"onFileUpload\", [item, response]);\r\n\t\t\tthis.callEvent(\"onChange\", []);\r\n\t\t\tthis.files.updateItem(id);\r\n\t\t}\r\n\t\t\r\n\t\tif (this.isUploaded())\r\n\t\t\tthis._upload_complete(response);\r\n\t},\r\n\t_upload_complete:function(response){\r\n\t\tthis.callEvent(\"onUploadComplete\", [response]);\r\n\t\tif (this._last_assigned_upload_callback){\r\n\t\t\tthis._last_assigned_upload_callback.call(this, response);\r\n\t\t\tthis._last_assigned_upload_callback = 0;\r\n\t\t}\r\n\t},\r\n\tisUploaded:function(){\r\n\t\tvar order = this.files.data.order;\r\n\t\tfor (var i=0; i<order.length; i++)\r\n\t\t\tif (this.files.getItem(order[i]).status != \"server\")\r\n\t\t\t\treturn false;\r\n\r\n\t\treturn true;\r\n\t},\r\n\t$onUploadComplete: function(){\r\n\r\n\t},\r\n\t$updateProgress: function(id, percent) {\r\n\t\tvar item = this.files.getItem(id);\r\n\t\titem.percent = Math.round(percent);\r\n\t\tthis.files.updateItem(id);\r\n\t},\r\n\tsetValue:function(value){\r\n\t\tif (typeof value == \"string\")\r\n\t\t\tvalue = { value:value, status:\"server\" };\r\n\r\n\t\tthis.files.clearAll();\r\n\t\tif (value)\r\n\t\t\tthis.files.parse(value);\r\n\r\n\t\tthis.callEvent(\"onChange\", []);\r\n\t},\r\n\tgetValue:function(){\r\n\t\tvar data = [];\r\n\t\tthis.files.data.each(function(obj){\r\n\t\t\tif (obj.status == \"server\")\r\n\t\t\t\tdata.push(obj.value||obj.name);\r\n\t\t});\r\n\r\n\t\treturn data.join(\",\");\r\n\t}\r\n\r\n}, webix.ui.button);\r\n\r\nwebix.html.addMeta = function(name, value){\r\n\tdocument.getElementsByTagName('head').item(0).appendChild(webix.html.create(\"meta\",{\r\n\t\tname:name,\r\n\t\tcontent:value\r\n\t}));\t\r\n\t\r\n};\r\n\r\n(function(){\r\n\t\r\nvar orientation = function(){\r\n\tvar new_orientation = !!(window.orientation%180);\r\n\tif (webix.ui.orientation === new_orientation) return;\r\n\twebix.ui.orientation = new_orientation;\t\r\n\twebix.callEvent(\"onRotate\", [new_orientation]);\r\n};\r\nif(webix.env.touch){\r\n\twebix.ui.orientation = !!((webix.isUndefined(window.orientation)?90:window.orientation)%180);\r\n\twebix.event(window, (\"onorientationchange\" in window ?\"orientationchange\":\"resize\"), orientation);\r\n}\r\n\r\n\r\nif(webix.env.isFF && window.matchMedia){\r\n\twindow.matchMedia(\"(orientation: portrait)\").addListener(function() {webix.ui.orientation = false; });\r\n\twindow.matchMedia(\"(orientation: landscape)\").addListener(function() { webix.ui.orientation = true; });\r\n}\r\nwebix.ui.fullScreen = function(){\r\n\tif (!webix.env.touch) return;\r\n\r\n\twebix.html.addMeta(\"apple-mobile-web-app-capable\",\"yes\");\r\n\twebix.html.addMeta(\"viewport\",\"initial-scale=1, maximum-scale=1, user-scalable=no\");\r\n\r\n\t//in ios5 we can have empty offsetHeight just after page loading\r\n\tvar size = document.body.offsetHeight||document.body.scrollHeight;\r\n\r\n\tvar iphone = navigator.userAgent.indexOf(\"iPhone\")!=-1;\r\n\tvar ipad = navigator.userAgent.indexOf(\"iPad\")!=-1;\r\n\r\n\tvar version = navigator.userAgent.match(/iPhone OS (\\d+)/);\r\n\tvar iOS7 = version&&(version[1]>=7);\r\n\r\n\r\n    var iphone_safari = iphone && (size == 356 || size == 208 || size == 306 || size == 158 || size == 444);\r\n    var iphone5 = (window.screen.height==568);\r\n\r\n\tvar fix = function(){\r\n\t\tvar x = 0; var y=0;\r\n\t\tif (iphone && !iOS7){\r\n\t\t\tif (!webix.ui.orientation){\r\n\t\t\t\tx = 320;\r\n                y = iphone5?(iphone_safari?504:548):(iphone_safari?416:460);\r\n\t\t\t} else {\r\n                x = iphone5?568:480;\r\n\t\t\t\ty = iphone_safari?268:300;\r\n\t\t\t}\r\n\t\t} else if (webix.env.isAndroid){\r\n\r\n\t\t\tif(!webix.env.isFF){\r\n\t\t\t\t//ipad doesn't change orientation and zoom level, so just ignore those lines\r\n\t\t\t\tdocument.body.style.width = document.body.style.height = \"1px\";\r\n\t\t\t\tdocument.body.style.overflow=\"hidden\";\r\n\r\n\t\t\t\tvar dmod = window.outerWidth/window.innerWidth; //<1\r\n\t\t\t\tx = window.outerWidth/dmod;\r\n\t\t\t\ty = window.outerHeight/dmod;\r\n\t\t\t}\r\n\t\t} else if(!webix.env.isIEMobile){\r\n\t\t\tx = window.innerWidth;\r\n\t\t\ty = window.innerHeight;\r\n\t\t}\r\n\r\n\t\tif (y){\r\n\t\t\tdocument.body.style.height = y+\"px\";\r\n\t\t\tdocument.body.style.width = x+\"px\";\r\n\t\t}\r\n\r\n\t\twebix.ui.$freeze = false;\r\n\t\twebix.ui.resize();\r\n\t};\r\n\r\n\tvar onrotate = function(){ \r\n\t\twebix.ui.$freeze = true;\r\n\t\tif(webix.env.isSafari) \r\n\t\t\tfix();\r\n\t\telse\r\n\t\t\twebix.delay(fix,null, [], 500);\r\n\t};\r\n\r\n\r\n\twebix.attachEvent(\"onRotate\", onrotate);\r\n\torientation();\r\n\twebix.delay(onrotate);\r\n\r\n};\r\n\r\n\r\n})();\r\n(function(){\r\n\r\nif (window.jQuery){\r\n\r\n\tvar $ = jQuery;\r\n\tvar methods = [];\r\n\r\n\tvar get_id = function(node){\r\n\t\tif (node && node.getAttribute)\r\n\t\t\treturn node.getAttribute(\"view_id\");\r\n\t};\r\n\r\n\tvar get_helper = function(name){\r\n\t\treturn function(config){\r\n\t\t\tif (typeof(config) === 'string') {\r\n\t\t\t\tif (methods[config] ) {\r\n\t\t\t\t\treturn methods[config].apply(this, []);\r\n\t\t\t\t}else {\r\n\t\t\t\t\t$.error('Method ' +  config + ' does not exist on jQuery.'.name);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar views = [];\r\n\t\t\t\tthis.each(function() {\r\n\t\t\t\t\tvar view;\r\n\t\t\t\t\tvar id;\r\n\r\n\t\t\t\t\t//if target a webix component - return it\r\n\t\t\t\t\tvar id = get_id(this) || get_id(this.firstChild);\r\n\t\t\t\t\tif (id)\r\n\t\t\t\t\t\tview = webix.$$(id);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!view){\r\n\t\t\t\t\t\t//do not include data in copy as it can be massive\r\n\t\t\t\t\t\tvar temp_data = config?config.data:0;\r\n\t\t\t\t\t\tif (temp_data) config.data = null;\r\n\r\n\t\t\t\t\t\tvar copy = webix.copy(config||{ autoheight:true, autowidth:true });\r\n\t\t\t\t\t\tcopy.view = name;\r\n\t\t\t\t\t\tif (temp_data) config.data = copy.data = temp_data;\r\n\r\n\r\n\t\t\t\t\t\tif (this.tagName.toLowerCase() === 'table') {\r\n\t\t\t\t\t\t\tvar div = webix.html.create(\"div\",{\r\n\t\t\t\t\t\t\t\tid:(this.getAttribute(\"id\")||\"\"),\r\n\t\t\t\t\t\t\t\t\"class\":(this.getAttribute(\"class\")||\"\")\r\n\t\t\t\t\t\t\t},\"\");\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.parentNode.insertBefore(div, this);\r\n\t\t\t\t\t\t\tcopy.container = div;\r\n\t\t\t\t\t\t\tview = webix.ui(copy);\r\n\t\t\t\t\t\t\tview.parse(this, \"htmltable\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcopy.container = this;\r\n\t\t\t\t\t\t\tview = webix.ui(copy);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tviews.push(view);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tif (views.length === 1) return views[0];\r\n\t\t\t\treturn views;\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\t\r\n\tvar run = function(){\r\n\t\tfor (var key in webix.ui){\r\n\t\t\tvar name = \"webix_\"+key;\r\n\t\t\tif (!$.fn[name])\r\n\t\t\t\t$.fn[name] = get_helper(key);\r\n\t\t}\r\n\t};\r\n\r\n\trun();\r\n\t$(run);\r\n\r\n}\r\n\r\n})();\r\n\r\n/*\r\n\tBehavior:History - change multiview state on 'back' button\r\n\r\n */\r\n\r\nwebix.history = {\r\n\ttrack:function(id, url){\r\n\t\tthis._init_state(id, url);\r\n\r\n\t\tvar view = webix.$$(id);\r\n\t\t\r\n\t\tvar handler = function(){\r\n\t\t\tif (webix.history._ignored) return;\r\n\r\n\t\t\tif (view.getValue)\r\n\t\t\t\twebix.history.push(id, view.getValue());\r\n\t\t};\r\n\r\n\t\tif (view.getActiveId)\r\n\t\t\tview.attachEvent(\"onViewChange\", handler);\r\n\t\telse\r\n\t\t\tview.attachEvent(\"onChange\", handler);\r\n\t},\r\n\t_set_state:function(view, state){\r\n\t\twebix.history._ignored = 1;\r\n\r\n\t\tview = webix.$$(view);\r\n\t\tif (view.callEvent(\"onBeforeHistoryNav\", [state]))\r\n\t\t\tif (view.setValue)\r\n\t\t\t\tview.setValue(state);\r\n\r\n\t\twebix.history._ignored = 0;\r\n\t},\r\n\tpush:function(view, url, value){\r\n\t\tview = webix.$$(view);\r\n\t\tvar new_url = \"\";\r\n\t\tif (url)\r\n\t\t\tnew_url = \"#!/\"+url;\r\n\t\tif (webix.isUndefined(value)){\r\n\t\t\tif (view.getValue)\r\n\t\t\t\tvalue = view.getValue();\r\n\t\t\telse\r\n\t\t\t\tvalue = url;\r\n\t\t}\r\n\r\n\t\twindow.history.pushState({ webix:true, id:view._settings.id, value:value }, \"\", new_url);\r\n\t},\r\n\t_init_state:function(view, url){\r\n\t\twebix.event(window, \"popstate\", function(ev){\r\n\t\t\tif (ev.state && ev.state.webix){\r\n\t\t\t\twebix.history._set_state(ev.state.id, ev.state.value);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tvar state = window.location.hash;\r\n\t\twebix.noanimate = true;\r\n\t\tif (state && state.indexOf(\"#!/\") === 0)\r\n\t\t\twebix.history._set_state(view, state.replace(\"#!/\",\"\"));\r\n\t\telse if (url){\r\n\t\t\twebix.history.push(view, url);\r\n\t\t\twebix.history._set_state(view, url);\r\n\t\t}\r\n\t\twebix.noanimate = false;\r\n\t\t\r\n\t\tthis._init_state = function(){};\r\n\t}\r\n};\r\nwebix.protoUI({\r\n\tname:\"fieldset\",\r\n\tdefaults:{\r\n\t\tborderless:true\r\n\t},\r\n\t$init:function(obj){\r\n\t\twebix.assert(obj.body, \"fieldset must have not-empty body\");\r\n\r\n\t\tthis._viewobj.className += \" webix_fieldset\";\r\n\t\tthis._viewobj.innerHTML =  \"<fieldset><legend></legend><div></div></fieldset>\";\r\n\t},\r\n\tlabel_setter:function(value){\r\n\t\tthis._viewobj.firstChild.childNodes[0].innerHTML = value;\r\n\t\treturn value;\r\n\t},\r\n\tgetChildViews:function(){\r\n\t\treturn [this._body_view];\r\n\t},\r\n\tbody_setter:function(config){\r\n\t\tthis._body_view = webix.ui(config, this._viewobj.firstChild.childNodes[1]);\r\n\t\tthis._body_view._parent_cell = this;\r\n\t\treturn config;\r\n\t},\r\n\tgetBody:function(){\r\n\t\treturn this._body_view;\r\n\t},\r\n\t$getSize:function(x,y){\r\n\t\twebix.debug_size_box_start(this, true);\r\n\t\tx+=18; y+=30;\r\n\t\tvar t = this._last_body_size = this._body_view.$getSize(x,y);\r\n\t\twebix.debug_size_box_end(this, t);\r\n\t\treturn t;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tif (webix.ui.view.prototype.$setSize.call(this, x,y)){\r\n\t\t\ty = Math.min(this._last_body_size[3], y);\r\n\t\t\tx = Math.min(this._last_body_size[1], x);\r\n\t\t\tthis._body_view.$setSize(x-18,y-30);\r\n\t\t}\r\n\t}\r\n}, webix.ui.view);\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"slider\",\r\n    $touchCapture:true,\r\n    defaults:{\r\n        min:0,\r\n        max:100,\r\n        value:50,\r\n        step:1,\r\n        title:false,\r\n\t\ttemplate:function(obj, common){\r\n            var id = common._handle_id = \"x\" +webix.uid();\r\n            var html = \"<div class='webix_slider_title'></div><div class='webix_slider_box'><div class='webix_slider_left'>&nbsp;</div><div class='webix_slider_right'></div><div class='webix_slider_handle' role='slider' aria-label='\"+obj.label+(obj.title?(\" \"+obj.title(obj)):\"\")+\"' aria-valuemax='\"+obj.max+\"' aria-valuemin='\"+obj.min+\"' aria-valuenow='\"+obj.value+\"' tabindex='0' id='\"+id+\"'>&nbsp;</div></div>\";\r\n            return common.$renderInput(obj, html, id);\r\n\t\t}\r\n\t},\r\n\ttype_setter:function(type){\r\n\t\tthis._viewobj.className += \" webix_slider_\"+type;\r\n\t},\r\n    title_setter:function(value){\r\n        if (typeof value == 'string')\r\n            return webix.template(value);\r\n        return value;\r\n    },\r\n    _get_slider_handle:function(){\r\n\t\treturn this.$view.querySelector(\".webix_slider_handle\");\r\n    },\r\n    _set_inner_size:function(){\r\n        var handle = this._get_slider_handle();\r\n        var config = this._settings;\r\n\r\n        //10 - padding of webix_slider_box ( 20 = 10*2 )\r\n        //8 - width of handle / 2\r\n\r\n\t    if(handle){    //view is rendered for sure\r\n            var width = this._get_input_width(config);\r\n\r\n\t        var value = config.value%config.step?(Math.round(config.value/config.step)*config.step):config.value;\r\n\t        value =  Math.max(Math.min(value,config.max),config.min);\r\n            var max = config.max - config.min;\r\n            var left = Math.ceil((width - 20) * (value-config.min) / max);\r\n            var right = width-20-left;\r\n\r\n            handle.style.left = 10 + left - 8 + \"px\";\r\n            handle.parentNode.style.width = width+\"px\";\r\n\t        //1px border\r\n\t        right = Math.min(Math.max(right,2),width-22);\r\n\t        left = Math.min(Math.max(left,2),width-22);\r\n\t        //width for left and right bars\r\n            var part = handle.previousSibling;\r\n            part.style.width = right + \"px\";\r\n            var last = part.previousSibling;\r\n            last.style.width = left + \"px\";\r\n\r\n            if (this._settings.title){\r\n                handle.parentNode.previousSibling.innerHTML = this._settings.title(this._settings, this);\r\n            }\r\n        }\r\n    },\r\n    _set_value_now:function(){\r\n        this._get_slider_handle().setAttribute(\"aria-valuenow\", this._settings.value);\r\n    },\r\n    refresh:function(){\r\n        this._set_value_now();\r\n        if(this._settings.title)\r\n            this._get_slider_handle().setAttribute(\"aria-label\", this._settings.label+\" \"+this._settings.title(this._settings, this));\r\n\r\n        this._set_inner_size();\r\n    },\r\n    $setValue:function(){\r\n        this.refresh();\r\n    },\r\n    $getValue:function(){\r\n        return this._settings.value;\r\n    },\r\n    $init:function(){\r\n        if(webix.env.touch)\r\n            this.attachEvent(\"onTouchStart\" , webix.bind(this._on_mouse_down_start, this));\r\n        else\r\n            webix.event(this._viewobj, \"mousedown\", webix.bind(this._on_mouse_down_start, this));\r\n\r\n        webix.event( this.$view, \"keydown\", webix.bind(this._handle_move_keyboard, this));\r\n    },\r\n    _handle_move_keyboard:function(e){\r\n        var code = e.keyCode, c = this._settings, value = c.value;\r\n\r\n        if(code>32 && code <41){\r\n\r\n            webix.html.preventEvent(e);\r\n           \r\n            var trg = e.target || e.srcElement;\r\n            var match =  /webix_slider_handle_(\\d)/.exec(trg.className);\r\n            this._activeIndex = match?parseInt(match[1],10):-1;\r\n            if(match)\r\n                value = c.value[this._activeIndex];\r\n            value = value<c.min ? c.min:(value>c.max ? c.max : value);\r\n            \r\n            if(code === 35) value = c.min;\r\n            else if(code === 36) value = c.max;\r\n            else{\r\n                var inc = (code === 37 || code ===40 || code === 34)?-1:1;\r\n                if(code === 33 || code === 34 || c.step>1)\r\n                    inc = inc*c.step;\r\n                value = value*1+inc;\r\n            }\r\n\r\n\r\n            if(value>=c.min && value <=c.max){\r\n                if(match){\r\n                    var temp =[];\r\n                    for(var i=0; i<c.value.length; i++)\r\n                        temp[i] = i === this._activeIndex ? value : c.value[i];\r\n                    value = temp;\r\n                }\r\n                this.setValue(value);\r\n                this._activeIndex = -1;\r\n            }\r\n        }\r\n    },\r\n    _on_mouse_down_start:function(e){\r\n        var trg = e.target || e.srcElement;\r\n\t    if(this._mouse_down_process){\r\n\t\t    this._mouse_down_process(e);\r\n\t    }\r\n\r\n\t    var value = this._settings.value;\r\n\t    if(webix.isArray(value))\r\n\t\t    value = webix.copy(value);\r\n\r\n        if (trg.className.indexOf(\"webix_slider_handle\")!=-1){\r\n            this._start_value = value;\r\n            return this._start_handle_dnd.apply(this,arguments);\r\n        } else if (trg.className.indexOf(\"webix_slider\") != -1){\r\n            this._start_value = value;\r\n\r\n            this._settings.value = this._get_value_from_event.apply(this,arguments);\r\n\r\n            this._start_handle_dnd(e);\r\n        }\r\n    },\r\n    _start_handle_dnd:function(e){\r\n\t    if(webix.env.touch){\r\n\t\t    this._handle_drag_events = [\r\n\t\t\t    this.attachEvent(\"onTouchMove\" , webix.bind(this._handle_move_process, this)),\r\n\t\t        this.attachEvent(\"onTouchEnd\"  , webix.bind(this._handle_move_stop, this))\r\n\t\t    ];\r\n\t    }\r\n\t\telse\r\n\t        this._handle_drag_events = [\r\n\t            webix.event(document.body, \"mousemove\", webix.bind(this._handle_move_process, this)),\r\n\t            webix.event(window, \"mouseup\", webix.bind(this._handle_move_stop, this))\r\n\t        ];\r\n        webix.html.addCss(document.body,\"webix_noselect\");\r\n    },\r\n    _handle_move_stop:function(e){\r\n        //detach event handlers\r\n\t    if(this._handle_drag_events){\r\n\t\t    if(webix.env.touch){\r\n\t\t\t    webix.detachEvent(this._handle_drag_events[0]);\r\n\t\t\t    webix.detachEvent(this._handle_drag_events[1]);\r\n\t\t    }\r\n\t\t    else{\r\n\t\t\t    webix.eventRemove(this._handle_drag_events[0]);\r\n\t\t\t    webix.eventRemove(this._handle_drag_events[1]);\r\n\t\t    }\r\n\t\t    this._handle_drag_events = [];\r\n\t    }\r\n\r\n        webix.html.removeCss(document.body,\"webix_noselect\");\r\n\r\n        var value = this._settings.value;\r\n\r\n\t    if(webix.isArray(value))\r\n\t\t    value = webix.copy(value);\r\n\r\n\t    this._settings.value = this._start_value;\r\n        this.setValue(value);\r\n\r\n        this._get_slider_handle(this._activeIndex).focus();\r\n        this._activeIndex = -1;\r\n    },\r\n    _handle_move_process:function(e){\r\n        this._settings.value = this._get_value_from_event.apply(this,arguments);\r\n        this.refresh();\r\n        this.callEvent(\"onSliderDrag\", []);\r\n    },\r\n\t_get_value_from_event:function(event,touchContext){\r\n\t\t// this method takes 2 arguments in case of touch env\r\n\t\tvar pos = 0;\r\n\t\tif(webix.env.touch){\r\n\t\t\tpos = touchContext?touchContext.x: event.x;\r\n\t\t}\r\n\t\telse\r\n\t\t\tpos = webix.html.pos(event).x;\r\n\t\treturn this._get_value_from_pos(pos);\r\n\t},\r\n    _get_value_from_pos:function(pos){\r\n        var config = this._settings;\r\n        //10 - padding of slider box\r\n        var max = config.max - config.min;\r\n        var left = webix.html.offset(this._get_slider_handle().parentNode).x+10;\r\n\t    var width = this._get_input_width(config)-20;\r\n\t    var newvalue = (width?(pos-left) * max / width:0);\r\n        newvalue = Math.round((newvalue+config.min)/config.step) * config.step;\r\n        return Math.max(Math.min(newvalue, config.max), config.min);\r\n    },\r\n    _init_onchange:function(){} //need not ui.text logic\r\n}, webix.ui.text);\r\n\r\n\r\n\r\n\r\n/*\r\n\tview.load(\"offline->some.php\")\r\n\r\n\tor\r\n\r\n\tview.load( webix.proxy(\"offline\", \"some.php\") );\r\n\r\n\tor\r\n\r\n\tview.load( webix.proxy(\"offline\", \"post->url.php\") );\r\n*/\r\n\r\nwebix.proxy.offline = {\r\n\t$proxy:true,\r\n\r\n\tstorage: webix.storage.local,\r\n\tcache:false,\r\n\tdata:\"\",\r\n\r\n\t_is_offline : function(){\r\n\t\tif (!this.cache && !webix.env.offline){\r\n\t\t\twebix.callEvent(\"onOfflineMode\",[]);\r\n\t\t\twebix.env.offline = true;\r\n\t\t}\r\n\t},\r\n\t_is_online : function(){\r\n\t\tif (!this.cache && webix.env.offline){\r\n\t\t\twebix.env.offline = false;\r\n\t\t\twebix.callEvent(\"onOnlineMode\", []);\r\n\t\t}\r\n\t},\r\n\r\n\tload:function(view, callback){\r\n\t\tvar mycallback = {\r\n\t\t\terror:function(){\r\n\t\t\t\t//assuming offline mode\r\n\t\t\t\tvar text = this.getCache() || this.data;\r\n\r\n\t\t\t\tvar loader = { responseText: text };\r\n\t\t\t\tvar data = webix.ajax.prototype._data(loader);\r\n\r\n\t\t\t\tthis._is_offline();\r\n\t\t\t\twebix.ajax.$callback(view, callback, text, data, loader);\r\n\t\t\t},\r\n\t\t\tsuccess:function(text, data, loader){\r\n\t\t\t\tthis._is_online();\r\n\t\t\t\twebix.ajax.$callback(view, callback, text, data, loader);\r\n\r\n\t\t\t\tthis.setCache(text);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t//in cache mode - always load data from cache\r\n\t\tif (this.cache && this.getCache())\r\n\t\t\tmycallback.error.call(this);\r\n\t\telse {\r\n\t\t\t//else try to load actual data first\r\n\t\t\tif (this.source.$proxy)\r\n\t\t\t\tthis.source.load(this, mycallback);\r\n\t\t\telse\r\n\t\t\t\twebix.ajax(this.source, mycallback, this);\r\n\t\t}\r\n\t},\r\n\tgetCache:function(){\r\n\t\treturn this.storage.get(this._data_name());\r\n\t},\r\n\tclearCache:function(){\r\n\t\tthis.storage.remove(this._data_name());\r\n\t},\r\n\tsetCache:function(text){\r\n\t\tthis.storage.put(this._data_name(), text);\r\n\t},\r\n\t_data_name:function(){\r\n\t\tif (this.source.$proxy)\r\n\t\t\treturn this.source.source + \"_$proxy$_data\";\r\n\t\telse \r\n\t\t\treturn this.source + \"_$proxy$_data\";\r\n\t},\r\n\tsaveAll:function(view, update, dp, callback){\r\n\t\tthis.setCache(view.serialize());\r\n\t\twebix.ajax.$callback(view, callback, \"\", update);\r\n\t},\r\n\tresult:function(id, master, dp, text, data){\r\n\t\tfor (var i = 0; i < data.length; i++)\r\n\t\t\tdp.processResult({ id: data[i].id, status: data[i].operation }, {}, {});\r\n\t}\r\n};\r\n\r\nwebix.proxy.cache = {\r\n\tinit:function(){\r\n\t\twebix.extend(this, webix.proxy.offline);\r\n\t},\r\n\tcache:true\r\n};\r\n\r\nwebix.proxy.local = {\r\n\tinit:function(){\r\n\t\twebix.extend(this, webix.proxy.offline);\r\n\t},\r\n\tcache:true,\r\n\tdata:[]\r\n};\r\n\r\nif (window.angular)\r\n\r\n(function(){\r\n\r\n  function id_helper($element){\r\n    //we need uniq id as reference\r\n    var id = $element.attr(\"id\");\r\n    if (!id){\r\n      id = webix.uid();\r\n      $element.attr(\"id\", id);\r\n    }\r\n    return id;\r\n  }\r\n\r\n  function locate_view_id($element){\r\n    if (typeof $element.attr(\"webix-ui\") != \"undefined\")\r\n      return $element.attr(\"id\");\r\n    return locate_view_id($element.parent());\r\n  }\r\n\r\n\r\n\r\n\r\n//creates webix ui components\r\nangular.module(\"webix\", [])\r\n  .directive('webixUi', [ \"$parse\", function($parse) {\r\n    return {\r\n      restrict: 'A',\r\n      scope: false,\r\n      link:function ($scope, $element, $attrs, $controller){\r\n        var dataname = $attrs[\"webixUi\"];\r\n        var callback = $attrs[\"webixReady\"];\r\n        var watch = $attrs[\"webixWatch\"];\r\n        var wxRoot = null;\r\n        var id = id_helper($element);\r\n\r\n        $element.ready(function(){  \r\n          if (wxRoot) return;\r\n\r\n          if (callback)\r\n            callback = $parse(callback);\r\n\r\n          //destruct components\r\n          $element.bind('$destroy', function() {\r\n            if(wxRoot) wxRoot.destructor();\r\n          });\r\n\r\n          //webix-ui attribute has some value - will try to use it as configuration\r\n          if (dataname){\r\n            //configuration\r\n            var watcher = function(data){\r\n              if (wxRoot) wxRoot.destructor();\r\n              if ($scope[dataname]){\r\n                var config = webix.copy($scope[dataname]);\r\n                config.$scope =$scope;\r\n                $element[0].innerHTML = \"\";\r\n                wxRoot = webix.ui(config, $element[0]);\r\n                if (callback)\r\n                  callback($scope, { root: wxRoot });\r\n              }\r\n            };\r\n            if (watch !== \"false\")\r\n              $scope.$watch(dataname, watcher);\r\n            watcher();\r\n          } else {\r\n          //if webix-ui is empty - init inner content as webix markup\r\n            if (!$attrs[\"view\"])\r\n              $element.attr(\"view\", \"rows\");\r\n            \r\n            var ui = webix.markup;\r\n            var tmp_a = ui.attribute; ui.attribute = \"\";\r\n            //FIXME - memory leaking, need to detect the moment of dom element removing and destroy UI\r\n            if (typeof $attrs[\"webixRefresh\"] != \"undefined\")\r\n              wxRoot = ui.init($element[0], $element[0], $scope);\r\n            else\r\n              wxRoot = ui.init($element[0], null, $scope);\r\n\r\n            ui.attribute = tmp_a;\r\n\r\n            if (callback)\r\n              callback($scope, { root: wxRoot });\r\n          }\r\n\r\n          //size of ui\r\n          $scope.$watch(function() {\r\n            return $element[0].offsetWidth + \".\" + $element[0].offsetHeight;\r\n          }, function() {\r\n            if (wxRoot) wxRoot.adjust();\r\n          });\r\n\r\n        });\r\n      }\r\n    };\r\n  }])\r\n\r\n  .directive('webixShow', [ \"$parse\", function($parse) {\r\n    return {\r\n      restrict: 'A',\r\n      scope: false,\r\n\r\n      link:function ($scope, $element, $attrs, $controller){\r\n        var attr = $parse($attrs[\"webixShow\"]);\r\n        var id = id_helper($element);\r\n\r\n        if (!attr($scope))\r\n            $element.attr(\"hidden\", \"true\");\r\n\r\n        $scope.$watch($attrs[\"webixShow\"], function(){\r\n          var view = webix.$$(id);\r\n          if (view){\r\n            if (attr($scope)){\r\n              webix.$$(id).show();\r\n              $element[0].removeAttribute(\"hidden\");\r\n            } else\r\n              webix.$$(id).hide();\r\n          }\r\n        });\r\n\r\n      }\r\n    };\r\n  }])\r\n\r\n  .directive('webixEvent', [ \"$parse\", function($parse) {\r\n    var wrap_helper = function($scope, view, eventobj){\r\n      var ev = eventobj.split(\"=\");\r\n      var action = $parse(ev[1]);\r\n      var name = ev[0].trim();\r\n      view.attachEvent(name, function(){              \r\n        return action($scope, { id:arguments[0], details:arguments });\r\n      });\r\n    };\r\n\r\n    return {\r\n      restrict: 'A',\r\n      scope: false,\r\n      \r\n      link:function ($scope, $element, $attrs, $controller){\r\n        var events = $attrs[\"webixEvent\"].split(\";\");\r\n        var id = id_helper($element);\r\n\r\n        setTimeout(function(){\r\n          var first = $element[0].firstChild;\r\n          if (first && first.nodeType == 1)\r\n            id = first.getAttribute(\"view_id\") || id;\r\n\r\n          var view = webix.$$(id);\r\n          for (var i = 0; i < events.length; i++) {\r\n            wrap_helper($scope, view, events[i]);\r\n          }\r\n        });\r\n\r\n      }\r\n    };\r\n  }])\r\n\r\n  .directive('webixElements', [ \"$parse\", function($parse) {\r\n    return {\r\n      restrict: 'A',\r\n      scope: false,\r\n\r\n      link:function ($scope, $element, $attrs, $controller){\r\n\r\n        var data = $attrs[\"webixElements\"];\r\n        var id = id_helper($element);\r\n        \r\n        if ($scope.$watchCollection)\r\n          $scope.$watchCollection(data, function(collection){\r\n            setTimeout(function(){\r\n              var view = webix.$$(id);\r\n              if (view){\r\n                view.define(\"elements\", collection);\r\n                view.refresh();\r\n              }\r\n            },1);\r\n          });\r\n      }\r\n\r\n    };\r\n  }])\r\n\r\n  .directive('webixData', [ \"$parse\", function($parse) {\r\n    return {\r\n      restrict: 'A',\r\n      scope: false,\r\n\r\n      link:function ($scope, $element, $attrs, $controller){\r\n\r\n        var data = $attrs[\"webixData\"];\r\n        var id = id_helper($element);\r\n        \r\n        if ($scope.$watchCollection)\r\n          $scope.$watchCollection(data, function(collection){\r\n            if (collection){\r\n              setTimeout(function(){\r\n                loadData($element, id, collection, 0);\r\n              },1);\r\n            }\r\n          });\r\n      }\r\n\r\n    };\r\n  }]);\r\n\r\n  function loadData($element, id, collection, num){\r\n    if (num > 10) return;\r\n    var first = $element[0].firstChild;\r\n    if (first && first.nodeType == 1)\r\n    id = first.getAttribute(\"view_id\") || id;\r\n\r\n    var view = webix.$$(id);\r\n    if (view){\r\n      if (view.options_setter){\r\n        view.define(\"options\", collection);\r\n        view.refresh();\r\n      }else{\r\n        if (view.clearAll)\r\n          view.clearAll();\r\n        view.parse(collection);\r\n      }\r\n    } else {\r\n      webix.delay(loadData, this, [$element, id, collection], 100, num+1);\r\n    }\r\n  }\r\n\r\n})();\r\nif (window.Backbone)\r\n(function(){\r\n\r\n\tvar cfg = {\r\n\t\tuse_id : false\r\n\t};\r\n\r\n\tfunction _start_ext_load(cal){\r\n\t\tcal._backbone_loading = true;\r\n\t\tcal.callEvent(\"onBeforeLoad\", []);\r\n\t\tcal.blockEvent();\r\n\t}\r\n\tfunction _finish_ext_load(cal){\r\n\t\tcal.unblockEvent();\r\n\t\tcal._backbone_loading = false;\r\n\t\tcal.refresh();\r\n\t}\r\n\r\nwebix.attachEvent(\"onUnSyncUnknown\", function(wData, bData){\r\n\tvar whandlers = wData._sync_events;\r\n\tvar handlers = wData._sync_backbone_events;\r\n\r\n\tfor (var i = 0; i < whandlers.length; i++)\r\n\t\twData.detachEvent(whandlers[i]);\r\n\r\n\tfor (var i = 0; i < handlers.length; i++)\r\n\t\tbData.off.apply(bData, handlers[i]);        \r\n});\r\n\r\nwebix.attachEvent(\"onSyncUnknown\", function(wData, bData, config){\r\n\tif (config) cfg = config;\r\n\tif (cfg.get && typeof cfg.get == \"string\")\r\n\t\tcfg.get = cfg.get.split(\",\");\r\n\r\n\t//remove private properties\r\n\tfunction sanitize(ev){\r\n\t\tif (cfg.use_id)\r\n\t\t\treturn ev;\r\n\r\n\t\tvar obj = {};\r\n\t\tfor (var key in ev)\r\n\t\t\tif (key != \"id\")\r\n\t\t\t\tobj[key] = ev[key];\r\n\r\n\t\treturn obj;\r\n\t}\r\n\t\r\n\tfunction _get_id(model){\r\n\t\treturn cfg.use_id ? model.id : model.cid;\r\n\t}\r\n\r\n\tfunction datareset(wData, bData){\r\n\t\tvar data = [];\r\n\t\tfor (var i = 0; i < bData.models.length; i++){\r\n\t\t\tvar model = bData.models[i];\r\n\t\t\tvar cid = _get_id(model);\r\n\t\t\tvar ev =  copymodel(model);\r\n\t\t\tev.id = cid;\r\n\t\t\tdata.push(ev);\r\n\t\t}\r\n\t\twData.clearAll();\r\n\t\twData._parse(data);\r\n\t}\r\n\r\n\tfunction copymodel(model){\r\n\t\tif (cfg.get){\r\n\t\t\tvar data = {};\r\n\t\t\tfor (var i = 0; i < cfg.get.length; i++){\r\n\t\t\t\tvar key = cfg.get[i];\r\n\t\t\t\tdata[key] = model.get(key);\r\n\t\t\t}\r\n\t\t\treturn data;\r\n\t\t}\r\n\t\treturn model.toJSON();\r\n\t}\r\n\r\n\tvar handlers = [\r\n\t\t[\"change\", function(model, info){\r\n\t\t\tvar cid = _get_id(model);\r\n\t\t\tvar ev = wData.pull[cid] = copymodel(model);\r\n\t\t\tev.id = cid;\r\n\r\n\t\t\tif (wData._scheme_update)\r\n\t\t\t\twData._scheme_update(ev);\r\n\t\t\twData.refresh(ev.id);\r\n\t\t}],\r\n\t\t[\"remove\", function(model, changes){\r\n\t\t\tvar cid = _get_id(model);\r\n\t\t\tif (wData.pull[cid])\r\n\t\t\t\twData.remove(cid);\r\n\t\t}],\r\n\t\t[\"add\", function(model, changes){\r\n\t\t\tvar cid = _get_id(model);\r\n\t\t\tif (!wData.pull[cid]){\r\n\t\t\t\tvar ev =  copymodel(model);\r\n\t\t\t\tev.id = cid;\r\n\t\t\t\tif (wData._scheme_init)\r\n\t\t\t\t\twData._scheme_init(ev); \r\n\t\t\t\twData.add(ev);\r\n\t\t\t}\r\n\t\t}],\r\n\t\t[\"reset\", function(model, changes){\r\n\t\t\tdatareset(wData, bData);\r\n\t\t}],\r\n\t\t[\"request\", function(obj){\r\n\t\t\tif (obj instanceof Backbone.Collection)\r\n\t\t\t\t_start_ext_load(wData);\r\n\t\t}],\r\n\t\t[\"sync\", function(obj){\r\n\t\t\tif (obj instanceof Backbone.Collection)\r\n\t\t\t\t_finish_ext_load(wData);\r\n\t\t}],\r\n\t\t[\"error\", function(obj){\r\n\t\t\tif (obj instanceof Backbone.Collection)\r\n\t\t\t\t_finish_ext_load(wData);\r\n\t\t}]\r\n\t];\r\n\r\n\tfor (var i = 0; i < handlers.length; i++)\r\n        bData.bind.apply(bData, handlers[i]);\r\n\r\n\r\n    var whandlers = [\r\n\t\twData.attachEvent(\"onAfterAdd\", function(id){\r\n\t\t\tif (!bData.get(id)){\r\n\t\t\t\tvar data = sanitize(wData.getItem(id));\r\n\t\t\t\tvar model = new bData.model(data);\r\n\r\n\t\t\t\tvar cid = _get_id(model);\r\n\t\t\t\tif (cid != id)\r\n\t\t\t\t\tthis.changeId(id, cid);\r\n\r\n\t\t\t\tbData.add(model);\r\n\t\t\t\tbData.trigger(\"webix:add\", model);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}),\r\n\t\twData.attachEvent(\"onDataUpdate\", function(id){\r\n\t\t\tvar ev = bData.get(id);\r\n\t\t\tvar upd = sanitize(wData.getItem(id));\r\n\r\n\t\t\tev.set(upd);\r\n\t\t\tbData.trigger(\"webix:change\", ev);\r\n\r\n\t\t\treturn true;\r\n\t\t}),\r\n\t\twData.attachEvent(\"onAfterDelete\", function(id){\r\n\t\t\tvar model = bData.get(id);\r\n\t\t\tif (model){\r\n\t\t\t\tbData.trigger(\"webix:remove\", model);\r\n\t\t\t\tbData.remove(id);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t})\r\n\t];\r\n\r\n\twData._sync_source = bData;\r\n    wData._sync_events = whandlers;\r\n    wData._sync_backbone_events = handlers;\r\n\r\n\tif (bData.length || wData.count()){\r\n\t\tdatareset(wData, bData);\r\n\t}\r\n});\r\n\r\nwindow.WebixView = Backbone.View.extend({\r\n\t//starting from backbone 1.1, this.options is not saved automatically\r\n\tinitialize : function (options) {\r\n\t\tthis.options = options || {};\r\n\t},\r\n\trender:function(){\r\n\t\tif (this.beforeRender) this.beforeRender.apply(this, arguments);\r\n\r\n\t\tvar config = this.config || this.options.config;\r\n\t\tvar el;\r\n\r\n\t\tif (!config.view || !webix.ui.hasMethod(config.view, \"setPosition\")){\r\n\t\t\tel = window.$ ? $(this.el)[0] : this.el;\r\n\t\t\t//clear previous content if any\r\n\t\t\tif (el && !el.config) el.innerHTML = \"\";\r\n\t\t}\r\n\r\n\t\tvar ui = webix.copy(config);\r\n\t\tui.$scope = this;\r\n\t\tthis.root = webix.ui(ui, el);\r\n\t\t\r\n\t\tif (this.afterRender) this.afterRender.apply(this, arguments);\r\n\t\treturn this;\r\n\t},\r\n\tdestroy:function(){\r\n\t\tif (this.root) this.root.destructor();\r\n\t},\r\n\tgetRoot:function(){\r\n\t\treturn this.root;\r\n\t},\r\n\tgetChild:function(id){\r\n\t\twebix.assert(this.root.$$, \"You need to set isolate property for top view\");\r\n\t\treturn this.root.$$(id);\r\n\t}\r\n});\r\n\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.ActiveContent = {\r\n\t$init:function(config){  \r\n\t\tif (config.activeContent){\r\n\t\t\tthis.$ready.push(this._init_active_content_list);\r\n\t\t\t\r\n\t\t\tthis._active_holders = {};\r\n\t\t\tthis._active_holders_item = {};\r\n\t\t\tthis._active_holders_values = {};\r\n\t\t\tthis._active_references = {};\r\n\t\t\t\r\n\t\t\tfor (var key in config.activeContent){\r\n\t\t\t\tthis[key] = this._bind_active_content(key);\r\n\t\t\t\tif (config.activeContent[key].earlyInit){\r\n\t\t\t\t\tvar temp = webix._parent_cell; webix._parent_cell = null;\r\n\t\t\t\t\tthis[key].call(this,{},this, config.activeContent);\r\n\t\t\t\t\twebix._parent_cell=temp;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_destructActiveContent: function(){\r\n\t\tfor(var key in this._active_references){\r\n\t\t\tvar elem = this._active_references[key];\r\n\t\t\tif(elem.destructor)\r\n\t\t\t\telem.destructor();\r\n\t\t}\r\n\t},\r\n\t_init_active_content_list:function(){\r\n\t\tthis.attachEvent(\"onDestruct\",webix.bind(this._destructActiveContent,this));\r\n\r\n\t\twebix.event(this.$view, \"blur\", function(ev){\r\n\t\t\tvar target = ev.target || ev.srcElement;\r\n\r\n\t\t\t// for inputs only\r\n\t\t\tif(target.tagName != \"BUTTON\"){\r\n\t\t\t\tvar el = webix.$$(ev);\r\n\t\t\t\tif (el !== this && el.getValue  && el.setValue){\r\n\t\t\t\t\tel.getNode(ev);\r\n\r\n\t\t\t\t\tvar newvalue = el.getValue();\r\n\t\t\t\t\tif (newvalue != el._settings.value)\r\n\t\t\t\t\t\tel.setValue(newvalue);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, {bind:this, capture: true});\r\n\r\n\t\tif (this.filter){\r\n\t\t\tfor (var key in this._settings.activeContent){\r\n\t\t\t\tthis.type[key] = this[key];\r\n\t\t\t\tthis[key] = this._locate_active_content_by_id(key);\r\n\t\t\t}\r\n\t\t\t//really bad!\r\n\t\t\tthis.attachEvent(\"onBeforeRender\", function(){\r\n\t\t\t\tthis.type.masterUI = this;\r\n\t\t\t});\r\n\t\t\tthis.type.masterUI = this;\r\n\t\t}\r\n\t},\r\n\t_locate_active_content_by_id:function(key){\r\n\t\treturn function(id){\r\n\t\t\tvar button = this._active_references[key];\r\n\t\t\tvar button_id = button._settings.id;\r\n\t\t\tvar html = this.getItemNode(id).getElementsByTagName(\"DIV\");\r\n\t\t\tfor (var i=0; i < html.length; i++) {\r\n\t\t\t\tif (html[i].getAttribute(\"view_id\") == button_id){\r\n\t\t\t\t\tbutton._viewobj = button._dataobj = html[i];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn button;\r\n\t\t};\r\n\t},\r\n\t_get_active_node:function(el, key, master){\r\n\t\treturn function(e){\r\n\t\t\tif (e){\r\n\t\t\t\tvar trg=e.target||e.srcElement;\r\n\t\t\t\twhile (trg){\r\n\t\t\t\t\tif (trg.getAttribute && trg.getAttribute(\"view_id\")){\r\n\t\t\t\t\t\tmaster._setActiveContentView(el,trg);\r\n\t\t\t\t\t\tif (master.locate){\r\n\t\t\t\t\t\t\tvar id = master.locate(trg.parentNode);\r\n\t\t\t\t\t\t\tvar value = master._active_holders_values[key][id];\r\n\t\t\t\t\t\t\tel._settings.value = value;\r\n\t\t\t\t\t\t\tel._settings.$masterId = id;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn trg;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttrg = trg.parentNode;\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t}\r\n\t\t\treturn el._viewobj;\r\n\t\t};\r\n\t},\r\n\t_set_new_active_value:function(key, master){\r\n\t\treturn function(value){\r\n\t\t\tvar data = master.data;\r\n\t\t\tif (master.filter){\r\n\t\t\t\tvar id = master.locate(this._viewobj.parentNode);\r\n\t\t\t\tdata = master.getItem(id);\r\n\t\t\t\t//XMLSerializer - FF \"feature\"\r\n\t\t\t\tthis.refresh();\r\n\t\t\t\tmaster._active_holders_item[key][id]=this._viewobj.outerHTML||(new XMLSerializer().serializeToString(this._viewobj));\r\n\t\t\t\tmaster._active_holders_values[key][id] = value;\r\n\t\t\t}\r\n\t\t\tif(data)\r\n\t\t\t\tdata[key] = value;\r\n\t\t};\r\n\t},\r\n\t_bind_active_content:function(key){ \r\n\t\treturn function(obj, common, active){\r\n\t\t\tvar object = common._active_holders?common:common.masterUI;\r\n\r\n\t\t\tif (!object._active_holders[key]){\r\n\t\t\t\tvar d = document.createElement(\"DIV\");\r\n\t\t\t\t\r\n\t\t\t\tactive = active || object._settings.activeContent;\r\n\t\t\t\tvar el = webix.ui(active[key], d);\r\n\r\n\t\t\t\td.firstChild.setAttribute(\"onclick\", \"event.processed = true; if (webix.env.isIE8) event.srcElement.w_view = '\"+el._settings.id+\"';\");\r\n\r\n\t\t\t\tel.getNode = object._get_active_node(el, key, object);\r\n\r\n\t\t\t\tel.attachEvent(\"onChange\", object._set_new_active_value(key, object));\r\n\t\t\t\t\r\n\t\t\t\tobject._active_references[key] = el;\r\n\t\t\t\tobject._active_holders[key] = d.innerHTML;\r\n\t\t\t\tobject._active_holders_item[key] = {};\r\n\t\t\t\tobject._active_holders_values[key] = {};\r\n\t\t\t\tel.$activeEl = el.$view;\r\n\t\t\t}\r\n\t\t\tif (object.filter && obj[key] != object._active_holders_values[key] && !webix.isUndefined(obj[key])){\r\n\t\t\t\tvar el = object._active_references[key];\r\n\t\t\t\tel.blockEvent();\r\n\t\t\t\tobject._setActiveContentView(el,el.$activeEl);\r\n\t\t\t\t//in IE we can lost content of active element during parent repainting\r\n\t\t\t\tif (!el.$view.firstChild) el.refresh();\r\n\t\t\t\tel.setValue(obj[key]);\r\n\t\t\t\tel.refresh();\r\n\t\t\t\tel.unblockEvent();\r\n\t\t\t\t\r\n\t\t\t\tobject._active_holders_values[key][obj.id] = obj[key];\r\n\t\t\t\tobject._active_holders_item[key][obj.id] = el._viewobj.outerHTML||(new XMLSerializer().serializeToString(el._viewobj));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn object._active_holders_item[key][obj.id]||object._active_holders[key];\r\n\t\t};\r\n\t},\r\n\t_setActiveContentView: function(el,view){\r\n\t\tel._dataobj = el._viewobj = el.$view = view;\r\n\t}\r\n};\r\nwebix.ProgressBar = {\r\n\t$init:function(){\r\n\t\tif (webix.isUndefined(this._progress) && this.attachEvent){\r\n\t\t\tthis.attachEvent(\"onBeforeLoad\", this.showProgress);\r\n\t\t\tthis.attachEvent(\"onAfterLoad\", this.hideProgress);\r\n\t\t\tthis._progress = null;\r\n\t\t}\r\n\t},\r\n\tshowProgress:function(config){\r\n\t\t// { position: 0 - 1, delay: 2000ms by default, css : name of css class to use }\r\n\t\tif (!this._progress){\r\n\r\n\t\t\tconfig = webix.extend({\r\n\t\t\t\tposition:0,\r\n\t\t\t\tdelay: 2000,\r\n\t\t\t\ttype:\"icon\",\r\n\t\t\t\ticon:\"refresh\",\r\n\t\t\t\thide:false\r\n\t\t\t}, (config||{}), true);\r\n\r\n\t\t\tvar incss = (config.type == \"icon\") ? (\"fa-\"+config.icon+\" fa-spin\") : \"\";\r\n\r\n\r\n\r\n\t\t\tthis._progress = webix.html.create(\r\n\t\t\t\t\"DIV\",\r\n\t\t\t\t{\r\n\t\t\t\t\t\"class\":\"webix_progress_\"+config.type,\r\n\t\t\t\t\t\"role\":\"progressbar\",\r\n\t\t\t\t\t\"aria-valuemin\":\"0\",\r\n\t\t\t\t\t\"aria-valuemax\":\"100\",\r\n\t\t\t\t\t\"tabindex\":\"0\"\r\n\t\t\t\t},\r\n\t\t\t\t\"<div class='webix_progress_state \"+incss+\"'></div>\"\r\n\t\t\t);\r\n\r\n\t\t\tif(!this.setPosition)\r\n\t\t\t\tthis._viewobj.style.position = \"relative\";\r\n\r\n\t\t\twebix.html.insertBefore(this._progress, this._viewobj.firstChild, this._viewobj);\r\n\t\t\tthis._viewobj.setAttribute(\"aria-busy\", \"true\");\r\n\r\n\t\t\tif(!webix.Touch.$active){\r\n\t\t\t\tif(this.getScrollState){\r\n\t\t\t\t\tvar scroll = this.getScrollState();\r\n\t\t\t\t\tif(this._viewobj.scrollWidth != this.$width){\r\n\t\t\t\t\t\tthis._progress.style.left = scroll.x +\"px\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this._viewobj.scrollHeight != this.$height){\r\n\t\t\t\t\t\tif(config.type != \"bottom\"){\r\n\t\t\t\t\t\t\tthis._progress.style.top = scroll.y +\"px\";\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis._progress.style.top =  scroll.y + this.$height - this._progress.offsetHeight +\"px\";\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\tthis._progress_delay = 1;\r\n\t\t}\r\n\r\n\t\tif (config && config.type != \"icon\")\r\n\t\t\twebix.delay(function(){\r\n\t\t\t\tif (this._progress){\r\n\t\t\t\t\tvar position = config.position || 1;\r\n\t\t\t\t\t//check for css-transition support\r\n\t\t\t\t\tif(this._progress.style[webix.env.transitionDuration] !== webix.undefined || !config.delay){\r\n\t\t\t\t\t\tthis._progress.firstChild.style.width = position*100+\"%\";\r\n\t\t\t\t\t\tif (config.delay)\r\n\t\t\t\t\t\t\tthis._progress.firstChild.style[webix.env.transitionDuration] = config.delay+\"ms\";\r\n\t\t\t\t\t} else{\r\n\t\t\t\t\t//if animation is not supported fallback to timeouts [IE9]\r\n\t\t\t\t\t\tvar count = 0,\r\n\t\t\t\t\t\t\tstart = 0,\r\n\t\t\t\t\t\t\tstep = position/config.delay*30,\r\n\t\t\t\t\t\t\tview = this;\r\n\r\n\t\t\t\t\t\tif(this._progressTimer){\r\n\t\t\t\t\t\t\t//reset the existing progress\r\n\t\t\t\t\t\t\twindow.clearInterval(this._progressTimer);\r\n\t\t\t\t\t\t\tstart = this._progress.firstChild.offsetWidth/this._progress.offsetWidth*100;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis._progressTimer = window.setInterval(function(){\r\n\t\t\t\t\t\t\tif(count*30 == config.delay){\r\n\t\t\t\t\t\t\t\twindow.clearInterval(view._progressTimer);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\tif(view._progress && view._progress.firstChild)\r\n\t\t\t\t\t\t\t\t\tview._progress.firstChild.style.width = start+count*step*position*100+\"%\";\r\n\t\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},30);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (config.hide)\r\n\t\t\t\t\t\twebix.delay(this.hideProgress, this, [1], config.delay);\r\n\r\n\t\t\t\t}\r\n\t\t\t\tthis._progress_delay = 0;\r\n\t\t\t}, this);\r\n\t\telse if(config && config.type == \"icon\" && config.hide)\r\n\t\t\twebix.delay(this.hideProgress, this, [1], config.delay);\r\n\t},\r\n\thideProgress:function(now){\r\n\t\tif (this._progress_delay)\r\n\t\t\tnow = true;\r\n\r\n\t\tif (this._progress){\r\n\t\t\tif (now){\r\n\t\t\t\tif(this._progressTimer)\r\n\t\t\t\t\twindow.clearInterval(this._progressTimer);\r\n\t\t\t\twebix.html.remove(this._progress);\r\n\t\t\t\tthis._progress = null;\r\n\t\t\t\tthis._viewobj.removeAttribute(\"aria-busy\");\r\n\t\t\t} else {\r\n\t\t\t\tthis.showProgress({ position:1.1, delay:300 , hide:true });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/*\r\n\tUI:Video\r\n*/\r\n\r\nwebix.protoUI({\r\n\tname:\"video\",\r\n\t$init:function(config){\r\n\t\tif (!config.id) config.id = webix.uid();\r\n\t\tthis.$ready.push(this._init_video);\r\n\t},\r\n\t_init_video:function(){\r\n\t\tvar c = this._settings;\r\n\t\tthis._contentobj  = webix.html.create(\"video\",{\r\n\t\t\t\"class\":\"webix_view_video\",\r\n\t\t\t\"style\":\"width:100%;height:100%;\",\r\n\t\t\t\"autobuffer\":\"autobuffer\"\r\n\t\t},\"\");\r\n\t\tif(c.poster)\r\n\t\t\tthis._contentobj.poster=c.poster;\r\n\r\n\t\tif(c.src){\r\n\t\t\tif(typeof c.src!= \"object\")\r\n\t\t\t\tc.src = [c.src];\r\n\t\t\tfor(var i = 0; i < c.src.length;i++)\r\n\t\t\t\tthis._contentobj.innerHTML += ' <source src=\"'+ c.src[i]+'\">';\r\n\t\t}\r\n\t\t/*if(this._contentobj.addEventListener)\r\n\t\tthis._contentobj.addEventListener('click', function(videoNode) { \r\n          return function() { \r\n            videoNode.play(); \r\n          }; \r\n        }(this._contentobj),false); */\r\n\t\r\n\t\tif(c.controls)\r\n\t\t\tthis._contentobj.controls=true;\r\n\t\tif(c.autoplay)\r\n\t\t\tthis._contentobj.autoplay=true;\r\n\t\tthis._viewobj.appendChild(this._contentobj);\r\n\t},\r\n\tgetVideo:function(){\r\n\t\treturn this._contentobj;\r\n\t},\r\n\tdefaults:{\r\n\t\tsrc:\"\",\r\n\t\tcontrols: true\r\n\t}\r\n}, webix.ui.view);\r\n\r\nwebix.protoUI({\r\n\tname:\"NonGPL\",\r\n\t$init:function(){\r\n\t\twebix.message(\"GPL version does not support '\"+this.name+\"'\",\"error\",-1);\r\n\t}\r\n},webix.ui.view);\r\n\r\nwebix.protoUI({\tname:\"organogram\" },webix.ui.NonGPL);\r\nwebix.protoUI({\tname:\"barcode\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"portlet\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"pdfviewer\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"pdfbar\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"excelviewer\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"excelbar\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"datasuggest\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"gridsuggest\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"multitext\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"multiselect\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"multicombo\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"multisuggest\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"checksuggest\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"treemap\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"rangeslider\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"rangechart\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"datalayout\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"abslayout\" },webix.ui.NonGPL);\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"sidemenu\",\r\n\tdefaults: {\r\n\t\tpadding:0,\r\n\t\tanimate: true,\r\n\t\tposition: \"left\",\r\n\t\twidth: 200,\r\n\t\tborderless: true\r\n\t},\r\n\t$init:function(){\r\n\t\tthis.$view.className += \" webix_sidemenu\";\r\n\t},\r\n\tposition_setter: function(value){\r\n\t\tvar prevPosition = this._settings.position;\r\n\t\tif(prevPosition)\r\n\t\t\twebix.html.removeCss(this.$view,\" webix_sidemenu_\"+prevPosition);\r\n\t\twebix.html.addCss(this.$view,\" webix_sidemenu_\"+value);\r\n\t\treturn value;\r\n\t},\r\n\t$getSize: function(){\r\n\t\tvar sizes = webix.ui.window.prototype.$getSize.apply(this,arguments);\r\n\t\tthis._desired_sizes = sizes;\r\n\t\treturn sizes;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\twebix.ui.view.prototype.$setSize.call(this,x,y);\r\n\t\tx = this._content_width-this._settings.padding*2;\r\n\t\ty = this._content_height-this._settings.padding*2;\r\n\t\tthis._contentobj.style.padding = this._settings.padding+\"px\";\r\n\t\tthis._headobj.style.display=\"none\";\r\n\t\tthis._bodyobj.style.height = y+\"px\";\r\n\t\tthis._body_cell.$setSize(x,y);\r\n\t},\r\n\tshow: function(){\r\n\t\tif(!this.callEvent(\"onBeforeShow\",arguments))\r\n\t\t\treturn false;\r\n\r\n\t\tthis._settings.hidden = false;\r\n\t\tthis._viewobj.style.zIndex = (this._settings.zIndex||webix.ui.zIndex());\r\n\t\tif (this._settings.modal || this._modal){\r\n\t\t\tthis._modal_set(true);\r\n\t\t\tthis._modal = null; // hidden_setter handling\r\n\t\t}\r\n\t\tthis._viewobj.style.display = \"block\";\r\n\t\tthis._render_hidden_views();\r\n\t\tif (this._settings.position)\r\n\t\t\tthis._setPosition();\r\n\r\n\t\tthis._hide_timer = 1;\r\n\t\twebix.delay(function(){ this._hide_timer = 0; }, this, [], (webix.env.touch ? 400 : 100 ));\r\n\r\n\t\tif (this.config.autofocus){\r\n\t\t\tthis._prev_focus = webix.UIManager.getFocus();\r\n\t\t\twebix.UIManager.setFocus(this);\r\n\t\t}\r\n\r\n\t\tif (-1 == webix.ui._popups.find(this))\r\n\t\t\twebix.ui._popups.push(this);\r\n\r\n\t\tthis.callEvent(\"onShow\",[]);\r\n\t},\r\n\t_setPosition: function(x){\r\n\t\tvar width, height, maxWidth, maxHeight,\r\n\t\t\tposition,\r\n\t\t\tleft = 0, top = 0,\r\n\t\t\tstate = { };\r\n\r\n\r\n\t\tthis.$view.style.position = \"fixed\";\r\n\r\n\t\tmaxWidth = (window.innerWidth||document.documentElement.offsetWidth);\r\n\t\tmaxHeight = (window.innerHeight||document.documentElement.offsetHeight);\r\n\r\n\t\twidth = this._desired_sizes[0] || maxWidth;\r\n\t\theight = this._desired_sizes[2] ||maxHeight;\r\n\r\n\t\twebix.assert(width &&height, \"Attempt to show not rendered window\");\r\n\r\n\t\tposition = this._settings.position;\r\n\r\n\t\tif(position == \"top\"){\r\n\t\t\twidth = maxWidth;\r\n\t\t} else if(position == \"right\"){\r\n\t\t\theight = maxHeight;\r\n\t\t\tleft = maxWidth - width;\r\n\t\t} else if(position == \"bottom\"){\r\n\t\t\twidth = maxWidth;\r\n\t\t\ttop = maxHeight - height;\r\n\t\t} else {\r\n\t\t\theight = maxHeight;\r\n\t\t}\r\n\r\n\t\tstate = { left: left, top: top,\r\n\t\t\twidth: width, height: height,\r\n\t\t\tmaxWidth: maxWidth, maxHeight: maxHeight\r\n\t\t};\r\n\r\n\t\tif (typeof this._settings.state == \"function\")\r\n\t\t\tthis._settings.state.call(this, state);\r\n\r\n\t\tthis._state = state;\r\n\r\n\t\tthis.$setSize(state.width, state.height);\r\n\r\n\t\tif (typeof x == \"undefined\" && this._isAnimationSupported()){\r\n\t\t\twebix.html.removeCss(this.$view,\"webix_animate\",true);\r\n\t\t\t// set initial state\r\n\t\t\tthis._animate[this._settings.position].beforeShow.call(this, state);\r\n\t\t\t// set apply animation css\r\n\t\t\twebix.delay(function(){\r\n\t\t\t\twebix.html.addCss(this.$view,\"webix_animate\",true);\r\n\t\t\t},this, null,1);\r\n\t\t\t// animate popup\r\n\t\t\twebix.delay(function(){\r\n\t\t\t\tthis._animate[this._settings.position].show.call(this, state);\r\n\t\t\t},this, null,10);\r\n\r\n\t\t}\r\n\t\telse{\r\n\r\n\t\t\tthis.setPosition(state.left, state.top);\r\n\t\t}\r\n\t},\r\n\t_isAnimationSupported: function(){\r\n\t\treturn webix.animate.isSupported() && this._settings.animate && !(webix.env.isIE && navigator.appVersion.indexOf(\"MSIE 9\")!=-1);\r\n\t},\r\n\thidden_setter:function(value){\r\n\t\tif(value)\r\n\t\t\tthis.hide(true);\r\n\t\telse\r\n\t\t\tthis.show();\r\n\t\treturn !!value;\r\n\t},\r\n\t_animate:{\r\n\t\tleft: {\r\n\t\t\tbeforeShow: function(state){\r\n\t\t\t\tthis.$view.style.left = -state.width+\"px\";\r\n\t\t\t\tthis.$view.style.top = state.top+\"px\";\r\n\t\t\t},\r\n\t\t\tshow: function(){\r\n\t\t\t\tthis.$view.style.left = \"0px\";\r\n\t\t\t},\r\n\t\t\thide: function(state){\r\n\t\t\t\tthis.$view.style.left = -state.width+\"px\";\r\n\t\t\t}\r\n\t\t},\r\n\t\tright: {\r\n\t\t\tbeforeShow: function(state){\r\n\t\t\t\tthis.$view.style.left = \"auto\";\r\n\t\t\t\tthis.$view.style.right = -state.width+\"px\";\r\n\t\t\t\tthis.$view.style.top = state.top+\"px\";\r\n\t\t\t},\r\n\t\t\tshow: function(){\r\n\t\t\t\tthis.$view.style.right = 0 +\"px\";\r\n\t\t\t},\r\n\t\t\thide: function(state){\r\n\t\t\t\tthis.$view.style.right = -state.width+\"px\";\r\n\t\t\t}\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\tbeforeShow: function(state){\r\n\t\t\t\tthis.setPosition(state.left,state.top);\r\n\t\t\t\tthis.$view.style.height =\"0px\";\r\n\t\t\t\tthis._bodyobj.style.height =\"0px\";\r\n\t\t\t},\r\n\t\t\tshow: function(state){\r\n\t\t\t\tthis.$view.style.height = state.height +\"px\";\r\n\t\t\t\tthis._bodyobj.style.height =state.height+\"px\";\r\n\t\t\t},\r\n\t\t\thide: function(){\r\n\t\t\t\tthis.$view.style.height = \"0px\";\r\n\t\t\t\tthis._bodyobj.style.height = \"0px\";\r\n\t\t\t}\r\n\t\t},\r\n\t\tbottom: {\r\n\t\t\tbeforeShow: function(state){\r\n\t\t\t\tthis.$view.style.left = state.left + \"px\";\r\n\t\t\t\tthis.$view.style.top = \"auto\";\r\n\t\t\t\tvar bottom = (state.bottom != webix.undefined?state.bottom:(state.maxHeight-state.top  -state.height));\r\n\t\t\t\tthis.$view.style.bottom = bottom +\"px\";\r\n\t\t\t\tthis.$view.style.height =\"0px\";\r\n\t\t\t},\r\n\t\t\tshow: function(state){\r\n\t\t\t\tthis.$view.style.height = state.height +\"px\";\r\n\t\t\t},\r\n\t\t\thide: function(){\r\n\t\t\t\tthis.$view.style.height = \"0px\";\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\thide:function(force){\r\n\r\n\t\tif (this.$destructed) return;\r\n\r\n\t\tif (this._settings.modal)\r\n\t\t\tthis._modal_set(false);\r\n\r\n\t\tvar maxWidth = (window.innerWidth||document.documentElement.offsetWidth);\r\n\t\tvar maxHeight = (window.innerHeight||document.documentElement.offsetHeight);\r\n\r\n\t\tif (!force && this._isAnimationSupported() && maxWidth == this._state.maxWidth && maxHeight == this._state.maxHeight){\r\n\t\t\t// call 'hide' animation handler\r\n\t\t\tthis._animate[this._settings.position].hide.call(this, this._state);\r\n\t\t\t// hide popup\r\n\t\t\tvar tid = webix.event(this.$view, webix.env.transitionEnd, webix.bind(function(ev){\r\n\t\t\t\tthis._hide_callback();\r\n\t\t\t\twebix.eventRemove(tid);\r\n\t\t\t},this));\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis._hide_callback();\r\n\t\t}\r\n\r\n\t\tif (this._settings.autofocus){\r\n\t\t\tvar el = document.activeElement;\r\n\t\t\tif (el && this._viewobj && this._viewobj.contains(el)){\r\n\t\t\t\twebix.UIManager.setFocus(this._prev_focus);\r\n\t\t\t\tthis._prev_focus = null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._hide_sub_popups();\r\n\r\n\t}\r\n\r\n}, webix.ui.popup);\r\n\r\n\r\n\r\n(function(){\r\n\r\nwebix.toPNG = function(id, name){\r\n    var defer = webix.promise.defer();\r\n    webix.require(webix.cdn + \"/extras/html2canvas.min.js\", function(){\r\n        var view = webix.$$(id);\r\n        if (view && view.$exportView)\r\n            view = view.$exportView({});\r\n        var node = view ? view.$view : webix.toNode(id);\r\n        var filename = (name||\"data\")+\".png\";\r\n        \r\n        window.html2canvas(node).then(function(canvas) {\r\n            var data = canvas.msToBlob?canvas.msToBlob():canvas.toDataURL(\"image/png\");\r\n            webix.html.download(data, filename);\r\n            canvas.remove();\r\n            defer.resolve();\r\n        });\r\n    });\r\n    return defer;\r\n};\r\n\r\n\r\nwebix.toExcel = function(id, options){\r\n    var defer = webix.promise.defer();\r\n    var view = webix.$$(id);\r\n    options = options || {};\r\n\r\n    if (view.$exportView)\r\n        view = view.$exportView(options);\r\n\r\n    webix.require(webix.cdn + \"/extras/xlsx.core.min.js\", function(){\r\n        options._export_mode = \"excel\";\r\n        \r\n        var scheme = getExportScheme(view, options);\r\n        var result = getExportData(view, options, scheme);\r\n\r\n        var spans  = options.spans ? getSpans(view, options) : [];\r\n        var data   = getExcelData(result, scheme, spans);\r\n\r\n        var wb = { SheetNames:[], Sheets:[]};\r\n        var name = options.name || \"Data\";\r\n        name = name.replace(/[\\*\\?\\:\\[\\]\\\\\\/]/g,\"\").substring(0, 31);\r\n        wb.SheetNames.push(name);\r\n        wb.Sheets[name] = data;\r\n        \r\n        var xls = XLSX.write(wb, {bookType:'xlsx', bookSST:false, type: 'binary'});\r\n        var filename =  (options.filename || name)+\".xlsx\";\r\n\r\n        var blob = new Blob([str2array(xls)], { type: \"application/xlsx\" });\r\n        webix.html.download(blob, filename);\r\n        defer.resolve();\r\n    });\r\n    return defer;\r\n};\r\n\r\nvar font;\r\nwebix.toPDF = function(id, options){\r\n    var defer = webix.promise.defer();\r\n    webix.require(webix.cdn + \"/extras/pdfjs.js\", function(){\r\n        var view = webix.$$(id);\r\n        options = options || {};\r\n\r\n        if (view.$exportView)\r\n            view = view.$exportView(options);\r\n\r\n        options._export_mode = \"pdf\";\r\n        options._export_font = font;\r\n        options.fontName = options.fontName ||\"pt-sans.regular\";\r\n\r\n        var scheme = getExportScheme(view, options);\r\n        var data = getExportData(view, options, scheme);\r\n\r\n        var callback = function(pdf, options){\r\n            var filename = (options.filename || \"data\")+\".pdf\";\r\n            var blob = new Blob([pdf.toString()], { type: \"application/pdf\" });\r\n            webix.html.download(blob, filename);\r\n            defer.resolve();\r\n        };\r\n\r\n        if(options._export_font)\r\n            getPdfData(scheme, data, options, callback);\r\n        else\r\n            pdfjs.load(webix.cdn + \"/extras/\"+options.fontName+\".ttf\", function(err, buf){\r\n                if(err) throw err;\r\n                font = options._export_font = new pdfjs.TTFFont(buf);\r\n                getPdfData(scheme, data, options, callback);\r\n            });\r\n    });\r\n    return defer;\r\n};\r\n\r\n\r\n\r\nfunction getExportScheme(view, options){\r\n    var scheme = [];\r\n    var h_count = 0, f_count = 0;\r\n    var isTable = view.getColumnConfig;\r\n    var columns = options.columns;\r\n    var raw = !!options.rawValues;\r\n\r\n    if (!columns){\r\n        if (isTable){\r\n            columns = view._columns_pull;\r\n        }\r\n        else {\r\n            columns = webix.copy(view.data.pull[view.data.order[0]]);\r\n            for (var key in columns) columns[key] = true;\r\n            delete columns.id;\r\n        }\r\n    }\r\n\r\n    if (options.id)\r\n        scheme.push({ id:\"id\", width:50, header:\" \", template:function(obj){ return obj.id; } });\r\n\r\n    for (var key in columns){\r\n        var column = columns[key];\r\n        if (column.noExport) continue;\r\n\t    \r\n        if (isTable && view._columns_pull[key])\r\n            column = webix.extend(webix.extend({}, column), view._columns_pull[key]);\r\n\r\n        var record = {\r\n            id:         column.id,\r\n            template:   ( (raw ? null : column.template) || function(key){return function(obj){ return obj[key]; };}(key)),\r\n            width:      ((column.width   || 200) * (options._export_mode===\"excel\"?8.43/70:1 )),\r\n            header:     (column.header!==false?(column.header||key)  : \"\")\r\n        };\r\n\r\n        if(typeof record.header === \"string\") record.header = [{text:record.header}];\r\n        else record.header = webix.copy(record.header);\r\n\r\n        for(var i = 0; i<record.header.length; i++){\r\n            record.header[i] = record.header[i]?(record.header[i].contentId?\"\":record.header[i].text):\"\";\r\n        }\r\n        h_count = Math.max(h_count, record.header.length);\r\n\r\n        if(view._settings.footer){\r\n            var footer = column.footer || \"\";\r\n            if(typeof footer == \"string\") footer = [{text:footer}];\r\n            else footer = webix.copy(footer);\r\n            \r\n            for(var i = 0; i<footer.length; i++){\r\n                if(footer[i]) footer[i] = footer[i].contentId?view.getHeaderContent(footer[i].contentId).getValue():footer[i].text;\r\n                else footer[i] = \"\";\r\n            }\r\n            record.footer = footer;\r\n            f_count = Math.max(f_count, record.footer.length);\r\n        }\r\n        \r\n        scheme.push(record);\r\n    }\r\n\r\n    //normalize headers and footers\r\n    for(var i =0; i<scheme.length; i++){\r\n\r\n        var diff = h_count-scheme[i].header.length;\r\n        for(var d=0; d<diff; d++)\r\n            scheme[i].header.push(\"\");\r\n\r\n        if(view._settings.footer){\r\n            diff = f_count-scheme[i].footer.length;\r\n            for(var d=0; d<diff; d++)\r\n                scheme[i].footer.push(\"\");\r\n        }\r\n    }\r\n\r\n    return scheme;\r\n}\r\n\r\nfunction getExportData(view, options, scheme){\r\n    var filterHTML = !!options.filterHTML;\r\n    var htmlFilter = /<[^>]*>/gi;\r\n    var data = [];\r\n    var header, headers;\r\n    if( options.header !== false && scheme.length && options._export_mode === \"excel\"){\r\n        for(var h=0; h < scheme[0].header.length; h++){\r\n            headers = [];\r\n            for (var i = 0; i < scheme.length; i++){\r\n                header = \"\";\r\n                if(scheme[i].header[h])\r\n                    header = scheme[i].header[h];\r\n                if (filterHTML)\r\n\t\t\t\t\theader = header.replace(htmlFilter, \"\");\r\n                headers.push(header);\r\n            }\r\n            data.push(headers);\r\n        }\r\n    }\r\n\r\n    var isTree = (view.data.name == \"TreeStore\");\r\n\r\n    view.data.each(function(item){\r\n        if(item){ //dyn loading\r\n             var line = [];\r\n            for (var i = 0; i < scheme.length; i++){\r\n                var column = scheme[i];\r\n                var cell = column.template(item, view.type, item[column.id], column, i);\r\n                if (!cell && cell !== 0) cell = \"\";\r\n                if (filterHTML && typeof cell === \"string\"){\r\n                    if(isTree)\r\n                        cell = cell.replace(/<div class=.webix_tree_none.><\\/div>/, \" - \");\r\n                    cell = cell.replace(htmlFilter, \"\");\r\n                }\r\n                line.push(cell);\r\n            }\r\n            data.push(line);\r\n        }\r\n    }, view);\r\n\r\n\r\n    if( options.footer !==false ){\r\n        var f_count = scheme[0].footer?scheme[0].footer.length:0;\r\n        for (var f = 0; f < f_count; f++){\r\n            var footers  = [];\r\n            for(var i = 0; i<scheme.length; i++){\r\n                var footer = scheme[i].footer[f];\r\n                if (filterHTML) footer = footer.replace(htmlFilter, \"\");\r\n                footers.push(footer);\r\n            }\r\n            if(options._export_mode === \"excel\") data.push(footers);\r\n        }\r\n    }\r\n\r\n    return data;\r\n}\r\n\r\nfunction getColumnsWidths(scheme){\r\n    var wscols = [];\r\n    for (var i = 0; i < scheme.length; i++)\r\n        wscols.push({ wch: scheme[i].width });\r\n        \r\n    return wscols;\r\n}\r\n\r\nfunction excelDate(date) {\r\n    return Math.round(25569 + date / (24 * 60 * 60 * 1000));\r\n}\r\n\r\nfunction getSpans(view, options){\r\n    var pull = view._spans_pull;\r\n    var spans = [];\r\n\r\n    if(pull){\r\n        //correction for spreadsheet\r\n        var xc = options.xCorrection || 0;\r\n        var yc = options.yCorrection || 0;\r\n        for(var row in pull){\r\n            //{ s:{c:1, r:0}, e:{c:3, r:0} }\r\n            var cols = pull[row];\r\n            for(var col in cols){\r\n                var sc = view.getColumnIndex(col) - xc;\r\n                var sr = view.getIndexById(row) - yc;\r\n                var ec = sc+cols[col][0]-1;\r\n                var er = sr+(cols[col][1]-1);\r\n\r\n                //+1 to exclude excel header\r\n                spans.push({ s:{c:sc, r:sr+1}, e:{c:ec, r:er+1} });\r\n            }\r\n        }\r\n    }\r\n    return spans;\r\n}\r\n\r\nvar table = \"_table\";\r\nfunction getExcelData(data, scheme, spans) {\r\n    var ws = {};\r\n    var range = {s: {c:10000000, r:10000000}, e: {c:0, r:0 }};\r\n    for(var R = 0; R != data.length; ++R) {\r\n        for(var C = 0; C != data[R].length; ++C) {\r\n            if(range.s.r > R) range.s.r = R;\r\n            if(range.s.c > C) range.s.c = C;\r\n            if(range.e.r < R) range.e.r = R;\r\n            if(range.e.c < C) range.e.c = C;\r\n\r\n            var cell = {v: data[R][C] };\r\n            if(cell.v === null) continue;\r\n            var cell_ref = XLSX.utils.encode_cell({c:C,r:R});\r\n\r\n            if(typeof cell.v === 'number') cell.t = 'n';\r\n            else if(typeof cell.v === 'boolean') cell.t = 'b';\r\n            else if(cell.v instanceof Date) {\r\n                cell.t = 'n'; cell.z = XLSX.SSF[table][14];\r\n                cell.v = excelDate(cell.v);\r\n            }\r\n            else cell.t = 's';\r\n\r\n            ws[cell_ref] = cell;\r\n        }\r\n    }\r\n    if(range.s.c < 10000000) ws['!ref'] = XLSX.utils.encode_range(range);\r\n\r\n    ws['!cols'] = getColumnsWidths(scheme);\r\n    if(spans.length)\r\n        ws[\"!merges\"] = spans;\r\n    return ws;\r\n}\r\n\r\nfunction str2array(s) {\r\n    var buf = new ArrayBuffer(s.length);\r\n    var view = new Uint8Array(buf);\r\n    for (var i=0; i!=s.length; ++i) view[i] = s.charCodeAt(i) & 0xFF;\r\n    return buf;\r\n}\r\n\r\nfunction getPdfData(scheme, data, options, callback){\r\n\r\n\r\n    options.header = (webix.isUndefined(options.header) || options.header === true) ? {} : options.header;\r\n    options.footer = (webix.isUndefined(options.footer) || options.footer === true) ? {} : options.footer;\r\n    options.table = options.table || {};\r\n\r\n    var width = options.width||595.296, height = options.height || 841.896;// default A4 size\r\n\r\n    if(options.orientation && options.orientation ===\"landscape\")\r\n        height = [width, width = height][0];\r\n\r\n    if(options.autowidth){\r\n        width = 80; //paddings\r\n        for(var i = 0; i<scheme.length; i++)\r\n            width += scheme[i].width;\r\n    }\r\n        \r\n    var doc = new pdfjs.Document({\r\n        padding: 40,\r\n        font: options._export_font,\r\n        threshold:256,\r\n        width:width,\r\n        height:height\r\n    });\r\n\r\n\r\n    //render table\r\n    var h_count = options.header === false ? 0: scheme[0].header.length;\r\n    var f_count = (options.footer === false || !scheme[0].footer) ? 0: scheme[0].footer.length;\r\n    \r\n    var colWidths = [];\r\n    for(var i = 0; i<scheme.length; i++)\r\n        colWidths[i] = scheme[i].width;\r\n\r\n    var tableOps = webix.extend(options.table, {\r\n        borderWidth: 1,height:20, lineHeight:1.1,\r\n        borderColor: 0xEEEEEE, backgroundColor: 0xFFFFFF, color:0x666666,\r\n        textAlign:\"left\", paddingRight:10, paddingLeft:10,\r\n        headerRows:h_count, widths: colWidths.length?colWidths:[\"100%\"]\r\n    });\r\n\r\n    var table = doc.table(tableOps);\r\n\r\n    //render table header\r\n    if(h_count){\r\n        var headerOps = webix.extend(options.header, {\r\n            borderRightColor:0xB0CEE3, borderBottomColor:0xB0CEE3,\r\n            color:0x4A4A4A, backgroundColor:0xD2E3EF,\r\n            height:27, lineHeight:1.2\r\n        });\r\n\r\n        for(var i = 0; i<h_count; i++){\r\n            var header = table.tr(headerOps);\r\n            for(var s=0; s<scheme.length; s++)\r\n                header.td(scheme[s].header[i].toString());\r\n        }\r\n    }\r\n    \r\n    //render table data\r\n    for(var r=0; r<data.length;r++){\r\n        var row = table.tr({});\r\n        for(var c=0; c< data[r].length; c++)\r\n            row.td(data[r][c]);\r\n    }\r\n\r\n    //render table footer\r\n    if(f_count){\r\n        var footerOps = webix.extend(options.footer, {\r\n            borderRightColor:0xEEEEEE, borderBottomColor:0xEEEEEE,\r\n            backgroundColor: 0xFAFAFA, color:0x666666,\r\n            height:27, lineHeight:1.2\r\n        });\r\n\r\n        for(var i = 0; i<f_count; i++){\r\n            var footer = table.tr(footerOps);\r\n            for(var s=0; s<scheme.length; s++)\r\n                footer.td(scheme[s].footer[i].toString());\r\n        }\r\n    }\r\n\r\n    //doc footer\r\n    if(options.docFooter !== false){\r\n        var ft = doc.footer();\r\n        ft.text({\r\n            color: 0x666666, textAlign:\"center\"\r\n        }).append((webix.i18n.dataExport.page||\"Page\")).pageNumber().append(\"  \"+(webix.i18n.dataExport.of || \"of\")+\"  \").pageCount();\r\n    }\r\n    \r\n\r\n    //doc header, configurable\r\n    if(options.docHeader){\r\n        if(typeof options.docHeader == \"string\") options.docHeader = {text:options.docHeader};\r\n        var docHeaderOps = webix.extend(options.docHeader, {\r\n            color: 0x666666, textAlign:\"right\"\r\n        });\r\n\r\n        var hd = doc.header({paddingBottom:10});\r\n        hd.text(docHeaderOps.text, docHeaderOps);\r\n    }\r\n\r\n    if (options.docHeaderImage){\r\n        if(typeof options.docHeaderImage == \"string\") options.docHeaderImage = {url:options.docHeaderImage};\r\n        var hd = doc.header({paddingBottom:10});\r\n        var docImageOps = webix.extend(options.docHeaderImage, {\r\n            align:\"right\"\r\n        });\r\n\r\n        pdfjs.load(options.docHeaderImage.url, function(err, buffer){\r\n            if (!err){\r\n                var img = new pdfjs.Image(buffer);\r\n                var image = hd.image(img, docImageOps);\r\n            }\r\n            //render pdf and show in browser\r\n            var pdf = doc.render();\r\n            callback(pdf, options);\r\n        });\r\n    }\r\n    else{\r\n        //render pdf and show in browser\r\n        var pdf = doc.render();\r\n        callback(pdf, options);\r\n    }\r\n}\r\n\r\n})();\r\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3).setImmediate))\n\n/***/ },\n/* 12 */,\n/* 13 */,\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)();\n// imports\n\n\n// module\nexports.push([module.i, \"img {\\n  border: none;\\n}\\n.webix_icon_button {\\n  position: relative;\\n}\\n.webix_layout_toolbar.webix_toolbar .webix_el_icon .webix_icon {\\n  height: 100%;\\n  width: 100%;\\n  line-height: inherit;\\n}\\n.webix_icon_count {\\n  background-color: #eb6e1a;\\n  border-radius: 50%;\\n  font-size: 12px;\\n  height: 22px;\\n  min-width: 22px;\\n  line-height: 17px;\\n  box-sizing: border-box;\\n  -moz-box-sizing: boder-box;\\n  -webkit-box-sizing: boder-box;\\n  padding: 0 4px;\\n  text-align: center;\\n  line-height: 22px;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n}\\n.header_person {\\n  background: transparent !important;\\n}\\n.header_person .webix_template {\\n  padding: 0;\\n  line-height: 46px;\\n}\\n.header_person .photo {\\n  width: 38px;\\n  height: 38px;\\n  float: left;\\n  margin-top: 5px;\\n  -moz-border-radius: 50%;\\n  -ms-border-radius: 50%;\\n  border-radius: 50%;\\n}\\n.header_person span {\\n  color: #fff;\\n  float: left;\\n  padding-left: 7px;\\n}\\n.header_person .webix_icon {\\n  line-height: inherit;\\n}\\n.menu .webix_tree_item {\\n  height: 40px;\\n  line-height: 40px;\\n}\\n.webix_tree .webix_scroll_cont > .webix_tree_leaves {\\n  padding: 0;\\n}\\n.menu.webix_view {\\n  background: #f1f1f1 !important;\\n}\\n.menu .webix_tree_item.webix_selected,\\n.menu .webix_tree_item.webix_selected span {\\n  background-color: #27ae60;\\n  padding-right: 0;\\n}\\n.menu .webix_tree_branch_1 .webix_tree_item {\\n  /*padding-left:10px;*/\\n  padding-left: 24px;\\n  padding-right: 10px;\\n}\\n.menu .webix_tree_branch_1 > .webix_tree_item {\\n  /*padding: 5px 12px;*/\\n  padding: 5px 0 4px 0;\\n  line-height: 40px;\\n  /*font-size: 12px;\\n\\ttext-transform: uppercase;*/\\n}\\n.menu .webix_tree_branch_1 {\\n  border-bottom: 1px solid #e5e5e5;\\n}\\n.menu .webix_tree_item.webix_selected span,\\n.menu .webix_tree_item span {\\n  margin: 0;\\n  padding: 1px;\\n}\\n.menu .webix_tree_item.webix_selected .webix_icon {\\n  color: #fff;\\n}\\n.menu .webix_icon {\\n  width: 25px;\\n  padding-left: 12px !important;\\n  text-align: center;\\n}\\n.menu .dashboard .webix_icon {\\n  font-size: 18px;\\n}\\n.menu .webix_tree_leaves .webix_tree_leaves {\\n  margin-left: 0px;\\n}\\n.list_popup .webix_list_item {\\n  position: relative;\\n  line-height: 36px;\\n}\\n.list_popup .photo {\\n  width: 34px;\\n  height: 34px;\\n  border-radius: 50%;\\n  float: left;\\n  padding-top: 3px;\\n}\\n.list_popup .text {\\n  padding-left: 10px;\\n  display: inline-block;\\n  max-width: 180px;\\n  overflow: hidden;\\n}\\n.list_popup .name {\\n  color: #3498db;\\n  font-size: 12px;\\n  display: block;\\n  font-style: italic;\\n  overflow: hidden;\\n  padding: 0 2px 0 4px;\\n  position: absolute;\\n  right: 10px;\\n  background: #fff;\\n  top: 3px;\\n}\\n.extended_search {\\n  color: #3498db;\\n  padding: 5px 10px;\\n  line-height: 30px;\\n}\\n.extended_search span {\\n  cursor: pointer;\\n}\\n.show_all {\\n  background-color: #fbfbfb;\\n}\\n.show_all .webix_template {\\n  line-height: 30px;\\n  padding: 5px 10px;\\n}\\n.show_all .webix_template .webix_icon {\\n  line-height: 30px;\\n  float: right;\\n}\\n.webix_layout_space,\\n.webix_layout_wide,\\n.webix_view.webix_layout_accordion {\\n  background-color: #f4f4f4;\\n}\\n.title {\\n  background-color: #fbfbfb;\\n}\\n.title .webix_template {\\n  padding: 10px 12px;\\n  line-height: 29px;\\n}\\n.title .header {\\n  float: left;\\n  font-size: 18px;\\n}\\n.title .details {\\n  float: left;\\n  font-size: 13px;\\n  font-style: italic;\\n  padding-left: 10px;\\n}\\n.sub_title .webix_template {\\n  padding-left: 12px;\\n  padding-top: 12px;\\n}\\n.sub_title .webix_icon {\\n  padding-right: 7px;\\n}\\n.sub_title2 .webix_icon {\\n  padding-right: 5px;\\n}\\n.tasks_list .webix_list_item:last-child {\\n  border-bottom: none;\\n}\\n.tasks_list .done .list_text {\\n  text-decoration: line-through;\\n}\\n.tasks_list .done .list_text {\\n  text-decoration: line-through;\\n}\\n.tasks_list .marker {\\n  padding: 1px 1px;\\n  font-size: 10px;\\n  border-radius: 3px;\\n  margin-left: 10px;\\n}\\n.tasks_list .marker.projects {\\n  color: #fff;\\n  margin-top: 7px;\\n  background-color: #eb6e1a;\\n}\\n.tasks_list .marker.company {\\n  color: #fff;\\n  margin-top: 7px;\\n  background-color: #27ae60;\\n}\\n.tasks_list .fa-square-o {\\n  color: #888;\\n}\\n.show_all.webix_layout_form {\\n  background: #fbfbfb;\\n}\\n.chat_list .webix_list_item {\\n  border-color: #fff;\\n}\\n.chat_list .webix_list_item:last-child {\\n  border-bottom: none;\\n}\\n.chat_list .name {\\n  color: #3498db;\\n  font-size: 13px;\\n  display: block;\\n  line-height: 16px;\\n  font-weight: 700;\\n}\\n.chat_list .photo {\\n  width: 42px;\\n  height: 42px;\\n  margin-top: 10px;\\n  -moz-border-radius: 50%;\\n  -ms-border-radius: 50%;\\n  border-radius: 50%;\\n}\\n.chat_list .text {\\n  border-left: 2px solid #49cd81;\\n  display: block;\\n  background-color: #fbfbfb;\\n  margin-top: -55px;\\n  margin-left: 60px;\\n  padding: 10px;\\n  line-height: 21px;\\n  font-size: 14px;\\n}\\n.chat_list .time {\\n  display: inline-block;\\n  font-weight: 400;\\n  color: #666666;\\n  padding: 0 10px;\\n}\\n.chat_list .webix_list_item:nth-child(even) .text {\\n  text-align: right;\\n  border-left: none;\\n  border-right: 2px solid #f19b60;\\n  margin-left: 0px;\\n  margin-top: 5px;\\n  margin-right: 60px;\\n}\\n.chat_list .webix_list_item:nth-child(even) .photo {\\n  float: right;\\n}\\n.tiles {\\n  background: #f4f4f4;\\n}\\n.tiles .webix_template {\\n  margin-top: 8px;\\n  padding: 0 5px 0 5px;\\n}\\n.flex_tmp {\\n  display: -webkit-box;\\n  display: -moz-box;\\n  display: -ms-flexbox;\\n  display: -webkit-flex;\\n  display: flex;\\n  flex-flow: row wrap;\\n  -webkit-flex-flow: row wrap;\\n  justify-content: space-around;\\n}\\n.flex_tmp .item {\\n  border-radius: 3px;\\n  position: relative;\\n  min-width: 150px;\\n  height: 105px;\\n  padding-top: 10px;\\n  margin: 11px 5.5px 0px 5.5px;\\n  color: #fff;\\n  -ms-box-flex: 1;\\n  -webkit-box-flex: 1;\\n  -moz-box-flex: 1;\\n  /* Firefox 19- */\\n  -ms-flex: 1 auto;\\n  /* TWEENER - IE 10 */\\n  -webkit-flex: 1 auto;\\n  /* NEW - Chrome */\\n  flex: 1 auto;\\n}\\n.flex_tmp .item .icon {\\n  padding-left: 10px;\\n  height: 73px;\\n  padding-top: 7px;\\n  display: block;\\n  width: 30%;\\n  font-size: 77px;\\n  color: rgba(255, 255, 255, 0.17);\\n}\\n.flex_tmp .item .details {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  width: 150px;\\n}\\n.flex_tmp .item .value {\\n  font-size: 27px;\\n  text-align: right;\\n}\\n.flex_tmp .item .text {\\n  width: 100%;\\n  font-size: 18px;\\n  text-align: right;\\n}\\n.tiles .orders {\\n  background-color: #a693eb;\\n}\\n.tiles .users {\\n  background-color: #63b4ea;\\n}\\n.tiles .item.profit {\\n  background-color: #49cd81;\\n}\\n.tiles .feedbacks {\\n  background-color: #f19b60;\\n}\\n.flex_tmp .footer {\\n  height: 25px;\\n  text-align: center;\\n  line-height: 25px;\\n  font-size: 13px;\\n  background: rgba(0, 0, 0, 0.05);\\n}\\n.flex_tmp .footer .webix_icon {\\n  font-size: 14px;\\n}\\n.revenue_chart {\\n  background: #b4c6d2;\\n}\\n.revenue_chart .webix_canvas_text {\\n  color: #fff;\\n  font-size: 11px;\\n}\\n.donut_titles .webix_template {\\n  text-align: center;\\n  font-size: 13px;\\n}\\n.donut_result .webix_canvas_text {\\n  left: 50% !important;\\n  top: 50% !important;\\n  margin-top: -9px;\\n  margin-left: -7px;\\n}\\n.webix_view .defaultSimpleSkin table.mceLayout {\\n  border: none;\\n}\\n/*ckeditor*/\\n.webix_view .cke_reset {\\n  border-color: #ccc;\\n}\\n.webix_view .cke_top {\\n  background: #fafafa;\\n  background-image: none;\\n  border-color: #ddd;\\n}\\n.webix_view .cke_toolgroup {\\n  background: #fafafa;\\n  background-image: none;\\n  border-color: #ccc;\\n}\\n.webix_view .cke_button:hover {\\n  background: #f4f4f4;\\n  background-image: none;\\n}\\n.webix_view .cke_button_on {\\n  background: #ddd;\\n}\\n.webix_view .cke_button_on.cke_button:hover {\\n  background: #ddd;\\n}\\n.rating_bar_element {\\n  background-image: url(\" + __webpack_require__(0) + \");\\n  width: 80px;\\n  height: 16px;\\n  margin-top: 7px;\\n  position: relative;\\n}\\n.rating_bar_element.star1 {\\n  background-position: 0 -16px;\\n}\\n.rating_bar_element.star2 {\\n  background-position: 0 -32px;\\n}\\n.rating_bar_element.star3 {\\n  background-position: 0 -48px;\\n}\\n.rating_bar_element.star4 {\\n  background-position: 0 -64px;\\n}\\n.rating_bar_element.star5 {\\n  background-position: 0 -80px;\\n}\\n.rating_star:hover {\\n  z-index: 2;\\n  position: absolute;\\n  width: 80px;\\n  height: 16px;\\n  overflow: hidden;\\n  left: 0px !important;\\n  background-image: url(\" + __webpack_require__(0) + \");\\n}\\n.rating_star.star1:hover {\\n  background-position: 0 -96px;\\n}\\n.rating_star.star2:hover {\\n  background-position: 0 -112px;\\n}\\n.rating_star.star3:hover {\\n  background-position: 0 -128px;\\n}\\n.rating_star.star4:hover {\\n  background-position: 0 -144px;\\n}\\n.rating_star.star5:hover {\\n  background-position: 0 -160px;\\n}\\n.rating_star {\\n  z-index: 3;\\n  position: absolute;\\n  width: 16px;\\n  height: 16px;\\n  top: 0px;\\n  float: left;\\n  cursor: pointer;\\n}\\n.webix_view.webix_pager {\\n  box-sizing: border-box;\\n  -moz-box-sizing: border-box;\\n  -webkit-box-sizing: border-box;\\n}\\n.highlight_row {\\n  background-color: #edf4f9;\\n  font-weight: bold;\\n}\\n.progress_bar_element {\\n  background-color: #f5f5f5;\\n  border-radius: 4px;\\n  width: 100%;\\n  height: 6px;\\n  -webkit-box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);\\n  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);\\n  margin-top: 16px;\\n  float: left;\\n  overflow: hidden;\\n  cursor: pointer;\\n}\\n.progress_result {\\n  height: 100%;\\n  float: left;\\n  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);\\n  background: #eb6e1a;\\n}\\n.progress_result.inner {\\n  background: #a693eb;\\n}\\n.progress_result.company {\\n  background: #49cd81;\\n}\\n.webix_view .dhx_scale_holder_now {\\n  background-image: url(\" + __webpack_require__(4) + \");\\n}\\n.webix_view .dhx_now .dhx_month_head {\\n  background-color: #fff8c4;\\n}\\n.webix_view .dhx_now .dhx_month_body {\\n  background-color: #fff8c4;\\n}\\n.webix_view .dhx_cal_tab.active {\\n  background-color: #f0f5f9;\\n  box-shadow: inset 0 2px #eee;\\n  -webkit-box-shadow: inset 0 2px #eee;\\n}\\n.webix_view .dhx_cal_event_line {\\n  background-color: #63b4ea;\\n}\\n.webix_view .dhx_cal_event_line.other {\\n  background-color: #27ae60;\\n}\\n.dhx_cal_event .dhx_header,\\n.dhx_cal_event .dhx_footer,\\n.dhx_cal_event .dhx_body,\\n.dhx_cal_event .dhx_title {\\n  background-color: #63b4ea !important;\\n}\\n.dhx_cal_event_clear.other {\\n  color: #1c6d3e;\\n}\\n.other.dhx_cal_event .dhx_header,\\n.other.dhx_cal_event .dhx_footer,\\n.other.dhx_cal_event .dhx_body,\\n.other.dhx_cal_event .dhx_title {\\n  background-color: #27ae60 !important;\\n}\\n.calendar_icon {\\n  display: block;\\n  height: 14px;\\n  width: 14px;\\n  border-radius: 4px;\\n  float: left;\\n  margin-top: 6px;\\n  margin-right: 5px;\\n  background: #63b4ea;\\n  border: 1px solid #63b4ea;\\n}\\n.calendar_icon.company {\\n  background: #27ae60;\\n  border-color: #27ae60;\\n}\\n.webix_view .dhx_cal_navline .dhx_cal_date {\\n  font-size: 15px;\\n}\\n.calendar_list .webix_list_item {\\n  border-bottom-color: #fff;\\n  padding-left: 2px;\\n  padding-right: 2px;\\n}\\n.calendar_list .disabled .calendar_icon {\\n  background: #fff;\\n  border-color: #ddd;\\n}\\n.calendar_list .disabled.webix_list_item {\\n  color: #aaa;\\n}\\n.sub_title2 {\\n  background: transparent !important;\\n}\\n.highlighted_header.header1 {\\n  background-color: #a693eb !important;\\n}\\n.webix_toolbar.highlighted_header .webix_template {\\n  color: #fff !important;\\n}\\n.webix_toolbar.highlighted_header .webix_template .webix_icon {\\n  color: #fff !important;\\n}\\n.highlighted_header.header2 {\\n  background-color: #f19b60 !important;\\n}\\n.highlighted_header.header3 {\\n  background-color: #63b4ea !important;\\n}\\n.highlighted_header.header4 {\\n  background-color: #49cd81 !important;\\n}\\n.highlighted_header.header5 {\\n  background-color: #a4b4bf !important;\\n}\\n.highlighted_header.header6 {\\n  background-color: #fbfbfb !important;\\n}\\n.highlighted_header .webix_el_icon .webix_icon {\\n  font-size: 17px;\\n}\\n.webix_dtable .webix_icon {\\n  color: #777;\\n}\\n.webix_row_select .webix_icon {\\n  color: #fff;\\n}\\n.webix_dtable .status {\\n  padding: 2px 5px;\\n  font-size: 12px;\\n  border-radius: 3px;\\n  color: #fff;\\n}\\n.status0 {\\n  background-color: #eb6e1a;\\n}\\n.status1 {\\n  background-color: #27ae60;\\n}\\n.status2 {\\n  background-color: #a693eb;\\n}\\n.webix_list .marker {\\n  float: left;\\n  height: 10px;\\n  width: 10px;\\n  border-radius: 50%;\\n  margin-top: 10px;\\n  margin-right: 5px;\\n}\\n.button0.webix_el_button .webixtype_base {\\n  background-color: #eb6e1a;\\n  border-color: #eb6e1a;\\n  border-bottom-color: #c45c16;\\n}\\n.button2.webix_el_button .webixtype_base {\\n  background-color: #a693eb;\\n  border-color: #a693eb;\\n  border-bottom-color: #8878c1;\\n}\\n.product_image_action {\\n  cursor: pointer;\\n}\\n.product_image.webix_icon {\\n  color: #aaa;\\n  width: 100%;\\n  font-size: 50px;\\n  line-height: 80px;\\n  text-align: center;\\n}\\n.webix_tree.file .folder_title {\\n  float: left;\\n  padding: 0 6px 0 3px;\\n  width: auto;\\n}\\n.webix_tree.file .webix_selected .folder_title {\\n  background-color: #27ae60;\\n}\\n.webix_tree.file .webix_selected .folder_title .icon {\\n  color: #fff;\\n}\\n.webix_tree.file .folder_title .icon {\\n  margin-left: 0;\\n  color: #63b4ea;\\n  padding-left: 4px;\\n  padding-right: 4px;\\n}\\n.webix_tree.file .icon {\\n  padding-right: 0;\\n}\\n.webix_tree.file .webix_tree_branch_1 {\\n  padding: 7px;\\n}\\n.webix_tree.file .webix_tree_item {\\n  padding: 1px 0;\\n}\\n.webix_dataview_item.files {\\n  text-align: center;\\n  font-size: 14px;\\n  line-height: 20px;\\n  border-color: #fff;\\n  border-right-color: #fff;\\n  margin: 5px;\\n}\\n.webix_dataview_item.files .webix_icon {\\n  padding-top: 10px;\\n  width: 30px;\\n  padding-bottom: 5px;\\n  font-size: 30px;\\n}\\n.webix_dataview_item.files.webix_selected .webix_icon {\\n  color: #fff !important;\\n}\\n.webix_dataview_item.files .folder .webix_icon {\\n  color: #63b4ea;\\n}\\n.webix_dataview_item.files .pp .webix_icon {\\n  color: #eb6e1a;\\n}\\n.webix_dataview_item.files .ex .webix_icon {\\n  color: #27ae60;\\n}\\n.webix_dataview_item.files .doc .webix_icon {\\n  color: #63b4ea;\\n}\\n.webix_dataview_item.files .img .webix_icon {\\n  color: #eb6e1a;\\n}\\n.webix_dataview_item.files .video .webix_icon {\\n  color: #a693eb;\\n}\\n.slider1 .webix_slider_left {\\n  background-color: #eb6e1a;\\n}\\n.slider2 .webix_slider_left {\\n  background-color: #27ae60;\\n}\\n.slider3 .webix_slider_left {\\n  background-color: #a693eb;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)();\n// imports\n\n\n// module\nexports.push([module.i, \"/*\\r\\n@license\\r\\nwebix UI v.4.0.0\\r\\nThis software is allowed to use under GPL or you need to obtain Commercial License \\r\\n to use it in non-GPL project. Please contact sales@webix.com for details\\r\\n*/\\r\\n.webix_view{font-family:'PT Sans',Tahoma;font-size:15px;color:#666;cursor:default;overflow:hidden;border:0 solid #ddd;background-color:#fff;white-space:normal;-webkit-appearance:none}\\r\\n.webix_view.webix_form{background-color:#fff}\\r\\nbody{-webkit-tap-highlight-color:transparent!important}\\r\\n.webix_inp_static,button,input,select,textarea{outline:0}\\r\\n.webix_abslayout{position:relative}\\r\\n.webix_abslayout>.webix_view{position:absolute}\\r\\n.webix_layout_space,.webix_layout_wide{background-color:#ddd}\\r\\n.webix_layout_accordion,.webix_layout_clean,.webix_layout_line,.webix_multiview{background:0 0}\\r\\n.webix_overlay{width:100%;height:100%;position:absolute;z-index:10;text-align:center;padding-top:10px}\\r\\n.webix_view>.webix_disabled{width:100%;height:100%;position:absolute;top:0;left:0;background-color:#ddd;opacity:.4;filter:alpha(opacity=40);z-index:1}\\r\\n.webix_disabled_view{overflow:hidden!important}\\r\\nbody.webix_full_screen{margin:0;padding:0;overflow:hidden}\\r\\n.webix_noselect,.webix_noselect div{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}\\r\\n.webix_selectable{-moz-user-select:text;-webkit-user-select:text;user-select:text}\\r\\n.webix_template{height:100%;padding:5px;padding-left:5px 2px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webix_clean{background:0 0}\\r\\n.webix_clean .webix_template{padding:0}\\r\\n.webix_section{padding-left:30px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:transparent;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAUCAIAAADDbMD2AAAABnRSTlMA/wD/AP83WBt9AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAHElEQVR4nGP4//8/EwMDA158/vx5BmLUMTAwAADGhQiMQPqPwgAAAABJRU5ErkJggg==);background-repeat:repeat-x;background-position:11.25px;color:#444;font-size:10px;text-transform:uppercase;line-height:45px}\\r\\n.webix_section>.webix_template{padding:0 8px;background-color:#fff;display:inline}\\r\\n.webix_layout_space>.webix_section>.webix_template,.webix_layout_wide>.webix_section>.webix_template{padding:0 8px;background-color:#ddd}\\r\\n.webix_layout_clean>.webix_section>.webix_template,.webix_layout_line>.webix_section>.webix_template{padding:0 8px;background-color:#fff}\\r\\n.webix_header>div{padding-left:10px;color:#fff;font-size:18px;background:#3498db;line-height:43px;line-height:45px;padding-top:0;padding-bottom:0}\\r\\n.webix_header>div .webix_el_button,.webix_header>div .webix_el_label,.webix_header>div .webix_inp_label{color:#fff}\\r\\n.webix_header>div .webix_el_label{font-size:18px}\\r\\n.webix_header>div .webix_inp_counter_next,.webix_header>div .webix_inp_counter_prev,.webix_header>div .webix_segment_0,.webix_header>div .webix_segment_1,.webix_header>div .webix_segment_N,.webix_header>div .webixtype_base,.webix_header>div .webixtype_next,.webix_header>div .webixtype_prev{border-color:#d9d9d9;background-color:transparent;color:#fff}\\r\\n.webix_header>div .webix_el_arrow.webixtype_next_arrow{border-left:none;border-bottom:none}\\r\\n.webix_header>div .webix_el_arrow.webixtype_prev_arrow{border-right:none;border-bottom:none}\\r\\n.webix_header>div .webix_inp_counter_next:hover,.webix_header>div .webix_inp_counter_prev:hover,.webix_header>div .webix_segment_0:hover,.webix_header>div .webix_segment_1:hover,.webix_header>div .webix_segment_N:hover,.webix_header>div .webixtype_base:hover{color:#fff;background-color:rgba(0,0,0,.05)}\\r\\n.webix_header>div .webix_inp_counter_next:active,.webix_header>div .webix_inp_counter_prev:active,.webix_header>div .webix_segment_0:active,.webix_header>div .webix_segment_1:active,.webix_header>div .webix_segment_N:active,.webix_header>div .webixtype_base:active{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_header>div .webix_inp_counter_next:focus,.webix_header>div .webix_inp_counter_prev:focus,.webix_header>div .webix_segment_0:focus,.webix_header>div .webix_segment_1:focus,.webix_header>div .webix_segment_N:focus,.webix_header>div .webixtype_base:focus{background-color:rgba(0,0,0,.07);color:#fff}\\r\\n.webix_header>div .webix_inp_static,.webix_header>div input[type=text]{border-color:#fff}\\r\\n.webix_header>div .webix_inp_static:focus,.webix_header>div input[type=text]:focus{border-color:#fff;box-shadow:none}\\r\\n.webix_header>div .webix_input_icon{border-color:#d9d9d9;background-color:transparent;color:#666}\\r\\n.webix_header>div .webix_input_icon:active,.webix_header>div .webix_input_icon:focus,.webix_header>div .webix_input_icon:hover{background-color:transparent;color:#666}\\r\\n.webix_header>div .webix_pressed .webix_el_arrow,.webix_header>div .webix_pressed .webix_inp_counter_next,.webix_header>div .webix_pressed .webix_inp_counter_prev,.webix_header>div .webix_pressed .webix_input_icon,.webix_header>div .webix_pressed .webix_segment_0,.webix_header>div .webix_pressed .webix_segment_1,.webix_header>div .webix_pressed .webix_segment_N,.webix_header>div .webix_pressed .webixtype_base,.webix_header>div .webix_pressed .webixtype_next,.webix_header>div .webix_pressed .webixtype_prev{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_header>div .webix_selected.webix_segment_0,.webix_header>div .webix_selected.webix_segment_1,.webix_header>div .webix_selected.webix_segment_N{border-color:#d9d9d9;background-color:#27ae60;color:#fff}\\r\\n.webix_header>div .webix_selected.webix_segment_0:hover,.webix_header>div .webix_selected.webix_segment_1:hover,.webix_header>div .webix_selected.webix_segment_N:hover{background-color:#24a259}\\r\\n.webix_header>div .webix_selected.webix_segment_0:active,.webix_header>div .webix_selected.webix_segment_0:focus,.webix_header>div .webix_selected.webix_segment_1:active,.webix_header>div .webix_selected.webix_segment_1:focus,.webix_header>div .webix_selected.webix_segment_N:active,.webix_header>div .webix_selected.webix_segment_N:focus{background-color:#295}\\r\\n.webix_header>div .webix_segment_1,.webix_header>div .webix_segment_N,.webix_header>div .webix_selected.webix_segment_1,.webix_header>div .webix_selected.webix_segment_N{margin-left:0;border-left:none}\\r\\n.webix_header>div .webix_img_btn:active,.webix_header>div .webix_img_btn_top:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_header>div .webix_img_btn:focus,.webix_header>div .webix_img_btn_top:focus{background-color:#2489cc}\\r\\n.webix_header>div .webix_img_btn:hover,.webix_header>div .webix_img_btn_top:hover{background-color:#268fd5}\\r\\n.webix_header>div .webix_icon_button{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_header>div .webix_el_icon,.webix_header>div .webix_icon_btn,.webix_header>div .webix_icon_button,.webix_header>div .webix_img_btn,.webix_header>div .webix_img_btn_abs,.webix_header>div .webix_img_btn_abs .webix_icon,.webix_header>div .webix_img_btn_abs .webix_img_btn_text,.webix_header>div .webix_img_btn_top .webix_icon,.webix_header>div .webix_img_btn_top .webix_img_btn_text{color:#fff}\\r\\n.webix_header>div .webix_el_box .webix_img_btn_abs:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_header>div .webix_el_icon .webix_icon_button:focus{background-color:rgba(0,0,0,.07)}\\r\\n.webix_header>div .webix_el_box .webix_img_btn_abs:hover,.webix_header>div .webix_el_icon .webix_icon_button:hover{background-color:rgba(0,0,0,.05)}\\r\\n.webix_header>div .webix_control{border-color:#3498db}\\r\\n.webix_header>div .webix_icon_button .webix_icon{font-size:23px;height:27px;width:27px;color:#fff}\\r\\n.webix_header>div .webix_img_btn,.webix_header>div .webix_img_btn_top{border-width:0}\\r\\n.webix_spacer{background:0 0}\\r\\n.webix_view_animate{position:relative;width:100%;height:100%}\\r\\nx\\\\:ui{display:none}\\r\\n.webix_flexlayout{display:flex!important;flex-wrap:wrap;flex-direction:row;overflow:hidden;box-sizing:border-box}\\r\\n.webix_flexlayout>div{display:block!important}\\r\\n.webix_view_align{background:0 0}\\r\\n.webix_resize_area{position:absolute;top:0;left:0;width:100%;height:100%}\\r\\n.webix_resize_handle_x .webix_handle_content,.webix_resize_handle_y .webix_handle_content{width:100%;height:100%;background:rgba(100,100,100,.1);border:1px dotted #ebebeb}\\r\\n.webix_resize_handle_x{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;cursor:e-resize;width:1px;height:100%;position:absolute;z-index:2;top:0}\\r\\n.webix_resize_handle_x .webix_handle_content{border-width:0 1px}\\r\\n.webix_resize_origin_x{cursor:e-resize;width:3px;height:100%;position:absolute;z-index:2;top:0}\\r\\n.webix_resize_handle_y{cursor:n-resize;height:1px;width:100%;position:absolute;z-index:2;left:0}\\r\\n.webix_resize_handle_y .webix_handle_content{border-width:1px 0}\\r\\n.webix_resize_origin_y{cursor:n-resize;height:3px;width:100%;position:absolute;z-index:2;left:0}\\r\\n.webix_resizer.webix_disabled_view{cursor:default}\\r\\n.webix_resizer_vy{cursor:n-resize;margin-top:0!important;border:0!important;padding:0!important;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAADAQMAAABCowZuAAAABlBMVEUAAACkvtSA7tmIAAAAAXRSTlMAQObYZgAAAA9JREFUCB1jXMUABoxAGgAJaAFXPIkJqAAAAABJRU5ErkJggg==) center center no-repeat}\\r\\n.webix_resizer_vx{cursor:e-resize;margin-left:0!important;border:0!important;padding:0!important;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAXAQMAAAD0oWdxAAAABlBMVEUAAACkvtSA7tmIAAAAAXRSTlMAQObYZgAAAA5JREFUeF5jWMDAQDwGAKyuB4FpGQdzAAAAAElFTkSuQmCC) center center no-repeat}\\r\\n.webix_resizer_y{cursor:n-resize;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAADAQMAAABCowZuAAAABlBMVEUAAACkvtSA7tmIAAAAAXRSTlMAQObYZgAAAA9JREFUCB1jXMUABoxAGgAJaAFXPIkJqAAAAABJRU5ErkJggg==) center center no-repeat #fff}\\r\\n.webix_resizer_x{cursor:e-resize;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAXAQMAAAD0oWdxAAAABlBMVEUAAACkvtSA7tmIAAAAAXRSTlMAQObYZgAAAA5JREFUeF5jWMDAQDwGAKyuB4FpGQdzAAAAAElFTkSuQmCC) center center no-repeat #fff}\\r\\n.webix_accordionitem_body{position:relative}\\r\\n.webix_accordionitem_header{border-bottom:1px solid #ddd;position:relative;z-index:2;color:#fff;font-size:18px;background:#3498db;line-height:43px;cursor:pointer;overflow:hidden}\\r\\n.webix_accordionitem_header .webix_el_button,.webix_accordionitem_header .webix_el_label,.webix_accordionitem_header .webix_inp_label{color:#fff}\\r\\n.webix_accordionitem_header .webix_el_label{font-size:18px}\\r\\n.webix_accordionitem_header .webix_inp_counter_next,.webix_accordionitem_header .webix_inp_counter_prev,.webix_accordionitem_header .webix_segment_0,.webix_accordionitem_header .webix_segment_1,.webix_accordionitem_header .webix_segment_N,.webix_accordionitem_header .webixtype_base,.webix_accordionitem_header .webixtype_next,.webix_accordionitem_header .webixtype_prev{border-color:#d9d9d9;background-color:transparent;color:#fff}\\r\\n.webix_accordionitem_header .webix_el_arrow.webixtype_next_arrow{border-left:none;border-bottom:none}\\r\\n.webix_accordionitem_header .webix_el_arrow.webixtype_prev_arrow{border-right:none;border-bottom:none}\\r\\n.webix_accordionitem_header .webix_inp_counter_next:hover,.webix_accordionitem_header .webix_inp_counter_prev:hover,.webix_accordionitem_header .webix_segment_0:hover,.webix_accordionitem_header .webix_segment_1:hover,.webix_accordionitem_header .webix_segment_N:hover,.webix_accordionitem_header .webixtype_base:hover{color:#fff;background-color:rgba(0,0,0,.05)}\\r\\n.webix_accordionitem_header .webix_inp_counter_next:active,.webix_accordionitem_header .webix_inp_counter_prev:active,.webix_accordionitem_header .webix_segment_0:active,.webix_accordionitem_header .webix_segment_1:active,.webix_accordionitem_header .webix_segment_N:active,.webix_accordionitem_header .webixtype_base:active{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_accordionitem_header .webix_inp_counter_next:focus,.webix_accordionitem_header .webix_inp_counter_prev:focus,.webix_accordionitem_header .webix_segment_0:focus,.webix_accordionitem_header .webix_segment_1:focus,.webix_accordionitem_header .webix_segment_N:focus,.webix_accordionitem_header .webixtype_base:focus{background-color:rgba(0,0,0,.07);color:#fff}\\r\\n.webix_accordionitem_header .webix_inp_static,.webix_accordionitem_header input[type=text]{border-color:#fff}\\r\\n.webix_accordionitem_header .webix_inp_static:focus,.webix_accordionitem_header input[type=text]:focus{border-color:#fff;box-shadow:none}\\r\\n.webix_accordionitem_header .webix_input_icon{border-color:#d9d9d9;background-color:transparent;color:#666}\\r\\n.webix_accordionitem_header .webix_input_icon:active,.webix_accordionitem_header .webix_input_icon:focus,.webix_accordionitem_header .webix_input_icon:hover{background-color:transparent;color:#666}\\r\\n.webix_accordionitem_header .webix_pressed .webix_el_arrow,.webix_accordionitem_header .webix_pressed .webix_inp_counter_next,.webix_accordionitem_header .webix_pressed .webix_inp_counter_prev,.webix_accordionitem_header .webix_pressed .webix_input_icon,.webix_accordionitem_header .webix_pressed .webix_segment_0,.webix_accordionitem_header .webix_pressed .webix_segment_1,.webix_accordionitem_header .webix_pressed .webix_segment_N,.webix_accordionitem_header .webix_pressed .webixtype_base,.webix_accordionitem_header .webix_pressed .webixtype_next,.webix_accordionitem_header .webix_pressed .webixtype_prev{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_accordionitem_header .webix_selected.webix_segment_0,.webix_accordionitem_header .webix_selected.webix_segment_1,.webix_accordionitem_header .webix_selected.webix_segment_N{border-color:#d9d9d9;background-color:#27ae60;color:#fff}\\r\\n.webix_accordionitem_header .webix_selected.webix_segment_0:hover,.webix_accordionitem_header .webix_selected.webix_segment_1:hover,.webix_accordionitem_header .webix_selected.webix_segment_N:hover{background-color:#24a259}\\r\\n.webix_accordionitem_header .webix_selected.webix_segment_0:active,.webix_accordionitem_header .webix_selected.webix_segment_0:focus,.webix_accordionitem_header .webix_selected.webix_segment_1:active,.webix_accordionitem_header .webix_selected.webix_segment_1:focus,.webix_accordionitem_header .webix_selected.webix_segment_N:active,.webix_accordionitem_header .webix_selected.webix_segment_N:focus{background-color:#295}\\r\\n.webix_accordionitem_header .webix_segment_1,.webix_accordionitem_header .webix_segment_N,.webix_accordionitem_header .webix_selected.webix_segment_1,.webix_accordionitem_header .webix_selected.webix_segment_N{margin-left:0;border-left:none}\\r\\n.webix_accordionitem_header .webix_img_btn:active,.webix_accordionitem_header .webix_img_btn_top:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_accordionitem_header .webix_img_btn:focus,.webix_accordionitem_header .webix_img_btn_top:focus{background-color:#2489cc}\\r\\n.webix_accordionitem_header .webix_img_btn:hover,.webix_accordionitem_header .webix_img_btn_top:hover{background-color:#268fd5}\\r\\n.webix_accordionitem_header .webix_icon_button{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_accordionitem_header .webix_el_icon,.webix_accordionitem_header .webix_icon_btn,.webix_accordionitem_header .webix_icon_button,.webix_accordionitem_header .webix_img_btn,.webix_accordionitem_header .webix_img_btn_abs,.webix_accordionitem_header .webix_img_btn_abs .webix_icon,.webix_accordionitem_header .webix_img_btn_abs .webix_img_btn_text,.webix_accordionitem_header .webix_img_btn_top .webix_icon,.webix_accordionitem_header .webix_img_btn_top .webix_img_btn_text{color:#fff}\\r\\n.webix_accordionitem_header .webix_el_box .webix_img_btn_abs:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_accordionitem_header .webix_el_icon .webix_icon_button:focus{background-color:rgba(0,0,0,.07)}\\r\\n.webix_accordionitem_header .webix_el_box .webix_img_btn_abs:hover,.webix_accordionitem_header .webix_el_icon .webix_icon_button:hover{background-color:rgba(0,0,0,.05)}\\r\\n.webix_accordionitem_header .webix_control{border-color:#3498db}\\r\\n.webix_accordionitem_header .webix_icon_button .webix_icon{font-size:23px;height:27px;width:27px;color:#fff}\\r\\n.webix_accordionitem_header .webix_img_btn,.webix_accordionitem_header .webix_img_btn_top{border-width:0}\\r\\n.webix_ie.horizontal>.webix_accordionitem_header.collapsed{-ms-writing-mode:tb-lr}\\r\\n.webix_ie.horizontal>.webix_accordionitem_header.collapsed .webix_accordionitem_label{padding-left:0;padding-top:10px}\\r\\n.webix_ie.horizontal>.webix_accordionitem_header.collapsed .webix_accordionitem_button{margin:0}\\r\\n.webix_accordionitem_label{height:100%;padding-left:10px}\\r\\n.webix_accordionitem_button{float:right;position:relative;height:11px;width:11px;margin:15px 13.5px}\\r\\n.webix_carousel{position:relative}\\r\\n.webix_nav_panel{bottom:15px;height:auto;line-height:8px;overflow:hidden;position:absolute;text-align:center}\\r\\n.webix_nav_item{display:inline-block;height:8px;padding:6px 5px 6px 4px;width:8px;cursor:pointer;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}\\r\\n.webix_nav_item div{-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;display:block;height:8px;width:8px}\\r\\n.webix_nav_inactive div{border:1px solid rgba(0,0,0,.15);filter:alpha(opacity=60);opacity:.6;background:#fff}\\r\\n.webix_nav_active div{border:1px solid rgba(0,0,0,.1);background:#fff}\\r\\n.webix_nav_button_next,.webix_nav_button_prev{cursor:pointer;display:block;height:24px;position:absolute;width:24px}\\r\\n.webix_nav_button_next .webix_nav_button_inner,.webix_nav_button_prev .webix_nav_button_inner{height:100%;width:100%}\\r\\n.webix_nav_button_prev .webix_nav_button_inner{opacity:.8;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowNDNEOTBEMTYyNzQxMUUzOEU1N0MyQTEyMzIxMDVFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowNDNEOTBEMjYyNzQxMUUzOEU1N0MyQTEyMzIxMDVFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjA0M0Q5MENGNjI3NDExRTM4RTU3QzJBMTIzMjEwNUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjA0M0Q5MEQwNjI3NDExRTM4RTU3QzJBMTIzMjEwNUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+yGPRLgAAAPBJREFUeNpi+P//vycQP/tPfQAy05MRxGBgYJBkoA14DrLgPwMNARMDjcGgteAINN5CCaokI3UcB2I+UNQBsTghxaRacAaI+aH62IB4MzUtuAjEwlA9zEC8hhhNxFpwFYhFkQxfTqyriLHgFhBLQtWC8s18UsKUkAV3gVgGyfBZpKYIQhbYQtWAcBg5BRIhC26j+WAOtS0AgRvQ9A6L4IXUtgAELqOlopXUtgAEzgOxIFQPKxCvo7YFIHAKLSdvo7YFIHAUiHmgeiUIKSanNLUC4i1ALAHENoQUD48a7TkNzX8BsiAFxKCB4U+BOBkgwAAsAiGcWMs58QAAAABJRU5ErkJggg==)}\\r\\n.webix_nav_button_next .webix_nav_button_inner{opacity:.8;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpEODJBRDc2RTYyNzMxMUUzQTMxN0IxNjAwN0JBOUE4OSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpEODJBRDc2RjYyNzMxMUUzQTMxN0IxNjAwN0JBOUE4OSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkQ4MkFENzZDNjI3MzExRTNBMzE3QjE2MDA3QkE5QTg5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkQ4MkFENzZENjI3MzExRTNBMzE3QjE2MDA3QkE5QTg5Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+crpRPgAAAOhJREFUeNpi+P//vycQP/tPfQAy05MRxGBgYJBkoA14DrLgPwMNARMDjcGgsCAMGkdHyLKBiNQgDoomIOYH4uOkJiViLNgMxGxIlpyhtgUgsAaImaHqhYH4IrUtAIHlSJaIAvFValsAAvOBmBGqTxKIb1HbAhCYhWSJDBDfobYFIBAO1QvCNtS2YA6SD6SB+DY1LViIFNFiQHydmnGwEi0VXaZmKloHxKxQ9YJAfJ6a+WAbWk4+Re2cLAFVxwPER0lNEcSUpjZALAHEW4DYitTCdHjUaM9paP4LkAUpIAYNDH8KxMkAAQYAlwMhmq8XxigAAAAASUVORK5CYII=)}\\r\\n.webix_nav_panel_corner{right:73px}\\r\\n.webix_nav_button_corner.webix_nav_button_prev{bottom:13px;right:37px}\\r\\n.webix_nav_button_corner.webix_nav_button_prev .webix_nav_button_inner:hover{opacity:1}\\r\\n.webix_nav_button_corner.webix_nav_button_next{bottom:13px;right:7px}\\r\\n.webix_nav_button_corner.webix_nav_button_next .webix_nav_button_inner:hover{opacity:1}\\r\\n.webix_nav_panel_side{margin:0 auto;left:0;width:100%}\\r\\n.webix_nav_button_side{height:34px;width:21px;top:50%;margin-top:-17px}\\r\\n.webix_nav_button_side.webix_nav_button_next{left:auto;right:15px}\\r\\n.webix_nav_button_side.webix_nav_button_next .webix_nav_button_inner{opacity:.8;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAiCAYAAACwaJKDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RTc4MTkxODY2MzBGMTFFMzk1MUQ4RTNCRjNCMUVFRUMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RTc4MTkxODU2MzBGMTFFMzk1MUQ4RTNCRjNCMUVFRUMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjA4NjlGM0NFNjE4OTExRTNBRjMwOTNFODNBRTJCRENBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjA4NjlGM0NGNjE4OTExRTNBRjMwOTNFODNBRTJCRENBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+D/KEcQAAAOhJREFUeNqs1jsOwjAMBuCKhR2uxsLGxg1a+hD0wVGYGJC4DgssnAFVQjLukKWk/WM7lv4OqfQ1UdLWCRGtOTdOz3lwtpzEkuFyp/9KreiX/JVa0DdNV6ZF9zRfmQYdcgbwQYNGhccDXQzYN4jgXIOa4bkntgAuNKgaDtlNMRx69hoAlxpUBEvfawRXGnRIjeBFIq8e3F9KZ5mDWXbS5QeBEjQYDEULALbSwy8GEYrARvpBUYNTaGkBfagZHKMIrKU/vioW6NANAE+aZuIVE3RoHxN06NUDHq2t5Ipz4Xw4T87O2vT+BBgAeQQKvezNqP0AAAAASUVORK5CYII=)}\\r\\n.webix_nav_button_side.webix_nav_button_next .webix_nav_button_inner:hover{opacity:1}\\r\\n.webix_nav_button_side.webix_nav_button_prev{left:15px;right:auto}\\r\\n.webix_nav_button_side.webix_nav_button_prev .webix_nav_button_inner{opacity:.8;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAiCAYAAACwaJKDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjIzRTVCQkY2MzBGMTFFM0FDNTBDNzdDRkQ0NTI0NzciIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjIzRTVCQkU2MzBGMTFFM0FDNTBDNzdDRkQ0NTI0NzciIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjA4NjlGM0NFNjE4OTExRTNBRjMwOTNFODNBRTJCRENBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjA4NjlGM0NGNjE4OTExRTNBRjMwOTNFODNBRTJCRENBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+wRT1eAAAAM9JREFUeNqs1jsKwlAQBdDBxlL3ZmVlmRXYaaVbCYg7kti4BQu1e85AhBDfZz73wm1ewsmfDKWUKNgNd+C+uVfuOgoe0n8uaFDyQoOSOxqU7NDgUfaDgxZUDWpRE6hBzWALdYE11A2W0BCYQ8PgHIWAUxQG/lAoKF0Q0ZLq+ZA1o35qnO3eevlweL4AgXOL5yhc2hCCa0d0w63744I1T9MMa989E2z5/NSw9Retgj3DRAveeseeGnyLDGgl+BkdJXNwH0WlHfcxDr09d/UVYADVjwptZ8mPvQAAAABJRU5ErkJggg==)}\\r\\n.webix_nav_button_side.webix_nav_button_prev .webix_nav_button_inner:hover{opacity:1}\\r\\n.webix_carousel>.webix_scroll_x,.webix_carousel>.webix_scroll_y{background-color:transparent}\\r\\n.webix_dark .webix_nav_inactive div{background-color:#95a5a6}\\r\\n.webix_dark .webix_nav_active div{background-color:#7f8c8d}\\r\\n.webix_dark .webix_nav_button_prev .webix_nav_button_inner{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gcdCSIURgotfwAAASxJREFUSMfNlbErhlEUh5/vJZOSQSijshgsFiklhdj0lcHw5SP7uX+A8we4d1c+g2RgsIjIxmCxGCzKRO9bMjCSWE5WpXPrO9MZbs9T5577u7XNrTgPtIBBfKsEmkUmOMZsFZngv5KCzNW2gmsbbT2H4AZY0CAVcOUtuAXmNMi7xtQF7HgK7oBZDfKmMXUAB8Cil+AemNEgrwbfB5a8LvnB4C8aU83Gsuy1RY/AtAYpDb4NNDzXtKFBnqyvA+ve72BXYxqy/shyy1UwDFxqTP0a5BvYAPa8X/KISfo0yBewChx6R8UocKEx9ZpkBTj2zqIx4Fxj6tEgn7aqZ95RMQ6cakzdGuTDxuUedhPAicY0AEz+dbjzn3E9ZX9ue3w4ZUZ+VQBrQJUB/gw0fwC/UlVpnH2f9AAAAABJRU5ErkJggg==)}\\r\\n.webix_dark .webix_nav_button_next .webix_nav_button_inner{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gcdCSENCUzWfAAAAS1JREFUSMfN1TFLXEEUhuFnr8FKCBaGiK2FRQobG7GSgBG2E8IWFmE3wX7uD3B+QOb2QpaAiMWmsAkJBtMEizQ2FmmCXcIuhBRpDZI0g7XCXNhTD+8L53znTGf/ddrGEIvK1hiDqiW4zBxWLcFvJZWWayoEz3Mbz9sSfIl1mKCLr20I3sTUzMY6/MEzXJQWdHEcUzOTJVu4LD3kHRxlyW88xbfSKerldnViHX5lyffSMX2BgywZYxNXpffgVY6uWIcfWVpUMMQIYmqW8Lak4BB7sQ7/Ymoe4QzLpQQj9GMdbmJqFvAZK6WGfILdDJ/HJzwpFdOP6MU6/I2peYhTrJZctH6sw3VMzRw+YK30qdiIqXmM91i/b+Qe3OHNu6n/cMYt8icVXmLSAvwnBv8B+EFU7qlZ1xIAAAAASUVORK5CYII=)}\\r\\n.webix_dark .webix_nav_button_side.webix_nav_button_prev .webix_nav_button_inner{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAiCAYAAACwaJKDAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gcdCSI77dsQJgAAARxJREFUSMet1jFqAkEUxvH/rkIqLVN5ES2CjScQG6tUESx3SWOMLKgggt7BC6SxsnIr9w4ewAsEEis3RTBE3N3ZmfemHB4/HsPMm89L0xTJilbrLrAAGsAWeKkKwTEw/bfVAy6ea6cZ4HV9+8ogwMm6UwMI8Owrg5MoDDa+MjgF8LXBUqgtaERdwELUFcxFJWAmKgXvUA3wBtUC/1BNEKBCra4KXjt9MNScbadYJd7t9nGSVIGnnJpOnCRf7VbzYNMpURi8A7OCumW0Wr9aodrw7T39hedS+P5FhcFYCme/fSGcP6UEcPE8dYTNk98BLvdHWcLlf1ML2CVMzIC3gpK+U5YywEdJQMuDP50CmuGMt55C6B0AI+AR+ACGPw26r6m12WOpAAAAAElFTkSuQmCC)}\\r\\n.webix_dark .webix_nav_button_side.webix_nav_button_next .webix_nav_button_inner{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAiCAYAAACwaJKDAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gcdCSE1IU5u4gAAAW1JREFUSMet1rtOwzAUgOG/5jbBwsQD8BAwIAa2TggegjmRgELbuFeo1GRlQEJMMDN264CUiYdgg0dolzIkFUEk9nHSbLGtT76cc+xaMA53gUegDnwCgfa9Vyp8CngCToFNYB940WF0WRWt57SPqsAK+C7oG+kwuiqLdg3992Xgtelk8jGN4w3gqGDMyTSOZ8eHB+8uM0X7XhMYGMbd6TC6dkIzcH8VsMr+aN9rCeCGEyqEhzZY5TWmcM8C3zihKdy2wIMiWJmWURZWtk1P4a4FvnVCUziwwP0srKQBLYSbALXFYuGU1zqMNBAYhrRUiSI0s/RvKcdZNoChcQt8Tz5TKSg/fQdQFqdJcJvAXha0Z1QCDixgW577drCbBxZXKRkYyOtpkm6lwf+VPwH7VcC/d5Qd7EjA39s0KQQ2UIvvfbZ3zoEHU2Rp3+u4vlDGqwSX6N4qwSX6ltMelAUB1oELYA6cAV/poTxXeZ/+AOFqn1e/Gh7yAAAAAElFTkSuQmCC)}\\r\\n.webix_list_item{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;padding:2px 10px;line-height:29px;cursor:pointer;border-bottom:1px solid #ebebeb;text-align:left;border-color:#ebebeb}\\r\\n.webix_list_item.webix_invalid{background-color:#fee}\\r\\n.webix_list_item.webix_selected{color:#fff;background:#27ae60}\\r\\n.webix_list .webix_list_item.webix_selected{border-bottom:1px solid #ebebeb;padding:2px 10px}\\r\\n.webix_group{position:relative}\\r\\n.webix_group_back,.webix_group_back.webix_selected{position:relative;background:#d2e3ef;font-size:15px;color:#4a4a4a}\\r\\n.webix_arrow_icon{position:absolute;top:50%;bottom:50%;margin-top:-12px;right:15px;width:9px;height:22px;line-height:22px;color:#666;font-size:18px;font-family:FontAwesome}\\r\\n.webix_arrow_icon:before{content:'\\\\F105'}\\r\\n.webix_group_back{padding-left:29px}\\r\\n.webix_group_back .webix_arrow_icon{left:11px}\\r\\n.webix_group_back .webix_arrow_icon:before{content:'\\\\F104'}\\r\\n.dhx_pagelist{position:relative}\\r\\n.webix_list_count{float:right;width:25px;font-size:14px;text-align:center;margin-right:45px;box-shadow:0 1px 0 #000;text-shadow:0 -1px 0 rgba(0,0,0,.6)}\\r\\n.webix_unit_header{padding:0 10px;line-height:19px;text-align:left;background-color:#d2e3ef}\\r\\n.webix_list-x .webix_list_item{display:inline-block;vertical-align:top;border-right:1px solid #ebebeb;border-bottom:none;border-color:#ebebeb}\\r\\n.webix_list-x .webix_list_item.webix_selected{border-left:1px solid #ebebeb;border-right:1px solid #ebebeb;padding-left:9px}\\r\\n.webix_list-x .webix_scroll_cont{display:inline}\\r\\n.webix_view.webix_list-x{white-space:nowrap}\\r\\n.webix_list_item.webix_disabled{color:#8b949e}\\r\\n.webix_list_item.webix_disabled .webix_submenu_icon{visibility:hidden}\\r\\n.webix_view.webix_pager{padding:3px 0;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:transparent}\\r\\n.webix_pager_item,.webix_pager_item_selected{padding:0 6px;text-align:center;height:100%;width:32px;border:1px solid #ddd;margin:0 2px;cursor:pointer;background-color:#fff;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:'PT Sans',Tahoma;font-size:15px}\\r\\n.webix_pager_item_selected{cursor:default;background-color:#27ae60;border:1px solid #ebebeb}\\r\\n.webix_animation .webix_ss_header{position:relative;z-index:10}\\r\\n.webix_animation .webix_ss_footer,.webix_animation .webix_vscroll_x{position:absolute;bottom:0;z-index:10}\\r\\n.webix_allow_selection{-moz-user-select:text;-webkit-user-select:text;user-select:text}\\r\\n.webix_dataview_item{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;padding:2px 10px;line-height:29px;cursor:pointer;border-bottom:1px solid #ebebeb;text-align:left;border-color:#ebebeb;border-right:1px solid #ebebeb}\\r\\n.webix_dataview_item.webix_selected{color:#fff;background:#27ae60;border-bottom:1px solid #ebebeb;border-right:1px solid #ebebeb}\\r\\n.webix_chart{position:relative;font-family:'PT Sans',Tahoma;font-size:13px;color:#666;overflow:hidden;z-index:1}\\r\\n.webix_chart canvas{position:absolute}\\r\\n.webix_canvas_text{position:absolute;text-align:center;overflow:hidden;white-space:nowrap;font-size:12px;z-index:100}\\r\\n.webix_map_img{width:100%;height:100%;position:absolute;top:0;left:0;border:0;filter:alpha(opacity=0);opacity:0}\\r\\n.webix_axis_item_y{position:absolute;height:18px;line-height:18px;margin-top:-4px;text-align:right}\\r\\n.webix_axis_item_x{padding-top:2px}\\r\\n.webix_axis_title_x{text-align:center;font-size:13px}\\r\\n.webix_axis_title_y{text-align:center;font-family:Verdana;font-size:13px;-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);padding-left:3px}\\r\\n.webix_ie_filter{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3)}\\r\\n.webix_chart_legend{position:absolute;z-index:1000}\\r\\n.webix_chart_legend_item{height:18px;line-height:18px;padding:2px}\\r\\n.webix_chart_legend_item.hidden{color:#e6e6e6}\\r\\n.webix_axis_item_y.webix_radar{color:#555;font-size:11px;padding-right:3px;height:13px;line-height:13px;margin-top:0}\\r\\n.webix_canvas_text.webix_axis_radar_title{margin-top:0;padding-top:0;color:#999;font-size:12px}\\r\\n.webix_axis_item_x,.webix_axis_item_y{color:#999}\\r\\n.webix_chart_frame{background-color:#a0cfef;height:100%;opacity:.3;position:absolute;top:0;z-index:150;border-left:1px solid #3498db;border-right:1px solid #3498db;cursor:w-resize}\\r\\n.webix_chart_resizer{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAICAYAAAAx8TU7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTJCMjdFNENBRTg4MTFFMjk2NjJGMTJENjkyNDA2NTkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTJCMjdFNERBRTg4MTFFMjk2NjJGMTJENjkyNDA2NTkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MkIyN0U0QUFFODgxMUUyOTY2MkYxMkQ2OTI0MDY1OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5MkIyN0U0QkFFODgxMUUyOTY2MkYxMkQ2OTI0MDY1OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Powz/icAAAAaSURBVHjaYmBgYDBjgAA4zcSABQysIECAAQBn+ACx2PqtbAAAAABJRU5ErkJggg==);background-position:3px center;background-repeat:no-repeat;border-radius:2px;height:20px;bottom:0;width:11px;z-index:200;position:absolute;background-color:#fff;border:1px solid #ccc;cursor:w-resize}\\r\\n.webix_wresize_cursor{cursor:w-resize}\\r\\n.webix_vscroll_x{height:0;width:100%;overflow-y:hidden;overflow-x:scroll}\\r\\n.webix_vscroll_y{width:0;height:100%;overflow-x:hidden;overflow-y:scroll}\\r\\n.webix_vscroll_body{width:16px;height:16px}\\r\\n.webix_scroll_x{width:50px;height:4px!important;left:1px;bottom:3px;background-color:silver;background:rgba(0,0,0,.4);position:absolute;border-radius:4px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webix_scroll_y{width:4px!important;height:50px;top:1px;right:3px;background-color:silver;background:rgba(0,0,0,.4);position:absolute;border-radius:4px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webix_c_scroll_y{position:absolute;z-index:3;width:10px;right:0}\\r\\n.webix_c_scroll_y>div{-moz-transition:width .3s .2s,margin .3s .2s;-webkit-transition:width .3s .2s,margin .3s .2s;-o-transition:width .3s .2s,margin .3s .2s;-ms-transition:width .3s .2s,margin .3s .2s;width:4px;height:100%;background-color:silver;background:rgba(0,0,0,.4);border-radius:4px;margin:0 3px}\\r\\n.webix_c_scroll_y.webix_scroll_active div,.webix_c_scroll_y:hover>div{width:10px;margin:0}\\r\\n.webix_c_scroll_x{position:absolute;z-index:3;height:10px;bottom:0}\\r\\n.webix_c_scroll_x>div{-moz-transition:height .3s .2s,margin .3s .2s;-webkit-transition:height .3s .2s,margin .3s .2s;-o-transition:height .3s .2s,margin .3s .2s;-ms-transition:height .3s .2s,margin .3s .2s;height:4px;width:100%;background-color:silver;background:rgba(0,0,0,.4);border-radius:4px;margin:3px 0}\\r\\n.webix_c_scroll_x.webix_scroll_active div,.webix_c_scroll_x:hover>div{height:10px;margin:0}\\r\\n.webix_c_scroll_bar_x,.webix_c_scroll_bar_y{position:absolute;background:rgba(0,0,0,.05)}\\r\\n.webix_c_scroll_bar_y{height:100%;width:10px;right:0}\\r\\n.webix_c_scroll_bar_x{width:100%;height:10px;bottom:0}\\r\\n.webix_scroll_cont{width:100%;height:auto;overflow:hidden;clear:both}\\r\\n.webix_scroll_touch_ie{touch-action:none}\\r\\n.webix_dt_editor{position:absolute;z-index:2;overflow:visible;background:#fff}\\r\\n.webix_dt_editor input,.webix_dt_editor select{width:100%;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;padding:1px 8px 0 9px;margin:0;border:1px solid gold;height:100%;font-family:'PT Sans',Tahoma;font-size:15px;color:#666}\\r\\n.webix_dt_editor input[type=checkbox]{margin:6px 8px 4px 14px;height:auto;width:auto}\\r\\n.webix_dt_editor select{padding-right:0;padding-left:5px}\\r\\n.webix_clipbuffer{width:1px;height:1px;left:3px;top:3px;position:fixed;white-space:nowrap;filter:alpha(opacity=0);opacity:0}\\r\\n.webix_message_area{position:fixed;right:5px;width:250px;z-index:1000}\\r\\n.webix_info{min-width:120px;font-family:Tahoma,Arial;z-index:10000;overflow:hidden;margin:5px 5px 10px;-webkit-transition:all .5s ease;-moz-transition:all .5s ease;-o-transition:all .5s ease;transition:all .5s ease}\\r\\n.webix_no_transition{-webkit-transition:none;-moz-transition:none;transition:none}\\r\\n.webix_info.hidden{height:0;min-height:0;padding-top:0;padding-bottom:0;border-width:0;margin-top:0;margin-bottom:0;overflow:hidden}\\r\\n.webix_modal_box{overflow:hidden;display:inline-block;min-width:250px;width:250px;text-align:center;position:fixed;background-color:#fff;box-shadow:0 3px 6px #c8c8c8;font-family:'PT Sans',Tahoma;z-index:20000;border-radius:0}\\r\\n.webix_popup_title{border-top-left-radius:-1px;border-top-right-radius:-1px;border-width:0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAoCAMAAAAIaGBFAAAAhFBMVEVwcHBubm5sbGxqampoaGhmZmZlZWVjY2NhYWFfX19dXV1bW1taWlpYWFhWVlZUVFRSUlJRUVFPT09NTU1LS0tJSUlHR0dGRkZERERCQkJAQEA+Pj49PT09PT0+Pj5AQEBBQUFDQ0NERERGRkZHR0dJSUlKSkpMTExMTEw5OTk5OTk5OTkny8YEAAAAQklEQVQImQXBCRJCAAAAwKVSQqdyjSPXNP7/QLsIhA6OTiJnF7GrRCpzc/fw9PKW+/gqlCq1RqvTG/yMJrPF6m/bAVEhAxxnHG0oAAAAAElFTkSuQmCC);background:-webkit-linear-gradient(top,#707070 1%,#3d3d3d 70%,#4c4c4c 97%,#393939 97%);background:-moz-linear-gradient(top,#707070 1%,#3d3d3d 70%,#4c4c4c 97%,#393939 97%)}\\r\\n.webix_button,.webix_info,.webix_popup_button{cursor:pointer}\\r\\n.webix_popup_text{overflow:hidden}\\r\\n.webix_popup_controls{border-radius:6px;padding:5px 10px 10px}\\r\\n.webix_button,.webix_popup_button{height:30px;line-height:30px;display:inline-block;margin:0 5px;border-radius:6px}\\r\\n.webix_popup_button div{border-radius:6px}\\r\\n.webix_popup_button{min-width:100px}\\r\\ndiv.webix_modal_cover{background-color:#000;cursor:default;filter:alpha(opacity=10);opacity:.1;position:fixed;z-index:19999;left:0;top:0;width:100%;height:100%;border:none;zoom:1}\\r\\n.webix_info img,.webix_modal_box img{float:left;margin-right:20px}\\r\\n.webix_alert_error .webix_popup_title,.webix_confirm_error .webix_popup_title{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAsCAIAAAArRUU2AAAATklEQVR4nIWLuw2AMBBDjVuQiBT2oWbRDATrnB0KQOJoqPzRe3BrHI6dcBASYREKovtK6/6DsDOX+stN+3H1YX9ciRgnYq5EWYhS2dftBIuLT4JyIrPCAAAAAElFTkSuQmCC)}\\r\\n.webix_alert_error,.webix_confirm_error{border:1px solid red}\\r\\n.webix_button,.webix_popup_button{border:1px solid #ddd}\\r\\n.webix_button input,.webix_popup_button div{font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;outline:0;color:#fff;background:#3498db;border-bottom:1px solid #2386c8;height:30px;line-height:30px}\\r\\n.webix_popup_button.confirm div{font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;outline:0;background:#27ae60;border-color:#27ae60;border-bottom:1px solid #209150;box-shadow:none;text-shadow:none;color:#fff}\\r\\n.webix_popup_title{color:#fff;text-shadow:1px 1px #000;height:40px;line-height:40px;font-size:20px}\\r\\n.webix_popup_text{margin:0 0 5px;padding-top:25px;color:#666;min-height:60px}\\r\\n.webix_error,.webix_info{font-size:15px;color:#333;box-shadow:0 0 10px #888;padding:0;background-color:#FFF;border-radius:3px;border:1px solid #fff}\\r\\n.webix_info div{padding:5px 10px;background-color:#fff;border-radius:3px;border:1px solid #B8B8B8}\\r\\n.webix_error{background-color:#d81b1b;border:1px solid #ff3c3c;box-shadow:0 0 10px #000}\\r\\n.webix_error div{background-color:#d81b1b;border:1px solid #940000;color:#FFF}\\r\\n.webix_drag_zone{position:absolute;box-shadow:1px 1px 5px #ddd;background-color:#fff;font-family:'PT Sans',Tahoma;font-size:15px;color:#666;pointer-events:none}\\r\\n.webix_drag_zone .borderless{padding:2px 20px 2px 2px}\\r\\n.webix_drag_over,.webix_drop_zone{background-color:#e6e6e6}\\r\\n.webix_transparent{opacity:0}\\r\\n.webix_column{position:absolute;top:0}\\r\\n.webix_cell{overflow:hidden;line-height:31px;white-space:nowrap}\\r\\n.webix_hcell{width:100%;overflow:hidden}\\r\\n.webix_ss_body{overflow:hidden;position:relative}\\r\\n.webix_hs_center,.webix_hs_left,.webix_hs_right,.webix_ss_center,.webix_ss_left,.webix_ss_right{overflow:hidden;float:left}\\r\\n.webix_ss_center,.webix_ss_right{position:relative}\\r\\n.webix_ss_footer table,.webix_ss_header table{table-layout:fixed}\\r\\n.webix_ss_center_scroll{height:100%;position:relative;overflow:hidden;min-height:1px}\\r\\n.webix_ss_hscroll{bottom:0}\\r\\n.webix_ss_vscroll{position:absolute;top:0;right:0;z-index:2}\\r\\n.webix_ss_vscroll_footer{position:absolute;bottom:0;right:0;border-left:1px solid #fff;border-top:1px solid #ddd;z-index:1}\\r\\n.webix_ss_vscroll_header{position:absolute;top:0;right:0;border-left:1px solid #b0cee3;border-bottom:1px solid #ddd;z-index:1}\\r\\n.webix_dtable{position:relative;cursor:default;z-index:0}\\r\\n.webix_ss_footer,.webix_ss_header{clear:both;overflow:hidden}\\r\\n.webix_block_selection,.webix_cell,.webix_hcell,.webix_ss_footer td,.webix_ss_header td,.webix_table_cell,.webix_view.webix_table_cell{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webix_block_selection{position:absolute}\\r\\n.webix_ss_sort_asc,.webix_ss_sort_desc{position:absolute;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}\\r\\n.webix_hcell.webix_ss_filter{padding:3px 5px}\\r\\n.webix_ss_filter input,.webix_ss_filter select{width:100%;font-size:inherit;color:#666!important;height:39px;margin-top:-2px;padding:0 3px;vertical-align:top;border:1px solid #ddd;line-height:32px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:'PT Sans',Tahoma}\\r\\n.webix_richfilter{margin-top:1px}\\r\\n.webix_ss_filter select{padding:3px}\\r\\n.webix_dd_drag_column,.webix_ss_header,.webix_ss_header TD,.webix_ss_vscroll_header{font-size:15px;color:#4a4a4a;background:#d2e3ef}\\r\\n.webix_ss_footer TD,.webix_ss_vscroll_footer{background:#fafafa}\\r\\n.webix_hcell{padding:0 10px;text-align:left}\\r\\n.webix_ss_header td{border-right:1px solid #b0cee3;border-bottom:1px solid #b0cee3}\\r\\n.webix_ss_footer td{border-right:1px solid #ebebeb;border-top:1px solid #ebebeb}\\r\\n.webix_column.webix_last>div,.webix_hs_center td.webix_last,.webix_hs_right td.webix_last{border-right-width:0}\\r\\n.webix_hs_right td.webix_first,.webix_ss_right .webix_column.webix_first>div{border-left:1px solid #ddd}\\r\\n.webix_ss_left .webix_column.webix_last>div{border-right:1px solid #ddd}\\r\\n.webix_column>div,.webix_table_cell{border-right:1px solid #ebebeb;padding:0 10px;border-bottom:1px solid #ebebeb}\\r\\n.webix_table_cell.webix_measure_size{padding-left:20px;padding-right:0}\\r\\n.webix_column{text-align:left}\\r\\n.webix_dd_over_column,.webix_sel_hcell{background-color:#c9eaf5}\\r\\n.webix_block_selection{background:rgba(0,0,0,.1);border:2px solid #ebebeb}\\r\\n.webix_dd_drag{white-space:nowrap;overflow:hidden;border-left:1px solid #ebebeb;height:34px}\\r\\n.webix_dd_drag>div{display:inline-block;vertical-align:top;background:#fff;border-top:1px solid #ebebeb;border-right:1px solid #ebebeb;border-bottom:1px solid #ebebeb;padding:5px 10px;height:34px;line-height:26px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webix_dd_drag_column{padding:5px 10px}\\r\\n.webix_column>.webix_drag_over.webix_cell{background-color:#e6e6e6;color:#666}\\r\\n.webix_ss_header table,.webix_ss_header td,.webix_ss_header th{padding:0;margin:0}\\r\\n.webix_cell.webix_invalid,.webix_column>.webix_cell.webix_invalid:nth-child(even){background-color:#fee}\\r\\n.webix_invalid_cell{position:relative}\\r\\n.webix_invalid_cell:after{content:\\\"\\\";position:absolute;top:0;right:0;width:0;height:1px;border-top:8px solid #f44;border-left:8px solid transparent}\\r\\n.webix_column>div.webix_cell_select,.webix_column>div.webix_column_select,.webix_column>div.webix_row_select{color:#fff;background:#27ae60}\\r\\n.webix_column>div.webix_cell_select{border-bottom:1px solid #ebebeb;border-left:1px solid #ebebeb;border-right:1px solid #ebebeb;padding-top:0;padding-left:9px}\\r\\n.webix_ss_right .webix_column.webix_first>div.webix_cell_select{padding-left:10px}\\r\\n.webix_column>div.webix_invalid.webix_row_select:nth-child(even),.webix_column>div.webix_row_select{border-bottom:1px solid #ebebeb;padding-top:0}\\r\\n.webix_column>div.webix_column_select{border-left:1px solid #ebebeb;border-right:1px solid #ebebeb;padding-left:9px}\\r\\n.webix_column>.webix_cell.webix_invalid.webix_cell_select:nth-child(even){color:#fff;background:#27ae60}\\r\\n.webix_dtable_colrow,.webix_dtable_subrow,.webix_dtable_subview{position:absolute;left:0;top:0;background-color:#fff;width:100%;padding-right:28px;padding-left:10px;padding-top:1px;border-bottom:1px solid #ebebeb}\\r\\n.webix_dtable_subrow{border-top:1px solid #ebebeb;text-align:right}\\r\\n.webix_dtable_subview{background:#ebebeb;border-top:1px solid #ebebeb;padding:0 0 0 10px;box-sizing:border-box}\\r\\n.number .webix_cell{text-align:right}\\r\\n.webix_rotate{transform:rotate(-90deg);-webkit-transform:rotate(-90deg);line-height:normal}\\r\\n.webix_span_layer{background:0 0;position:absolute;left:0;top:0;height:0;width:0;overflow:visible}\\r\\n.webix_dtable_span{position:absolute;background:#fff}\\r\\n.webix_dtable_span.webix_selected{color:#fff;background:#27ae60}\\r\\n.webix_hcell span.webix_input_icon{background-color:#b0cee3}\\r\\n.webix_area_selection_layer{position:absolute;z-index:1}\\r\\n.webix_area_selection{position:absolute;background:#666}\\r\\n.webix_area_selection_bottom,.webix_area_selection_top{height:2px}\\r\\n.webix_area_selection_left,.webix_area_selection_right{width:2px}\\r\\n.webix_area_selection_handle{position:absolute;width:6px;height:6px;border:1px solid #fff;background:#666;cursor:crosshair;margin:-6px 0 0 -6px}\\r\\n.webix_topcell{position:relative;background:#fff;z-index:1}\\r\\n.webix_window{position:absolute;box-shadow:1px 3px 4px #c8c8c8}\\r\\n.webix_win_body{overflow:hidden}\\r\\n.webix_win_body,.webix_win_body>.webix_view,.webix_win_body>.webix_view .webix_cal_month,.webix_win_content,.webix_window{border-radius:0}\\r\\n.webix_win_head{border-bottom:1px solid silver}\\r\\n.webix_win_head>.webix_view>.webix_template{color:#fff;font-size:18px;background:#3498db;padding:0;text-align:center;line-height:45px}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_el_button,.webix_win_head>.webix_view>.webix_template .webix_el_label,.webix_win_head>.webix_view>.webix_template .webix_inp_label{color:#fff}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_el_label{font-size:18px}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_inp_counter_next,.webix_win_head>.webix_view>.webix_template .webix_inp_counter_prev,.webix_win_head>.webix_view>.webix_template .webix_segment_0,.webix_win_head>.webix_view>.webix_template .webix_segment_1,.webix_win_head>.webix_view>.webix_template .webix_segment_N,.webix_win_head>.webix_view>.webix_template .webixtype_base,.webix_win_head>.webix_view>.webix_template .webixtype_next,.webix_win_head>.webix_view>.webix_template .webixtype_prev{border-color:#d9d9d9;background-color:transparent;color:#fff}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_el_arrow.webixtype_next_arrow{border-left:none;border-bottom:none}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_el_arrow.webixtype_prev_arrow{border-right:none;border-bottom:none}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_inp_counter_next:hover,.webix_win_head>.webix_view>.webix_template .webix_inp_counter_prev:hover,.webix_win_head>.webix_view>.webix_template .webix_segment_0:hover,.webix_win_head>.webix_view>.webix_template .webix_segment_1:hover,.webix_win_head>.webix_view>.webix_template .webix_segment_N:hover,.webix_win_head>.webix_view>.webix_template .webixtype_base:hover{color:#fff;background-color:rgba(0,0,0,.05)}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_inp_counter_next:active,.webix_win_head>.webix_view>.webix_template .webix_inp_counter_prev:active,.webix_win_head>.webix_view>.webix_template .webix_segment_0:active,.webix_win_head>.webix_view>.webix_template .webix_segment_1:active,.webix_win_head>.webix_view>.webix_template .webix_segment_N:active,.webix_win_head>.webix_view>.webix_template .webixtype_base:active{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_inp_counter_next:focus,.webix_win_head>.webix_view>.webix_template .webix_inp_counter_prev:focus,.webix_win_head>.webix_view>.webix_template .webix_segment_0:focus,.webix_win_head>.webix_view>.webix_template .webix_segment_1:focus,.webix_win_head>.webix_view>.webix_template .webix_segment_N:focus,.webix_win_head>.webix_view>.webix_template .webixtype_base:focus{background-color:rgba(0,0,0,.07);color:#fff}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_inp_static,.webix_win_head>.webix_view>.webix_template input[type=text]{border-color:#fff}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_inp_static:focus,.webix_win_head>.webix_view>.webix_template input[type=text]:focus{border-color:#fff;box-shadow:none}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_input_icon{border-color:#d9d9d9;background-color:transparent;color:#666}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_input_icon:active,.webix_win_head>.webix_view>.webix_template .webix_input_icon:focus,.webix_win_head>.webix_view>.webix_template .webix_input_icon:hover{background-color:transparent;color:#666}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_pressed .webix_el_arrow,.webix_win_head>.webix_view>.webix_template .webix_pressed .webix_inp_counter_next,.webix_win_head>.webix_view>.webix_template .webix_pressed .webix_inp_counter_prev,.webix_win_head>.webix_view>.webix_template .webix_pressed .webix_input_icon,.webix_win_head>.webix_view>.webix_template .webix_pressed .webix_segment_0,.webix_win_head>.webix_view>.webix_template .webix_pressed .webix_segment_1,.webix_win_head>.webix_view>.webix_template .webix_pressed .webix_segment_N,.webix_win_head>.webix_view>.webix_template .webix_pressed .webixtype_base,.webix_win_head>.webix_view>.webix_template .webix_pressed .webixtype_next,.webix_win_head>.webix_view>.webix_template .webix_pressed .webixtype_prev{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_0,.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_1,.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_N{border-color:#d9d9d9;background-color:#27ae60;color:#fff}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_0:hover,.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_1:hover,.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_N:hover{background-color:#24a259}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_0:active,.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_0:focus,.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_1:active,.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_1:focus,.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_N:active,.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_N:focus{background-color:#295}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_segment_1,.webix_win_head>.webix_view>.webix_template .webix_segment_N,.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_1,.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_N{margin-left:0;border-left:none}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_img_btn:active,.webix_win_head>.webix_view>.webix_template .webix_img_btn_top:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_img_btn:focus,.webix_win_head>.webix_view>.webix_template .webix_img_btn_top:focus{background-color:#2489cc}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_img_btn:hover,.webix_win_head>.webix_view>.webix_template .webix_img_btn_top:hover{background-color:#268fd5}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_icon_button{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_el_icon,.webix_win_head>.webix_view>.webix_template .webix_icon_btn,.webix_win_head>.webix_view>.webix_template .webix_icon_button,.webix_win_head>.webix_view>.webix_template .webix_img_btn,.webix_win_head>.webix_view>.webix_template .webix_img_btn_abs,.webix_win_head>.webix_view>.webix_template .webix_img_btn_abs .webix_icon,.webix_win_head>.webix_view>.webix_template .webix_img_btn_abs .webix_img_btn_text,.webix_win_head>.webix_view>.webix_template .webix_img_btn_top .webix_icon,.webix_win_head>.webix_view>.webix_template .webix_img_btn_top .webix_img_btn_text{color:#fff}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_el_box .webix_img_btn_abs:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_el_icon .webix_icon_button:focus{background-color:rgba(0,0,0,.07)}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_el_box .webix_img_btn_abs:hover,.webix_win_head>.webix_view>.webix_template .webix_el_icon .webix_icon_button:hover{background-color:rgba(0,0,0,.05)}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_control{border-color:#3498db}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_icon_button .webix_icon{font-size:23px;height:27px;width:27px;color:#fff}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_img_btn,.webix_win_head>.webix_view>.webix_template .webix_img_btn_top{border-width:0}\\r\\n.webix_win_content{height:auto;width:auto;overflow:hidden}\\r\\n.webix_modal{width:100%;height:100%;position:fixed;top:0;left:0;background-color:#000;filter:alpha(opacity=20);opacity:.2}\\r\\n.webix_point_bottom,.webix_point_left,.webix_point_right,.webix_point_top{position:absolute}\\r\\n.webix_point_bottom,.webix_point_top{width:13px;height:7px}\\r\\n.webix_point_left,.webix_point_right{width:7px;height:13px}\\r\\n.webix_point_bottom,.webix_point_left,.webix_point_right,.webix_point_top{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAArCAIAAADHSy4DAAAABnRSTlMAAAAAAABupgeRAAAACXBIWXMAAABPAAAATwFjiv3XAAAAhElEQVR4nMXVQQoAIQhAUe9/FC/pLAYayUm/EeT6YWGmoqpWharKG7n+XK5nt9L/LurMeV27oZHrReN0M6Oupr5S1GU0vhN1J7L27hp1QYXX1WtE5UxnNXI0ep7+pEGRpr95ooWObbXUm1npXWkFaF3vTqj9c+h8pVOb7gK6Yeje4tvwARi4FgcAh2V/AAAAAElFTkSuQmCC)}\\r\\n.webix_point_top{background-position:0 -36px}\\r\\n.webix_point_bottom{background-position:0 0}\\r\\n.webix_point_right{background-position:0 -22px}\\r\\n.webix_point_left{background-position:0 -9px}\\r\\n.webix_resize_handle{position:absolute;width:15px;height:15px;bottom:0;line-height:15px;right:-1px;text-align:center;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAMAAAAMCGV4AAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABZJREFUeAFjIAUwUshlpJDLSIhLGAAACQ4AFk79JaMAAAAASUVORK5CYII=);cursor:nw-resize}\\r\\n.webix_resize_frame{position:absolute;filter:alpha(opacity=10);opacity:.1;background:#3498db;display:block;border:1px solid #196090;box-shadow:1px 3px 6px #000}\\r\\n.webix_resize_cursor{cursor:nw-resize}\\r\\n.webix_tree .webix_scroll_cont>.webix_tree_leaves{padding:9px 10px 9px 9px}\\r\\n.webix_tree_item{clear:both;height:28px;line-height:28px;white-space:nowrap}\\r\\n.webix_tree_item.webix_selected{background:0 0}\\r\\n.webix_tree_item.webix_selected span{padding:4px 10px 4px 4px;margin-left:-4px;color:#fff;background:#27ae60}\\r\\n.webix_tree_checkbox{margin:1px 0 0;padding:0;float:left;vertical-align:middle;height:100%;width:13px}\\r\\n.webix_indeterminate{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gcCCSwfRyGesAAAAAxpVFh0Q29tbWVudAAAAAAAvK6ymQAAAExJREFUKM9jLCgo+M9AAmBhYGBgaGtrY+Tk5MSrsLCwkIGBgeE/EwOJgGQNLMgcJSUlBgYGBnQ/Md67d498G+jsB6hbGQfWSYykJg0AUMsPVoNrFX0AAAAASUVORK5CYII=);background-repeat:no-repeat;background-position:left center;height:100%;width:13px;margin-top:0!important}\\r\\n.webix_measure_size input,.webix_measure_size select,.webix_measure_size textarea{width:5px}\\r\\n.webix_measure_size div{margin-left:-5px;float:none}\\r\\n.webix_measure_size a,.webix_measure_size div{display:inline-block!important}\\r\\n.webix_tree_close,.webix_tree_file,.webix_tree_folder,.webix_tree_folder_open,.webix_tree_none,.webix_tree_open{float:left;width:20px;height:100%;cursor:pointer;margin:0;background-repeat:no-repeat}\\r\\n.webix_tree_close,.webix_tree_none,.webix_tree_open{background-position:center center}\\r\\n.webix_cell .webix_tree_close,.webix_cell .webix_tree_none,.webix_cell .webix_tree_open{background-color:transparent}\\r\\n.webix_tree_file,.webix_tree_folder,.webix_tree_folder_open{background-position:0 center;margin:0 2px}\\r\\n.webix_tree_leaves .webix_tree_leaves{margin-left:18px}\\r\\n.webixLineTree .webix_tree_leaves{margin-left:0}\\r\\n.webix_tree_close{background-image:url(data:image/gif;base64,R0lGODlhEgASALMJAMrKyt3d3ejp6d7f3+/v75aWlvf39////wAAAP///wAAAAAAAAAAAAAAAAAAAAAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0I5RTczQjVDMDdBMTFFMTgxRjc4Mzk4M0Q3MjVFQzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0I5RTczQjZDMDdBMTFFMTgxRjc4Mzk4M0Q3MjVFQzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozQjlFNzNCM0MwN0ExMUUxODFGNzgzOTgzRDcyNUVDMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozQjlFNzNCNEMwN0ExMUUxODFGNzgzOTgzRDcyNUVDMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAEAAAkALAAAAAASABIAAARJMMlJq704661B+SAIXAVhnKhBFKSZnmuLImhslXPN3ibi+6pdBXc4IIpB2YkGE1IKAoL0ICUInJNCYMDtDgJYiScUGnHO6LQkAgA7)}\\r\\n.webix_tree_open{background-image:url(data:image/gif;base64,R0lGODlhEgASALMJAMrKyt3d3ejp6d7f3+/v75aWlvf39wAAAP///////wAAAAAAAAAAAAAAAAAAAAAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzY0QzNGM0VDMDdBMTFFMUE3MDlCNUM2QjU1NDA5RjgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzY0QzNGM0ZDMDdBMTFFMUE3MDlCNUM2QjU1NDA5RjgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozNjRDM0YzQ0MwN0ExMUUxQTcwOUI1QzZCNTU0MDlGOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozNjRDM0YzREMwN0ExMUUxQTcwOUI1QzZCNTU0MDlGOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAEAAAkALAAAAAASABIAAARDMMlJq704661B+SAIXAVhnKhBFKSZnmv7wqxVzmpd3Uff5zKEUAi0uV4xm4DAbBIEOkohMKhaB4HoxBMKjTjgsFgSAQA7)}\\r\\n.webix_tree_file{background-image:url(data:image/gif;base64,R0lGODlhEgASAIABAI6Pj////yH5BAEKAAEALAAAAAASABIAAAInjI+JwM26XAtPyTnTfU5veGyXJ2ZhaRpoSq0AicKlLNJftNojyCMFADs=)}\\r\\n.webix_tree_folder{background-image:url(data:image/gif;base64,R0lGODlhEgASAIABAI6Pj////yH5BAEKAAEALAAAAAASABIAAAIhjI+py90AI3Syvoqj27mfnn2gZYxkYEpiCqypa27yTC8FADs=)}\\r\\n.webix_tree_folder_open{background-image:url(data:image/gif;base64,R0lGODlhEgASAIABAI6Pj////yH5BAEKAAEALAAAAAASABIAAAIjjI+py90AI3SyvorjkQ7pDAJBSJaTaGpjKq7pxsJmR9c2UwAAOw==)}\\r\\n.webix_tree_img{background:0 0;float:left;width:25px;height:28px}\\r\\n.webix_tree_plus2{background-image:url(data:image/gif;base64,R0lGODlhEgAYAMIDAFVVVYiIiMHBwf///////////////////yH5BAEKAAQALAAAAAASABgAAAM8SLoq/LDFKWl0FuLMNq8faAVkWVLBoK5DgK7A6k6pGqtzlAI83wpAIKM2uLVeNhmSdaSZTKGodEqtWjkJADs=);background-repeat:no-repeat}\\r\\n.webix_tree_plus3{background-image:url(data:image/gif;base64,R0lGODlhEgAYAMIDAFVVVYiIiMHBwf///////////////////yH5BAEKAAQALAAAAAASABgAAANCSLoq/LDFKWl0FuLMNq8faAVkWVLBoK5DgK7A6k6pGqtzlAI83wpAIKM2uLVeNhmSdaSZTB9PNLSQcqwZrEVL4SYAADs=)}\\r\\n.webix_tree_plus4{background-image:url(data:image/gif;base64,R0lGODlhEgAYAMIDAFVVVYiIiMHBwf///////////////////yH5BAEKAAQALAAAAAASABgAAAM5SLrc/jDKSau9mIbNeQxDKA7BJwJiCYEhGqoPCMwzKdw3ww4uabap38i36nQqgkwSs7w0LU+kMpIAADs=)}\\r\\n.webix_tree_minus2{background-image:url(data:image/gif;base64,R0lGODlhEgAYAMIDAFVVVYiIiMHBwf///////////////////yH5BAEKAAQALAAAAAASABgAAAM5SLoq/LDFKWl0FuLMNq8faAVkWVLBoK5DgLKrO6Vw+wI43go8z9AwWQTIEkKIMZTJFGo6n9ColJMAADs=);background-repeat:no-repeat}\\r\\n.webix_tree_minus3{background-image:url(data:image/gif;base64,R0lGODlhEgAYAMIDAFVVVYiIiMHBwf///////////////////yH5BAEKAAQALAAAAAASABgAAAM+SLoq/LDFKWl0FuLMNq8faAVkWVLBoK5DgLKrO6Vw+wI43go8z9AwWQTIEkKIMZTJ9PE0QwsnR5qhWqwUbAIAOw==)}\\r\\n.webix_tree_minus4{background-image:url(data:image/gif;base64,R0lGODlhEgAYAMIDAFVVVYiIiMHBwf///////////////////yH5BAEKAAQALAAAAAASABgAAAM1SLrc/jDKSau9mIbNeQxDKA7BN4olBJ6kCbwvKcwzs57pc4+5s6OfTqciyBQxx0vSsiQaIwkAOw==)}\\r\\n.webix_tree_line1{background-image:url(data:image/gif;base64,R0lGODlhGQAcAIABAMHBwf///yH5BAEKAAEALAAAAAAZABwAAAIxjI8Gyc3r4pP0wCovdnpPz4Gh+JFIZ6KkKrKg68GbjNGVTeGZmeiRP+IphBbi0EgrAAA7)}\\r\\n.webix_tree_line2{background-image:url(data:image/gif;base64,R0lGODlhGQAcAIABAMHBwf///yH5BAEKAAEALAAAAAAZABwAAAIpjI8Gyc3r4pP0wCovdnpPz4Gh+JFIZ6KkKgLuC7/mTNf2jef6zvc+XgAAOw==);background-repeat:no-repeat}\\r\\n.webix_tree_line3{background-image:url(data:image/gif;base64,R0lGODlhGQAcAIABAMHBwf///yH5BAEKAAEALAAAAAAZABwAAAI1jI8Gyc3r4pP0wCovdnpPz4Gh+JFIZ6KkKgLuC78VC9KeveGYPpsJTwFmfCeixahABoQRXQEAOw==)}\\r\\n.webix_tree_line4{background-image:url(data:image/gif;base64,R0lGODlhGQAcAIABAMHBwf///yH5BAEKAAEALAAAAAAZABwAAAIjjI+py+0Po5y02ouz3rxDAIZi+HGAiW6nmmqr22avHGMzUwAAOw==)}\\r\\n.webix_tree_blank{background-image:url(data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)}\\r\\n.webix_tree_img{background-color:#fff}\\r\\n.webix_cal_month{height:22px;position:relative;padding-top:17px;padding-bottom:5px;box-sizing:content-box}\\r\\n.webix_cal_next_button,.webix_cal_prev_button{cursor:pointer;position:absolute;top:17px;width:30px;height:28px;background-position:11.5px 4px;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}\\r\\n.webix_cal_prev_button{left:17px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAALCAYAAACzkJeoAAAASUlEQVR42p2QMQoAQQgD79EZ0Mqn5xCu2cPdYgUbJ0rMMxXgLeiuKq8gsJAz8weQ0QiwJEfECnr4wdlEnwJ68+yyhReC+c85oRecj0Um+pmo9wAAAABJRU5ErkJggg==);background-repeat:no-repeat}\\r\\n.webix_cal_next_button{right:17px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAALCAYAAACzkJeoAAAARElEQVR42qXPsQoAIAhF0T76PdDJT7cUmtQhcmk4N8QVQ9JXN2bmgWOgqp+BiCRG2AYAMoi3/LxYdyagAnhA6G93TrABZaJFJjrFY8IAAAAASUVORK5CYII=);background-repeat:no-repeat}\\r\\n.webix_view>.webix_cal_header{margin:0 17px 10px;height:auto}\\r\\n.webix_view>.webix_cal_header div{float:left;text-align:center;height:19px;color:#666;border-bottom:#cecece 1px solid;margin-bottom:7px}\\r\\n.webix_cal_body{margin:0 17px}\\r\\n.webix_cal_body .webix_cal_row{clear:both}\\r\\n.webix_cal_body .webix_cal_row>div{float:left;text-align:center;height:100%}\\r\\n.webix_cal_body .webix_cal_select,.webix_cal_body .webix_cal_select.webix_cal_today,.webix_cal_body .webix_selected{color:#fff;background:#27ae60}\\r\\n.webix_cal_day,.webix_cal_week_num{cursor:pointer;font-size:12px;color:#666;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}\\r\\n.webix_cal_week_num{color:#bfbfbf;cursor:default;margin-right:0;border-right:1px solid #cecece}\\r\\n.webix_cal_event{font-weight:700}\\r\\n.webix_cal_inactive{background:#888}\\r\\n.webix_cal_day_disabled,.webix_cal_day_disabled.webix_cal_event{color:#ccc;background:#f0f0f0}\\r\\n.webix_hours .webix_cal_day_disabled,.webix_hours .webix_cal_day_disabled.webix_cal_event,.webix_minutes .webix_cal_day_disabled,.webix_minutes .webix_cal_day_disabled.webix_cal_event{background:#fff;font-weight:400;text-decoration:line-through}\\r\\n.webix_cal_month_name{cursor:pointer;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}\\r\\n.webix_cal_block{float:left;text-align:center;cursor:pointer;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}\\r\\n.webix_selected{background:#27ae60;color:#fff}\\r\\n.webix_cal_footer{text-align:center;font-size:12px;color:#444;margin:4px 17px;padding-top:2px;cursor:pointer}\\r\\n.webix_cal_icons{float:right;padding:4px}\\r\\n.webix_cal_time{padding:2px 4px}\\r\\n.webix_cal_time_icons{float:left}\\r\\n.webix_cal_icons .webix_cal_icon{text-align:center;padding:2px 4px}\\r\\n.webix_cal_icon:hover,.webix_cal_month_name:hover,.webix_cal_time:hover{text-decoration:underline;color:#3498db}\\r\\n.webix_cal_month_name.webix_readonly:hover{text-decoration:none;color:#666;cursor:default}\\r\\n.webix_time_header{padding:17px 17px 1px}\\r\\n.webix_time_header .webix_cal_hours,.webix_time_header .webix_cal_minutes{display:inline-block;font-size:14px;text-align:center;height:26px;line-height:22px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;border-bottom:1px solid #ddd}\\r\\n.webix_time_header .webix_cal_minutes{padding-left:1px;border-left:none}\\r\\n.webix_time_header .webix_cal_hours{border-right:none!important}\\r\\n.webix_cal_body .webix_hours{float:left;border-right:1px solid #cecece;padding-right:1px}\\r\\n.webix_cal_body .webix_minutes{float:left;padding-left:1px}\\r\\n.webix_cal_block_empty{float:left;text-align:center}\\r\\n.webix_time_footer{text-align:center;font-size:12px;padding:7px 17px 0;cursor:pointer}\\r\\n.webix_cal_done{margin-top:3px;border-radius:6px;font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;outline:0;background:#27ae60;color:#fff;border-color:#27ae60;border-bottom:1px solid #209150;box-shadow:none;float:right}\\r\\n.webix_cal_blurred_hours{background-color:#f7f7f7}\\r\\n.webix_property_line{clear:both;width:100%;min-height:24px;height:auto}\\r\\n.webix_property_label,.webix_property_value{padding-left:10px;float:left;border-bottom:1px solid #ddd;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;height:28px;line-height:27px}\\r\\n.webix_property_label{border-right:1px solid #ddd}\\r\\n.webix_property_label_line{padding-left:10px;color:#fff;font-size:18px;background:#3498db;border-bottom:1px solid #ebebeb;line-height:28px}\\r\\n.webix_property_label_line .webix_el_button,.webix_property_label_line .webix_el_label,.webix_property_label_line .webix_inp_label{color:#fff}\\r\\n.webix_property_label_line .webix_el_label{font-size:18px}\\r\\n.webix_property_label_line .webix_inp_counter_next,.webix_property_label_line .webix_inp_counter_prev,.webix_property_label_line .webix_segment_0,.webix_property_label_line .webix_segment_1,.webix_property_label_line .webix_segment_N,.webix_property_label_line .webixtype_base,.webix_property_label_line .webixtype_next,.webix_property_label_line .webixtype_prev{border-color:#d9d9d9;background-color:transparent;color:#fff}\\r\\n.webix_property_label_line .webix_el_arrow.webixtype_next_arrow{border-left:none;border-bottom:none}\\r\\n.webix_property_label_line .webix_el_arrow.webixtype_prev_arrow{border-right:none;border-bottom:none}\\r\\n.webix_property_label_line .webix_inp_counter_next:hover,.webix_property_label_line .webix_inp_counter_prev:hover,.webix_property_label_line .webix_segment_0:hover,.webix_property_label_line .webix_segment_1:hover,.webix_property_label_line .webix_segment_N:hover,.webix_property_label_line .webixtype_base:hover{color:#fff;background-color:rgba(0,0,0,.05)}\\r\\n.webix_property_label_line .webix_inp_counter_next:active,.webix_property_label_line .webix_inp_counter_prev:active,.webix_property_label_line .webix_segment_0:active,.webix_property_label_line .webix_segment_1:active,.webix_property_label_line .webix_segment_N:active,.webix_property_label_line .webixtype_base:active{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_property_label_line .webix_inp_counter_next:focus,.webix_property_label_line .webix_inp_counter_prev:focus,.webix_property_label_line .webix_segment_0:focus,.webix_property_label_line .webix_segment_1:focus,.webix_property_label_line .webix_segment_N:focus,.webix_property_label_line .webixtype_base:focus{background-color:rgba(0,0,0,.07);color:#fff}\\r\\n.webix_property_label_line .webix_inp_static,.webix_property_label_line input[type=text]{border-color:#fff}\\r\\n.webix_property_label_line .webix_inp_static:focus,.webix_property_label_line input[type=text]:focus{border-color:#fff;box-shadow:none}\\r\\n.webix_property_label_line .webix_input_icon{border-color:#d9d9d9;background-color:transparent;color:#666}\\r\\n.webix_property_label_line .webix_input_icon:active,.webix_property_label_line .webix_input_icon:focus,.webix_property_label_line .webix_input_icon:hover{background-color:transparent;color:#666}\\r\\n.webix_property_label_line .webix_pressed .webix_el_arrow,.webix_property_label_line .webix_pressed .webix_inp_counter_next,.webix_property_label_line .webix_pressed .webix_inp_counter_prev,.webix_property_label_line .webix_pressed .webix_input_icon,.webix_property_label_line .webix_pressed .webix_segment_0,.webix_property_label_line .webix_pressed .webix_segment_1,.webix_property_label_line .webix_pressed .webix_segment_N,.webix_property_label_line .webix_pressed .webixtype_base,.webix_property_label_line .webix_pressed .webixtype_next,.webix_property_label_line .webix_pressed .webixtype_prev{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_property_label_line .webix_selected.webix_segment_0,.webix_property_label_line .webix_selected.webix_segment_1,.webix_property_label_line .webix_selected.webix_segment_N{border-color:#d9d9d9;background-color:#27ae60;color:#fff}\\r\\n.webix_property_label_line .webix_selected.webix_segment_0:hover,.webix_property_label_line .webix_selected.webix_segment_1:hover,.webix_property_label_line .webix_selected.webix_segment_N:hover{background-color:#24a259}\\r\\n.webix_property_label_line .webix_selected.webix_segment_0:active,.webix_property_label_line .webix_selected.webix_segment_0:focus,.webix_property_label_line .webix_selected.webix_segment_1:active,.webix_property_label_line .webix_selected.webix_segment_1:focus,.webix_property_label_line .webix_selected.webix_segment_N:active,.webix_property_label_line .webix_selected.webix_segment_N:focus{background-color:#295}\\r\\n.webix_property_label_line .webix_segment_1,.webix_property_label_line .webix_segment_N,.webix_property_label_line .webix_selected.webix_segment_1,.webix_property_label_line .webix_selected.webix_segment_N{margin-left:0;border-left:none}\\r\\n.webix_property_label_line .webix_img_btn:active,.webix_property_label_line .webix_img_btn_top:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_property_label_line .webix_img_btn:focus,.webix_property_label_line .webix_img_btn_top:focus{background-color:#2489cc}\\r\\n.webix_property_label_line .webix_img_btn:hover,.webix_property_label_line .webix_img_btn_top:hover{background-color:#268fd5}\\r\\n.webix_property_label_line .webix_icon_button{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_property_label_line .webix_el_icon,.webix_property_label_line .webix_icon_btn,.webix_property_label_line .webix_icon_button,.webix_property_label_line .webix_img_btn,.webix_property_label_line .webix_img_btn_abs,.webix_property_label_line .webix_img_btn_abs .webix_icon,.webix_property_label_line .webix_img_btn_abs .webix_img_btn_text,.webix_property_label_line .webix_img_btn_top .webix_icon,.webix_property_label_line .webix_img_btn_top .webix_img_btn_text{color:#fff}\\r\\n.webix_property_label_line .webix_el_box .webix_img_btn_abs:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_property_label_line .webix_el_icon .webix_icon_button:focus{background-color:rgba(0,0,0,.07)}\\r\\n.webix_property_label_line .webix_el_box .webix_img_btn_abs:hover,.webix_property_label_line .webix_el_icon .webix_icon_button:hover{background-color:rgba(0,0,0,.05)}\\r\\n.webix_property_label_line .webix_control{border-color:#3498db}\\r\\n.webix_property_label_line .webix_icon_button .webix_icon{font-size:23px;height:27px;width:27px;color:#fff}\\r\\n.webix_property_label_line .webix_img_btn,.webix_property_label_line .webix_img_btn_top{border-width:0}\\r\\n.webix_property_col_val{width:100%;height:100%;-moz-user-select:text;-webkit-user-select:text;user-select:text}\\r\\n.webix_property_col_ind{float:right;border:1px solid #ddd;border-radius:2px;width:30px;cursor:pointer;height:13px;margin:3px 10px 3px 0}\\r\\n.webix_property_value{text-overflow:ellipsis;white-space:nowrap}\\r\\n.webix_property_check{margin-top:5px}\\r\\n.webix_tooltip{display:none;position:absolute;z-index:10000;background-color:#fff;padding:5px 10px;border:1px solid #ddd;font-family:'PT Sans',Tahoma;font-size:15px;color:#666;border-radius:0;box-shadow:1px 1px 0 0 #CCC}\\r\\n.webix_color_row{clear:both;white-space:nowrap}\\r\\n.webix_color_palette{text-align:left;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}\\r\\n.webix_color_row,.webix_color_row div,.webix_color_selector{line-height:0;font-size:0}\\r\\n.webix_color_row div{display:inline-block;width:15px;height:15px;cursor:default}\\r\\n.webix_color_selector{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;border:2px solid #f3f3f3}\\r\\n.webix_daterange .webix_view{background-color:#fff}\\r\\n.webix_daterange .webix_range_0 .webix_cal_next_button,.webix_daterange .webix_range_1 .webix_cal_next_button,.webix_daterange .webix_range_1 .webix_cal_prev_button,.webix_daterange .webix_range_N .webix_cal_prev_button{visibility:hidden}\\r\\n.webix_daterange .webix_range_1 .webix_cal_next_button:hover,.webix_daterange .webix_range_1 .webix_cal_prev_button:hover{cursor:default}\\r\\n.webix_daterange .webix_range_1 .webix_cal_month_name:hover{text-decoration:none;color:inherit;cursor:default}\\r\\n.webix_daterange .webix_range_left .webix_cal_next_button:hover,.webix_daterange .webix_range_right .webix_cal_prev_button:hover{cursor:default}\\r\\n.webix_cal_range_start{border-radius:3px 0 0 3px}\\r\\n.webix_cal_range_end{border-radius:0 3px 3px 0}\\r\\n.webix_cal_event.webix_cal_range_end,.webix_cal_event.webix_cal_range_start,.webix_cal_range_end,.webix_cal_range_start{background-color:#27ae60;color:#fff}\\r\\n.webix_cal_body .webix_cal_today.webix_cal_range_start{background-color:#27ae60}\\r\\n.webix_cal_body .webix_cal_outside.webix_cal_range_end,.webix_cal_body .webix_cal_outside.webix_cal_range_start,.webix_cal_outside.webix_cal_range{background-color:transparent;color:#666}\\r\\n.webix_daterange .webix_cal_icons{text-align:right;padding:0 4px}\\r\\n.webix_daterange .webix_cal_icons .webix_cal_icon{border-top:1px solid #ddd}\\r\\n.webix_daterange .webix_cal_time{display:none}\\r\\n.webix_daterange .webix_cal_timepicker .webix_range_time_start,.webix_daterange .webix_range_timepicker .webix_cal_time{display:block}\\r\\n.webix_daterange .webix_range_timepicker .webix_range_time_start{float:left}\\r\\n.webix_daterange .webix_range_timepicker .webix_range_time_end{float:right}\\r\\n.webix_daterange .webix_range_footer .webix_cal_footer{padding:0}\\r\\n.webix_view.webix_toolbar .webix_el_button{background:0 0}\\r\\n.webix_el_button button,.webix_el_button input,.webix_el_toggle button,.webix_el_toggle input,.webixbutton{border-radius:6px;height:100%;width:100%;cursor:pointer;color:#fff;font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;border-bottom:1px solid #268fd5;outline:0;-webkit-appearance:none}\\r\\n.webix_el_button .webix_img_btn,.webix_el_button .webix_img_btn .webix_img_btn_text,.webix_el_button .webix_img_btn_top,.webix_el_button .webix_img_btn_top .webix_img_btn_text,.webix_el_toggle .webix_img_btn,.webix_el_toggle .webix_img_btn .webix_img_btn_text,.webix_el_toggle .webix_img_btn_top,.webix_el_toggle .webix_img_btn_top .webix_img_btn_text{color:#666}\\r\\n.webix_el_button .webix_img_btn,.webix_el_button .webix_img_btn_top,.webix_el_toggle .webix_img_btn,.webix_el_toggle .webix_img_btn_top{border:0}\\r\\n.webixbutton,.webixtype_base,.webixtype_next,.webixtype_prev{background:#3498db;color:#fff;font-size:15px;font-family:'PT Sans',Tahoma;outline:0;padding:0;border:0}\\r\\n.webixtype_form{font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;outline:0;background:#27ae60;color:#fff;border-color:#27ae60;border-bottom:1px solid #209150;box-shadow:none}\\r\\n.webix_el_button .webixtype_danger{background:#ce5545;border:1px solid #ce5545;border-bottom:1px solid #b13e2f;color:#fff}\\r\\n.webix_el_button .webix_el_box,.webix_el_toggle .webix_el_box{position:relative}\\r\\n.webix_el_button .webix_el_arrow,.webix_el_toggle .webix_el_arrow{position:absolute;z-index:1}\\r\\n.webixtype_next,.webixtype_prev{position:absolute;z-index:2;top:0}\\r\\ninput.webixtype_prev{border-left-width:0;border-radius:0 6px 6px 0;-webkit-border-radius:0 6px 6px 0;-moz-border-radius-topleft:0;-moz-border-radius-bottomleft:0;-moz-border-radius-topright:6px;-moz-border-radius-bottomright:6px}\\r\\ninput.webixtype_next{border-right-width:0;border-radius:6px 0 0 6px;-webkit-border-radius:6px 0 0 6px;-moz-border-radius-topleft:6px;-moz-border-radius-bottomleft:6px;-moz-border-radius-topright:0;-moz-border-radius-bottomright:0}\\r\\n.webix_el_arrow{width:18px;height:18px;font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;outline:0;color:#fff;background:#3498db;border:1px solid #ddd}\\r\\n.webixtype_prev_arrow{-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg)}\\r\\n.webixtype_next_arrow{-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg)}\\r\\n.webix_img_btn_abs_top .webix_icon,.webix_img_btn_top .webix_icon{font-size:22px;position:absolute;top:8px;left:50%}\\r\\n.webix_img_btn_abs .webix_icon{margin-left:8px}\\r\\n.webix_img_btn_abs.webix_img_btn_abs_top .webix_icon,.webix_img_btn_top .webix_icon{margin-left:-10px}\\r\\n.webix_img_btn,.webix_img_btn_top{vertical-align:top;background-color:transparent;border:none;width:100%;padding:0}\\r\\n.webix_img_btn,.webix_img_btn_abs{cursor:pointer;text-align:left;background-repeat:no-repeat;background-position:2px center;height:100%;font-size:15px}\\r\\n.webix_img_btn .webix_icon,.webix_img_btn_abs .webix_icon{color:#fff}\\r\\n.webix_img_btn,.webix_img_btn_abs{padding:0}\\r\\n.webix_img_btn .webix_image,.webix_img_btn_abs .webix_image{background-repeat:no-repeat;background-position:center center;float:left;vertical-align:top}\\r\\n.webix_img_btn_abs.webix_img_btn_abs_top .webix_image{background-position:center 5px}\\r\\n.webix_img_btn_top{text-align:center;background-repeat:no-repeat}\\r\\n.webix_img_btn_text{position:absolute;left:0;bottom:4px;width:100%;text-align:center;cursor:pointer;color:#fff}\\r\\n.webix_img_btn_abs{background-position:center center}\\r\\n.webix_img_btn_top{background-position:center top;vertical-align:top}\\r\\n.webix_img_btn_abs .webix_img_btn_text{bottom:8px}\\r\\n.webix_pressed .webix_img_btn,.webix_pressed .webix_img_btn_top{box-shadow:inset 0 3px 5px rgba(0,0,0,.125);background-color:rgba(0,0,0,.05)}\\r\\n.webix_pressed .webix_img_btn_abs+input,.webix_pressed .webixtype_base{box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_control .webix_disabled_box .webix_el_arrow,.webix_control .webix_disabled_box .webixtype_base,.webix_control .webix_disabled_box .webixtype_danger,.webix_control .webix_disabled_box .webixtype_form,.webix_control .webix_disabled_box .webixtype_next,.webix_control .webix_disabled_box .webixtype_prev{color:#aaa;background:#e9e9e9;border:1px solid #e9e9e9;text-shadow:none}\\r\\n.webix_control .webix_disabled_box .webix_img_btn_text,.webix_disabled_view.webix_control .webix_icon,.webix_disabled_view.webix_control .webix_icon_btn,.webix_layout_toolbar.webix_toolbar .webix_disabled_view.webix_control .webix_disabled_box .webix_img_btn_text,.webix_layout_toolbar.webix_toolbar .webix_disabled_view.webix_control .webix_icon,.webix_layout_toolbar.webix_toolbar .webix_disabled_view.webix_control .webix_icon_btn{color:#aaa}\\r\\n.webixbutton{width:auto;height:auto;padding:8px 15px}\\r\\n.webix_control{background:0 0}\\r\\n.webix_control button,.webix_control input,.webix_control textarea,.webix_el_label,.webix_inp_bottom_label,.webix_inp_label,.webix_inp_top_label{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:'PT Sans',Tahoma}\\r\\n.webix_el_box{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;padding:3px 2px;height:100%;width:100%;font-size:15px;overflow:hidden}\\r\\n.webix_el_colorpicker input,.webix_el_combo input,.webix_el_datepicker input,.webix_el_search input,.webix_el_text input{height:100%;padding:0 10px;border:1px solid #ddd;color:#666;font-size:15px;background:#fff;font-family:'PT Sans',Tahoma;border-color:#ccc;-webkit-appearance:none}\\r\\n.webix_inp_label,.webix_inp_top_label,.webix_label_right{color:#666;text-transform:none;font-size:15px}\\r\\n.webix_inp_label{float:left;padding-top:1px;padding-left:3px;padding-right:7.5px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}\\r\\n.webix_inp_top_label{float:none;padding:3px 2px 0}\\r\\n.webix_inp_bottom_label{font-size:13px;color:#737373}\\r\\n.webix_label_right{padding-left:7.5px}\\r\\n.webix_el_checkbox .webix_label_right{display:inline-block;padding-top:2px}\\r\\n.webix_el_label{color:#666;line-height:32px;padding:3px 2px}\\r\\n.webix_toolbar .webix_el_label{padding-left:10px;text-transform:none}\\r\\n.webix_el_select select{height:100%;font-size:15px;border:1px solid #ddd}\\r\\nbody:not(:-moz-handler-blocked) .webix_el_select select{padding:.2em}\\r\\n.webix_all_segments,.webix_el_group{height:100%;white-space:nowrap}\\r\\n.webix_inp_counter_next,.webix_inp_counter_prev,.webix_inp_counter_value{border:1px solid #ddd;cursor:pointer;-webkit-appearance:none;width:20px;height:100%;vertical-align:top}\\r\\n.webix_inp_counter_value{font-size:15px;width:50px;color:#666;text-align:center;border-left-width:0;border-right-width:0;-webkit-appearance:none;border-radius:0}\\r\\n.webix_inp_counter_prev{font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;outline:0;color:#fff;background:#3498db;border-bottom:1px solid #2386c8;-webkit-border-radius:6px 0 0 6px;-moz-border-radius-topleft:6px;-moz-border-radius-bottomleft:6px;-moz-border-radius-topright:0;-moz-border-radius-bottomright:0;border-radius:6px 0 0 6px}\\r\\n.webix_inp_counter_next{font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;outline:0;color:#fff;background:#3498db;border-bottom:1px solid #2386c8;-webkit-border-radius:0 6px 6px 0;-moz-border-radius-topleft:0;-moz-border-radius-bottomleft:0;-moz-border-radius-topright:6px;-moz-border-radius-bottomright:6px;border-radius:0 6px 6px 0}\\r\\n.webix_el_textarea textarea{border:1px solid #ddd;height:100%;margin:0;padding:5px 10px;color:#666;resize:none;font-size:15px}\\r\\n.webix_el_textarea .webix_inp_label{padding-top:9.5px}\\r\\n.webix_segment_0,.webix_segment_1{height:100%}\\r\\n.webix_segment_0{-webkit-border-radius:6px 0 0 6px;-moz-border-radius-topleft:6px;-moz-border-radius-bottomleft:6px;-moz-border-radius-topright:0;-moz-border-radius-bottomright:0;border-radius:6px 0 0 6px}\\r\\n.webix_segment_N{height:100%;-webkit-border-radius:0 6px 6px 0;-moz-border-radius-topleft:0;-moz-border-radius-bottomleft:0;-moz-border-radius-topright:6px;-moz-border-radius-bottomright:6px;border-radius:0 6px 6px 0}\\r\\n.webix_segment_N:first-child{-webkit-border-radius:6px;-moz-border-radius-topleft:6px;-moz-border-radius-bottomleft:6px;-moz-border-radius-topright:6px;-moz-border-radius-bottomright:6px;border-radius:6px}\\r\\n.webix_segment_0,.webix_segment_1,.webix_segment_N{-webkit-appearance:none;background:#3498db;color:#fff;font-size:15px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;border-bottom:1px solid #268fd5;outline:0;cursor:pointer;padding:0}\\r\\n.webix_segment_0.webix_selected,.webix_segment_1.webix_selected,.webix_segment_N.webix_selected{color:#fff;background:#27ae60;border-color:#27ae60}\\r\\n.webix_inp_static{border:1px solid #ddd;background:#fff;overflow:hidden;padding:0 10px;height:100%;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;float:left}\\r\\n.webix_inp_static .webix_placeholder{color:#b3b3b3}\\r\\n.webix_el_colorpicker,.webix_el_combo,.webix_el_datepicker,.webix_el_richselect,.webix_el_search{font-size:15px}\\r\\n.webix_el_colorpicker .webix_el_box,.webix_el_combo .webix_el_box,.webix_el_datepicker .webix_el_box,.webix_el_richselect .webix_el_box,.webix_el_search .webix_el_box{color:#666;position:relative}\\r\\n.webix_el_colorpicker .webix_inp_static,.webix_el_colorpicker input,.webix_el_combo .webix_inp_static,.webix_el_combo input,.webix_el_datepicker .webix_inp_static,.webix_el_datepicker input,.webix_el_richselect .webix_inp_static,.webix_el_richselect input,.webix_el_search .webix_inp_static,.webix_el_search input{color:#666;padding-right:24px;background:#fff;font-family:'PT Sans',Tahoma;border-color:#ccc;-webkit-appearance:none}\\r\\n.webix_el_colorpicker .webix_input_icon,.webix_el_combo .webix_input_icon,.webix_el_datepicker .webix_input_icon,.webix_el_richselect .webix_input_icon,.webix_el_search .webix_input_icon{right:2px;background:0 0;z-index:1;position:absolute}\\r\\n.webix_el_combo .webix_input_icon,.webix_el_richselect .webix_input_icon{padding-left:7px;width:19px}\\r\\n.webix_el_colorpicker .webix_input_icon,.webix_el_datepicker .webix_input_icon,.webix_el_search .webix_input_icon{padding-left:5px;width:21px}\\r\\n.webix_view button::-moz-focus-inner{padding:0;border:0}\\r\\n.webix_el_radio .webix_inp_label{line-height:normal!important;padding-top:6.5px}\\r\\n.webix_el_checkbox input,.webix_inp_radio_border input{margin:0;padding:0;float:left}\\r\\n.webix_line_break{clear:both}\\r\\n.webix_custom_checkbox,.webix_custom_radio{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}\\r\\n.webix_radio_option{display:table;float:left;height:32px;margin-right:20px}\\r\\n.webix_el_radio .webix_label_right,.webix_inp_radio_border{display:table-cell;vertical-align:middle}\\r\\n.webix_invalid .webix_custom_radio,.webix_invalid .webix_el_box .webix_inp_static,.webix_invalid .webix_el_box input,.webix_invalid .webix_el_box select,.webix_invalid .webix_el_box textarea,input.webix_invalid,select.webix_invalid,textarea.webix_invalid{background-color:#fff6f6;border-color:#fea5a8}\\r\\n.webix_invalid .webix_inp_bottom_label{font-size:13px;color:#fd595f}\\r\\n.webix_el_colorpicker .webix_input_icon{padding-left:0;top:7px;right:8px;width:24px;height:24px;border-radius:6px}\\r\\n.webix_el_search .webix_el_box{position:relative}\\r\\n.webix_el_search span{position:absolute;right:19px;cursor:pointer;padding-left:7px}\\r\\n.webix_view.webix_control>.webix_disabled{filter:alpha(opacity=0);opacity:0}\\r\\n.webix_view.webix_control .webix_disabled_box .webix_input_icon,.webix_view.webix_control .webix_disabled_box button,.webix_view.webix_control .webix_disabled_box label{color:#aaa}\\r\\n.webix_view.webix_control .webix_disabled_box .webix_inp_static,.webix_view.webix_control .webix_disabled_box input,.webix_view.webix_control .webix_disabled_box select,.webix_view.webix_control .webix_disabled_box textarea{color:#aaa;background:#eee}\\r\\n.webix_view.webix_control .webix_disabled_box .webix_inp_counter_next,.webix_view.webix_control .webix_disabled_box .webix_inp_counter_prev,.webix_view.webix_control .webix_disabled_box .webix_segment_0,.webix_view.webix_control .webix_disabled_box .webix_segment_1,.webix_view.webix_control .webix_disabled_box .webix_segment_N{color:#aaa;background:#e9e9e9;border:1px solid #e9e9e9;text-shadow:none}\\r\\n.webix_disabled_top_label{color:#aaa}\\r\\nlabel.webix_required:after{padding-left:4px;content:\\\"*\\\";color:red}\\r\\n.webix_multicombo .webix_inp_static{padding:0 3px}\\r\\n.webix_el_text .webix_multicombo_input{background-color:transparent;border:0;float:left;vertical-align:middle;padding:0;color:#666;font-size:15px;font-family:'PT Sans',Tahoma;margin-left:7px}\\r\\n.webix_el_text .webix_multicombo_input:focus{border:0;box-shadow:none}\\r\\n.webix_multicombo_listbox{width:auto;line-height:1;margin:0;padding:0;list-style:none}\\r\\n.webix_multicombo_tag,.webix_multicombo_value{padding:0 5px 0 7px;background-color:#f2f2f2;display:inline-block;margin:3px;float:left;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_multicombo_tag{min-width:15px;text-align:center;padding:0 5px}\\r\\n.webix_multicombo_delete{margin-left:10px;padding:0 5px;color:#404040;cursor:pointer}\\r\\n.webix_multilist .webix_selected{background:#f2f2f2;color:#666}\\r\\n.webix_el_tabbar{background:0 0}\\r\\n.webix_all_tabs{height:100%;display:table}\\r\\n.webix_tab_filler{display:table-cell;background:0 0;font-size:1px;border-bottom:1px solid #ddd;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webix_item_tab:first-child{border-left:1px solid #ddd}\\r\\n.webix_item_tab{display:table-cell;text-align:center;vertical-align:middle;overflow:hidden;cursor:pointer;border:1px solid #ddd;border-left-width:0;background:#a4b4bf;color:#fff;-webkit-border-radius:4px 4px 0 0;-moz-border-radius-topleft:4px;-moz-border-radius-bottomleft:0;-moz-border-radius-topright:4px;-moz-border-radius-bottomright:0;border-radius:4px 4px 0 0;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webixtype_bottom .webix_item_tab{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}\\r\\n.webix_item_tab.webix_selected{border-bottom-width:0;background:#3498db;color:#fff;border-color:#3498db}\\r\\n.webixtype_bottom .webix_item_tab.webix_selected{border-bottom-width:1px}\\r\\n.webix_before_all_tabs{width:100%}\\r\\n.webix_after_all_tabs{width:100%;border-left:1px solid #ddd;border-right:1px solid #ddd;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webix_view.webix_control .webix_disabled_box .webix_item_tab{color:#aaa;background:#e9e9e9;border:1px solid #e9e9e9;text-shadow:none}\\r\\n.webix_el_tabbar .webixtype_icon .webix_img_btn_top,.webix_el_tabbar .webixtype_iconTop .webix_img_btn_top,.webix_el_tabbar .webixtype_image .webix_img_btn_top{background-position:center 0;position:relative;height:100%}\\r\\n.webix_tab_more_icon{cursor:pointer;display:table-cell;overflow:hidden;text-align:center;box-sizing:border-box;vertical-align:middle;padding:0 3px}\\r\\n.webix_tab_more_icon .webix_icon{width:100%}\\r\\n.webix_tab_list .webix_list_item:last-child{border-bottom:none}\\r\\n.webix_icon.webix_tab_close{font-size:12px;float:right;padding:4px;margin-top:-4px}\\r\\n.webix_menu .webix_list_item:active,.webix_menu .webix_list_item:focus,.webix_menu .webix_list_item:hover,.webix_menu-x .webix_list_item:active,.webix_menu-x .webix_list_item:focus,.webix_menu-x .webix_list_item:hover{background:rgba(100,100,100,.1)}\\r\\n.webix_menu .webix_list_item,.webix_menu-x .webix_list_item{border:none;text-decoration:none;background:#fff;height:34px}\\r\\n.webix_menu .webix_list_item .webix_submenu_icon,.webix_menu-x .webix_list_item .webix_submenu_icon{float:right;text-align:right;position:relative;margin-left:4px}\\r\\n.webix_menu-x .webix_list_item:first-child{margin-left:0}\\r\\n.webix_menu-x .webix_submenu_icon{top:13px}\\r\\n.webix_menu-x{border:none;background:0 0}\\r\\n.webix_menu-x .webix_list_item{display:inline-block;line-height:30px;border-right:1px solid #fff;border-left:0;background:#3498db;color:#fff;font-size:15px}\\r\\n.webix_menu-x .webix_list_item .webix_submenu_icon:before{content:'\\\\F107'}\\r\\n.webix_menu-x .webix_list_item .webix_icon_btn{color:#fff;text-align:left}\\r\\n.webix_menu-x .webix_list_item:active,.webix_menu-x .webix_list_item:focus,.webix_menu-x .webix_list_item:hover{background-color:#268fd5}\\r\\n.webix_menu-x .webix_list_item:first-child{-webkit-border-radius:4px 0 0 4px;-moz-border-radius-topleft:4px;-moz-border-radius-bottomleft:4px;-moz-border-radius-topright:0;-moz-border-radius-bottomright:0;border-radius:4px 0 0 4px}\\r\\n.webix_menu-x .webix_list_item:last-child{border-right:none;-webkit-border-radius:0 4px 4px 0;-moz-border-radius-topleft:0;-moz-border-radius-bottomleft:0;-moz-border-radius-topright:4px;-moz-border-radius-bottomright:4px;border-radius:0 4px 4px 0}\\r\\n.webix_menu{background:#fff;border:1px solid #ddd;border-radius:0}\\r\\n.webix_menu .webix_list_item{display:block}\\r\\n.webix_menu .webix_context_separator{height:3px;padding:1px 3px 0}\\r\\n.webix_menu .webix_context_separator .sep_line{height:1px;border-top:1px solid #ddd}\\r\\n.webix_menu .webix_submenu_icon{top:11px}\\r\\n.webix_menu .webix_context_spacer{height:34px}\\r\\n.webix_menu_link{color:inherit;text-decoration:none;display:block;height:100%}\\r\\n.webix_layout_toolbar{color:#fff;font-size:18px;background:#3498db}\\r\\n.webix_layout_toolbar .webix_el_button,.webix_layout_toolbar .webix_el_label,.webix_layout_toolbar .webix_inp_label{color:#fff}\\r\\n.webix_layout_toolbar .webix_el_label{font-size:18px}\\r\\n.webix_layout_toolbar .webix_inp_counter_next,.webix_layout_toolbar .webix_inp_counter_prev,.webix_layout_toolbar .webix_segment_0,.webix_layout_toolbar .webix_segment_1,.webix_layout_toolbar .webix_segment_N,.webix_layout_toolbar .webixtype_base,.webix_layout_toolbar .webixtype_next,.webix_layout_toolbar .webixtype_prev{border-color:#d9d9d9;background-color:transparent;color:#fff}\\r\\n.webix_layout_toolbar .webix_el_arrow.webixtype_next_arrow{border-left:none;border-bottom:none}\\r\\n.webix_layout_toolbar .webix_el_arrow.webixtype_prev_arrow{border-right:none;border-bottom:none}\\r\\n.webix_layout_toolbar .webix_inp_counter_next:hover,.webix_layout_toolbar .webix_inp_counter_prev:hover,.webix_layout_toolbar .webix_segment_0:hover,.webix_layout_toolbar .webix_segment_1:hover,.webix_layout_toolbar .webix_segment_N:hover,.webix_layout_toolbar .webixtype_base:hover{color:#fff;background-color:rgba(0,0,0,.05)}\\r\\n.webix_layout_toolbar .webix_inp_counter_next:active,.webix_layout_toolbar .webix_inp_counter_prev:active,.webix_layout_toolbar .webix_segment_0:active,.webix_layout_toolbar .webix_segment_1:active,.webix_layout_toolbar .webix_segment_N:active,.webix_layout_toolbar .webixtype_base:active{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_layout_toolbar .webix_inp_counter_next:focus,.webix_layout_toolbar .webix_inp_counter_prev:focus,.webix_layout_toolbar .webix_segment_0:focus,.webix_layout_toolbar .webix_segment_1:focus,.webix_layout_toolbar .webix_segment_N:focus,.webix_layout_toolbar .webixtype_base:focus{background-color:rgba(0,0,0,.07);color:#fff}\\r\\n.webix_layout_toolbar .webix_inp_static,.webix_layout_toolbar input[type=text]{border-color:#fff}\\r\\n.webix_layout_toolbar .webix_inp_static:focus,.webix_layout_toolbar input[type=text]:focus{border-color:#fff;box-shadow:none}\\r\\n.webix_layout_toolbar .webix_input_icon{border-color:#d9d9d9;background-color:transparent;color:#666}\\r\\n.webix_layout_toolbar .webix_input_icon:active,.webix_layout_toolbar .webix_input_icon:focus,.webix_layout_toolbar .webix_input_icon:hover{background-color:transparent;color:#666}\\r\\n.webix_layout_toolbar .webix_pressed .webix_el_arrow,.webix_layout_toolbar .webix_pressed .webix_inp_counter_next,.webix_layout_toolbar .webix_pressed .webix_inp_counter_prev,.webix_layout_toolbar .webix_pressed .webix_input_icon,.webix_layout_toolbar .webix_pressed .webix_segment_0,.webix_layout_toolbar .webix_pressed .webix_segment_1,.webix_layout_toolbar .webix_pressed .webix_segment_N,.webix_layout_toolbar .webix_pressed .webixtype_base,.webix_layout_toolbar .webix_pressed .webixtype_next,.webix_layout_toolbar .webix_pressed .webixtype_prev{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_layout_toolbar .webix_selected.webix_segment_0,.webix_layout_toolbar .webix_selected.webix_segment_1,.webix_layout_toolbar .webix_selected.webix_segment_N{border-color:#d9d9d9;background-color:#27ae60;color:#fff}\\r\\n.webix_layout_toolbar .webix_selected.webix_segment_0:hover,.webix_layout_toolbar .webix_selected.webix_segment_1:hover,.webix_layout_toolbar .webix_selected.webix_segment_N:hover{background-color:#24a259}\\r\\n.webix_layout_toolbar .webix_selected.webix_segment_0:active,.webix_layout_toolbar .webix_selected.webix_segment_0:focus,.webix_layout_toolbar .webix_selected.webix_segment_1:active,.webix_layout_toolbar .webix_selected.webix_segment_1:focus,.webix_layout_toolbar .webix_selected.webix_segment_N:active,.webix_layout_toolbar .webix_selected.webix_segment_N:focus{background-color:#295}\\r\\n.webix_layout_toolbar .webix_segment_1,.webix_layout_toolbar .webix_segment_N,.webix_layout_toolbar .webix_selected.webix_segment_1,.webix_layout_toolbar .webix_selected.webix_segment_N{margin-left:0;border-left:none}\\r\\n.webix_layout_toolbar .webix_img_btn:active,.webix_layout_toolbar .webix_img_btn_top:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_layout_toolbar .webix_img_btn:focus,.webix_layout_toolbar .webix_img_btn_top:focus{background-color:#2489cc}\\r\\n.webix_layout_toolbar .webix_img_btn:hover,.webix_layout_toolbar .webix_img_btn_top:hover{background-color:#268fd5}\\r\\n.webix_layout_toolbar .webix_icon_button{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_layout_toolbar .webix_el_icon,.webix_layout_toolbar .webix_icon_btn,.webix_layout_toolbar .webix_icon_button,.webix_layout_toolbar .webix_img_btn,.webix_layout_toolbar .webix_img_btn_abs,.webix_layout_toolbar .webix_img_btn_abs .webix_icon,.webix_layout_toolbar .webix_img_btn_abs .webix_img_btn_text,.webix_layout_toolbar .webix_img_btn_top .webix_icon,.webix_layout_toolbar .webix_img_btn_top .webix_img_btn_text{color:#fff}\\r\\n.webix_layout_toolbar .webix_el_box .webix_img_btn_abs:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_layout_toolbar .webix_el_icon .webix_icon_button:focus{background-color:rgba(0,0,0,.07)}\\r\\n.webix_layout_toolbar .webix_el_box .webix_img_btn_abs:hover,.webix_layout_toolbar .webix_el_icon .webix_icon_button:hover{background-color:rgba(0,0,0,.05)}\\r\\n.webix_layout_toolbar .webix_control{border-color:#3498db}\\r\\n.webix_layout_toolbar .webix_icon_button .webix_icon{font-size:23px;height:27px;width:27px;color:#fff}\\r\\n.webix_layout_toolbar .webix_img_btn,.webix_layout_toolbar .webix_img_btn_top{border-width:0}\\r\\n.webix_toolbar.webix_layout_subbar{color:#fff;font-size:18px}\\r\\n.webix_toolbar.webix_layout_subbar .webix_el_button,.webix_toolbar.webix_layout_subbar .webix_el_label,.webix_toolbar.webix_layout_subbar .webix_inp_label{color:#fff}\\r\\n.webix_toolbar.webix_layout_subbar .webix_el_label{font-size:18px}\\r\\n.webix_toolbar.webix_layout_subbar .webix_inp_counter_next,.webix_toolbar.webix_layout_subbar .webix_inp_counter_prev,.webix_toolbar.webix_layout_subbar .webix_segment_0,.webix_toolbar.webix_layout_subbar .webix_segment_1,.webix_toolbar.webix_layout_subbar .webix_segment_N,.webix_toolbar.webix_layout_subbar .webixtype_base,.webix_toolbar.webix_layout_subbar .webixtype_next,.webix_toolbar.webix_layout_subbar .webixtype_prev{border-color:#d9d9d9;background-color:transparent;color:#fff}\\r\\n.webix_toolbar.webix_layout_subbar .webix_el_arrow.webixtype_next_arrow{border-left:none;border-bottom:none}\\r\\n.webix_toolbar.webix_layout_subbar .webix_el_arrow.webixtype_prev_arrow{border-right:none;border-bottom:none}\\r\\n.webix_toolbar.webix_layout_subbar .webix_inp_counter_next:hover,.webix_toolbar.webix_layout_subbar .webix_inp_counter_prev:hover,.webix_toolbar.webix_layout_subbar .webix_segment_0:hover,.webix_toolbar.webix_layout_subbar .webix_segment_1:hover,.webix_toolbar.webix_layout_subbar .webix_segment_N:hover,.webix_toolbar.webix_layout_subbar .webixtype_base:hover{color:#fff;background-color:rgba(0,0,0,.05)}\\r\\n.webix_toolbar.webix_layout_subbar .webix_inp_counter_next:active,.webix_toolbar.webix_layout_subbar .webix_inp_counter_prev:active,.webix_toolbar.webix_layout_subbar .webix_segment_0:active,.webix_toolbar.webix_layout_subbar .webix_segment_1:active,.webix_toolbar.webix_layout_subbar .webix_segment_N:active,.webix_toolbar.webix_layout_subbar .webixtype_base:active{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_toolbar.webix_layout_subbar .webix_inp_counter_next:focus,.webix_toolbar.webix_layout_subbar .webix_inp_counter_prev:focus,.webix_toolbar.webix_layout_subbar .webix_segment_0:focus,.webix_toolbar.webix_layout_subbar .webix_segment_1:focus,.webix_toolbar.webix_layout_subbar .webix_segment_N:focus,.webix_toolbar.webix_layout_subbar .webixtype_base:focus{background-color:rgba(0,0,0,.07);color:#fff}\\r\\n.webix_toolbar.webix_layout_subbar .webix_inp_static,.webix_toolbar.webix_layout_subbar input[type=text]{border-color:#fff}\\r\\n.webix_toolbar.webix_layout_subbar .webix_inp_static:focus,.webix_toolbar.webix_layout_subbar input[type=text]:focus{border-color:#fff;box-shadow:none}\\r\\n.webix_toolbar.webix_layout_subbar .webix_input_icon{border-color:#d9d9d9;background-color:transparent;color:#666}\\r\\n.webix_toolbar.webix_layout_subbar .webix_input_icon:active,.webix_toolbar.webix_layout_subbar .webix_input_icon:focus,.webix_toolbar.webix_layout_subbar .webix_input_icon:hover{background-color:transparent;color:#666}\\r\\n.webix_toolbar.webix_layout_subbar .webix_pressed .webix_el_arrow,.webix_toolbar.webix_layout_subbar .webix_pressed .webix_inp_counter_next,.webix_toolbar.webix_layout_subbar .webix_pressed .webix_inp_counter_prev,.webix_toolbar.webix_layout_subbar .webix_pressed .webix_input_icon,.webix_toolbar.webix_layout_subbar .webix_pressed .webix_segment_0,.webix_toolbar.webix_layout_subbar .webix_pressed .webix_segment_1,.webix_toolbar.webix_layout_subbar .webix_pressed .webix_segment_N,.webix_toolbar.webix_layout_subbar .webix_pressed .webixtype_base,.webix_toolbar.webix_layout_subbar .webix_pressed .webixtype_next,.webix_toolbar.webix_layout_subbar .webix_pressed .webixtype_prev{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_0,.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_1,.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_N{border-color:#d9d9d9;background-color:#27ae60;color:#fff}\\r\\n.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_0:hover,.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_1:hover,.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_N:hover{background-color:#24a259}\\r\\n.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_0:active,.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_0:focus,.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_1:active,.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_1:focus,.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_N:active,.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_N:focus{background-color:#295}\\r\\n.webix_toolbar.webix_layout_subbar .webix_segment_1,.webix_toolbar.webix_layout_subbar .webix_segment_N,.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_1,.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_N{margin-left:0;border-left:none}\\r\\n.webix_toolbar.webix_layout_subbar .webix_img_btn:active,.webix_toolbar.webix_layout_subbar .webix_img_btn_top:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_toolbar.webix_layout_subbar .webix_img_btn:focus,.webix_toolbar.webix_layout_subbar .webix_img_btn_top:focus{background-color:#2489cc}\\r\\n.webix_toolbar.webix_layout_subbar .webix_img_btn:hover,.webix_toolbar.webix_layout_subbar .webix_img_btn_top:hover{background-color:#268fd5}\\r\\n.webix_toolbar.webix_layout_subbar .webix_icon_button{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_toolbar.webix_layout_subbar .webix_el_icon,.webix_toolbar.webix_layout_subbar .webix_icon_btn,.webix_toolbar.webix_layout_subbar .webix_icon_button,.webix_toolbar.webix_layout_subbar .webix_img_btn,.webix_toolbar.webix_layout_subbar .webix_img_btn_abs,.webix_toolbar.webix_layout_subbar .webix_img_btn_abs .webix_icon,.webix_toolbar.webix_layout_subbar .webix_img_btn_abs .webix_img_btn_text,.webix_toolbar.webix_layout_subbar .webix_img_btn_top .webix_icon,.webix_toolbar.webix_layout_subbar .webix_img_btn_top .webix_img_btn_text{color:#fff}\\r\\n.webix_toolbar.webix_layout_subbar .webix_el_box .webix_img_btn_abs:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_toolbar.webix_layout_subbar .webix_el_icon .webix_icon_button:focus{background-color:rgba(0,0,0,.07)}\\r\\n.webix_toolbar.webix_layout_subbar .webix_el_box .webix_img_btn_abs:hover,.webix_toolbar.webix_layout_subbar .webix_el_icon .webix_icon_button:hover{background-color:rgba(0,0,0,.05)}\\r\\n.webix_toolbar.webix_layout_subbar .webix_control{border-color:#3498db}\\r\\n.webix_toolbar.webix_layout_subbar .webix_icon_button .webix_icon{font-size:23px;height:27px;width:27px;color:#fff}\\r\\n.webix_toolbar.webix_layout_subbar .webix_img_btn,.webix_toolbar.webix_layout_subbar .webix_img_btn_top{border-width:0}\\r\\n.webix_toolbar .webix_layout_clean,.webix_toolbar .webix_layout_line,.webix_toolbar .webix_layout_toolbar{background:0 0}\\r\\n.webix_el_button .webix_hidden_upload,.webix_hidden_upload{height:1px;width:1px;border:0!important;font-size:1px;position:absolute;top:0;left:0;z-index:-1}\\r\\n.webix_upload_client,.webix_upload_error,.webix_upload_server{width:60px;text-align:center;float:right}\\r\\n.cancel_icon,.error_icon{display:inline-block;background-repeat:no-repeat}\\r\\n.error_icon{width:18px;height:16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAQCAYAAAAbBi9cAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjZFMDdENjlDNjE2QzExRTI5QzhBQUU2OUI3RDY4RTFCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjZFMDdENjlENjE2QzExRTI5QzhBQUU2OUI3RDY4RTFCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NkUwN0Q2OUE2MTZDMTFFMjlDOEFBRTY5QjdENjhFMUIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NkUwN0Q2OUI2MTZDMTFFMjlDOEFBRTY5QjdENjhFMUIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4ZJnE7AAABdklEQVR42mK80aLPgAcwA/EcIOYB4mgg/oWuQL36AphmYcAPYvl5WBOYmBgY3n/6fQTIn4hLIRMeQ0CuaBHgY2EQ4GMF8euAWIgcg6qF+NmkOdiZGdhYmRiEBdhAhrSQapAKEBcJC7DCBUQE2UBUGhAbkGLQBDEhdjYmJkaGtHVMDD4LmBk+/2RgEBdhBwX+ZGINcuLiZPYW5Ie45tknRrAhIFqAl5WBh4vFBijsR8ggkI29IA0wwMsOo/+DaWjA9wIxGz6D0oAKDXi5EalCkvc/2DApPgifm5OZQZCPFRyGuAwCxwqya0AAZADMVTAgyA92TDUQS2MzqAUUxcAgRjPoP9hVyICVhREUi6B01g4TY4RmES0gvqSuyMPMQAK4ef/LXyBlAswmF2DWd4kJs2M1pGgLIvrRAXJyAIWqNzcXi7cgHysDqQAUnt9//LW52WoQBfLaDRlxDnWgYQzkAKBBDI+ef38E0n3nycsf6gyUgUcAAQYA9DZJKVXGocQAAAAASUVORK5CYII=)}\\r\\n.webix_upload_server{color:green}\\r\\n.webix_remove_upload{float:right}\\r\\n.cancel_icon{margin-top:8px;width:14px;height:14px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAQAAAC1QeVaAAAAsElEQVR4XoVQUQbDQBScAywIuUcpKCWglBJCDlBKf0vpbymhd5mDhIDcoAcoJQSEsn2G5KmWzMDsPG92ZyGAgVfWfBtrUwEOZnwwOu2UjaPCbScLAEzYmzxyxafMgaUlRXMTsJJ1B7jgy0Y7gHt5FdgyimeAS+a6ZpDTQkLkCQbmk9OBHaPv+p6x99jLFFuOsTMPSlXl8FVlrSopFBP/sIQAbn6+bwsHA29sNGhMBQgf1cri4JYEbDkAAAAASUVORK5CYII=)}\\r\\n.webix_upload_flash{width:100%;height:100%;position:absolute;bottom:0;left:0;background:#fff;filter:alpha(opacity=0)}\\r\\n.webix_drop_file{background:#f4f4f4;position:relative}\\r\\n.webix_drop_file::before{position:absolute;bottom:10px;left:0;width:100%;text-align:center}\\r\\n.webix_fieldset fieldset{border:1px solid #c4c4c4;margin:0;padding:5px 8px}\\r\\n.webix_fieldset legend{color:#666;font-size:12px}\\r\\n.webix_slider_box{position:relative;padding:15px 10px 0;height:100%;float:left;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webix_slider_box .webix_slider_left{float:left;width:100px;-webkit-border-radius:5px 0 0 5px;-moz-border-radius-topleft:5px;-moz-border-radius-bottomleft:5px;-moz-border-radius-topright:0;-moz-border-radius-bottomright:0;border-radius:5px 0 0 5px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webix_slider_box .webix_slider_right{float:left;width:100px;background:#fff;-webkit-border-radius:0 5px 5px 0;-moz-border-radius-topleft:0;-moz-border-radius-bottomleft:0;-moz-border-radius-topright:5px;-moz-border-radius-bottomright:5px;border-radius:0 5px 5px 0;border:1px solid #eaeaea;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webix_slider_box .webix_slider_handle{z-index:1;position:absolute;top:9px;border-radius:8px}\\r\\n.webix_slider_box .webix_slider_left{height:6px;border:1px solid #ccc;background:#3498db}\\r\\n.webix_slider_box .webix_slider_right{height:6px;border-color:#ccc}\\r\\n.webix_slider_box .webix_slider_handle{width:16px;height:16px;border:1px solid #ccc;background-color:#fff}\\r\\n.webix_rangeslider .webix_slider_box .webix_slider_left{position:absolute}\\r\\n.webix_rangeslider .webix_slider_box .webix_slider_active{z-index:1}\\r\\n.webix_rangeslider .webix_slider_box .webix_slider_right{-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px}\\r\\n.webix_slider_alt .webix_slider_box .webix_slider_left,.webix_slider_alt .webix_slider_box .webix_slider_right{border:1px solid #e1e1e1}\\r\\n.webix_slider_alt .webix_slider_box .webix_slider_handle{width:11px;margin:0 2px;height:20px;top:6.5px;border-radius:2px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAICAYAAAAx8TU7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTJCMjdFNENBRTg4MTFFMjk2NjJGMTJENjkyNDA2NTkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTJCMjdFNERBRTg4MTFFMjk2NjJGMTJENjkyNDA2NTkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MkIyN0U0QUFFODgxMUUyOTY2MkYxMkQ2OTI0MDY1OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5MkIyN0U0QkFFODgxMUUyOTY2MkYxMkQ2OTI0MDY1OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Powz/icAAAAaSURBVHjaYmBgYDBjgAA4zcSABQysIECAAQBn+ACx2PqtbAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:3px center}\\r\\n.webix_slider_alt .webix_slider_box .webix_slider_left{border:1px solid #ccc;background:#3498db}\\r\\n.webix_slider_alt .webix_slider_box .webix_slider_right{border-color:#ccc}\\r\\n.webix_slider_alt .webix_slider_box .webix_slider_handle{background-color:#fff;border:1px solid #ccc}\\r\\n.webix_slider_title{margin-bottom:-11px;text-align:center}\\r\\n.webix_progress_bottom,.webix_progress_top{width:100%;position:absolute;top:0;left:0;height:6px;overflow:hidden;z-index:20;background:#f2f2f2}\\r\\n.webix_progress_bottom{bottom:0;top:auto;height:17px}\\r\\n.webix_progress_bottom .webix_progress_state,.webix_progress_top .webix_progress_state{width:0;height:6px;background:#27ae60;-moz-transition:width 3s;transition:width 3s}\\r\\n.webix_progress_bottom .webix_progress_state{height:17px}\\r\\n.webix_progress_icon{width:100%;height:100%;position:absolute;top:0;left:0;z-index:20}\\r\\n.webix_progress_icon .webix_progress_state{font-family:FontAwesome;font-size:50px;position:absolute;left:50%;top:50%;margin-left:-25px;margin-top:-25px;display:inline-block;color:#b3b3b3}\\r\\n.webix_organogram canvas{position:absolute}\\r\\n.webix_organogram_item{position:absolute;z-index:1;text-align:center;border-radius:4px;background-color:#e3f2fd;border:1px solid #bbdefb;padding:7px 7px 10px;box-sizing:border-box}\\r\\n.webix_organogram_item.webix_selected{background-color:#27ae60;border-color:#27ae60}\\r\\n.webix_organogram_list{border-radius:4px;position:absolute;z-index:1;height:auto;border:1px solid #ddd;box-sizing:border-box}\\r\\n.webix_organogram_list .webix_organogram_list_item{border:none;text-align:left;position:static;padding:5px;border-radius:0;box-sizing:border-box}\\r\\n/*!\\n *  Font Awesome 4.3.0 by @davegandy - http://fontawesome.io - @fontawesome\\n *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)\\n */\\r\\n@font-face{font-family:FontAwesome;src:url(\" + __webpack_require__(17) + \");src:url(\" + __webpack_require__(16) + \"?#iefix&v=4.3.0) format('embedded-opentype'),url(\" + __webpack_require__(23) + \") format('woff'),url(\" + __webpack_require__(19) + \") format('truetype'),url(\" + __webpack_require__(18) + \"#fontawesomeregular) format('svg');font-weight:400;font-style:normal}\\r\\n.fa,.webix_icon,.webix_icon_btn,.webix_input_icon{display:inline-block;font-family:FontAwesome;font-style:normal;font-weight:400;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;transform:translate(0,0)}\\r\\n.fa-lg{font-size:1.33333333em;line-height:.75em;vertical-align:-15%}\\r\\n.fa-2x{font-size:2em}\\r\\n.fa-3x{font-size:3em}\\r\\n.fa-4x{font-size:4em}\\r\\n.fa-5x{font-size:5em}\\r\\n.fa-fw{width:1.28571429em;text-align:center}\\r\\n.fa-ul{padding-left:0;margin-left:2.14285714em;list-style-type:none}\\r\\n.fa-ul>li{position:relative}\\r\\n.fa-li{position:absolute;left:-2.14285714em;width:2.14285714em;top:.14285714em;text-align:center}\\r\\n.fa-li.fa-lg{left:-1.85714286em}\\r\\n.fa-border{padding:.2em .25em .15em;border:.08em solid #eee;border-radius:.1em}\\r\\n.pull-right{float:right}\\r\\n.pull-left{float:left}\\r\\n.fa.pull-left{margin-right:.3em}\\r\\n.fa.pull-right{margin-left:.3em}\\r\\n.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}\\r\\n.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}\\r\\n@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}\\r\\n100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}\\r\\n@keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}\\r\\n100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}\\r\\n.fa-rotate-90{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}\\r\\n.fa-rotate-180{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2);-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}\\r\\n.fa-rotate-270{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3);-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}\\r\\n.fa-flip-horizontal{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1);-webkit-transform:scale(-1,1);-ms-transform:scale(-1,1);transform:scale(-1,1)}\\r\\n.fa-flip-vertical{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1);-webkit-transform:scale(1,-1);-ms-transform:scale(1,-1);transform:scale(1,-1)}\\r\\n:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-rotate-90{filter:none}\\r\\n.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}\\r\\n.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}\\r\\n.fa-stack-1x{line-height:inherit}\\r\\n.fa-stack-2x{font-size:2em}\\r\\n.fa-inverse{color:#fff}\\r\\n.fa-glass:before{content:\\\"\\\\F000\\\"}\\r\\n.fa-music:before{content:\\\"\\\\F001\\\"}\\r\\n.fa-search:before{content:\\\"\\\\F002\\\"}\\r\\n.fa-envelope-o:before{content:\\\"\\\\F003\\\"}\\r\\n.fa-heart:before{content:\\\"\\\\F004\\\"}\\r\\n.fa-star:before{content:\\\"\\\\F005\\\"}\\r\\n.fa-star-o:before{content:\\\"\\\\F006\\\"}\\r\\n.fa-user:before{content:\\\"\\\\F007\\\"}\\r\\n.fa-film:before{content:\\\"\\\\F008\\\"}\\r\\n.fa-th-large:before{content:\\\"\\\\F009\\\"}\\r\\n.fa-th:before{content:\\\"\\\\F00A\\\"}\\r\\n.fa-th-list:before{content:\\\"\\\\F00B\\\"}\\r\\n.fa-check:before{content:\\\"\\\\F00C\\\"}\\r\\n.fa-close:before,.fa-remove:before,.fa-times:before{content:\\\"\\\\F00D\\\"}\\r\\n.fa-search-plus:before{content:\\\"\\\\F00E\\\"}\\r\\n.fa-search-minus:before{content:\\\"\\\\F010\\\"}\\r\\n.fa-power-off:before{content:\\\"\\\\F011\\\"}\\r\\n.fa-signal:before{content:\\\"\\\\F012\\\"}\\r\\n.fa-cog:before,.fa-gear:before{content:\\\"\\\\F013\\\"}\\r\\n.fa-trash-o:before{content:\\\"\\\\F014\\\"}\\r\\n.fa-home:before{content:\\\"\\\\F015\\\"}\\r\\n.fa-file-o:before{content:\\\"\\\\F016\\\"}\\r\\n.fa-clock-o:before{content:\\\"\\\\F017\\\"}\\r\\n.fa-road:before{content:\\\"\\\\F018\\\"}\\r\\n.fa-download:before{content:\\\"\\\\F019\\\"}\\r\\n.fa-arrow-circle-o-down:before{content:\\\"\\\\F01A\\\"}\\r\\n.fa-arrow-circle-o-up:before{content:\\\"\\\\F01B\\\"}\\r\\n.fa-inbox:before{content:\\\"\\\\F01C\\\"}\\r\\n.fa-play-circle-o:before{content:\\\"\\\\F01D\\\"}\\r\\n.fa-repeat:before,.fa-rotate-right:before{content:\\\"\\\\F01E\\\"}\\r\\n.fa-refresh:before{content:\\\"\\\\F021\\\"}\\r\\n.fa-list-alt:before{content:\\\"\\\\F022\\\"}\\r\\n.fa-lock:before{content:\\\"\\\\F023\\\"}\\r\\n.fa-flag:before{content:\\\"\\\\F024\\\"}\\r\\n.fa-headphones:before{content:\\\"\\\\F025\\\"}\\r\\n.fa-volume-off:before{content:\\\"\\\\F026\\\"}\\r\\n.fa-volume-down:before{content:\\\"\\\\F027\\\"}\\r\\n.fa-volume-up:before{content:\\\"\\\\F028\\\"}\\r\\n.fa-qrcode:before{content:\\\"\\\\F029\\\"}\\r\\n.fa-barcode:before{content:\\\"\\\\F02A\\\"}\\r\\n.fa-tag:before{content:\\\"\\\\F02B\\\"}\\r\\n.fa-tags:before{content:\\\"\\\\F02C\\\"}\\r\\n.fa-book:before{content:\\\"\\\\F02D\\\"}\\r\\n.fa-bookmark:before{content:\\\"\\\\F02E\\\"}\\r\\n.fa-print:before{content:\\\"\\\\F02F\\\"}\\r\\n.fa-camera:before{content:\\\"\\\\F030\\\"}\\r\\n.fa-font:before{content:\\\"\\\\F031\\\"}\\r\\n.fa-bold:before{content:\\\"\\\\F032\\\"}\\r\\n.fa-italic:before{content:\\\"\\\\F033\\\"}\\r\\n.fa-text-height:before{content:\\\"\\\\F034\\\"}\\r\\n.fa-text-width:before{content:\\\"\\\\F035\\\"}\\r\\n.fa-align-left:before{content:\\\"\\\\F036\\\"}\\r\\n.fa-align-center:before{content:\\\"\\\\F037\\\"}\\r\\n.fa-align-right:before{content:\\\"\\\\F038\\\"}\\r\\n.fa-align-justify:before{content:\\\"\\\\F039\\\"}\\r\\n.fa-list:before{content:\\\"\\\\F03A\\\"}\\r\\n.fa-dedent:before,.fa-outdent:before{content:\\\"\\\\F03B\\\"}\\r\\n.fa-indent:before{content:\\\"\\\\F03C\\\"}\\r\\n.fa-video-camera:before{content:\\\"\\\\F03D\\\"}\\r\\n.fa-image:before,.fa-photo:before,.fa-picture-o:before{content:\\\"\\\\F03E\\\"}\\r\\n.fa-pencil:before{content:\\\"\\\\F040\\\"}\\r\\n.fa-map-marker:before{content:\\\"\\\\F041\\\"}\\r\\n.fa-adjust:before{content:\\\"\\\\F042\\\"}\\r\\n.fa-tint:before{content:\\\"\\\\F043\\\"}\\r\\n.fa-edit:before,.fa-pencil-square-o:before{content:\\\"\\\\F044\\\"}\\r\\n.fa-share-square-o:before{content:\\\"\\\\F045\\\"}\\r\\n.fa-check-square-o:before{content:\\\"\\\\F046\\\"}\\r\\n.fa-arrows:before{content:\\\"\\\\F047\\\"}\\r\\n.fa-step-backward:before{content:\\\"\\\\F048\\\"}\\r\\n.fa-fast-backward:before{content:\\\"\\\\F049\\\"}\\r\\n.fa-backward:before{content:\\\"\\\\F04A\\\"}\\r\\n.fa-play:before{content:\\\"\\\\F04B\\\"}\\r\\n.fa-pause:before{content:\\\"\\\\F04C\\\"}\\r\\n.fa-stop:before{content:\\\"\\\\F04D\\\"}\\r\\n.fa-forward:before{content:\\\"\\\\F04E\\\"}\\r\\n.fa-fast-forward:before{content:\\\"\\\\F050\\\"}\\r\\n.fa-step-forward:before{content:\\\"\\\\F051\\\"}\\r\\n.fa-eject:before{content:\\\"\\\\F052\\\"}\\r\\n.fa-chevron-left:before{content:\\\"\\\\F053\\\"}\\r\\n.fa-chevron-right:before{content:\\\"\\\\F054\\\"}\\r\\n.fa-plus-circle:before{content:\\\"\\\\F055\\\"}\\r\\n.fa-minus-circle:before{content:\\\"\\\\F056\\\"}\\r\\n.fa-times-circle:before{content:\\\"\\\\F057\\\"}\\r\\n.fa-check-circle:before{content:\\\"\\\\F058\\\"}\\r\\n.fa-question-circle:before{content:\\\"\\\\F059\\\"}\\r\\n.fa-info-circle:before{content:\\\"\\\\F05A\\\"}\\r\\n.fa-crosshairs:before{content:\\\"\\\\F05B\\\"}\\r\\n.fa-times-circle-o:before{content:\\\"\\\\F05C\\\"}\\r\\n.fa-check-circle-o:before{content:\\\"\\\\F05D\\\"}\\r\\n.fa-ban:before{content:\\\"\\\\F05E\\\"}\\r\\n.fa-arrow-left:before{content:\\\"\\\\F060\\\"}\\r\\n.fa-arrow-right:before{content:\\\"\\\\F061\\\"}\\r\\n.fa-arrow-up:before{content:\\\"\\\\F062\\\"}\\r\\n.fa-arrow-down:before{content:\\\"\\\\F063\\\"}\\r\\n.fa-mail-forward:before,.fa-share:before{content:\\\"\\\\F064\\\"}\\r\\n.fa-expand:before{content:\\\"\\\\F065\\\"}\\r\\n.fa-compress:before{content:\\\"\\\\F066\\\"}\\r\\n.fa-plus:before{content:\\\"\\\\F067\\\"}\\r\\n.fa-minus:before{content:\\\"\\\\F068\\\"}\\r\\n.fa-asterisk:before{content:\\\"\\\\F069\\\"}\\r\\n.fa-exclamation-circle:before{content:\\\"\\\\F06A\\\"}\\r\\n.fa-gift:before{content:\\\"\\\\F06B\\\"}\\r\\n.fa-leaf:before{content:\\\"\\\\F06C\\\"}\\r\\n.fa-fire:before{content:\\\"\\\\F06D\\\"}\\r\\n.fa-eye:before{content:\\\"\\\\F06E\\\"}\\r\\n.fa-eye-slash:before{content:\\\"\\\\F070\\\"}\\r\\n.fa-exclamation-triangle:before,.fa-warning:before{content:\\\"\\\\F071\\\"}\\r\\n.fa-plane:before{content:\\\"\\\\F072\\\"}\\r\\n.fa-calendar:before{content:\\\"\\\\F073\\\"}\\r\\n.fa-random:before{content:\\\"\\\\F074\\\"}\\r\\n.fa-comment:before{content:\\\"\\\\F075\\\"}\\r\\n.fa-magnet:before{content:\\\"\\\\F076\\\"}\\r\\n.fa-chevron-up:before{content:\\\"\\\\F077\\\"}\\r\\n.fa-chevron-down:before{content:\\\"\\\\F078\\\"}\\r\\n.fa-retweet:before{content:\\\"\\\\F079\\\"}\\r\\n.fa-shopping-cart:before{content:\\\"\\\\F07A\\\"}\\r\\n.fa-folder:before{content:\\\"\\\\F07B\\\"}\\r\\n.fa-folder-open:before{content:\\\"\\\\F07C\\\"}\\r\\n.fa-arrows-v:before{content:\\\"\\\\F07D\\\"}\\r\\n.fa-arrows-h:before{content:\\\"\\\\F07E\\\"}\\r\\n.fa-bar-chart-o:before,.fa-bar-chart:before{content:\\\"\\\\F080\\\"}\\r\\n.fa-twitter-square:before{content:\\\"\\\\F081\\\"}\\r\\n.fa-facebook-square:before{content:\\\"\\\\F082\\\"}\\r\\n.fa-camera-retro:before{content:\\\"\\\\F083\\\"}\\r\\n.fa-key:before{content:\\\"\\\\F084\\\"}\\r\\n.fa-cogs:before,.fa-gears:before{content:\\\"\\\\F085\\\"}\\r\\n.fa-comments:before{content:\\\"\\\\F086\\\"}\\r\\n.fa-thumbs-o-up:before{content:\\\"\\\\F087\\\"}\\r\\n.fa-thumbs-o-down:before{content:\\\"\\\\F088\\\"}\\r\\n.fa-star-half:before{content:\\\"\\\\F089\\\"}\\r\\n.fa-heart-o:before{content:\\\"\\\\F08A\\\"}\\r\\n.fa-sign-out:before{content:\\\"\\\\F08B\\\"}\\r\\n.fa-linkedin-square:before{content:\\\"\\\\F08C\\\"}\\r\\n.fa-thumb-tack:before{content:\\\"\\\\F08D\\\"}\\r\\n.fa-external-link:before{content:\\\"\\\\F08E\\\"}\\r\\n.fa-sign-in:before{content:\\\"\\\\F090\\\"}\\r\\n.fa-trophy:before{content:\\\"\\\\F091\\\"}\\r\\n.fa-github-square:before{content:\\\"\\\\F092\\\"}\\r\\n.fa-upload:before{content:\\\"\\\\F093\\\"}\\r\\n.fa-lemon-o:before{content:\\\"\\\\F094\\\"}\\r\\n.fa-phone:before{content:\\\"\\\\F095\\\"}\\r\\n.fa-square-o:before{content:\\\"\\\\F096\\\"}\\r\\n.fa-bookmark-o:before{content:\\\"\\\\F097\\\"}\\r\\n.fa-phone-square:before{content:\\\"\\\\F098\\\"}\\r\\n.fa-twitter:before{content:\\\"\\\\F099\\\"}\\r\\n.fa-facebook-f:before,.fa-facebook:before{content:\\\"\\\\F09A\\\"}\\r\\n.fa-github:before{content:\\\"\\\\F09B\\\"}\\r\\n.fa-unlock:before{content:\\\"\\\\F09C\\\"}\\r\\n.fa-credit-card:before{content:\\\"\\\\F09D\\\"}\\r\\n.fa-rss:before{content:\\\"\\\\F09E\\\"}\\r\\n.fa-hdd-o:before{content:\\\"\\\\F0A0\\\"}\\r\\n.fa-bullhorn:before{content:\\\"\\\\F0A1\\\"}\\r\\n.fa-bell:before{content:\\\"\\\\F0F3\\\"}\\r\\n.fa-certificate:before{content:\\\"\\\\F0A3\\\"}\\r\\n.fa-hand-o-right:before{content:\\\"\\\\F0A4\\\"}\\r\\n.fa-hand-o-left:before{content:\\\"\\\\F0A5\\\"}\\r\\n.fa-hand-o-up:before{content:\\\"\\\\F0A6\\\"}\\r\\n.fa-hand-o-down:before{content:\\\"\\\\F0A7\\\"}\\r\\n.fa-arrow-circle-left:before{content:\\\"\\\\F0A8\\\"}\\r\\n.fa-arrow-circle-right:before{content:\\\"\\\\F0A9\\\"}\\r\\n.fa-arrow-circle-up:before{content:\\\"\\\\F0AA\\\"}\\r\\n.fa-arrow-circle-down:before{content:\\\"\\\\F0AB\\\"}\\r\\n.fa-globe:before{content:\\\"\\\\F0AC\\\"}\\r\\n.fa-wrench:before{content:\\\"\\\\F0AD\\\"}\\r\\n.fa-tasks:before{content:\\\"\\\\F0AE\\\"}\\r\\n.fa-filter:before{content:\\\"\\\\F0B0\\\"}\\r\\n.fa-briefcase:before{content:\\\"\\\\F0B1\\\"}\\r\\n.fa-arrows-alt:before{content:\\\"\\\\F0B2\\\"}\\r\\n.fa-group:before,.fa-users:before{content:\\\"\\\\F0C0\\\"}\\r\\n.fa-chain:before,.fa-link:before{content:\\\"\\\\F0C1\\\"}\\r\\n.fa-cloud:before{content:\\\"\\\\F0C2\\\"}\\r\\n.fa-flask:before{content:\\\"\\\\F0C3\\\"}\\r\\n.fa-cut:before,.fa-scissors:before{content:\\\"\\\\F0C4\\\"}\\r\\n.fa-copy:before,.fa-files-o:before{content:\\\"\\\\F0C5\\\"}\\r\\n.fa-paperclip:before{content:\\\"\\\\F0C6\\\"}\\r\\n.fa-floppy-o:before,.fa-save:before{content:\\\"\\\\F0C7\\\"}\\r\\n.fa-square:before{content:\\\"\\\\F0C8\\\"}\\r\\n.fa-bars:before,.fa-navicon:before,.fa-reorder:before{content:\\\"\\\\F0C9\\\"}\\r\\n.fa-list-ul:before{content:\\\"\\\\F0CA\\\"}\\r\\n.fa-list-ol:before{content:\\\"\\\\F0CB\\\"}\\r\\n.fa-strikethrough:before{content:\\\"\\\\F0CC\\\"}\\r\\n.fa-underline:before{content:\\\"\\\\F0CD\\\"}\\r\\n.fa-table:before{content:\\\"\\\\F0CE\\\"}\\r\\n.fa-magic:before{content:\\\"\\\\F0D0\\\"}\\r\\n.fa-truck:before{content:\\\"\\\\F0D1\\\"}\\r\\n.fa-pinterest:before{content:\\\"\\\\F0D2\\\"}\\r\\n.fa-pinterest-square:before{content:\\\"\\\\F0D3\\\"}\\r\\n.fa-google-plus-square:before{content:\\\"\\\\F0D4\\\"}\\r\\n.fa-google-plus:before{content:\\\"\\\\F0D5\\\"}\\r\\n.fa-money:before{content:\\\"\\\\F0D6\\\"}\\r\\n.fa-caret-down:before{content:\\\"\\\\F0D7\\\"}\\r\\n.fa-caret-up:before{content:\\\"\\\\F0D8\\\"}\\r\\n.fa-caret-left:before{content:\\\"\\\\F0D9\\\"}\\r\\n.fa-caret-right:before{content:\\\"\\\\F0DA\\\"}\\r\\n.fa-columns:before{content:\\\"\\\\F0DB\\\"}\\r\\n.fa-sort:before,.fa-unsorted:before{content:\\\"\\\\F0DC\\\"}\\r\\n.fa-sort-desc:before,.fa-sort-down:before{content:\\\"\\\\F0DD\\\"}\\r\\n.fa-sort-asc:before,.fa-sort-up:before{content:\\\"\\\\F0DE\\\"}\\r\\n.fa-envelope:before{content:\\\"\\\\F0E0\\\"}\\r\\n.fa-linkedin:before{content:\\\"\\\\F0E1\\\"}\\r\\n.fa-rotate-left:before,.fa-undo:before{content:\\\"\\\\F0E2\\\"}\\r\\n.fa-gavel:before,.fa-legal:before{content:\\\"\\\\F0E3\\\"}\\r\\n.fa-dashboard:before,.fa-tachometer:before{content:\\\"\\\\F0E4\\\"}\\r\\n.fa-comment-o:before{content:\\\"\\\\F0E5\\\"}\\r\\n.fa-comments-o:before{content:\\\"\\\\F0E6\\\"}\\r\\n.fa-bolt:before,.fa-flash:before{content:\\\"\\\\F0E7\\\"}\\r\\n.fa-sitemap:before{content:\\\"\\\\F0E8\\\"}\\r\\n.fa-umbrella:before{content:\\\"\\\\F0E9\\\"}\\r\\n.fa-clipboard:before,.fa-paste:before{content:\\\"\\\\F0EA\\\"}\\r\\n.fa-lightbulb-o:before{content:\\\"\\\\F0EB\\\"}\\r\\n.fa-exchange:before{content:\\\"\\\\F0EC\\\"}\\r\\n.fa-cloud-download:before{content:\\\"\\\\F0ED\\\"}\\r\\n.fa-cloud-upload:before{content:\\\"\\\\F0EE\\\"}\\r\\n.fa-user-md:before{content:\\\"\\\\F0F0\\\"}\\r\\n.fa-stethoscope:before{content:\\\"\\\\F0F1\\\"}\\r\\n.fa-suitcase:before{content:\\\"\\\\F0F2\\\"}\\r\\n.fa-bell-o:before{content:\\\"\\\\F0A2\\\"}\\r\\n.fa-coffee:before{content:\\\"\\\\F0F4\\\"}\\r\\n.fa-cutlery:before{content:\\\"\\\\F0F5\\\"}\\r\\n.fa-file-text-o:before{content:\\\"\\\\F0F6\\\"}\\r\\n.fa-building-o:before{content:\\\"\\\\F0F7\\\"}\\r\\n.fa-hospital-o:before{content:\\\"\\\\F0F8\\\"}\\r\\n.fa-ambulance:before{content:\\\"\\\\F0F9\\\"}\\r\\n.fa-medkit:before{content:\\\"\\\\F0FA\\\"}\\r\\n.fa-fighter-jet:before{content:\\\"\\\\F0FB\\\"}\\r\\n.fa-beer:before{content:\\\"\\\\F0FC\\\"}\\r\\n.fa-h-square:before{content:\\\"\\\\F0FD\\\"}\\r\\n.fa-plus-square:before{content:\\\"\\\\F0FE\\\"}\\r\\n.fa-angle-double-left:before{content:\\\"\\\\F100\\\"}\\r\\n.fa-angle-double-right:before{content:\\\"\\\\F101\\\"}\\r\\n.fa-angle-double-up:before{content:\\\"\\\\F102\\\"}\\r\\n.fa-angle-double-down:before{content:\\\"\\\\F103\\\"}\\r\\n.fa-angle-left:before{content:\\\"\\\\F104\\\"}\\r\\n.fa-angle-right:before{content:\\\"\\\\F105\\\"}\\r\\n.fa-angle-up:before{content:\\\"\\\\F106\\\"}\\r\\n.fa-angle-down:before{content:\\\"\\\\F107\\\"}\\r\\n.fa-desktop:before{content:\\\"\\\\F108\\\"}\\r\\n.fa-laptop:before{content:\\\"\\\\F109\\\"}\\r\\n.fa-tablet:before{content:\\\"\\\\F10A\\\"}\\r\\n.fa-mobile-phone:before,.fa-mobile:before{content:\\\"\\\\F10B\\\"}\\r\\n.fa-circle-o:before{content:\\\"\\\\F10C\\\"}\\r\\n.fa-quote-left:before{content:\\\"\\\\F10D\\\"}\\r\\n.fa-quote-right:before{content:\\\"\\\\F10E\\\"}\\r\\n.fa-spinner:before{content:\\\"\\\\F110\\\"}\\r\\n.fa-circle:before{content:\\\"\\\\F111\\\"}\\r\\n.fa-mail-reply:before,.fa-reply:before{content:\\\"\\\\F112\\\"}\\r\\n.fa-github-alt:before{content:\\\"\\\\F113\\\"}\\r\\n.fa-folder-o:before{content:\\\"\\\\F114\\\"}\\r\\n.fa-folder-open-o:before{content:\\\"\\\\F115\\\"}\\r\\n.fa-smile-o:before{content:\\\"\\\\F118\\\"}\\r\\n.fa-frown-o:before{content:\\\"\\\\F119\\\"}\\r\\n.fa-meh-o:before{content:\\\"\\\\F11A\\\"}\\r\\n.fa-gamepad:before{content:\\\"\\\\F11B\\\"}\\r\\n.fa-keyboard-o:before{content:\\\"\\\\F11C\\\"}\\r\\n.fa-flag-o:before{content:\\\"\\\\F11D\\\"}\\r\\n.fa-flag-checkered:before{content:\\\"\\\\F11E\\\"}\\r\\n.fa-terminal:before{content:\\\"\\\\F120\\\"}\\r\\n.fa-code:before{content:\\\"\\\\F121\\\"}\\r\\n.fa-mail-reply-all:before,.fa-reply-all:before{content:\\\"\\\\F122\\\"}\\r\\n.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:\\\"\\\\F123\\\"}\\r\\n.fa-location-arrow:before{content:\\\"\\\\F124\\\"}\\r\\n.fa-crop:before{content:\\\"\\\\F125\\\"}\\r\\n.fa-code-fork:before{content:\\\"\\\\F126\\\"}\\r\\n.fa-chain-broken:before,.fa-unlink:before{content:\\\"\\\\F127\\\"}\\r\\n.fa-question:before{content:\\\"\\\\F128\\\"}\\r\\n.fa-info:before{content:\\\"\\\\F129\\\"}\\r\\n.fa-exclamation:before{content:\\\"\\\\F12A\\\"}\\r\\n.fa-superscript:before{content:\\\"\\\\F12B\\\"}\\r\\n.fa-subscript:before{content:\\\"\\\\F12C\\\"}\\r\\n.fa-eraser:before{content:\\\"\\\\F12D\\\"}\\r\\n.fa-puzzle-piece:before{content:\\\"\\\\F12E\\\"}\\r\\n.fa-microphone:before{content:\\\"\\\\F130\\\"}\\r\\n.fa-microphone-slash:before{content:\\\"\\\\F131\\\"}\\r\\n.fa-shield:before{content:\\\"\\\\F132\\\"}\\r\\n.fa-calendar-o:before{content:\\\"\\\\F133\\\"}\\r\\n.fa-fire-extinguisher:before{content:\\\"\\\\F134\\\"}\\r\\n.fa-rocket:before{content:\\\"\\\\F135\\\"}\\r\\n.fa-maxcdn:before{content:\\\"\\\\F136\\\"}\\r\\n.fa-chevron-circle-left:before{content:\\\"\\\\F137\\\"}\\r\\n.fa-chevron-circle-right:before{content:\\\"\\\\F138\\\"}\\r\\n.fa-chevron-circle-up:before{content:\\\"\\\\F139\\\"}\\r\\n.fa-chevron-circle-down:before{content:\\\"\\\\F13A\\\"}\\r\\n.fa-html5:before{content:\\\"\\\\F13B\\\"}\\r\\n.fa-css3:before{content:\\\"\\\\F13C\\\"}\\r\\n.fa-anchor:before{content:\\\"\\\\F13D\\\"}\\r\\n.fa-unlock-alt:before{content:\\\"\\\\F13E\\\"}\\r\\n.fa-bullseye:before{content:\\\"\\\\F140\\\"}\\r\\n.fa-ellipsis-h:before{content:\\\"\\\\F141\\\"}\\r\\n.fa-ellipsis-v:before{content:\\\"\\\\F142\\\"}\\r\\n.fa-rss-square:before{content:\\\"\\\\F143\\\"}\\r\\n.fa-play-circle:before{content:\\\"\\\\F144\\\"}\\r\\n.fa-ticket:before{content:\\\"\\\\F145\\\"}\\r\\n.fa-minus-square:before{content:\\\"\\\\F146\\\"}\\r\\n.fa-minus-square-o:before{content:\\\"\\\\F147\\\"}\\r\\n.fa-level-up:before{content:\\\"\\\\F148\\\"}\\r\\n.fa-level-down:before{content:\\\"\\\\F149\\\"}\\r\\n.fa-check-square:before{content:\\\"\\\\F14A\\\"}\\r\\n.fa-pencil-square:before{content:\\\"\\\\F14B\\\"}\\r\\n.fa-external-link-square:before{content:\\\"\\\\F14C\\\"}\\r\\n.fa-share-square:before{content:\\\"\\\\F14D\\\"}\\r\\n.fa-compass:before{content:\\\"\\\\F14E\\\"}\\r\\n.fa-caret-square-o-down:before,.fa-toggle-down:before{content:\\\"\\\\F150\\\"}\\r\\n.fa-caret-square-o-up:before,.fa-toggle-up:before{content:\\\"\\\\F151\\\"}\\r\\n.fa-caret-square-o-right:before,.fa-toggle-right:before{content:\\\"\\\\F152\\\"}\\r\\n.fa-eur:before,.fa-euro:before{content:\\\"\\\\F153\\\"}\\r\\n.fa-gbp:before{content:\\\"\\\\F154\\\"}\\r\\n.fa-dollar:before,.fa-usd:before{content:\\\"\\\\F155\\\"}\\r\\n.fa-inr:before,.fa-rupee:before{content:\\\"\\\\F156\\\"}\\r\\n.fa-cny:before,.fa-jpy:before,.fa-rmb:before,.fa-yen:before{content:\\\"\\\\F157\\\"}\\r\\n.fa-rouble:before,.fa-rub:before,.fa-ruble:before{content:\\\"\\\\F158\\\"}\\r\\n.fa-krw:before,.fa-won:before{content:\\\"\\\\F159\\\"}\\r\\n.fa-bitcoin:before,.fa-btc:before{content:\\\"\\\\F15A\\\"}\\r\\n.fa-file:before{content:\\\"\\\\F15B\\\"}\\r\\n.fa-file-text:before{content:\\\"\\\\F15C\\\"}\\r\\n.fa-sort-alpha-asc:before{content:\\\"\\\\F15D\\\"}\\r\\n.fa-sort-alpha-desc:before{content:\\\"\\\\F15E\\\"}\\r\\n.fa-sort-amount-asc:before{content:\\\"\\\\F160\\\"}\\r\\n.fa-sort-amount-desc:before{content:\\\"\\\\F161\\\"}\\r\\n.fa-sort-numeric-asc:before{content:\\\"\\\\F162\\\"}\\r\\n.fa-sort-numeric-desc:before{content:\\\"\\\\F163\\\"}\\r\\n.fa-thumbs-up:before{content:\\\"\\\\F164\\\"}\\r\\n.fa-thumbs-down:before{content:\\\"\\\\F165\\\"}\\r\\n.fa-youtube-square:before{content:\\\"\\\\F166\\\"}\\r\\n.fa-youtube:before{content:\\\"\\\\F167\\\"}\\r\\n.fa-xing:before{content:\\\"\\\\F168\\\"}\\r\\n.fa-xing-square:before{content:\\\"\\\\F169\\\"}\\r\\n.fa-youtube-play:before{content:\\\"\\\\F16A\\\"}\\r\\n.fa-dropbox:before{content:\\\"\\\\F16B\\\"}\\r\\n.fa-stack-overflow:before{content:\\\"\\\\F16C\\\"}\\r\\n.fa-instagram:before{content:\\\"\\\\F16D\\\"}\\r\\n.fa-flickr:before{content:\\\"\\\\F16E\\\"}\\r\\n.fa-adn:before{content:\\\"\\\\F170\\\"}\\r\\n.fa-bitbucket:before{content:\\\"\\\\F171\\\"}\\r\\n.fa-bitbucket-square:before{content:\\\"\\\\F172\\\"}\\r\\n.fa-tumblr:before{content:\\\"\\\\F173\\\"}\\r\\n.fa-tumblr-square:before{content:\\\"\\\\F174\\\"}\\r\\n.fa-long-arrow-down:before{content:\\\"\\\\F175\\\"}\\r\\n.fa-long-arrow-up:before{content:\\\"\\\\F176\\\"}\\r\\n.fa-long-arrow-left:before{content:\\\"\\\\F177\\\"}\\r\\n.fa-long-arrow-right:before{content:\\\"\\\\F178\\\"}\\r\\n.fa-apple:before{content:\\\"\\\\F179\\\"}\\r\\n.fa-windows:before{content:\\\"\\\\F17A\\\"}\\r\\n.fa-android:before{content:\\\"\\\\F17B\\\"}\\r\\n.fa-linux:before{content:\\\"\\\\F17C\\\"}\\r\\n.fa-dribbble:before{content:\\\"\\\\F17D\\\"}\\r\\n.fa-skype:before{content:\\\"\\\\F17E\\\"}\\r\\n.fa-foursquare:before{content:\\\"\\\\F180\\\"}\\r\\n.fa-trello:before{content:\\\"\\\\F181\\\"}\\r\\n.fa-female:before{content:\\\"\\\\F182\\\"}\\r\\n.fa-male:before{content:\\\"\\\\F183\\\"}\\r\\n.fa-gittip:before,.fa-gratipay:before{content:\\\"\\\\F184\\\"}\\r\\n.fa-sun-o:before{content:\\\"\\\\F185\\\"}\\r\\n.fa-moon-o:before{content:\\\"\\\\F186\\\"}\\r\\n.fa-archive:before{content:\\\"\\\\F187\\\"}\\r\\n.fa-bug:before{content:\\\"\\\\F188\\\"}\\r\\n.fa-vk:before{content:\\\"\\\\F189\\\"}\\r\\n.fa-weibo:before{content:\\\"\\\\F18A\\\"}\\r\\n.fa-renren:before{content:\\\"\\\\F18B\\\"}\\r\\n.fa-pagelines:before{content:\\\"\\\\F18C\\\"}\\r\\n.fa-stack-exchange:before{content:\\\"\\\\F18D\\\"}\\r\\n.fa-arrow-circle-o-right:before{content:\\\"\\\\F18E\\\"}\\r\\n.fa-arrow-circle-o-left:before{content:\\\"\\\\F190\\\"}\\r\\n.fa-caret-square-o-left:before,.fa-toggle-left:before{content:\\\"\\\\F191\\\"}\\r\\n.fa-dot-circle-o:before{content:\\\"\\\\F192\\\"}\\r\\n.fa-wheelchair:before{content:\\\"\\\\F193\\\"}\\r\\n.fa-vimeo-square:before{content:\\\"\\\\F194\\\"}\\r\\n.fa-try:before,.fa-turkish-lira:before{content:\\\"\\\\F195\\\"}\\r\\n.fa-plus-square-o:before{content:\\\"\\\\F196\\\"}\\r\\n.fa-space-shuttle:before{content:\\\"\\\\F197\\\"}\\r\\n.fa-slack:before{content:\\\"\\\\F198\\\"}\\r\\n.fa-envelope-square:before{content:\\\"\\\\F199\\\"}\\r\\n.fa-wordpress:before{content:\\\"\\\\F19A\\\"}\\r\\n.fa-openid:before{content:\\\"\\\\F19B\\\"}\\r\\n.fa-bank:before,.fa-institution:before,.fa-university:before{content:\\\"\\\\F19C\\\"}\\r\\n.fa-graduation-cap:before,.fa-mortar-board:before{content:\\\"\\\\F19D\\\"}\\r\\n.fa-yahoo:before{content:\\\"\\\\F19E\\\"}\\r\\n.fa-google:before{content:\\\"\\\\F1A0\\\"}\\r\\n.fa-reddit:before{content:\\\"\\\\F1A1\\\"}\\r\\n.fa-reddit-square:before{content:\\\"\\\\F1A2\\\"}\\r\\n.fa-stumbleupon-circle:before{content:\\\"\\\\F1A3\\\"}\\r\\n.fa-stumbleupon:before{content:\\\"\\\\F1A4\\\"}\\r\\n.fa-delicious:before{content:\\\"\\\\F1A5\\\"}\\r\\n.fa-digg:before{content:\\\"\\\\F1A6\\\"}\\r\\n.fa-pied-piper:before{content:\\\"\\\\F1A7\\\"}\\r\\n.fa-pied-piper-alt:before{content:\\\"\\\\F1A8\\\"}\\r\\n.fa-drupal:before{content:\\\"\\\\F1A9\\\"}\\r\\n.fa-joomla:before{content:\\\"\\\\F1AA\\\"}\\r\\n.fa-language:before{content:\\\"\\\\F1AB\\\"}\\r\\n.fa-fax:before{content:\\\"\\\\F1AC\\\"}\\r\\n.fa-building:before{content:\\\"\\\\F1AD\\\"}\\r\\n.fa-child:before{content:\\\"\\\\F1AE\\\"}\\r\\n.fa-paw:before{content:\\\"\\\\F1B0\\\"}\\r\\n.fa-spoon:before{content:\\\"\\\\F1B1\\\"}\\r\\n.fa-cube:before{content:\\\"\\\\F1B2\\\"}\\r\\n.fa-cubes:before{content:\\\"\\\\F1B3\\\"}\\r\\n.fa-behance:before{content:\\\"\\\\F1B4\\\"}\\r\\n.fa-behance-square:before{content:\\\"\\\\F1B5\\\"}\\r\\n.fa-steam:before{content:\\\"\\\\F1B6\\\"}\\r\\n.fa-steam-square:before{content:\\\"\\\\F1B7\\\"}\\r\\n.fa-recycle:before{content:\\\"\\\\F1B8\\\"}\\r\\n.fa-automobile:before,.fa-car:before{content:\\\"\\\\F1B9\\\"}\\r\\n.fa-cab:before,.fa-taxi:before{content:\\\"\\\\F1BA\\\"}\\r\\n.fa-tree:before{content:\\\"\\\\F1BB\\\"}\\r\\n.fa-spotify:before{content:\\\"\\\\F1BC\\\"}\\r\\n.fa-deviantart:before{content:\\\"\\\\F1BD\\\"}\\r\\n.fa-soundcloud:before{content:\\\"\\\\F1BE\\\"}\\r\\n.fa-database:before{content:\\\"\\\\F1C0\\\"}\\r\\n.fa-file-pdf-o:before{content:\\\"\\\\F1C1\\\"}\\r\\n.fa-file-word-o:before{content:\\\"\\\\F1C2\\\"}\\r\\n.fa-file-excel-o:before{content:\\\"\\\\F1C3\\\"}\\r\\n.fa-file-powerpoint-o:before{content:\\\"\\\\F1C4\\\"}\\r\\n.fa-file-image-o:before,.fa-file-photo-o:before,.fa-file-picture-o:before{content:\\\"\\\\F1C5\\\"}\\r\\n.fa-file-archive-o:before,.fa-file-zip-o:before{content:\\\"\\\\F1C6\\\"}\\r\\n.fa-file-audio-o:before,.fa-file-sound-o:before{content:\\\"\\\\F1C7\\\"}\\r\\n.fa-file-movie-o:before,.fa-file-video-o:before{content:\\\"\\\\F1C8\\\"}\\r\\n.fa-file-code-o:before{content:\\\"\\\\F1C9\\\"}\\r\\n.fa-vine:before{content:\\\"\\\\F1CA\\\"}\\r\\n.fa-codepen:before{content:\\\"\\\\F1CB\\\"}\\r\\n.fa-jsfiddle:before{content:\\\"\\\\F1CC\\\"}\\r\\n.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-ring:before,.fa-life-saver:before,.fa-support:before{content:\\\"\\\\F1CD\\\"}\\r\\n.fa-circle-o-notch:before{content:\\\"\\\\F1CE\\\"}\\r\\n.fa-ra:before,.fa-rebel:before{content:\\\"\\\\F1D0\\\"}\\r\\n.fa-empire:before,.fa-ge:before{content:\\\"\\\\F1D1\\\"}\\r\\n.fa-git-square:before{content:\\\"\\\\F1D2\\\"}\\r\\n.fa-git:before{content:\\\"\\\\F1D3\\\"}\\r\\n.fa-hacker-news:before{content:\\\"\\\\F1D4\\\"}\\r\\n.fa-tencent-weibo:before{content:\\\"\\\\F1D5\\\"}\\r\\n.fa-qq:before{content:\\\"\\\\F1D6\\\"}\\r\\n.fa-wechat:before,.fa-weixin:before{content:\\\"\\\\F1D7\\\"}\\r\\n.fa-paper-plane:before,.fa-send:before{content:\\\"\\\\F1D8\\\"}\\r\\n.fa-paper-plane-o:before,.fa-send-o:before{content:\\\"\\\\F1D9\\\"}\\r\\n.fa-history:before{content:\\\"\\\\F1DA\\\"}\\r\\n.fa-circle-thin:before,.fa-genderless:before{content:\\\"\\\\F1DB\\\"}\\r\\n.fa-header:before{content:\\\"\\\\F1DC\\\"}\\r\\n.fa-paragraph:before{content:\\\"\\\\F1DD\\\"}\\r\\n.fa-sliders:before{content:\\\"\\\\F1DE\\\"}\\r\\n.fa-share-alt:before{content:\\\"\\\\F1E0\\\"}\\r\\n.fa-share-alt-square:before{content:\\\"\\\\F1E1\\\"}\\r\\n.fa-bomb:before{content:\\\"\\\\F1E2\\\"}\\r\\n.fa-futbol-o:before,.fa-soccer-ball-o:before{content:\\\"\\\\F1E3\\\"}\\r\\n.fa-tty:before{content:\\\"\\\\F1E4\\\"}\\r\\n.fa-binoculars:before{content:\\\"\\\\F1E5\\\"}\\r\\n.fa-plug:before{content:\\\"\\\\F1E6\\\"}\\r\\n.fa-slideshare:before{content:\\\"\\\\F1E7\\\"}\\r\\n.fa-twitch:before{content:\\\"\\\\F1E8\\\"}\\r\\n.fa-yelp:before{content:\\\"\\\\F1E9\\\"}\\r\\n.fa-newspaper-o:before{content:\\\"\\\\F1EA\\\"}\\r\\n.fa-wifi:before{content:\\\"\\\\F1EB\\\"}\\r\\n.fa-calculator:before{content:\\\"\\\\F1EC\\\"}\\r\\n.fa-paypal:before{content:\\\"\\\\F1ED\\\"}\\r\\n.fa-google-wallet:before{content:\\\"\\\\F1EE\\\"}\\r\\n.fa-cc-visa:before{content:\\\"\\\\F1F0\\\"}\\r\\n.fa-cc-mastercard:before{content:\\\"\\\\F1F1\\\"}\\r\\n.fa-cc-discover:before{content:\\\"\\\\F1F2\\\"}\\r\\n.fa-cc-amex:before{content:\\\"\\\\F1F3\\\"}\\r\\n.fa-cc-paypal:before{content:\\\"\\\\F1F4\\\"}\\r\\n.fa-cc-stripe:before{content:\\\"\\\\F1F5\\\"}\\r\\n.fa-bell-slash:before{content:\\\"\\\\F1F6\\\"}\\r\\n.fa-bell-slash-o:before{content:\\\"\\\\F1F7\\\"}\\r\\n.fa-trash:before{content:\\\"\\\\F1F8\\\"}\\r\\n.fa-copyright:before{content:\\\"\\\\F1F9\\\"}\\r\\n.fa-at:before{content:\\\"\\\\F1FA\\\"}\\r\\n.fa-eyedropper:before{content:\\\"\\\\F1FB\\\"}\\r\\n.fa-paint-brush:before{content:\\\"\\\\F1FC\\\"}\\r\\n.fa-birthday-cake:before{content:\\\"\\\\F1FD\\\"}\\r\\n.fa-area-chart:before{content:\\\"\\\\F1FE\\\"}\\r\\n.fa-pie-chart:before{content:\\\"\\\\F200\\\"}\\r\\n.fa-line-chart:before{content:\\\"\\\\F201\\\"}\\r\\n.fa-lastfm:before{content:\\\"\\\\F202\\\"}\\r\\n.fa-lastfm-square:before{content:\\\"\\\\F203\\\"}\\r\\n.fa-toggle-off:before{content:\\\"\\\\F204\\\"}\\r\\n.fa-toggle-on:before{content:\\\"\\\\F205\\\"}\\r\\n.fa-bicycle:before{content:\\\"\\\\F206\\\"}\\r\\n.fa-bus:before{content:\\\"\\\\F207\\\"}\\r\\n.fa-ioxhost:before{content:\\\"\\\\F208\\\"}\\r\\n.fa-angellist:before{content:\\\"\\\\F209\\\"}\\r\\n.fa-cc:before{content:\\\"\\\\F20A\\\"}\\r\\n.fa-ils:before,.fa-shekel:before,.fa-sheqel:before{content:\\\"\\\\F20B\\\"}\\r\\n.fa-meanpath:before{content:\\\"\\\\F20C\\\"}\\r\\n.fa-buysellads:before{content:\\\"\\\\F20D\\\"}\\r\\n.fa-connectdevelop:before{content:\\\"\\\\F20E\\\"}\\r\\n.fa-dashcube:before{content:\\\"\\\\F210\\\"}\\r\\n.fa-forumbee:before{content:\\\"\\\\F211\\\"}\\r\\n.fa-leanpub:before{content:\\\"\\\\F212\\\"}\\r\\n.fa-sellsy:before{content:\\\"\\\\F213\\\"}\\r\\n.fa-shirtsinbulk:before{content:\\\"\\\\F214\\\"}\\r\\n.fa-simplybuilt:before{content:\\\"\\\\F215\\\"}\\r\\n.fa-skyatlas:before{content:\\\"\\\\F216\\\"}\\r\\n.fa-cart-plus:before{content:\\\"\\\\F217\\\"}\\r\\n.fa-cart-arrow-down:before{content:\\\"\\\\F218\\\"}\\r\\n.fa-diamond:before{content:\\\"\\\\F219\\\"}\\r\\n.fa-ship:before{content:\\\"\\\\F21A\\\"}\\r\\n.fa-user-secret:before{content:\\\"\\\\F21B\\\"}\\r\\n.fa-motorcycle:before{content:\\\"\\\\F21C\\\"}\\r\\n.fa-street-view:before{content:\\\"\\\\F21D\\\"}\\r\\n.fa-heartbeat:before{content:\\\"\\\\F21E\\\"}\\r\\n.fa-venus:before{content:\\\"\\\\F221\\\"}\\r\\n.fa-mars:before{content:\\\"\\\\F222\\\"}\\r\\n.fa-mercury:before{content:\\\"\\\\F223\\\"}\\r\\n.fa-transgender:before{content:\\\"\\\\F224\\\"}\\r\\n.fa-transgender-alt:before{content:\\\"\\\\F225\\\"}\\r\\n.fa-venus-double:before{content:\\\"\\\\F226\\\"}\\r\\n.fa-mars-double:before{content:\\\"\\\\F227\\\"}\\r\\n.fa-venus-mars:before{content:\\\"\\\\F228\\\"}\\r\\n.fa-mars-stroke:before{content:\\\"\\\\F229\\\"}\\r\\n.fa-mars-stroke-v:before{content:\\\"\\\\F22A\\\"}\\r\\n.fa-mars-stroke-h:before{content:\\\"\\\\F22B\\\"}\\r\\n.fa-neuter:before{content:\\\"\\\\F22C\\\"}\\r\\n.fa-facebook-official:before{content:\\\"\\\\F230\\\"}\\r\\n.fa-pinterest-p:before{content:\\\"\\\\F231\\\"}\\r\\n.fa-whatsapp:before{content:\\\"\\\\F232\\\"}\\r\\n.fa-server:before{content:\\\"\\\\F233\\\"}\\r\\n.fa-user-plus:before{content:\\\"\\\\F234\\\"}\\r\\n.fa-user-times:before{content:\\\"\\\\F235\\\"}\\r\\n.fa-bed:before,.fa-hotel:before{content:\\\"\\\\F236\\\"}\\r\\n.fa-viacoin:before{content:\\\"\\\\F237\\\"}\\r\\n.fa-train:before{content:\\\"\\\\F238\\\"}\\r\\n.fa-subway:before{content:\\\"\\\\F239\\\"}\\r\\n.fa-medium:before{content:\\\"\\\\F23A\\\"}\\r\\n.webix_icon,.webix_input_icon{font-size:17px;display:inline-block;width:20px}\\r\\n.webix_input_icon{float:right;font-size:19px;color:#888}\\r\\n.webix_icon_button{background-color:transparent;border:none;padding:0;cursor:pointer;position:relative}\\r\\n.webix_icon_button .webix_icon{font-size:20px;height:23px;width:21px;display:inline-block;text-align:center;color:#606060}\\r\\n.webix_icon_btn{font-size:17px;display:inline-block;text-align:center;width:24px;color:#606060}\\r\\n.webix_el_iconBbutton .webix_icon_btn{text-align:center;width:100%;padding:5px 0}\\r\\n.webix_el_icon{cursor:pointer}\\r\\n.webix_badge{background-color:#ff8839;color:#fff;border-radius:50%;font-size:12px;height:22px;min-width:22px;box-sizing:border-box;padding:0 4px;text-align:center;line-height:21px;position:absolute;right:0;top:0}\\r\\n.webix_list_item .webix_badge{position:static;float:right;margin:4px -5px 0 10px}\\r\\n.webixtype_base .webix_badge{top:50%;margin-top:-11px;margin-right:8px}\\r\\n.webix_treemap{background-color:#f5f5f5}\\r\\n.webix_treemap .webix_scroll_cont{position:relative;height:100%;width:100%}\\r\\n.webix_treemap_item{position:absolute;color:#444;overflow:hidden;text-align:left;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;padding:3px 5px;border-width:0 1px 1px 0;border-style:solid;border-color:rgba(0,0,0,.2);background:0 0}\\r\\n.webix_treemap_level_top{z-index:1;border-color:rgba(0,0,0,.4)}\\r\\n.webix_treemap_item_bottom{border-bottom-width:0}\\r\\n.webix_treemap_item_right{border-right-width:0}\\r\\n.webix_treemap_item:hover{box-shadow:inset 0 0 5px #666}\\r\\n.webix_treemap_item.webix_selected{border-color:#27ae60;box-shadow:inset 0 0 1px 2px #27ae60}\\r\\n.webix_treemap_header{width:100%;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 10px;border-bottom:1px solid #ddd}\\r\\n.webix_treemap_header_item{cursor:pointer}\\r\\n.webix_treemap_header_item:last-child{cursor:default}\\r\\n.webix_treemap_reset{float:right;width:25px;text-align:center}\\r\\n.webix_treemap_reset:before{content:\\\"\\\\F00D\\\";color:#666;font-family:FontAwesome;font-size:16px;display:block;cursor:pointer}\\r\\n.webix_treemap_path_icon{width:20px;text-align:center}\\r\\n.webix_barcode{position:relative}\\r\\n.webix_barcode .webix_canvas_text{font-size:15px;padding:0 2px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.portlet_drag{position:absolute;z-index:1;top:5px;right:5px;width:18px;opacity:.5;cursor:pointer}\\r\\n.portlet_in_drag{opacity:.4}\\r\\n.portlet_marker,.portlet_markerbottom,.portlet_markerleft,.portlet_markerright,.portlet_markertop{opacity:.5;background:#9169BE;position:absolute;transition:top .5s,left .5s,width .5s,height .5s;top:0;left:0;width:100%;height:100%}\\r\\n.portlet_markertop{height:50%}\\r\\n.portlet_markerbottom{height:50%;top:50%}\\r\\n.portlet_markerleft{width:50%}\\r\\n.portlet_markerright{width:50%;left:50%}\\r\\n.webix_popup.webix_sidemenu.webix_sidemenu_left{border-width:0 1px 0 0;box-shadow:2px 0 2px rgba(0,0,0,.05)}\\r\\n.webix_sidemenu_left.webix_animate{transition:left .6s}\\r\\n.webix_popup.webix_sidemenu.webix_sidemenu_right{left:auto;border-width:0 0 0 1px;box-shadow:-2px 0 2px rgba(0,0,0,.05)}\\r\\n.webix_sidemenu_right.webix_animate{transition:right .6s}\\r\\n.webix_popup.webix_sidemenu.webix_sidemenu_top{border-width:0 0 1px;box-shadow:0 2px 2px rgba(0,0,0,.05)}\\r\\n.webix_sidemenu_top .webix_win_body{position:relative}\\r\\n.webix_sidemenu_top .webix_win_body>.webix_view{position:absolute;top:auto;left:0;bottom:0}\\r\\n.webix_sidemenu_top.webix_animate,.webix_sidemenu_top.webix_animate .webix_win_body{transition:height .6s}\\r\\n.webix_popup.webix_sidemenu.webix_sidemenu_bottom{border-width:1px 0 0;top:auto;box-shadow:0 -2px 2px rgba(0,0,0,.05)}\\r\\n.webix_sidemenu_bottom.webix_animate,.webix_sidemenu_bottom.webix_animate .webix_win_body{transition:height .6s}\\r\\n.webix_view.webix_pdf{background-color:#404040;overflow:auto;-webkit-overflow-scrolling:touch}\\r\\n.webix_pdf .canvas_wrapper{margin:0 auto;box-shadow:5px 5px 15px #1c1c1c;width:100%;height:100%}\\r\\n.webix_toolbar.pdf_bar{background-color:#474747}\\r\\n.webix_toolbar.pdf_bar .webix_icon_btn{font-size:15px}\\r\\n.webix_toolbar.pdf_bar .webix_img_btn:focus,.webix_toolbar.pdf_bar .webix_img_btn:hover{background-color:#404040}\\r\\n.webix_toolbar.pdf_bar .webix_template{background-color:#3498db;color:#fff;line-height:2em}\\r\\n.webix_toolbar.pdf_bar .webix_el_box input,.webix_toolbar.pdf_bar .webix_inp_static{background-color:#5c5c5c;color:#fff;border-color:#404040}\\r\\n.webix_toolbar.pdf_bar .webix_el_box input:focus,.webix_toolbar.pdf_bar .webix_inp_static:focus{border-color:#333}\\r\\n.webix_toolbar.pdf_bar .webix_el_box .webix_input_icon{color:#fff}\\r\\n.webix_view.webix_popup.pdf_opt_list{box-shadow:5px 5px 15px #1c1c1c;border:none}\\r\\n.pdf_opt_list .webix_list{background-color:#404040;color:#fff}\\r\\n.pdf_opt_list .webix_list .webix_list_item{border-color:#474747;line-height:1.5em}\\r\\n.pdf_opt_list .webix_list .webix_list_item.webix_selected,.pdf_opt_list .webix_list .webix_list_item:hover{color:#404040;background-color:#fff}\\r\\n@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;src:local('PT Sans'),local('PTSans-Regular'),url(\" + __webpack_require__(22) + \") format('woff')}\\r\\n@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;src:local('PT Sans Bold'),local('PTSans-Bold'),url(\" + __webpack_require__(21) + \") format('woff')}\\r\\n.mainFont{font-family:'PT Sans',Tahoma;font-size:15px;color:#666}\\r\\n.webix_layout_toolbar.webix_toolbar{color:#fff;font-size:18px;background:#3498db}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_el_button,.webix_layout_toolbar.webix_toolbar .webix_el_label,.webix_layout_toolbar.webix_toolbar .webix_inp_label{color:#fff}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_el_label{font-size:18px}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_inp_counter_next,.webix_layout_toolbar.webix_toolbar .webix_inp_counter_prev,.webix_layout_toolbar.webix_toolbar .webix_segment_0,.webix_layout_toolbar.webix_toolbar .webix_segment_1,.webix_layout_toolbar.webix_toolbar .webix_segment_N,.webix_layout_toolbar.webix_toolbar .webixtype_base,.webix_layout_toolbar.webix_toolbar .webixtype_next,.webix_layout_toolbar.webix_toolbar .webixtype_prev{border-color:#d9d9d9;background-color:transparent;color:#fff}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_el_arrow.webixtype_next_arrow{border-left:none;border-bottom:none}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_el_arrow.webixtype_prev_arrow{border-right:none;border-bottom:none}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_inp_counter_next:hover,.webix_layout_toolbar.webix_toolbar .webix_inp_counter_prev:hover,.webix_layout_toolbar.webix_toolbar .webix_segment_0:hover,.webix_layout_toolbar.webix_toolbar .webix_segment_1:hover,.webix_layout_toolbar.webix_toolbar .webix_segment_N:hover,.webix_layout_toolbar.webix_toolbar .webixtype_base:hover{color:#fff;background-color:rgba(0,0,0,.05)}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_inp_counter_next:active,.webix_layout_toolbar.webix_toolbar .webix_inp_counter_prev:active,.webix_layout_toolbar.webix_toolbar .webix_segment_0:active,.webix_layout_toolbar.webix_toolbar .webix_segment_1:active,.webix_layout_toolbar.webix_toolbar .webix_segment_N:active,.webix_layout_toolbar.webix_toolbar .webixtype_base:active{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_inp_counter_next:focus,.webix_layout_toolbar.webix_toolbar .webix_inp_counter_prev:focus,.webix_layout_toolbar.webix_toolbar .webix_segment_0:focus,.webix_layout_toolbar.webix_toolbar .webix_segment_1:focus,.webix_layout_toolbar.webix_toolbar .webix_segment_N:focus,.webix_layout_toolbar.webix_toolbar .webixtype_base:focus{background-color:rgba(0,0,0,.07);color:#fff}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_inp_static,.webix_layout_toolbar.webix_toolbar input[type=text]{border-color:#fff}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_inp_static:focus,.webix_layout_toolbar.webix_toolbar input[type=text]:focus{border-color:#fff;box-shadow:none}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_input_icon{border-color:#d9d9d9;background-color:transparent;color:#666}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_input_icon:active,.webix_layout_toolbar.webix_toolbar .webix_input_icon:focus,.webix_layout_toolbar.webix_toolbar .webix_input_icon:hover{background-color:transparent;color:#666}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_pressed .webix_el_arrow,.webix_layout_toolbar.webix_toolbar .webix_pressed .webix_inp_counter_next,.webix_layout_toolbar.webix_toolbar .webix_pressed .webix_inp_counter_prev,.webix_layout_toolbar.webix_toolbar .webix_pressed .webix_input_icon,.webix_layout_toolbar.webix_toolbar .webix_pressed .webix_segment_0,.webix_layout_toolbar.webix_toolbar .webix_pressed .webix_segment_1,.webix_layout_toolbar.webix_toolbar .webix_pressed .webix_segment_N,.webix_layout_toolbar.webix_toolbar .webix_pressed .webixtype_base,.webix_layout_toolbar.webix_toolbar .webix_pressed .webixtype_next,.webix_layout_toolbar.webix_toolbar .webix_pressed .webixtype_prev{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_0,.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_1,.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_N{border-color:#d9d9d9;background-color:#27ae60;color:#fff}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_0:hover,.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_1:hover,.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_N:hover{background-color:#24a259}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_0:active,.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_0:focus,.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_1:active,.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_1:focus,.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_N:active,.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_N:focus{background-color:#295}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_segment_1,.webix_layout_toolbar.webix_toolbar .webix_segment_N,.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_1,.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_N{margin-left:0;border-left:none}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_img_btn:active,.webix_layout_toolbar.webix_toolbar .webix_img_btn_top:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_img_btn:focus,.webix_layout_toolbar.webix_toolbar .webix_img_btn_top:focus{background-color:#2489cc}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_img_btn:hover,.webix_layout_toolbar.webix_toolbar .webix_img_btn_top:hover{background-color:#268fd5}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_icon_button{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_el_icon,.webix_layout_toolbar.webix_toolbar .webix_icon_btn,.webix_layout_toolbar.webix_toolbar .webix_icon_button,.webix_layout_toolbar.webix_toolbar .webix_img_btn,.webix_layout_toolbar.webix_toolbar .webix_img_btn_abs,.webix_layout_toolbar.webix_toolbar .webix_img_btn_abs .webix_icon,.webix_layout_toolbar.webix_toolbar .webix_img_btn_abs .webix_img_btn_text,.webix_layout_toolbar.webix_toolbar .webix_img_btn_top .webix_icon,.webix_layout_toolbar.webix_toolbar .webix_img_btn_top .webix_img_btn_text{color:#fff}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_el_box .webix_img_btn_abs:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_el_icon .webix_icon_button:focus{background-color:rgba(0,0,0,.07)}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_el_box .webix_img_btn_abs:hover,.webix_layout_toolbar.webix_toolbar .webix_el_icon .webix_icon_button:hover{background-color:rgba(0,0,0,.05)}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_control{border-color:#3498db}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_icon_button .webix_icon{font-size:23px;height:27px;width:27px;color:#fff}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_img_btn,.webix_layout_toolbar.webix_toolbar .webix_img_btn_top{border-width:0}\\r\\n.webix_layout_space>.webix_toolbar{-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}\\r\\n.webix_view.webix_layout_accordion{background-color:#ddd}\\r\\n.webix_accordionitem .webix_accordionitem_button{float:right;position:relative;height:19px;width:19px;margin:14px 13.5px}\\r\\n.webix_accordionitem.collapsed .webix_accordionitem_button{float:right;position:relative;height:19px;width:19px;margin-top:13px}\\r\\n.webix_accordionitem.collapsed,.webix_accordionitem.horizontal.collapsed{background-color:#a4b4bf}\\r\\n.webix_accordionitem.collapsed .webix_accordionitem_header,.webix_accordionitem.horizontal.collapsed .webix_accordionitem_header{background-color:#a4b4bf;color:#fff}\\r\\n.webix_accordionitem.collapsed .webix_accordionitem_header .webix_accordionitem_button,.webix_accordionitem.horizontal.collapsed .webix_accordionitem_header .webix_accordionitem_button{color:#fff}\\r\\n.webix_accordionitem .webix_accordionitem_header .webix_accordionitem_button{color:#fff;background-image:none;font-family:FontAwesome;font-size:24px;text-align:center;width:24px;height:45px;margin:0 10.5px}\\r\\n.webix_accordionitem .webix_accordionitem_header .webix_accordionitem_button:before{content:'\\\\F104'}\\r\\n.webix_accordionitem .webix_accordionitem_header.collapsed .webix_accordionitem_button:before{content:'\\\\F106'}\\r\\n.webix_accordionitem.horizontal:last-child>.webix_accordionitem_header .webix_accordionitem_button:before{content:'\\\\F105'}\\r\\n.webix_accordionitem.horizontal.collapsed:last-child>.webix_accordionitem_header .webix_accordionitem_button:before{content:'\\\\F107'}\\r\\n.webix_accordionitem.vertical>.webix_accordionitem_header .webix_accordionitem_button{height:42px;margin:0 10.5px}\\r\\n.webix_accordionitem.vertical>.webix_accordionitem_header .webix_accordionitem_button:before{content:'\\\\F106'}\\r\\n.webix_accordionitem.vertical>.webix_accordionitem_header.collapsed .webix_accordionitem_button:before{content:'\\\\F107'}\\r\\n.webix_toolbar.webix_layout_subbar{background:0 0}\\r\\n.webix_toolbar.webix_layout_subbar .webix_view{color:#666}\\r\\n.webix_el_tabbar+.webix_multiview{background-color:#fff}\\r\\n.webix_view.rounded_top{-moz-border-top-left-radius:4px;-moz-border-top-right-radius:4px;-webkit-border-top-left-radius:4px;-webkit-border-top-right-radius:4px;border-top-left-radius:4px;border-top-right-radius:4px}\\r\\n.webix_view.rounded_right{-moz-border-top-right-radius:4px;-moz-border-bottom-right-radius:4px;-webkit-border-top-right-radius:4px;-webkit-border-bottom-right-radius:4px}\\r\\n.webix_view.rounded_bottom{border-bottom-left-radius:4px;border-bottom-right-radius:4px;-moz-border-bottom-left-radius:4px;-moz-border-bottom-right-radius:4px;-webkit-border-bottom-left-radius:4px;-webkit-border-bottom-right-radius:4px}\\r\\n.webix_view.rounded_left{-moz-border-top-left-radius:4px;-moz-border-bottom-left-radius:4px;-webkit-border-top-left-radius:4px;-webkit-border-bottom-left-radius:4px}\\r\\n.webix_layout_space .webix_layout_accordion .webix_accordionitem,.webix_layout_space>.webix_view,.webix_layout_wide .webix_layout_accordion .webix_accordionitem,.webix_layout_wide>.webix_view{-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}\\r\\n.webix_view .webix_win_head{border-bottom:1px solid #ddd}\\r\\n.webix_view .webix_win_head>.webix_view>.webix_template{color:#666;background:#fff;box-shadow:0 -2px #3498db inset}\\r\\n.webix_modal_box .webix_popup_title{color:#666;background:#fff;font-size:15px;text-shadow:none}\\r\\n.webix_popup_text{box-shadow:0 3px #3498db inset;font-size:15px}\\r\\n.webix_alert-warning .webix_popup_text,.webix_confirm-warning .webix_popup_text{box-shadow:0 3px #ffd21a inset}\\r\\n.webix_alert-error .webix_popup_text,.webix_confirm-error .webix_popup_text{box-shadow:0 3px #ff391b inset}\\r\\n.webix_modal_box,.webix_view.webix_popup{border:1px solid #ddd}\\r\\n.confirmButton{font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;outline:0;background:#27ae60;border-color:#27ae60;border-bottom:1px solid #209150;box-shadow:none;text-shadow:none;color:#fff}\\r\\n.confirmButtonActive{background:#2ecb70}\\r\\n.webix_popup_button{border:none}\\r\\n.webix_dtable .webix_ss_left .webix_column.webix_last>div{border-right:1px solid #d0d0d0}\\r\\n.webix_dtable .webix_ss_right .webix_column.webix_first>div{border-left:1px solid #d0d0d0}\\r\\n.webix_dtable .webix_hs_right td.webix_first{border-left:1px solid #b0cee3}\\r\\n.webix_dtable .webix_hcell.webix_ss_filter{padding:0 5px}\\r\\n.webix_dtable .webix_hcell.webix_div_filter{padding:3px 5px}\\r\\n.webix_dtable .webix_ss_filter input,.webix_dtable .webix_ss_filter select{height:32px;vertical-align:middle;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_ss_sort_asc,.webix_ss_sort_desc{font-size:14px;font-family:FontAwesome;top:50%;line-height:1px;bottom:auto;right:3px;float:none;width:12px}\\r\\n.webix_ss_sort_asc:before{content:'\\\\F106'}\\r\\n.webix_ss_sort_desc:before{content:'\\\\F107'}\\r\\n.dtBodyCell{border-bottom:1px solid #ebebeb}\\r\\n.webix_dtable .webix_ss_vscroll_header{border-bottom:1px solid #b0cee3}\\r\\n.webix_view .webix_dt_editor input,.webix_view .webix_dt_editor select{border:1px solid #3498db}\\r\\n.dataItemStyle{border-color:#ebebeb}\\r\\n.webix_list_item.webix_group_back{color:#4a4a4a;background:#d2e3ef;border-bottom:1px solid #b0cee3}\\r\\n.webix_dataview_item{border-right-color:#ebebeb}\\r\\n.webix_view .webix_pager_item{padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;outline:0;color:#fff;background:#3498db;border-bottom:1px solid #2386c8;font-size:15px}\\r\\n.webix_view .webix_pager_item_selected{font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;outline:0;background:#27ae60;color:#fff;border-color:#27ae60;border-bottom:1px solid #209150;box-shadow:none}\\r\\n.webix_view .webix_pager_item,.webix_view .webix_pager_item_selected{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_list .webix_unit_header{font-weight:400;text-shadow:none;background:#d2e3ef;font-size:15px;color:#4a4a4a}\\r\\n.webix_view .webix_tree_close,.webix_view .webix_tree_open{background-image:none;font-family:FontAwesome;font-size:14px;text-align:center;color:#666}\\r\\n.webix_view .webix_tree_open:before{content:\\\"\\\\F147\\\"}\\r\\n.webix_view .webix_tree_close:before{content:\\\"\\\\F196\\\"}\\r\\n.webix_menu-x .webix_submenu_icon,.webix_view.webix_menu .webix_submenu_icon{width:6px;height:auto;font-size:14px;font-family:FontAwesome;line-height:1px;margin-top:3px}\\r\\n.webix_menu.webix_view .webix_list_item:active,.webix_menu.webix_view .webix_list_item:hover{background-color:#f5f5f5}\\r\\n.webix_menu.webix_view .webix_list_item .webix_submenu_icon:before{content:'\\\\F105'}\\r\\n.webix_menu.webix_view .webix_list_item.webix_selected{background:#27ae60}\\r\\n.webix_property .webix_property_label,.webix_property .webix_property_value{border-color:#ebebeb}\\r\\n.webix_view .webix_drag_over,.webix_view .webix_drop_zone{background-color:#f4f4f4}\\r\\n.propertyStyle{height:28px;line-height:27px}\\r\\n.propertyTitle{line-height:28px}\\r\\n.webix_view button,.webix_view input[type=button]{-webkit-appearance:none}\\r\\n.webix_el_colorpicker span.webix_input_icon,.webix_el_combo span.webix_input_icon,.webix_el_datepicker span.webix_input_icon,.webix_el_dbldatepicker span.webix_input_icon,.webix_el_richselect span.webix_input_icon{background-color:#3498db;color:#fff;-webkit-border-radius:0 6px 6px 0;-moz-border-radius-topleft:0;-moz-border-radius-bottomleft:0;-moz-border-radius-topright:6px;-moz-border-radius-bottomright:6px;border-radius:0 6px 6px 0}\\r\\n.focusStyle{border:1px solid #3498db;box-shadow:0 0 1px #3498db inset}\\r\\n.webix_el_colorpicker input,.webix_el_combo input,.webix_el_search input{padding-right:28px}\\r\\n.webix_el_colorpicker input,.webix_el_combo input,.webix_el_datepicker input,.webix_el_search input,.webix_el_text input{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_el_colorpicker input:focus,.webix_el_combo input:focus,.webix_el_datepicker input:focus,.webix_el_search input:focus,.webix_el_text input:focus{border:1px solid #3498db;box-shadow:0 0 1px #3498db inset}\\r\\n.webix_el_counter input[type=text]:focus{border-top:1px solid #3498db;border-bottom:1px solid #3498db;box-shadow:0 0 1px #3498db inset}\\r\\n.webix_el_colorpicker .webix_inp_static,.webix_el_datepicker .webix_inp_static,.webix_el_dbldatepicker .webix_inp_static,.webix_el_richselect .webix_inp_static{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;padding-right:28px;white-space:nowrap}\\r\\n.webix_el_colorpicker .webix_inp_static:focus,.webix_el_datepicker .webix_inp_static:focus,.webix_el_dbldatepicker .webix_inp_static:focus,.webix_el_richselect .webix_inp_static:focus,.webix_el_select select:focus,.webix_el_textarea textarea:focus{border:1px solid #3498db;box-shadow:0 0 1px #3498db inset}\\r\\n.webix_el_select select,.webix_el_textarea textarea{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_el_combo span.webix_input_icon,.webix_el_richselect span.webix_input_icon{width:21px;padding-left:8px}\\r\\n.webix_el_colorpicker span.webix_input_icon,.webix_el_datepicker span.webix_input_icon,.webix_el_dbldatepicker span.webix_input_icon,.webix_el_search span.webix_input_icon{width:24px}\\r\\n.webix_el_text .webix_inp_static{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;white-space:nowrap}\\r\\n.webix_focused .webix_inp_static{border:1px solid #3498db;box-shadow:0 0 1px #3498db inset}\\r\\n.webix_multilist .fa-check-square{color:#3498db}\\r\\n.buttonStyle{color:#fff;font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;border-bottom:1px solid #268fd5;outline:0}\\r\\n.webix_el_colorpicker div.webix_inp_static div{margin:2.5px -20px 0 -5px}\\r\\n.webix_el_textarea textarea,div.webix_inp_static{background:#fff;font-family:'PT Sans',Tahoma;border-color:#ccc}\\r\\n.webix_el_select select{font-family:'PT Sans',Tahoma;border-color:#ddd}\\r\\n.webix_el_checkbox input{border-color:#ddd}\\r\\n.webix_el_counter .webix_inp_counter_value{width:40px;background:#fff;font-family:'PT Sans',Tahoma;border-color:#ccc}\\r\\n.webix_el_counter .webix_inp_counter_next,.webix_el_counter .webix_inp_counter_prev{background:#3498db;width:29px;color:#fff;padding:auto 6px;border:1px solid #3498db;border-bottom:1px solid #268fd5;outline:0;font-weight:700;font-family:\\\"Courier New\\\",Courier,monospace;font-size:20px}\\r\\n.webix_view.webix_control.webix_el_tabbar{background:0 0}\\r\\ndiv.webix_item_tab{border-color:#a4b4bf;padding-top:3px;font-size:18px}\\r\\ndiv.webix_item_tab.webix_selected{padding-top:2px}\\r\\n.webixtype_bottom .webix_item_tab,.webixtype_bottom .webix_item_tab.webix_selected{border-color:#3498db;border-right:1px solid #5faee3;background:#3498db;color:#fff;padding-top:0}\\r\\n.webixtype_bottom .webix_item_tab.webix_selected:last-child,.webixtype_bottom .webix_item_tab:last-child{border-right:1px solid #5faee3}\\r\\n.webixtype_bottom .webix_item_tab.webix_selected{background:#2383c4;color:#fff}\\r\\n.webix_el_tabbar .webixtype_icon .webix_item_tab{white-space:nowrap}\\r\\n.webix_el_tabbar .webixtype_icon .webix_img_btn{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0 auto;color:#fff;text-align:center}\\r\\n.webix_el_tabbar .webixtype_icon .webix_img_btn .webix_icon_btn{color:#fff;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:24px;height:100%;line-height:inherit;margin:0 3px;vertical-align:top;width:100%}\\r\\n.webix_el_tabbar .webixtype_icon .webix_item_tab.webix_selected{background:#2383c4}\\r\\n.webix_accordionitem_label .webix_icon{font-size:19px;width:25px}\\r\\n.webix_item_tab .webix_icon{width:30px;font-size:19px}\\r\\n.webix_el_tabbar .webixtype_iconTop,.webix_el_tabbar .webixtype_image{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webix_el_tabbar .webixtype_iconTop .webix_icon,.webix_el_tabbar .webixtype_image .webix_icon{color:#fff;font-size:18px;top:1px}\\r\\n.webix_el_tabbar .webixtype_iconTop .webix_item_tab,.webix_el_tabbar .webixtype_image .webix_item_tab{font-size:15px}\\r\\n.webix_el_tabbar .webixtype_iconTop .webix_img_btn_top .webix_icon,.webix_el_tabbar .webixtype_image .webix_img_btn_top .webix_icon{margin-top:2px}\\r\\n.webix_el_tabbar .webixtype_iconTop .webix_img_btn_text,.webix_el_tabbar .webixtype_image .webix_img_btn_text{bottom:0;font-size:15px}\\r\\n.webix_el_tabbar .webixtype_iconTop .webix_item_tab.webix_selected,.webix_el_tabbar .webixtype_image .webix_item_tab.webix_selected{background:#2383c4;box-shadow:0 0 0 1px #3498db inset}\\r\\n.webix_el_tabbar .webixtype_iconTop .webix_item_tab.webix_selected .webix_icon,.webix_el_tabbar .webixtype_iconTop .webix_item_tab.webix_selected .webix_img_btn_text,.webix_el_tabbar .webixtype_image .webix_item_tab.webix_selected .webix_icon,.webix_el_tabbar .webixtype_image .webix_item_tab.webix_selected .webix_img_btn_text{color:#fff}\\r\\n.webix_el_tabbar .webixtype_iconTop .webix_item_tab.webix_selected .webix_icon_btn,.webix_el_tabbar .webixtype_image .webix_item_tab.webix_selected .webix_icon_btn{background-color:#2383c4}\\r\\n.webix_el_tabbar .webixtype_iconTop .webix_item_tab.webix_selected .webix_img_btn,.webix_el_tabbar .webixtype_image .webix_item_tab.webix_selected .webix_img_btn{color:#fff}\\r\\n.webix_el_tabbar .webixtype_icon,.webix_el_tabbar .webixtype_iconTop,.webix_el_tabbar .webixtype_image{background:#3498db}\\r\\n.webix_el_tabbar .webixtype_icon .webix_tab_filler,.webix_el_tabbar .webixtype_iconTop .webix_tab_filler,.webix_el_tabbar .webixtype_image .webix_tab_filler{border-bottom-color:#3498db}\\r\\n.webix_el_tabbar .webixtype_icon .webix_item_tab,.webix_el_tabbar .webixtype_iconTop .webix_item_tab,.webix_el_tabbar .webixtype_image .webix_item_tab{padding:0;border-radius:0;color:#fff;background:#3498db;border-color:#3498db;border-bottom:1px solid #3498db}\\r\\n.webix_el_tabbar .webixtype_icon .webix_item_tab .webix_img_btn,.webix_el_tabbar .webixtype_iconTop .webix_item_tab .webix_img_btn,.webix_el_tabbar .webixtype_image .webix_item_tab .webix_img_btn{color:#fff}\\r\\n.webix_tab_more_icon:hover{color:#4d4d4d}\\r\\n.webix_el_tabbar .webixtype_bottom .webix_tab_more_icon,.webix_el_tabbar .webixtype_icon .webix_tab_more_icon,.webix_el_tabbar .webixtype_iconTop .webix_tab_more_icon,.webix_el_tabbar .webixtype_image .webix_tab_more_icon{background:#3498db}\\r\\n.webix_el_tabbar .webixtype_bottom .webix_tab_more_icon .webix_icon,.webix_el_tabbar .webixtype_icon .webix_tab_more_icon .webix_icon,.webix_el_tabbar .webixtype_iconTop .webix_tab_more_icon .webix_icon,.webix_el_tabbar .webixtype_image .webix_tab_more_icon .webix_icon{color:#fff}\\r\\n.webix_el_tabbar .webixtype_icon .webix_tab_more_icon:hover,.webix_el_tabbar .webixtype_iconTop .webix_tab_more_icon:hover,.webix_el_tabbar .webixtype_image .webix_tab_more_icon:hover{background-color:#268fd5}\\r\\n.webix_tab_filler:first-child{border-right:0}\\r\\n.passiveBarBG{background:#a4b4bf;color:#fff}\\r\\n.webix_all_tabs{padding-left:1px;padding-right:1px}\\r\\n.webix_after_all_tabs{background:#3498db}\\r\\n.webix_el_box .webixtype_form:active{background-color:#219552;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_el_box .webixtype_form:focus{background-color:#219552}\\r\\n.webix_el_box .webixtype_form:hover{background-color:#239d57}\\r\\n.webixtype_danger:hover{background-color:#ca4635}\\r\\n.webixtype_danger:focus{background-color:#c14433}\\r\\n.webixtype_danger:active{background-color:#c14433;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_el_box .webixtype_form{font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;outline:0;background:#27ae60;color:#fff;border-color:#27ae60;border-bottom:1px solid #209150;box-shadow:none}\\r\\n.webix_inp_counter_next:hover,.webix_inp_counter_prev:hover,.webix_segment_0:hover,.webix_segment_1:hover,.webix_segment_N:hover,.webixbutton:hover,.webixtype_base:hover{background-color:#268fd5}\\r\\n.webix_inp_counter_next:active,.webix_inp_counter_prev:active,.webix_segment_0:active,.webix_segment_1:active,.webix_segment_N:active,.webixbutton:active,.webixtype_base:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_el_text .webix_input_icon:active,.webix_el_text .webix_input_icon:hover{color:#3498db;background:inherit;cursor:pointer}\\r\\n.webix_inp_counter_next:focus,.webix_inp_counter_prev:focus,.webix_segment_0:focus,.webix_segment_1:focus,.webix_segment_N:focus,.webixbutton:focus,.webixtype_base:focus{background-color:#2489cc}\\r\\n.webix_selected.webix_segment_0:hover,.webix_selected.webix_segment_1:hover,.webix_selected.webix_segment_N:hover{background-color:#239d57}\\r\\n.webix_selected.webix_segment_0:active,.webix_selected.webix_segment_0:focus,.webix_selected.webix_segment_1:active,.webix_selected.webix_segment_1:focus,.webix_selected.webix_segment_N:active,.webix_selected.webix_segment_N:focus{background-color:#219552}\\r\\n.webix_all_segments .webix_segment_1,.webix_all_segments .webix_segment_N{margin-left:1px;border-left:none}\\r\\n.webix_el_slider .webix_slider_title{margin-bottom:-13px}\\r\\n.activeShadow{box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.toggleShadow{box-shadow:inset 0 3px 5px rgba(0,0,0,.18)}\\r\\n.webix_el_toggle .webix_pressed .webix_img_btn,.webix_el_toggle .webix_pressed .webix_img_btn_top{box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_el_toggle .webix_el_box.webix_pressed .webix_img_btn_abs,.webix_el_toggle .webix_el_box.webix_pressed .webixtype_base{box-shadow:inset 0 3px 5px rgba(0,0,0,.125);background-color:#2489cc}\\r\\n.webix_img_btn_abs_top .webix_icon{font-size:22px}\\r\\n.webix_img_btn:hover,.webix_img_btn_top:hover{background-color:rgba(0,0,0,.05)}\\r\\n.webix_img_btn:active,.webix_img_btn_top:active{background-color:rgba(0,0,0,.07);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_img_btn:focus,.webix_img_btn_top:focus{background-color:rgba(0,0,0,.07)}\\r\\n.webix_view .webix_fieldset fieldset{border:1px solid #dedede}\\r\\n.webix_view .webix_fieldset legend{color:#787878}\\r\\n.webix_custom_checkbox:before{content:\\\"\\\\F00C\\\";color:#3498db;font-family:FontAwesome;font-size:16px;height:14px;display:block;line-height:13px;width:14px}\\r\\n.webix_checkbox_0 .webix_custom_checkbox:before{visibility:hidden}\\r\\n.webix_custom_checkbox{float:left;position:relative;top:50%;margin-top:-7px;padding:0;height:15px;width:15px;border:1px solid #ccc;border-radius:3px;background-color:#fff}\\r\\n.webix_custom_checkbox:focus{border-color:#3498db}\\r\\na:active .webix_custom_checkbox,a:focus .webix_custom_checkbox{border:1px solid #3498db;box-shadow:0 0 1px #3498db inset}\\r\\n.webix_el_radio .webix_custom_radio:before{content:\\\" \\\";border-radius:50%;display:block;width:7px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;height:7px;background-color:#3498db}\\r\\n.webix_el_radio .webix_radio_0 .webix_custom_radio:before{visibility:hidden}\\r\\n.webix_el_radio .webix_custom_radio{display:block;height:15px;width:15px;padding:3px;border:1px solid #ccc;border-radius:50%;background-color:#fff}\\r\\n.webix_el_radio .webix_custom_radio:focus{border-color:#3498db}\\r\\n.webix_el_radio .webix_label_right{color:#666;font-size:15px}\\r\\na:active .webix_custom_radio,a:focus .webix_custom_radio{border:1px solid #3498db;box-shadow:0 0 1px #3498db inset}\\r\\n.webix_cal_body .webix_cal_today{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid #27ae60;border-radius:6px}\\r\\n.webix_cal_body .webix_cal_day,.webix_cal_body .webix_cal_week_num{font-size:13px}\\r\\n.webix_cal_body .webix_cal_select,.webix_cal_body .webix_cal_select.webix_cal_today{border-radius:6px}\\r\\n.webix_cal_body .webix_cal_event.webix_cal_select,.webix_cal_body .webix_selected{color:#fff;border-radius:6px;background:#27ae60}\\r\\n.webix_cal_event{color:#3498db}\\r\\n.webix_cal_outside{font-weight:400;color:#bbb}\\r\\n.webix_cal_footer .webix_cal_done,.webix_time_footer .webix_cal_done{font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;outline:0;color:#fff;background:#3498db;border-bottom:1px solid #2386c8}\\r\\n.webix_cal_month{line-height:20px;text-align:center;font-size:17px;font-weight:700}\\r\\n.webix_view>.webix_cal_header div{font-size:12px}\\r\\n.webix_cal_month_name{font-size:14px;font-weight:400}\\r\\n.webix_daterange .webix_range_timepicker .webix_cal_time{padding:5px 20px}\\r\\n.webix_cal_range{background-color:#d4f5e2}\\r\\n.webix_progress_bottom .webix_progress_state,.webix_progress_top .webix_progress_state{background-image:linear-gradient(135deg,rgba(255,255,255,.1) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.1) 50%,rgba(255,255,255,.1) 75%,transparent 75%,transparent)}\\r\\n.webix_progress_top .webix_progress_state{background-size:10px 10px}\\r\\n.webix_progress_bottom .webix_progress_state{background-size:14px 14px}\\r\\n.webix_skin_mark{height:200px}\\r\\n.webix_sparklines{padding:1px 0;box-sizing:border-box}\\r\\n.webix_sparklines svg{box-sizing:border-box}\\r\\n.webix_sparklines_line{stroke:#3498db;stroke-width:1;fill:transparent;stroke-linecap:round}\\r\\n.webix_sparklines_item{fill:#3498db;stroke-width:1}\\r\\n.webix_sparklines_bar{fill:#6dbcf0}\\r\\n.webix_sparklines_bar_negative{fill:#d86c79}\\r\\n.webix_sparklines_area{fill:#e5eef4}\\r\\n.webix_sparklines_origin{stroke:#888;stroke-width:1}\\r\\n.webix_sparklines_event_area{fill:transparent}\\r\\n.webix_sparklines_area_chart .webix_sparklines_event_area:hover,.webix_sparklines_line_chart .webix_sparklines_event_area:hover,.webix_sparklines_splinearea_chart .webix_sparklines_event_area:hover{fill:rgba(220,220,220,.4);stroke:rgba(255,255,255,.6)}\\r\\n.webix_sparklines_bar_chart .webix_sparklines_event_area:hover,.webix_sparklines_pie_chart .webix_sparklines_event_area:hover{fill:rgba(255,255,255,.3)}\\r\\n.webix_strong{font-weight:700;white-space:nowrap}\\r\\n.webix_light{color:#b3b3b3}\\r\\n.webix_debug div{border:1px solid orange;background-color:#FF9;color:#000}\\r\\n.webix_debug{background-color:#ff9;border:1px solid #ff9}\\r\\n.webix_input_icon,.webix_view{box-sizing:content-box}\\r\\n.webix_view.webix_el_label{box-sizing:border-box}\\r\\n.webix_inp_label,.webix_inp_top_label,.webix_label_right{margin-bottom:0}\\r\\n.webix_view table{border-collapse:initial}\", \"\"]);\n\n// exports\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"./assets/f7c2b4b747b1a225eb8dee034134a1b0.eot\";\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"./assets/f7c2b4b747b1a225eb8dee034134a1b0.eot\";\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"./assets/139e74e298bca37a25d2bd5868552e04.svg\";\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"./assets/706450d7bba6374ca02fe167d86685cb.ttf\";\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"./assets/c3dcc8c26c163b6f7e7f64f20d6f59b4.woff\";\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"./assets/ed5a7b14dd1e89a3f68504a379663f2a.woff\";\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"./assets/d9ee23d59d0e0e727b51368b458a0bff.woff\";\n\n/***/ },\n/* 24 */,\n/* 25 */,\n/* 26 */,\n/* 27 */,\n/* 28 */,\n/* 29 */,\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n__webpack_require__(11);\n__webpack_require__(10);\nmodule.exports = __webpack_require__(9);\n\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// vendor.js"," \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [], result;\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId])\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules, executeModules);\n \t\twhile(resolves.length)\n \t\t\tresolves.shift()();\n \t\tif(executeModules) {\n \t\t\tfor(i=0; i < executeModules.length; i++) {\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = executeModules[i]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// objects to store loaded and loading chunks\n \tvar installedChunks = {\n \t\t2: 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tif(installedChunks[chunkId] === 0)\n \t\t\treturn Promise.resolve();\n\n \t\t// an Promise means \"currently loading\".\n \t\tif(installedChunks[chunkId]) {\n \t\t\treturn installedChunks[chunkId][2];\n \t\t}\n \t\t// start chunk loading\n \t\tvar head = document.getElementsByTagName('head')[0];\n \t\tvar script = document.createElement('script');\n \t\tscript.type = 'text/javascript';\n \t\tscript.charset = 'utf-8';\n \t\tscript.async = true;\n \t\tscript.timeout = 120000;\n\n \t\tscript.src = __webpack_require__.p + \"\" + ({\"1\":\"app\"}[chunkId]||chunkId) + \".\" + {\"0\":\"29b284985fa15c360af8\",\"1\":\"6ea068d8c5ae6c160566\"}[chunkId] + \".js\";\n \t\tvar timeout = setTimeout(onScriptComplete, 120000);\n \t\tscript.onerror = script.onload = onScriptComplete;\n \t\tfunction onScriptComplete() {\n \t\t\t// avoid mem leaks in IE.\n \t\t\tscript.onerror = script.onload = null;\n \t\t\tclearTimeout(timeout);\n \t\t\tvar chunk = installedChunks[chunkId];\n \t\t\tif(chunk !== 0) {\n \t\t\t\tif(chunk) chunk[1](new Error('Loading chunk ' + chunkId + ' failed.'));\n \t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t}\n \t\t};\n \t\thead.appendChild(script);\n\n \t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\tinstalledChunks[chunkId] = [resolve, reject];\n \t\t});\n \t\treturn installedChunks[chunkId][2] = promise;\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 30);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d810ab167e7b529cf415","module.exports = __webpack_public_path__ + \"./assets/62686b187fd2c272844211018653eb65.gif\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/stars.gif\n// module id = 0\n// module chunks = 2","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/lib/css-base.js\n// module id = 1\n// module chunks = 2","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/addStyles.js\n// module id = 2\n// module chunks = 2","var nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/timers-browserify/main.js\n// module id = 3\n// module chunks = 2","module.exports = __webpack_public_path__ + \"./assets/a420530a664226b0ca151be3f8a1bb90.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/imgs/databg.png\n// module id = 4\n// module chunks = 2","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/less-loader/index.js!./theme.siberia.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/less-loader/index.js!./theme.siberia.less\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/less-loader/index.js!./theme.siberia.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/theme.siberia.less\n// module id = 9\n// module chunks = 2","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./flat.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./flat.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./flat.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webix/skins/flat.css\n// module id = 10\n// module chunks = 2","/*\r\n@license\r\nwebix UI v.4.0.0\r\nThis software is allowed to use under GPL or you need to obtain Commercial License \r\n to use it in non-GPL project. Please contact sales@webix.com for details\r\n*/\r\nif (!window.webix) \r\n\twebix={};\r\n\r\n//check some rule, show message as error if rule is not correct\r\nwebix.assert = function(test, message){\r\n\tif (!test){\r\n\t\twebix.assert_error(message);\r\n\t}\r\n};\r\n\r\nwebix.assert_config = function(obj){\r\n\tvar coll = obj.cells || obj.rows || obj.elements || obj.cols;\r\n\tif (coll)\r\n\t\tfor (var i=0; i<coll.length; i++)\r\n\t\t\tif (coll[i] === null || typeof coll[i] === \"undefined\")\r\n\t\t\t\twebix.assert_error(\"You have trailing comma or Null element in collection's configuration\");\r\n};\r\n\r\nwebix.assert_error = function(message){\r\n\t//jshint debug:true\r\n\twebix.log(\"error\",message);\r\n\tif (webix.message && typeof message == \"string\")\r\n\t\twebix.message({ type:\"debug\", text:message, expire:-1 });\r\n\tif (webix.debug !== false)\r\n\t\tdebugger;\r\n};\r\n\r\n//entry point for analitic scripts\r\nwebix.assert_core_ready = function(){\r\n\tif (window.webix_on_core_ready)\t\r\n\t\twindow.webix_on_core_ready();\r\n};\r\n\r\nwebix.assert_level = 0;\r\n\r\nwebix.assert_level_in = function(){\r\n\twebix.assert_level++;\r\n\tif (webix.assert_level == 100)\r\n\t\twebix.assert_error(\"Attempt to copy object with self reference\");\r\n};\r\nwebix.assert_level_out = function(){\r\n\twebix.assert_level--;\r\n};\r\n\r\n/*\r\n\tCommon helpers\r\n*/\r\nwebix.version=\"4.0.0\";\r\nwebix.codebase=\"./\";\r\nwebix.name = \"core\";\r\nwebix.cdn = \"//cdn.webix.com\";\r\n\r\n//coding helpers\r\nwebix.clone = function(source){\r\n\tvar f = webix.clone._function;\r\n\tf.prototype = source;\r\n\treturn new f();\r\n};\r\nwebix.clone._function = function(){};\r\n\r\n//copies methods and properties from source to the target\r\nwebix.extend = function(base, source, force){\r\n\twebix.assert(base,\"Invalid mixing target\");\r\n\twebix.assert(source,\"Invalid mixing source\");\r\n\r\n\tif (base.$protoWait){\r\n\t\twebix.PowerArray.insertAt.call(base.$protoWait, source,1);\r\n\t\treturn base;\r\n\t}\r\n\t\r\n\t//copy methods, overwrite existing ones in case of conflict\r\n\tfor (var method in source)\r\n\t\tif (!base[method] || force)\r\n\t\t\tbase[method] = source[method];\r\n\t\t\r\n\t//in case of defaults - preffer top one\r\n\tif (source.defaults)\r\n\t\twebix.extend(base.defaults, source.defaults);\r\n\t\r\n\t//if source object has init code - call init against target\r\n\tif (source.$init)\t\r\n\t\tsource.$init.call(base);\r\n\t\t\t\t\r\n\treturn base;\t\r\n};\r\n\r\n//copies methods and properties from source to the target from all levels\r\nwebix.copy = function(source){\r\n\twebix.assert(source,\"Invalid mixing target\");\r\n\twebix.assert_level_in();\r\n\r\n\tvar target;\r\n\tif(arguments.length>1){\r\n\t\ttarget = arguments[0];\r\n\t\tsource = arguments[1];\r\n\t} else \r\n\t\ttarget = (webix.isArray(source)?[]:{});\r\n\r\n\tfor (var method in source){\r\n\t\tvar from = source[method];\r\n\t\tif(from && typeof from == \"object\"){\r\n\t\t\tif (!webix.isDate(from)){\r\n\t\t\t\ttarget[method] = (webix.isArray(from)?[]:{});\r\n\t\t\t\twebix.copy(target[method],from);\r\n\t\t\t} else\r\n\t\t\t\ttarget[method] = new Date(from);\r\n\t\t} else {\r\n\t\t\ttarget[method] = from;\r\n\t\t}\r\n\t}\r\n\r\n\twebix.assert_level_out();\r\n\treturn target;\t\r\n};\r\n\r\nwebix.single = function(source){ \r\n\tvar instance = null;\r\n\tvar t = function(config){\r\n\t\tif (!instance)\r\n\t\t\tinstance = new source({});\r\n\t\t\t\r\n\t\tif (instance._reinit)\r\n\t\t\tinstance._reinit.apply(instance, arguments);\r\n\t\treturn instance;\r\n\t};\r\n\treturn t;\r\n};\r\n\r\nwebix.protoUI = function(){\r\n\tif (webix.debug_proto)\r\n\t\twebix.log(\"UI registered: \"+arguments[0].name);\r\n\t\t\r\n\tvar origins = arguments;\r\n\tvar selfname = origins[0].name;\r\n\t\r\n\tvar t = function(data){\r\n\t\tif (!t)\r\n\t\t\treturn webix.ui[selfname].prototype;\r\n\r\n\t\tvar origins = t.$protoWait;\r\n\t\tif (origins){\r\n\t\t\tvar params = [origins[0]];\r\n\t\t\t\r\n\t\t\tfor (var i=1; i < origins.length; i++){\r\n\t\t\t\tparams[i] = origins[i];\r\n\r\n\t\t\t\tif (params[i].$protoWait)\r\n\t\t\t\t\tparams[i] = params[i].call(webix, params[i].name);\r\n\r\n\t\t\t\tif (params[i].prototype && params[i].prototype.name)\r\n\t\t\t\t\twebix.ui[params[i].prototype.name] = params[i];\r\n\t\t\t}\r\n\t\t\twebix.ui[selfname] = webix.proto.apply(webix, params);\r\n\r\n\t\t\tif (t._webix_type_wait)\t\r\n\t\t\t\tfor (var i=0; i < t._webix_type_wait.length; i++)\r\n\t\t\t\t\twebix.type(webix.ui[selfname], t._webix_type_wait[i]);\r\n\t\t\t\t\r\n\t\t\tt = origins = null;\t\r\n\t\t}\r\n\t\t\t\r\n\t\tif (this != webix)\r\n\t\t\treturn new webix.ui[selfname](data);\r\n\t\telse \r\n\t\t\treturn webix.ui[selfname];\r\n\t};\r\n\tt.$protoWait = Array.prototype.slice.call(arguments, 0);\r\n\treturn (webix.ui[selfname]=t);\r\n};\r\n\r\nwebix.proto = function(){\r\n\t \r\n\tif (webix.debug_proto)\r\n\t\twebix.log(\"Proto chain:\"+arguments[0].name+\"[\"+arguments.length+\"]\");\r\n\r\n\tvar origins = arguments;\r\n\tvar compilation = origins[0];\r\n\tvar has_constructor = !!compilation.$init;\r\n\tvar construct = [];\r\n\t\r\n\twebix.assert(compilation,\"Invalid mixing target\");\r\n\t\t\r\n\tfor (var i=origins.length-1; i>0; i--) {\r\n\t\twebix.assert(origins[i],\"Invalid mixing source\");\r\n\t\tif (typeof origins[i]== \"function\")\r\n\t\t\torigins[i]=origins[i].prototype;\r\n\t\tif (origins[i].$init) \r\n\t\t\tconstruct.push(origins[i].$init);\r\n\t\tif (origins[i].defaults){ \r\n\t\t\tvar defaults = origins[i].defaults;\r\n\t\t\tif (!compilation.defaults)\r\n\t\t\t\tcompilation.defaults = {};\r\n\t\t\tfor (var def in defaults)\r\n\t\t\t\tif (webix.isUndefined(compilation.defaults[def]))\r\n\t\t\t\t\tcompilation.defaults[def] = defaults[def];\r\n\t\t}\r\n\t\tif (origins[i].type && compilation.type){\r\n\t\t\tfor (var def in origins[i].type)\r\n\t\t\t\tif (!compilation.type[def])\r\n\t\t\t\t\tcompilation.type[def] = origins[i].type[def];\r\n\t\t}\r\n\t\t\t\r\n\t\tfor (var key in origins[i]){\r\n\t\t\tif (!compilation[key] && compilation[key] !== false)\r\n\t\t\t\tcompilation[key] = origins[i][key];\r\n\t\t}\r\n\t}\r\n\t\r\n\tif (has_constructor)\r\n\t\tconstruct.push(compilation.$init);\r\n\t\r\n\t\r\n\tcompilation.$init = function(){\r\n\t\tfor (var i=0; i<construct.length; i++)\r\n\t\t\tconstruct[i].apply(this, arguments);\r\n\t};\r\n\tif (compilation.$skin)\r\n\t\tcompilation.$skin();\r\n\r\n\tvar result = function(config){\r\n\t\tthis.$ready=[];\r\n\t\twebix.assert(this.$init,\"object without init method\");\r\n\t\tthis.$init(config);\r\n\t\tif (this._parseSettings)\r\n\t\t\tthis._parseSettings(config, this.defaults);\r\n\t\tfor (var i=0; i < this.$ready.length; i++)\r\n\t\t\tthis.$ready[i].call(this);\r\n\t};\r\n\tresult.prototype = compilation;\r\n\t\r\n\tcompilation = origins = null;\r\n\treturn result;\r\n};\r\n//creates function with specified \"this\" pointer\r\nwebix.bind=function(functor, object){ \r\n\treturn function(){ return functor.apply(object,arguments); };  \r\n};\r\n\r\n//loads module from external js file\r\nwebix.require=function(module, callback, master){\r\n\tvar promise = webix.promise.defer();\r\n\r\n\tif (callback && callback !== true)\r\n\t\tpromise = promise.then(function(){ callback.call(master || this); });\r\n\r\n\tif (webix.require.disabled){\r\n\t\tpromise.resolve();\r\n\t\treturn promise;\r\n\t}\r\n\r\n\t//multiple files required at once\r\n\tif (typeof module != \"string\"){\r\n\t\tvar count = module.length||0;\r\n\t\t\r\n\t\tif (!count){\r\n\t\t\t// { file: true, other: true }\r\n\t\t\tfor (var file in module) count++;\r\n\t\t\tvar callback2 = function(){\r\n\t\t\t\tcount--;\r\n\t\t\t\tif (count === 0)\r\n\t\t\t\t\tpromise.resolve();\r\n\t\t\t};\r\n\t\t\tfor (var file in module)\r\n\t\t\t\twebix.require(file, callback2, master);\r\n\t\t} else {\r\n\t\t\t// [ file, other ]\r\n\t\t\tvar callback2 = function(){\r\n\t\t\t\tif (count){\r\n\t\t\t\t\tcount--;\r\n\t\t\t\t\twebix.require(module[module.length - count - 1], callback2, master);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpromise.resolve();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tcallback2();\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (webix._modules[module] !== true){\r\n\t\tvar fullpath = module;\r\n\t\tif (!module.toString().match(/^([a-z]+\\:)*\\/\\//i))\r\n\t\t\tfullpath = webix.codebase + module;\r\n\r\n\t\t//css, async, no waiting\r\n\t\tif (module.substr(module.length-4) == \".css\") {\r\n\t\t\tvar link = webix.html.create(\"LINK\",{  type:\"text/css\", rel:\"stylesheet\", href:fullpath});\r\n\t\t\tdocument.getElementsByTagName('head')[0].appendChild(link);\r\n\t\t\tpromise.resolve();\r\n\t\t\treturn promise;\r\n\t\t}\r\n\r\n\t\t//js, async, waiting\r\n\t\tif (callback === true){\r\n\t\t\t//sync mode\r\n\t\t\twebix.exec( webix.ajax().sync().get(fullpath).responseText );\r\n\t\t\twebix._modules[module]=true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif (!webix._modules[module]){\t//first call\r\n\t\t\t\twebix._modules[module] = [promise];\r\n\r\n\t\t\t\twebix.ajax(fullpath, function(text){\r\n\t\t\t\t\twebix.exec(text);\t//evaluate code\r\n\t\t\t\t\tvar calls = webix._modules[module];\t//callbacks\r\n\t\t\t\t\twebix._modules[module] = true;\r\n\t\t\t\t\tfor (var i=0; i<calls.length; i++)\r\n\t\t\t\t\t\tcalls[i].resolve();\r\n\t\t\t\t});\r\n\t\t\t} else\t//module already loading\r\n\t\t\t\twebix._modules[module].push(promise);\r\n\t\t}\r\n\t} else \r\n\t\tpromise.resolve();\r\n\r\n\treturn promise;\r\n};\r\nwebix._modules = {};\t//hash of already loaded modules\r\n\r\n//evaluate javascript code in the global scoope\r\nwebix.exec=function(code){\r\n\tif (window.execScript)\t//special handling for IE\r\n\t\twindow.execScript(code);\r\n\telse window.eval(code);\r\n};\r\n\r\nwebix.wrap = function(code, wrap){\r\n\tif (!code) return wrap;\r\n\treturn function(){\r\n\t\tvar result = code.apply(this, arguments);\r\n\t\twrap.apply(this,arguments);\r\n\t\treturn result;\r\n\t};\r\n};\r\n\r\n//check === undefined\r\nwebix.isUndefined=function(a){\r\n\treturn typeof a == \"undefined\";\r\n};\r\n//delay call to after-render time\r\nwebix.delay=function(method, obj, params, delay){\r\n\treturn window.setTimeout(function(){\r\n\t\tif(!(obj&&obj.$destructed)){\r\n\t\t\tvar ret = method.apply(obj,(params||[]));\r\n\t\t\tmethod = obj = params = null;\r\n\t\t\treturn ret;\r\n\t\t}\r\n\t},delay||1);\r\n};\r\n\r\nwebix.once=function(method){\r\n\tvar flag = true;\r\n\treturn function(){\r\n\t\tif (flag){\r\n\t\t\tflag = false;\r\n\t\t\tmethod.apply(this, arguments);\r\n\t\t}\r\n\t};\r\n};\r\n\r\n//common helpers\r\n\r\n//generates unique ID (unique per window, nog GUID)\r\nwebix.uid = function(){\r\n\tif (!this._seed) this._seed=(new Date()).valueOf();\t//init seed with timestemp\r\n\tthis._seed++;\r\n\treturn this._seed;\r\n};\r\n//resolve ID as html object\r\nwebix.toNode = function(node){\r\n\tif (typeof node == \"string\") return document.getElementById(node);\r\n\treturn node;\r\n};\r\n//adds extra methods for the array\r\nwebix.toArray = function(array){ \r\n\treturn webix.extend((array||[]),webix.PowerArray, true);\r\n};\r\n//resolve function name\r\nwebix.toFunctor=function(str, scope){ \r\n\tif (typeof(str)==\"string\"){\r\n\t\tvar method = str.replace(\"()\",\"\");\r\n\t\tif (scope && scope[method]) return scope[method];\r\n\t\treturn window[method] || eval(str);\r\n\t}\r\n\treturn str;\r\n};\r\n/*checks where an object is instance of Array*/\r\nwebix.isArray = function(obj) {\r\n\treturn Array.isArray?Array.isArray(obj):(Object.prototype.toString.call(obj) === '[object Array]');\r\n};\r\nwebix.isDate = function(obj){\r\n\treturn obj instanceof Date;\r\n};\r\n\r\n//dom helpers\r\n\r\n//hash of attached events\r\nwebix._events = {};\r\n//attach event to the DOM element\r\nwebix.event=function(node,event,handler,context){\r\n\tcontext = context || {};\r\n\tnode = webix.toNode(node);\r\n\twebix.assert(node, \"Invalid node as target for webix.event\");\r\n\t\r\n\tvar id = context.id || webix.uid();\r\n\tif(context.bind)\r\n\t\thandler=webix.bind(handler,context.bind);\r\n\t\r\n\t\t\r\n\twebix._events[id]=[node,event,handler];\t//store event info, for detaching\r\n\t\t\r\n\t//use IE's of FF's way of event's attaching\r\n\tif (node.addEventListener)\r\n\t\tnode.addEventListener(event, handler, !!context.capture);\r\n\telse if (node.attachEvent)\r\n\t\tnode.attachEvent(\"on\"+event, webix._events[id][2] = function(){\r\n\t\t\treturn handler.apply(node, arguments);\t//IE8 fix\r\n\t\t});\r\n\r\n\treturn id;\t//return id of newly created event, can be used in eventRemove\r\n};\r\n\r\n//remove previously attached event\r\nwebix.eventRemove=function(id){\r\n\t\r\n\tif (!id) return;\r\n\twebix.assert(this._events[id],\"Removing non-existing event\");\r\n\t\t\r\n\tvar ev = webix._events[id];\r\n\t//browser specific event removing\r\n\tif (ev[0].removeEventListener)\r\n\t\tev[0].removeEventListener(ev[1],ev[2],false);\r\n\telse if (ev[0].detachEvent)\r\n\t\tev[0].detachEvent(\"on\"+ev[1],ev[2]);\r\n\r\n\t\t\r\n\tdelete this._events[id];\t//delete all traces\r\n};\r\n\r\n\r\n//debugger helpers\r\n//anything starting from error or log will be removed during code compression\r\n\r\n//add message in the log\r\nwebix.log = function(type,message,details){\r\n\tif (arguments.length == 1){\r\n\t\tmessage = type;\r\n\t\ttype = \"log\";\r\n\t}\r\n\t/*jsl:ignore*/\r\n\tif (window.console && window.console.log){\r\n\t\ttype=type.toLowerCase();\r\n\t\tif (window.console[type])\r\n\t\t\twindow.console[type](message||\"unknown error\");\r\n\t\telse\r\n\t\t\twindow.console.log(type +\": \"+message);\r\n\r\n\t\tif (details) \r\n\t\t\twindow.console.log(details);\r\n\t}\t\r\n\t/*jsl:end*/\r\n};\r\n//register rendering time from call point \r\nwebix.log_full_time = function(name){\r\n\twebix._start_time_log = new Date();\r\n\twebix.log(\"Timing start [\"+name+\"]\");\r\n\twindow.setTimeout(function(){\r\n\t\tvar time = new Date();\r\n\t\twebix.log(\"Timing end [\"+name+\"]:\"+(time.valueOf()-webix._start_time_log.valueOf())/1000+\"s\");\r\n\t},1);\r\n};\r\n//register execution time from call point\r\nwebix.log_time = function(name){\r\n\tvar fname = \"_start_time_log\"+name;\r\n\tif (!webix[fname]){\r\n\t\twebix[fname] = new Date();\r\n\t\twebix.log(\"Info\",\"Timing start [\"+name+\"]\");\r\n\t} else {\r\n\t\tvar time = new Date();\r\n\t\twebix.log(\"Info\",\"Timing end [\"+name+\"]:\"+(time.valueOf()-webix[fname].valueOf())/1000+\"s\");\r\n\t\twebix[fname] = null;\r\n\t}\r\n};\r\nwebix.debug_code = function(code){\r\n\tcode.call(webix);\r\n};\r\n//event system\r\nwebix.EventSystem={\r\n\t$init:function(){\r\n\t\tif (!this._evs_events){\r\n\t\t\tthis._evs_events = {};\t\t//hash of event handlers, name => handler\r\n\t\t\tthis._evs_handlers = {};\t//hash of event handlers, ID => handler\r\n\t\t\tthis._evs_map = {};\r\n\t\t}\r\n\t},\r\n\t//temporary block event triggering\r\n\tblockEvent : function(){\r\n\t\tthis._evs_events._block = true;\r\n\t},\r\n\t//re-enable event triggering\r\n\tunblockEvent : function(){\r\n\t\tthis._evs_events._block = false;\r\n\t},\r\n\tmapEvent:function(map){\r\n\t\twebix.extend(this._evs_map, map, true);\r\n\t},\r\n\ton_setter:function(config){\r\n\t\tif(config){\r\n\t\t\tfor(var i in config){\r\n\t\t\t\tvar method = webix.toFunctor(config[i], this.$scope);\r\n\t\t\t\tvar sub = i.indexOf(\"->\");\r\n\t\t\t\tif (sub !== -1){\r\n\t\t\t\t\tthis[i.substr(0,sub)].attachEvent(i.substr(sub+2), webix.bind(method, this));\r\n\t\t\t\t} else\r\n\t\t\t\t\tthis.attachEvent(i, method);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t//trigger event\r\n\tcallEvent:function(type,params){\r\n\t\tif (this._evs_events._block) return true;\r\n\t\t\r\n\t\ttype = type.toLowerCase();\r\n\t\tvar event_stack =this._evs_events[type.toLowerCase()];\t//all events for provided name\r\n\t\tvar return_value = true;\r\n\r\n\t\tif (webix.log)\r\n\t\t\tif ((webix.debug || this.debug) && !webix.debug_blacklist[type])\t//can slowdown a lot\r\n\t\t\t\twebix.log(\"info\",\"[\"+this.name+\"@\"+((this._settings||{}).id)+\"] event:\"+type,params);\r\n\t\t\r\n\t\tif (event_stack)\r\n\t\t\tfor(var i=0; i<event_stack.length; i++){\r\n\t\t\t\t/*\r\n\t\t\t\t\tCall events one by one\r\n\t\t\t\t\tIf any event return false - result of whole event will be false\r\n\t\t\t\t\tHandlers which are not returning anything - counted as positive\r\n\t\t\t\t*/\r\n\t\t\t\tif (event_stack[i].apply(this,(params||[]))===false) return_value=false;\r\n\t\t\t}\r\n\t\tif (this._evs_map[type]){\r\n\t\t\tvar target = this._evs_map[type];\r\n\t\t\ttarget.$eventSource = this;\r\n\t\t\tif (!target.callEvent(type,params))\r\n\t\t\t\treturn_value =\tfalse;\r\n\t\t\ttarget.$eventSource = null;\r\n\t\t}\r\n\r\n\t\treturn return_value;\r\n\t},\r\n\t//assign handler for some named event\r\n\tattachEvent:function(type,functor,id){\r\n\t\twebix.assert(functor, \"Invalid event handler for \"+type);\r\n\r\n\t\ttype=type.toLowerCase();\r\n\t\t\r\n\t\tid=id||webix.uid(); //ID can be used for detachEvent\r\n\t\tfunctor = webix.toFunctor(functor, this.$scope);\t//functor can be a name of method\r\n\r\n\t\tvar event_stack=this._evs_events[type]||webix.toArray();\r\n\t\t//save new event handler\r\n\t\tif (arguments[3])\r\n\t\t\tevent_stack.unshift(functor);\r\n\t\telse\r\n\t\t\tevent_stack.push(functor);\r\n\t\tthis._evs_events[type]=event_stack;\r\n\t\tthis._evs_handlers[id]={ f:functor,t:type };\r\n\t\t\r\n\t\treturn id;\r\n\t},\r\n\t//remove event handler\r\n\tdetachEvent:function(id){\r\n\t\tif(!this._evs_handlers[id]){\r\n\t\t\tvar name = (id+\"\").toLowerCase();\r\n\t\t\tif (this._evs_events[name]){\r\n\t\t\t\tthis._evs_events[name] = webix.toArray();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar type=this._evs_handlers[id].t;\r\n\t\tvar functor=this._evs_handlers[id].f;\r\n\t\t\r\n\t\t//remove from all collections\r\n\t\tvar event_stack=this._evs_events[type];\r\n\t\tevent_stack.remove(functor);\r\n\t\tdelete this._evs_handlers[id];\r\n\t},\r\n\thasEvent:function(type){\r\n\t\ttype=type.toLowerCase();\r\n\t\tvar stack = this._evs_events[type];\r\n\t\treturn (stack && stack.length) ? true : false;\r\n\t}\r\n};\r\n\r\nwebix.extend(webix, webix.EventSystem, true);\r\n\r\n//array helper\r\n//can be used by webix.toArray()\r\nwebix.PowerArray={\r\n\t//remove element at specified position\r\n\tremoveAt:function(pos,len){\r\n\t\tif (pos>=0) this.splice(pos,(len||1));\r\n\t},\r\n\t//find element in collection and remove it \r\n\tremove:function(value){\r\n\t\tthis.removeAt(this.find(value));\r\n\t},\t\r\n\t//add element to collection at specific position\r\n\tinsertAt:function(data,pos){\r\n\t\tif (!pos && pos!==0)\t//add to the end by default\r\n\t\t\tthis.push(data);\r\n\t\telse {\t\r\n\t\t\tvar b = this.splice(pos,(this.length-pos));\r\n\t\t\tthis[pos] = data;\r\n\t\t\tthis.push.apply(this,b); //reconstruct array without loosing this pointer\r\n\t\t}\r\n\t},\r\n\t//return index of element, -1 if it doesn't exists\r\n\tfind:function(data){ \r\n\t\tfor (var i=0; i<this.length; i++) \r\n\t\t\tif (data==this[i]) return i;\r\n\t\treturn -1; \r\n\t},\r\n\t//execute some method for each element of array\r\n\teach:function(functor,master){\r\n\t\tfor (var i=0; i < this.length; i++)\r\n\t\t\tfunctor.call((master||this),this[i]);\r\n\t},\r\n\t//create new array from source, by using results of functor \r\n\tmap:function(functor,master){\r\n\t\tfor (var i=0; i < this.length; i++)\r\n\t\t\tthis[i]=functor.call((master||this),this[i]);\r\n\t\treturn this;\r\n\t}, \r\n\tfilter:function(functor, master){\r\n\t\tfor (var i=0; i < this.length; i++)\r\n\t\t\tif (!functor.call((master||this),this[i])){\r\n\t\t\t\tthis.splice(i,1);\r\n\t\t\t\ti--;\r\n\t\t\t}\r\n\t\treturn this;\r\n\t}\r\n};\r\n\r\nwebix.env = {};\r\n\r\n// webix.env.transform \r\n// webix.env.transition\r\n(function(){\r\n\twebix.env.strict = !!window.webix_strict;\r\n\twebix.env.https = document.location.protocol === \"https:\";\r\n\r\n\tif (navigator.userAgent.indexOf(\"Mobile\")!=-1 || navigator.userAgent.indexOf(\"Windows Phone\")!=-1)\r\n\t\twebix.env.mobile = true;\r\n\tif (webix.env.mobile || navigator.userAgent.indexOf(\"iPad\")!=-1 || navigator.userAgent.indexOf(\"Android\")!=-1)\r\n\t\twebix.env.touch = true;\r\n\tif (navigator.userAgent.indexOf('Opera')!=-1)\r\n\t\twebix.env.isOpera=true;\r\n\telse{\r\n\t\t//very rough detection, but it is enough for current goals\r\n\t\twebix.env.isIE=!!document.all || (navigator.userAgent.indexOf(\"Trident\") !== -1);\r\n\t\tif (webix.env.isIE){\r\n\t\t\tvar version = parseFloat(navigator.appVersion.split(\"MSIE\")[1]);\r\n\t\t\tif (version == 8)\r\n\t\t\t\twebix.env.isIE8 = true;\r\n\t\t}\r\n\t\twebix.env.isEdge=(navigator.userAgent.indexOf(\"Edge\")!=-1);\r\n\t\twebix.env.isFF=(navigator.userAgent.indexOf(\"Firefox\")!=-1);\r\n\t\twebix.env.isWebKit=(navigator.userAgent.indexOf(\"KHTML\")!=-1);\r\n\t\twebix.env.isSafari=webix.env.isWebKit && (navigator.userAgent.indexOf('Mac')!=-1);\r\n\t}\r\n\r\n\tif(navigator.userAgent.toLowerCase().indexOf(\"android\")!=-1){\r\n\t\twebix.env.isAndroid = true;\r\n\t\tif(navigator.userAgent.toLowerCase().indexOf(\"trident\")){\r\n\t\t\twebix.env.isAndroid = false;\r\n\t\t\twebix.env.isIEMobile = true;\r\n\t\t}\r\n\t}\r\n\r\n\twebix.env.transform = false;\r\n\twebix.env.transition = false;\r\n\r\n\tvar found_index = -1;\r\n\tvar js_list =  ['', 'webkit', 'Moz', 'O', 'ms'];\r\n\tvar css_list = ['', '-webkit-', '-Moz-', '-o-', '-ms-'];\r\n\r\n\t\r\n\tvar d = document.createElement(\"DIV\");\r\n\tfor (var j=0; j < js_list.length; j++) {\r\n\t\tvar name = js_list[j] ? (js_list[j]+\"Transform\") : \"transform\";\r\n\t\tif(typeof d.style[name] != 'undefined'){\r\n\t\t\tfound_index = j;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tif (found_index > -1){\r\n\t\twebix.env.cssPrefix = css_list[found_index];\r\n\t\tvar jp = webix.env.jsPrefix = js_list[found_index];\r\n\r\n\t\twebix.env.transform = jp ? jp+\"Transform\" : \"transform\";\r\n\t\twebix.env.transition = jp ? jp+\"Transition\" : \"transition\";\r\n\t\twebix.env.transitionDuration = jp ? jp+\"TransitionDuration\" : \"transitionDuration\";\r\n\r\n\t\td.style[webix.env.transform] = \"translate3d(0,0,0)\";\r\n\t\twebix.env.translate = (d.style[webix.env.transform])?\"translate3d\":\"translate\";\r\n\t\twebix.env.transitionEnd = ((webix.env.cssPrefix == '-Moz-')?\"transitionend\":(jp ? jp+\"TransitionEnd\" : \"transitionend\"));\r\n\t}\r\n\r\n\twebix.env.pointerevents = (!webix.env.isIE ||(new RegExp(\"Trident/.*rv:11\")).exec(navigator.userAgent) !== null);\r\n})();\r\n\r\n\r\nwebix.env.svg = (function(){\r\n\treturn document.implementation.hasFeature(\"http://www.w3.org/TR/SVG11/feature#BasicStructure\", \"1.1\");\r\n})();\r\n\r\n\r\n//html helpers\r\nwebix.html={\r\n\t_native_on_selectstart:0,\r\n\t_style_element:{},\r\n\tdenySelect:function(){\r\n\t\tif (!webix._native_on_selectstart)\r\n\t\t\twebix._native_on_selectstart = document.onselectstart;\r\n\t\tdocument.onselectstart = webix.html.stopEvent;\r\n\t},\r\n\tallowSelect:function(){\r\n\t\tif (webix._native_on_selectstart !== 0){\r\n\t\t\tdocument.onselectstart = webix._native_on_selectstart||null;\r\n\t\t}\r\n\t\twebix._native_on_selectstart = 0;\r\n\r\n\t},\r\n\tindex:function(node){\r\n\t\tvar k=0;\r\n\t\t//must be =, it is not a comparation!\r\n\t\twhile ((node = node.previousSibling)) k++;\r\n\t\treturn k;\r\n\t},\r\n\t_style_cache:{},\r\n\tcreateCss:function(rule, sufix){\r\n\t\tvar text = \"\";\r\n\t\t\tsufix = sufix || \"\";\r\n\r\n\t\tfor (var key in rule)\r\n\t\t\ttext+= key+\":\"+rule[key]+\";\";\r\n\t\t\r\n\t\tvar name = this._style_cache[text+sufix];\r\n\t\tif (!name){\r\n\t\t\tname = \"s\"+webix.uid();\r\n\t\t\tthis.addStyle(\".\"+name+(sufix||\"\")+\"{\"+text+\"}\");\r\n\t\t\tthis._style_cache[text+sufix] = name;\r\n\t\t}\r\n\t\treturn name;\r\n\t},\r\n\taddStyle:function(rule, group){\r\n\t\tvar style = group ? this._style_element[group] :this._style_element.default;\r\n\t\tif(!style){\r\n\t\t\tstyle = document.createElement(\"style\");\r\n\t\t\tstyle.setAttribute(\"type\", \"text/css\");\r\n\t\t\tstyle.setAttribute(\"media\", \"screen\");\r\n\t\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(style);\r\n\r\n\t\t\tif (group)\r\n\t\t\t\tthis._style_element[group] = style;\r\n\t\t\telse\r\n\t\t\t\tthis._style_element.default = style;\r\n\t\t}\r\n\t\t/*IE8*/\r\n\t\tif (style.styleSheet)\r\n\t\t\tstyle.styleSheet.cssText += rule;\r\n\t\telse\r\n\t\t\tstyle.appendChild(document.createTextNode(rule));\r\n\t},\r\n\tremoveStyle:function(group){\r\n\t\tvar box = this._style_element[group||\"default\"];\r\n\t\tif (box)\r\n\t\t\tbox.innerHTML = \"\";\r\n\t},\r\n\tcreate:function(name,attrs,html){\r\n\t\tattrs = attrs || {};\r\n\t\tvar node = document.createElement(name);\r\n\t\tfor (var attr_name in attrs)\r\n\t\t\tnode.setAttribute(attr_name, attrs[attr_name]);\r\n\t\tif (attrs.style)\r\n\t\t\tnode.style.cssText = attrs.style;\r\n\t\tif (attrs[\"class\"])\r\n\t\t\tnode.className = attrs[\"class\"];\r\n\t\tif (html)\r\n\t\t\tnode.innerHTML=html;\r\n\t\treturn node;\r\n\t},\r\n\t//return node value, different logic for different html elements\r\n\tgetValue:function(node){\r\n\t\tnode = webix.toNode(node);\r\n\t\tif (!node) return \"\";\r\n\t\treturn webix.isUndefined(node.value)?node.innerHTML:node.value;\r\n\t},\r\n\t//remove html node, can process an array of nodes at once\r\n\tremove:function(node){\r\n\t\tif (node instanceof Array)\r\n\t\t\tfor (var i=0; i < node.length; i++)\r\n\t\t\t\tthis.remove(node[i]);\r\n\t\telse if (node && node.parentNode)\r\n\t\t\tnode.parentNode.removeChild(node);\r\n\t},\r\n\t//insert new node before sibling, or at the end if sibling doesn't exist\r\n\tinsertBefore: function(node,before,rescue){\r\n\t\tif (!node) return;\r\n\t\tif (before && before.parentNode)\r\n\t\t\tbefore.parentNode.insertBefore(node, before);\r\n\t\telse\r\n\t\t\trescue.appendChild(node);\r\n\t},\r\n\t//return custom ID from html element \r\n\t//will check all parents starting from event's target\r\n\tlocate:function(e,id){\r\n\t\tvar trg;\r\n\t\tif (e.tagName)\r\n\t\t\ttrg = e;\r\n\t\telse {\r\n\t\t\te=e||event;\r\n\t\t\ttrg=e.target||e.srcElement;\r\n\t\t}\r\n\t\t\r\n\t\twhile (trg){\r\n\t\t\tif (trg.getAttribute){\t//text nodes has not getAttribute\r\n\t\t\t\tvar test = trg.getAttribute(id);\r\n\t\t\t\tif (test) return test;\r\n\t\t\t}\r\n\t\t\ttrg=trg.parentNode;\r\n\t\t}\t\r\n\t\treturn null;\r\n\t},\r\n\t//returns position of html element on the page\r\n\toffset:function(elem) {\r\n\t\tif (elem.getBoundingClientRect) { //HTML5 method\r\n\t\t\tvar box = elem.getBoundingClientRect();\r\n\t\t\tvar body = document.body;\r\n\t\t\tvar docElem = document.documentElement;\r\n\t\t\tvar scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\r\n\t\t\tvar scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\r\n\t\t\tvar clientTop = docElem.clientTop || body.clientTop || 0;\r\n\t\t\tvar clientLeft = docElem.clientLeft || body.clientLeft || 0;\r\n\t\t\tvar top  = box.top +  scrollTop - clientTop;\r\n\t\t\tvar left = box.left + scrollLeft - clientLeft;\r\n\t\t\treturn { y: Math.round(top), x: Math.round(left), width:elem.offsetWidth, height:elem.offsetHeight };\r\n\t\t} else { //fallback to naive approach\r\n\t\t\tvar top=0, left=0;\r\n\t\t\twhile(elem) {\r\n\t\t\t\ttop = top + parseInt(elem.offsetTop,10);\r\n\t\t\t\tleft = left + parseInt(elem.offsetLeft,10);\r\n\t\t\t\telem = elem.offsetParent;\r\n\t\t\t}\r\n\t\t\treturn { y: top, x: left, width:elem.offsetHeight, height:elem.offsetWidth };\r\n\t\t}\r\n\t},\r\n\t//returns relative position of event\r\n\tposRelative:function(ev){\r\n\t\tev = ev || event;\r\n\t\tif (!webix.isUndefined(ev.offsetX))\r\n\t\t\treturn { x:ev.offsetX, y:ev.offsetY };\t//ie, webkit\r\n\t\telse\r\n\t\t\treturn { x:ev.layerX, y:ev.layerY };\t//firefox\r\n\t},\r\n\t//returns position of event\r\n\tpos:function(ev){\r\n\t\tev = ev || event;\r\n\t\tif (ev.touches && ev.touches[0])\r\n\t\t\tev = ev.touches[0];\r\n\r\n\t\tif(ev.pageX || ev.pageY)\t//FF, KHTML\r\n\t\t\treturn {x:ev.pageX, y:ev.pageY};\r\n\t\t//IE\r\n\t\tvar d  =  ((webix.env.isIE)&&(document.compatMode != \"BackCompat\"))?document.documentElement:document.body;\r\n\t\treturn {\r\n\t\t\tx:ev.clientX + d.scrollLeft - d.clientLeft,\r\n\t\t\ty:ev.clientY + d.scrollTop  - d.clientTop\r\n\t\t};\r\n\t},\r\n\t//prevent event action\r\n\tpreventEvent:function(e){\r\n\t\tif(e && e.preventDefault) e.preventDefault();\r\n\t\tif(e) e.returnValue = false;\r\n\t\treturn webix.html.stopEvent(e);\r\n\t},\r\n\t//stop event bubbling\r\n\tstopEvent:function(e){\r\n\t\te = (e||event);\r\n\t\tif(e.stopPropagation) e.stopPropagation();\r\n\t\te.cancelBubble=true;\r\n\t\treturn false;\r\n\t},\r\n\ttriggerEvent:function(node, type, name){\r\n\t\tif(document.createEventObject){\r\n\t\t\tvar ev = document.createEventObject();\r\n\t\t\tif (node.fireEvent)\r\n\t\t\t\tnode.fireEvent(\"on\"+name, ev);\r\n\t\t} else{\r\n\t\t\tvar ev = document.createEvent(type);\r\n\t\t\tev.initEvent(name, true, true);\r\n\t\t\tif (node.dispatchEvent)\r\n\t\t\t\tnode.dispatchEvent(ev);\r\n\t\t}\r\n\t},\r\n\t//add css class to the node\r\n\taddCss:function(node,name,check){\r\n\t\tif (!check || node.className.indexOf(name) === -1)\r\n\t\t\tnode.className+=\" \"+name;\r\n\t},\r\n\t//remove css class from the node\r\n\tremoveCss:function(node,name){\r\n\t\tnode.className=node.className.replace(RegExp(\" \"+name,\"g\"),\"\");\r\n\t},\r\n\tgetTextSize:function(text, css){\r\n\t\tvar d = webix.html.create(\"DIV\",{\"class\":\"webix_view webix_measure_size \"+(css||\"\")},\"\");\r\n\t\td.style.cssText = \"width:1px; height:1px; visibility:hidden; position:absolute; top:0px; left:0px; overflow:hidden; white-space:nowrap;\";\r\n\t\tdocument.body.appendChild(d);\r\n\r\n\t\tvar all = (typeof text !==  \"object\") ? [text] : text;\r\n\t\tvar width = 0;\r\n\t\tvar height = 0;\r\n\r\n\t\tfor (var i = 0; i < all.length; i++) {\r\n\t\t\td.innerHTML = all[i];\r\n\t\t\twidth = Math.max(width, d.scrollWidth);\r\n\t\t\theight = Math.max(height, d.scrollHeight);\r\n\t\t}\r\n\t\t\r\n\t\twebix.html.remove(d);\r\n\t\treturn { width:width, height:height };\r\n\t},\r\n\tdownload:function(data, filename){\r\n\t\tvar objUrl = false;\r\n\r\n\t\tif(typeof data ==\"object\"){//blob\r\n\t\t\tif(window.navigator.msSaveBlob)\r\n\t\t\t\treturn window.navigator.msSaveBlob(data, filename);\r\n\t\t\telse if (webix.env.isSafari){\r\n\t\t\t\tvar reader = new FileReader();\r\n\t\t\t\treader.onloadend = function() {\r\n\t\t\t\t\tvar base64Data = reader.result;\r\n\t\t\t\t\twebix.html.download(\"data:attachment/file\" + base64Data.slice(base64Data.search(/[,;]/)), filename);\r\n\t\t\t\t};\r\n\t\t\t\treader.readAsDataURL(data);\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tdata = window.URL.createObjectURL(data);\r\n\t\t\t\tobjUrl = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t//data url or blob url\r\n\t\tvar link = document.createElement(\"a\");\r\n\t\tlink.href = data;\r\n\t\tlink.download = filename;\r\n\t\tdocument.body.appendChild(link);\r\n\t\tlink.click(); \r\n\r\n\t\twebix.delay(function(){\r\n\t\t\tif(objUrl) window.URL.revokeObjectURL(data);\r\n\t\t\tdocument.body.removeChild(link);\r\n\t\t\tlink.remove();\r\n\t\t});\r\n\t},\r\n\t_getClassName: function(node){\r\n\t\tif(!node) return \"\";\r\n\r\n\t\tvar className = node.className || \"\";\r\n\t\tif(className.baseVal)//'className' exist but not a string - IE svg element in DOM\r\n\t\t\tclassName = className.baseVal;\r\n\r\n\t\tif(!className.indexOf)\r\n\t\t\tclassName = \"\";\r\n\r\n\t\treturn className;\r\n\t},\r\n\tsetSelectionRange:function(node, start, end){\r\n\t\tstart = start || 0;\r\n\t\tend  = end || start;\r\n\r\n\t\tnode.focus();\r\n\t\tif(node.setSelectionRange)\r\n\t\t\tnode.setSelectionRange(start, end);\r\n\t\telse{\r\n\t\t\t//ie8\r\n\t\t\tvar textRange = node.createTextRange();\r\n\t\t\ttextRange.collapse(true);\r\n\t\t\ttextRange.moveEnd('character', end);\r\n\t\t\ttextRange.moveStart('character', start);\r\n\t\t\ttextRange.select();\r\n\t\t}\r\n\t},\r\n\tgetSelectionRange:function(node){\r\n\t\tif(\"selectionStart\" in node)\r\n\t\t\treturn {start:node.selectionStart || 0, end:node.selectionEnd || 0};\r\n\t\telse{\r\n\t\t\t//ie8\r\n\t\t\tnode.focus();\r\n\t\t\tvar selection = document.selection.createRange();\r\n\t\t\tvar bookmark = selection.getBookmark();\r\n\t\t\tvar textRange = node.createTextRange();\r\n \r\n\t\t\ttextRange.moveToBookmark(bookmark);\r\n\t\t\tvar length = textRange.text.length;\r\n\t\t\t\r\n\t\t\ttextRange.collapse(true);\r\n\t\t\ttextRange.moveStart('character', -node.value.length);\r\n  \r\n\t\t\tvar start = textRange.text.length;\r\n\t\t\treturn {start:start, end: start + length};\r\n\t\t}\r\n\t}\r\n};\r\n\r\nwebix.ready = function(code){\r\n\tif (this._ready) code.call();\r\n\telse this._ready_code.push(code);\r\n};\r\nwebix.debug_ready = webix.ready; //same command but will work only in dev. build\r\nwebix._ready_code = [];\r\n\r\n//autodetect codebase folder\r\n(function(){\r\n\tvar temp = document.getElementsByTagName(\"SCRIPT\");\t//current script, most probably\r\n\twebix.assert(temp.length,\"Can't locate codebase\");\r\n\tif (temp.length){\r\n\t\t//full path to script\r\n\t\ttemp = (temp[temp.length-1].getAttribute(\"src\")||\"\").split(\"/\");\r\n\t\t//get folder name\r\n\t\ttemp.splice(temp.length-1, 1);\r\n\t\twebix.codebase = temp.slice(0, temp.length).join(\"/\")+\"/\";\r\n\t}\r\n\r\n\tvar ready = function(){\r\n\t\tif(webix.env.isIE)\r\n\t\t\tdocument.body.className += \" webix_ie\";\r\n\t\twebix.callEvent(\"onReady\",[]);\r\n\t};\r\n\r\n\tvar doit = function(){\r\n\t\twebix._ready = true;\r\n\r\n\t\t//global plugins\r\n\t\tif (window.webix_ready && webix.isArray(webix_ready))\r\n\t\t\twebix._ready_code = webix_ready.concat(webix._ready_code);\r\n\r\n\t\tfor (var i=0; i < webix._ready_code.length; i++)\r\n\t\t\twebix._ready_code[i].call();\r\n\t\twebix._ready_code=[];\r\n\t};\r\n\r\n\twebix.attachEvent(\"onReady\", function(force){\r\n\t\tif (force) \r\n\t\t\tdoit();\r\n\t\telse \r\n\t\t\twebix.delay(doit);\r\n\t});\r\n\r\n\tif (document.readyState == \"complete\") ready();\r\n\telse webix.event(window, \"load\", ready);\r\n\t\r\n})();\r\n\r\nwebix.locale=webix.locale||{};\r\n\r\n\r\nwebix.assert_core_ready();\r\n\r\n\r\nwebix.ready(function(){\r\n\twebix.event(document.body,\"click\", function(e){\r\n\t\twebix.callEvent(\"onClick\",[e||event]);\r\n\t});\r\n});\r\nwebix.editStop = function(){\r\n\twebix.callEvent(\"onEditEnd\", []);\r\n};\r\n\r\n\r\nwebix.debug_blacklist={\r\n\tonmousemoving:1\r\n};\r\n/**\r\n\r\nBazed on Promiz - A fast Promises/A+ library \r\nhttps://github.com/Zolmeister/promiz\r\n\r\nThe MIT License (MIT)\r\n\r\nCopyright (c) 2014 Zolmeister\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy of\r\nthis software and associated documentation files (the \"Software\"), to deal in\r\nthe Software without restriction, including without limitation the rights to\r\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\r\nthe Software, and to permit persons to whom the Software is furnished to do so,\r\nsubject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in all\r\ncopies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\r\nFOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\r\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\r\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\r\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n*/\r\n\r\n/* jshint ignore:start */\r\n(function (self) {\r\n  var now = typeof setImmediate !== 'undefined' ? setImmediate : function(cb) {\r\n    setTimeout(cb, 0)\r\n  }\r\n  \r\n  /**\r\n   * @constructor\r\n   */\r\n  function promise(fn, er) {\r\n    var self = this\r\n\r\n    self.promise = self\r\n    self.state = 'pending'\r\n    self.val = null\r\n    self.fn = fn || null\r\n    self.er = er || null\r\n    self.next = [];\r\n  }\r\n\r\n  promise.prototype.resolve = function (v) {\r\n    var self = this\r\n    if (self.state === 'pending') {\r\n      self.val = v\r\n      self.state = 'resolving'\r\n\r\n      now(function () {\r\n        self.fire()\r\n      })\r\n    }\r\n  }\r\n\r\n  promise.prototype.reject = function (v) {\r\n    var self = this\r\n    if (self.state === 'pending') {\r\n      self.val = v\r\n      self.state = 'rejecting'\r\n\r\n      now(function () {\r\n        self.fire()\r\n      })\r\n    }\r\n  }\r\n\r\n  promise.prototype.then = function (fn, er) {\r\n    var self = this\r\n    var p = new promise(fn, er)\r\n    self.next.push(p)\r\n    if (self.state === 'resolved') {\r\n      p.resolve(self.val)\r\n    }\r\n    if (self.state === 'rejected') {\r\n      p.reject(self.val)\r\n    }\r\n    return p\r\n  }\r\n  promise.prototype.fail = function (er) {\r\n    return this.then(null, er)\r\n  }\r\n  promise.prototype.finish = function (type) {\r\n    var self = this\r\n    self.state = type\r\n\r\n    if (self.state === 'resolved') {\r\n      for (var i = 0; i < self.next.length; i++)\r\n        self.next[i].resolve(self.val);\r\n    }\r\n\r\n    if (self.state === 'rejected') {\r\n      for (var i = 0; i < self.next.length; i++)\r\n        self.next[i].reject(self.val);\r\n\r\n      if (webix.assert && !self.next.length)\r\n        throw(self.val);\r\n    }\r\n  }\r\n\r\n  // ref : reference to 'then' function\r\n  // cb, ec, cn : successCallback, failureCallback, notThennableCallback\r\n  promise.prototype.thennable = function (ref, cb, ec, cn, val) {\r\n    var self = this\r\n    val = val || self.val\r\n    if (typeof val === 'object' && typeof ref === 'function') {\r\n      try {\r\n        // cnt protects against abuse calls from spec checker\r\n        var cnt = 0\r\n        ref.call(val, function(v) {\r\n          if (cnt++ !== 0) return\r\n          cb(v)\r\n        }, function (v) {\r\n          if (cnt++ !== 0) return\r\n          ec(v)\r\n        })\r\n      } catch (e) {\r\n        ec(e)\r\n      }\r\n    } else {\r\n      cn(val)\r\n    }\r\n  }\r\n\r\n  promise.prototype.fire = function () {\r\n    var self = this\r\n    // check if it's a thenable\r\n    var ref;\r\n    try {\r\n      ref = self.val && self.val.then\r\n    } catch (e) {\r\n      self.val = e\r\n      self.state = 'rejecting'\r\n      return self.fire()\r\n    }\r\n\r\n    self.thennable(ref, function (v) {\r\n      self.val = v\r\n      self.state = 'resolving'\r\n      self.fire()\r\n    }, function (v) {\r\n      self.val = v\r\n      self.state = 'rejecting'\r\n      self.fire()\r\n    }, function (v) {\r\n      self.val = v\r\n      \r\n      if (self.state === 'resolving' && typeof self.fn === 'function') {\r\n        try {\r\n          self.val = self.fn.call(undefined, self.val)\r\n        } catch (e) {\r\n          self.val = e\r\n          return self.finish('rejected')\r\n        }\r\n      }\r\n\r\n      if (self.state === 'rejecting' && typeof self.er === 'function') {\r\n        try {\r\n          self.val = self.er.call(undefined, self.val)\r\n          self.state = 'resolving'\r\n        } catch (e) {\r\n          self.val = e\r\n          return self.finish('rejected')\r\n        }\r\n      }\r\n\r\n      if (self.val === self) {\r\n        self.val = TypeError()\r\n        return self.finish('rejected')\r\n      }\r\n\r\n      self.thennable(ref, function (v) {\r\n        self.val = v\r\n        self.finish('resolved')\r\n      }, function (v) {\r\n        self.val = v\r\n        self.finish('rejected')\r\n      }, function (v) {\r\n        self.val = v\r\n        self.state === 'resolving' ? self.finish('resolved') : self.finish('rejected')\r\n      })\r\n\r\n    })\r\n  }\r\n\r\n  promise.prototype.done = function () {\r\n    if (this.state = 'rejected' && !this.next) {\r\n      throw this.val\r\n    }\r\n    return null\r\n  }\r\n\r\n  promise.prototype.nodeify = function (cb) {\r\n    if (typeof cb === 'function') return this.then(function (val) {\r\n        try {\r\n          cb(null, val)\r\n        } catch (e) {\r\n          setImmediate(function () {\r\n            throw e\r\n          })\r\n        }\r\n\r\n        return val\r\n      }, function (val) {\r\n        try {\r\n          cb(val)\r\n        } catch (e) {\r\n          setImmediate(function () {\r\n            throw e\r\n          })\r\n        }\r\n\r\n        return val\r\n      })\r\n\r\n    return this\r\n  }\r\n\r\n  promise.prototype.spread = function (fn, er) {\r\n    return this.all().then(function (list) {\r\n      return typeof fn === 'function' && fn.apply(null, list)\r\n    }, er)\r\n  }\r\n  \r\n  promise.prototype.all = function() {\r\n    var self = this\r\n    return this.then(function(list){\r\n      var p = new promise()\r\n      if(!(list instanceof Array)) {\r\n        p.reject(TypeError)\r\n        return p\r\n      }\r\n      \r\n      var cnt = 0\r\n      var target = list.length\r\n      \r\n      function done() {\r\n        if (++cnt === target) p.resolve(list)\r\n      }\r\n      \r\n      for(var i=0, l=list.length; i<l; i++) {\r\n        var value = list[i]\r\n        var ref;\r\n        \r\n        try {\r\n          ref = value && value.then\r\n        } catch (e) {\r\n          p.reject(e)\r\n          break\r\n        }\r\n        \r\n        (function(i){\r\n          self.thennable(ref, function(val){\r\n            list[i] = val\r\n            done()\r\n          }, function(val){\r\n            list[i] = val\r\n            done()\r\n          }, function(){\r\n            done()\r\n          }, value)\r\n        })(i)\r\n      }\r\n\r\n      return p\r\n    })\r\n  }\r\n\r\n  // self object gets globalalized/exported\r\n  var promiz = {\r\n\r\n    all:function(list){\r\n      var p = new promise(null, null);\r\n      p.resolve(list);\r\n      return p.all();\r\n    },\r\n    // promise factory\r\n    defer: function () {\r\n      return new promise(null, null)\r\n    },\r\n\r\n    // calls a function and resolved as a promise\r\n    fcall: function() {\r\n      var def = new promise()\r\n      var args = Array.apply([], arguments)\r\n      var fn = args.shift()\r\n      try {\r\n        var val = fn.apply(null, args)\r\n        def.resolve(val)\r\n      } catch(e) {\r\n        def.reject(e)\r\n      }\r\n\r\n      return def\r\n    },\r\n\r\n    // calls a node-style function (eg. expects callback as function(err, callback))\r\n    nfcall: function() {\r\n      var def = new promise()\r\n      var args = Array.apply([], arguments)\r\n      var fn = args.shift()\r\n      try {\r\n\r\n        // Add our custom promise callback to the end of the arguments\r\n        args.push(function(err, val){\r\n          if(err) {\r\n            return def.reject(err)\r\n          }\r\n          return def.resolve(val)\r\n        })\r\n        fn.apply(null, args)\r\n      } catch (e) {\r\n        def.reject(e)\r\n      }\r\n\r\n      return def\r\n    }\r\n  }\r\n  \r\n  self.promise = promiz\r\n})(webix);\r\n/* jshint ignore:end */\r\n\r\n(function(){\r\n\r\nvar error_key = \"__webix_remote_error\";\r\n\r\nfunction RemoteContext(url, config){\r\n\tthis._proxy = {};\r\n\tthis._queue = [];\r\n\tthis._url = url;\r\n\tthis._key = \"\";\r\n\r\n\tif (config)\r\n\t\tthis._process(config);\r\n\telse\r\n\t\tthis._ready = webix.ajax(url)\r\n\t\t\t.then(function(data){\r\n\t\t\t\treturn data.text();\r\n\t\t\t})\r\n\t\t\t.then(webix.bind(function(text){\r\n\t\t\t\ttext = text.split(\"/*api*/\")[1];\r\n\t\t\t\tthis._process(JSON.parse(text));\r\n\t\t\t\treturn this._proxy;\r\n\t\t\t}, this));\r\n}\r\nRemoteContext.prototype = {\r\n\t_process:function(config){\r\n\t\tif (config.$key)\r\n\t\t\tthis._key = config.$key;\r\n\t\tif (config.$vars)\r\n\t\t\tfor (var key in config.$vars)\r\n\t\t\t\tthis._proxy[key] = config.$vars[key];\r\n\r\n\t\tthis._parse(config, this._proxy, \"\");\r\n\t},\r\n\t_parse:function(api, obj, prefix){\r\n\t\tfor (var key in api){\r\n\t\t\tif (key === \"$key\" || key === \"$vars\") continue;\r\n\t\t\tvar val = api[key];\r\n\t\t\tif (typeof val == \"object\"){\r\n\t\t\t\tvar sub = obj[key] = {};\r\n\t\t\t\tthis._parse(val, sub, prefix+key+\".\");\r\n\t\t\t} else\r\n\t\t\t\tobj[key] = this._proxy_call(this, prefix+key);\r\n\t\t}\r\n\t},\r\n\t_call:function(name, args){\r\n\t\tvar def = this._deffer(this, name, args);\r\n\t\tthis._queue.push(def);\r\n\t\tthis._start_queue();\r\n\t\treturn def;\r\n\t},\r\n\t_start_queue:function(){\r\n\t\tif (!this._timer)\r\n\t\t\tthis._timer = setTimeout(webix.bind(this._run_queue, this), 1);\r\n\t},\r\n\t_run_queue:function(){\r\n\t\tvar data = [], defs = this._queue;\r\n\t\tfor (var i=0; i<this._queue.length; i++){\r\n\t\t\tvar def = this._queue[i];\r\n\t\t\tif (def.$sync){\r\n\t\t\t\tdefs.splice(i,1); i--;\r\n\t\t\t} else\r\n\t\t\t\tdata.push({ name: def.$name, args: def.$args });\t\r\n\t\t}\r\n\r\n\t\tif (defs.length){\r\n\t\t\tvar ajax = webix.ajax();\r\n\t\t\tvar pack = this._pack(data);\r\n\t\t\twebix.callEvent(\"onBeforeRemoteCall\", [ajax, pack, {}]);\r\n\t\t\tvar promise = ajax.post(this._url, pack)\r\n\t\t\t\t.then(function(res){\r\n\t\t\t\t\tvar data = res.json();\r\n\t\t\t\t\tvar results = data.data;\r\n\t\t\t\t\tfor (var i=0; i<results.length; i++){\r\n\t\t\t\t\t\tvar res = results[i];\r\n\t\t\t\t\t\tvar error = results[i] && results[i][error_key];\r\n\t\t\t\t\t\tif (error){\r\n\t\t\t\t\t\t\twebix.callEvent(\"onRemoteError\", [error]);\r\n\t\t\t\t\t\t\tdefs[i].reject(error);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tdefs[i].resolve(res);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\t\t\r\n\t\t\t\t}, function(res){\r\n\t\t\t\t\tfor (var i=0; i<defs.length; i++)\r\n\t\t\t\t\t\tdefs[i].reject(res);\r\n\t\t\t\t\tthrow res;\r\n\t\t\t\t});\r\n\t\t\twebix.callEvent(\"onAfterRemoteCall\", [promise]);\r\n\t\t}\r\n\r\n\t\tthis._queue = [];\r\n\t\tthis._timer = null;\r\n\t},\r\n\t_sync:function(){\r\n\t\tvar value = null;\r\n\t\tthis.$sync = true;\r\n\t\tvar data = [{ name: this.$name, args: this.$args }];\r\n\r\n\t\ttry {\r\n\t\t\tvar ajax = webix.ajax();\r\n\t\t\tvar pack = this.$context._pack(data);\r\n\t\t\twebix.callEvent(\"onBeforeRemoteCall\", [ajax, pack, { sync: true }]);\r\n\t\t\tvar xhr = ajax.sync().post(this.$context._url, pack);\r\n\t\t\twebix.callEvent(\"onAfterRemoteCall\", [null]);\r\n\t\t\tvar value = JSON.parse(xhr.responseText).data[0];\r\n\t\t\tif (value[error_key])\r\n\t\t\t\tvalue = null;\r\n\t\t} catch(e){}\r\n\r\n\t\treturn value;\r\n\t},\r\n\t_deffer:function(master, name, args){\r\n\t\tvar pr = webix.promise.defer();\r\n\t\tpr.sync = master._sync;\r\n\t\tpr.$name = name;\r\n\t\tpr.$args = args;\r\n\t\tpr.$context = this;\r\n\r\n\t\treturn pr;\r\n\t},\r\n\t_proxy_call:function(master, name){\r\n\t\treturn function(){\r\n\t\t\treturn master._call(name, [].slice.call(arguments));\r\n\t\t};\r\n\t},\r\n\t_getProxy:function(){\r\n\t\treturn this._ready || this._proxy;\r\n\t},\r\n\t_pack:function(obj){\r\n\t\treturn {\r\n\t\t\tkey: this._key,\r\n\t\t\tpayload:obj\r\n\t\t};\r\n\t}\r\n};\r\n\r\nfunction getApi(url, config){\r\n\tvar ctx = new RemoteContext(url, config);\r\n\treturn ctx._getProxy();\r\n}\r\n\r\nwebix.remote = function(url, config){\r\n\tif (typeof url === \"object\"){\r\n\t\tvar scripts = document.getElementsByTagName(\"script\");\r\n\t\tconfig = url;\r\n\t\turl = scripts[scripts.length - 1].src;\r\n\t\twebix.remote = getApi(url, config);\r\n\t} else \r\n\t\treturn getApi(url, config);\r\n};\r\n\r\n\r\n})();\r\n\r\n/*\r\n\tUI:DataView\r\n*/\r\n\r\n\r\nwebix.skin={};\r\n\r\nwebix.skin.air = {\r\n\ttopLayout:\"wide\",\r\n\t//bar in accordion\r\n\tbarHeight:34,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight: 36,\r\n\trowHeight:34,\r\n\ttoolbarHeight:22,\r\n\tlistItemHeight:28,\t\t//list, grouplist, dataview, etc.\r\n\tinputHeight:34,\r\n\tinputPadding: 2,\r\n\tmenuHeight: 34,\r\n\tmenuMargin:0,\r\n\tlabelTopHeight: 16,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:10, wide:4, clean:0, head:4, line:-1, toolbar:4, form:8  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:10, wide:0, clean:0, head:0, line:0, toolbar:4, form:8  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:0,\r\n\r\n\tcalendarHeight: 70,\r\n\tpadding:0,\r\n\r\n\toptionHeight: 27\r\n};\r\nwebix.skin[\"aircompact\"] = {\r\n\ttopLayout:\"wide\",\r\n\t//bar in accordion\r\n\tbarHeight:24,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight: 26,\r\n\trowHeight:26,\r\n\ttoolbarHeight:22,\r\n\tlistItemHeight:28,\t\t//list, grouplist, dataview, etc. \r\n\tinputHeight:29,\r\n\tinputPadding: 2,\r\n\tmenuHeight: 25,\r\n\tmenuMargin:0,\r\n\tlabelTopHeight: 16,\r\n\t\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:10, wide:4, clean:0, head:4, line:-1, toolbar:4, form:8  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:10, wide:0, clean:0, head:0, line:0, toolbar:4, form:8  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:0,\r\n\r\n\tcalendarHeight: 70,\r\n\tpadding:0,\r\n\r\n\toptionHeight: 23\r\n};\r\n\r\nwebix.skin.web = {\r\n\tname:\"web\",\r\n\ttopLayout:\"space\",\r\n\t//bar in accordion\r\n\tbarHeight:28,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight: 30,\r\n\trowHeight:30,\r\n\ttoolbarHeight:22,\r\n\tlistItemHeight:28,\t\t//list, grouplist, dataview, etc. \r\n\tinputHeight:28,\r\n\tinputPadding: 2,\r\n\tmenuMargin: 0,\r\n\tmenuHeight: 27,\r\n\tlabelTopHeight: 16,\r\n\t//accordionMargin: 9,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:10, wide:4, clean:0, head:4, line:-1, toolbar:4, form:8, accordion: 9  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:10, wide:0, clean:0, head:0, line:0, toolbar:4, form:8, accordion:0  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:3,\r\n\ttabTopOffset:3,\r\n\r\n\tcalendarHeight: 70,\r\n\tpadding:0,\r\n\r\n\toptionHeight: 22\r\n};\r\nwebix.skin.clouds = {\r\n\ttopLayout:\"wide\",\r\n\t//bar in accordion\r\n\tbarHeight:36,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight: 46,\r\n\trowHeight:34,\r\n\ttoolbarHeight:22,\r\n\tlistItemHeight:32,\t\t//list, grouplist, dataview, etc.\r\n\tinputHeight:30,\r\n\tinputPadding: 2,\r\n\tmenuHeight: 34,\r\n\tlabelTopHeight: 16,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:10, wide:4, clean:0, head:4, line:-1, toolbar:4, form:8  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:10, wide:0, clean:0, head:0, line:0, toolbar:4, form:8  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:2,\r\n\ttabOffset:0,\r\n\ttabBottomOffset: 10,\r\n\r\n\r\n\tcalendarHeight: 70,\r\n\tpadding:0\r\n};\r\nwebix.skin.terrace = {\r\n\ttopLayout:\"space\",\r\n\t//bar in accordion\r\n\tbarHeight:37,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight: 39,\r\n\trowHeight:38,\r\n\ttoolbarHeight:22,\r\n\tlistItemHeight:28,\t\t//list, grouplist, dataview, etc.\r\n\tinputHeight:30,\r\n\tinputPadding: 2,\r\n\tmenuMargin: 0,\r\n\tmenuHeight: 32,\r\n\tlabelTopHeight: 16,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:20, wide:20, clean:0, head:4, line:-1, toolbar:4, form:8},\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:20, wide:0, clean:0, head:0, line:0, toolbar:4, form:8 },\r\n\ttabMargin:2,\r\n\ttabOffset:0,\r\n\r\n\r\n\tcalendarHeight: 70,\r\n\t//space between tabs in tabbar\r\n\tpadding:17,\r\n\r\n\toptionHeight: 24\r\n};\r\nwebix.skin.metro = {\r\n\ttopLayout:\"space\",\r\n\t//bar in accordion\r\n\tbarHeight:36,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight: 46,\r\n\trowHeight:34,\r\n\ttoolbarHeight:36,\r\n\tlistItemHeight:32,\t\t//list, grouplist, dataview, etc.\r\n\tinputHeight:30,\r\n\tbuttonHeight: 45,\r\n\tinputPadding: 2,\r\n\tmenuHeight: 36,\r\n\tlabelTopHeight: 16,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:10, wide:4, clean:0, head:4, line:-1, toolbar:4, form:8, accordion: 9  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:10, wide:0, clean:0, head:0, line:0, toolbar:0, form:8, accordion: 0  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:2,\r\n\ttabOffset:0,\r\n\ttabBottomOffset: 10,\r\n\r\n\tcalendarHeight: 70,\r\n\tpadding:0,\r\n\r\n\toptionHeight: 23\r\n};\r\nwebix.skin.light = {\r\n\ttopLayout:\"space\",\r\n\t//bar in accordion\r\n\tbarHeight:36,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight: 46,\r\n\trowHeight:32,\r\n\ttoolbarHeight:36,\r\n\tlistItemHeight:32,\t\t//list, grouplist, dataview, etc.\r\n\tinputHeight:34,\r\n\tbuttonHeight: 45,\r\n\tinputPadding: 3,\r\n\tmenuHeight: 36,\r\n\tlabelTopHeight: 16,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:15, wide:15, clean:0, head:4, line:-1, toolbar:4, form:8, accordion: 10  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:15, wide:0, clean:0, head:0, line:0, toolbar:0, form:8, accordion: 0  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:2,\r\n\ttabOffset:0,\r\n\ttabBottomOffset: 10,\r\n\r\n\tcalendarHeight: 70,\r\n\tpadding:0,\r\n\r\n\toptionHeight: 27\r\n};\r\nwebix.skin.glamour = {\r\n\ttopLayout:\"space\",\r\n\t//bar in accordion\r\n\tbarHeight:39,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight: 39,\r\n\trowHeight:32,\r\n\ttoolbarHeight:39,\r\n\tlistItemHeight:32,\t\t//list, grouplist, dataview, etc.\r\n\tinputHeight:34,\r\n\tbuttonHeight: 34,\r\n\tinputPadding: 3,\r\n\tmenuHeight: 36,\r\n\tlabelTopHeight: 16,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:15, wide:15, clean:0, head:4, line:-1, toolbar:4, form:8, accordion: 10  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:15, wide:0, clean:0, head:0, line:0, toolbar:3, form:8, accordion: 0  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:1,\r\n\ttabOffset:0,\r\n\ttabBottomOffset: 1,\r\n\r\n\tcalendarHeight: 70,\r\n\tpadding:0,\r\n\r\n\toptionHeight: 27\r\n};\r\nwebix.skin.touch = {\r\n\ttopLayout:\"space\",\r\n\t//bar in accordion\r\n\tbarHeight:42,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight: 50,\r\n\trowHeight:42,\r\n\ttoolbarHeight: 42,\r\n\tlistItemHeight:42,\t\t//list, grouplist, dataview, etc.\r\n\tinputHeight:42,\r\n\tinputPadding: 4,\r\n\tmenuHeight: 42,\r\n\tlabelTopHeight: 24,\r\n\tunitHeaderHeight: 34,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:10, wide:4, clean:0, head:4, line:-1, toolbar:0, form:0, accordion: 9  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:10, wide:0, clean:0, head:0, line:0, toolbar:4, form:8, accordion: 0  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:2,\r\n\ttabOffset:0,\r\n\ttabBottomOffset: 10,\r\n\tcalendar:{headerHeight: 70, timepickerHeight:35, height: 310, width: 300},\r\n\tpadding:0,\r\n\tcustomCheckbox: true,\r\n\tcustomRadio: true,\r\n\r\n\toptionHeight: 32\r\n};\r\nwebix.skin.flat = {\r\n\ttopLayout:\"space\",\r\n\t//bar in accordion\r\n\tbarHeight:46,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight: 46,\r\n\trowHeight:34,\r\n\ttoolbarHeight:46,\r\n\tlistItemHeight:34,\t\t//list, grouplist, dataview, etc.\r\n\tinputHeight: 38,\r\n\tbuttonHeight: 38,\r\n\tinputPadding: 3,\r\n\tmenuHeight: 34,\r\n\tlabelTopHeight: 22,\r\n\tpropertyItemHeight: 28,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:10, wide:10, clean:0, head:4, line:-1, toolbar:4, form:8, accordion: 10  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:10, wide:0, clean:0, head:0, line:0, toolbar:4, form:17, accordion: 0  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:4,\r\n\ttabOffset: 0,\r\n\ttabBottomOffset: 6,\r\n\ttabTopOffset:1,\r\n\r\n\tcustomCheckbox: true,\r\n\tcustomRadio: true,\r\n\r\n\tcalendarHeight: 70,\r\n\tpadding:0,\r\n\taccordionType: \"accordion\",\r\n\r\n\toptionHeight: 32\r\n};\r\nwebix.skin.compact = {\r\n\ttopLayout:\"space\",\r\n\t//bar in accordion\r\n\tbarHeight:34,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight: 34,\r\n\trowHeight:24,\r\n\ttoolbarHeight:34,\r\n\tlistItemHeight:28,\t\t//list, grouplist, dataview, etc.\r\n\tinputHeight: 30,\r\n\tbuttonHeight: 30,\r\n\tinputPadding: 3,\r\n\tmenuHeight: 28,\r\n\tlabelTopHeight: 16,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:5, wide:5, clean:0, head:4, line:-1, toolbar:4, form:4, accordion: 5  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:5, wide:0, clean:0, head:0, line:0, toolbar:2, form:12, accordion: 0  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:3,\r\n\ttabOffset: 0,\r\n\ttabBottomOffset: 3,\r\n\ttabTopOffset:1,\r\n\r\n\tcustomCheckbox: true,\r\n\tcustomRadio: true,\r\n\r\n\r\n\tcalendarHeight: 70,\r\n\tpadding:0,\r\n\taccordionType: \"accordion\",\r\n\r\n\toptionHeight: 23\r\n};\r\nwebix.skin.material = {\r\n\ttopLayout:\"space\",\r\n\t//bar in accordion\r\n\tbarHeight:45,\t\t\t//!!!Set the same in skin.less!!!\r\n\ttabbarHeight:47,\r\n\trowHeight:38,\r\n\ttoolbarHeight:22,\r\n\tlistItemHeight:34,\t\t//list, grouplist, dataview, etc.\r\n\tinputHeight:38,\r\n\tbuttonHeight:38,\r\n\tinputPadding: 2,\r\n\tmenuMargin: 0,\r\n\tmenuHeight: 34,\r\n\tlabelTopHeight: 16,\r\n\tpropertyItemHeight: 34,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ material:10, space:10, wide:10, clean:0, head:4, line:-1, toolbar:4, form:16, accordion: 0  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ material:10, space:10, wide:0, clean:0, head:0, line:0, toolbar:4, form:16, accordion: 0  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:0,\r\n\ttabOffset: 0,\r\n\ttabBottomOffset: 0,\r\n\ttabTopOffset:0,\r\n\r\n\tcustomCheckbox: true,\r\n\tcustomRadio: true,\r\n\r\n\tcalendarHeight: 70,\r\n\tpadding:0,\r\n\taccordionType: \"accordion\"\r\n};\r\nwebix.skin.contrast = {\r\n\ttopLayout:\"space\",\r\n\t//bar in accordion\r\n\tbarHeight:46,\t\t\t// !!!Set the same in skin.less!!!\r\n\ttabbarHeight: 46,\r\n\trowHeight:34,\r\n\ttoolbarHeight:46,\r\n\tlistItemHeight:34,\t\t// list, grouplist, dataview, etc.\r\n\tinputHeight: 38,\r\n\tbuttonHeight: 38,\r\n\tinputPadding: 3,\r\n\tmenuHeight: 34,\r\n\tlabelTopHeight: 22,\r\n\tpropertyItemHeight: 28,\r\n\r\n\t//margin - distance between cells\r\n\tlayoutMargin:{ space:10, wide:10, clean:0, head:4, line:-1, toolbar:8, form:8, accordion: 10  },\r\n\t//padding - distance insede cell between cell border and cell content\r\n\tlayoutPadding:{ space:10, wide:0, clean:0, head:0, line:0, toolbar:4, form:17, accordion: 0  },\r\n\t//space between tabs in tabbar\r\n\ttabMargin:4,\r\n\ttabOffset: 0,\r\n\ttabBottomOffset: 6,\r\n\ttabTopOffset:1,\r\n\r\n\tcustomCheckbox: true,\r\n\tcustomRadio: true,\r\n\r\n\tcalendarHeight: 70,\r\n\tpadding:0,\r\n\taccordionType: \"accordion\",\r\n\r\n\toptionHeight: 32\r\n};\r\n\r\nwebix.skin.set = function(name){\r\n\twebix.assert(webix.skin[name], \"Incorrect skin name: \"+name);\r\n\r\n\twebix.skin.$active = webix.skin[name];\r\n\twebix.skin.$name = name;\r\n\tif (webix.ui){\r\n\t\tfor (var key in webix.ui){\r\n\t\t\tvar view = webix.ui[key];\r\n\t\t\tif (view && view.prototype && view.prototype.$skin)\r\n\t\t\t\tview.prototype.$skin(view.prototype);\r\n\t\t}\r\n\t}\t\t\r\n};\r\nwebix.skin.set(window.webix_skin || \"flat\");\r\n\r\n/*\r\n\tBehavior:Destruction\r\n\t\r\n\t@export\r\n\t\tdestructor\r\n*/\r\n\r\n\r\n\r\nwebix.Destruction = {\r\n\t$init:function(){\r\n\t\t//register self in global list of destructors\r\n\t\twebix.destructors.push(this);\r\n\t},\r\n\t//will be called automatically on unload, can be called manually\r\n\t//simplifies job of GC\r\n\tdestructor:function(){\r\n\t\tvar config = this._settings;\r\n\r\n\t\tif (this._last_editor)\r\n\t\t\tthis.editCancel();\r\n\r\n\t\tif(this.callEvent)\r\n\t\t\tthis.callEvent(\"onDestruct\",[]);\r\n\r\n\t\tthis.destructor=function(){}; //destructor can be called only once\r\n\r\n\t\t//destroy child and related cells\r\n\t\tif (this.getChildViews){\r\n\t\t\tvar cells = this.getChildViews();\r\n\t\t\tif (cells)\r\n\t\t\t\tfor (var i=0; i < cells.length; i++)\r\n\t\t\t\t\tcells[i].destructor();\r\n\r\n\t\t\tif (this._destroy_with_me)\r\n\t\t\t\tfor (var i=0; i < this._destroy_with_me.length; i++)\r\n\t\t\t\t\tthis._destroy_with_me[i].destructor();\r\n\t\t}\r\n\r\n\t\tdelete webix.ui.views[config.id];\r\n\r\n\t\tif (config.$id){\r\n\t\t\tvar top = this.getTopParentView();\r\n\t\t\tif (top && top._destroy_child)\r\n\t\t\t\ttop._destroy_child(config.$id);\r\n\t\t}\r\n\r\n\t\t//html collection\r\n\t\tthis._htmlmap  = null;\r\n\t\tthis._htmlrows = null;\r\n\t\tthis._html = null;\r\n\r\n\r\n\t\tif (this._contentobj) {\r\n\t\t\tthis._contentobj.innerHTML=\"\";\r\n\t\t\tthis._contentobj._htmlmap = null;\r\n\t\t}\r\n\r\n\t\t//removes view container\r\n\t\tif (this._viewobj&&this._viewobj.parentNode){\r\n\t\t\tthis._viewobj.parentNode.removeChild(this._viewobj);\r\n\t\t}\r\n\r\n\t\tif (this.data && this.data.destructor)\r\n\t\t\tthis.data.destructor();\r\n\r\n\t\tif (this.unbind)\r\n\t\t\tthis.unbind();\r\n\r\n\t\tthis.data = null;\r\n\t\tthis._viewobj = this.$view = this._contentobj = this._dataobj = null;\r\n\t\tthis._evs_events = this._evs_handlers = {};\r\n\r\n\t\t//remove focus from destructed view\r\n\t\tif (webix.UIManager._view == this)\r\n\t\t\twebix.UIManager._view = null;\r\n\r\n\t\tvar url = config.url;\r\n\t\tif (url && url.$proxy && url.release)\r\n\t\t\turl.release();\r\n\r\n\t\tthis.$scope = null;\r\n\t\t// this flag is checked in delay method\r\n\t\tthis.$destructed = true;\r\n\t}\r\n};\r\n//global list of destructors\r\nwebix.destructors = [];\r\nwebix.event(window,\"unload\",function(){\r\n\twebix.callEvent(\"unload\", []);\r\n\twebix._final_destruction = true;\r\n\t\r\n\t//call all registered destructors\r\n\tfor (var i=0; i<webix.destructors.length; i++)\r\n\t\twebix.destructors[i].destructor();\r\n\twebix.destructors = [];\r\n\twebix.ui._popups = webix.toArray();\r\n\t\r\n\t//detach all known DOM events\r\n\tfor (var a in webix._events){\r\n\t\tvar ev = webix._events[a];\r\n\t\tif (ev[0].removeEventListener)\r\n\t\t\tev[0].removeEventListener(ev[1],ev[2],false);\r\n\t\telse if (ev[0].detachEvent)\r\n\t\t\tev[0].detachEvent(\"on\"+ev[1],ev[2]);\r\n\t\tdelete webix._events[a];\r\n\t}\r\n});\r\n\r\n/*\r\n\tBehavior:Settings\r\n\t\r\n\t@export\r\n\t\tcustomize\r\n\t\tconfig\r\n*/\r\n\r\n/*\r\n\tTemplate - handles html templates\r\n*/\r\n\r\n\r\n\r\n(function(){\r\n\r\nvar _cache = {};\r\nvar _csp_cache = {};\r\nvar newlines = new RegExp(\"(\\\\r\\\\n|\\\\n)\",\"g\");\r\nvar quotes   = new RegExp(\"(\\\\\\\")\",\"g\");\r\nvar slashes  = new RegExp(\"(\\\\\\\\)\",\"g\");\r\nvar escape = {\r\n  \"&\": \"&amp;\",\r\n  \"<\": \"&lt;\",\r\n  \">\": \"&gt;\",\r\n  '\"': \"&quot;\",\r\n  \"'\": \"&#x27;\",\r\n  \"`\": \"&#x60;\"\r\n};\r\nvar badChars = /[&<>\"'`]/g;\r\nvar escapeChar = function(chr) {\r\n  return escape[chr] || \"&amp;\";\r\n};\r\n\r\n\r\nwebix.template = function(str){\r\n\tif (typeof str == \"function\") return str;\r\n\tif (_cache[str])\r\n\t\treturn _cache[str];\r\n\t\t\r\n\tstr=(str||\"\").toString();\t\t\t\r\n\tif (str.indexOf(\"->\")!=-1){\r\n\t\tvar teststr = str.split(\"->\");\r\n\t\tswitch(teststr[0]){\r\n\t\t\tcase \"html\": \t//load from some container on the page\r\n\t\t\t\tstr = webix.html.getValue(teststr[1]);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"http\": \t//load from external file\r\n\t\t\t\tstr = new webix.ajax().sync().get(teststr[1],{uid:webix.uid()}).responseText;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\t//do nothing, will use template as is\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\t\t\r\n\t//supported idioms\r\n\t// {obj.attr} => named attribute or value of sub-tag in case of xml\r\n\tstr=(str||\"\").toString();\t\t\r\n\r\n\t// Content Security Policy enabled\r\n\tif(webix.env.strict){\r\n\t\tif (!_csp_cache[str]){\r\n\t\t\t_csp_cache[str] = [];\r\n\r\n\t\t\t// get an array of objects (not sorted by position)\r\n\t\t\tvar temp_res = [];\r\n\t\t\tstr.replace(/\\{obj\\.([^}?]+)\\?([^:]*):([^}]*)\\}/g,function(search,s1,s2,s3,pos){\r\n\t\t\t\t\ttemp_res.push({pos: pos, str: search, fn: function(obj,common){\r\n\t\t\t\t\t\treturn obj[s1]?s2:s3;\r\n\t\t\t\t\t}});\r\n\t\t\t});\r\n\t\t\tstr.replace(/\\{common\\.([^}\\(]*)\\}/g,function(search,s,pos){\r\n\t\t\t\ttemp_res.push({pos: pos, str: search, fn: function(obj,common){\r\n\t\t\t\t\treturn common[s]||'';\r\n\t\t\t\t}});\r\n\t\t\t});\r\n\t\t\tstr.replace(/\\{common\\.([^\\}\\(]*)\\(\\)\\}/g,function(search,s,pos){\r\n\t\t\t\ttemp_res.push({pos: pos, str: search, fn: function(obj,common){\r\n\t\t\t\t\treturn (common[s]?common[s].apply(this, arguments):\"\");\r\n\t\t\t\t}});\r\n\t\t\t});\r\n\t\t\tstr.replace(/\\{obj\\.([^:}]*)\\}/g,function(search,s,pos){\r\n\t\t\t\ttemp_res.push({pos: pos, str: search, fn: function(obj,common){\r\n\t\t\t\t\treturn obj[s];\r\n\t\t\t\t}});\r\n\t\t\t});\r\n\t\t\tstr.replace(\"{obj}\",function(search,s,pos){\r\n\t\t\t\ttemp_res.push({pos: pos, str: search, fn: function(obj,common){\r\n\t\t\t\t\treturn obj;\r\n\t\t\t\t}});\r\n\t\t\t});\r\n\t\t\tstr.replace(/#([^#'\";, ]+)#/gi,function(search,s,pos){\r\n\t\t\t\tif(s.charAt(0)==\"!\"){\r\n\t\t\t\t\ttemp_res.push({pos: pos, str: search, fn: function(obj,common){\r\n\t\t\t\t\t\ts = s.substr(1);\r\n\t\t\t\t\t\tif(s.indexOf(\".\")!= -1)\r\n\t\t\t\t\t\t\tobj = webix.CodeParser.collapseNames(obj); // apply complex properties\r\n\t\t\t\t\t\treturn webix.template.escape(obj[s.substr(1)]);\r\n\t\t\t\t\t}});\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\ttemp_res.push({pos: pos, str: search, fn: function(obj,common){\r\n\t\t\t\t\t\tif(s.indexOf(\".\")!= -1)\r\n\t\t\t\t\t\t\tobj = webix.CodeParser.collapseNames(obj); // apply complex properties\r\n\t\t\t\t\t\treturn obj[s];\r\n\t\t\t\t\t}});\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\t// sort template parts by position\r\n\t\t\ttemp_res.sort(function(a,b){\r\n\t\t\t\treturn (a.pos > b.pos)?1:-1;\r\n\t\t\t});\r\n\r\n\t\t\t// create an array of functions that return parts of html string\r\n\t\t\tif(temp_res.length){\r\n\t\t\t\tvar lastPos = 0;\r\n\t\t\t\tvar addStr = function(str,n0,n1){\r\n\t\t\t\t\t_csp_cache[str].push(function(){\r\n\t\t\t\t\t\treturn str.slice(n0,n1);\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t\tfor(var i = 0; i< temp_res.length; i++){\r\n\t\t\t\t\tvar pos = temp_res[i].pos;\r\n\t\t\t\t\taddStr(str,lastPos,pos);\r\n\t\t\t\t\t_csp_cache[str].push(temp_res[i].fn);\r\n\t\t\t\t\tlastPos = pos + temp_res[i].str.length;\r\n\t\t\t\t}\r\n\t\t\t\taddStr(str,lastPos,str.length);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\t_csp_cache[str].push(function(){return str;});\r\n\t\t}\r\n\t\treturn function(){\r\n\t\t\tvar s = \"\";\r\n\t\t\tfor(var i=0; i < _csp_cache[str].length;i++){\r\n\t\t\t\ts += _csp_cache[str][i].apply(this,arguments);\r\n\t\t\t}\r\n\t\t\treturn s;\r\n\t\t};\r\n\t}\r\n\r\n\tstr=str.replace(slashes,\"\\\\\\\\\");\r\n\tstr=str.replace(newlines,\"\\\\n\");\r\n\tstr=str.replace(quotes,\"\\\\\\\"\");\r\n\r\n\tstr=str.replace(/\\{obj\\.([^}?]+)\\?([^:]*):([^}]*)\\}/g,\"\\\"+(obj.$1?\\\"$2\\\":\\\"$3\\\")+\\\"\");\r\n\tstr=str.replace(/\\{common\\.([^}\\(]*)\\}/g,\"\\\"+(common.$1||'')+\\\"\");\r\n\tstr=str.replace(/\\{common\\.([^\\}\\(]*)\\(\\)\\}/g,\"\\\"+(common.$1?common.$1.apply(this, arguments):\\\"\\\")+\\\"\");\r\n\tstr=str.replace(/\\{obj\\.([^}]*)\\}/g,\"\\\"+(obj.$1)+\\\"\");\r\n\tstr=str.replace(\"{obj}\",\"\\\"+obj+\\\"\");\r\n\tstr=str.replace(/#([^#'\";, ]+)#/gi,function(str, key){\r\n\t\tif (key.charAt(0)==\"!\")\r\n\t\t\treturn \"\\\"+webix.template.escape(obj.\"+key.substr(1)+\")+\\\"\";\r\n\t\telse\r\n\t\t\treturn \"\\\"+(obj.\"+key+\")+\\\"\";\r\n\t});\r\n\r\n\ttry {\r\n\t\t_cache[str] = Function(\"obj\",\"common\",\"return \\\"\"+str+\"\\\";\");\r\n\t} catch(e){\r\n\t\twebix.assert_error(\"Invalid template:\"+str);\r\n\t}\r\n\r\n\treturn _cache[str];\r\n};\r\n\r\n\r\n\r\nwebix.template.escape  = function(str){\r\n\tif (str === webix.undefined || str === null) return \"\";\r\n\treturn (str.toString() || \"\" ).replace(badChars, escapeChar);\r\n};\r\nwebix.template.empty=function(){\treturn \"\";\t};\r\nwebix.template.bind =function(value){\treturn webix.bind(webix.template(value),this); };\r\n\r\n\r\n\t/*\r\n\t\tadds new template-type\r\n\t\tobj - object to which template will be added\r\n\t\tdata - properties of template\r\n\t*/\r\nwebix.type=function(obj, data){ \r\n\tif (obj.$protoWait){\r\n\t\tif (!obj._webix_type_wait)\r\n\t\t\tobj._webix_type_wait = [];\r\n\t\t\t\tobj._webix_type_wait.push(data);\r\n\t\treturn;\r\n\t}\r\n\t\t\r\n\t//auto switch to prototype, if name of class was provided\r\n\tif (typeof obj == \"function\")\r\n\t\tobj = obj.prototype;\r\n\tif (!obj.types){\r\n\t\tobj.types = { \"default\" : obj.type };\r\n\t\tobj.type.name = \"default\";\r\n\t}\r\n\t\r\n\tvar name = data.name;\r\n\tvar type = obj.type;\r\n\tif (name)\r\n\t\ttype = obj.types[name] = webix.clone(data.baseType?obj.types[data.baseType]:obj.type);\r\n\t\r\n\tfor(var key in data){\r\n\t\tif (key.indexOf(\"template\")===0)\r\n\t\t\ttype[key] = webix.template(data[key]);\r\n\t\telse\r\n\t\t\ttype[key]=data[key];\r\n\t}\r\n\r\n\treturn name;\r\n};\r\n\r\n})();\r\n\r\n\r\nwebix.Settings={\r\n\t$init:function(){\r\n\t\t/* \r\n\t\t\tproperty can be accessed as this.config.some\r\n\t\t\tin same time for inner call it have sense to use _settings\r\n\t\t\tbecause it will be minified in final version\r\n\t\t*/\r\n\t\tthis._settings = this.config= {}; \r\n\t},\r\n\tdefine:function(property, value){\r\n\t\tif (typeof property == \"object\")\r\n\t\t\treturn this._parseSeetingColl(property);\r\n\t\treturn this._define(property, value);\r\n\t},\r\n\t_define:function(property,value){\r\n\t\t//method with name {prop}_setter will be used as property setter\r\n\t\t//setter is optional\r\n\t\tvar setter = this[property+\"_setter\"];\r\n\t\treturn (this._settings[property]=setter?setter.call(this,value,property):value);\r\n\t},\r\n\t//process configuration object\r\n\t_parseSeetingColl:function(coll){\r\n\t\tif (coll){\r\n\t\t\tfor (var a in coll)\t\t\t\t//for each setting\r\n\t\t\t\tthis._define(a,coll[a]);\t\t//set value through config\r\n\t\t}\r\n\t},\r\n\t//helper for object initialization\r\n\t_parseSettings:function(obj,initial){\r\n\t\t//initial - set of default values\r\n\t\tvar settings = {}; \r\n\t\tif (initial)\r\n\t\t\tsettings = webix.extend(settings,initial);\r\n\t\t\t\t\t\r\n\t\t//code below will copy all properties over default one\r\n\t\tif (typeof obj == \"object\" && !obj.tagName)\r\n\t\t\twebix.extend(settings,obj, true);\t\r\n\t\t//call config for each setting\r\n\t\tthis._parseSeetingColl(settings);\r\n\t},\r\n\t_mergeSettings:function(config, defaults){\r\n\t\tfor (var key in defaults)\r\n\t\t\tswitch(typeof config[key]){\r\n\t\t\t\tcase \"object\": \r\n\t\t\t\t\tconfig[key] = this._mergeSettings((config[key]||{}), defaults[key]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"undefined\":\r\n\t\t\t\t\tconfig[key] = defaults[key];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\t//do nothing\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\treturn config;\r\n\t}\r\n};\r\n/* \r\n\tajax operations \r\n\t\r\n\tcan be used for direct loading as\r\n\t\twebix.ajax(ulr, callback)\r\n\tor\r\n\t\twebix.ajax().getItem(url)\r\n\t\twebix.ajax().post(url)\r\n\r\n*/\r\n\r\n\r\n\r\n\r\n\r\nwebix.proxy = function(name, source, extra){\r\n\twebix.assert(webix.proxy[name], \"Invalid proxy name: \"+name);\r\n\r\n\tvar copy = webix.copy(webix.proxy[name]);\r\n\tcopy.source = source;\r\n\r\n\tif (extra)\r\n\t\twebix.extend(copy, extra, true);\r\n\r\n\tif (copy.init) copy.init();\r\n\treturn copy;\r\n};\r\n\r\nwebix.proxy.$parse = function(value){\r\n\tif (typeof value == \"string\" && value.indexOf(\"->\") != -1){\r\n\t\tvar parts = value.split(\"->\");\r\n\t\treturn webix.proxy(parts[0], parts[1]);\r\n\t}\r\n\treturn value;\r\n};\r\n\r\nwebix.proxy.post = {\r\n\t$proxy:true,\r\n\tload:function(view, callback, params){\r\n\t\tparams = webix.extend(params||{}, this.params || {}, true);\r\n\t\twebix.ajax().bind(view).post(this.source, params, callback);\r\n\t}\r\n};\r\n\r\nwebix.proxy.sync = {\r\n\t$proxy:true,\r\n\tload:function(view, callback){\r\n\t\twebix.ajax().sync().bind(view).get(this.source, null, callback);\r\n\t}\r\n};\r\n\r\nwebix.proxy.connector = {\r\n\t$proxy:true,\r\n\r\n\tconnectorName:\"!nativeeditor_status\",\r\n\tload:function(view, callback){\r\n\t\twebix.ajax(this.source, callback, view);\r\n\t},\r\n\tsaveAll:function(view, updates, dp, callback){\r\n\t\tvar url = this.source;\r\n\r\n\t\tvar data = {};\r\n\t\tvar ids = [];\r\n\t\tfor (var i = 0; i < updates.length; i++) {\r\n\t\t\tvar action = updates[i];\r\n\t\t\tids.push(action.id);\r\n\r\n\t\t\tfor (var j in action.data)\r\n\t\t\t\tif (j.indexOf(\"$\")!==0)\r\n\t\t\t\t\tdata[action.id+\"_\"+j] = action.data[j];\r\n\t\t\tdata[action.id+\"_\"+this.connectorName] = action.operation;\r\n\t\t}\r\n\r\n\t\tdata.ids = ids.join(\",\");\r\n\t\tdata.webix_security = webix.securityKey;\r\n\t\r\n\t\turl += (url.indexOf(\"?\") == -1) ? \"?\" : \"&\";\r\n\t\turl += \"editing=true\";\r\n\r\n\t\twebix.ajax().post(url, data, callback);\r\n\t},\r\n\tresult:function(state, view, dp, text, data, loader){\r\n\t\tdata = data.xml();\r\n\t\tif (!data)\r\n\t\t\treturn dp._processError(null, text, data, loader);\r\n\t\t\r\n\r\n\t\tvar actions = data.data.action;\r\n\t\tif (!actions.length)\r\n\t\t\tactions = [actions];\r\n\r\n\r\n\t\tvar hash = [];\r\n\r\n\t\tfor (var i = 0; i < actions.length; i++) {\r\n\t\t\tvar obj = actions[i];\r\n\t\t\thash.push(obj);\r\n\r\n\t\t\tobj.status = obj.type;\r\n\t\t\tobj.id = obj.sid;\r\n\t\t\tobj.newid = obj.tid;\r\n\r\n\t\t\tdp.processResult(obj, obj, {text:text, data:data, loader:loader});\r\n\t\t}\r\n\r\n\t\treturn hash;\r\n\t}\r\n};\r\n\r\nwebix.proxy.debug = {\r\n\t$proxy:true,\r\n\tload:function(){},\r\n\tsave:function(v,u,d,c){\r\n\t\twebix.delay(function(){\r\n\t\t\twindow.console.log(\"[DP] \"+u.id+\" -> \"+u.operation, u.data);\r\n\t\t\tvar data = {\r\n\t\t\t\tid:u.data.id,\r\n\t\t\t\tnewid:u.data.id,\r\n\t\t\t\tstatus:u.data.operation\r\n\t\t\t};\r\n\t\t\td.processResult(data, data);\r\n\t\t});\r\n\t}\r\n};\r\n\r\nwebix.proxy.rest = {\r\n\t$proxy:true,\r\n\tload:function(view, callback){\r\n\t\twebix.ajax(this.source, callback, view);\r\n\t},\r\n\tsave:function(view, update, dp, callback){\r\n\t\treturn webix.proxy.rest._save_logic.call(this, view, update, dp, callback, webix.ajax());\r\n\t},\r\n\t_save_logic:function(view, update, dp, callback, ajax){\r\n\t\tvar url = this.source;\r\n\t\turl += url.charAt(url.length-1) == \"/\" ? \"\" : \"/\";\r\n\t\tvar mode = update.operation;\r\n\r\n\t\tvar data = update.data;\r\n\t\tif (mode == \"insert\") delete data.id;\r\n\r\n\t\t//call rest URI\r\n\t\tif (mode == \"update\"){\r\n\t\t\tajax.put(url + data.id, data, callback);\r\n\t\t} else if (mode == \"delete\") {\r\n\t\t\tajax.del(url + data.id, data, callback);\r\n\t\t} else {\r\n\t\t\tajax.post(url, data, callback);\r\n\t\t}\r\n\t}\r\n};\r\n\r\nwebix.proxy.json = {\r\n\t$proxy:true,\r\n\tload:function(view, callback){\r\n\t\twebix.ajax(this.source, callback, view);\r\n\t},\r\n\tsave:function(view, update, dp, callback){\r\n\t\tvar ajax = webix.ajax().headers({ \"Content-Type\":\"application/json\" });\r\n\t\treturn webix.proxy.rest._save_logic.call(this, view, update, dp, callback, ajax);\r\n\t}\r\n};\r\n\r\nwebix.proxy.faye = {\r\n\t$proxy:true,\r\n\tinit:function(){\r\n\t\tthis.clientId = this.clientId || webix.uid();\r\n\t},\r\n\tload:function(view){\r\n\t\tvar selfid = this.clientId;\r\n\r\n\t\tthis.client.subscribe(this.source, function(update){\r\n\t\t\tif (update.clientId == selfid) return;\r\n\r\n\t\t\twebix.dp(view).ignore(function(){\r\n\t\t\t\tif (update.operation == \"delete\")\r\n\t\t\t\t\tview.remove(update.data.id);\r\n\t\t\t\telse if (update.operation == \"insert\")\r\n\t\t\t\t\tview.add(update.data);\r\n\t\t\t\telse if (update.operation == \"update\"){\r\n\t\t\t\t\tvar item = view.getItem(update.data.id);\r\n\t\t\t\t\tif (item){\r\n\t\t\t\t\t\twebix.extend(item, update.data, true);\r\n\t\t\t\t\t\tview.refresh(item.id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\tsave:function(view, update, dp, callback){\r\n\t\tupdate.clientId = this.clientId;\r\n\t\tthis.client.publish(this.source, update);\r\n\t}\r\n};\r\n\r\n//indexdb->database/collection\r\nwebix.proxy.indexdb = {\r\n\t$proxy:true,\r\n\tcreate:function(db, config, version, callback){\r\n\t\tthis.source = db + \"/\";\r\n\t\tthis._get_db(callback, version, function(e){\r\n\t\t\tvar db = e.target.result;\r\n\t\t\tfor (var key in config){\r\n\t\t\t\tvar data = config[key];\r\n\t\t\t\tvar store = db.createObjectStore(key, { keyPath: \"id\", autoIncrement:true });\r\n\t\t\t\tfor (var i = 0; i < data.length; i++)\r\n\t\t\t\t\tstore.put(data[i]);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t_get_db:function(callback, version, upgrade){\r\n\t\tif (this.source.indexOf(\"/\") != -1){\r\n\t\t\tvar parts = this.source.split(\"/\");\r\n\t\t\tthis.source = parts[1];\r\n\t\t\tversion = version || parts[2];\r\n\r\n\t\t\tvar _index = window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB;\r\n\r\n\t\t\tvar db;\r\n\t\t\tif (version)\r\n\t\t\t\tdb = _index.open(parts[0], version);\r\n\t\t\telse\r\n\t\t\t\tdb = _index.open(parts[0]);\r\n\r\n\t\t\tif (upgrade)\r\n\t\t\t\tdb.onupgradeneeded = upgrade;\r\n\t\t\tdb.onerror = function(){ };\r\n\t\t\tdb.onblocked = function(){ };\r\n\t\t\tdb.onsuccess = webix.bind(function(e){\r\n\t\t\t\tthis.db =  e.target.result;\r\n\t\t\t\tif (callback)\r\n\t\t\t\t\tcallback.call(this);\r\n\t\t\t},this);\r\n\t\t} else if (this.db)\r\n\t\t\tcallback.call(this);\r\n\t\telse \r\n\t\t\twebix.delay(this._get_db, this, [callback], 50);\r\n\t},\r\n\r\n\tload:function(view, callback){\r\n\t\tthis._get_db(function(){\r\n\t\t\tvar store = this.db.transaction(this.source).objectStore(this.source);\r\n\t\t\tvar data = [];\r\n\r\n\t\t\tstore.openCursor().onsuccess = function(e) {\r\n\t\t\t\tvar result = e.target.result;\r\n\t\t\t\tif(result){\r\n\t\t\t\t\tdata.push(result.value);\r\n\t\t\t\t\tresult[\"continue\"]();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tview.parse(data);\r\n\t\t\t\t\twebix.ajax.$callback(view, callback, \"[]\", data);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t});\r\n\t},\r\n\tsave:function(view, update, dp, callback){\r\n\t\tthis._get_db(function(){\r\n\t\t\tvar mode = update.operation;\r\n\t\t\tvar data = update.data;\r\n\t\t\tvar id = update.id;\r\n\r\n\t\t\tvar store = this.db.transaction([this.source], \"readwrite\").objectStore(this.source);\r\n\r\n\t\t\tvar req;\r\n\t\t\tif (mode == \"delete\")\r\n\t            req = store[\"delete\"](id);\r\n\t       \telse if (mode == \"update\")\r\n\t       \t\treq = store.put(data);\r\n\t       \telse if (mode == \"insert\"){\r\n\t       \t\tdelete data.id;\r\n\t       \t\treq = store.add(data);\r\n\t       \t}\r\n\r\n\t\t\treq.onsuccess = function(e) {\r\n\t\t\t\tvar result = { status: mode, id:update.id };\r\n\t\t\t\tif (mode == \"insert\")\r\n\t\t\t\t\tresult.newid = e.target.result;\r\n\t\t\t\tdp.processResult(result, result);\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n};\r\n\r\nwebix.proxy.binary = {\r\n\t$proxy:true,\r\n\tload:function(view, callback){\r\n\t\tvar parts = this.source.split(\"@\");\r\n\t\tvar ext = parts[0].split(\".\").pop();\r\n\t\treturn webix.ajax().response(\"arraybuffer\").get(parts[0]).then(function(res){\r\n\t\t\tvar options = { ext:ext, dataurl : parts[1] };\r\n\t\t\twebix.ajax.$callback(view, callback, \"\", { data:res, options:options }, -1);\r\n\t\t});\r\n\t}\r\n};\r\n\r\nwebix.ajax = function(url,params,call){\r\n\t//if parameters was provided - made fast call\r\n\tif (arguments.length!==0)\r\n\t\treturn (new webix.ajax()).get(url,params,call);\r\n\r\n\tif (!this.getXHR) return new webix.ajax(); //allow to create new instance without direct new declaration\r\n\r\n\treturn this;\r\n};\r\nwebix.ajax.count = 0;\r\nwebix.ajax.prototype={\r\n\tmaster:null,\r\n\t//creates xmlHTTP object\r\n\tgetXHR:function(){\r\n\t\treturn new XMLHttpRequest();\r\n\t},\r\n\tstringify:function(obj){\r\n\t\tvar origin = Date.prototype.toJSON;\r\n\t\tDate.prototype.toJSON = function(){\r\n\t\t\treturn webix.i18n.parseFormatStr(this);\r\n\t\t};\r\n\r\n\t\tvar result;\r\n\t\tif (obj instanceof Date)\r\n\t\t\tresult = obj.toJSON();\r\n\t\telse\r\n\t\t\tresult = JSON.stringify(obj);\r\n\r\n\t\tDate.prototype.toJSON = origin;\r\n\t\treturn result;\r\n\t},\r\n\t/*\r\n\t\tsend data to the server\r\n\t\tparams - hash of properties which will be added to the url\r\n\t\tcall - callback, can be an array of functions\r\n\t*/\r\n\t_send:function(url, params, call, mode){\r\n\t\tvar master;\r\n\t\tif (params && (webix.isArray(params) || (typeof (params.success || params.error || params) == \"function\"))){\r\n\t\t\tmaster = call;\r\n\t\t\tcall = params;\r\n\t\t\tparams = null;\r\n\t\t}\r\n\r\n\t\tvar defer = webix.promise.defer();\r\n\r\n\t\tvar x=this.getXHR();\r\n\t\tif (!webix.isArray(call))\r\n\t\t\tcall = [call];\r\n\r\n\t\tcall.push({ success: function(t, d){ defer.resolve(d);\t},\r\n\t\t\t\t\terror: function(t, d){ defer.reject(x);\t}});\r\n\r\n\t\tvar headers = this._header || {};\r\n\r\n\t\tif (!webix.callEvent(\"onBeforeAjax\", [mode, url, params, x, headers, null, defer])) return;\r\n\r\n\t\t//add content-type to POST|PUT|DELETE\r\n\t\tvar json_mode = false;\r\n\t\tif (mode !== 'GET'){\r\n\t\t\tvar found = false;\r\n\t\t\tfor (var key in headers)\r\n\t\t\t\tif (key.toString().toLowerCase() == \"content-type\"){\r\n\t\t\t\t\tfound = true;\r\n\t\t\t\t\tif (headers[key] == \"application/json\")\r\n\t\t\t\t\t\tjson_mode = true;\r\n\t\t\t\t}\r\n\t\t\tif (!found)\r\n\t\t\t\theaders['Content-Type'] = 'application/x-www-form-urlencoded';\r\n\t\t}\r\n\r\n\t\t//add extra params to the url\r\n\t\tif (typeof params == \"object\"){\r\n\t\t\tif (json_mode)\r\n\t\t\t\tparams = this.stringify(params);\r\n\t\t\telse {\t\t\t\r\n\t\t\t\tvar t=[];\r\n\t\t\t\tfor (var a in params){\r\n\t\t\t\t\tvar value = params[a];\r\n\t\t\t\t\tif (value === null || value === webix.undefined)\r\n\t\t\t\t\t\tvalue = \"\";\r\n\t\t\t\t    if(typeof value===\"object\")\r\n\t\t\t\t        value = this.stringify(value);\r\n\t\t\t\t\tt.push(a+\"=\"+encodeURIComponent(value));// utf-8 escaping\r\n\t\t\t \t}\r\n\t\t\t\tparams=t.join(\"&\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (params && mode==='GET'){\r\n\t\t\turl=url+(url.indexOf(\"?\")!=-1 ? \"&\" : \"?\")+params;\r\n\t\t\tparams = null;\r\n\t\t}\r\n\r\n\t\tx.open(mode, url, !this._sync);\r\n\r\n\t\tvar type = this._response;\r\n\t\tif (type) x.responseType = type;\r\n\r\n\t\t//if header was provided - use it\r\n\t\tfor (var key in headers)\r\n\t\t\tx.setRequestHeader(key, headers[key]);\r\n\t\t\r\n\t\t//async mode, define loading callback\r\n\t\tvar self=this;\r\n\t\tthis.master = this.master || master;\r\n\t\tx.onreadystatechange = function(){\r\n\t\t\tif (!x.readyState || x.readyState == 4){\r\n\t\t\t\tif (webix.debug_time) webix.log_full_time(\"data_loading\");\t//log rendering time\r\n\r\n\t\t\t\twebix.ajax.count++;\r\n\t\t\t\tif (call && self && !x.aborted){\r\n\t\t\t\t\t//IE8 and IE9, handling .abort call\r\n\t\t\t\t\tif (webix._xhr_aborted.find(x) != -1)\r\n\t\t\t\t\t\treturn webix._xhr_aborted.remove(x);\r\n\r\n\t\t\t\t\tvar owner = self.master||self;\r\n\r\n\t\t\t\t\tvar is_error = x.status >= 400 || x.status === 0;\r\n\t\t\t\t\tvar text, data;\r\n\t\t\t\t\tif (x.responseType == \"blob\" || x.responseType == \"arraybuffer\"){\r\n\t\t\t\t\t\ttext = \"\";\r\n\t\t\t\t\t\tdata = x.response;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttext = x.responseText||\"\";\r\n\t\t\t\t\t\tdata = self._data(x);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\twebix.ajax.$callback(owner, call, text, data, x, is_error);\r\n\t\t\t\t}\r\n\t\t\t\tif (self) self.master=null;\r\n\t\t\t\tcall=self=master=null;\t//anti-leak\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tif (this._timeout)\r\n\t\t\tx.timeout = this._timeout;\r\n\r\n\t\t//IE can use sync mode sometimes, fix it\r\n\t\tif (!this._sync)\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tif (!x.aborted){\r\n\t\t\t\t\t//abort handling in IE9\r\n\t\t\t\t\tif (webix._xhr_aborted.find(x) != -1)\r\n\t\t\t\t\t\twebix._xhr_aborted.remove(x);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tx.send(params||null);\r\n\t\t\t\t}\r\n\t\t\t}, 1);\r\n\t\telse\r\n\t\t\tx.send(params||null);\r\n\r\n\t\tif (this.master && this.master._ajax_queue)\r\n\t\t\tthis.master._ajax_queue.push(x);\r\n\r\n\t\treturn this._sync?x:defer; //return XHR, which can be used in case of sync. mode\r\n\t},\r\n\t_data:function(x){\r\n\t\treturn {\r\n\t\t\txml:function(){ try{ return webix.DataDriver.xml.tagToObject(webix.DataDriver.xml.toObject(x.responseText, this)); }\r\n\t\t\t\tcatch(e){\r\n\t\t\t\t\twebix.log(x.responseText);\r\n\t\t\t\t\twebix.log(e.toString()); webix.assert_error(\"Invalid xml data for parsing\"); \r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trawxml:function(){ \r\n\t\t\t\tif (!window.XPathResult)\r\n\t\t\t\t\treturn webix.DataDriver.xml.fromString(x.responseText);\r\n\t\t\t\treturn x.responseXML;\r\n\t\t\t},\r\n\t\t\ttext:function(){ return x.responseText; },\r\n\t\t\tjson:function(){\r\n\t\t\t\ttry{\r\n\t\t\t\t\treturn JSON.parse(x.responseText);\r\n\t\t\t\t}\r\n\t\t\t\tcatch(e){ \r\n\t\t\t\t\twebix.log(x.responseText);\r\n\t\t\t\t\twebix.log(e.toString()); webix.assert_error(\"Invalid json data for parsing\"); \r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\t//GET request\r\n\tget:function(url,params,call){\r\n\t\treturn this._send(url,params,call,\"GET\");\r\n\t},\r\n\t//POST request\r\n\tpost:function(url,params,call){\r\n\t\treturn this._send(url,params,call,\"POST\");\r\n\t},\r\n\t//PUT request\r\n\tput:function(url,params,call){\r\n\t\treturn this._send(url,params,call,\"PUT\");\r\n\t},\r\n\t//DELETE request\r\n\tdel:function(url,params,call){\r\n\t\treturn this._send(url,params,call,\"DELETE\");\r\n\t},\r\n\t//PATCH request\r\n\tpatch:function(url,params,call){\r\n\t\treturn this._send(url,params,call,\"PATCH\");\r\n\t},\r\n\r\n\tsync:function(){\r\n\t\tthis._sync = true;\r\n\t\treturn this;\r\n\t},\r\n\ttimeout:function(num){\r\n\t\tthis._timeout = num;\r\n\t\treturn this;\r\n\t},\r\n\tresponse:function(value){\r\n\t\tthis._response = value;\r\n\t\treturn this;\r\n\t},\r\n\t//deprecated, remove in 3.0\r\n\t//[DEPRECATED]\r\n\theader:function(header){\r\n\t\twebix.assert(false, \"ajax.header is deprecated in favor of ajax.headers\");\r\n\t\tthis._header = header;\r\n\t\treturn this;\r\n\t},\r\n\theaders:function(header){\r\n\t\tthis._header = webix.extend(this._header||{},header);\r\n\t\treturn this;\r\n\t},\r\n\tbind:function(master){\r\n\t\tthis.master = master;\r\n\t\treturn this;\r\n\t}\r\n};\r\nwebix.ajax.$callback = function(owner, call, text, data, x, is_error){\r\n\tif (owner.$destructed) return;\r\n\tif (x === -1 && data && typeof data.json == \"function\")\r\n\t\tdata = data.json();\r\n\r\n\tif (is_error)\r\n\t\twebix.callEvent(\"onAjaxError\", [x]);\r\n\r\n\tif (!webix.isArray(call))\r\n\t\tcall = [call];\r\n\r\n\tif (!is_error)\r\n\t\tfor (var i=0; i < call.length; i++){\r\n\t\t\tif (call[i]){\r\n\t\t\t\tvar before = call[i].before;\r\n\t\t\t\tif (before)\r\n\t\t\t\t\tbefore.call(owner, text, data, x);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\tfor (var i=0; i < call.length; i++)\t//there can be multiple callbacks\r\n\t\tif (call[i]){\r\n\t\t\tvar method = (call[i].success||call[i]);\r\n\t\t\tif (is_error)\r\n\t\t\t\tmethod = call[i].error;\r\n\t\t\tif (method && method.call)\r\n\t\t\t\tmethod.call(owner,text,data,x);\r\n\t\t}\r\n};\r\n\r\n/*submits values*/\r\nwebix.send = function(url, values, method, target){\r\n\tvar form = webix.html.create(\"FORM\",{\r\n\t\t\"target\":(target||\"_self\"),\r\n\t\t\"action\":url,\r\n\t\t\"method\":(method||\"POST\")\r\n\t},\"\");\r\n\tfor (var k in values) {\r\n\t\tvar field = webix.html.create(\"INPUT\",{\"type\":\"hidden\",\"name\": k,\"value\": values[k]},\"\");\r\n\t\tform.appendChild(field);\r\n\t}\r\n\tform.style.display = \"none\";\r\n\tdocument.body.appendChild(form);\r\n\tform.submit();\r\n\tdocument.body.removeChild(form);\r\n};\r\n\r\n\r\nwebix.AtomDataLoader={\r\n\t$init:function(config){\r\n\t\t//prepare data store\r\n\t\tthis.data = {}; \r\n\t\tthis.waitData = webix.promise.defer();\r\n\r\n\t\tif (config)\r\n\t\t\tthis._settings.datatype = config.datatype||\"json\";\r\n\t\tthis.$ready.push(this._load_when_ready);\r\n\t},\r\n\t_load_when_ready:function(){\r\n\t\tthis._ready_for_data = true;\r\n\t\t\r\n\t\tif (this._settings.url)\r\n\t\t\tthis.url_setter(this._settings.url);\r\n\t\tif (this._settings.data)\r\n\t\t\tthis.data_setter(this._settings.data);\r\n\t},\r\n\turl_setter:function(value){\r\n\t\tvalue = webix.proxy.$parse(value);\r\n\r\n\t\tif (!this._ready_for_data) return value;\r\n\t\tthis.load(value, this._settings.datatype);\t\r\n\t\treturn value;\r\n\t},\r\n\tdata_setter:function(value){\r\n\t\tif (!this._ready_for_data) return value;\r\n\t\tthis.parse(value, this._settings.datatype);\r\n\t\treturn true;\r\n\t},\r\n\t//loads data from external URL\r\n\tload:function(url,call){\r\n\t\tvar details = arguments[2] || null;\r\n\r\n\t\tthis.callEvent(\"onBeforeLoad\",[]);\r\n\t\tif (typeof call == \"string\"){\t//second parameter can be a loading type or callback\r\n\t\t\t//we are not using setDriver as data may be a non-datastore here\r\n\t\t\tthis.data.driver = webix.DataDriver[call];\r\n\t\t\tcall = arguments[2];\r\n\t\t} else if (!this.data.driver)\r\n\t\t\tthis.data.driver = webix.DataDriver.json;\r\n\r\n\t\t//load data by async ajax call\r\n\t\t//loading_key - can be set by component, to ignore data from old async requests\r\n\t\tvar callback = [{\r\n\t\t\tsuccess: this._onLoad,\r\n\t\t\terror: this._onLoadError\r\n\t\t}];\r\n\t\t\r\n\t\tif (call){\r\n\t\t\tif (webix.isArray(call))\r\n\t\t\t\tcallback.push.apply(callback,call);\r\n\t\t\telse\r\n\t\t\t\tcallback.push(call);\r\n\t\t}\r\n\t\t\r\n\t\t//proxy\t\r\n\t\turl = webix.proxy.$parse(url);\r\n\t\tif (url.$proxy && url.load)\r\n\t\t\treturn url.load(this, callback, details);\r\n\r\n\t\t//promize\r\n\t\tif (typeof url === \"function\"){\r\n\t\t\treturn url(details).then(\r\n\t\t\t\twebix.bind(function(data){\r\n\t\t\t\t\twebix.ajax.$callback(this, callback, \"\", data, -1);\r\n\t\t\t\t}, this),\r\n\t\t\t\twebix.bind(function(x){\r\n\t\t\t\t\twebix.ajax.$callback(this, callback, \"\", null, x, true);\r\n\t\t\t\t}, this)\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t//normal url\r\n\t\treturn webix.ajax(url,callback,this);\r\n\t},\r\n\t//loads data from object\r\n\tparse:function(data,type){\r\n\t\t//[webix.remote]\r\n\t\tif (data && data.then && typeof data.then == \"function\"){\r\n\t\t\treturn data.then(webix.bind(function(data){ \r\n\t\t\t\tif (data && typeof data.json == \"function\")\r\n\t\t\t\t\tdata = data.json();\r\n\t\t\t\tthis.parse(data, type); \r\n\t\t\t}, this));\r\n\t\t}\r\n\r\n\t\t//loading data from other component\r\n\t\tif (data && data.sync && this.sync)\r\n\t\t\treturn this._syncData(data);\r\n\r\n\t\tthis.callEvent(\"onBeforeLoad\",[]);\r\n\t\tthis.data.driver = webix.DataDriver[type||\"json\"];\r\n\t\tthis._onLoad(data,null);\r\n\t},\r\n\t_syncData: function(data){\r\n\t\tif(this.data)\r\n\t\t\tthis.data.attachEvent(\"onSyncApply\",webix.bind(function(){\r\n\t\t\t\tif(this._call_onready)\r\n\t\t\t\t\tthis._call_onready();\r\n\t\t\t},this));\r\n\r\n\t\tthis.sync(data);\r\n\t},\r\n\t_parse:function(data){\r\n\t\tvar driver = this.data.driver;\r\n\t\tvar parsed = driver.getDetails(driver.getRecords(data)[0]);\r\n\t\tif (this.setValues)\r\n\t\t\tthis.setValues(parsed);\r\n\t\telse\r\n\t\t\tthis.data = parsed;\r\n\t},\r\n\t_onLoadContinue:function(data, text, response, loader){\r\n\t\tif (data){\r\n\t\t\tif(!this.$onLoad || !this.$onLoad(data, this.data.driver)){\r\n\t\t\t\tif(this.data && this.data._parse)\r\n\t\t\t\t\tthis.data._parse(data); //datastore\r\n\t\t\t\telse\r\n\t\t\t\t\tthis._parse(data);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis._onLoadError(text, response, loader);\r\n\r\n\t\t//data loaded, view rendered, call onready handler\r\n\t\tif(this._call_onready)\r\n\t\t\tthis._call_onready();\r\n\r\n\t\tthis.callEvent(\"onAfterLoad\",[]);\r\n\t\tthis.waitData.resolve();\r\n\t},\r\n\t//default after loading callback\r\n\t_onLoad:function(text, response, loader){\r\n\t\tvar driver = this.data.driver;\r\n\t\tvar data;\r\n\r\n\t\tif (loader === -1)\r\n\t\t\tdata = driver.toObject(response);\r\n\t\telse{\r\n\t\t\t//ignore data loading command if data was reloaded \r\n\t\t\tif(this._ajax_queue)\r\n\t\t\t\tthis._ajax_queue.remove(loader);\r\n\t\t\tdata = driver.toObject(text, response);\r\n\t\t}\r\n\t\t\t\r\n\t\tif(!data || !data.then)\r\n\t\t\tthis._onLoadContinue(data);\r\n\t\telse if(data.then && typeof data.then == \"function\")\r\n\t\t\tdata.then(webix.bind(this._onLoadContinue, this));\r\n\t},\r\n\t_onLoadError:function(text, xml, xhttp){\r\n\t\tthis.callEvent(\"onAfterLoad\",[]);\r\n\t\tthis.callEvent(\"onLoadError\",arguments);\r\n\t\twebix.callEvent(\"onLoadError\", [text, xml, xhttp, this]);\r\n\t},\r\n\t_check_data_feed:function(data){\r\n\t\tif (!this._settings.dataFeed || this._ignore_feed || !data) return true;\r\n\t\tvar url = this._settings.dataFeed;\r\n\t\tif (typeof url == \"function\")\r\n\t\t\treturn url.call(this, (data.id||data), data);\r\n\t\turl = url+(url.indexOf(\"?\")==-1?\"?\":\"&\")+\"action=get&id=\"+encodeURIComponent(data.id||data);\r\n\t\tthis.callEvent(\"onBeforeLoad\",[]);\r\n\t\twebix.ajax(url, function(text,xml,loader){\r\n\t\t\tthis._ignore_feed=true;\r\n\t\t\tvar driver = webix.DataDriver.json;\r\n\t\t\tvar data = driver.toObject(text, xml);\r\n\t\t\tif (data)\r\n\t\t\t\tthis.setValues(driver.getDetails(driver.getRecords(data)[0]));\r\n\t\t\telse\r\n\t\t\t\tthis._onLoadError(text,xml,loader);\r\n\t\t\tthis._ignore_feed=false;\r\n\t\t\tthis.callEvent(\"onAfterLoad\",[]);\r\n\t\t}, this);\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\n/*\r\n\tAbstraction layer for different data types\r\n*/\r\n\r\nwebix.DataDriver={};\r\nwebix.DataDriver.json={\r\n\t//convert json string to json object if necessary\r\n\ttoObject:function(data){\r\n\t\tif (!data) return null;\r\n\t\tif (typeof data == \"string\"){\r\n\t\t\ttry{\r\n\t\t\t\tif (this.parseDates){\r\n\t\t\t\t\tvar isodate = /\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(.\\d{3})?Z/;\r\n\t\t\t\t\tdata = JSON.parse(data, function(key, value){\r\n\t\t\t\t\t\tif (typeof value == \"string\"){\r\n\t\t\t\t\t\t\tif (isodate.test(value))\r\n\t\t\t\t\t\t\t\treturn new Date(value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn value;\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdata =JSON.parse(data);\r\n\t\t\t\t}\r\n\t\t\t} catch(e){\r\n\t\t\t\twebix.assert_error(e);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t},\r\n\t//get array of records\r\n\tgetRecords:function(data){\r\n\t\tif (data && data.data)\r\n\t\t\tdata = data.data;\r\n\r\n\t\tif (data && !webix.isArray(data))\r\n\t\t\treturn [data];\r\n\t\treturn data;\r\n\t},\r\n\t//get hash of properties for single record\r\n\tgetDetails:function(data){\r\n\t\tif (typeof data == \"string\")\r\n\t\t\treturn { id:(data||webix.uid()), value:data };\r\n\t\treturn data;\r\n\t},\r\n\tgetOptions:function(data){\r\n\t\treturn data.collections;\r\n\t},\r\n\t//get count of data and position at which new data need to be inserted\r\n\tgetInfo:function(data){\r\n\t\treturn {\r\n\t\t\tsize:(data.total_count||0),\r\n\t\t\tfrom:(data.pos||0),\r\n\t\t\tparent:(data.parent||0),\r\n\t\t\tconfig:(data.config),\r\n\t\t\tkey:(data.webix_security)\r\n\t\t};\r\n\t},\r\n\tchild:\"data\",\r\n\tparseDates:false\r\n};\r\n\r\nwebix.DataDriver.html={\r\n\t/*\r\n\t\tincoming data can be\r\n\t\t - ID of parent container\r\n\t\t - HTML text\r\n\t*/\r\n\ttoObject:function(data){\r\n\t\tif (typeof data == \"string\"){\r\n\t\t var t=null;\r\n\t\t if (data.indexOf(\"<\")==-1)\t//if no tags inside - probably its an ID\r\n\t\t\tt = webix.toNode(data);\r\n\t\t if (!t){\r\n\t\t\tt=document.createElement(\"DIV\");\r\n\t\t\tt.innerHTML = data;\r\n\t\t }\r\n\t\t \r\n\t\t return t.firstChild;\r\n\t\t}\r\n\t\treturn data;\r\n\t},\r\n\t//get array of records\r\n\tgetRecords:function(node){\r\n\t\treturn node.getElementsByTagName(this.tag);\r\n\t},\r\n\t//get hash of properties for single record\r\n\tgetDetails:function(data){\r\n\t\treturn webix.DataDriver.xml.tagToObject(data);\r\n\t},\r\n\tgetOptions:function(){ \r\n\t\treturn false;\r\n\t},\r\n\t//dyn loading is not supported by HTML data source\r\n\tgetInfo:function(data){\r\n\t\treturn {\r\n\t\t\tsize:0,\r\n\t\t\tfrom:0\r\n\t\t};\r\n\t},\r\n\ttag: \"LI\"\r\n};\r\n\r\nwebix.DataDriver.jsarray={\r\n\t//parse jsarray string to jsarray object if necessary\r\n\ttoObject:function(data){\r\n\t\tif (typeof data == \"string\")\r\n\t\t\treturn JSON.parse(data);\r\n\t\treturn data;\r\n\t},\r\n\t//get array of records\r\n\tgetRecords:function(data){\r\n\t\tif (data && data.data)\r\n\t\t\tdata = data.data;\r\n\t\treturn data;\r\n\t},\r\n\t//get hash of properties for single record, in case of array they will have names as \"data{index}\"\r\n\tgetDetails:function(data){\r\n\t\tvar result = {};\r\n\t\tfor (var i=0; i < data.length; i++)\r\n\t\t result[\"data\"+i]=data[i];\r\n\t\tif (this.idColumn !== null)\r\n\t\t\tresult.id = data[this.idColumn];\r\n\t\t \r\n\t\treturn result;\r\n\t},\r\n\tgetOptions:function(){ return false; },\r\n\t//dyn loading is not supported by js-array data source\r\n\tgetInfo:function(data){\r\n\t\treturn {\r\n\t\t\tsize:0,\r\n\t\t\tfrom:0\r\n\t\t};\r\n\t},\r\n\tidColumn:null\r\n};\r\n\r\nwebix.DataDriver.csv={\r\n\t//incoming data always a string\r\n\ttoObject:function(data){\r\n\t\treturn data;\r\n\t},\r\n\t//get array of records\r\n\tgetRecords:function(data){\r\n\t\treturn data.split(this.row);\r\n\t},\r\n\t//get hash of properties for single record, data named as \"data{index}\"\r\n\tgetDetails:function(data){\r\n\t\tdata = this.stringToArray(data);\r\n\t\tvar result = {};\r\n\t\tfor (var i=0; i < data.length; i++) \r\n\t\t\tresult[\"data\"+i]=data[i];\r\n\r\n\t\tif (this.idColumn !== null)\r\n\t\t\tresult.id = data[this.idColumn];\r\n\t\t \r\n\t\treturn result;\r\n\t},\r\n\tgetOptions:function(){ return false; },\r\n\t//dyn loading is not supported by csv data source\r\n\tgetInfo:function(data){\r\n\t\treturn {\r\n\t\t\tsize:0,\r\n\t\t\tfrom:0\r\n\t\t};\r\n\t},\r\n\t//split string in array, takes string surrounding quotes in account\r\n\tstringToArray:function(data){\r\n\t\tdata = data.split(this.cell);\r\n\t\tfor (var i=0; i < data.length; i++)\r\n\t\t data[i] = data[i].replace(/^[ \\t\\n\\r]*(\\\"|)/g,\"\").replace(/(\\\"|)[ \\t\\n\\r]*$/g,\"\");\r\n\t\treturn data;\r\n\t},\r\n\tidColumn:null,\r\n\trow:\"\\n\",\t//default row separator\r\n\tcell:\",\"\t//default cell separator\r\n};\r\n\r\nwebix.DataDriver.xml={\r\n\t_isValidXML:function(data){\r\n\t\tif (!data || !data.documentElement)\r\n\t\t\treturn null;\r\n\t\tif (data.getElementsByTagName(\"parsererror\").length)\r\n\t\t\treturn null;\r\n\t\treturn data;\r\n\t},\r\n\t//convert xml string to xml object if necessary\r\n\ttoObject:function(text, response){\r\n\t\tvar data = response ? (response.rawxml ? response.rawxml() : response) :null;\r\n\t\tif (this._isValidXML(data))\r\n\t\t\treturn data;\r\n\t\tif (typeof text == \"string\")\r\n\t\t\tdata = this.fromString(text.replace(/^[\\s]+/,\"\"));\r\n\t\telse\r\n\t\t\tdata = text;\r\n\r\n\t\tif (this._isValidXML(data))\r\n\t\t\treturn data;\r\n\t\treturn null;\r\n\t},\r\n\t//get array of records\r\n\tgetRecords:function(data){\r\n\t\treturn this.xpath(data,this.records);\r\n\t},\r\n\trecords:\"/*/item\",\r\n\tchild:\"item\",\r\n\tconfig:\"/*/config\",\r\n\t//get hash of properties for single record\r\n\tgetDetails:function(data){\r\n\t\treturn this.tagToObject(data,{});\r\n\t},\r\n\tgetOptions:function(){ \r\n\t\treturn false;\r\n\t},\r\n\t//get count of data and position at which new data_loading need to be inserted\r\n\tgetInfo:function(data){\r\n\t\t\r\n\t\tvar config = this.xpath(data, this.config);\r\n\t\tif (config.length)\r\n\t\t\tconfig = this.assignTypes(this.tagToObject(config[0],{}));\r\n\t\telse \r\n\t\t\tconfig = null;\r\n\r\n\t\treturn {\r\n\t\t\tsize:(data.documentElement.getAttribute(\"total_count\")||0),\r\n\t\t\tfrom:(data.documentElement.getAttribute(\"pos\")||0),\r\n\t\t\tparent:(data.documentElement.getAttribute(\"parent\")||0),\r\n\t\t\tconfig:config,\r\n\t\t\tkey:(data.documentElement.getAttribute(\"webix_security\")||null)\r\n\t\t};\r\n\t},\r\n\t//xpath helper\r\n\txpath:function(xml,path){\r\n\t\tif (window.XPathResult){\t//FF, KHTML, Opera\r\n\t\t var node=xml;\r\n\t\t if(xml.nodeName.indexOf(\"document\")==-1)\r\n\t\t xml=xml.ownerDocument;\r\n\t\t var res = [];\r\n\t\t var col = xml.evaluate(path, node, null, XPathResult.ANY_TYPE, null);\r\n\t\t var temp = col.iterateNext();\r\n\t\t while (temp){ \r\n\t\t\tres.push(temp);\r\n\t\t\ttemp = col.iterateNext();\r\n\t\t}\r\n\t\treturn res;\r\n\t\t}\t\r\n\t\telse {\r\n\t\t\tvar test = true;\r\n\t\t\ttry {\r\n\t\t\t\tif (typeof(xml.selectNodes)==\"undefined\")\r\n\t\t\t\t\ttest = false;\r\n\t\t\t} catch(e){ /*IE7 and below can't operate with xml object*/ }\r\n\t\t\t//IE\r\n\t\t\tif (test)\r\n\t\t\t\treturn xml.selectNodes(path);\r\n\t\t\telse {\r\n\t\t\t\t//there is no interface to do XPath\r\n\t\t\t\t//use naive approach\r\n\t\t\t\tvar name = path.split(\"/\").pop();\r\n\r\n\t\t\t\treturn xml.getElementsByTagName(name);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tassignTypes:function(obj){\r\n\t\tfor (var k in obj){\r\n\t\t\tvar test = obj[k];\r\n\t\t\tif (typeof test == \"object\")\r\n\t\t\t\tthis.assignTypes(test);\r\n\t\t\telse if (typeof test == \"string\"){\r\n\t\t\t\tif (test === \"\") \r\n\t\t\t\t\tcontinue;\r\n\t\t\t\tif (test == \"true\")\r\n\t\t\t\t\tobj[k] = true;\r\n\t\t\t\telse if (test == \"false\")\r\n\t\t\t\t\tobj[k] = false;\r\n\t\t\t\telse if (test == test*1)\r\n\t\t\t\t\tobj[k] = obj[k]*1;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn obj;\r\n\t},\r\n\t//convert xml tag to js object, all subtags and attributes are mapped to the properties of result object\r\n\ttagToObject:function(tag,z){\r\n\t\tvar isArray = tag.nodeType == 1 && tag.getAttribute(\"stack\");\r\n\t\tvar hasSubTags = 0;\r\n\r\n\t\tif (!isArray){\r\n\t\t\tz=z||{};\r\n\t\t\t\r\n\r\n\t\t\t//map attributes\r\n\t\t\tvar a=tag.attributes;\r\n\t\t\tif(a && a.length)\r\n\t\t\t\tfor (var i=0; i<a.length; i++){\r\n\t\t\t \t\tz[a[i].name]=a[i].value;\r\n\t\t\t \t\thasSubTags = 1;\r\n\t\t\t \t}\r\n\r\n\t\t\t//map subtags\r\n\t\t\tvar b=tag.childNodes;\r\n\t\t\tfor (var i=0; i<b.length; i++)\r\n\t\t\t\tif (b[i].nodeType==1){\r\n\t\t\t\t\tvar name = b[i].tagName;\r\n\t\t\t\t\tif (z[name]){\r\n\t\t\t\t\t\tif (typeof z[name].push != \"function\")\r\n\t\t\t\t\t\t\tz[name] = [z[name]];\r\n\t\t\t\t\t\tz[name].push(this.tagToObject(b[i],{}));\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\tz[name]=this.tagToObject(b[i],{});\t//sub-object for complex subtags\r\n\t\t\t\t\thasSubTags = 2;\r\n\t\t\t\t}\r\n\r\n\t\t\tif (!hasSubTags)\r\n\t\t\t\treturn this.nodeValue(tag);\r\n\t\t\t//each object will have its text content as \"value\" property\r\n\t\t\t//only if has not sub tags\r\n\t\t\tif (hasSubTags < 2)\r\n\t\t\t\tz.value = z.value||this.nodeValue(tag);\r\n\r\n\t\t} else {\r\n\t\t\tz = [];\r\n\t\t\tvar b=tag.childNodes;\r\n\t\t\tfor (var i=0; i<b.length; i++)\r\n\t\t\t\tif (b[i].nodeType==1)\r\n\t\t\t\t\tz.push(this.tagToObject(b[i],{}));\r\n\t\t}\r\n\r\n\t\treturn z;\r\n\t},\r\n\t//get value of xml node \r\n\tnodeValue:function(node){\r\n\t\tif (node.firstChild){\r\n\t\t\treturn node.firstChild.wholeText || node.firstChild.data;\r\n\t\t}\r\n\t\treturn \"\";\r\n\t},\r\n\t//convert XML string to XML object\r\n\tfromString:function(xmlString){\r\n\t\ttry{\r\n\t\t\tif (window.DOMParser)\t\t// FF, KHTML, Opera\r\n\t\t\t\treturn (new DOMParser()).parseFromString(xmlString,\"text/xml\");\r\n\t\t\tif (window.ActiveXObject){\t// IE, utf-8 only \r\n\t\t\t\tvar temp=new ActiveXObject(\"Microsoft.xmlDOM\");\r\n\t\t\t\ttemp.loadXML(xmlString);\r\n\t\t\t\treturn temp;\r\n\t\t\t}\r\n\t\t} catch(e){\r\n\t\t\twebix.assert_error(e);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\twebix.assert_error(\"Load from xml string is not supported\");\r\n\t}\r\n};\r\n\r\n\r\nwebix.debug_code(function(){\r\n\twebix.debug_load_event = webix.attachEvent(\"onLoadError\", function(text, xml, xhttp, owner){\r\n\t\ttext = text || \"[EMPTY DATA]\";\r\n\t\tvar error_text = \"Data loading error, check console for details\";\r\n\t\tif (text.indexOf(\"<?php\") === 0)\r\n\t\t\terror_text = \"PHP support missed\";\r\n\t\telse if (text.indexOf(\"WEBIX_ERROR:\") === 0)\r\n\t\t\terror_text = text.replace(\"WEBIX_ERROR:\",\"\");\r\n\r\n\t\tif (webix.message)\r\n\t\t\twebix.message({\r\n\t\t\t\ttype:\"debug\",\r\n\t\t\t\ttext:error_text,\r\n\t\t\t\texpire:-1\r\n\t\t\t});\r\n\t\tif (window.console){\r\n\t\t\tvar logger = window.console;\r\n\t\t\tlogger.log(\"Data loading error\");\r\n\t\t\tlogger.log(\"Object:\", owner);\r\n\t\t\tlogger.log(\"Response:\", text);\r\n\t\t\tlogger.log(\"XHTTP:\", xhttp);\r\n\t\t}\r\n\t});\r\n\r\n\twebix.ready(function(){\r\n\t\tvar path = document.location.href;\r\n\t\tif (path.indexOf(\"file:\")===0){\r\n\t\t\tif (webix.message)\r\n\t\t\t\twebix.message({\r\n\t\t\t\t\ttype:\"error\", \r\n\t\t\t\t\ttext:\"Please open sample by http,<br>not as file://\",\r\n\t\t\t\t\texpire:-1\r\n\t\t\t\t});\r\n\t\t\telse \r\n\t\t\t\twindow.alert(\"Please open sample by http, not as file://\");\r\n\t\t}\r\n\t});\r\n\t\r\n});\r\n\r\n\r\n\r\n//UI interface\r\nwebix.BaseBind = {\r\n\tbind:function(target, rule, format){\r\n\t\tif (!this.attachEvent)\r\n\t\t\twebix.extend(this, webix.EventSystem);\r\n\r\n\t\tif (typeof target == 'string')\r\n\t\t\ttarget = webix.$$(target);\r\n\t\t\t\r\n\t\tif (target._initBindSource) target._initBindSource();\r\n\t\tif (this._initBindSource) this._initBindSource();\r\n\r\n\t\t\r\n\t\t\t\r\n\t\tif (!target.getBindData)\r\n\t\t\twebix.extend(target, webix.BindSource);\r\n\r\n\t\tthis._bind_ready();\r\n\r\n\t\ttarget.addBind(this._settings.id, rule, format);\r\n\t\tthis._bind_source = target._settings.id;\r\n\r\n\t\tif (webix.debug_bind)\r\n\t\t\twebix.log(\"[bind] \"+this.name+\"@\"+this._settings.id+\" <= \"+target.name+\"@\"+target._settings.id);\r\n\r\n\t\tvar target_id = this._settings.id;\r\n\t\t//FIXME - check for touchable is not the best solution, to detect necessary event\r\n\t\tthis._bind_refresh_handler = this.attachEvent(this.touchable?\"onAfterRender\":\"onBindRequest\", function(){\r\n\t\t\treturn target.getBindData(target_id);\r\n\t\t});\r\n\r\n\t\tif (this.refresh && this.isVisible(this._settings.id))\r\n\t\t\tthis.refresh();\r\n\t},\r\n\tunbind:function(){\r\n\t\tif (this._bind_source){\r\n\t\t\tvar target = webix.$$(this._bind_source);\r\n\t\t\tif (target)\r\n\t\t\t\ttarget.removeBind(this._settings.id);\r\n\t\t\tthis.detachEvent(this._bind_refresh_handler);\r\n\t\t\tthis._bind_source = null;\r\n\t\t}\r\n\t},\r\n\t_bind_ready:function(){\r\n\t\tvar config = this._settings;\r\n\t\tif (this.filter){\r\n\t\t\tvar key = config.id;\r\n\t\t\tthis.data._on_sync = webix.bind(function(){\r\n\t\t\t\twebix.$$(this._bind_source)._bind_updated[key] = false;\r\n\t\t\t}, this);\r\n\t\t}\r\n\r\n\t\tvar old_render = this.render;\r\n\t\tthis.render = function(){\r\n\t\t\tif (this._in_bind_processing) return;\r\n\t\t\t\r\n\t\t\tthis._in_bind_processing = true;\r\n\t\t\tvar result = this.callEvent(\"onBindRequest\");\r\n\t\t\tthis._in_bind_processing = false;\r\n\t\t\t\r\n\t\t\treturn old_render.apply(this, ((result === false)?arguments:[]));\r\n\t\t};\r\n\r\n\t\tif (this.getValue||this.getValues)\r\n\t\t\tthis.save = function(){\r\n\t\t\t\tif (this.validate && !this.validate()) return false;\r\n\t\t\t\twebix.$$(this._bind_source).setBindData((this.getValue?this.getValue:this.getValues()),this._settings.id);\r\n\t\t\t\t//reset form, so it will be counted as saved\r\n\t\t\t\tif (this.setDirty)\r\n\t\t\t\t\tthis.setDirty(false);\r\n\t\t\t};\r\n\r\n\t\tthis._bind_ready = function(){};\r\n\t}\r\n};\r\n\r\n//bind interface\r\nwebix.BindSource = {\r\n\t$init:function(){\r\n\t\tthis._bind_hash = {};\t\t//rules per target\r\n\t\tthis._bind_updated = {};\t//update flags\r\n\t\tthis._ignore_binds = {};\r\n\t\t\r\n\t\t//apply specific bind extension\r\n\t\tthis._bind_specific_rules(this);\r\n\t},\r\n\tsaveBatch:function(code){\r\n\t\tthis._do_not_update_binds = true;\r\n\t\tcode.call(this);\r\n\t\tthis._do_not_update_binds = false;\r\n\t\tthis._update_binds();\r\n\t},\r\n\tsetBindData:function(data, key){\r\n\t\t//save called, updating master data\r\n\t\tif (key)\r\n\t\t\tthis._ignore_binds[key] = true;\r\n\r\n\t\tif (webix.debug_bind)\r\n\t\t\t\twebix.log(\"[bind:save] \"+this.name+\"@\"+this._settings.id+\" <= \"+\"@\"+key);\r\n\t\tif (this.setValue)\r\n\t\t\tthis.setValue(data);\r\n\t\telse if (this.setValues)\r\n\t\t\tthis.setValues(data);\r\n\t\telse {\r\n\t\t\tvar id = this.getCursor();\r\n\t\t\tif (id)\r\n\t\t\t\tthis.updateItem(id, data);\r\n\t\t\telse\r\n\t\t\t\tthis.add(data);\r\n\t\t}\r\n\t\tthis.callEvent(\"onBindUpdate\", [data, key]);\t\t\r\n\t\tif (this.save)\r\n\t\t\tthis.save();\r\n\t\t\r\n\t\tif (key)\r\n\t\t\tthis._ignore_binds[key] = false;\r\n\t},\r\n\t//fill target with data\r\n\tgetBindData:function(key, update){\r\n\t\t//fire only if we have data updates from the last time\r\n\t\tif (this._bind_updated[key]) return false;\r\n\t\tvar target = webix.$$(key);\r\n\t\t//fill target only when it visible\r\n\t\tif (target.isVisible(target._settings.id)){\r\n\t\t\tthis._bind_updated[key] = true;\r\n\t\t\tif (webix.debug_bind)\r\n\t\t\t\twebix.log(\"[bind:request] \"+this.name+\"@\"+this._settings.id+\" => \"+target.name+\"@\"+target._settings.id);\r\n\t\t\tthis._bind_update(target, this._bind_hash[key][0], this._bind_hash[key][1]); //trigger component specific updating logic\r\n\t\t\tif (update && target.filter)\r\n\t\t\t\ttarget.refresh();\r\n\t\t}\r\n\t},\r\n\t//add one more bind target\r\n\taddBind:function(source, rule, format){\r\n\t\tthis._bind_hash[source] = [rule, format];\r\n\t},\r\n\tremoveBind:function(source){\r\n\t\tdelete this._bind_hash[source];\r\n\t\tdelete this._bind_updated[source];\r\n\t\tdelete this._ignore_binds[source];\r\n\t},\r\n\t//returns true if object belong to \"collection\" type\r\n\t_bind_specific_rules:function(obj){\r\n\t\tif (obj.filter)\r\n\t\t\twebix.extend(this, webix.CollectionBind);\r\n\t\telse if (obj.setValue)\r\n\t\t\twebix.extend(this, webix.ValueBind);\r\n\t\telse\r\n\t\t\twebix.extend(this, webix.RecordBind);\r\n\t},\r\n\t//inform all binded objects, that source data was updated\r\n\t_update_binds:function(){\r\n\t\tif (!this._do_not_update_binds)\r\n\t\t\tfor (var key in this._bind_hash){\r\n\t\t\t\tif (this._ignore_binds[key]) continue;\r\n\t\t\t\tthis._bind_updated[key] = false;\r\n\t\t\t\tthis.getBindData(key, true);\r\n\t\t\t}\r\n\t},\r\n\t//copy data from source to the target\r\n\t_bind_update_common:function(target, rule, data){\r\n\t\tif (target.setValue)\r\n\t\t\ttarget.setValue((data&&rule)?data[rule]:data);\r\n\t\telse if (!target.filter){\r\n\t\t\tif (!data && target.clear)\r\n\t\t\t\ttarget.clear();\r\n\t\t\telse {\r\n\t\t\t\tif (target._check_data_feed(data))\r\n\t\t\t\t\ttarget.setValues(webix.clone(data));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttarget.data.silent(function(){\r\n\t\t\t\tthis.filter(rule,data);\r\n\t\t\t});\r\n\t\t}\r\n\t\ttarget.callEvent(\"onBindApply\", [data,rule,this]);\r\n\t}\r\n};\r\n\r\n\r\n//pure data objects\r\nwebix.DataValue = webix.proto({\r\n\tname:\"DataValue\",\r\n\tisVisible:function(){ return true; },\r\n\t$init:function(config){ \r\n\t\tif (!config || webix.isUndefined(config.value))\r\n\t\t\tthis.data = config||\"\";\r\n\r\n\t\tvar id = (config&&config.id)?config.id:webix.uid();\r\n\t\tthis._settings = { id:id };\r\n\t\twebix.ui.views[id] = this;\r\n\t},\r\n\tsetValue:function(value){\r\n\t\tthis.data = value;\r\n\t\tthis.callEvent(\"onChange\", [value]);\r\n\t},\r\n\tgetValue:function(){\r\n\t\treturn this.data;\r\n\t},\r\n\trefresh:function(){ this.callEvent(\"onBindRequest\"); }\r\n}, webix.EventSystem, webix.BaseBind);\r\n\r\nwebix.DataRecord = webix.proto({\r\n\tname:\"DataRecord\",\r\n\tisVisible:function(){ return true; },\r\n\t$init:function(config){\r\n\t\tthis.data = config||{}; \r\n\t\tvar id = (config&&config.id)?config.id:webix.uid();\r\n\t\tthis._settings = { id:id };\r\n\t\twebix.ui.views[id] = this;\r\n\t},\r\n\tgetValues:function(){\r\n\t\treturn this.data;\r\n\t},\r\n\tsetValues:function(data, update){\r\n\t\tthis.data = update?webix.extend(this.data, data, true):data;\r\n\t\tthis.callEvent(\"onChange\", [data]);\r\n\t},\r\n\trefresh:function(){ this.callEvent(\"onBindRequest\"); }\r\n}, webix.EventSystem, webix.BaseBind, webix.AtomDataLoader, webix.Settings);\r\n\r\n\r\nwebix.ValueBind={\r\n\t$init:function(){\r\n\t\tthis.attachEvent(\"onChange\", this._update_binds);\r\n\t},\r\n\t_bind_update:function(target, rule, format){\r\n\t\trule = rule || \"value\";\r\n\t\tvar data = this.getValue()||\"\";\r\n\t\tif (format) data = format(data);\r\n\t\t\r\n\t\tif (target.setValue)\r\n\t\t\ttarget.setValue(data);\r\n\t\telse if (!target.filter){\r\n\t\t\tvar pod = {}; pod[rule] = data;\r\n\t\t\tif (target._check_data_feed(data))\r\n\t\t\t\ttarget.setValues(pod);\r\n\t\t} else{\r\n\t\t\ttarget.data.silent(function(){\r\n\t\t\t\tthis.filter(rule,data);\r\n\t\t\t});\r\n\t\t}\r\n\t\ttarget.callEvent(\"onBindApply\", [data,rule,this]);\r\n\t}\r\n};\r\n\r\nwebix.RecordBind={\r\n\t$init:function(){\r\n\t\tthis.attachEvent(\"onChange\", this._update_binds);\t\t\r\n\t},\r\n\t_bind_update:function(target, rule, format){\r\n\t\tvar data = this.getValues()||null;\r\n\t\tif (format)\r\n\t\t\tdata = format(data);\r\n\t\tthis._bind_update_common(target, rule, data);\r\n\t}\r\n};\r\n\r\nwebix.CollectionBind={\r\n\t$init:function(){\r\n\t\tthis._cursor = null;\r\n\t\tthis.attachEvent(\"onSelectChange\", function(data){\r\n\t\t\tvar sel = this.getSelectedId();\r\n\t\t\tthis.setCursor(sel?(sel.id||sel):null);\r\n\t\t});\r\n\t\tthis.attachEvent(\"onAfterCursorChange\", this._update_binds);\t\t\r\n\t\tthis.attachEvent(\"onAfterDelete\", function(id){\r\n\t\t\tif (id == this.getCursor())\r\n\t\t\t\tthis.setCursor(null);\r\n\t\t});\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\", webix.bind(function(id, data, mode){\r\n\t\t\t//paint - ignored\r\n\t\t\t//delete - handled by onAfterDelete above\r\n\t\t\tif (id && id == this.getCursor() && mode != \"paint\" && mode != \"delete\")\r\n\t\t\t\tthis._update_binds();\r\n\t\t\t\r\n\t\t},this));\r\n\t\tthis.data.attachEvent(\"onClearAll\", webix.bind(function(){\r\n\t\t\tthis._cursor = null;\r\n\t\t},this));\r\n\t\tthis.data.attachEvent(\"onIdChange\", webix.bind(function(oldid, newid){\r\n\t\t\tif (this._cursor == oldid){\r\n\t\t\t\tthis._cursor = newid;\r\n\t\t\t\tthis._update_binds();\r\n\t\t\t}\r\n\t\t},this));\r\n\t},\r\n\trefreshCursor:function(){\r\n\t\tif (this._cursor)\r\n\t\t\tthis.callEvent(\"onAfterCursorChange\",[this._cursor]);\r\n\t},\r\n\tsetCursor:function(id){\r\n\t\tif (id == this._cursor || (id !== null && !this.getItem(id))) return;\r\n\t\t\r\n\t\tthis.callEvent(\"onBeforeCursorChange\", [this._cursor]);\r\n\t\tthis._cursor = id;\r\n\t\tthis.callEvent(\"onAfterCursorChange\",[id]);\r\n\t},\r\n\tgetCursor:function(){\r\n\t\treturn this._cursor;\r\n\t},\r\n\t_bind_update:function(target, rule, format){\r\n\t\tif (rule == \"$level\" && this.data.getBranch)\r\n\t\t\treturn (target.data || target).importData(this.data.getBranch(this.getCursor()));\r\n\r\n\t\tvar data = this.getItem(this.getCursor())|| this._settings.defaultData || null;\r\n\t\tif (rule == \"$data\"){\r\n\t\t\tif (typeof format === \"function\")\r\n\t\t\t\tformat.call(target, data, this);\r\n\t\t\telse\r\n\t\t\t\ttarget.data.importData(data?data[format]:[]);\r\n\t\t\ttarget.callEvent(\"onBindApply\", [data,rule,this]);\r\n\t\t} else {\r\n\t\t\tif (format)\r\n\t\t\t\tdata = format(data);\r\n\t\t\tthis._bind_update_common(target, rule, data);\r\n\t\t}\r\n\t}\r\n};\t\r\n\r\n\r\n\r\n/*\r\n\tREnders single item. \r\n\tCan be used for elements without datastore, or with complex custom rendering logic\r\n\t\r\n\t@export\r\n\t\trender\r\n*/\r\n\r\n\r\n\r\nwebix.AtomRender={\r\n\t//convert item to the HTML text\r\n\t_toHTML:function(obj){\r\n\t\tif (obj.$empty )\r\n\t\t\treturn \"\";\r\n\t\treturn this._settings.template(obj, this);\r\n\t},\r\n\t//render self, by templating data object\r\n\trender:function(){\r\n\t\tvar cfg = this._settings;\r\n\t\tif (this.isVisible(cfg.id)){\r\n\t\t\tif (webix.debug_render)\r\n\t\t\t\twebix.log(\"Render: \"+this.name+\"@\"+cfg.id);\r\n\t\t\tif (!this.callEvent || this.callEvent(\"onBeforeRender\",[this.data])){\r\n\t\t\t\tif (this.data && !cfg.content){\r\n\t\t\t\t\t//it is critical to have this as two commands\r\n\t\t\t\t\t//its prevent destruction race in Chrome\r\n\t\t\t\t\tthis._dataobj.innerHTML = \"\";\r\n\t\t\t\t\tthis._dataobj.innerHTML = this._toHTML(this.data);\r\n\t\t\t\t}\r\n\t\t\t\tif (this.callEvent) this.callEvent(\"onAfterRender\",[]);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\tsync:function(source){\r\n\t\tthis._backbone_sync = false;\r\n\t\tif (source.name != \"DataStore\"){\r\n\t\t\tif (source.data && source.name == \"DataStore\"){\r\n\t\t\t\tsource = source.data;\r\n\t\t\t} else {\r\n\t\t\t\tthis._backbone_sync = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\r\n\t\tif (this._backbone_sync)\r\n\t\t\tsource.bind(\"change\", webix.bind(function(data){\r\n\t\t\t\tif (data.id == this.data.id){\r\n\t\t\t\t\tthis.data = data.attributes;\r\n\t\t\t\t\tthis.refresh();\r\n\t\t\t\t}\r\n\t\t\t}, this));\r\n\t\telse\r\n\t\t\tsource.attachEvent(\"onStoreUpdated\", webix.bind(function(id){\r\n\t\t\t\tif (!id || id == this.data.id){\r\n\t\t\t\t\tthis.data = source.pull[id];\r\n\t\t\t\t\tthis.refresh();\r\n\t\t\t\t}\r\n\t\t\t}, this));\r\n\t},\r\n\ttemplate_setter:webix.template\r\n};\r\n\r\nwebix.SingleRender=webix.proto({\r\n    template_setter:function(value){\r\n\t\tthis.type.template=webix.template(value);\r\n\t},\r\n\t//convert item to the HTML text\r\n\t_toHTML:function(obj){\r\n\t\tvar type = this.type;\r\n\t\treturn (type.templateStart?type.templateStart(obj,type):\"\") + type.template(obj,type) + (type.templateEnd?type.templateEnd(obj,type):\"\");\r\n\t},\r\n\tcustomize:function(obj){\r\n\t\twebix.type(this,obj);\r\n\t}\r\n}, webix.AtomRender);\r\n\r\nwebix.UIManager = {\r\n\t_view: null,\r\n\t_hotkeys: {},\r\n\t_focus_time:0,\r\n\t_controls: {\r\n\t\t'enter': 13,\r\n\t\t'tab': 9,\r\n\t\t'esc': 27,\r\n\t\t'escape': 27,\r\n\t\t'up': 38,\r\n\t\t'down': 40,\r\n\t\t'left': 37,\r\n\t\t'right': 39,\r\n\t\t'pgdown': 34,\r\n\t\t'pagedown': 34,\r\n\t\t'pgup': 33,\r\n\t\t'pageup': 33,\r\n\t\t'end': 35,\r\n\t\t'home': 36,\r\n\t\t'insert': 45,\r\n\t\t'delete': 46,\r\n\t\t'backspace': 8,\r\n\t\t'space': 32,\r\n\t\t'meta': 91,\r\n\t\t'win': 91,\r\n\t\t'mac': 91,\r\n\t\t'multiply': 106,\r\n\t\t'add': 107,\r\n\t\t'subtract': 109,\r\n\t\t'decimal': 110,\r\n\t\t'divide': 111,\r\n\t\t'scrollock':145,\r\n\t\t'pausebreak':19,\r\n\t\t'numlock':144,\r\n\t\t'5numlocked':12,\r\n\t\t'shift':16,\r\n\t\t'capslock':20\r\n\t},\r\n\t_inputs:{\r\n\t\t\"input\": 1,\r\n\t\t\"button\":1,\r\n\t\t\"textarea\":1,\r\n\t\t\"select\":1\r\n\t},\r\n\t_enable: function() {\r\n\t\t// attaching events here\r\n\t\twebix.event(document.body, \"click\", webix.bind(this._focus_click, this));\r\n\t\twebix.event(document, \"keydown\", webix.bind(this._keypress, this));\r\n\t\tif (document.body.addEventListener)\r\n\t\t\tdocument.body.addEventListener(\"focus\", webix.bind(this._focus_tab, this), true);\r\n\r\n\t\twebix.destructors.push(this);\r\n\t},\r\n\tdestructor:function(){\r\n\t\twebix.UIManager._view = null;\r\n\t},\r\n\tgetFocus: function() {\r\n\t\treturn this._view;\r\n\t},\r\n\t_focus_action:function(view){\r\n\t\tthis._focus_was_there = this._focus_was_there || view._settings.id;\r\n\t},\r\n\tsetFocus: function(view, only_api){\r\n\t\t//view can be empty\r\n\t\tview = webix.$$(view);\r\n\t\t//unfocus if view is hidden\r\n\t\tif (view && !view.$view) view = null;\r\n\t\tthis._focus_time = webix._focus_time = new Date();\r\n\r\n\t\tif (this._view === view) return true;\r\n\t\tif (this._view && this._view.callEvent)\r\n\t\t\tthis._view.callEvent(\"onBlur\", [this._view]);\r\n\r\n\t\tif (view && view.callEvent)\r\n\t\t\tview.callEvent(\"onFocus\", [view, this._view]);\r\n\t\twebix.callEvent(\"onFocusChange\", [view, this._view]);\r\n\r\n\t\tif (this._view && this._view.blur && !only_api) this._view.blur();\r\n\t\tthis._view = view;\r\n\t\tif (view && view.focus && !only_api) view.focus();\r\n\t\treturn true;\r\n\t},\r\n\tapplyChanges: function(element){\r\n\t\tvar view = this.getFocus();\r\n\t\tif (view && view != element && view._applyChanges)\r\n\t\t\tview._applyChanges(element);\r\n\t},\r\n\thasFocus: function(view) {\r\n\t\treturn (view === this._view) ? true : false;\r\n\t},\r\n\t_focus: function(e, dont_clear) {\r\n\t\tvar view = webix.html.locate(e, \"view_id\") || this._focus_was_there;\r\n\r\n\t\t//if html was repainted we can miss the view, so checking last processed one\r\n\t\tview = webix.$$(view);\r\n\t\tthis._focus_was_there = null;\r\n\r\n\t\tif (view == this._view) return;\r\n\r\n\t\tif (!dont_clear)\r\n\t\t\tthis._focus_was_there = null;\r\n\t\t\r\n\t\tif (view){\r\n\t\t\tview = webix.$$(view);\r\n\t\t\tif (this.canFocus(view))\r\n\t\t\t\tthis.setFocus(view);\r\n\t\t} else if (!dont_clear)\r\n\t\t\tthis.setFocus(null);\r\n\r\n\t\treturn true;\r\n\t},\r\n\t_focus_click:function(e){\r\n\t\t// if it was onfocus/onclick less then 100ms behore then we ignore it\r\n\t\tif ((new Date())-this._focus_time < 100) {\r\n\t\t\tthis._focus_was_there = null;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn this._focus(e);\r\n\t},\r\n\t_focus_tab: function(e) {\r\n\t\tif(!this._inputs[e.target.nodeName.toLowerCase()])\r\n\t\t\treturn false;\r\n\t\treturn this._focus(e, true);\r\n\t},\r\n\tcanFocus:function(view){\r\n\t\treturn view.isVisible() && view.isEnabled();\r\n\t},\r\n\r\n\t_moveChildFocus: function(check_view){\r\n\t\tvar focus = this.getFocus();\r\n\t\t//we have not focus inside of closing item\r\n\t\tif (check_view && !this._is_child_of(check_view, focus))\r\n\t\t\treturn false;\r\n\r\n\t\tif (!this._focus_logic(\"getPrev\", check_view))\r\n\t\t\tthis.setFocus(this.getPrev(check_view));\r\n\t\telse \r\n\t\t\tthis._view = null;\r\n\t},\r\n\t_translation_table:{\r\n\t},\r\n\t_is_child_of: function(parent, child) {\r\n\t\tif (!parent) return false;\r\n\t\tif (!child) return false;\r\n\t\twhile (child) {\r\n\t\t\tif (child === parent) return true;\r\n\t\t\tchild = child.getParentView();\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\t_keypress_timed:function(){\r\n\t\tif (this && this.callEvent)\r\n\t\t\tthis.callEvent(\"onTimedKeyPress\",[]);\r\n\t},\r\n\t_isNumPad: function(code){\r\n\t\treturn code < 112 &&  code>105;\r\n\t},\r\n\t_keypress: function(e) {\r\n\t\tvar code = e.which || e.keyCode;\r\n\t\tif(code>95 && code< 106)\r\n\t\t\tcode -= 48; //numpad support (numbers)\r\n\t\tcode = this._translation_table[code] || code;\r\n\t\t\r\n\t\tvar ctrl = e.ctrlKey;\r\n\t\tvar shift = e.shiftKey;\r\n\t\tvar alt = e.altKey;\r\n\t\tvar meta = e.metaKey;\r\n\t\tvar codeid = this._keycode(code, ctrl, shift, alt, meta);\r\n\t\tvar view = this.getFocus();\r\n\t\tif (view && view.callEvent) {\r\n\t\t\tif (view.callEvent(\"onKeyPress\", [code,e]) === false)\r\n\t\t\t\twebix.html.preventEvent(e);\r\n\t\t\tif (view.hasEvent(\"onTimedKeyPress\")){\r\n\t\t\t\tclearTimeout(view._key_press_timeout);\r\n\t\t\t\tview._key_press_timeout = webix.delay(this._keypress_timed, view, [], (view._settings.keyPressTimeout||250));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(!this._isNumPad(code))\r\n\t\t\tcodeid = this._keycode(String.fromCharCode(code), ctrl, shift, alt, meta);\r\n\t\t//flag, that some non-special key was pressed\r\n\t\tvar is_any = !ctrl && !alt && !meta && (code!=9)&&(code!=27)&&(code!=13);\r\n\r\n\t\tif (this._check_keycode(codeid, is_any, e) === false) {\r\n\t\t\twebix.html.preventEvent(e);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t},\r\n\r\n\t// dir - getNext or getPrev\r\n\t_focus_logic: function(dir) {\r\n\t\tif (!this.getFocus()) return null;\r\n\r\n\t\tdir = dir || \"getNext\";\r\n\t\tvar next = this.getFocus();\r\n\t\tvar start = next;\r\n\t\tvar marker = webix.uid();\r\n\r\n\t\twhile (true) {\r\n\t\t\tnext = this[dir](next);\r\n\t\t\t// view with focus ability\r\n\t\t\tif (next && this.canFocus(next))\r\n\t\t\t\treturn this.setFocus(next);\r\n\r\n\t\t\t// elements with focus ability not found\r\n\t\t\tif (next === start || next.$fmarker == marker)\r\n\t\t\t\treturn null;\r\n\t\t\t\r\n\t\t\t//prevents infinity loop\r\n\t\t\tnext.$fmarker = marker;\r\n\t\t}\r\n\t},\r\n\r\n\tgetTop: function(id) {\r\n\t\tvar next, view = webix.$$(id);\r\n\r\n\t\twhile (view && (next = view.getParentView()))\r\n\t\t\tview = next;\r\n\t\treturn view;\r\n\t},\r\n\r\n\tgetNext: function(view, _inner_call) {\r\n\t\tvar cells = view.getChildViews();\r\n\t\t//tab to first children\r\n\t\tif (cells.length && !_inner_call) return cells[0];\r\n\r\n\t\t//unique case - single view without child and parent\r\n\t\tvar parent = view.getParentView();\r\n\t\tif (!parent)\r\n\t\t\treturn view;\r\n\r\n\t\tvar p_cells = parent.getChildViews();\r\n\t\tif (p_cells.length){\r\n\t\t\tvar index = webix.PowerArray.find.call(p_cells, view)+1;\r\n\t\t\twhile (index < p_cells.length) {\r\n\t\t\t\t//next visible child\r\n\t\t\t\tif (this.canFocus(p_cells[index])) \r\n\t\t\t\t\treturn p_cells[index];\r\n\r\n\t\t\t\tindex++;\r\n\t\t\t}\r\n\t\t} \r\n\r\n\t\t//sibling of parent\r\n\t\treturn this.getNext(parent, true);\r\n\t},\r\n\r\n\tgetPrev: function(view, _inner_call) {\r\n\t\tvar cells = view.getChildViews();\r\n\t\t//last child of last child\r\n\t\tif (cells.length && _inner_call) \r\n\t\t\treturn this.getPrev(cells[cells.length - 1], true);\r\n\t\tif (_inner_call) return view;\r\n\r\n\t\t//fallback from top to bottom\r\n\t\tvar parent = view.getParentView();\r\n\t\tif (!parent) return this.getPrev(view, true);\r\n\r\n\r\n\t\tvar p_cells = parent.getChildViews();\r\n\t\tif (p_cells) {\r\n\t\t\tvar index = webix.PowerArray.find.call(p_cells, view)-1;\r\n\t\t\twhile (index >= 0) {\r\n\t\t\t\tif (this.canFocus(p_cells[index]))\r\n\t\t\t\t\treturn this.getPrev(p_cells[index], true);\r\n\t\t\t\tindex--;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn parent;\r\n\t},\r\n\r\n\taddHotKey: function(keys, handler, view) {\r\n\t\twebix.assert(handler, \"Hot key handler is not defined\");\r\n\t\tvar pack = this._parse_keys(keys);\r\n\t\twebix.assert(pack.letter, \"Unknown key code\");\r\n\t\tif (!view) view = null;\r\n\t\tpack.handler = handler;\r\n\t\tpack.view = view;\r\n\t\t\r\n\r\n\t\tvar code = this._keycode(pack.letter, pack.ctrl, pack.shift, pack.alt, pack.meta);\r\n\t\tif (!this._hotkeys[code]) this._hotkeys[code] = [];\r\n\t\tthis._hotkeys[code].push(pack);\r\n\r\n\t\treturn keys;\r\n\t},\r\n\tremoveHotKey: function(keys, func, view){\r\n\t\tvar pack = this._parse_keys(keys);\r\n\t\tvar code = this._keycode(pack.letter, pack.ctrl, pack.shift, pack.alt, pack.meta);\r\n\t\tif (!func && !view)\r\n\t\t\tdelete this._hotkeys[code];\r\n\t\telse {\r\n\t\t\tvar t = this._hotkeys[code];\r\n\t\t\tif (t){\r\n\t\t\t\tfor (var i = t.length - 1; i >= 0; i--) {\r\n\t\t\t\t\tif (view && t[i].view !== view) continue;\r\n\t\t\t\t\tif (func && t[i].handler !== func) continue;\r\n\t\t\t\t\tt.splice(i,1);\r\n\t\t\t\t}\r\n\t\t\t\tif (!t.length)\r\n\t\t\t\t\tdelete this._hotkeys[code];\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t},\r\n\t_keycode: function(code, ctrl, shift, alt, meta) {\r\n\t\treturn code+\"_\"+[\"\", (ctrl ? '1' : '0'), (shift ? '1' : '0'), (alt ? '1' : '0'), (meta ? '1' : '0')].join('');\r\n\t},\r\n\r\n\t_check_keycode: function(code, is_any, e){\r\n\t\tvar focus = this.getFocus();\r\n\t\tif (this._hotkeys[code])\r\n\t\t\treturn  this._process_calls(this._hotkeys[code], focus, e);\r\n\t\telse if (is_any && this._hotkeys[\"ANY_0000\"])\r\n\t\t\treturn  this._process_calls(this._hotkeys[\"ANY_0000\"], focus, e);\r\n\r\n\t\treturn true;\r\n\t},\r\n\t_process_calls:function(calls, focus, e){\r\n\t\tfor (var i = 0; i < calls.length; i++) {\r\n\t\t\tvar key = calls[i];\r\n\t\t\tvar call = false;\r\n\t\t\tif ((key.view !== null) &&\t\t//common hot-key\r\n\t\t\t\t(focus !== key.view) &&\t\t//hot-key for current view\r\n\t\t\t\t//hotkey for current type of view\r\n\t\t\t\t(typeof(key.view) !== 'string' || !focus || focus.name !== key.view)) continue;\r\n\r\n\t\t\tvar temp_result = key.handler(focus, e);\r\n\t\t\tif (!!temp_result === temp_result) return temp_result;\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\t_parse_keys: function(keys) {\r\n\t\tvar controls = this._controls;\r\n\t\tvar parts = keys.toLowerCase().split(/[\\+\\-_]/);\r\n\t\tvar ctrl, shift, alt, meta;\r\n\t\tctrl = shift = alt = meta = 0;\r\n\t\tvar letter = \"\";\r\n\t\tfor (var i = 0; i < parts.length; i++) {\r\n\t\t\tif (parts[i] === 'ctrl') ctrl = 1;\r\n\t\t\telse if (parts[i] === 'shift') shift = 1;\r\n\t\t\telse if (parts[i] === 'alt') alt = 1;\r\n\t\t\telse if (parts[i] === 'command') meta = 1;\r\n\t\t\telse {\r\n\t\t\t\tif (controls[parts[i]]) {\r\n\t\t\t\t\tvar code = controls[parts[i]];\r\n\t\t\t\t\tif(this._isNumPad(code))\r\n\t\t\t\t\t\tletter = code.toString();\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tletter = String.fromCharCode(code);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tletter = parts[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tletter: letter.toUpperCase(),\r\n\t\t\tctrl: ctrl,\r\n\t\t\tshift: shift,\r\n\t\t\talt: alt,\r\n\t\t\tmeta: meta,\r\n\t\t\tdebug:keys\r\n\t\t};\r\n\t}\r\n};\r\n\r\nwebix.ready(function() {\r\n\twebix.UIManager._enable();\r\n\r\n\twebix.UIManager.addHotKey(\"enter\", function(view, ev){\r\n\t\tif (view && view.editStop && view._in_edit_mode){\r\n\t\t\tview.editStop();\r\n\t\t\treturn true;\r\n\t\t} else if (view && view.touchable){\r\n\t\t\tvar form = view.getFormView();\r\n\t\t\tif (form && !view._skipSubmit)\r\n\t\t\t\tform.callEvent(\"onSubmit\",[view,ev]);\r\n\t\t}\r\n\t});\r\n\twebix.UIManager.addHotKey(\"esc\", function(view){\r\n\t\tif (view){\r\n\t\t\tif (view.editCancel && view._in_edit_mode){\r\n\t\t\t\tview.editCancel();\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tvar top = view.getTopParentView();\r\n\t\t\tif (top && top.setPosition)\r\n\t\t\t\ttop._hide();\r\n\t\t}\r\n\t});\r\n\twebix.UIManager.addHotKey(\"shift+tab\", function(view, e){\r\n\t\tif (view && view._custom_tab_handler && !view._custom_tab_handler(false, e))\r\n\t\t\treturn false;\r\n\r\n\t\tif (view && view._in_edit_mode){\r\n\t\t\tif (view.editNext)\r\n\t\t\t\treturn view.editNext(false);\r\n\t\t\telse if (view.editStop){\r\n\t\t\t\tview.editStop();\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t\twebix.delay(function(){\r\n\t\t\t\twebix.UIManager.setFocus(webix.$$(document.activeElement), true);\r\n\t\t\t},1);\r\n\t\t\t\r\n\t});\r\n\twebix.UIManager.addHotKey(\"tab\", function(view, e){\r\n\t\tif (view && view._custom_tab_handler && !view._custom_tab_handler(true, e))\r\n\t\t\treturn false;\r\n\r\n\t\tif (view && view._in_edit_mode){\r\n\t\t\tif (view.editNext)\r\n\t\t\t\treturn view.editNext(true);\r\n\t\t\telse if (view.editStop){\r\n\t\t\t\tview.editStop();\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t} else\r\n\t\t\twebix.delay(function(){\r\n\t\t\t\twebix.UIManager.setFocus(webix.$$(document.activeElement), true);\r\n\t\t\t},1);\r\n\t});\r\n});\r\n\r\nwebix.IdSpace = {\r\n\t$init:function(){\r\n\t\tthis._elements = {};\r\n\t\tthis._translate_ids = {};\r\n\t\tthis.getTopParentView = this._get_self = webix.bind(function(){ return this;}, this);\r\n\r\n\t\tthis._run_inner_init_logic();\r\n\t\tthis.$ready.push(this._run_after_inner_init_logic);\r\n\t},\r\n\t$$:function(id){\r\n\t\treturn this._elements[id];\r\n\t},\r\n\tinnerId:function(id){\r\n\t\treturn this._translate_ids[id];\r\n\t},\r\n\t_run_inner_init_logic:function(callback){\r\n\t\tthis._prev_global_col = webix._global_collection;\r\n\t\twebix._global_collection = this;\r\n\t},\r\n\t_run_after_inner_init_logic:function(temp){\r\n\t\tfor (var name in this._elements){\r\n\t\t\tvar input = this._elements[name];\r\n\t\t\tif (this.callEvent && input.mapEvent && !input._evs_map.onitemclick)\r\n\t\t\t\tinput.mapEvent({\r\n\t\t\t\t\tonitemclick:this\r\n\t\t\t\t});\r\n\t\t\tinput.getTopParentView = this._get_self;\r\n\t\t}\r\n\r\n\t\twebix._global_collection = this._prev_global_col;\r\n\t\tthis._prev_global_col = 0;\r\n\t},\r\n\t_destroy_child:function(id){\r\n\t\tdelete this._elements[id];\r\n\t},\r\n\tui:function(){\r\n\t\tthis._run_inner_init_logic();\r\n\t\tvar temp = webix.ui.apply(webix, arguments);\r\n\t\tthis._run_after_inner_init_logic();\r\n\t\treturn temp;\r\n\t}\r\n};\r\n\r\n\r\n(function(){\r\n\r\nvar resize = [];\r\nvar ui = webix.ui;\r\n\r\nif (!webix.ui){\r\n\tui = webix.ui = function(config, parent, id){\r\n\t\twebix._ui_creation = true;\r\n\t\tvar multiset = webix.isArray(config);\r\n\t\tvar node = webix.toNode((config.container||parent)||document.body);\r\n\r\n\t\t// solve problem with non-unique ids\r\n\t\tif(node._settings)\r\n\t\t\tid = _correctId(node, multiset, id);\r\n\r\n\t\tvar top_node;\r\n\t\tvar body_child = (node == document.body);\r\n\t\tif (config._settings || (node && multiset)){\r\n\t\t\ttop_node = config;\r\n\t\t} else {\r\n\t\t\tif (node && body_child)\r\n\t\t\t\tconfig.$topView = true;\r\n\t\t\tif (!config._inner)\r\n\t\t\t\tconfig._inner = {};\r\n\r\n\t\t\ttop_node = ui._view(config);\r\n\t\t}\r\n\r\n\t\tif (body_child && !top_node.setPosition && !top_node.$apiOnly)\r\n\t\t\twebix.ui._fixHeight();\r\n\r\n\t\tif (top_node._settings && top_node._settings._hidden && !node.$view){\r\n\t\t\ttop_node._settings._container = node;\r\n\t\t} else if (!top_node.$apiOnly){\r\n\t\t\tif (node.appendChild)\r\n\t\t\t\t_appendDom(node, top_node, config);\r\n\t\t\telse if (node.destructor){\r\n\t\t\t\tvar target = node;\r\n\r\n\t\t\t\t//addView or view moving with target id\r\n\t\t\t\tif (!id && id!==0 && !webix.isArray(top_node)){\r\n\t\t\t\t\tid = node;\r\n\t\t\t\t\tnode = node.getParentView();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//if target supports view adding\r\n\t\t\t\tif (node && node._replace){\r\n\t\t\t\t\t//if source supports view removing\r\n\t\t\t\t\tif (top_node.getParentView && top_node.getParentView())\r\n\t\t\t\t\t\ttop_node.getParentView()._remove(top_node);\r\n\r\n\t\t\t\t\tnode._replace(top_node, id);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar parent = target.$view.parentNode;\r\n\t\t\t\t\ttarget.destructor();\r\n\t\t\t\t\t_appendDom(parent, top_node, config);\r\n\t\t\t\t}\r\n\t\t\t} else\r\n\t\t\t\twebix.assert_error(\"Not existing parent:\"+config.container);\r\n\t\t}\r\n\t\t\r\n\t\twebix._ui_creation = false;\r\n\t\treturn top_node;\r\n\t};\r\n\r\n\tvar _appendDom = function(node, top_node, config){\r\n\t\tnode.appendChild(top_node._viewobj);\r\n\t\t//resize window with position center or top\r\n\t\t//do not resize other windows and elements\r\n\t\t// which are attached to custom html containers\r\n\t\tif (((!top_node.setPosition || top_node._settings.fullscreen) && node == document.body) || top_node._settings.position )\r\n\t\t\tresize.push(top_node);\r\n\t\tif (!config.skipResize)\r\n\t\t\ttop_node.adjust();\r\n\t};\r\n\r\n\tvar _correctId = function(target, multiset, id){\r\n\t\t//replace view\r\n\t\tvar views = [target];\r\n\t\t//replace content of layout\r\n\t\tif (multiset)\r\n\t\t\tviews = target.getChildViews();\r\n\t\t//replace content of window\r\n\t\telse if (target._body_cell)\r\n\t\t\tviews = [target._body_cell];\r\n\t\t//add cell in layout by number\r\n\t\telse if (typeof id == \"number\"){\r\n\t\t\treturn id;\r\n\t\t//replace cell in layout by id\r\n\t\t} else if (id){\r\n\t\t\tviews = [webix.$$(id)];\r\n\t\t\t_deleteIds(views);\r\n\t\t\treturn views[0].config.id;\r\n\t\t}\r\n\r\n\t\t_deleteIds(views);\r\n\t\treturn id;\r\n\t};\r\n\r\n\tvar _deleteIds = function(views){\r\n\t\tfor (var i = views.length - 1; i >= 0; i--){\r\n\t\t\t//remove original id\r\n\t\t\tdelete webix.ui.views[views[i].config.id];\r\n\t\t\t//create temp id\r\n\t\t\tviews[i].config.id = \"x\"+webix.uid();\r\n\t\t\twebix.ui.views[views[i].config.id] = views[i];\r\n\t\t\t//process childs\r\n\t\t\t_deleteIds(views[i].getChildViews());\r\n\t\t}\r\n\t};\r\n}\r\n\r\nwebix.ui.animate = function(ui, parent, config){\r\n\tvar pobj = webix.$$(parent);\r\n\tif (pobj){\r\n\t\tvar aniset = config || { type:\"slide\", direction:\"left\" };\r\n\t\tvar d = pobj._viewobj.cloneNode(true);\r\n\t\tvar view = webix.ui(ui, parent);\r\n\r\n\t\tview._viewobj.parentNode.appendChild(d);\r\n\t\tvar line = webix.animate.formLine(\r\n\t\t\tview._viewobj,\r\n\t\t\td,\r\n\t\t\taniset\r\n\t\t);\r\n\r\n\t\taniset.callback = function(){\r\n\t\t\twebix.animate.breakLine(line);\r\n\t\t};\r\n\t\twebix.animate(line, aniset);\r\n\r\n\t\treturn view;\r\n\t}\r\n};\r\n\r\nwebix.ui.animateView = function(view, stateHandler, config){\r\n\tview = webix.$$(view);\r\n\tif (view){\r\n\t\tconfig = config || { type:\"slide\", direction:\"left\" };\r\n\r\n\t\tvar getHTML = function(view){\r\n\t\t\tvar el = view._viewobj;\r\n\t\t\tvar css = el.className;\r\n\t\t\tvar content =el.innerHTML;\r\n\t\t\treturn \"<div class='\"+css+\"' style='width:\"+el.offsetWidth+\"px;height:\"+el.offsetHeight+\"px;'>\"+content+\"</div>\";\r\n\t\t};\r\n\r\n\t\t// get 'display' state of child nodes\r\n\t\tvar display = [];\r\n\t\tfor(var i =0; i< view._viewobj.childNodes.length;i++){\r\n\t\t\tvar node = view._viewobj.childNodes[i];\r\n\t\t\tvar value = node.currentStyle ?node.currentStyle.display : getComputedStyle(node, null).display;\r\n\t\t\tdisplay.push(value||\"\");\r\n\t\t}\r\n\t\t// get current html content\r\n\t\tvar currentState = getHTML(view);\r\n\r\n\t\t// apply new state\r\n\t\tif(typeof stateHandler == \"function\"){\r\n\t\t\tstateHandler.call(this);\r\n\t\t}\r\n\r\n\t\t// get new html content\r\n\t\tvar newState = getHTML(view);\r\n\r\n\t\t// insert elements into the view\r\n\t\tvar tempParent = view._viewobj.insertBefore(webix.html.create(\"DIV\",{\r\n\t\t\t\"class\" : \"webix_view_animate\",\r\n\t\t\t\"style\" : \"width:\"+view._viewobj.offsetWidth+\"px;height:\"+view._viewobj.offsetHeight+\"px;\"\r\n\t\t}, newState+currentState),view._viewobj.firstChild);\r\n\r\n\t\t// hide child nodes\r\n\t\tfor(var i =1; i< view._viewobj.childNodes.length;i++){\r\n\t\t\tview._viewobj.childNodes[i].style.display = \"none\";\r\n\t\t}\r\n\r\n\t\t// animate inserted elements\r\n\t\tvar line = webix.animate.formLine(\r\n\t\t\ttempParent.childNodes[0],\r\n\t\t\ttempParent.childNodes[1],\r\n\t\t\tconfig\r\n\t\t);\r\n\t\tconfig.callback = function(){\r\n\t\t\tif(tempParent){\r\n\t\t\t\tview._viewobj.removeChild(tempParent);\r\n\t\t\t\ttempParent = null;\r\n\t\t\t\t// restore 'display' state of child nodes\r\n\t\t\t\tfor(var i =0; i< view._viewobj.childNodes.length;i++){\r\n\t\t\t\t\tview._viewobj.childNodes[i].style.display = display[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\twebix.animate(line, config);\r\n\r\n\t\treturn view;\r\n\t}\r\n};\r\n\r\n/*called in baseview $init for calculate scrollSize*/\r\nwebix.ui._detectScrollSize = function(){\r\n\tvar div = webix.html.create(\"div\");\r\n\tdiv.className = \"webix_skin_mark\";\r\n\tdiv.style.cssText=\"position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;min-height:100px;overflow-y:scroll;\";\r\n\r\n\tdocument.body.appendChild(div);\r\n\tvar width = div.offsetWidth-div.clientWidth;\r\n\tvar skin = { 110:\"air\", 120:\"aircompact\", 130:\"clouds\", 140:\"web\", 150:\"terrace\", 160:\"metro\", 170:\"light\", 180:\"glamour\", 190:\"touch\", 200:\"flat\" , 210:\"compact\", 220:\"material\", 230: \"contrast\" }[Math.floor(div.offsetHeight/10)*10];\r\n\tdocument.body.removeChild(div);\r\n\r\n\tif (skin){\r\n\t\tvar skinobj = webix.skin[skin];\r\n\t\tif (skinobj && skinobj != webix.skin.$active)\r\n\t\t\twebix.skin.set(skin);\r\n\t}\r\n\r\n\tif (webix.env.$customScroll) return 0;\r\n\treturn width;\r\n};\r\nwebix.ui.scrollSize = ((webix.env.touch||webix.env.$customScroll)?0:17);\r\nwebix.ready(function(){\r\n\tvar size = webix.ui._detectScrollSize();\r\n\twebix.ui.scrollSize = webix.env.touch ? 0 : size;\r\n});\r\n\r\nwebix.ui._uid = function(name){\r\n\treturn \"$\"+name+(this._namecount[name] = (this._namecount[name]||0)+1);\r\n};\r\nwebix.ui._namecount = {};\r\n\r\nwebix.ui._fixHeight = function (){\r\n\twebix.html.addStyle(\"html, body{ height:100%; }\");\r\n\tdocument.body.className+=\" webix_full_screen\";\r\n\twebix.ui._fixHeight = function(){};\r\n\twebix.Touch.limit(false);\r\n};\r\nwebix.ui.resize = function(){\r\n\t// check for virtual keyboard\r\n\r\n\tif(webix.env.touch && ( webix.edit_open_time && (new Date())-webix.edit_open_time < 500 || webix._focus_time && (new Date())-webix._focus_time < 500))\r\n\t\treturn;\r\n\twebix.UIManager.applyChanges();\r\n\twebix.callEvent(\"onClick\",[]);\r\n\tif (!webix.ui.$freeze)\r\n\t\tfor (var i=resize.length - 1; i>=0; i--){\r\n\t\t\t//remove destroyed views from resize list\r\n\t\t\tif (resize[i].$destructed)\r\n\t\t\t\tresize.splice(i,1);\r\n\t\t\telse\r\n\t\t\t\tresize[i].adjust();\r\n\t\t}\r\n};\r\nwebix.ui.each = function(parent, logic, master, include){\r\n\tif (parent){\r\n\t\tvar children = include ? [parent] : parent.getChildViews();\r\n\t\tfor (var i = 0; i < children.length; i++){\r\n\t\t\tif (logic.call((master || webix), children[i]) !== false)\r\n\t\t\t\twebix.ui.each(children[i], logic, master);\r\n\t\t}\r\n\t}\r\n};\r\nwebix.event(window, \"resize\", webix.ui.resize);\r\n\r\nui._delays = {};\r\nui.delay = function(config){\r\n\twebix.ui._delays[config.id] = config;\r\n};\r\nui.hasMethod = function(view, method){\r\n\tvar obj = webix.ui[view];\r\n\tif (!obj) return false;\r\n\r\n\tif (obj.$protoWait)\r\n\t\tobj = obj.call(webix);\r\n\r\n\treturn !!webix.ui[view].prototype[method];\r\n};\r\nwebix.ui.zIndex = function(){\r\n\treturn webix.ui.zIndexBase++;\r\n};\r\nwebix.ui.zIndexBase = 100;\r\n\r\nui._view = function(config){\r\n\twebix.assert_config(config);\r\n\tif (config.view){\r\n\t\tvar view = config.view;\r\n\t\twebix.assert(ui[view], \"unknown view:\"+view);\r\n\t\treturn new ui[view](config);\r\n\t} else if (config.rows || config.cols){\r\n\t\tvar cells = config.rows||config.cols;\r\n\t\tvar accordion = false;\r\n\t\tfor (var i=0; i<cells.length; i++){\r\n\t\t\tif (cells[i].body && !cells[i].view && !cells[i].align)\r\n\t\t\t\taccordion = true;\r\n\t\t}\r\n\t\tif (accordion){\r\n\t\t\treturn new ui.headerlayout(config);\r\n\t\t} else\r\n\t\t\treturn new ui.layout(config);\r\n\t}\r\n\telse if (config.cells)\r\n\t\treturn new ui.multiview(config);\r\n\telse if (config.template || config.content)\r\n\t\treturn new ui.template(config);\t\r\n\telse if (config.align){\r\n\t\treturn new ui.align(config);\r\n\t} else return new ui.spacer(config);\r\n};\r\n\r\nui.views = {};\r\nwebix.$$ = function(id){\r\n\tif (!id) return null;\r\n\t\r\n\tif (ui.views[id]) return ui.views[id];\r\n\tif (ui._delays[id]) return webix.ui(ui._delays[id]);\r\n\t\r\n\tvar name = id;\r\n\tif (typeof id == \"object\"){\r\n\t\tif (id._settings)\r\n\t\t\treturn id;\r\n\t\tname = (id.target||id.srcElement)||id;\r\n\t}\r\n\treturn ui.views[webix.html.locate({ target:webix.toNode(name)},\"view_id\")];\r\n};\r\nif (webix.isUndefined(window.$$)) window.$$=webix.$$;\r\n\r\nwebix.UIExtension = window.webix_view||{};\r\n\r\nwebix.protoUI({\r\n\tname:\"baseview\",\r\n\t//attribute , which will be used for ID storing\r\n\t$init:function(config){\r\n\t\tif (!config.id) \r\n\t\t\tconfig.id = webix.ui._uid(this.name);\r\n\t\t\r\n\t\tthis._parent_cell = webix._parent_cell;\r\n\t\twebix._parent_cell = null;\r\n\r\n\t\tthis.$scope = config.$scope || (this._parent_cell ? this._parent_cell.$scope : null);\r\n\t\t\r\n\t\tif (!this._viewobj){\r\n\t\t\tthis._contentobj = this._viewobj = webix.html.create(\"DIV\",{\r\n\t\t\t\t\"class\":\"webix_view\"\r\n\t\t\t});\r\n\t\t\tthis.$view = this._viewobj;\r\n\t\t}\r\n\t},\r\n\t$skin:false,\r\n\tdefaults:{\r\n\t\twidth:0,\r\n\t\theight:0,\r\n\t\tgravity:1\r\n\t},\r\n\tgetNode:function(){\r\n\t\treturn this._viewobj;\r\n\t},\r\n\tgetParentView:function(){\r\n\t\treturn this._parent_cell||null;\t\r\n\t},\r\n\tgetTopParentView:function(){\r\n\t\tvar parent = this.getParentView();\r\n\t\treturn parent ? parent.getTopParentView() :  this;\r\n\t},\r\n\tgetFormView:function(){\r\n\t\tvar parent = this.getParentView();\r\n\t\treturn (!parent || parent.setValues) ? parent : parent.getFormView();\r\n\t},\r\n\tgetChildViews:function(){ return []; },\r\n\tisVisible:function(base_id, prev_id){\r\n\t\tif (this._settings.hidden){\r\n            if(base_id){\r\n                if (!this._hidden_render) {\r\n                    this._hidden_render = [];\r\n                    this._hidden_hash = {};\r\n                }\r\n                if (!this._hidden_hash[base_id]){\r\n                    this._hidden_hash[base_id] =  true;\r\n                    this._hidden_render.push(base_id);\r\n                }\r\n            }\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tvar parent = this.getParentView();\r\n\t\tif (parent) return parent.isVisible(base_id, this._settings.id);\r\n\t\t\r\n\t\treturn true;\r\n\t},\r\n\tisEnabled:function(){\r\n\t\tif(this._disable_cover)\r\n\t\t\treturn false;\r\n\r\n\t\tvar parent= this.getParentView();\r\n\t\tif(parent)\r\n\t\t\treturn parent.isEnabled();\r\n\r\n\t\treturn true;\r\n\t},\r\n\tdisable:function(){\r\n\t\twebix.html.remove(this._disable_cover);\r\n\t\tthis._settings.disabled = true;\r\n\r\n\t\tthis._disable_cover = webix.html.create('div',{\r\n\t\t\t\"class\":\"webix_disabled\"\r\n\t\t});\r\n\r\n\t\tif(window.getComputedStyle)\r\n\t\t\tthis._disabled_view_pos = window.getComputedStyle(this._viewobj, null).getPropertyValue(\"position\");\r\n\t\t\r\n\t\tif (this._disabled_view_pos != \"absolute\")\r\n\t\t\tthis._viewobj.style.position = \"relative\";\r\n\t\tthis._viewobj.appendChild(this._disable_cover);\r\n\t\tthis._viewobj.setAttribute(\"aria-disabled\", \"true\");\r\n\t\twebix.html.addCss(this._viewobj,\"webix_disabled_view\",true);\r\n\t\twebix.UIManager._moveChildFocus(this);\r\n\t},\r\n\tenable:function(){\r\n\t\tthis._settings.disabled = false;\r\n\r\n\t\tif (this._disable_cover){\r\n\t\t\twebix.html.remove(this._disable_cover);\r\n\t\t\twebix.html.removeCss(this._viewobj,\"webix_disabled_view\");\r\n\t\t\tthis._viewobj.removeAttribute(\"aria-disabled\");\r\n\t\t\tthis._disable_cover = null;\r\n\t\t\tif(this._disabled_view_pos)\r\n\t\t\t\tthis._viewobj.style.position = this._disabled_view_pos;\r\n\t\t}\r\n\t},\r\n\tdisabled_setter:function(value){\r\n\t\tif (value)\r\n\t\t\tthis.disable();\r\n\t\telse\r\n\t\t\tthis.enable();\r\n\t\treturn value;\r\n\t},\r\n\tcontainer_setter:function(value){\r\n\t\twebix.assert(webix.toNode(value),\"Invalid container\");\r\n\t\treturn true;\r\n\t},\r\n\tcss_setter:function(value){\r\n\t\tif (typeof value == \"object\")\r\n\t\t\tvalue = webix.html.createCss(value);\r\n\r\n\t\tthis._viewobj.className += \" \"+value;\r\n\t\treturn value;\r\n\t},\r\n\tid_setter:function(value){\r\n\t\tif (webix._global_collection && (webix._global_collection != this || this._prev_global_col)){\r\n\t\t\tvar oldvalue = this.config.$id = value;\r\n\t\t\t(this._prev_global_col || webix._global_collection)._elements[value] = this;\r\n\t\t\tvalue = webix.ui._uid(this.name);\r\n\t\t\t(this._prev_global_col || webix._global_collection)._translate_ids[value]=oldvalue;\r\n\t\t}\r\n\t\twebix.assert(!webix.ui.views[value], \"Non unique view id: \"+value);\r\n\t\twebix.ui.views[value] = this;\r\n\t\tthis._viewobj.setAttribute(\"view_id\", value);\r\n\t\treturn value;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tvar last = this._last_size;\r\n\t\tif (last && last[0]==x && last[1]==y) {\r\n\t\t\twebix.debug_size_box(this, [x,y,\"not changed\"]);\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\twebix.debug_size_box(this, [x,y]);\r\n\t\t\r\n\t\tthis._last_size = [x,y];\r\n\t\tthis.$width  = this._content_width = x-(this._scroll_y?webix.ui.scrollSize:0);\r\n\t\tthis.$height = this._content_height = y-(this._scroll_x?webix.ui.scrollSize:0);\r\n\r\n\t\tvar config = this._settings;\r\n\t\tif (!config.flex){\r\n\t\t\tthis._viewobj.style.width = x+\"px\";\r\n\t\t\tthis._viewobj.style.height = y+\"px\";\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tvar s = this._settings;\r\n\r\n\t\tvar size = [\r\n\t\t\ts.width || s.minWidth || 0,\r\n\t\t\ts.width || s.maxWidth || 100000,\r\n\t\t\ts.height || s.minHeight || 0,\r\n\t\t\ts.height || s.maxHeight || 100000,\r\n\t\t\ts.gravity\r\n\t\t];\r\n\t\tsize[0]+=dx; size[1]+=dx;\r\n\t\tsize[2]+=dy; size[3]+=dy;\r\n\t\treturn size;\r\n\t},\r\n\tshow:function(force, animate_settings){\r\n\t\tvar parent = this.getParentView();\r\n        var show = !arguments[2];\r\n\t\tif (parent) {\r\n\t\t\tif(!animate_settings && animate_settings !== false && this._settings.animate)\r\n\t\t\t\tif (parent._settings.animate)\r\n\t\t\t\t\tanimate_settings = webix.extend((parent._settings.animate?webix.extend({},parent._settings.animate):{}), this._settings.animate, true);\r\n\r\n\t\t\tif (show?parent._show:parent._hide)\r\n\t\t\t\t(show?parent._show:parent._hide).call(parent, this, animate_settings);\r\n\t\t\tif (show)\r\n\t\t\t\tthis._render_hidden_views();\r\n\t\t\tif (force && show)  \r\n\t\t\t\tparent.show(force);\r\n\t\t}\r\n        else{\r\n            if (this._settings.hidden){\r\n            \tif (show){\r\n            \t\tvar node = webix.toNode(this._settings._container||document.body);\r\n        \t\t\tnode.appendChild(this._viewobj);\r\n        \t\t\tthis._settings.hidden = false;\r\n\r\n        \t\t\tthis.adjust();\r\n        \t\t\tthis._render_hidden_views();\r\n            \t}\r\n            } else {\r\n            \tif (!show){\r\n            \t\tthis._settings.hidden = this._settings._hidden = true;\r\n            \t\tif (this._viewobj){\r\n            \t\t\tthis._settings._container = this._viewobj.parentNode;\r\n        \t\t\t\twebix.html.remove(this._viewobj);\r\n        \t\t\t}\r\n            \t}\r\n            }\r\n        }\r\n\t},\r\n\t_render_hidden_views:function(){\r\n\t\tif (this._hidden_render){\r\n\t\t\tfor (var i=0; i < this._hidden_render.length; i++){\r\n\t\t\t\tvar ui_to_render = webix.$$(this._hidden_render[i]);\r\n\t\t\t\tif (ui_to_render)\r\n\t\t\t\t\tui_to_render.render();\r\n\t\t\t}\r\n\t\t\tthis._hidden_render = [];\r\n\t\t\tthis._hidden_hash = {};\r\n\t\t}\r\n\t},\r\n\t_onKeyPress:function(code, e){\r\n\t\tvar target = e.srcElement || e.target, role = target.getAttribute(\"role\");\r\n\r\n\t\tif((code === 13 || code === 32) && (role == \"button\" || role == \"heading\") && !this._settings.disabled){\r\n\t\t\twebix.html.triggerEvent(target, \"MouseEvents\", \"click\");\r\n\t\t\twebix.html.preventEvent(e);\r\n\t\t}\r\n\t},\r\n\thidden_setter:function(value){\r\n\t\tif (value) this.hide();\r\n\t\treturn this._settings.hidden;\r\n\t},\r\n\thide:function(){\r\n\t\tthis.show(null, null, true);\r\n\t\twebix.UIManager._moveChildFocus(this);\r\n\t},\r\n\tadjust:function(){\r\n\t\tif(!this._viewobj.parentNode)\r\n\t\t\treturn false;\r\n\r\n\t\tvar x = this._viewobj.parentNode.offsetWidth||0;\r\n\t\tvar y = this._viewobj.parentNode.offsetHeight||0;\r\n\r\n\t\tvar sizes=this.$getSize(0,0);\r\n\t\tvar fullscreen = (this._viewobj.parentNode == document.body) && !this.setPosition;\r\n\r\n\t\t//minWidth\r\n\t\tif (sizes[0]>x) x = sizes[0];\r\n\t\t//minHeight\r\n\t\tif (sizes[2]>y) y = sizes[2];\r\n\r\n\t\t//maxWidth rule\r\n\t\tif (!fullscreen && x>sizes[1]) x = sizes[1];\r\n\t\t//maxHeight rule\r\n\t\tif (!fullscreen && y>sizes[3]) y = sizes[3];\r\n\r\n\t\tthis.$setSize(x,y);\r\n\t\tif (webix._responsive_exception){\r\n\t\t\twebix._responsive_exception = false;\r\n\t\t\tthis.adjust();\r\n\t\t}\r\n\t},\r\n\tresize:function(force){\r\n\t\tif (webix._child_sizing_active || webix.ui.$freeze || webix._responsive_tinkery ) return;\r\n\r\n\t\tvar parent = this.getParentView();\r\n\t\tif (parent){\r\n\t\t\tif (parent.resizeChildren)\r\n\t\t\t\tparent.resizeChildren();\r\n\t\t\telse\r\n\t\t\t\tparent.resize();\r\n\t\t} else {\r\n\t\t\tthis.adjust();\r\n\t\t\twebix.callEvent(\"onResize\",[]);\r\n\t\t}\r\n\t}\r\n}, webix.Settings, webix.Destruction, webix.BaseBind, webix.UIExtension);\r\n\r\n\r\n\r\n/*\r\n\tdon't render borders itself , but aware of layout , which can set some borders\r\n*/\r\nwebix.protoUI({\r\n\tname:\"view\",\r\n\t$init:function(config){\r\n\t\tthis._set_inner(config);\r\n\t},\r\n\r\n\t//deside, will component use borders or not\r\n\t_set_inner:function(config){\r\n\t\tvar border_not_set = webix.isUndefined(config.borderless);\r\n\t\tif (border_not_set && !this.setPosition && config.$topView){\r\n\t\t\tconfig.borderless = true;\r\n\t\t\tborder_not_set = false;\r\n\t\t}\r\n\r\n\t\tif ((border_not_set && this.defaults.borderless) || config.borderless){\r\n\t\t\t//button and custom borderless\r\n\t\t\tconfig._inner = { top:true, left:true, bottom:true, right:true };\r\n\t\t} else {\r\n\t\t\t//default borders\r\n\t\t\tif (!config._inner)\r\n\t\t\t\tconfig._inner = {};\r\n\t\t\tthis._contentobj.style.borderWidth=\"1px\";\r\n\t\t}\r\n\t},\r\n\r\n\t$getSize:function(dx, dy){\r\n\r\n\t\tvar _borders = this._settings._inner;\r\n\t\tif (_borders){\r\n\t\t\tdx += (_borders.left?0:1)+(_borders.right?0:1);\r\n\t\t\tdy += (_borders.top?0:1)+(_borders.bottom?0:1);\r\n\t\t}\r\n\t\t\r\n\t\tvar size = webix.ui.baseview.prototype.$getSize.call(this, dx, dy);\r\n\t\t\r\n\t\twebix.debug_size_box(this, size, true);\r\n\t\treturn size;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\twebix.debug_size_box(this, [x,y]);\r\n\t\t\t\r\n\t\tvar _borders = this._settings._inner;\r\n\t\tif (_borders){\r\n\t\t\tx -= (_borders.left?0:1)+(_borders.right?0:1);\r\n\t\t\ty -= (_borders.top?0:1)+(_borders.bottom?0:1);\r\n\t\t}\r\n\t\t\t\r\n\t\treturn webix.ui.baseview.prototype.$setSize.call(this,x,y);\r\n\t}\r\n}, webix.ui.baseview);\r\n\r\n})();\r\n\r\nwebix.ui.view.call(webix);\r\n\r\nwebix.debug_size_indent = 0;\r\nwebix.debug_size_step = function(){\r\n\tvar str = \"\";\r\n\tfor (var i=0; i<webix.debug_size_indent; i++)\r\n\t\tstr+=\"|  \";\r\n\treturn str;\r\n};\r\nwebix.debug_size_box_start = function(comp, get){\r\n\tif (!webix.debug_size) return;\r\n\tif (!webix.debug_size_indent)\r\n\t\twebix.log(get?\"--- get sizes ---\":\"--- set sizes ---\");\r\n\twebix.log(webix.debug_size_step()+comp.name+\"@\"+comp.config.id);\r\n\twebix.debug_size_indent++;\r\n};\r\nwebix.debug_size_box_end = function(comp, sizes){\r\n\tif (!webix.debug_size) return;\r\n\twebix.debug_size_indent--;\r\n\twebix.log(webix.debug_size_step()+sizes.join(\",\"));\r\n};\r\n\r\nwebix.debug_size_box = function(comp, sizes, get){\r\n\tif (!webix.debug_size) return;\r\n\tif (!webix.debug_size_indent)\r\n\t\twebix.log(get?\"--- get sizes ---\":\"--- set sizes ---\");\r\n\twebix.log(webix.debug_size_step()+comp.name+\"@\"+comp.config.id+\" \"+sizes.join(\",\"));\r\n};\r\n\r\nwebix.protoUI({\r\n\tname:\"spacer\",\r\n\tdefaults:{\r\n\t\tborderless:true\r\n\t},\r\n\t$init:function(){\r\n\t\tthis._viewobj.className += \" webix_spacer\";\r\n\t}\r\n}, webix.ui.view);\r\n\r\nwebix.protoUI({\r\n\tname:\"baselayout\",\r\n\t$init:function(config){\r\n\t\tthis.$ready.push(this._parse_cells);\r\n\t\tthis._dataobj  = this._contentobj;\r\n\t\tthis._layout_sizes = [];\r\n\t\tthis._responsive = [];\r\n\r\n\t\tif (config.$topView){\r\n\t\t\tconfig.borderless = true;\r\n\t\t\tconfig._inner = { top:true, left:true, bottom:true, right:true };\r\n\t\t}\r\n\r\n\t\tif (config.isolate)\r\n\t\t\twebix.extend(this, webix.IdSpace);\r\n\t},\r\n\trows_setter:function(value){\r\n\t\tthis._vertical_orientation = 1;\r\n\t\tthis._collection = value;\r\n\t},\r\n\tcols_setter:function(value){\r\n\t\tthis._vertical_orientation = 0;\r\n\t\tthis.$view.style.whiteSpace = \"nowrap\";\r\n\t\tthis._collection = value;\r\n\t},\r\n\t_remove:function(view){\r\n\t\twebix.PowerArray.removeAt.call(this._cells, webix.PowerArray.find.call(this._cells, view));\r\n\t\tthis.resizeChildren(true);\r\n\t},\r\n\t_replace:function(new_view,target_id){\r\n\t\tif (webix.isUndefined(target_id)){\r\n\t\t\tfor (var i=0; i < this._cells.length; i++)\r\n\t\t\t\tthis._cells[i].destructor();\r\n\t\t\tthis._collection = new_view;\r\n\t\t\tthis._parse_cells();\r\n\t\t} else {\r\n\t\t\tvar source;\r\n\t\t\tif (typeof target_id == \"number\"){\r\n\t\t\t\tif (target_id<0 || target_id > this._cells.length)\r\n\t\t\t\t\ttarget_id = this._cells.length;\r\n\t\t\t\tvar prev_node = (this._cells[target_id]||{})._viewobj;\r\n\t\t\t\twebix.PowerArray.insertAt.call(this._cells, new_view, target_id);\r\n\t\t\t\tif (!new_view._settings.hidden)\r\n\t\t\t\t\twebix.html.insertBefore(new_view._viewobj, prev_node, this._dataobj);\r\n\t\t\t} else {\r\n\t\t\t\tsource = webix.$$(target_id);\r\n\t\t\t\ttarget_id = webix.PowerArray.find.call(this._cells, source);\r\n\t\t\t\twebix.assert(target_id!=-1, \"Attempt to replace the non-existing view\");\r\n\t\t\t\tvar parent = source._viewobj.parentNode;\r\n\t\t\t\tif (parent && !new_view._settings.hidden)\r\n\t\t\t\t\tparent.insertBefore(new_view._viewobj, source._viewobj);\r\n\r\n\t\t\t\tsource.destructor();\t\r\n\t\t\t\tthis._cells[target_id] = new_view;\r\n\t\t\t}\r\n\r\n\t\t\tif (!this._vertical_orientation)\r\n\t\t\t\tthis._fix_vertical_layout(new_view);\r\n\t\t\t\r\n\t\t\tthis._cells[target_id]._parent_cell = this;\r\n\t\t}\r\n\t\tthis.resizeChildren(true);\r\n\r\n\t\tvar form = this.elements ? this : this.getFormView();\r\n\t\tif (form) form._recollect_elements();\r\n\r\n\t\twebix.callEvent(\"onReconstruct\",[this]);\r\n\t},\r\n\t_fix_vertical_layout:function(cell){\r\n\t\tcell._viewobj.style.display = \"inline-block\";\r\n\t\tcell._viewobj.style.verticalAlign = \"top\";\r\n\t},\r\n\taddView:function(view, index){\r\n\t\tif (webix.isUndefined(index))\r\n\t\t\tindex = this._cells.length;\r\n\t\tvar top = this.$$ ? this : this.getTopParentView();\r\n\t\ttop = (top && top.ui) ? top : webix;\r\n\t\treturn top.ui(view, this, index)._settings.id;\r\n\t},\r\n\tremoveView:function(id){\r\n\t\tvar view;\r\n\t\tif (typeof id != \"object\")\r\n\t\t\tview = webix.$$(id);\r\n\t\telse\r\n\t\t\tview = id;\r\n\r\n\t\tvar target = webix.PowerArray.find.call(this._cells, view);\r\n\t\tif (target >= 0){\r\n\t\t\tif (this._beforeRemoveView)\r\n\t\t\t\tthis._beforeRemoveView(target, view);\r\n\r\n\t\t\tvar form = this.elements ? this : this.getFormView();\r\n\r\n\t\t\tthis._cells.splice(target, 1);\r\n\t\t\tif (form)\r\n\t\t\t\twebix.ui.each(view, function(sub){\r\n\t\t\t\t\tif (sub.name)\r\n\t\t\t\t\t\tdelete form.getCleanValues()[sub.config.name];\r\n\t\t\t\t}, form, true);\t\t\t\t\r\n\r\n\t\t\tview.destructor();\r\n\t\t\tthis.resizeChildren(true);\r\n\t\t\t\r\n\t\t\tif (form)\r\n\t\t\t\tform._recollect_elements();\r\n\t\t} else\r\n\t\t\twebix.assert(false, \"Attemp to remove not existing view: \"+id);\r\n\r\n\t\twebix.callEvent(\"onReconstruct\",[this]);\r\n\t},\r\n\treconstruct:function(){\r\n\t\tthis._hiddencells = 0;\r\n\t\tthis._replace(this._collection);\r\n\t},\r\n\t_hide:function(obj, settings, silent){\r\n\t\tif (obj._settings.hidden) return;\r\n\t\tobj._settings.hidden = true;\r\n\t\twebix.html.remove(obj._viewobj);\r\n        this._hiddencells++;\r\n\t\tif (!silent && !webix._ui_creation)\r\n\t\t\tthis.resizeChildren(true);\t\r\n\t},\r\n\t_signal_hidden_cells:function(view){\r\n\t\tif (view.callEvent)\r\n\t\t\tview.callEvent(\"onViewShow\",[]);\r\n\t},\r\n\tresizeChildren:function(){\r\n\t\tif (webix.ui.$freeze) return;\r\n\r\n\t\tif (this._layout_sizes){\r\n\t\t\tvar parent = this.getParentView();\r\n\t\t\tif (parent){\r\n\t\t\t\tif (parent.resizeChildren)\r\n\t\t\t\t\treturn parent.resizeChildren();\r\n\t\t\t\telse\r\n\t\t\t\t\treturn parent.resize();\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tvar sizes = this.$getSize(0,0);\r\n\r\n\t\t\tvar x,y,nx,ny;\r\n\t\t\tnx = x = this._layout_sizes[0] || 0;\r\n\t\t\tny = y = this._layout_sizes[1] || 0;\r\n\t\t\t\r\n\t\t\tif (!parent){\r\n\t\t\t\t//minWidth\r\n\t\t\t\tif (sizes[0]>x) nx = sizes[0];\r\n\t\t\t\t//minHeight\r\n\t\t\t\tif (sizes[2]>y) ny = sizes[2];\r\n\r\n\t\t\t\t//maxWidth rule\r\n\t\t\t\tif (x>sizes[1]) nx = sizes[1];\r\n\t\t\t\t//maxHeight rule\r\n\t\t\t\tif (y>sizes[3]) ny = sizes[3];\r\n\r\n\t\t\t\tthis.$setSize(nx,ny);\r\n\t\t\t} else\r\n\t\t\t\tthis._set_child_size(x,y);\r\n\r\n\t\t\tif (webix._responsive_exception){\r\n\t\t\t\twebix._responsive_exception = false;\r\n\t\t\t\tthis.resizeChildren();\r\n\t\t\t}\r\n\r\n\t\t\twebix.callEvent(\"onResize\",[]);\r\n\t\t}\r\n\t},\r\n\tgetChildViews:function(){\r\n\t\treturn this._cells;\r\n\t},\r\n\tindex:function(obj){\r\n\t\tif (obj._settings)\r\n\t\t\tobj = obj._settings.id;\r\n\t\tfor (var i=0; i < this._cells.length; i++)\r\n\t\t\tif (this._cells[i]._settings.id == obj)\r\n\t\t\t\treturn i;\r\n\t\treturn -1;\r\n\t},\r\n\t_show:function(obj, settings, silent){\r\n\r\n\t\tif (!obj._settings.hidden) return;\r\n\t\tobj._settings.hidden = false;\r\n\r\n        //index of sibling cell, next to which new item will appear\r\n        var index = this.index(obj)+1;\r\n        //locate nearest visible cell\r\n        while (this._cells[index] && this._cells[index]._settings.hidden) index++;\r\n        var view = this._cells[index] ? this._cells[index]._viewobj : null;\r\n\r\n        webix.html.insertBefore(obj._viewobj, view, (this._dataobj||this._viewobj));\r\n        this._hiddencells--;\r\n\r\n        if (!silent){\r\n            this.resizeChildren(true);\r\n            if (obj.refresh)\r\n                obj.refresh();\r\n        }\r\n\r\n        if (obj.callEvent){\r\n        \tobj.callEvent(\"onViewShow\", []);\r\n\t\t\twebix.ui.each(obj, this._signal_hidden_cells);\r\n\t\t}\r\n\t},\r\n\tshowBatch:function(name, mode){\r\n\t\tvar preserve = typeof mode != \"undefined\";\r\n\t\tmode = mode !== false;\r\n\r\n\t\tif (!preserve){\r\n\t\t\tif (this._settings.visibleBatch == name ) return;\r\n\t\t\tthis._settings.visibleBatch = name;\r\n\t\t} else \r\n\t\t\tthis._settings.visibleBatch = \"\";\r\n\r\n\t\tvar show = [];\r\n\t\tfor (var i=0; i < this._cells.length; i++){\r\n\t\t\tif (!this._cells[i]._settings.batch) \r\n\t\t\t\tshow.push(this._cells[i]);\r\n\t\t\telse if (this._cells[i]._settings.batch == name){\r\n\t\t\t\tif (mode)\r\n\t\t\t\t\tshow.push(this._cells[i]);\r\n\t\t\t\telse\r\n\t\t\t\t\tthis._hide(this._cells[i], null, true);\r\n\t\t\t} else if (!preserve)\r\n\t\t\t\tthis._hide(this._cells[i], null, true);\r\n\t\t}\r\n\r\n\t\tfor (var i=0; i < show.length; i++){\r\n\t\t\tthis._show(show[i], null, true);\r\n\t\t\tshow[i]._render_hidden_views();\r\n\t\t}\r\n\t\t\t\r\n\t\tthis.resizeChildren(true);\r\n\t},\r\n\t_parse_cells:function(collection){\r\n\t\tthis._cells=[];\r\n\r\n\t\twebix.assert(collection,this.name+\" was incorrectly defined. <br><br> You have missed rows|cols|cells|elements collection\"); \r\n\t\tfor (var i=0; i<collection.length; i++){\r\n\t\t\twebix._parent_cell = this;\r\n\t\t\tif (!collection[i]._inner)\r\n\t\t\t\tcollection[i].borderless = true;\r\n\r\n\t\t\tthis._cells[i]=webix.ui._view(collection[i], this);\r\n\t\t\tif (!this._vertical_orientation)\r\n\t\t\t\tthis._fix_vertical_layout(this._cells[i]);\r\n\t\t\t\r\n\t\t\tif (this._settings.visibleBatch && this._settings.visibleBatch != this._cells[i]._settings.batch && this._cells[i]._settings.batch){\r\n\t\t\t\tthis._cells[i]._settings.hidden = true;\r\n\t\t\t\tthis._hiddencells++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (!this._cells[i]._settings.hidden){\r\n\t\t\t\t(this._dataobj||this._contentobj).appendChild(this._cells[i]._viewobj);\r\n\t\t\t\tif (this._cells[i].$nospace)\r\n\t\t\t\t\tthis._hiddencells++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this._parse_cells_ext_end)\r\n\t\t\tthis._parse_cells_ext_end(collection);\t\r\n\t},\r\n\t_bubble_size:function(prop, size, vertical){\r\n\t\tif (this._vertical_orientation != vertical)\r\n\t\t\tfor (var i=0; i<this._cells.length; i++){\r\n\t\t\t\tthis._cells[i]._settings[prop] = size;\r\n\t\t\t\tif (this._cells[i]._bubble_size)\r\n\t\t\t\t\tthis._cells[i]._bubble_size(prop, size, vertical);\r\n\t\t\t}\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\twebix.debug_size_box_start(this, true);\r\n\t\tvar minWidth = 0; \r\n\t\tvar maxWidth = 100000;\r\n\t\tvar maxHeight = 100000;\r\n\t\tvar minHeight = 0;\r\n\t\tif (this._vertical_orientation) maxHeight=0; else maxWidth = 0;\r\n\t\t\r\n\t\tvar fixed = 0;\r\n\t\tvar fixed_count = 0;\r\n\t\tvar gravity = 0;\r\n\t\tthis._sizes=[];\r\n\r\n\t\tfor (var i=0; i < this._cells.length; i++) {\r\n\t\t\t//ignore hidden cells\r\n\t\t\tif (this._cells[i]._settings.hidden)\r\n\t\t\t\tcontinue;\r\n\t\t\t\r\n\t\t\tvar sizes = this._sizes[i] = this._cells[i].$getSize(0,0);\r\n\r\n\t\t\tif (this._cells[i].$nospace){\r\n \t\t\t\tfixed_count++;\r\n \t\t\t\tcontinue;\r\n \t\t\t}\r\n\r\n\t\t\tif (this._vertical_orientation){\r\n\t\t\t\t//take max minSize value\r\n\t\t\t\tif (sizes[0]>minWidth) minWidth = sizes[0];\r\n\t\t\t\t//take min maxSize value\r\n\t\t\t\tif (sizes[1]<maxWidth) maxWidth = sizes[1];\r\n\t\t\t\t\r\n\t\t\t\tminHeight += sizes[2];\r\n\t\t\t\tmaxHeight += sizes[3];\r\n\r\n\t\t\t\tif (sizes[2] == sizes[3] && sizes[2] != -1){ fixed+=sizes[2]; fixed_count++; }\r\n\t\t\t\telse gravity += sizes[4];\r\n\t\t\t} else {\r\n\t\t\t\t//take max minSize value\r\n\t\t\t\tif (sizes[2]>minHeight) minHeight = sizes[2];\r\n\t\t\t\t//take min maxSize value\r\n\t\t\t\tif (sizes[3]<maxHeight) maxHeight = sizes[3];\r\n\t\t\t\t\r\n\t\t\t\tminWidth += sizes[0];\r\n\t\t\t\tmaxWidth += sizes[1];\r\n\r\n\t\t\t\tif (sizes[0] == sizes[1] && sizes[0] != -1){ fixed+=sizes[0]; fixed_count++; }\r\n\t\t\t\telse gravity += sizes[4];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (minHeight>maxHeight)\r\n\t\t\tmaxHeight = minHeight;\r\n\t\tif (minWidth>maxWidth)\r\n\t\t\tmaxWidth = minWidth;\r\n\r\n\t\tthis._master_size = [fixed, this._cells.length - fixed_count, gravity];\r\n\t\tthis._desired_size = [minWidth+dx, minHeight+dy];\r\n\r\n\t\t//get layout sizes\r\n\t\tvar self_size = webix.ui.baseview.prototype.$getSize.call(this, 0, 0);\r\n\t\t//use child settings if layout's one was not defined\r\n\t\tif (self_size[1] >= 100000) self_size[1]=0;\r\n\t\tif (self_size[3] >= 100000) self_size[3]=0;\r\n\r\n\t\tself_size[0] = (self_size[0] || minWidth ) +dx;\r\n\t\tself_size[1] = Math.max(self_size[0], (self_size[1] || maxWidth ) +dx);\r\n\t\tself_size[2] = (self_size[2] || minHeight) +dy;\r\n\t\tself_size[3] = Math.max(self_size[2], (self_size[3] || maxHeight) +dy);\r\n\r\n\t\twebix.debug_size_box_end(this, self_size);\r\n\r\n\t\tif (this._settings.responsive)\r\n\t\t\tself_size[0] = 0;\r\n\r\n\t\treturn self_size;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tthis._layout_sizes = [x,y];\r\n\t\twebix.debug_size_box_start(this);\r\n\r\n\t\twebix.ui.baseview.prototype.$setSize.call(this,x,y);\r\n\t\tthis._set_child_size(x,y);\r\n\r\n\t\twebix.debug_size_box_end(this, [x,y]);\r\n\t},\r\n\t_set_child_size_a:function(sizes, min, max){\r\n\t\tmin = sizes[min]; max = sizes[max];\r\n\t\tvar height = min;\r\n\r\n\t\tif (min != max){\r\n\t\t\tvar ps = this._set_size_delta * sizes[4]/this._set_size_gravity;\r\n\t\t\tif (ps < min){\r\n\t\t\t\theight = min;\r\n\t\t\t\tthis._set_size_gravity -= sizes[4]; \r\n\t\t\t\tthis._set_size_delta -= height;\r\n\t\t\t} else  if (ps > max){\r\n\t\t\t\theight = max;\r\n\t\t\t\tthis._set_size_gravity -= sizes[4]; \r\n\t\t\t\tthis._set_size_delta -= height;\r\n\t\t\t} else {\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn height;\r\n\t},\r\n\t_responsive_hide:function(cell, mode){\r\n\t\tvar target =  webix.$$(mode);\r\n\r\n\t\tif (target === \"hide\" || !target){\r\n\t\t\tcell.hide();\r\n\t\t\tcell._responsive_marker = \"hide\";\r\n\t\t} else{\r\n\t\t\t//for SideBar in Webix 1.9\r\n\t\t\tif (!target)\r\n\t\t\t\ttarget = webix.ui({ view:\"popup\", body:[{}]});\r\n\r\n\t\t\tcell._responsive_width = cell._settings.width;\r\n\t\t\tcell._responsive_height = cell._settings.height;\r\n\t\t\tcell._responsive_marker = target._settings.id;\r\n\t\t\tcell._settings.width = 0;\r\n\t\t\tif (!cell._settings.height)\r\n\t\t\t\tcell._settings.autoheight = true;\r\n\r\n\t\t\twebix.ui(cell, target, this._responsive.length);\r\n\t\t}\r\n\r\n\t\tthis._responsive.push(cell);\r\n\t},\r\n\t_responsive_show:function(cell){\r\n\t\tvar target = cell._responsive_marker;\r\n\t\tcell._responsive_marker = 0;\r\n\r\n\t\tif (target === \"hide\" || !target){\r\n\t\t\tcell.show();\r\n\t\t} else {\r\n\t\t\tcell._settings.width = cell._responsive_width;\r\n\t\t\tcell._settings.height = cell._responsive_height;\r\n\t\t\tdelete cell._settings.autoheight;\r\n\r\n\t\t\tvar index = 0;\r\n\t\t\twhile (this._cells[index] && this._cells[index]._settings.responsiveCell === false) index++;\r\n\t\t\twebix.ui(cell, this, index);\r\n\t\t}\r\n\t\tthis._responsive.pop();\r\n\t},\r\n\t_responsive_cells:function(x,y){\r\n\t\twebix._responsive_tinkery = true;\r\n\r\n\t\tif (x + this._paddingX*2 + this._margin * (this._cells.length-1)< this._desired_size[0]){\r\n\t\t\tfor (var i = 0; i < this._cells.length-1; i++){\r\n\t\t\t\tvar cell = this._cells[i];\r\n\t\t\t\tif (!cell._responsive_marker && cell._settings.responsiveCell !== false){\r\n\t\t\t\t\tthis._responsive_hide(cell, this._settings.responsive);\r\n\t\t\t\t\twebix.callEvent(\"onResponsiveHide\", [cell._settings.id]);\r\n\t\t\t\t\twebix._responsive_exception = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else  if (this._responsive.length){\r\n\t\t\tvar cell = this._responsive[this._responsive.length-1];\r\n\t\t\tvar dx = cell._responsive_marker == \"hide\" ? 0 : cell._responsive_width;\r\n\t\t\tvar px = cell.$getSize(dx,0);\r\n\t\t\tif (px[0] + this._desired_size[0] + this._margin + 20 <= x ){\r\n\t\t\t\tthis._responsive_show(cell);\r\n\t\t\t\twebix.callEvent(\"onResponsiveShow\", [cell._settings.id]);\r\n\t\t\t\twebix._responsive_exception = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\twebix._responsive_tinkery = false;\r\n\t},\r\n\t_set_child_size:function(x,y){ \r\n\t\twebix._child_sizing_active = (webix._child_sizing_active||0)+1;\r\n\r\n\t\tif (this._settings.responsive)\r\n\t\t\tthis._responsive_cells(x,y);\r\n\r\n\r\n\t\tthis._set_size_delta = (this._vertical_orientation?y:x) - this._master_size[0];\r\n\t\tthis._set_size_gravity = this._master_size[2];\r\n\t\tvar width = x; var height = y;\r\n\r\n\t\tvar auto = [];\r\n\t\tfor (var i=0; i < this._cells.length; i++){\r\n\t\t\t//ignore hidden cells\r\n\t\t\tif (this._cells[i]._settings.hidden || !this._sizes[i])\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tvar sizes = this._sizes[i];\r\n\r\n\t\t\tif (this._vertical_orientation){\r\n\t\t\t\tvar height = this._set_child_size_a(sizes,2,3);\r\n\t\t\t\tif (height < 0)\t{ auto.push(i); continue; }\r\n\t\t\t} else {\r\n\t\t\t\tvar width = this._set_child_size_a(sizes,0,1);\r\n\t\t\t\tif (width < 0)\t{ auto.push(i); continue; }\r\n\t\t\t}\r\n\t\t\tthis._cells[i].$setSize(width,height);\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < auto.length; i++){\r\n\t\t\tvar index = auto[i];\r\n\t\t\tvar sizes = this._sizes[index];\r\n\t\t\tvar dx = Math.round(this._set_size_delta * sizes[4]/this._set_size_gravity);\r\n\t\t\tthis._set_size_delta -= dx; this._set_size_gravity -= sizes[4];\r\n\t\t\tif (this._vertical_orientation)\r\n\t\t\t\theight = dx;\r\n\t\t\telse {\r\n\t\t\t\twidth = dx;\r\n\t\t\t}\r\n\r\n\t\t\tthis._cells[index].$setSize(width,height);\r\n\t\t}\r\n\r\n\t\twebix._child_sizing_active -= 1;\r\n\t},\r\n\t_next:function(obj, mode){\r\n\t\tvar index = this.index(obj);\r\n\t\tif (index == -1) return null;\r\n\t\treturn this._cells[index+mode];\r\n\t}, \r\n\t_first:function(){\r\n\t\treturn this._cells[0];\r\n\t}\r\n}, webix.EventSystem, webix.ui.baseview);\r\n\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"layout\",\r\n\t$init:function(config){\r\n\t\tthis._hiddencells = 0;\r\n\t},\r\n\tdefaults:{\r\n\t\ttype:\"line\"\r\n\t},\r\n\t_parse_cells:function(){\r\n\t\tif (this._parse_cells_ext)\r\n\t\t\tcollection = this._parse_cells_ext(collection);\r\n\r\n\t\tif (!this._parse_once){\r\n\t\t\tthis._viewobj.className += \" webix_layout_\"+(this._settings.type||\"\");\r\n\t\t\tthis._parse_once = 1;\r\n\t\t}\r\n\r\n\t\tif (this._settings.margin !== webix.undefined)\r\n\t\t\tthis._margin = this._settings.margin;\r\n\r\n\t\tif (this._settings.padding != webix.undefined)\r\n\t\t\tthis._paddingX = this._paddingY = this._settings.padding;\r\n\t\tif (this._settings.paddingX !== webix.undefined)\r\n\t\t\tthis._paddingX = this._settings.paddingX;\r\n\t\tif (this._settings.paddingY !== webix.undefined)\r\n\t\t\tthis._paddingY = this._settings.paddingY;\r\n\r\n\t\tif (this._paddingY || this._paddingX)\r\n\t\t\tthis._padding = true;\r\n\r\n\t\t//if layout has paddings we need to set the visible border \r\n\t\tif (this._hasBorders() && !this._settings.borderless){\r\n\t\t \tthis._contentobj.style.borderWidth=\"1px\";\r\n\t\t\t//if layout has border - normal bordering rules are applied\r\n\t\t\tthis._render_borders = true;\r\n\t\t}\r\n\t\r\n\t\t\r\n\t\tvar collection = this._collection;\r\n\t\r\n\t\tif (this._settings.borderless)\r\n\t\t\tthis._settings._inner = { top:true, left:true, right:true, bottom:true};\r\n\r\n\t\tthis._beforeResetBorders(collection);\r\n\t\twebix.ui.baselayout.prototype._parse_cells.call(this, collection);\r\n\t\tthis._afterResetBorders(collection);\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tdx=dx||0; dy=dy||0;\r\n\r\n\t\tvar correction = this._margin*(this._cells.length-this._hiddencells-1);\r\n\t\tif (this._render_borders || this._hasBorders()){\r\n\t\t\tvar _borders = this._settings._inner;\r\n\t\t\tif (_borders){\r\n\t\t\t\tdx += (_borders.left?0:1)+(_borders.right?0:1);\r\n\t\t\t\tdy += (_borders.top?0:1)+(_borders.bottom?0:1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!this._settings.height)\r\n\t\t\tdy += (this._paddingY||0)*2 + (this._vertical_orientation ? correction : 0);\r\n\r\n\t\tif (!this._settings.width)\r\n\t\t\tdx += (this._paddingX||0)*2 + (this._vertical_orientation ? 0 : correction);\r\n\t\t\t\t\r\n\t\treturn webix.ui.baselayout.prototype.$getSize.call(this, dx, dy);\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tthis._layout_sizes = [x,y];\r\n\t\twebix.debug_size_box_start(this);\r\n\r\n\t\tvar result;\r\n\t\tif (this._hasBorders()||this._render_borders)\r\n\t\t\tresult = webix.ui.view.prototype.$setSize.call(this,x,y);\r\n\t\telse\t\r\n\t\t\tresult = webix.ui.baseview.prototype.$setSize.call(this,x,y);\r\n\r\n\t\t//form with scroll\r\n\t\ty = this._content_height;\r\n\t\tx = this._content_width;\r\n\r\n\t\tvar config = this._settings;\r\n\t\tif (config.scroll){\r\n\t\t\ty = Math.max(y, this._desired_size[1]);\r\n\t\t\tx = Math.max(x, this._desired_size[0]);\r\n\t\t}\r\n\t\t\r\n\t\tthis._set_child_size(x, y);\r\n\r\n\t\twebix.debug_size_box_end(this, [x,y]);\r\n\t},\r\n\t_set_child_size:function(x,y){\r\n\t\tvar correction = this._margin*(this._cells.length-this._hiddencells-1);\r\n\r\n\t\tif (this._vertical_orientation){\r\n\t\t\ty-=correction+this._paddingY*2;\r\n\t\t\tx-=this._paddingX*2;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tx-=correction+this._paddingX*2;\r\n\t\t\ty-=this._paddingY*2;\r\n\t\t}\r\n\t\treturn webix.ui.baselayout.prototype._set_child_size.call(this, x, y);\r\n\t},\r\n\tresizeChildren:function(structure_changed){ \r\n\t\tif (structure_changed){\r\n\t\t\tthis._last_size = null; //forces children resize\r\n\t\t\tvar config = [];\r\n\t\t\tfor (var i = 0; i < this._cells.length; i++){\r\n\t\t\t\tvar cell = this._cells[i];\r\n\t\t\t\tconfig[i] = cell._settings;\r\n\t\t\t\tvar n = ((cell._layout_sizes && !cell._render_borders) || cell._settings.borderless)?\"0px\":\"1px\";\r\n\r\n\t\t\t\tcell._viewobj.style.borderTopWidth=cell._viewobj.style.borderBottomWidth=cell._viewobj.style.borderLeftWidth=cell._viewobj.style.borderRightWidth=n;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis._beforeResetBorders(config);\r\n\t\t\tfor (var i=0; i<config.length; i++)\r\n\t\t\t\tif (config[i].borderless && this._cells[i]._set_inner)\r\n\t\t\t\t\tthis._cells[i]._set_inner(config[i]);\r\n\t\t\tthis._afterResetBorders(this._cells);\r\n\t\t}\r\n\r\n\t\tif (webix._responsive_tinkery) return;\r\n\t\twebix.ui.baselayout.prototype.resizeChildren.call(this);\r\n\t},\r\n\t_hasBorders:function(){\r\n\t\treturn this._padding && this._margin>0 && !this._cleanlayout;\r\n\t},\r\n\t_beforeResetBorders:function(collection){\r\n\t\tif (this._hasBorders() && (!this._settings.borderless || this._settings.type == \"space\")){\r\n\t\t\tfor (var i=0; i < collection.length; i++){\r\n\t\t\t\tif (!collection[i]._inner || !collection[i].borderless)\r\n\t\t\t\t\tcollection[i]._inner={ top:false, left:false, right:false, bottom:false};\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i=0; i < collection.length; i++)\r\n\t\t\t\tcollection[i]._inner=webix.clone(this._settings._inner);\r\n\t\t\tvar mode = false;\r\n\t\t\tif (this._cleanlayout)\r\n\t\t\t\tmode = true;\r\n\t\t\t\t\r\n\t\t\tvar maxlength = collection.length;\t\t\t\t\r\n\t\t\tif (this._vertical_orientation){\r\n\t\t\t\tfor (var i=1; i < maxlength-1; i++)\r\n\t\t\t\t\tcollection[i]._inner.top = collection[i]._inner.bottom = mode;\r\n\t\t\t\tif (maxlength>1){\r\n\t\t\t\t\tif (this._settings.type!=\"head\")\r\n\t\t\t\t\t\tcollection[0]._inner.bottom = mode;\r\n\r\n\t\t\t\t\twhile (collection[maxlength-1].hidden && maxlength>1)\r\n\t\t\t\t\t\tmaxlength--;\r\n\t\t\t\t\tif (maxlength>0)\r\n\t\t\t\t\t\tcollection[maxlength-1]._inner.top = mode;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tfor (var i=1; i < maxlength-1; i++)\r\n\t\t\t\t\tcollection[i]._inner.left = collection[i]._inner.right= mode;\r\n\t\t\t\tif (maxlength>1){\r\n\t\t\t\t\tif (this._settings.type!=\"head\")\r\n\t\t\t\t\t\tcollection[0]._inner.right= mode;\r\n\t\t\t\t\tcollection[maxlength-1]._inner.left = mode;\r\n\r\n\t\t\t\t\twhile (maxlength>1 && collection[maxlength-1].hidden)\r\n\t\t\t\t\t\tmaxlength--;\r\n\t\t\t\t\tif (maxlength>0)\r\n\t\t\t\t\t\tcollection[maxlength-1]._inner.left = mode;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t},\r\n\t_fix_container_borders:function(style, inner){\r\n\t\tif (inner.top) \r\n\t\t\tstyle.borderTopWidth=\"0px\";\r\n\t\tif (inner.left) \r\n\t\t\tstyle.borderLeftWidth=\"0px\";\r\n\t\tif (inner.right) \r\n\t\t\tstyle.borderRightWidth=\"0px\";\r\n\t\tif (inner.bottom) \r\n\t\t\tstyle.borderBottomWidth=\"0px\";\r\n\t},\r\n\t_afterResetBorders:function(collection){\r\n\t\tvar start = 0; \r\n\t\tfor (var i=0; i<collection.length; i++){\r\n\t\t\tvar cell = this._cells[i];\r\n\r\n\t\t\tvar s_inner = cell._settings._inner;\r\n\t\t\tif (cell._settings.hidden && this._cells[i+1]){\r\n\t\t\t\tvar s_next = this._cells[i+1]._settings._inner;\r\n\t\t\t\tif (!s_inner.top)\r\n\t\t\t\t\ts_next.top = false;\r\n\t\t\t\tif (!s_inner.left)\r\n\t\t\t\t\ts_next.left = false;\r\n\r\n\t\t\t\tif (i==start) start++;\r\n\t\t\t}\r\n\t\t\tthis._fix_container_borders(cell._viewobj.style, cell._settings._inner);\r\n\t\t}\r\n\r\n\t\tvar style = this._vertical_orientation?\"marginLeft\":\"marginTop\";\r\n\t\tvar contrstyle = this._vertical_orientation?\"marginTop\":\"marginLeft\";\r\n\t\tvar padding = this._vertical_orientation?this._paddingX:this._paddingY;\r\n\t\tvar contrpadding = this._vertical_orientation?this._paddingY:this._paddingX;\r\n\r\n\t\t//add top offset to all\r\n\t\tfor (var i=0; i<collection.length; i++)\r\n\t\t\tthis._cells[i]._viewobj.style[style] = (padding||0) + \"px\";\t\t\t\r\n\r\n\t\t//add left offset to first cell\r\n\t\tif (this._cells.length)\r\n\t\t\tthis._cells[start]._viewobj.style[contrstyle] = (contrpadding||0)+\"px\";\r\n\r\n\t\t//add offset between cells\r\n\t\tfor (var index=start+1; index<collection.length; index++)\r\n\t\t\tthis._cells[index]._viewobj.style[contrstyle]=this._margin+\"px\";\r\n\t\t\r\n\t},\r\n\ttype_setter:function(value){\r\n\t\tthis._margin = (typeof this._margin_set[value] != \"undefined\"? this._margin_set[value]: this._margin_set[\"line\"]);\r\n\t\tthis._paddingX = this._paddingY = (typeof this._margin_set[value] != \"undefined\"? this._padding_set[value]: this._padding_set[\"line\"]);\r\n\t\tthis._cleanlayout = (value==\"material\" || value==\"clean\");\r\n\t\tif (value == \"material\")\r\n\t\t\tthis._settings.borderless = true;\r\n\r\n\t\treturn value;\r\n\t},\r\n\t$skin:function(){\r\n\t\tvar skin = webix.skin.$active;\r\n\t\tthis._margin_set = skin.layoutMargin;\r\n\t\tthis._padding_set = skin.layoutPadding;\r\n\t}\r\n}, webix.ui.baselayout);\r\n\r\nwebix.ui.layout.call(webix);\r\n\r\nwebix.FlexLayout = {\r\n\t$init:function(){\r\n\t\tthis.$view.className += \" webix_flexlayout\";\r\n\t},\r\n\t_fix_vertical_layout:function(){\r\n\r\n\t},\r\n\t_beforeResetBorders:function(){\r\n\r\n\t},\r\n\t_afterResetBorders:function(){\r\n\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\twebix.debug_size_box_start(this, true);\r\n\t\t\r\n\t\tvar w=0, h=0, g = this._settings.gravity;\r\n\t\tthis._sizes = [];\r\n\r\n\t\tfor (var i=0; i<this._cells.length; i++){\r\n\t\t\tvar size = this._cells[i].$getSize(0,0);\r\n\t\t\tthis._sizes.push(size);\r\n\r\n\t\t\tw = Math.max(w, size[0]);\r\n\t\t\th = Math.max(h, size[2]);\r\n\t\t}\r\n\r\n\t\tw += (this._paddingX||0)*2;\r\n\t\th += (this._paddingY||0)*2;\r\n\r\n\t\tif (this._settings.width)\r\n\t\t\tw = Math.max(w, this._settings.width);\r\n\t\tif (this._settings.height)\r\n\t\t\th = Math.max(h, this._settings.height);\r\n\r\n\t\tvar self_size = [w, 100000, h, 100000, g];\r\n\t\twebix.debug_size_box_end(this, self_size);\r\n\t\treturn self_size;\r\n\t},\r\n\t_set_child_size:function(x,y){\r\n\t\tvar st = this.$view.style;\r\n\t\tvar margin = Math.round(this._margin/2);\r\n\t\tst.paddingTop = st.paddingBottom = this._paddingY-margin + \"px\";\r\n\t\tst.paddingLeft = st.paddingRight = this._paddingX-margin + \"px\";\r\n\r\n\t\tfor (var i=0; i<this._cells.length; i++){\r\n\t\t\tif (this._cells[i]._settings.hidden) continue;\r\n\t\t\tvar view = this._cells[i].$view;\r\n\t\t\tvar size = this._sizes[i];\r\n\t\t\tvar config = this._cells[i]._settings;\r\n\r\n\t\t\tif (view){\r\n\t\t\t\tview.style.minWidth = size[0]+\"px\";\r\n\t\t\t\tif (size[1] < 100000 && size[1] != size[0])\r\n\t\t\t\t\tview.style.maxWidth = size[1]+\"px\";\r\n\r\n\t\t\t\tview.style.flexBasis = config.flexBasis || (size[0])+\"px\";\r\n\t\t\t\tview.style.flexGrow = config.flexGrow || ((size[1] != size[0]) ? size[4] : 0);\r\n\t\t\t\tview.style.height = (size[3] != size[2]) ? \"auto\" : (size[2] + \"px\");\r\n\r\n\t\t\t\tview.style.minHeight = size[2]+\"px\";\r\n\t\t\t\tif (size[3] < 100000 && size[3] != size[2])\r\n\t\t\t\t\tview.style.maxHeight = size[3]+\"px\";\r\n\r\n\t\t\t\tview.style.margin = margin + \"px\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar whs = [];\r\n\t\tfor (var i=0; i<this._cells.length; i++){\r\n\t\t\tif (this._cells[i]._settings.hidden) continue;\r\n\t\t\tvar view = this._cells[i].$view;\r\n\t\t\twhs[i] = [view.offsetWidth, view.offsetHeight];\r\n\t\t}\r\n\t\t\r\n\t\tfor (var i=0; i<this._cells.length; i++){\r\n\t\t\tif (this._cells[i]._settings.hidden) continue;\r\n\t\t\tvar cell = this._cells[i];\r\n\t\t\tvar view = cell.$view;\r\n\t\t\tif (view){\r\n\t\t\t\tcell._settings.flex = true;\r\n\t\t\t\tvar size = this._sizes[i];\r\n\t\t\t\tvar h = size[2] == size[3] ? size[2] : whs[i][1];\r\n\t\t\t\tcell.$setSize(whs[i][0], h);\r\n\t\t\t\tcell._settings.flex = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.$height = this._content_height = this.$view.scrollHeight;\r\n\t\tthis.$view.style.height = this._content_height+\"px\";\r\n\t}\r\n};\r\nwebix.protoUI({\r\n\t$init:function(){\r\n\t\twebix.extend(this, webix.FlexLayout, true);\r\n\t},\r\n\tname:\"flexlayout\"\r\n}, webix.ui.layout);\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"align\",\r\n\tdefaults:{\r\n\t\tborderless:true,\r\n\t\tleft:0, top:0, right:0, bottom:0\r\n\t},\r\n\t$init:function(){\r\n\t\tthis._viewobj.className\t+= \" webix_view_align\";\r\n\t},\r\n\tbody_setter:function(value){\r\n\t\tvalue._inner = { top:false, left:false, right:false, bottom:false};\r\n\t\tthis._body_cell = webix.ui._view(value);\r\n\t\tthis._body_cell._parent_cell = this;\r\n\r\n\t\tthis._viewobj.appendChild(this._body_cell._viewobj);\r\n\t\treturn value;\r\n\t},\r\n\talign_setter:function(value){\r\n\t\tif (typeof value === \"string\")\r\n\t\t\tvalue = value.split(\",\");\r\n\r\n\t\tthis._x_align = this._y_align = this._p_align = \"\";\r\n\t\tfor (var i=0; i<value.length; i++){\r\n\t\t\tvar c = value[i];\r\n\t\t\tif (c === \"center\" || c === \"left\" || c === \"right\")\r\n\t\t\t\tthis._x_align = c;\r\n\t\t\tif (c === \"top\" || c === \"bottom\" || c === \"middle\")\r\n\t\t\t\tthis._y_align = c;\r\n\t\t\tif (c === \"absolute\")\r\n\t\t\t\tthis._x_align = this._y_align = this._p_align = \"precise\";\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\twebix.ui.view.prototype.$setSize.call(this, x,y);\r\n\r\n\t\tvar dx, dy;\r\n\t\tif (this._p_align){\r\n\t\t\tdx = x - this._settings.left + this._settings.right;\r\n\t\t\tdy = y - this._settings.top + this._settings.bottom;\r\n\t\t} else {\r\n\t\t\tdx = x; dy = y;\r\n\t\t}\r\n\r\n\t\tdx = this._desired_size[0] || dx;\r\n\t\tdy = this._desired_size[2] || dy;\r\n\r\n\r\n\r\n\t\tthis._body_cell.$setSize(dx, dy);\r\n\r\n\t\tvar box = this._body_cell._viewobj;\r\n\r\n\t\tif (this._x_align == \"center\")\r\n\t\t\tbox.style.marginLeft = Math.ceil((x-dx)/2)+\"px\";\r\n\t\telse if (this._x_align == \"right\")\r\n\t\t\tbox.style.marginLeft = (x-dx)+\"px\";\r\n\t\telse\r\n\t\t\tbox.style.marginLeft = (this._p_align ? this._settings.left : 0) +\"px\";\r\n\r\n\t\tif (this._y_align == \"middle\") \r\n\t\t\tbox.style.marginTop = Math.ceil((y-dy)/2)+\"px\";\r\n\t\telse if (this._y_align == \"bottom\")\r\n\t\t\tbox.style.marginTop = (y-dy)+\"px\";\r\n\t\telse\r\n\t\t\tbox.style.marginTop = (this._p_align ? this._settings.top : 0) + \"px\";\r\n\t},\r\n\t$getSize:function(dx,dy){\r\n\t\tvar size = this._desired_size = this._body_cell.$getSize(0,0);\r\n\t\tvar self_size = webix.ui.baseview.prototype.$getSize.call(this, 0, 0);\r\n\t\r\n\t\tif (this._p_align){\r\n\t\t\tdx += this._settings.left + this._settings.right;\r\n\t\t\tdy += this._settings.top + this._settings.bottom;\r\n\t\t}\r\n\r\n\t\tif (!this._x_align || this._p_align){\r\n\t\t\tself_size[0] = size[0]+dy;\r\n\t\t\tself_size[1] = size[1]+dy;\r\n\t\t} else {\r\n\t\t\tself_size[0] = (self_size[0] || size[0] ) +dy;\r\n\t\t\tself_size[1] +=\tdx;\r\n\t\t}\r\n\r\n\t\tif (!this._y_align || this._p_align){\r\n\t\t\tself_size[2] = size[2]+dy;\r\n\t\t\tself_size[3] = size[3]+dy;\r\n\t\t} else {\r\n\t\t\tself_size[2] = (self_size[2] || size[2] ) +dy;\r\n\t\t\tself_size[3] +=\tdx;\r\n\t\t}\r\n\r\n\t\treturn self_size;\r\n\t}\r\n}, webix.ui.view);\r\n\r\n\r\n\r\nwebix.animate = function(html_element, config){\r\n\tvar animation = config;\r\n\tif (webix.isArray(html_element)){\r\n\t\tfor (var i=0; i < html_element.length; i++) {\r\n\t\t\tif(webix.isArray(config))\r\n\t\t\t\tanimation = config[i];\r\n\r\n\t\t\tif(animation.type == 'slide'){\r\n\t\t\t\tif(animation.subtype == 'out' && i===0) { // next\r\n\t\t\t\t    continue;\r\n\t\t\t\t}\r\n\t\t\t\tif(animation.subtype == 'in' && i==1) { // current\r\n\t\t\t\t    continue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(animation.type == 'flip'){\r\n\t\t\t\tvar animation_copy = webix.clone(animation);\r\n\t\t\t\tif(i===0) { // next\r\n\t\t\t\t    animation_copy.type = 'flipback';\r\n\t\t\t\t}\r\n\t\t\t\tif(i==1) { // current\r\n\t\t\t\t    animation_copy.callback = null;\r\n\t\t\t\t}\r\n\t\t\t\twebix.animate(html_element[i], animation_copy);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\twebix.animate(html_element[i], animation);\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\tvar node = webix.toNode(html_element);\r\n\tif (node._has_animation)\r\n\t\twebix.animate.end(node, animation);\r\n\telse\r\n\t\twebix.animate.start(node, animation);\r\n};\r\nwebix.animate.end = function(node, animation){\r\n\t//stop animation\r\n\tnode.style[webix.env.transitionDuration] = \"1ms\";\r\n\tnode._has_animation = null;\r\n\t//clear animation wait order, if any\r\n\tif (webix._wait_animate)\r\n\t\twindow.clearTimeout(webix._wait_animate);\r\n\r\n\t//plan next animation, if any\r\n\twebix._wait_animate = webix.delay(webix.animate, webix, [node,animation],10);\r\n};\r\nwebix.animate.isSupported=function(){\r\n\treturn !webix.$testmode && !webix.noanimate && webix.env.transform && webix.env.transition && !webix.env.isOpera;\r\n};\r\nwebix.animate.formLine=function(next, current, animation){\r\n    var direction = animation.direction;\r\n\tcurrent.parentNode.style.position = \"relative\";\r\n    current.style.position = \"absolute\";\r\n\tnext.style.position = \"absolute\";\r\n\r\n\t//this is initial shift of second view in animation\r\n\t//normally we need to have this value as 0\r\n\t//but FF has bug with animation initially invisible elements\r\n\t//so we are adjusting this value, to make 1px of second view visible\r\n\tvar defAniPos = webix.env.isFF ? ( direction == \"top\" || direction == \"left\" ? -1 : 1) : 0;\r\n\r\n\tif(direction==\"top\"||direction==\"bottom\"){\r\n\t\tnext.style.left=\"0px\";\r\n\t\tnext.style.top = (animation.top || defAniPos) + (direction==\"top\"?1:-1)*current.offsetHeight+\"px\";\r\n\t}\r\n\telse{\r\n\t\tnext.style.top = (animation.top || 0) + \"px\";\r\n\t\tnext.style.left = defAniPos + (direction==\"left\"?1:-1)*current.offsetWidth+\"px\";\r\n\t}\r\n\r\n\t// apply 'keepViews' mode, iframe solution\r\n\t//( keepViews won't work in case of \"in\" and \"out\" subtypes )\r\n\tif(current.parentNode == next.parentNode && animation.keepViews)\r\n\t\tnext.style.display = \"\";\r\n\telse\r\n\t\twebix.html.insertBefore(next, current.nextSibling, current.parentNode);\r\n\r\n\tif(animation.type == 'slide' && animation.subtype == 'out') {\r\n\t\tnext.style.left = \"0px\";\r\n\t\tnext.style.top = (animation.top || 0)+\"px\";\r\n\t\tcurrent.parentNode.removeChild(current);\r\n\t\twebix.html.insertBefore(current, next.nextSibling, next.parentNode);\r\n\t}\r\n\treturn [next, current];\r\n};\r\nwebix.animate.breakLine=function(line){\r\n\tif(arguments[1])\r\n\t\tline[1].style.display = \"none\"; // 'keepViews' multiview mode\r\n\telse\r\n\t\twebix.html.remove(line[1]); // 1 = current\r\n\twebix.animate.clear(line[0]);\r\n\twebix.animate.clear(line[1]);\r\n\tline[0].style.position=\"\";\r\n};\r\nwebix.animate.clear=function(node){\r\n\tnode.style[webix.env.transform] = \"none\";\r\n\tnode.style[webix.env.transition] = \"none\";\r\n\tnode.style.top = node.style.left = \"\";\r\n};\r\nwebix.animate.defaults = {\r\n\t\ttype: 'slide',\r\n\t\tdelay: '0',\r\n\t\tduration: '500',\r\n\t\ttiming: 'ease-in-out',\r\n\t\tx: 0,\r\n\t\ty: 0\r\n};\r\nwebix.animate.start = function(node, animation){\r\n\t//getting config object by merging specified and default options\r\n \tif (typeof animation == 'string')\r\n\t\tanimation = {type: animation};\r\n\r\n    animation = webix.Settings._mergeSettings(animation,webix.animate.defaults);\r\n\r\n\tvar prefix = webix.env.cssPrefix;\r\n    var settings = node._has_animation = animation;\r\n    var skew_options, scale_type;\r\n\r\n    //jshint -W086:true\r\n\tswitch(settings.type == 'slide' && settings.direction) { // getting new x, y in case it is slide with direction\r\n\t\tcase 'right':\r\n\t\t\tsettings.x = node.offsetWidth;\r\n\t\t\tbreak;\r\n\t\tcase 'left':\r\n\t\t\tsettings.x = -node.offsetWidth;\r\n\t\t\tbreak;\r\n\t\tcase 'top':\r\n\t\t\tsettings.y = -node.offsetHeight;\r\n\t\t\tbreak;\r\n\t\tcase 'bottom':\r\n\t\tdefault:\r\n\t\t\tsettings.y = settings.y||node.offsetHeight;\r\n\t\t\tbreak;\r\n\t}\r\n\r\n    if(settings.type == 'flip' || settings.type == 'flipback') {\r\n    \t\tskew_options = [0, 0];\r\n            scale_type = 'scaleX';\r\n            if(settings.subtype == 'vertical') {\r\n                skew_options[0] = 20;\r\n                scale_type = 'scaleY';\r\n            }\r\n            else\r\n                skew_options[1] = 20;\r\n            if(settings.direction == 'right' || settings.direction == 'bottom') {\r\n                skew_options[0] *= -1; skew_options[1] *= -1;\r\n            }\r\n    }\r\n\r\n\tvar duration = settings.duration + \"ms \" + settings.timing + \" \" + settings.delay+\"ms\";\r\n\tvar css_general = prefix+\"TransformStyle: preserve-3d;\"; // general css rules\r\n\tvar css_transition = '';\r\n\tvar css_transform = '';\r\n\r\n\tswitch(settings.type) {\r\n\t\tcase 'fade': // changes opacity to 0\r\n\t\t\tcss_transition = \"opacity \" + duration;\r\n\t\t\tcss_general = \"opacity: 0;\";\r\n\t\t\tbreak;\r\n\t\tcase 'show': // changes opacity to 1\r\n\t\t\tcss_transition = \"opacity \" + duration;\r\n\t\t\tcss_general = \"opacity: 1;\";\r\n\t\t\tbreak;\r\n        case 'flip':\r\n            duration = (settings.duration/2) + \"ms \" + settings.timing + \" \" + settings.delay+\"ms\";\r\n            css_transform = \"skew(\"+skew_options[0]+\"deg, \"+skew_options[1]+\"deg) \"+scale_type+\"(0.00001)\";\r\n            css_transition = \"all \"+(duration);\r\n            break;\r\n        case 'flipback':\r\n            settings.delay += settings.duration/2;\r\n            duration = (settings.duration/2) + \"ms \" + settings.timing + \" \" + settings.delay+\"ms\";\r\n            node.style[webix.env.transform] = \"skew(\"+(-1*skew_options[0])+\"deg, \"+(-1*skew_options[1])+\"deg) \"+scale_type+\"(0.00001)\";\r\n            node.style.left = \"0\";\r\n\r\n            css_transform = \"skew(0deg, 0deg) \"+scale_type+\"(1)\";\r\n            css_transition = \"all \"+(duration);\r\n            break;\r\n\t\tcase 'slide': // moves object to specified location\r\n\t\t\tvar x = settings.x +\"px\";\r\n\t\t\tvar y = settings.y +\"px\";\r\n            // translate(x, y) OR translate3d(x, y, 0)\r\n\t\t\tcss_transform = webix.env.translate+\"(\"+x+\", \"+y+((webix.env.translate==\"translate3d\")?\", 0\":\"\")+\")\";\r\n\t\t\tcss_transition = prefix+\"transform \" + duration;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\t//set styles only after applying transition settings\r\n    webix.delay(function(){\r\n        node.style[webix.env.transition] = css_transition;\r\n        webix.delay(function(){\r\n            if (css_general)\r\n                node.style.cssText += css_general;\r\n            if (css_transform)\r\n                node.style[webix.env.transform] = css_transform;\r\n            var transitionEnded = false;\r\n            var tid = webix.event(node, webix.env.transitionEnd, function(ev){\r\n                node._has_animation = null;\r\n                if (settings.callback) settings.callback.call((settings.master||window), node,settings,ev);\r\n                transitionEnded = true;\r\n                webix.eventRemove(tid);\r\n            });\r\n            window.setTimeout(function(){\r\n                if(!transitionEnded){\r\n                    node._has_animation = null;\r\n                    if (settings.callback) settings.callback.call((settings.master||window), node,settings);\r\n                    transitionEnded = true;\r\n                    webix.eventRemove(tid);\r\n                }\r\n            }, (settings.duration*1+settings.delay*1)*1.3);\r\n        });\r\n    });\r\n};\r\n\r\n/*\r\n\tBehavior:MouseEvents - provides inner evnets for  mouse actions\r\n*/\r\n\r\nwebix.MouseEvents={\r\n\t$init: function(config){\r\n\t\tconfig = config || {};\r\n\r\n\t\tthis._clickstamp = 0;\r\n\t\tthis._dbl_sensetive = 300;\r\n\t\tthis._item_clicked = null;\r\n\r\n\t\tthis._mouse_action_extend(config.onClick, \"on_click\");\r\n\t\tthis._mouse_action_extend(config.onContext, \"on_context\");\r\n\t\tthis._mouse_action_extend(config.onDblClick, \"on_dblclick\");\r\n\t\tthis._mouse_action_extend(config.onMouseMove, \"on_mouse_move\");\r\n\r\n\t\t//attach dom events if related collection is defined\r\n\t\tif (this.on_click){\r\n\t\t\twebix.event(this._contentobj,\"click\",this._onClick,{bind:this});\r\n\t\t\tif (webix.env.isIE8 && this.on_dblclick)\r\n\t\t\t\twebix.event(this._contentobj, \"dblclick\", this._onDblClick, {bind:this});\r\n\t\t}\r\n\t\tif (this.on_context)\r\n\t\t\twebix.event(this._contentobj,\"contextmenu\",this._onContext,{bind:this});\r\n\r\n\t\tif (this.on_mouse_move)\r\n\t\t\tthis._enable_mouse_move();\r\n\t},\r\n\r\n\t_enable_mouse_move:function(){\r\n\t\tif (!this._mouse_move_enabled){\r\n\t\t\tthis.on_mouse_move = this.on_mouse_move || {};\r\n\t\t\twebix.event(this._contentobj,\"mousemove\",this._onMouse,{bind:this});\r\n\t\t\twebix.event(this._contentobj,(webix.env.isIE?\"mouseleave\":\"mouseout\"),this._onMouse,{bind:this});\r\n\t\t\tthis._mouse_move_enabled = 1;\r\n\t\t\tthis.attachEvent(\"onDestruct\", function(){\r\n\t\t\t\tif (this._mouse_move_timer)\r\n\t\t\t\t\twindow.clearTimeout(this._mouse_move_timer);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_mouse_action_extend:function(config, key){\r\n\t\tif (config){\r\n\t\t\tvar now = this[key];\r\n\t\t\tvar step = now ? webix.extend({}, now) : {};\r\n\t\t\tthis[key] = webix.extend(step, config);\r\n\t\t}\r\n\t},\r\n\r\n\t//inner onclick object handler\r\n\t_onClick: function(e){\r\n\t\tif(!this.isEnabled())\r\n\t\t\treturn false;\r\n\r\n\t\twebix.UIManager._focus_action(this);\r\n\t\tif(this.on_dblclick){\r\n\t\t\t// emulates double click\r\n\t\t\tvar stamp = (new Date()).valueOf();\r\n\r\n\t\t\tif (stamp - this._clickstamp <= this._dbl_sensetive && this.locate){\r\n\t\t\t\tvar item = this.locate(e);\r\n\t\t\t\tif (\"\"+item == \"\"+this._item_clicked) {\r\n\t\t\t\t\tthis._clickstamp = 0;\r\n\t\t\t\t\treturn this._onDblClick(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._clickstamp = stamp;\r\n\t\t}\r\n\r\n\t\tvar result = this._mouseEvent(e,this.on_click,\"ItemClick\");\r\n\t\treturn result;\r\n\t},\r\n\t//inner ondblclick object handler\r\n\t_onDblClick: function(e) {\r\n\t\treturn this._mouseEvent(e,this.on_dblclick,\"ItemDblClick\");\r\n\t},\r\n\t//process oncontextmenu events\r\n\t_onContext: function(e) {\r\n\t\tthis._mouseEvent(e, this.on_context, \"BeforeContextMenu\", \"AfterContextMenu\");\r\n\t},\r\n\t/*\r\n\t\tevent throttler - ignore events which occurs too fast\r\n\t\tduring mouse moving there are a lot of event firing - we need no so much\r\n\t\talso, mouseout can fire when moving inside the same html container - we need to ignore such fake calls\r\n\t*/\r\n\t_onMouse:function(e){\r\n\t\tif (document.createEventObject)\t//make a copy of event, will be used in timed call\r\n\t\t\te = document.createEventObject(event);\r\n\t\telse if (!webix.$testmode && !webix.isUndefined(e.movementY) && !e.movementY && !e.movementX)\r\n\t\t\treturn; //logitech mouse driver can send false signals in Chrome\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\tif (this._mouse_move_timer)\t//clear old event timer\r\n\t\t\twindow.clearTimeout(this._mouse_move_timer);\r\n\t\t\t\t\r\n\t\t//this event just inform about moving operation, we don't care about details\r\n\t\tthis.callEvent(\"onMouseMoving\",[e]);\r\n\t\t//set new event timer\r\n\t\tthis._mouse_move_timer = window.setTimeout(webix.bind(function(){\r\n\t\t\t//called only when we have at least 100ms after previous event\r\n\t\t\tif (e.type == \"mousemove\")\r\n\t\t\t\tthis._onMouseMove(e);\r\n\t\t\telse\r\n\t\t\t\tthis._onMouseOut(e);\r\n\t\t},this),(this._settings.mouseEventDelay||500));\r\n\t},\r\n\r\n\t//inner mousemove object handler\r\n\t_onMouseMove: function(e) {\r\n\t\tif (!this._mouseEvent(e,this.on_mouse_move,\"MouseMove\"))\r\n\t\t\tthis.callEvent(\"onMouseOut\",[e||event]);\r\n\t},\r\n\t//inner mouseout object handler\r\n\t_onMouseOut: function(e) {\r\n\t\tthis.callEvent(\"onMouseOut\",[e||event]);\r\n\t},\r\n\t//common logic for click and dbl-click processing\r\n\t_mouseEvent:function(e,hash,name, pair){\r\n\t\te=e||event;\r\n\r\n\t\tif (e.processed || !this._viewobj) return;\r\n\t\te.processed = true;\r\n\r\n\t\tvar trg=e.target||e.srcElement;\r\n\r\n\t\t//IE8 can't modify event object\r\n\t\t//so we need to stop event bubbling to prevent double processing\r\n\t\tif (webix.env.isIE8){\r\n\t\t\tvar vid = this._settings.id;\r\n\t\t\tvar wid = trg.w_view;\r\n\r\n\t\t\tif (!wid) trg.w_view = vid; else if (wid !== vid) return;\r\n\t\t}\r\n\r\n\t\tvar css = \"\";\r\n\t\tvar id = null;\r\n\t\tvar found = false;\r\n\t\t//loop through all parents\r\n\t\twhile (trg && trg.parentNode && trg != this._viewobj.parentNode){\r\n\t\t\tif (!found && trg.getAttribute){\t\t\t\t\t\t\t\t\t\t\t\t\t//if element with ID mark is not detected yet\r\n\t\t\t\tid = trg.getAttribute(this._id);\t\t\t\t\t\t\t//check id of current one\r\n\t\t\t\tif (id){\r\n\t\t\t\t\tthis._item_clicked = id;\r\n\t\t\t\t\tif (this.callEvent){\r\n\t\t\t\t\t\t//it will be triggered only for first detected ID, in case of nested elements\r\n\t\t\t\t\t\tif (!this.callEvent(\"on\"+name,[id,e,trg])) return;\r\n\t\t\t\t\t\tif (pair) this.callEvent(\"on\"+pair,[id,e,trg]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//set found flag\r\n\t\t\t\t\tfound = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcss=webix.html._getClassName(trg);\r\n\t\t\tif (css){\t\t//check if pre-defined reaction for element's css name exists\r\n\t\t\t\tcss = css.toString().split(\" \");\r\n\t\t\t\tfor (var i=0; i<css.length; i++){\r\n\t\t\t\t\tif (hash[css[i]]){\r\n\t\t\t\t\t\tvar functor = webix.toFunctor(hash[css[i]], this.$scope);\r\n\t\t\t\t\t\tvar res =  functor.call(this,e,id||webix.html.locate(e, this._id),trg);\r\n\t\t\t\t\t\tif(res === false)\r\n\t\t\t\t\t\t\treturn found;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttrg=trg.parentNode;\r\n\t\t}\r\n\t\t\t\r\n\t\treturn found;\t//returns true if item was located and event was triggered\r\n\t}\r\n};\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"accordionitem\",\r\n\t$init:function(config){\r\n\t\tthis._viewobj.innerHTML = \"<div webix_ai_id='\"+config.id+\"'  class='webix_accordionitem_header'><div tabindex='0' role='button' class='webix_accordionitem_button' ></div><div class='webix_accordionitem_label' ></div></div><div class='webix_accordionitem_body'></div>\";\r\n\t\t\r\n\t\tthis._contentobj = this._viewobj;\r\n\t\tthis._headobj = this._contentobj.childNodes[0];\r\n\t\tif(!config.header)\r\n\t\t\tthis._headobj.style.display = \"none\";\r\n\t\tthis._headlabel = this._contentobj.childNodes[0].childNodes[1];\r\n\t\tthis._headbutton = this._contentobj.childNodes[0].childNodes[0];\r\n\t\tthis._bodyobj = this._contentobj.childNodes[1];\r\n\t\tthis._viewobj.className +=\" webix_accordionitem\";\r\n\t\tthis._head_cell = this._body_cell = null;\r\n\t\tthis._cells = true;\r\n\r\n\t\tthis._bodyobj.setAttribute(\"role\", \"tabpanel\");\r\n\t\tthis._headobj.setAttribute(\"role\", \"tab\");\r\n\r\n\t\tthis.attachEvent(\"onKeyPress\", this._onKeyPress);\r\n\t},\r\n\t_remove:function(){\r\n\t\tthis._body_cell = { destructor:function(){} };\r\n\t},\r\n\t_replace:function(new_view){\r\n\t\tthis._body_cell.destructor();\r\n\t\tthis._body_cell = new_view;\r\n\t\tthis._body_cell._parent_cell = this;\r\n\t\t\r\n\t\tthis._bodyobj.appendChild(this._body_cell._viewobj);\r\n\t\tthis.resize();\r\n\t},\r\n\t_id:\"webix_ai_id\",\r\n\tgetChildViews:function(){\r\n\t\treturn [this._body_cell];\r\n\t},\r\n\tbody_setter:function(value){\r\n\t\tif (typeof value != \"object\")\r\n\t\t\tvalue = {template:value };\r\n\r\n\t\tvalue._inner = { top:true, left:true, right:true, bottom:true};\r\n\t\tthis._body_cell = webix.ui._view(value);\r\n\t\tthis._body_cell.$view.style.border = \"0px solid red\";\r\n\t\tthis._body_cell._parent_cell = this;\r\n\r\n\t\tthis._bodyobj.appendChild(this._body_cell._viewobj);\r\n\t\treturn value;\r\n\t},\r\n\theader_setter:function(value){\r\n\t\tif(value)\r\n\t\t\tvalue = webix.template(value);\r\n\t\treturn value;\r\n\t},\r\n\theaderAlt_setter:function(value){\r\n\t\tif(value)\r\n\t\t\tvalue = webix.template(value);\r\n\t\treturn value;\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tvar size =  this._body_cell.$getSize(0, 0);\r\n\r\n\t\t//apply external border to inner content sizes\r\n\t\tvar _borders = this._settings._inner;\r\n\t\tif (_borders){\r\n\t\t\tdx += (_borders.left?0:1)+(_borders.right?0:1);\r\n\t\t\tdy += (_borders.top?0:1)+(_borders.bottom?0:1);\r\n\t\t}\r\n\r\n\t\tvar header = 0;\r\n\t\tvar self_size = webix.ui.baseview.prototype.$getSize.call(this, 0, 0);\r\n\r\n\t\t//use child settings if layout's one was not defined\r\n\t\tself_size[0] = (self_size[0] || size[0] ) +dx;\r\n\t\tif (self_size[1] >= 100000)\r\n\t\t\tself_size[1] = size[1];\r\n\t\tself_size[1] +=\tdx;\r\n\t\t\r\n\t\tself_size[2] = (self_size[2] || size[2] ) +dy;\r\n\t\tvar fixedHeight = (self_size[3]< 100000);\r\n\t\tif (!fixedHeight)\r\n\t\t\tself_size[3] = size[3];\r\n\r\n\t\tself_size[3] += dy;\r\n\r\n\t\tif(this.getParentView()._vertical_orientation){\r\n\t\t\tif (this._settings.collapsed){\r\n\t\t\t\tself_size[2] = self_size[3] = this._getHeaderSize();\r\n\t\t\t} else if(this._settings.header)\r\n\t\t\t\theader = this._settings.headerHeight;\r\n\t\t} else {\r\n\t\t\tif (this._settings.collapsed)\r\n\t\t\t\tself_size[0] = self_size[1] = this._getHeaderSize();\r\n\t\t\tif(this._settings.header)\r\n\t\t\t\theader = this._settings.headerHeight;\r\n\t\t}\r\n\r\n\t\t//include header in total height calculation\r\n\t\tif(!fixedHeight){\r\n\t\t\tself_size[2] += header;\r\n\t\t\tself_size[3] += header;\r\n\t\t}\r\n\r\n\t\twebix.debug_size_box(this, self_size, true);\r\n\t\treturn self_size;\r\n\t},\r\n\ton_click:{\r\n\t\twebix_accordionitem_header:function(e, id){\r\n\t\t\tthis._toggle(e);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\twebix_accordionitem_header_v:function(e, id){\r\n\t\t\tthis._toggle(e);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t},\r\n\t_toggle:function(e){\r\n\t\tthis.define(\"collapsed\", !this._settings.collapsed);\r\n\t},\r\n\tcollapsed_setter:function(value){\r\n\t\tif (this._settings.header === false) return;\r\n\t\t//use last layout element if parent is not known yet\r\n\t\tvar parent = this.getParentView();\r\n\t\tif(parent){\r\n\t\t\tif(!value)\r\n\t\t\t\tthis._expand();\r\n\t\t\telse{\r\n\t\t\t\tif ( parent._canCollapse(this))\r\n\t\t\t\t\tthis._collapse();\r\n\t\t\t\telse{\r\n\t\t\t\t\tvar success = 0;\r\n\t\t\t\t\tif(parent._cells.length > 1)\r\n\t\t\t\t\t\tfor (var i=0; i < parent._cells.length; i++){\r\n\t\t\t\t\t\t\tvar sibl = parent._cells[i];\r\n\r\n\t\t\t\t\t\t\tif (this != sibl && sibl.isVisible()){\r\n\t\t\t\t\t\t\t\tsibl.expand();\r\n\t\t\t\t\t\t\t\tthis._collapse();\r\n\t\t\t\t\t\t\t\tsuccess = 1;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tif (!success) return;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._settings.collapsed = value;\r\n\t\t\tif (!value) parent._afterOpen(this);\r\n\r\n\t\t\tthis.refresh();\r\n\t\t\tif (!webix._ui_creation)\r\n\t\t\t\tthis.resize();\r\n\r\n\t\t\tparent.callEvent(\"onAfter\"+(value?\"Collapse\":\"Expand\"), [this._settings.id]);\r\n\r\n\t\t\tthis._settings.$noresize = value;\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\tcollapse:function(){\r\n\t\tthis.define(\"collapsed\", true);\r\n\t\twebix.UIManager._moveChildFocus(this);\r\n\t},\r\n\texpand:function(){\r\n\t\tthis.define(\"collapsed\", false);\r\n\t},\r\n\t_show: function() {\r\n\t\tthis.show();\r\n\t},\r\n\t_hide: function() {\r\n\t\tthis.hide();\r\n\t},\r\n\t_expand:function(){\r\n\t\tthis._bodyobj.style.display = \"\";\r\n\t\twebix.html.removeCss(this.$view, \"collapsed\");\r\n\t\twebix.html.removeCss(this._headobj, \"collapsed\");\r\n\r\n\t\tthis._headobj.setAttribute(\"aria-expanded\", \"true\");\r\n\t},\r\n\t_collapse:function(){\r\n\t\tvar vertical = this.getParentView()._vertical_orientation;\r\n\t\t//this._original_size = (vertical?this._settings.height:this._settings.width)||-1;\r\n\r\n\t\tif(this._settings.headerAlt)\r\n\t\t\tthis._headlabel.innerHTML = this._settings.headerAlt();\r\n\t\tthis._bodyobj.style.display = \"none\";\r\n\t\twebix.html.addCss(this.$view, \"collapsed\");\r\n\t\twebix.html.addCss(this._headobj, \"collapsed\");\r\n\r\n\t\tthis._headobj.setAttribute(\"aria-expanded\", \"false\");\r\n\t},\r\n\trefresh:function(){\r\n\t\tvar template = this._settings[this._settings.collapsed?\"headerAlt\":\"header\"] ||this._settings.header;\r\n\t\tif (template){\r\n\t\t\tthis._headlabel.innerHTML = template();\r\n\t\t\tthis._headbutton.setAttribute(\"aria-label\", template());\r\n\t\t}\r\n\t\t\t\r\n\t\tvar css = (this.getParentView()._vertical_orientation?\"vertical\":\"horizontal\");\r\n\t\tif(this._viewobj.className.indexOf(\" \"+css) < 0 ){\r\n\t\t\twebix.html.addCss(this._viewobj, css);\r\n\t\t}\r\n\t\t//fix collapsed columns in IE8\r\n\t\tif(!webix.env.transform){\r\n\t\t\twebix.html.addCss(this._viewobj,\"webix_ie\",true);\r\n\t\t}\r\n\t},\r\n\t_getHeaderSize:function(){\r\n\t\treturn (this._settings.collapsed?this._settings.headerAltHeight:this._settings.headerHeight);\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tif (webix.ui.view.prototype.$setSize.call(this,x,y) || this._getHeaderSize() != this._last_set_header_size){\r\n\t\t\tx = this._content_width;\r\n\t\t\ty = this._content_height;\r\n\r\n\t\t\tvar headerSize = this._last_set_header_size = this._getHeaderSize();//-(this._settings._inner.top?0:1);\r\n\t\t\tif (this._settings.header){\r\n\r\n\t\t\t\tthis._headobj.style.height=headerSize+\"px\";\r\n\t\t\t\tthis._headobj.style.width=\"auto\";\r\n\t\t\t\tthis._headobj.style[webix.env.transform]=\"\";\r\n\r\n\t\t\t\t\r\n\t\t\t\tthis._headobj.style.borderBottomWidth = (this._settings.collapsed?0:1)+\"px\";\r\n\r\n\t\t\t\tif(this.getParentView()._vertical_orientation||!this._settings.collapsed){\r\n\t\t\t\t\ty-=this._getHeaderSize();\r\n\t\t\t\t} else if (this._settings.collapsed){\r\n\t\t\t\t\t//-2 - borders\r\n\t\t\t\t\tif (webix.animate.isSupported()){\r\n\t\t\t\t\t\tthis._headobj.style.width = y + \"px\";\r\n\t\t\t\t\t\tthis._headobj.style.height = x + 3 + \"px\";\r\n\t\t\t\t\t\tvar d = Math.floor(y/2-x/2)+(x-this._settings.headerAltHeight)/2;\r\n\t\t\t\t\t\tthis._headobj.style[webix.env.transform]=\"rotate(90deg) translate(\"+d+\"px, \"+(d+1)+\"px)\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse { //IE8 fix\r\n\t\t\t\t\t\tthis._headobj.style.width = x + \"px\";\r\n\t\t\t\t\t\tthis._headobj.style.height = y + 3 + \"px\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(!this._settings.collapsed){\r\n\t\t\t\tthis._body_cell.$setSize(x,y);\r\n\t\t\t\tthis._last_size_y = y;\r\n\t\t\t}\r\n\t\t} else if (!this._settings.collapsed){\r\n\t\t\tvar body = this._body_cell;\r\n\t\t\tif (this._last_size_y)\r\n\t\t\t\tbody.$setSize(this._content_width, this._last_size_y);\r\n\t\t}\r\n\t},\r\n\t$skin:function(){\r\n\t\tvar defaults = this.defaults;\r\n\t\tdefaults.headerAltHeight = defaults.headerHeight = webix.skin.$active.barHeight;\r\n\t\tif(webix.skin.$active.borderlessAccordion)\r\n\t\t\tdefaults.borderless = true;\r\n\t},\r\n\tdefaults:{\r\n\t\theader:false,\r\n\t\theaderAlt:false,\r\n\t\tbody:\"\"\r\n\t}\r\n}, webix.MouseEvents, webix.EventSystem, webix.ui.view);\r\n\r\nwebix.protoUI({\r\n\tname:\"accordion\",\r\n\tdefaults:{\r\n\t\tpanelClass:\"accordionitem\",\r\n\t\tmulti:false,\r\n\t\tcollapsed:false\r\n\t},\r\n\t$init:function(){\r\n\t\tthis._viewobj.setAttribute(\"role\", \"tablist\");\r\n\t\tthis._viewobj.setAttribute(\"aria-multiselectable\", \"true\");\r\n\t},\r\n\taddView:function(view){\r\n\t\t//adding view to the accordion\r\n\t\tvar id = webix.ui.layout.prototype.addView.apply(this, arguments);\r\n\t\tvar child = webix.$$(id);\r\n\t\t//repainting sub-panels in the accordion\r\n\t\tif (child.collapsed_setter && child.refresh) child.refresh();\r\n\t\treturn id;\r\n\t},\r\n\t_parse_cells:function(){\r\n\t\tvar panel = this._settings.panelClass;\r\n\t\tvar cells = this._collection;\r\n\r\n\t\tfor (var i=0; i<cells.length; i++){\r\n\t\t\tif ((cells[i].body || cells[i].header)&& !cells[i].view && !cells[i].align)\r\n\t\t\t\tcells[i].view = panel;\r\n\t\t\tif (webix.isUndefined(cells[i].collapsed))\r\n\t\t\t\tcells[i].collapsed = this._settings.collapsed;\r\n\r\n\t\t}\r\n\r\n\t\r\n\t\tthis._skin_render_collapse = true;\r\n\t\twebix.ui.layout.prototype._parse_cells.call(this);\r\n\t\tthis._skin_render_collapse = false;\r\n\r\n\t\tfor (var i=0; i < this._cells.length; i++){\r\n\t\t\tif (this._cells[i].name == panel) \r\n\t\t\t\tthis._cells[i].refresh();\r\n\t\t\tthis._cells[i]._accLastChild = false;\r\n\t\t}\r\n\t\tvar found = false;\r\n\t\tfor (var i= this._cells.length-1; i>=0 &&!found; i--){\r\n\t\t\tif(!this._cells[i]._settings.hidden){\r\n\t\t\t\tthis._cells[i]._accLastChild = true;\r\n\t\t\t\tfound = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t},\r\n\t_afterOpen:function(view){\r\n\t\tif (this._settings.multi === false && this._skin_render_collapse !== true){\r\n\t\t\tfor (var i=0; i < this._cells.length; i++) {\r\n\t\t\t\tif (view != this._cells[i] && !this._cells[i]._settings.collapsed && this._cells[i].collapse)\r\n\t\t\t\t\tthis._cells[i].collapse();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (view.callEvent){\r\n\t\t\tview.callEvent(\"onViewShow\",[]);\r\n\t\t\twebix.ui.each(view, this._signal_hidden_cells);\r\n\t\t}\r\n\t},\r\n\t_canCollapse:function(view){\r\n\t\tif (this._settings.multi === true || this._skin_render_collapse) return true;\r\n\t\t//can collapse only if you have other item to open\r\n\t\tfor (var i=0; i < this._cells.length; i++)\r\n\t\t\tif (view != this._cells[i] && !this._cells[i]._settings.collapsed && this._cells[i].isVisible())\r\n\t\t\t\treturn true;\r\n\t\treturn false;\r\n\t},\r\n\t$skin:function(){\r\n\t\tvar defaults = this.defaults;\r\n\t\tif(webix.skin.$active.accordionType)\r\n\t\t\tdefaults.type = webix.skin.$active.accordionType;\r\n\t}\r\n}, webix.ui.layout);\r\n\r\nwebix.protoUI({\r\n\tname:\"headerlayout\",\r\n\tdefaults:{\r\n\t\ttype: \"accordion\",\r\n\t\tmulti:\"mixed\",\r\n\t\tcollapsed:false\r\n\t}\r\n}, webix.ui.accordion);\r\n\r\n\r\n\r\n\r\n\r\n/*\r\n\tBehavior:DND - low-level dnd handling\r\n\t@export\r\n\t\tgetContext\r\n\t\taddDrop\r\n\t\taddDrag\r\n\t\t\r\n\tDND master can define next handlers\r\n\t\tonCreateDrag\r\n\t\tonDragIng\r\n\t\tonDragOut\r\n\t\tonDrag\r\n\t\tonDrop\r\n\tall are optional\r\n*/\r\n\r\n\r\n\r\nwebix.DragControl={\r\n\t//has of known dnd masters\r\n\t_drag_masters : webix.toArray([\"dummy\"]),\r\n\t/*\r\n\t\tregister drop area\r\n\t\t@param node \t\t\thtml node or ID\r\n\t\t@param ctrl \t\t\toptions dnd master\r\n\t\t@param master_mode \t\ttrue if you have complex drag-area rules\r\n\t*/\r\n\taddDrop:function(node,ctrl,master_mode){\r\n\t\tnode = webix.toNode(node);\r\n\t\tnode.webix_drop=this._getCtrl(ctrl);\r\n\t\tif (master_mode) node.webix_master=true;\r\n\t},\r\n\t//return index of master in collection\r\n\t//it done in such way to prevent dnd master duplication\r\n\t//probably useless, used only by addDrop and addDrag methods\r\n\t_getCtrl:function(ctrl){\r\n\t\tctrl = ctrl||webix.DragControl;\r\n\t\tvar index = this._drag_masters.find(ctrl);\r\n\t\tif (index<0){\r\n\t\t\tindex = this._drag_masters.length;\r\n\t\t\tthis._drag_masters.push(ctrl);\r\n\t\t}\r\n\t\treturn index;\r\n\t},\r\n\t_createTouchDrag: function(e){\r\n\t\tvar dragCtrl = webix.DragControl;\r\n\t\tvar master = this._getActiveDragMaster();\r\n\t\t// for data items only\r\n\t\tif(master && master._getDragItemPos){\r\n\r\n\t\t\tif(!dragCtrl._html)\r\n\t\t\t\tdragCtrl.createDrag(e);\r\n\t\t\tvar ctx = dragCtrl._drag_context;\r\n\t\t\tdragCtrl._html.style.left= e.x+dragCtrl.left+ (ctx.x_offset||0)+\"px\";\r\n\t\t\tdragCtrl._html.style.top= e.y+dragCtrl.top+ (ctx.y_offset||0) +\"px\";\r\n\t\t}\r\n\t},\r\n\t/*\r\n\t\tregister drag area\r\n\t\t@param node \thtml node or ID\r\n\t\t@param ctrl \toptions dnd master\r\n\t*/\r\n\taddDrag:function(node,ctrl){\r\n\t    node = webix.toNode(node);\r\n\t    node.webix_drag=this._getCtrl(ctrl);\r\n\t\twebix.event(node,webix.env.mouse.down,this._preStart,{bind:node});\r\n\t\twebix.event(node,\"dragstart\",webix.html.preventEvent);\r\n\t},\r\n\t//logic of drag - start, we are not creating drag immediately, instead of that we hears mouse moving\r\n\t_preStart:function(e){\r\n\t\tif (webix.DragControl._active){\r\n\t\t\t//if we have nested drag areas, use the top one and ignore the inner one\r\n\t\t\tif (webix.DragControl._saved_event == e) return;\r\n\t\t\twebix.DragControl._preStartFalse();\r\n\t\t\twebix.DragControl.destroyDrag(e);\r\n\t\t}\r\n\t\twebix.DragControl._active=this;\r\n\r\n\t\tvar evobj = webix.env.mouse.context(e);\r\n\t\twebix.DragControl._start_pos=evobj;\r\n\t\twebix.DragControl._saved_event = e;\r\n\r\n\t\twebix.DragControl._webix_drag_mm = webix.event(document.body,webix.env.mouse.move,webix.DragControl._startDrag);\r\n\t\twebix.DragControl._webix_drag_mu = webix.event(document.body,webix.env.mouse.up,webix.DragControl._preStartFalse);\r\n\r\n\t\t//need to run here, or will not work in IE\r\n\t\twebix.html.addCss(document.body,\"webix_noselect\", 1);\r\n\t},\r\n\t//if mouse was released before moving - this is not a dnd, remove event handlers\r\n\t_preStartFalse:function(){\r\n\t\twebix.DragControl._clean_dom_after_drag();\r\n\t},\r\n\t//mouse was moved without button released - dnd started, update event handlers\r\n\t_startDrag:function(e){\r\n\t\t//prevent unwanted dnd\r\n\t\tvar pos = webix.env.mouse.context(e);\r\n\t\tvar master = webix.DragControl._getActiveDragMaster();\r\n\t\t// only long-touched elements can be dragged\r\n\r\n\t\tvar longTouchLimit = (master && webix.env.touch && master._getDragItemPos && !webix.Touch._long_touched);\r\n\t\tif (longTouchLimit || Math.abs(pos.x-webix.DragControl._start_pos.x)<5 && Math.abs(pos.y-webix.DragControl._start_pos.y)<5)\r\n\t\t\treturn;\r\n\r\n\t\twebix.DragControl._clean_dom_after_drag(true);\r\n\t\tif(!webix.DragControl._html)\r\n\t\t\tif (!webix.DragControl.createDrag(webix.DragControl._saved_event)) return;\r\n\t\t\r\n\t\twebix.DragControl.sendSignal(\"start\"); //useless for now\r\n\t\twebix.DragControl._webix_drag_mm = webix.event(document.body,webix.env.mouse.move,webix.DragControl._moveDrag);\r\n\t\twebix.DragControl._webix_drag_mu = webix.event(document.body,webix.env.mouse.up,webix.DragControl._stopDrag);\r\n\t\twebix.DragControl._moveDrag(e);\r\n\r\n\t\tif (webix.env.touch)\r\n\t\t\treturn webix.html.preventEvent(e);\r\n\t},\r\n\t//mouse was released while dnd is active - process target\r\n\t_stopDrag:function(e){\r\n\t\twebix.DragControl._clean_dom_after_drag();\r\n\t\twebix.DragControl._saved_event = null;\r\n\r\n\t\tif (webix.DragControl._last){\t//if some drop target was confirmed\r\n\t\t\twebix.DragControl.$drop(webix.DragControl._active, webix.DragControl._last, e);\r\n\t\t\twebix.DragControl.$dragOut(webix.DragControl._active,webix.DragControl._last,null,e);\r\n\t\t}\r\n\t\twebix.DragControl.destroyDrag(e);\r\n\t\twebix.DragControl.sendSignal(\"stop\");\t//useless for now\r\n\t},\r\n\t_clean_dom_after_drag:function(still_drag){\r\n\t\tthis._webix_drag_mm = webix.eventRemove(this._webix_drag_mm);\r\n\t\tthis._webix_drag_mu = webix.eventRemove(this._webix_drag_mu);\r\n\t\tif (!still_drag)\r\n\t\t\twebix.html.removeCss(document.body,\"webix_noselect\");\r\n\t},\r\n\t//dnd is active and mouse position was changed\r\n\t_moveDrag:function(e){\r\n\t\tvar dragCtrl = webix.DragControl;\r\n\t\tvar pos = webix.html.pos(e);\r\n\t\tvar evobj = webix.env.mouse.context(e);\r\n\r\n\t\t//give possibility to customize drag position\r\n\t\tvar customPos = dragCtrl.$dragPos(pos, e);\r\n\t\t//adjust drag marker position\r\n\t\tvar ctx = dragCtrl._drag_context;\r\n\t\tdragCtrl._html.style.top=pos.y+dragCtrl.top+(customPos||!ctx.y_offset?0:ctx.y_offset) +\"px\";\r\n\t\tdragCtrl._html.style.left=pos.x+dragCtrl.left+(customPos||!ctx.x_offset?0:ctx.x_offset)+\"px\";\r\n\r\n\t\tif (dragCtrl._skip)\r\n\t\t\tdragCtrl._skip=false;\r\n\t\telse {\r\n\t\t\tvar target = evobj.target = webix.env.touch ? document.elementFromPoint(evobj.x, evobj.y) : evobj.target;\r\n\t\t\tvar touch_event = webix.env.touch ? evobj : e;\r\n\t\t\tdragCtrl._checkLand(target, touch_event);\r\n\t\t}\r\n\t\t\r\n\t\treturn webix.html.preventEvent(e);\r\n\t},\r\n\t//check if item under mouse can be used as drop landing\r\n\t_checkLand:function(node,e){\r\n\t\twhile (node && node.tagName!=\"BODY\"){\r\n\t\t\tif (node.webix_drop){\t//if drop area registered\r\n\t\t\t\tif (this._last && (this._last!=node || node.webix_master))\t//if this area with complex dnd master\r\n\t\t\t\t\tthis.$dragOut(this._active,this._last,node,e);\t\t\t//inform master about possible mouse-out\r\n\t\t\t\tif (!this._last || this._last!=node || node.webix_master){\t//if this is new are or area with complex dnd master\r\n\t\t\t\t\tthis._last=null;\t\t\t\t\t\t\t\t\t\t//inform master about possible mouse-in\r\n\t\t\t\t\tthis._landing=this.$dragIn(webix.DragControl._active,node,e);\r\n\t\t\t\t\tif (this._landing)\t//landing was rejected\r\n\t\t\t\t\t\tthis._last=node;\r\n\t\t\t\t\treturn;\t\t\t\t\r\n\t\t\t\t} \r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tnode=node.parentNode;\r\n\t\t}\r\n\t\tif (this._last)\t//mouse was moved out of previous landing, and without finding new one \r\n\t\t\tthis._last = this._landing = this.$dragOut(this._active,this._last,null,e);\r\n\t},\r\n\t//mostly useless for now, can be used to add cross-frame dnd\r\n\tsendSignal:function(signal){\r\n\t\twebix.DragControl.active=(signal==\"start\");\r\n\t},\r\n\t\r\n\t//return master for html area\r\n\tgetMaster:function(t){\r\n\t\treturn this._drag_masters[t.webix_drag||t.webix_drop];\r\n\t},\r\n\t//return dhd-context object\r\n\tgetContext:function(){\r\n\t\treturn this._drag_context;\r\n\t},\r\n\tgetNode:function(){\r\n\t\treturn this._html;\r\n\t},\r\n\t//called when dnd is initiated, must create drag representation\r\n\tcreateDrag:function(e){ \r\n\t\tvar dragCtl = webix.DragControl;\r\n\t\tvar a=dragCtl._active;\r\n\r\n\t\tdragCtl._drag_context = {};\r\n\t\tvar master = this._drag_masters[a.webix_drag];\r\n        var drag_container;\r\n\r\n\t\t//if custom method is defined - use it\r\n\t\tif (master.$dragCreate){\r\n\t\t\tdrag_container=master.$dragCreate(a,e);\r\n\t\t\tif (!drag_container) return false;\r\n\t\t\tthis._setDragOffset(e);\r\n\t\t\tdrag_container.style.position = 'absolute';\r\n\t\t} else {\r\n\t\t//overvise use default one\r\n\t\t\tvar text = dragCtl.$drag(a,e);\r\n\t\t\tdragCtl._setDragOffset(e);\r\n\r\n\t\t\tif (!text) return false;\r\n\t\t\tdrag_container = document.createElement(\"DIV\");\r\n\t\t\tdrag_container.innerHTML=text;\r\n\t\t\tdrag_container.className=\"webix_drag_zone\";\r\n\t\t\tdocument.body.appendChild(drag_container);\r\n\r\n\t\t\tvar context = dragCtl._drag_context;\r\n\t\t\tif (context.html && webix.env.pointerevents){\r\n\t\t\t\tcontext.x_offset = -Math.round(drag_container.offsetWidth  * 0.5);\r\n\t\t\t\tcontext.y_offset = -Math.round(drag_container.offsetHeight * 0.75);\r\n\t\t\t}\r\n\t\t}\r\n\t\t/*\r\n\t\t\tdragged item must have topmost z-index\r\n\t\t\tin some cases item already have z-index\r\n\t\t\tso we will preserve it if possible\r\n\t\t*/\r\n\t\tdrag_container.style.zIndex = Math.max(drag_container.style.zIndex,webix.ui.zIndex());\r\n\r\n\t\twebix.DragControl._skipDropH = webix.event(drag_container,webix.env.mouse.move,webix.DragControl._skip_mark);\r\n\r\n\t\tif (!webix.DragControl._drag_context.from)\r\n\t\t\twebix.DragControl._drag_context = {source:a, from:a};\r\n\t\t\r\n\t\twebix.DragControl._html=drag_container;\r\n\t\treturn true;\r\n\t},\r\n\t//helper, prevents unwanted mouse-out events\r\n\t_skip_mark:function(){\r\n\t\twebix.DragControl._skip=true;\r\n\t},\r\n\t//after dnd end, remove all traces and used html elements\r\n\tdestroyDrag:function(e){\r\n\t\tvar a=webix.DragControl._active;\r\n\t\tvar master = this._drag_masters[a.webix_drag];\r\n\r\n\t\tif (master && master.$dragDestroy){\r\n\t\t\twebix.DragControl._skipDropH = webix.eventRemove(webix.DragControl._skipDropH);\r\n\t\t\tif(webix.DragControl._html)\r\n\t\t\t\tmaster.$dragDestroy(a,webix.DragControl._html,e);\r\n\t\t}\r\n\t\telse{\r\n\t\t\twebix.html.remove(webix.DragControl._html);\r\n\t\t}\r\n\t\twebix.DragControl._landing=webix.DragControl._active=webix.DragControl._last=webix.DragControl._html=null;\r\n\t\t//webix.DragControl._x_offset = webix.DragControl._y_offset = null;\r\n\t},\r\n\t_getActiveDragMaster: function(){\r\n\t\treturn webix.DragControl._drag_masters[webix.DragControl._active.webix_drag];\r\n\t},\r\n\ttop:5,\t //relative position of drag marker to mouse cursor\r\n\tleft:5,\r\n\t_setDragOffset:function(e){\r\n\t\tvar dragCtl = webix.DragControl;\r\n\t\tvar pos = dragCtl._start_pos;\r\n\t\tvar ctx = dragCtl._drag_context;\r\n\r\n\t\tif(typeof ctx.x_offset != \"undefined\" && typeof ctx.y_offset != \"undefined\")\r\n\t\t\treturn null;\r\n\r\n\t\tctx.x_offset = ctx.y_offset = 0;\r\n\t\tif(webix.env.pointerevents){\r\n\t\t\tvar m=webix.DragControl._getActiveDragMaster();\r\n\r\n\t\t\tif (m._getDragItemPos && m!==this){\r\n\t\t\t\tvar itemPos = m._getDragItemPos(pos,e);\r\n\r\n\t\t\t\tif(itemPos){\r\n\t\t\t\t\tctx.x_offset = itemPos.x - pos.x;\r\n\t\t\t\t\tctx.y_offset = itemPos.y - pos.y;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t},\r\n\t$dragPos:function(pos, e){\r\n\t\tvar m=this._drag_masters[webix.DragControl._active.webix_drag];\r\n\t\tif (m.$dragPos && m!=this){\r\n\t\t\tm.$dragPos(pos, e, webix.DragControl._html);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t},\r\n\t//called when mouse was moved in drop area\r\n\t$dragIn:function(s,t,e){\r\n\t\tvar m=this._drag_masters[t.webix_drop];\r\n\t\tif (m.$dragIn && m!=this) return m.$dragIn(s,t,e);\r\n\t\tt.className=t.className+\" webix_drop_zone\";\r\n\t\treturn t;\r\n\t},\r\n\t//called when mouse was moved out drop area\r\n\t$dragOut:function(s,t,n,e){\r\n\t\tvar m=this._drag_masters[t.webix_drop];\r\n\t\tif (m.$dragOut && m!=this) return m.$dragOut(s,t,n,e);\r\n\t\tt.className=t.className.replace(\"webix_drop_zone\",\"\");\r\n\t\treturn null;\r\n\t},\r\n\t//called when mouse was released over drop area\r\n\t$drop:function(s,t,e){\r\n\t\tvar m=this._drag_masters[t.webix_drop];\r\n\t\twebix.DragControl._drag_context.from = webix.DragControl.getMaster(s);\r\n\t\tif (m.$drop && m!=this) return m.$drop(s,t,e);\r\n\t\tt.appendChild(s);\r\n\t},\r\n\t//called when dnd just started\r\n\t$drag:function(s,e){\r\n\t\tvar m=this._drag_masters[s.webix_drag];\r\n\t\tif (m.$drag && m!=this) return m.$drag(s,e);\r\n\t\treturn \"<div style='\"+s.style.cssText+\"'>\"+s.innerHTML+\"</div>\";\r\n\t}\t\r\n};\r\n\r\n//global touch-drag handler\r\nwebix.attachEvent(\"onLongTouch\", function(ev){\r\n\tif(webix.DragControl._active)\r\n\t\twebix.DragControl._createTouchDrag(ev);\r\n});\r\n\r\n/*\r\n\tBehavior:DataMove - allows to move and copy elements, heavily relays on DataStore.move\r\n\t@export\r\n\t\tcopy\r\n\t\tmove\r\n*/\r\nwebix.DataMove={\r\n\t//creates a copy of the item\r\n\tcopy:function(sid,tindex,tobj, details){\r\n\t\tdetails = details || {};\r\n\t\tvar new_id = details.newId || sid;\r\n\t\ttobj = tobj||this;\r\n\r\n\t\tvar data = this.getItem(sid);\r\n\t\twebix.assert(data,\"Incorrect ID in DataMove::copy\");\r\n\t\t\r\n\t\t//make data conversion between objects\r\n\t\tif (tobj)\r\n\t\t\tdata = tobj._externalData(data);\r\n\t\t\r\n\t\t//adds new element same as original\r\n\t\treturn tobj.data.add(tobj._externalData(data,new_id),tindex,(details.parent || 0));\r\n\t},\r\n\t_next_move_index:function(nid, next, source){\r\n\t\tif (next && nid){\r\n\t\t\tvar new_index = this.getIndexById(nid);\r\n\t\t\treturn new_index+(source == this && source.getIndexById(next)<new_index?0:1);\r\n\t\t}\r\n\t},\r\n\t//move item to the new position\r\n\tmove:function(sid,tindex,tobj, details){\r\n\t\tdetails = details || {};\r\n\t\tvar new_id = details.newId || sid;\r\n\r\n\t\ttobj = tobj||this;\r\n\t\twebix.assert(tobj.data, \"moving attempt to component without datastore\");\r\n\t\tif (!tobj.data) return;\r\n\r\n\t\t//can process an arrya - it allows to use it from onDrag \r\n\t\tif (webix.isArray(sid)){\r\n\t\t\t//block separate repaint operations\r\n\t\t\tif (sid.length > 3) //heuristic value, duplicated below\r\n\t\t\t\tthis.$blockRender = tobj.$blockRender = true;\r\n\r\n\t\t\tfor (var i=0; i < sid.length; i++) {\r\n\t\t\t\t//increase index for each next item in the set, so order of insertion will be equal to order in the array\r\n\t\t\t\tvar nid = this.move(sid[i], tindex, tobj, details);\r\n\t\t\t\ttindex = tobj._next_move_index(nid, sid[i+1], this);\r\n\t\t\t}\r\n\r\n\t\t\tthis.$blockRender = tobj.$blockRender = false;\r\n\t\t\tif (sid.length > 3){\r\n\t\t\t\t//repaint whole component\r\n\t\t\t\tthis.refresh();\r\n\t\t\t\tif (tobj != this)\r\n\t\t\t\t\ttobj.refresh();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tvar nid = sid; //id after moving\r\n\r\n\t\tvar data = this.getItem(sid);\r\n\t\twebix.assert(data,\"Incorrect ID in DataMove::move\");\r\n\t\t\r\n\t\tif (!tobj || tobj == this){\r\n\t\t\tif (tindex < 0) tindex = this.data.order.length - 1;\r\n\t\t\tthis.data.move(this.getIndexById(sid),tindex);\t//move inside the same object\r\n\t\t\tthis.data.callEvent(\"onDataMove\", [sid, tindex, null, this.data.order[tindex+1]]);\r\n\t\t} else {\r\n\t\t\t//copy to the new object\r\n\t\t\tnid = tobj.data.add(tobj._externalData(data,new_id),tindex, (details.parent || 0));\r\n\t\t\tthis.data.remove(sid);//delete in old object\r\n\t\t}\r\n\t\treturn nid;\t//return ID of item after moving\r\n\t},\r\n\t//move item on one position up\r\n\tmoveUp:function(id,step){\r\n\t\treturn this.move(id,this.getIndexById(id)-(step||1));\r\n\t},\r\n\t//move item on one position down\r\n\tmoveDown:function(id,step){\r\n\t\treturn this.moveUp(id, (step||1)*-1);\r\n\t},\r\n\t//move item to the first position\r\n\tmoveTop:function(id){\r\n\t\treturn this.move(id,0);\r\n\t},\r\n\t//move item to the last position\r\n\tmoveBottom:function(id){\r\n\t\treturn this.move(id,this.data.count()-1);\r\n\t},\r\n\t/*\r\n\t\tthis is a stub for future functionality\r\n\t\tcurrently it just makes a copy of data object, which is enough for current situation\r\n\t*/\r\n\t_externalData:function(data,id){\r\n\t\tvar newdata = webix.extend({},data);\r\n\t\tnewdata.id = (!id || this.data.pull[id])?webix.uid():id;\r\n\t\t\r\n\r\n\t\tnewdata.$template=null;\r\n\r\n\t\tif (this._settings.externalData)\r\n\t\t\tnewdata = this._settings.externalData.call(this, newdata, id, data);\r\n\t\treturn newdata;\r\n\t}\r\n};\r\n\r\n\r\nwebix.Movable = {\r\n\tmove_setter: function (value) { \r\n\t\tif (value){\r\n\t\t\tthis._move_admin = webix.clone(this._move_admin);\r\n\t\t\tthis._move_admin.master = this;\r\n\r\n\t\t\twebix.DragControl.addDrag(this._headobj, this._move_admin);\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\t_move_admin: {\r\n\t\t$dragCreate:function(object, e){\r\n\t\t\tif(this.master.config.move){\r\n\t\t\t\tvar offset = webix.html.offset(object);\r\n\t\t\t\tvar pos = webix.html.pos(e);\r\n\t\t\t\twebix.DragControl.top = offset.y - pos.y;\r\n\t\t\t\twebix.DragControl.left = offset.x - pos.x;\r\n\r\n\t\t\t\treturn webix.toNode(this.master._viewobj);\r\n\t\t\t}\r\n\t\t},\r\n\t\t$dragDestroy:function(node, drag){\r\n\t\t\tvar view = this.master;\r\n\t\t\tif (view._settings){\r\n\t\t\t\tview._settings.top = parseInt(drag.style.top,10);\r\n\t\t\t\tview._settings.left = parseInt(drag.style.left,10);\r\n\t\t\t}\r\n\r\n\t\t\twebix.DragControl.top = webix.DragControl.left = 5;\r\n\t\t\tthis.master.callEvent(\"onViewMoveEnd\", []);\r\n\t\t\treturn;\r\n\t\t},\r\n\t\t$dragPos:function(pos, e){\r\n\t\t\tthis.master.callEvent(\"onViewMove\", [pos, e]);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\n\r\nwebix.Modality = {\r\n    _modal_set:function(value){\r\n\t    if (value){\r\n\t    \tif (!this._modal_cover){\r\n\t\t        this._modal_cover = webix.html.create('div',{\r\n\t\t        \t\"class\":\"webix_modal\"\r\n\t\t    \t});\r\n\t\t    \t/*\twith below code we will have the same zIndex for modal layer as for the previous \r\n\t\t\t\t\tabs positioned element, but because of attaching order modal layer will be on top anyway\r\n\t\t    \t*/\r\n\t\t    \tvar zIndex = this._settings.zIndex||webix.ui.zIndex();\r\n\r\n\t\t    \t//set topmost modal layer\r\n\t\t    \tthis._previous_modality = webix._modality;\r\n\t\t    \twebix._modality = zIndex;\r\n\r\n\r\n\t\t    \tthis._modal_cover.style.zIndex = zIndex-1;\r\n\t\t    \tthis._viewobj.style.zIndex = zIndex;\r\n\t\t        document.body.appendChild(this._modal_cover);\r\n\t\t\t\twebix.event( this._modal_cover, \"click\", webix.bind(this._ignore_clicks, this));\r\n\t        }\r\n\t    }\r\n\t    else {\r\n\t        if (this._modal_cover){\r\n\t            webix.html.remove(this._modal_cover);\r\n\r\n\t            //restore topmost modal layer\r\n\t        \t//set delay, as current window closing may have not finished click event\r\n\t        \t//need to wait while it is not fully processed\r\n\t        \tvar topmost = this._previous_modality;\r\n\t        \tsetTimeout(function(){ webix._modality = topmost; }, 1);\r\n\r\n\t        \tthis._modal_cover = null;\r\n\t        }\r\n\t    }\r\n\t    return value;\r\n    }\r\n};\r\n\r\n\t\r\nwebix.protoUI({\r\n\tname:\"window\",\r\n\r\n\t$init:function(config){\r\n\t\tthis._viewobj.innerHTML = \"<div class='webix_win_content'><div class='webix_win_head'></div><div class='webix_win_body'></div></div>\";\r\n\t\t\r\n\t\tthis._contentobj = this._viewobj.firstChild;\r\n\t\tthis._headobj = this._contentobj.childNodes[0];\r\n\t\tthis._dataobj = this._bodyobj = this._contentobj.childNodes[1];\r\n\t\tthis._viewobj.className +=\" webix_window\";\r\n\r\n\t\tthis._viewobj.setAttribute(\"role\", \"dialog\");\r\n\t\tthis._viewobj.setAttribute(\"tabindex\", \"0\");\r\n\t\t\r\n\t\tthis._head_cell = this._body_cell = null;\r\n\t\tthis._settings._inner = {top:false, left:false, right:false, bottom:false }; //set border flags\r\n\t\tif (!config.id) config.id = webix.uid();\r\n\r\n\t\twebix.event(this._contentobj, \"click\", webix.bind(this._ignore_clicks, this));\r\n\r\n\t\t// IE8 does not allow to define event capturing\r\n\t\tif(this._contentobj.addEventListener)\r\n\t\t\twebix.event(this._contentobj, \"click\", function(){\r\n\t\t\t\t// brings a window to the front of other windows\r\n\t\t\t\tif(!this._settings.zIndex && this._settings.toFront){\r\n\t\t\t\t\tthis._viewobj.style.zIndex = webix.ui.zIndex();\r\n\t\t\t\t}\r\n\t\t\t}, {bind:this, capture: true});\r\n\r\n\t\t// hidden_setter handling\r\n\t\tif(config.modal)\r\n\t\t\tthis._modal = true;\r\n\t},\r\n\t_ignore_clicks:function(e){\r\n\t\tvar popups = webix.ui._popups;\r\n\t\tvar index = popups.find(this);\r\n\t\tif (index == -1)\r\n\t\t\tindex = popups.length - 1;\r\n\r\n\t\te.click_view = index;\r\n\t\tif (webix.env.isIE8)\r\n\t\t\te.srcElement.click_view = index;\r\n\t},\r\n\tgetChildViews:function(){\r\n\t\tif (this._head_cell)\r\n\t\t\treturn [this._head_cell, this._body_cell];\r\n\t\telse\r\n\t\t\treturn [this._body_cell];\r\n\t},\r\n\tzIndex_setter:function(value){\r\n        this._viewobj.style.zIndex = value;\r\n        return value;\r\n    },\r\n\t_remove:function(){ \r\n\t\tthis._body_cell = { destructor:function(){} };\t\r\n\t},\r\n\t_replace:function(new_view){\r\n\t\tthis._body_cell.destructor();\r\n\t\tthis._body_cell = new_view;\r\n\t\tthis._body_cell._parent_cell = this;\r\n\t\t\r\n\t\tthis._bodyobj.appendChild(this._body_cell._viewobj);\r\n\r\n\t\tvar cell = this._body_cell._viewobj.style;\r\n\t\tcell.borderTopWidth = cell.borderBottomWidth = cell.borderLeftWidth = cell.borderRightWidth = \"1px\";\r\n\t\tthis._body_cell._settings._inner = webix.clone(this._settings._inner);\r\n\r\n\t\tthis.resize(true);\r\n\t},\r\n\tshow:function(node, mode, point){\r\n\t\tif(!this.callEvent(\"onBeforeShow\",arguments))\r\n\t\t\treturn false;\r\n\r\n\t\tthis._settings.hidden = false;\r\n\t\tthis._viewobj.style.zIndex = (this._settings.zIndex||webix.ui.zIndex());\r\n\t\tif (this._settings.modal || this._modal){\r\n\t\t\tthis._modal_set(true);\r\n\t\t\tthis._modal = null; // hidden_setter handling\r\n\t\t}\r\n\r\n\t\tvar pos, dx, dy;\r\n\t\tmode = mode || {};\r\n\t\tif (!mode.pos)\r\n\t\t\tmode.pos = this._settings.relative;\r\n\r\n\t\t//get position of source html node\r\n\t\t//we need to show popup which pointing to that node\r\n\t\tif (node){\r\n\t\t\t//if event was provided - get node info from it\r\n\t\t\tif (typeof node == \"object\" && !node.tagName){\r\n\t\t\t\t/*below logic is far from ideal*/\r\n\t\t\t\tif (node.target || node.srcElement){\r\n\t\t\t\t\tpos = webix.html.pos(node);\r\n\t\t\t\t\tdx = 20;\r\n\t\t\t\t\tdy = 5;\r\n\t\t\t\t} else\r\n\t\t\t\t\tpos = node;\r\n\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tnode = webix.toNode(node);\r\n\t\t\t\twebix.assert(node,\"Not existing target for window:show\");\r\n\t\t\t\tpos = webix.html.offset(node);\r\n\t\t\t}\t\r\n\r\n\t\t\t//size of body, we need to fit popup inside\r\n\t\t\tvar x = Math.max(window.innerWidth || 0, document.body.offsetWidth);\r\n\t\t\tvar y = Math.max(window.innerHeight || 0, document.body.offsetHeight);\r\n\r\n\t\t\t//size of node, near which popup will be rendered\r\n\t\t\tdx = dx || node.offsetWidth  || 0;\r\n\t\t\tdy = dy || node.offsetHeight || 0;\r\n\t\t\t//size of popup element\r\n\t\t\tvar size = this._last_size;\r\n\r\n \t\t\tvar fin_x = pos.x;\r\n\t\t\tvar fin_y = pos.y;\r\n\t\t\tvar point_y=0;\r\n\t\t\tvar point_x = 0;\r\n\r\n\t\t\tvar fit = this._settings.autofit;\r\n\t\t\tif (fit){\r\n\t\t\t\tvar nochange = (fit === \"node\");\r\n\t\t\t\tvar delta_x = 6; var delta_y=6; var delta_point = 6;\r\n\r\n\t\t\t\t//default pointer position - top \r\n\t\t\t\tpoint = \"top\";\r\n\t\t\t\tfin_y=0; fin_x = 0;\r\n\t\t\t\t//if we want to place menu at righ, but there is no place move it to left instead\r\n\t\t\t\tif (x - pos.x - dx < size[0] && mode.pos == \"right\" && !nochange)\r\n\t\t\t\t\tmode.pos = \"left\";\r\n\r\n\t\t\t\tif (mode.pos == \"right\"){\r\n\t\t\t\t\tfin_x = pos.x+delta_x+dx; \r\n\t\t\t\t\tdelta_y = -dy;\r\n\t\t\t\t\tpoint = \"left\";\r\n\t\t\t\t\tpoint_y = Math.round(pos.y+dy/2);\r\n\t\t\t\t\tpoint_x = fin_x - delta_point;\r\n\t\t\t\t} else if (mode.pos == \"left\"){\r\n\t\t\t\t\tfin_x = pos.x-delta_x-size[0]-1;\r\n\t\t\t\t\tdelta_y = -dy;\r\n\t\t\t\t\tpoint = \"right\";\r\n\t\t\t\t\tpoint_y = Math.round(pos.y+dy/2);\r\n\t\t\t\t\tpoint_x = fin_x + size[0]+1;\r\n\t\t\t\t} else  {\r\n\t\t\t\t\t//left border of screen\r\n\t\t\t\t\tif (pos.x < 0){\r\n\t\t\t\t\t\tfin_x = 0;\r\n\t\t\t\t\t//popup exceed the right border of screen\r\n\t\t\t\t\t} else if (x-pos.x > size[0]){\r\n\t\t\t\t\t\tfin_x = pos.x; //aligned\r\n\t\t\t\t\t} else{\r\n\t\t\t\t\t\tfin_x = x-delta_x-size[0]; //not aligned\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpoint_x = Math.round(pos.x+dx/2);\r\n\t\t\t\t\t//when we have a small popup, point need to be rendered at center of popup\r\n\t\t\t\t\tif (point_x > fin_x + size[0])\r\n\t\t\t\t\t\tpoint_x = fin_x + size[0]/2;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//if height is not fixed - use default position\r\n\t\t\t\tvar scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;\r\n\t\t\t\tif (((!size[1] || (y+scrollTop-dy-pos.y-delta_y > size[1])) || nochange) && mode.pos != \"top\"){\r\n\t\t\t\t\t//bottom\t\r\n\t\t\t\t\tfin_y = dy+pos.y+delta_y - 4;\r\n\t\t\t\t\tif (!point_y){\r\n\t\t\t\t\t\tpoint = \"top\";\r\n\t\t\t\t\t\tpoint_y = fin_y-delta_point;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//top\r\n\t\t\t\t\tfin_y = pos.y-delta_y - size[1];\r\n\t\t\t\t\tif (fin_y < 0){\r\n\t\t\t\t\t\tfin_y = 0; \r\n\t\t\t\t\t\t//left|right point can be used, but there is no place for top point\r\n\t\t\t\t\t\tif (point == \"top\") point = false;\r\n\t\t\t\t\t} else if (!point_y){\r\n\t\t\t\t\t\tpoint = \"bottom\";\r\n\t\t\t\t\t\tfin_y --;\r\n\t\t\t\t\t\tpoint_y = fin_y+size[1]+1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar deltax = (mode.x || 0);\r\n\t\t\tvar deltay = (mode.y || 0);\r\n\t\t\tthis.setPosition(fin_x+deltax, fin_y+deltay);\r\n\t\t\tif (this._set_point){\r\n\t\t\t\tif (point)\r\n\t\t\t\t\tthis._set_point(point,point_x+deltax, point_y+deltay);\r\n\t\t\t\telse\r\n\t\t\t\t\tthis._hide_point();\r\n\t\t\t}\r\n\t\t} else if (this._settings.position)\r\n\t\t\tthis._setPosition();\r\n\r\n\t\tthis._viewobj.style.display = \"block\";\r\n\t\tthis._hide_timer = 1;\r\n\t\twebix.delay(function(){ this._hide_timer = 0; }, this, [], (webix.env.touch ? 400 : 100 ));\r\n\t\t\r\n\t\tthis._render_hidden_views();\r\n\t\t\r\n\t\t\r\n\t\tif (this.config.autofocus){\r\n\t\t\tthis._prev_focus = webix.UIManager.getFocus();\r\n\t\t\twebix.UIManager.setFocus(this);\r\n\t\t}\r\n\r\n\t\tif (-1 == webix.ui._popups.find(this))\r\n\t\t\twebix.ui._popups.push(this);\r\n\r\n\t\tthis.callEvent(\"onShow\",[]);\r\n\t}, \r\n\t_hide:function(e){\r\n\t\t//do not hide modal windows\r\n\t\tif (this._settings.hidden || this._settings.modal || this._hide_timer || (e && e.showpopup)) return;\r\n\t\t//do not hide popup, when we have modal layer above the popup\r\n\t\tif (webix._modality && this._settings.zIndex <= webix._modality) return;\r\n\r\n\t\t//ignore inside clicks and clicks in child-popups\r\n\r\n\t\tif (e){\r\n\t\t\tvar index = webix.env.isIE8 ? e.srcElement.click_view : e.click_view;\r\n\t\t\tif (!index && index !== 0) index = -1;\r\n\r\n\t\t\tvar myindex = webix.ui._popups.find(this);\r\n\r\n\t\t\tif (myindex <= index) return;\r\n\t\t}\r\n\r\n\t\tthis.hide();\r\n\t},\r\n\thidden_setter:function(value){\r\n\t\tif(value) \r\n\t\t\tthis.hide();\r\n\t\telse\r\n\t\t\tthis.show();\r\n\t\treturn !!value;\r\n\t},\r\n\thide:function(force){\r\n\t\tif (this.$destructed) return;\r\n\r\n\t\tif (!force)\r\n\t\t\tif(this._settings.hidden) return;\r\n\r\n\t\tif (this._settings.modal)\r\n\t\t\tthis._modal_set(false);\r\n\t\t\t\r\n\t\tif (this._settings.position == \"top\"){\r\n\t\t\twebix.animate(this._viewobj, {type: 'slide', x:0, y:-(this._content_height+20), duration: 300,\r\n\t\t\t\t\t\t\t\t\t\t\tcallback:this._hide_callback, master:this});\r\n\t\t}\r\n\t\telse \r\n\t\t\tthis._hide_callback();\r\n\r\n\t\tif (this._settings.autofocus){\r\n\t\t\tvar el = document.activeElement;\r\n\t\t\t//as result of hotkey, we can have a activeElement set to document.body\r\n\t\t\tif (el && this._viewobj && (this._viewobj.contains(el) || el === document.body)){\r\n\t\t\t\twebix.UIManager.setFocus(this._prev_focus);\r\n\t\t\t\tthis._prev_focus = null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._hide_sub_popups();\r\n\t},\r\n\t//hide all child-popups\r\n\t_hide_sub_popups:function(){\r\n\t\tvar order = webix.ui._popups;\r\n\t\tvar index = order.find(this);\r\n\t\tvar size = order.length - 1;\r\n\r\n\t\tif (index > -1)\r\n\t\t\tfor (var i = size; i > index; i--)\r\n\t\t\t\tif (order[i]._hide_point)\t//hide only popups, skip windows\r\n\t\t\t\t\torder[i].hide();\r\n\t\t\r\n\t\torder.removeAt(index);\r\n\t},\r\n\tdestructor: function() {\r\n\t\tthis._modal_set(false);\r\n\t\twebix.html.remove(this._viewobj);\r\n\t\t\r\n\t\tif (this._settings.autofocus){\r\n\t\t\tif (!webix._final_destruction)\r\n\t\t\t\twebix.UIManager.setFocus(this._prev_focus);\r\n\t\t\tthis._prev_focus = null;\r\n\t\t}\r\n\t\t\r\n\t\tthis._hide_sub_popups();\r\n\t\tif (this._hide_point)\r\n\t\t\tthis._hide_point();\r\n\t\twebix.Destruction.destructor.apply(this, []);\r\n\t},\r\n\t_hide_callback:function(){\r\n\t\tif (!this.$destructed){\r\n\t\t\tthis._viewobj.style.display = \"none\";\r\n\t\t\tthis._settings.hidden = true;\r\n\t\t\tthis.callEvent(\"onHide\",[]);\r\n\t\t}\r\n\t},\r\n\tclose:function(){\r\n\t\tthis.destructor(); \r\n\t},\r\n\t_inner_body_set:function(value){\r\n\t\tvalue.borderless = true;\r\n\t},\r\n\tbody_setter:function(value){\r\n\t\tif (typeof value != \"object\")\r\n\t\t\tvalue = {template:value };\r\n\t\tthis._inner_body_set(value);\r\n\r\n\t\twebix._parent_cell = this;\r\n\t\tthis._body_cell = webix.ui._view(value);\r\n\t\tthis._body_cell._parent_cell = this;\r\n\r\n\t\tthis._bodyobj.appendChild(this._body_cell._viewobj);\r\n\t\treturn value;\r\n\t},\r\n\thead_setter:function(value){\r\n\t\tif (value === false) return value;\r\n\t\tif (typeof value != \"object\"){\r\n\t\t\tthis._viewobj.setAttribute(\"aria-label\", value);\r\n\t\t\tvalue = { template:value, padding:0 };\r\n\t\t}\r\n\t\t\r\n\t\tvalue.borderless = true;\r\n\r\n\t\twebix._parent_cell = this;\r\n\t\tthis._head_cell = webix.ui._view(value);\r\n\t\tthis._head_cell._parent_cell = this;\r\n\r\n\t\tthis._headobj.appendChild(this._head_cell._viewobj);\r\n\t\treturn value;\r\n\t},\r\n\tgetBody:function(){\r\n\t\treturn this._body_cell;\r\n\t},\r\n\tgetHead:function(){\r\n\t\treturn this._head_cell;\r\n\t},\r\n\tadjust:function(){ return this.resize(); },\r\n\tresizeChildren:function(){\r\n\t\tif (this._body_cell)\r\n\t\t\tthis.resize();\r\n\t},\r\n\tresize:function(){\r\n\t\twebix.ui.baseview.prototype.adjust.call(this);\r\n\t\tthis._setPosition(this._settings.left, this._settings.top);\r\n\t},\r\n\t_setPosition:function(x,y){\r\n\t\tif (this._settings.position){\r\n\t\t\tthis.$view.style.position = \"fixed\";\r\n\r\n\t\t\tvar width = this._content_width;\r\n\t\t\tvar height = this._content_height;\r\n\t\t\twebix.assert(width && height, \"Attempt to show not rendered window\");\r\n\r\n\t\t\tvar maxWidth = (window.innerWidth||document.documentElement.offsetWidth);\r\n\t\t\tvar maxHeight = (window.innerHeight||document.documentElement.offsetHeight);\r\n\t\t\tvar left = Math.round((maxWidth-width)/2);\r\n\t\t\tvar top = Math.round((maxHeight-height)/2);\r\n\r\n\t\t\tif (typeof this._settings.position == \"function\"){\r\n\t\t\t\tvar state = { \tleft:left, top:top, \r\n\t\t\t\t\t\t\t\twidth:width, height:height, \r\n\t\t\t\t\t\t\t\tmaxWidth:maxWidth, maxHeight:maxHeight };\r\n\t\t\t\tthis._settings.position.call(this, state);\r\n\t\t\t\tif (state.width != width || state.height != height)\r\n\t\t\t\t\tthis.$setSize(state.width, state.height);\r\n\r\n\t\t\t\tthis.setPosition(state.left, state.top);\r\n\t\t\t} else {\r\n\t\t\t\tif (this._settings.position == \"top\"){\r\n\t\t\t\t\tif (webix.animate.isSupported())\r\n\t\t\t\t\t\ttop = -1*height;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\ttop = 10;\r\n\t\t\t\t}\r\n\t\t\t\tthis.setPosition(left, top);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (this._settings.position == \"top\")\r\n\t\t\t\twebix.animate(this._viewobj, {type: 'slide', x:0, y:height-((this._settings.padding||0)*2), duration: 300 ,callback:this._topPositionCallback, master:this});\r\n\t\t} else \r\n\t\t\tthis.setPosition(x,y);\r\n\t},\r\n\t_topPositionCallback:function(node){\r\n\t\twebix.animate.clear(node);\r\n\t\tthis._settings.top=-((this._settings.padding||0)*2);\r\n\t\tthis.setPosition(this._settings.left, this._settings.top);\r\n\t},\r\n\tsetPosition:function(x,y){\r\n\t\tthis._viewobj.style.top = y+\"px\";\r\n\t\tthis._viewobj.style.left = x+\"px\";\r\n\t\tthis._settings.left = x; this._settings.top=y;\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tvar _borders = this._settings._inner;\r\n\t\tif (_borders){\r\n\t\t\tdx += (_borders.left?0:1)+(_borders.right?0:1);\r\n\t\t\tdy += (_borders.top?0:1)+(_borders.bottom?0:1);\r\n\t\t}\r\n\t\t//line between head and body\r\n\t\tif (this._settings.head)\r\n\t\t\tdy += 1;\r\n\r\n\t\tvar size =  this._body_cell.$getSize(0,0);\r\n\t\tif (this._head_cell){\r\n\t\t\tvar head_size = this._head_cell.$getSize(0,0);\r\n\t\t\tif (head_size[3]==head_size[2])\r\n\t\t\t\tthis._settings.headHeight = head_size[3];\r\n\t\t\tdy += this._settings.headHeight;\r\n\t\t}\r\n\r\n\t\tif (this._settings.fullscreen){\r\n\t\t\tvar width = window.innerWidth || document.body.clientWidth;\r\n\t\t\tvar height = window.innerHeight || document.body.clientHeight;\r\n\t\t\treturn [width, width, height, height];\r\n\t\t}\r\n\r\n\t\t//get layout sizes\r\n\t\tvar self_size = webix.ui.view.prototype.$getSize.call(this, 0, 0);\r\n\r\n\t\t//use child settings if layout's one was not defined\r\n\t\tself_size[1] = Math.min(self_size[1],(size[1]>=100000&&self_size[1]>=100000?Math.max(size[0], 300):size[1])+dx);\r\n\t\tself_size[3] = Math.min(self_size[3],(size[3]>=100000&&self_size[3]>=100000?Math.max(size[2], 200):size[3])+dy);\r\n\r\n\t\tself_size[0] = Math.min(Math.max(self_size[0],size[0] + dx), self_size[1]);\r\n\t\tself_size[2] = Math.min(Math.max(self_size[2],size[2] + dy), self_size[3]);\r\n\r\n\t\treturn self_size;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\twebix.ui.view.prototype.$setSize.call(this,x,y);\r\n\t\tx = this._content_width;\r\n\t\ty = this._content_height;\r\n\t\tif (this._settings.head === false) {\r\n\t\t\tthis._headobj.style.display=\"none\";\r\n\t\t\tthis._body_cell.$setSize(x,y);\r\n\t\t} else { \r\n\t\t\tthis._head_cell.$setSize(x,this._settings.headHeight);\r\n\t\t\tthis._body_cell.$setSize(x,y-this._settings.headHeight);\r\n\t\t}\r\n\t},\r\n\t$skin:function(){\r\n\t\tthis.defaults.headHeight = webix.skin.$active.barHeight;\r\n\t},\r\n\tdefaults:{\r\n\t\ttop:0,\r\n\t\tleft:0,\r\n\t\tautofit:true,\r\n\t\trelative:\"bottom\",\r\n\t\tbody:\"\",\r\n\t\thead:\"\",\r\n\t\thidden: true,\r\n\t\tautofocus:true\r\n\t}\r\n}, webix.ui.view, webix.Movable, webix.Modality, webix.EventSystem);\r\n\r\nwebix.protoUI({\r\n\tname:\"popup\",\r\n\t$init:function(){\r\n\t\tthis._settings.head = false;\r\n\t\tthis.$view.className += \" webix_popup\";\r\n\t\twebix.attachEvent(\"onClick\", webix.bind(this._hide, this));\r\n\t\tthis.attachEvent(\"onHide\", this._hide_point);\r\n\t},\r\n    close:function(){\r\n        webix.html.remove(this._point_element);\r\n        webix.ui.window.prototype.close.call(this);\r\n\t},\r\n\t$getSize:function(x,y){\r\n\t\treturn webix.ui.window.prototype.$getSize.call(this, x+this._settings.padding*2,y+this._settings.padding*2);\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\t\twebix.ui.view.prototype.$setSize.call(this,x,y);\r\n\t\t\tx = this._content_width-this._settings.padding*2;\r\n\t\t\ty = this._content_height-this._settings.padding*2;\r\n\t\t\tthis._contentobj.style.padding = this._settings.padding+\"px\";\r\n\t\t\tthis._headobj.style.display=\"none\";\r\n\t\t\tthis._body_cell.$setSize(x,y);\r\n\t},\r\n\t//redefine to preserve inner borders\r\n\t_inner_body_set:function(){},\r\n\tdefaults:{\r\n\t\tpadding:8\r\n\t},\r\n\thead_setter:function(){\r\n\t},\r\n\t_set_point:function(mode, left, top){\r\n\t\tthis._hide_point();\r\n\t\tdocument.body.appendChild(this._point_element = webix.html.create(\"DIV\",{ \"class\":\"webix_point_\"+mode },\"\"));\r\n\t\tthis._point_element.style.zIndex = webix.ui.zIndex();\r\n\t\tthis._point_element.style.top = top+\"px\";\r\n\t\tthis._point_element.style.left = left+\"px\";\r\n\t},\r\n\t_hide_point:function(){\r\n\t\tthis._point_element = webix.html.remove(this._point_element);\r\n\t}\r\n}, webix.ui.window);\r\n\r\nwebix.ui._popups = webix.toArray();\r\n\r\nwebix.extend(webix.ui.window, {\r\n\tresize_setter:function(value){\r\n\t\tif (value && !this._resizeHandlers)\r\n\t\t\tthis._renderResizeHandler();\r\n\r\n\t\treturn value;\r\n\t},\r\n\t_renderResizeHandler: function(){\r\n\t\tif(!this._rwHandle){\r\n\t\t\tthis._viewobj.firstChild.style.position = \"relative\";\r\n\t\t\tthis._rwHandle = webix.html.create(\"DIV\",{\r\n\t\t\t\t\"class\"\t: \"webix_resize_handle\"\r\n\t\t\t});\r\n\t\t\tthis._viewobj.firstChild.appendChild(this._rwHandle);\r\n\t\t\twebix.event(this._rwHandle, webix.env.mouse.down, this._wrDown, {bind:this});\r\n\t\t}\r\n\t},\r\n\t_showResizeFrame: function(width,height){\r\n\t\tif(!this._resizeFrame){\r\n\t\t\tthis._resizeFrame = webix.html.create(\"div\", {\"class\":\"webix_resize_frame\"},\"\");\r\n\t\t\tdocument.body.appendChild(this._resizeFrame);\r\n\t\t\tvar pos = webix.html.offset(this._viewobj);\r\n\t\t\tthis._resizeFrame.style.left = pos.x+\"px\";\r\n\t\t\tthis._resizeFrame.style.top = pos.y+\"px\";\r\n\t\t\tthis._resizeFrame.style.zIndex = webix.ui.zIndex();\r\n\t\t}\r\n\r\n\t\tthis._resizeFrame.style.width = width + \"px\";\r\n\t\tthis._resizeFrame.style.height = height + \"px\";\r\n\t},\r\n\t_wrDown:function(e){\r\n\t\tif (this.config.resize){\r\n\t\t\twebix.html.addCss(document.body,\"webix_noselect webix_resize_cursor\");\r\n\t\t\tthis._wsReady = webix.html.offset(this._viewobj);\r\n\r\n\t\t\tthis._resizeHandlersMove = webix.event(document.body, webix.env.mouse.move, this._wrMove, {bind:this});\r\n\t\t\tthis._resizeHandlersUp   = webix.event(document.body, webix.env.mouse.up, this._wrUp, {bind:this});\r\n\t\t}\r\n\t},\r\n\t_wrMove:function(e){\r\n\t\tif (this._wsReady !== false){\r\n\t\t\tvar pos = webix.html.pos(e);\r\n\t\t\tvar progress = {x:pos.x - this._wsReady.x+10, y: pos.y - this._wsReady.y+10};\r\n\r\n\t\t\tif (Math.abs(this._wsReady.x - pos.x) < (this.config.minWidth||100) || Math.abs(this._wsReady.y - pos.y) < (this.config.maxHeight||100))\r\n\t\t\t\treturn;\r\n\r\n\t\t\tthis._wsProgress = progress;\r\n\t\t\tthis._showResizeFrame(progress.x,progress.y);\r\n\t\t}\r\n\t},\r\n\t_wrUp:function(){\r\n\t\t// remove resize frame and css styles\r\n\t\tif (this._resizeFrame)\r\n\t\t\tthis._resizeFrame = webix.html.remove(this._resizeFrame);\r\n\t\t\r\n\t\twebix.html.removeCss(document.body,\"webix_resize_cursor\");\r\n\t\twebix.html.removeCss(document.body,\"webix_noselect\");\r\n\t\twebix.eventRemove(this._resizeHandlersMove);\r\n\t\twebix.eventRemove(this._resizeHandlersUp);\r\n\r\n\t\t// set Window sizes\r\n\t\tif (this._wsProgress){\r\n\t\t\tthis.config.width = this._wsProgress.x;\r\n\t\t\tthis.config.height = this._wsProgress.y;\r\n\t\t\tthis.resize();\r\n\t\t}\r\n\r\n\t\tthis._wsReady = this._wsProgress = false;\r\n\t\tthis.callEvent(\"onViewResize\",[]);\r\n\t}\r\n});\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"suggest\",\r\n\tdefaults:{\r\n\t\tautofocus:false,\r\n\t\ttype:\"list\",\r\n\t\tkeyPressTimeout:1,\r\n\t\tbody:{\r\n\t\t\tyCount:10,\r\n\t\t\tautoheight:true,\r\n\t\t\tbody:true,\r\n\t\t\tselect:true,\r\n\t\t\tborderless:true,\r\n\t\t\tnavigation:true\r\n\t\t},\r\n\t\tfilter:function(item,value){\r\n\t\t\tif (item.value.toString().toLowerCase().indexOf(value.toLowerCase())===0) return true;\r\n   \t\t\treturn false;\r\n\t\t}\r\n\t},\r\n\ttemplate_setter:webix.template,\r\n    filter_setter:function(value){\r\n        return webix.toFunctor(value, this.$scope);\r\n    },\r\n\t$init:function(obj){\r\n\t\tvar temp = {};\r\n\t\twebix.extend(temp, webix.copy(this.defaults.body));\r\n\t\ttemp.view = obj.type || this.defaults.type;\r\n\r\n\t\tvar etemp = this._get_extendable_cell(temp);\r\n\t\tif (obj.body)\r\n\t\t\twebix.extend(etemp, obj.body, true);\r\n\r\n\t\tif (obj.data)\r\n\t\t\tetemp.data = obj.data;\r\n\t\tif (obj.url)\r\n\t\t\tetemp.url = obj.url;\r\n\t\tif (obj.datatype)\r\n\t\t\tetemp.datatype = obj.datatype;\r\n\r\n\t\tif (obj.id)\r\n\t\t\ttemp.id = temp.id || (obj.id+\"_\"+temp.view);\r\n\r\n\t\tobj.body = temp;\r\n\t\tthis.$ready.push(this._set_on_popup_click);\r\n\r\n\t\tthis.attachEvent(\"onShow\", function(){\r\n\t\t\tif (this._settings.master){\r\n\t\t\t\tvar master = webix.$$(this._settings.master);\r\n\t\t\t\tif(master){\r\n\t\t\t\t\tvar node = master._getInputDiv ? master._getInputDiv() : master.getInputNode();\r\n\t\t\t\t\tnode.setAttribute(\"aria-expanded\", \"true\");\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\tthis._show_selection();\r\n\t\t});\r\n\t\tthis.attachEvent(\"onHide\", function(){\r\n\t\t\tif (this._settings.master){\r\n\t\t\t\tvar master = webix.$$(this._settings.master);\r\n\t\t\t\tif(master){\r\n\t\t\t\t\tvar node = master._getInputDiv ? master._getInputDiv() : master.getInputNode();\r\n\t\t\t\t\tnode.setAttribute(\"aria-expanded\", \"false\");\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis._old_text = {};\r\n\t},\r\n\t_get_extendable_cell:function(obj){\r\n\t\treturn obj;\r\n\t},\r\n\t_preselectMasterOption: function(data){\r\n\t\tvar master, node, text;\r\n\t\tif (data){\r\n\t\t\tif (this._settings.master){\r\n\t\t\t\tmaster = webix.$$(this._settings.master);\r\n\t\t\t\tnode = master.getInputNode();\r\n\t\t\t\tif (node && master.options_setter){\r\n\t\t\t\t\ttext = this.getItemText(data.id);\r\n\t\t\t\t\tif (webix.isUndefined(node.value))\r\n\t\t\t\t\t\tnode.innerHTML = text;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tnode.value = text.replace(/<[^>]*>/g,\"\");\r\n\t\t\t\t}\r\n\t\t\t\telse if(node && data.value && master.$setValue){\r\n\t\t\t\t\tmaster.$setValue(data.value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tnode = node || this._last_input_target;\r\n\t\tif(node)\r\n\t\t\tnode.focus();\r\n\t},\r\n\tsetMasterValue:function(data, refresh){\r\n\t\tvar text = data.id ? this.getItemText(data.id) : (data.text||data.value);\r\n\r\n\t\tif (this._settings.master){\r\n\t\t\tvar master = webix.$$(this._settings.master);\r\n\t\t\tif (refresh && data.id)\r\n\t\t\t\tmaster.refresh();\r\n\t\t\telse if (master.options_setter)\r\n\t\t\t\tmaster.setValue(data.$empty?\"\":data.id);\r\n\t\t\telse if(master.setValueHere)\r\n\t\t\t\tmaster.setValueHere(text);\r\n\t\t\telse\r\n\t\t\t\tmaster.setValue(text);\r\n\t\t} else if (this._last_input_target){\r\n\t\t\tthis._last_input_target.value = text;\r\n\t\t}\r\n\r\n\t\tif (!refresh){\r\n\t\t\tthis.hide(true);\r\n\t\t\tif (this._last_input_target)\r\n\t\t\t\tthis._last_input_target.focus();\r\n\t\t}\r\n\t\tthis.callEvent(\"onValueSuggest\", [data, text]);\r\n\t\twebix.delay(function(){\r\n\t\t\t webix.callEvent(\"onEditEnd\",[]);\r\n\t\t});\r\n\t},\r\n\tgetMasterValue:function(){\r\n\t\tif (this._settings.master)\r\n\t\t\treturn webix.$$(this._settings.master).getValue();\r\n\t\treturn null;\r\n\t},\r\n\tgetItemText:function(id){\r\n\t\tvar item = this.getList().getItem(id);\r\n\r\n\t\tif (!item)\r\n\t\t\treturn this._old_text[id] || \"\";\r\n\r\n\t\tif (this._settings.template)\r\n\t\t\treturn this._settings.template.call(this, item, this.type);\r\n\r\n\t\tif (this._settings.textValue)\r\n\t\t\treturn item[this._settings.textValue];\r\n\t\t\r\n\t\tvar type = this.getList().type;\r\n\t\tvar text = type.template.call(type, item, type);\r\n\r\n\t\treturn (this._old_text[id] = text);\r\n\t},\r\n\tgetSuggestion:function(){\r\n\t\tvar id,\r\n\t\t\tlist = this.getList(),\r\n\t\t\torder = list.data.order;\r\n\r\n\t\tif (list.getSelectedId)\r\n\t\t\tid = list.getSelectedId();\r\n\r\n\t\tif (order.length && (!id || order.find(id) <0) )\r\n\t\t\tid = order[0];\r\n\r\n\t\t//complex id in datatable\r\n\t\tif (id && typeof id == \"object\") id = id+\"\";\r\n\t\treturn id;\r\n\t},\r\n\tgetList:function(){\r\n\t\treturn this._body_cell;\r\n\t},\r\n\t_set_on_popup_click:function(){\r\n\t\tvar list = this.getList();\r\n\t\tvar type = this._settings.type;\r\n\r\n\t\tif (list.count){\r\n\t\t\tlist.attachEvent(\"onItemClick\", webix.bind(function(item){\r\n\t\t\t\tthis.setMasterValue(list.getItem(item));\r\n\t\t\t}, this));\r\n\t\t\tlist.data.attachEvent(\"onstoreupdated\",webix.bind(function(id, obj, mode){\r\n\t\t\t\tif (mode == \"delete\" && id == this.getMasterValue())\r\n\t\t\t\t\tthis.setMasterValue({ id:\"\", text:\"\" }, 1);\r\n\t\t\t\telse if (mode == \"update\" && id == this.getMasterValue()){\r\n\t\t\t\t\tthis.setMasterValue(obj, 1);\r\n\t\t\t\t}\r\n\t\t\t}, this));\r\n\t\t\tlist.data.attachEvent(\"onAfterFilter\", webix.bind(this._suggest_after_filter, this));\r\n\t\t\tlist.data.attachEvent(\"onStoreLoad\", webix.bind(this._suggest_after_filter, this));\r\n\t\t\tif (webix.isUndefined(this._settings.fitMaster))\r\n\t\t\t\tthis._settings.fitMaster = true;\r\n\t\t} else if (type == \"calendar\"){\r\n\t\t\tlist.attachEvent(\"onDateSelect\", function(date){\r\n\t\t\t\tthis.getParentView().setMasterValue({ value:date});\r\n\t\t\t});\r\n\t\t\tlist.attachEvent(\"onTodaySet\", function(date){\r\n\t\t\t\tthis.getParentView().setMasterValue({ value:date});\r\n\t\t\t});\r\n\t\t\tlist.attachEvent(\"onDateClear\", function(date){\r\n\t\t\t\tthis.getParentView().setMasterValue({ value:date});\r\n\t\t\t});\r\n\t\t} else if (type == \"colorboard\"){\r\n\t\t\tlist.attachEvent(\"onSelect\", function(value){\r\n\t\t\t\tthis.getParentView().setMasterValue({ value:value });\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tinput_setter: function(value) {\r\n\t\tthis.linkInput(value);\r\n\t\treturn 0;\r\n\t},\r\n\tlinkInput: function(input){\r\n\t\tvar node;\r\n\t\tif (input.getInputNode){\r\n\t\t\tnode = input.getInputNode();\r\n\t\t\tnode.webix_master_id = input._settings.id;\r\n\t\t} else\r\n\t\t\tnode = webix.toNode(input);\r\n\r\n\t\twebix.event(node,\"keydown\",function(e){\r\n\t\t\tif (node != document.body || this.isVisible())\r\n\t\t\t\tthis._suggestions(e);\r\n\t\t},{bind:this, id: \"webix_suggest_keydown_\"+node.webix_master_id});\r\n\t\t\r\n\t\tif(input._getInputDiv)\r\n\t\t\tnode = input._getInputDiv();\r\n\t\t\r\n\t\tnode.setAttribute(\"aria-autocomplete\", \"list\");\r\n\t\tnode.setAttribute(\"aria-expanded\", \"false\");\r\n\r\n\t\tif(node.tagName === \"DIV\"){\r\n\t\t\tnode.setAttribute(\"aria-live\", \"assertive\");\r\n\t\t\tnode.setAttribute(\"aria-atomic\", \"true\");\r\n\t\t}\r\n\r\n\t\tthis._non_ui_mode = true;\r\n\t},\r\n\t_suggestions: function(e){\r\n\t\te = (e||event);\r\n\t\tvar list = this.getList();\r\n\t\t\r\n\t\tvar trg = e.target||e.srcElement;\r\n\r\n\t\tthis._last_input_target = trg;\r\n\t\tthis._settings.master = trg.webix_master_id;\r\n\r\n\t\twindow.clearTimeout(this._key_timer);\r\n\r\n\t\tvar code = e.keyCode;\r\n\t\t//shift and ctrl\r\n\t\tif (code == 16 || code == 17) return;\r\n\r\n\t\t// tab - hide popup and do nothing\r\n\t\tif (code == 9)\r\n\t\t\treturn this._tab_key(this,list);\r\n\r\n\t\t// escape - hide popup\r\n\t\tif (code == 27)\r\n\t\t\treturn this._escape_key(this,list);\r\n\r\n\t\t// enter\r\n\t\tif (code == 13)\r\n\t\t\treturn this._enter_key(this,list);\r\n\r\n\t\t// up/down/right/left are used for navigation\r\n\t\tif (this._navigate(e)) {\r\n\t\t\twebix.html.preventEvent(e);\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (webix.isUndefined(trg.value)) return;\r\n\r\n\t\tclearTimeout(this._last_delay);\r\n\t\tthis._last_delay = webix.delay(function(){\r\n\t\t\t//focus moved to the different control, suggest is not necessary\r\n\t\t\tif (!this._non_ui_mode && \r\n\t\t\t\t\twebix.UIManager.getFocus() != webix.$$(this._settings.master)) return;\r\n\r\n\t\t\tthis._resolve_popup = true;\r\n\t\t\t//for multicombo\r\n\t\t\tvar val = trg.value;\r\n\r\n\t\t\t// used to prevent showing popup when it was initialized\r\n\t\t\tif (list.config.dataFeed)\r\n\t\t\t\tlist.filter(\"value\", val);\r\n\t\t\telse if (list.filter){\r\n\t\t\t\tlist.filter(webix.bind(function(item){\r\n\t\t\t\t\treturn this._settings.filter.call(this,item,val);\r\n\t\t\t\t}, this));\r\n\t\t\t}\r\n\t\t},this, [], this._settings.keyPressTimeout);\r\n\t},\r\n\t_suggest_after_filter: function() {\r\n\t\tif (!this._resolve_popup) return true;\r\n\t\tthis._resolve_popup = false;\r\n\r\n\t\tvar list = this.getList();\r\n\t\t\r\n\t\t// filtering is complete\r\n\t\t// if there are as min 1 variant it must be shown, hidden otherwise\r\n\t\tif (list.count() >0){\r\n\t\t\tthis.adjust();\r\n\t\t\tif(!this.isVisible())\r\n\t\t\t\tthis._dont_unfilter = true;\r\n\t\t\tthis.show(this._last_input_target,null,true);\r\n\t\t\tthis._dont_unfilter = false;\r\n\t\t} else {\r\n\t\t\tthis.hide(true);\r\n\t\t\tthis._last_input_target = null;\r\n\t\t}\r\n\t},\r\n\r\n\tshow:function(node){\r\n\t\tif (!this.isVisible()){\r\n\t\t\tvar list = this.getList();\r\n\t\t\tif (list.filter && !this._dont_unfilter){\r\n\t\t\t\tlist.filter(\"\");\r\n\t\t\t}\r\n\r\n\t\t\tif(this.$customWidth){\r\n\t\t\t\tthis.$customWidth(node);\r\n\t\t\t}\r\n\t\t\tif (node.tagName && this._settings.fitMaster){\r\n\t\t\t\tthis._settings.width = node.offsetWidth -2 ; //2 - borders\r\n\t\t\t}\r\n\t\t\tif (list._zoom_level)\r\n\t\t\t\tlist.render();\r\n\r\n\t\t\tthis.adjust();\r\n\r\n\t\t\t// needed to return focus\r\n\t\t\tif(node.tagName == \"INPUT\")\r\n\t\t\t\tthis._last_input_target = node;\r\n\t\t}\r\n\t\twebix.ui.popup.prototype.show.apply(this, arguments);\r\n\t},\r\n\t_show_selection:function(list){\r\n\t\tlist = list||this.getList();\r\n\t\tif( list.select && list.showItem ){\r\n\t\t\tvar value = this.getMasterValue();\r\n\t\t\tif (value && list.exists && list.exists(value)){\r\n\t\t\t\tlist.select(value);\r\n\t\t\t\tlist.showItem(value);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tlist.unselect();\r\n\t\t\t\tlist.showItem(list.getFirstId());\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_enter_key: function(popup,list) {\r\n\t\tvar value;\r\n\r\n\t\tif (popup.isVisible()) {\r\n\t\t\tif (list.count && list.count()){\r\n\t\t\t\tvalue = list.getSelectedId(false, true);\r\n\t\t\t\tif(list.count()==1 && list.getFirstId()!=value)\r\n\t\t\t\t\tvalue = list.getFirstId();\r\n\t\t\t\tif(value)\r\n\t\t\t\t\tvalue = list.getItem(value);\r\n\t\t\t}\r\n\t\t\telse if(list.getSelectedDate && list.getSelectedDate())\r\n\t\t\t\tvalue = { value:list.getSelectedDate() };\r\n\t\t\telse if(list.getValue && list.getValue())\r\n\t\t\t\tvalue = {value: list.getValue() };\r\n\t\t\t\r\n\t\t\tif (value)\r\n\t\t\t\tthis.setMasterValue(value);\r\n\t\t\t\r\n\t\t\tpopup.hide(true);\r\n\t\t}\r\n\t\telse\r\n\t\t\tpopup.show(this._last_input_target);\r\n\t},\r\n\t_escape_key: function(popup, list) {\r\n\t\treturn popup.hide(true);\r\n\t},\r\n\t_tab_key: function(popup, list) {\r\n\t\treturn popup.hide(true);\r\n\t},\r\n\t/*! suggestions navigation: up/down buttons move selection\r\n\t *\t@param e\r\n\t *\t\tevent object\r\n\t **/\r\n\t_navigate: function(e) {\r\n\t\tvar list = this.getList();\r\n\t\tvar code = e.keyCode;\r\n\t\tvar data;\r\n\r\n\t\tif( list.moveSelection && code < 41 && code > 32 && !e.ctrlKey && !e.metaKey && !e.shiftKey && !e.altKey) {\r\n\t\t\t// down arrow\r\n\t\t\tif (code === 40 ) {\r\n\t\t\t\tvar visible = this.isVisible();\r\n\t\t\t\tif (!visible)\r\n\t\t\t\t\tthis.show(this._last_input_target);\r\n\r\n\t\t\t\tif(list.count){\r\n\t\t\t\t\tvar selected = list.getSelectedId();\r\n\t\t\t\t\tif (!selected && list.count)\r\n\t\t\t\t\t\tlist.select(list.getFirstId());\r\n\t\t\t\t}\r\n\t\t\t\tif (visible)\r\n\t\t\t\t\tlist.moveSelection(\"down\");\r\n\t\t\t}// other arrows\r\n\t\t\telse {\r\n\t\t\t\tvar master = this._settings.master;\r\n\t\t\t\tif((list.count && code !==38) || (!list.count && !list.isVisible()))\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\tvar dir;\r\n\t\t\t\tif(code == 33) dir = \"pgup\";\r\n\t\t\t\tif(code == 34) dir = \"pgdown\";\r\n\t\t\t\tif(code == 35) dir = \"bottom\";\r\n\t\t\t\tif(code == 36) dir = \"top\";\r\n\t\t\t\tif(code == 37) dir = \"left\";\r\n\t\t\t\tif(code == 38) dir = \"up\";\r\n\t\t\t\tif(code == 39) dir = \"right\";\r\n\r\n\t\t\t\tlist.moveSelection(dir);\r\n\t\t\t}\r\n\t\t\tif(list.count)\r\n\t\t\t\tdata = list.getSelectedItem();\r\n\t\t\telse if(list.getSelectedDate)\r\n\t\t\t\tdata = { value:list.getVisibleDate()};\r\n\t\t\telse if(list.getValue)\r\n\t\t\t\tdata = { value:list.getValue() };\r\n\t\t\t\r\n\t\t\tthis._preselectMasterOption(data);\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t},\r\n\tgetValue:function(){\r\n\t\tvar value = this.getList().getSelectedId() || \"\";\r\n\t\treturn value.id || value;\r\n\r\n\t},\r\n\tsetValue:function(value){\r\n\t\tvar list = this.getList();\r\n\t\tif(value){\r\n            if(list.exists(value)){\r\n                list.select(value);\r\n                list.showItem(value);\r\n            }\r\n        }else{\r\n            list.unselect();\r\n            list.showItem(list.getFirstId());\r\n        }\r\n\t}\r\n}, webix.ui.popup);\r\n/*aria-style handling for options of multiple-value controls (radio, segmented, tabbar)*/\r\n\r\nwebix.HTMLOptions = {\r\n\t$init:function(config){\r\n\t\tif(webix.skin.$active.customRadio || this.addOption)\r\n\t\t\twebix.event( this.$view, \"keydown\", this._moveSelection, {bind:this});\r\n\t},\r\n\t_focus: function(){\r\n\t\tvar input = this._getInputNode();\r\n\t\tif(input)\r\n\t\t\tfor(var i=0; i<input.length; i++){\r\n\t\t\t\tif(input[i].getAttribute(\"tabindex\") == \"0\")\r\n\t\t\t\t\tinput[i].focus();\r\n\t\t\t}\r\n\t},\r\n\t_blur: function(){\r\n\t\tvar input = this._getInputNode();\r\n\t\tif(input)\r\n\t\t\tfor(var i=0; i<input.length; i++){\r\n\t\t\t\tif(input[i].getAttribute(\"tabindex\") == \"0\") input[i].blur();\r\n\t\t\t}\r\n\t},\r\n\t_moveSelection:function(e){\r\n\t\tvar code = e.which || e.keyCode;\r\n\r\n\t\tvar startCode = this.addOption?34:36;\r\n\r\n\t\tif(code>startCode && code <41){\r\n\t\t\twebix.html.preventEvent(e);\r\n\t\t\tvar index;\r\n\t\t\tvar inp = this._getInputNode();\r\n\r\n\t\t\tif(code == 35) index = inp.length-1;\r\n\t\t\telse if(code === 36 ) index = 0;\r\n\t\t\telse{\r\n\t\t\t\tvar dir = (code === 37 || code ===38)?-1:1;\r\n\t\t\t\tfor(var i =0; i<inp.length; i++){\r\n\t\t\t\t\tif(inp[i].getAttribute(\"tabindex\") == \"0\"){\r\n\t\t\t\t\t\tindex = i + dir;\r\n\t\t\t\t\t\tif(index<0) index = inp.length-1;\r\n\t\t\t\t\t\telse if(index>=inp.length) index = 0;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(!webix.isUndefined(index)){\r\n\t\t\t\tvar id = this.addOption ? inp[index].getAttribute(\"button_id\") : inp[index].value;\r\n\t\t\t\tif(webix.skin.$active.customRadio && !this.addOption)\r\n\t\t\t\t\tinp = this.$view.getElementsByTagName(\"BUTTON\");\r\n\r\n\t\t\t\tthis.setValue(id);\r\n\t\t\t\tinp[index].focus();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\nwebix.attachEvent(\"onClick\", function(e){\r\n\tvar element = webix.$$(e);\r\n\tif (element && element.touchable){\r\n\t\twebix.UIManager.applyChanges(element);\r\n\r\n\t\t//for inline elements - restore pointer to the master element\r\n\t\telement.getNode(e);\r\n\t\t//reaction on custom css elements in buttons\r\n\t\tvar trg=e.target||e.srcElement;\r\n\t\tif (trg.className == \"webix_disabled\")\r\n\t\t\treturn;\r\n\r\n\t\tvar css = \"\";\r\n\t\tvar id = null;\r\n\t\tvar found = false;\r\n\t\tif (trg.className && trg.className.toString().indexOf(\"webix_view\")===0) return;\r\n\r\n\t\tif (element)\r\n\t\t\twebix.UIManager._focus_action(element);\r\n\r\n\t\t//loop through all parents\r\n\t\twhile (trg && trg.parentNode){\r\n\t\t\tif (trg.getAttribute){\r\n\t\t\t\tif (trg.getAttribute(\"view_id\"))\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tcss=trg.className;\r\n\t\t\t\tif (css){\r\n\t\t\t\t\tcss = css.toString().split(\" \");\r\n\t\t\t\t\tfor (var i =0; i<css.length; i++){\r\n\t\t\t\t\t\tif (element.on_click[css[i]]){\r\n\t\t\t\t\t\t\tvar res =  element.on_click[css[i]].call(element,e,element._settings.id,trg);\r\n\t\t\t\t\t\t\tif (res===false)\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttrg=trg.parentNode;\r\n\t\t}\r\n\r\n\r\n\t\tif (element._settings.click){\r\n\t\t\tvar code = webix.toFunctor(element._settings.click, element.$scope);\r\n\t\t\tif (code && code.call) code.call(element, element._settings.id, e);\r\n\t\t}\r\n\r\n\r\n\r\n\t\tvar popup = element._settings.popup;\r\n\t\tif (element._settings.popup && !element._settings.readonly){\r\n\t\t\tif (typeof popup == \"object\" && !popup.name)\r\n\t\t\t\tpopup = element._settings.popup = webix.ui(popup)._settings.id;\r\n\r\n\t\t\tvar popup = webix.$$(popup);\r\n\t\t\twebix.assert(popup, \"Unknown popup\");\r\n\r\n\t\t\tif (!popup.isVisible()){\r\n\t\t\t\tpopup._settings.master = element._settings.id;\r\n\t\t\t\tpopup.show((element.getInputNode()||element.getNode()),null,true);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\telement.callEvent(\"onItemClick\", [element._settings.id, e]);\r\n\t}\r\n});\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"button\",\r\n\ttouchable:true,\r\n\t$skin:function(){\r\n\t\tthis.defaults.height = webix.skin.$active.buttonHeight||webix.skin.$active.inputHeight;\r\n\t\t//used in \"text\"\r\n\t\tthis._labelTopHeight = webix.skin.$active.labelTopHeight||15;\r\n\t},\r\n\tdefaults:{\r\n\t\ttemplate:function(obj, common){\r\n\t\t\tvar text = common.$renderInput(obj, common);\r\n\t\t\tif (obj.badge) text = text.replace(\"</button>\", \"<span class='webix_badge'>\"+obj.badge+\"</span></button>\");\r\n\t\t\treturn \"<div class='webix_el_box' style='width:\"+obj.awidth+\"px; height:\"+obj.aheight+\"px'>\"+ text + \"</div>\";\r\n\t\t},\r\n\t\tlabel:\"\",\r\n\t\tborderless:true\r\n\t},\r\n\t$renderInput:function(obj){\r\n\t\tvar css = \"class='webixtype_\"+(obj.type||\"base\")+\"' \";\r\n\t\treturn \"<button type='button' \"+(obj.popup?\"aria-haspopup='true'\":\"\")+css+\">\"+webix.template.escape(obj.label||obj.value)+\"</button>\";\r\n\t},\r\n\t$init:function(config){\r\n\t\tthis._viewobj.className += \" webix_control webix_el_\"+(this.$cssName||this.name);\r\n\r\n\t\tthis.data = this._settings;\r\n\t\tthis._dataobj = this._viewobj;\r\n\r\n\t\tthis._calc_size(config);\r\n\t},\r\n\thotkey_setter: function(key){\r\n\t\tvar control = this;\r\n\t\tthis._addElementHotKey(key, function(view,ev){\r\n\t\t\tvar elem = control.$view.firstChild;\r\n\t\t\twebix.html.triggerEvent(elem, \"MouseEvents\", \"click\");\r\n\t\t\twebix.html.preventEvent(ev);\r\n\t\t});\r\n\t},\r\n\r\n\t_addElementHotKey: function(key, func, view){\r\n\t\tvar keyCode = webix.UIManager.addHotKey(key, func, view);\r\n\t\tthis.attachEvent(\"onDestruct\", function(){\r\n\t\t\twebix.UIManager.removeHotKey(keyCode, func, view);\r\n\t\t});\r\n\t},\r\n\ttooltip_setter: function(value){\r\n\t\tvar box = this._getBox() || this.$view.firstChild;\r\n\t\tif(box)\r\n\t\t\tbox.title = value;\r\n\t\treturn value;\r\n\t},\r\n\ttype_setter:function(value){\r\n\t\tif (this._types[value])\r\n\t\t\tthis.$renderInput = webix.template(this._types[value]);\r\n\t\tif (value == 'prev' || value == 'next')\r\n\t\t\tthis._set_inner_size = this._set_inner_size_next;\r\n\t\telse\r\n\t\t\tthis._set_inner_size = false;\r\n\t\treturn value;\r\n\t},\r\n\t_types:{\r\n\t\thtmlbutton: \"<button type='button' class='webix_el_htmlbutton webixtype_base'>#label#</button>\",\r\n\r\n\t\tprev:\"<input type='button' class='webixtype_prev' value='#label#' /><div class='webix_el_arrow webixtype_prev_arrow'></div>\",\r\n\t\tnext:\"<input type='button' class='webixtype_next' value='#label#' /><div class='webix_el_arrow webixtype_next_arrow'></div>\",\r\n\r\n\t\timageButton:\"<button type='button' class='webix_img_btn_abs webixtype_base' style='width:100%; line-height:#cheight#px'><div class='webix_image' style='width:#dheight#px;height:#dheight#px;background-image:url(#image#);'> </div> #label#</button>\",\r\n\t\timageButtonTop:\"<button type='button' class='webix_img_btn_abs webix_img_btn_abs_top webixtype_base'><div class='webix_image' style='width:100%;height:100%;background-image:url(#image#);'> </div> <div class='webix_img_btn_text'>#label#</div></button>\",\r\n\r\n\t\timage:\"<button type='button' class='webix_img_btn' style='line-height:#cheight#px;'><div class='webix_image' style='width:#cheight#px;height:#cheight#px;background-image:url(#image#);'> </div> #label#</button>\",\r\n\t\timageTop:\"<button type='button' class='webix_img_btn_top' style='background-image:url(#image#);'><div class='webix_img_btn_text'>#label#</div></button>\",\r\n\r\n\t\ticon:\"<button type='button' class='webix_img_btn' style='line-height:#cheight#px;'><span class='webix_icon_btn fa-#icon#' style='max-width:#cheight#px;'></span>#label#</button>\",\r\n\t\ticonButton:\"<button type='button' class='webix_img_btn_abs webixtype_base' style='width:100%;'><span class='webix_icon fa-#icon#'></span> #label#</button>\",\r\n\t\ticonTop:\"<button type='button' class='webix_img_btn_top' style='width:100%;top:4px;text-align:center;'><span class='webix_icon fa-#icon#'></span><div class='webix_img_btn_text'>#label#</div></button>\",\r\n\t\ticonButtonTop:\"<button type='button' class='webix_img_btn_abs webix_img_btn_abs_top webixtype_base' style='width:100%;top:0px;text-align:center;'><span class='webix_icon fa-#icon#'></span><div class='webix_img_btn_text'>#label#</div></button>\"\r\n\r\n\t},\r\n\t_findAllInputs: function(){\r\n\t\tvar result = [];\r\n\t\tvar tagNames = [\"input\",\"select\",\"textarea\",\"button\"];\r\n\t\tfor(var i=0; i< tagNames.length; i++){\r\n\t\t\tvar inputs = this.$view.getElementsByTagName(tagNames[i]);\r\n\t\t\tfor(var j = 0; j< inputs.length; j++){\r\n\t\t\t\tresult.push(inputs[j]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tdisable: function(){\r\n        var i, node,\r\n\t        elem = this._getBox();\r\n    \twebix.ui.baseview.prototype.disable.apply(this, arguments);\r\n\t\tif(elem && elem.className.indexOf(\" webix_disabled_box\")== -1){\r\n\t\t\telem.className += \" webix_disabled_box\";\r\n\t\t\tvar inputs = this._findAllInputs();\r\n\t\t\tfor(i=0; i< inputs.length; i++)\r\n\t\t\t\tinputs[i].setAttribute(\"disabled\",true);\r\n\r\n\t\t\t// richselect and based on it\r\n\t\t\tnode = this.getInputNode();\r\n\t\t\tif(node && node.tagName.toLowerCase() == \"div\"){\r\n\t\t\t\tthis._disabledTabIndex = node.getAttribute(\"tabIndex\");\r\n\t\t\t\tnode.removeAttribute(\"tabIndex\");\r\n\t\t\t}\r\n\r\n\t\t\tif(this._settings.labelPosition == \"top\"){\r\n\t\t\t\tvar label = this._dataobj.firstChild;\r\n\t\t\t\tif(label)\r\n\t\t\t\t\tlabel.className += \" webix_disabled_top_label\";\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tenable: function(){\r\n\t\twebix.ui.baseview.prototype.enable.apply(this, arguments);\r\n\t\tvar node,\r\n\t\t\telem = this._getBox();\r\n\t\tif(elem){\r\n\t\t\telem.className = elem.className.replace(\" webix_disabled_box\",\"\");\r\n\t\t\tvar inputs = this._findAllInputs();\r\n\t\t\tfor(var i=0; i< inputs.length; i++)\r\n\t\t\t\tinputs[i].removeAttribute(\"disabled\");\r\n\r\n\t\t\tnode = this.getInputNode();\r\n\t\t\tif(node && !webix.isUndefined(this._disabledTabIndex))\r\n\t\t\t\tnode.setAttribute(\"tabIndex\",this._disabledTabIndex);\r\n\r\n\t\t\tif(this._settings.labelPosition == \"top\"){\r\n\t\t\t\tvar label = this._dataobj.firstChild;\r\n\t\t\t\tif(label)\r\n\t\t\t\t\tlabel.className = label.className.replace(\" webix_disabled_top_label\",\"\");\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tif(webix.ui.view.prototype.$setSize.call(this,x,y)){\r\n\t\t\tthis.render();\r\n\t\t}\r\n\t},\r\n\tsetValue:function(value){\r\n\t\tvar oldvalue = this._settings.value;\r\n\t\tif (oldvalue == value) return false;\r\n\t\t\r\n\t\tvalue = this._pattern(value, false);\r\n\t\tthis._settings.value = value;\r\n\r\n\t\tif (this._rendered_input)\r\n\t\t\tthis.$setValue(value);\r\n\r\n\t\tthis.callEvent(\"onChange\", [value, oldvalue]);\r\n\t},\r\n\t_pattern :function(value){ return value; },\r\n\t//visual part of setValue\r\n\t$setValue:function(value){\r\n//\t\tthis._settings.label = value;\r\n\t\t(this.getInputNode()||{}).value = value; \r\n\t},\r\n\tgetValue:function(){\r\n\t\t//if button was rendered - returning actual value\r\n\t\t//otherwise - returning last set value\r\n\t\tvar value = this._rendered_input? this.$getValue() : this._settings.value;\r\n\t\treturn (typeof value == \"undefined\") ? \"\" : value;\r\n\t},\r\n\t$getValue:function(){\r\n\t\treturn this._settings.value||\"\";\t\r\n\t},\r\n\tfocus:function(){\r\n\t\tif(!this._settings.disabled){\r\n\t\t\tvar input = this.getInputNode();\r\n\t\t\tif (input && input.focus) input.focus();\r\n\t\t}\r\n\r\n\t},\r\n\tblur:function() {\r\n\t\tvar input = this.getInputNode();\r\n\t\tif (input && input.blur) input.blur();\r\n\t},\r\n\t//get input element\r\n\tgetInputNode: function() {\r\n\t\treturn this._dataobj.getElementsByTagName('input')[0]||this._dataobj.getElementsByTagName('button')[0];\r\n\t},\r\n\t//get top-level sub-container\r\n\t_getBox:function(){\r\n\t\tfor(var i=0;i< this._dataobj.childNodes.length;i++){\r\n\t\t\tif(this._dataobj.childNodes[i].className.indexOf(\"webix_el_box\")>=0)\r\n\t\t\t\treturn this._dataobj.childNodes[i];\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\t_sqrt_2:Math.sqrt(2),\r\n\t_set_inner_size_next:function(){\r\n\t\tvar cfg = this._settings;\r\n\t\tvar arrow = this._getBox().childNodes[1];\r\n\t\tvar button = arrow.previousSibling;\r\n\t\tvar style = cfg.type == \"next\"?\"right\":\"left\";\r\n\t\tvar height = cfg.aheight-webix.skin.$active.inputPadding*2-2; //-2 - borders\r\n\r\n\t\tvar arrowEdge = height*this._sqrt_2/2;\r\n\t\tarrow.style.width = arrowEdge+\"px\";\r\n\t\tarrow.style.height = arrowEdge+\"px\";\r\n\t\tarrow.style.top = (height - arrowEdge)/2 + webix.skin.$active.inputPadding+ \"px\";\r\n\t\tarrow.style[style] = (height - arrowEdge)/2 +this._sqrt_2/2+ \"px\";\r\n\t\tbutton.style.width = cfg.awidth - height/2 -2  + \"px\";\r\n\t\tbutton.style.height = height + 2 + \"px\";\r\n\t\tbutton.style[style] =  height/2 + 2 + \"px\";\r\n\t\tbutton.style.top = webix.skin.$active.inputPadding+ \"px\";\r\n\r\n\t},\r\n\t_calc_size:function(config){\r\n\t\tconfig = config || this._settings;\r\n\t\tif (config.autowidth)\r\n\t\t\tconfig.width = webix.html.getTextSize((config.value||config.label), \"webixbutton\").width +\r\n\t\t\t\t(config.badge ? 15 : 0) +\r\n\t\t\t\t(config.type === \"iconButton\" ? 30 : 0) +\r\n\t\t\t\t(config.type === \"icon\"? 20 : 0);\r\n\t},\r\n\t_calck_input_size:function(){\r\n\t\t//use width for both width and inputWidth settings in clever way\r\n\t\t//in form, we can define width for some element smaller than for siblings\r\n\t\t//it will use inputWidth to render the desired view\r\n\t\tthis._input_width = this._settings.inputWidth || \r\n\t\t\t((this._content_width - this._settings.width > 2)?this._settings.width:0) || this._content_width;\r\n\t\tthis._input_height = this._settings.inputHeight||this._inputHeight||0;\r\n\t},\r\n\tresize: function(){\r\n\t\tthis._calc_size();\r\n\t\treturn webix.ui.view.prototype.resize.apply(this,arguments);\r\n\t},\r\n\trender:function(){\r\n\t\tthis._calck_input_size();\r\n\t\tthis._settings.awidth  = this._input_width||this._content_width;\r\n\t\tthis._settings.aheight = this._input_height||this._content_height;\r\n\r\n\t\t//image button - image width\r\n\t\tthis._settings.bheight = this._settings.aheight+2;\r\n\t\tthis._settings.cheight = this._settings.aheight- 2*webix.skin.$active.inputPadding;\r\n\t\tthis._settings.dheight = this._settings.cheight - 2; // - borders\r\n\r\n\t\tif(webix.AtomRender.render.call(this)){\r\n\t\t\tthis._rendered_input = true;\r\n\t\t\tif (this._set_inner_size) this._set_inner_size();\r\n\t\t\tif (this._settings.align){\r\n\t\t\t\tvar handle = this._dataobj.firstChild;\r\n\t\t\t\tif (this._settings.labelPosition == \"top\" && handle.nextSibling)\r\n\t\t\t\t\thandle = handle.nextSibling;\r\n\r\n\t\t\t\tswitch(this._settings.align){\r\n\t\t\t\t\tcase \"right\":\r\n\t\t\t\t\t\thandle.style.cssFloat = \"right\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"center\":\r\n\t\t\t\t\t\thandle.style.display = \"inline-block\";\r\n\t\t\t\t\t\thandle.parentNode.style.textAlign = \"center\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"middle\":\r\n\t\t\t\t\t\thandle.style.marginTop = Math.round((this._content_height-this._input_height)/2)+\"px\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"bottom\": \r\n\t\t\t\t\t\thandle.style.marginTop = (this._content_height-this._input_height)+\"px\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"left\":\r\n\t\t\t\t\t\thandle.style.cssFloat = \"left\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\twebix.assert(false, \"Unknown align mode: \"+this._settings.align);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (this.$render)\r\n\t\t\t\tthis.$render(this.data);\r\n\r\n\t\t\tif (this._settings.disabled)\r\n\t\t\t\tthis.disable();\r\n\r\n\t\t\t// set tooltip after render\r\n\t\t\tif (this._settings.tooltip)\r\n\t\t\t\tthis.define(\"tooltip\",this._settings.tooltip );\r\n\r\n\t\t\tif (this._init_once){\r\n\t\t\t\tthis._init_once(this.data);\r\n\t\t\t\tthis._init_once = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\trefresh:function(){ this.render(); },\r\n\r\n\ton_click:{\r\n\t\t_handle_tab_click: function(ev, button){\r\n\t\t\tvar id = webix.html.locate(ev, \"button_id\");\r\n\t\t\tif (id && this.callEvent(\"onBeforeTabClick\", [id, ev])){\r\n\t\t\t\tthis.setValue(id);\r\n\t\t\t\tthis.callEvent(\"onAfterTabClick\", [id, ev]);\r\n\t\t\t}\r\n\t\t},\r\n\t\twebix_all_segments:function(ev, button){\r\n\t\t\tthis.on_click._handle_tab_click.call(this, ev, button);\r\n\t\t},\r\n\t\twebix_all_tabs:function(ev, button) {\r\n\t\t\tthis.on_click._handle_tab_click.call(this, ev, button);\r\n\t\t},\r\n\t\twebix_inp_counter_next:function(e, obj, node){\r\n\t\t\tif (!this._settings.readonly)\r\n\t\t\t\tthis.next();\r\n\t\t},\r\n\t\twebix_inp_counter_prev:function(e, obj, node){\r\n\t\t\tif (!this._settings.readonly)\r\n\t\t\t\tthis.prev();\r\n\t\t},\r\n\t\twebix_inp_combo:function(e, obj, node){\r\n\t\t\tnode.focus();\r\n\t\t},\r\n\t\twebix_inp_checkbox_border: function(e, obj, node) {\r\n\t\t\tif (!this._settings.disabled && (e.target||e.srcElement).tagName != \"DIV\" && !this._settings.readonly)\r\n\t\t\t\tthis.toggle();\r\n\t\t},\r\n\t\twebix_inp_checkbox_label: function(e, obj, node) {\r\n\t\t\tif (!this._settings.readonly)\r\n\t\t\t\tthis.toggle();\r\n\t\t},\r\n\t\twebix_inp_radio_border: function(e, obj, node) {\r\n\t\t\tvar value = webix.html.locate(e, \"radio_id\");\r\n\t\t\tthis.setValue(value);\r\n\t\t},\r\n\t\twebix_inp_radio_label: function(e, obj, node) {\r\n\t\t\tnode = node.parentNode.getElementsByTagName('input')[0];\r\n\t\t\treturn this.on_click.webix_inp_radio_border.call(this, node, obj, node);\r\n\t\t},\r\n\t\twebix_tab_more_icon: function(ev,obj, node){\r\n\t\t\tthis.getPopup().resize();\r\n\t\t\tthis.getPopup().show(node,null,true);\r\n\t\t},\r\n\t\twebix_tab_close:function(ev, obj, node){\r\n\t\t\tvar id = webix.html.locate(ev, \"button_id\");\r\n            if (id && this.callEvent(\"onBeforeTabClose\", [id, ev]))\r\n\t\t\t    this.removeOption(id);\r\n\t\t}\r\n\t},\r\n\r\n\t//method do not used by button, but  used by other child-views\r\n\t_check_options:function(opts){\r\n\t\twebix.assert(opts, this.name+\": options not defined\");\r\n\t\tfor(var i=0;i<opts.length;i++){\r\n\t\t\t//FIXME: asserts need to be removed in final version\t\t\t\r\n\t\t\twebix.assert(!opts[i].text, \"Please replace .text with .value in control config\");\r\n\t\t\twebix.assert(!opts[i].label, \"Please replace .label with .value in control config\");\r\n\r\n\t\t\tif(typeof opts[i]==\"string\"){\r\n\t\t\t\topts[i] = {id:opts[i], value:opts[i]};\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif(webix.isUndefined(opts[i].id))\r\n\t\t\t\t\topts[i].id = opts[i].value;\r\n\r\n\t\t\t\tif(webix.isUndefined(opts[i].value))\r\n\t\t\t\t\topts[i].value = opts[i].id;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn opts;\r\n\t},\r\n\t_get_div_placeholder: function(obj){\r\n\t\tvar placeholder = (obj?obj.placeholder:this._settings.placeholder);\r\n\t\treturn (placeholder?\"<span class='webix_placeholder'>\"+placeholder+\"</span>\":\"\");\r\n\t},\r\n\t_get_event_id: function(evName){\r\n\t\treturn \"webix_\"+evName+\"_\"+this._settings.id;\r\n\t}\r\n}, webix.ui.view, webix.AtomRender, webix.Settings, webix.EventSystem);\r\n\r\nwebix.protoUI({\r\n\tname:\"label\",\r\n\tdefaults:{\r\n\t\ttemplate:\"<div style='height:100%;line-height:#cheight#px'>#label#</div>\"\r\n\t},\r\n\t$skin:function(){\r\n\t\tthis.defaults.height = webix.skin.$active.inputHeight;\r\n\t},\r\n\tfocus:function(){ return false; },\r\n\t_getBox:function(){\r\n\t\treturn this._dataobj.firstChild;\r\n\t},\r\n\tsetHTML:function(html){\r\n\t\tthis._settings.template = function(){ return html; };\r\n\t\tthis.refresh();\r\n\t},\r\n\tsetValue: function(value){\r\n\t\tthis._settings.label = value;\r\n\t\twebix.ui.button.prototype.setValue.apply(this,arguments);\r\n\t},\r\n\t$setValue:function(value){\r\n\t\tthis._dataobj.firstChild.innerHTML = value;\r\n\t},\r\n\t_set_inner_size:function(){}\r\n}, webix.ui.button);\r\n\r\nwebix.protoUI({\r\n\tname:\"icon\",\r\n\t$skin:function(){\r\n\t\tthis.defaults.height = webix.skin.$active.inputHeight;\r\n\t},\r\n\tdefaults:{\r\n\t\ttemplate:function(obj){\r\n\t\t\treturn \"<button type='button' \"+\" style='height:100%;width:100%;' class='webix_icon_button'><span class='webix_icon fa-\"+obj.icon+\" '></span>\"+\r\n\t\t\t\t(obj.badge ? \"<span class='webix_badge'>\"+obj.badge+\"</span>\":\"\")+\r\n\t\t\t\t\"</button>\";\r\n\t\t},\r\n\t\twidth:33\r\n\t},\r\n\t_set_inner_size:function(){\r\n\t\t\r\n\t}\r\n}, webix.ui.button);\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"text\",\r\n\t_allowsClear:true,\r\n\t_init_onchange:function(){\r\n\t\tif (this._allowsClear){\r\n\t\t\t//define event id to prevent memory leak\r\n\t\t\tvar evId = \"webix_onchange_\"+this._settings.id;\r\n\t\t\twebix.event(this.getInputNode(),\"change\",this._applyChanges,{bind:this, id: evId});\r\n\t\t\tif (this._settings.suggest)\r\n\t\t   \t\twebix.$$(this._settings.suggest).linkInput(this);\r\n\t\t }\r\n\t},\r\n\t_applyChanges: function(){\r\n\t\tvar newvalue = this.getValue();\r\n\r\n\t\tif (newvalue != this._settings.value)\r\n\t\t\tthis.setValue(newvalue, true);\r\n\t},\r\n\t$skin:function(){\r\n\t\tthis.defaults.height = webix.skin.$active.inputHeight;\r\n\t\tthis.defaults.inputPadding = webix.skin.$active.inputPadding;\r\n\t},\r\n\t$init:function(config){\r\n\t\tif (config.labelPosition == \"top\")\r\n\t\t\tif (webix.isUndefined(config.height) && this.defaults.height)  // textarea\r\n\t\t\t\tconfig.height = this.defaults.height + this._labelTopHeight;\r\n\r\n\t\t//suggest reference for destructor\r\n\t\tthis._destroy_with_me = [];\r\n\r\n\t\tthis.attachEvent(\"onAfterRender\", this._init_onchange);\r\n\t},\r\n\t$renderIcon:function(){\r\n\t\tvar config = this._settings;\r\n\t\tif (config.icon){\r\n\t\t\tvar height = config.aheight - 2*config.inputPadding,\r\n\t\t\t\tpadding = (height - 18)/2 -1,\r\n\t\t\t\taria = this.addSection ? \"role='button' tabindex='0' aria-label='\"+(webix.i18n.aria[\"multitext\"+(config.mode || \"\")+\"Section\"])+\"'\": \"\";\r\n\t\t\t\treturn \"<span style='height:\"+(height-padding)+\"px;padding-top:\"+padding+\"px;' class='webix_input_icon fa-\"+config.icon+\"' \"+aria+\"></span>\";\r\n\t\t\t}\r\n\t\t\treturn \"\";\r\n\t},\r\n\trelatedView_setter:function(value){\r\n\t\tthis.attachEvent(\"onChange\", function(){\r\n\t\t\tvar value = this.getValue();\r\n\t\t\tvar mode = this._settings.relatedAction;\r\n\t\t\tvar viewid = this._settings.relatedView;\r\n\t\t\tvar view = webix.$$(viewid);\r\n\t\t\tif (!view){\r\n\t\t\t\tvar top = this.getTopParentView();\r\n\t\t\t\tif (top && top.$$)\r\n\t\t\t\t\tview = top.$$(viewid);\r\n\t\t\t}\r\n\r\n\t\t\twebix.assert(view, \"Invalid relatedView: \"+viewid);\r\n\r\n\t\t\tif (mode == \"enable\"){\r\n\t\t\t\tif (value) view.enable(); else view.disable();\r\n\t\t\t} else {\r\n\t\t\t\tif (value) view.show(); else view.hide();\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn value;\r\n\t},\r\n\tvalidateEvent_setter:function(value){\r\n\t\tif (value == \"blur\")\r\n\t\t\tthis.attachEvent(\"onBlur\", this.validate);\r\n\r\n\t\tif (value == \"key\")\r\n\t\t\tthis.attachEvent(\"onTimedKeyPress\", this.validate);\r\n\r\n\t\treturn value;\r\n\t},\r\n\tvalidate:function(){\r\n\t\tvar rule = this._settings.validate;\r\n\t\tif (!rule && this._settings.required)\r\n\t\t\trule = webix.rules.isNotEmpty;\r\n\r\n\t\tvar form =this.getFormView();\r\n\t\tvar name = this._settings.name;\r\n\t\tvar value = this.getValue();\r\n\t\tvar data = {}; data[name] = value;\r\n\r\n\t\twebix.assert(form, \"Validation works only for fields in the form\");\r\n\t\twebix.assert(name, \"Validation works only for fields with name\");\r\n\r\n\t\tif (rule && !this.getFormView()._validate(rule, value, data, name))\r\n\t\t\treturn false;\r\n\t\treturn true;\r\n\t},\r\n\tbottomLabel_setter: function(value){\r\n\t\tif(!this._settings.bottomPadding)\r\n\t\t\tthis._settings.bottomPadding = 18;\r\n\t\treturn value;\r\n\t},\r\n\t_getInvalidText: function(){\r\n\t\tvar text = this._settings.invalidMessage;\r\n\t\tif(typeof text == \"function\"){\r\n\t\t\ttext.call(this);\r\n\t\t}\r\n\t\treturn text;\r\n\t},\r\n\tsetBottomText: function(text, height){\r\n\t\tvar config = this._settings;\r\n\t\tif (typeof text != \"undefined\"){\r\n\t\t\tif (config.bottomLabel == text) return;\r\n\t\t\tconfig.bottomLabel = text;\r\n\t\t}\r\n\r\n\t\tvar message = (config.invalid ? config.invalidMessage : \"\" ) || config.bottomLabel;\r\n\t\tif (!message && !config.bottomPadding)\r\n\t\t\tconfig.inputHeight = 0;\r\n\t\tif (message && !config.bottomPadding){\r\n\t\t\tthis._restorePadding = 1;\r\n\t\t\tconfig.bottomPadding = config.bottomPadding || height || 18;\t\r\n\t\t\t//textarea\r\n\t\t\tif (!config.height)\r\n\t\t\t\tthis.render();\r\n\t\t\tthis.resize();\r\n\t\t} else if (!message && this._restorePadding){\r\n\t\t\tconfig.bottomPadding = this._restorePadding = 0;\r\n\t\t\t//textarea\r\n\t\t\tif (!config.height)\r\n\t\t\t\tthis.render();\r\n\t\t\tthis.resize();\r\n\t\t} else\r\n\t\t\tthis.render();\r\n\t},\r\n\t$getSize: function(){\r\n\t\tvar sizes = webix.ui.view.prototype.$getSize.apply(this,arguments);\r\n\t\tvar heightInc = this.config.bottomPadding;\r\n\t\tif(heightInc){\r\n\t\t\tsizes[2] += heightInc;\r\n\t\t\tsizes[3] += heightInc;\r\n\t\t}\r\n\t\treturn sizes;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tvar config = this._settings;\r\n\r\n\t\tif(webix.ui.view.prototype.$setSize.call(this,x,y)){\r\n\t\t\tif (!x || !y) return;\r\n\r\n\t\t\tif (config.labelPosition == \"top\"){\r\n\t\t\t\t// textarea\r\n\t\t\t\tif (!config.inputHeight)\r\n\t\t\t\t\tthis._inputHeight = this._content_height - this._labelTopHeight - (this.config.bottomPadding||0);\r\n\t\t\t\tconfig.labelWidth = 0;\r\n\t\t\t} else if (config.bottomPadding){\r\n\t\t\t\tconfig.inputHeight = this._content_height - this.config.bottomPadding;\r\n\t\t\t}\r\n\t\t\tthis.render();\r\n\t\t}\r\n\t},\r\n\t_get_input_width: function(config){\r\n\t\tvar width = (this._input_width||0)-(config.label?this._settings.labelWidth:0)- \t4 - (config.iconWidth || 0);\r\n\r\n\t\t//prevent js error in IE\r\n\t\treturn (width < 0)?0:width;\r\n\t},\r\n\t_render_div_block:function(obj, common){\r\n\t\tvar id = \"x\"+webix.uid();\r\n\t\tvar width = common._get_input_width(obj);\r\n\t\tvar inputAlign = obj.inputAlign || \"left\";\r\n\t\tvar icon = this.$renderIcon?this.$renderIcon(obj):\"\";\r\n\t\tvar height = this._settings.aheight - 2*webix.skin.$active.inputPadding -2;\r\n\t\tvar text = (obj.text||obj.value||this._get_div_placeholder(obj));\r\n\t\tvar html = \"<div class='webix_inp_static' role='combobox' aria-label='\"+obj.label+\"' tabindex='0'\"+(obj.readonly?\" aria-readonly='true'\":\"\")+(obj.invalid?\"aria-invalid='true'\":\"\")+\" onclick='' style='line-height:\"+height+\"px;width: \" + width + \"px; text-align: \" + inputAlign + \";' >\"+ text +\"</div>\";\r\n\t\treturn common.$renderInput(obj, html, id);\r\n\t},\r\n\t_baseInputHTML:function(tag){\r\n\t\tvar html = \"<\"+tag+(this._settings.placeholder?\" placeholder='\"+this._settings.placeholder+\"' \":\" \");\r\n\t\tif (this._settings.readonly)\r\n\t\t\thtml += \"readonly='true' aria-readonly=''\";\r\n\t\tif(this._settings.required)\r\n\t\t\thtml += \"aria-required='true'\";\r\n\t\tif(this._settings.invalid)\r\n\t\t\thtml += \"aria-invalid='true'\";\r\n\r\n\t\tvar attrs = this._settings.attributes;\r\n\t\tif (attrs)\r\n\t\t\tfor(var prop in attrs)\r\n\t\t\t\thtml += prop+\"='\"+attrs[prop]+\"' \";\r\n\t\treturn html;\r\n\t},\r\n\t$renderLabel: function(config, id){\r\n\t\tvar labelAlign = (config.labelAlign||\"left\");\r\n\t\tvar top = this._settings.labelPosition == \"top\";\r\n\t\tvar labelTop =  top?\"display:block;\":(\"width: \" + this._settings.labelWidth + \"px;\");\r\n\t\tvar label = \"\";\r\n\t\tvar labelHeight = top?this._labelTopHeight-2:( this._settings.aheight - 2*this._settings.inputPadding);\r\n\t\tif (config.label)\r\n\t\t\tlabel = \"<label style='\"+labelTop+\"text-align: \" + labelAlign + \";line-height:\"+labelHeight+\"px;' onclick='' for='\"+id+\"' class='webix_inp_\"+(top?\"top_\":\"\")+\"label \"+(config.required?\"webix_required\":\"\")+\"'>\" + (config.label||\"\") + \"</label>\";\r\n\t\treturn label;\r\n\t},\r\n\t$renderInput: function(config, div_start, id) {\r\n\t\tvar inputAlign = (config.inputAlign||\"left\");\r\n\t\tvar top = (config.labelPosition == \"top\");\r\n\t\tvar inputWidth = this._get_input_width(config);\r\n\r\n\t\tid = id||webix.uid();\r\n\r\n\t\tvar label = this.$renderLabel(config,id);\r\n\r\n\t\tvar html = \"\";\r\n\t\tif(div_start){\r\n\t\t\thtml += div_start;\r\n\t\t} else {\r\n\t\t\thtml += this._baseInputHTML(\"input\")+\"id='\" + id + \"' type='\"+(config.type||this.name)+\"'\"+(config.editable?\" role='combobox'\":\"\")+\" value='\" + webix.template.escape(config.text || this._pattern(config.value)||\"\") + \"' style='width: \" + inputWidth + \"px; text-align: \" + inputAlign + \";'\";\r\n\t\t\tvar attrs = config.attributes;\r\n\t\t\tif (attrs)\r\n\t\t\t\tfor(var prop in attrs)\r\n\t\t\t\t\thtml += \" \"+prop+\"='\"+attrs[prop]+\"'\";\r\n\t\t\thtml += \" />\";\r\n\t\t}\r\n\t\tvar icon = this.$renderIcon?this.$renderIcon(config):\"\";\r\n\t\thtml += icon;\r\n\r\n\t\tvar result = \"\";\r\n\t\t//label position, top or left\r\n\t\tif (top)\r\n\t\t\tresult = label+\"<div class='webix_el_box' style='width:\"+config.awidth+\"px; height:\"+config.aheight+\"px'>\"+html+\"</div>\";\r\n\t\telse\r\n\t\t\tresult = \"<div class='webix_el_box' style='width:\"+config.awidth+\"px; height:\"+config.aheight+\"px'>\"+label+html+\"</div>\";\r\n\r\n\r\n\t\t//bottom message width\r\n\t\tvar padding = config.awidth-inputWidth-webix.skin.$active.inputPadding*2;\r\n\t\t//bottom message text\r\n\t\tvar message = (config.invalid ? config.invalidMessage : \"\") || config.bottomLabel;\r\n\t\tif (message)\r\n\t\t\tresult +=  \"<div class='webix_inp_bottom_label'\"+(config.invalid?\"role='alert' aria-relevant='all'\":\"\")+\" style='width:\"+(inputWidth||config.awidth)+\"px;margin-left:\"+Math.max(padding,webix.skin.$active.inputPadding)+\"px;'>\"+message+\"</div>\";\r\n\r\n\t\treturn result;\r\n\t},\r\n\tdefaults:{\r\n\t\ttemplate:function(obj, common){\r\n\t\t\treturn common.$renderInput(obj);\r\n\t\t},\r\n\t\tlabel:\"\",\r\n\t\tlabelWidth:80\r\n\t},\r\n\ttype_setter:function(value){ return value; },\r\n\t_set_inner_size:false,\r\n\t$setValue:function(value){\r\n\t\tthis.getInputNode().value = this._pattern(value);\r\n\t},\r\n\t$getValue:function(){\r\n\t\treturn this._pattern(this.getInputNode().value, false);\r\n\t},\r\n\tsuggest_setter:function(value){\r\n\t\tif (value){\r\n\t\t\twebix.assert(value !== true, \"suggest options can't be set as true, data need to be provided instead\");\r\n\r\n\t\t\tif (typeof value == \"string\"){\r\n\t\t\t\tvar attempt = webix.$$(value);\r\n\t\t\t\tif (attempt) \r\n\t\t\t\t\treturn webix.$$(value)._settings.id;\r\n\r\n\t\t\t\tvalue = { body: { url:value , dataFeed :value } };\r\n\t\t\t} else if (webix.isArray(value))\r\n\t\t\t\tvalue = { body: { data: this._check_options(value) } };\r\n\t\t\telse if (!value.body)\r\n\t\t\t\tvalue.body = {};\r\n\r\n\t\t\twebix.extend(value, { view:\"suggest\" });\r\n\r\n\t\t\tvar view = webix.ui(value);\r\n\t\t\tthis._destroy_with_me.push(view);\r\n\t\t\treturn view._settings.id;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}, webix.ui.button);\r\n\r\nwebix.protoUI({\r\n\tname:\"segmented\",\r\n\t_allowsClear:false,\r\n\t$init:function(){\r\n\t\tthis.attachEvent(\"onChange\", function(value){\r\n\t\t\tif (this._settings.multiview){\r\n\t\t\t\tvar top = this.getTopParentView();\r\n\t\t\t\tvar view = null;\r\n\r\n\t\t\t\t//get from local isolate\r\n\t\t\t\tif (top && top.$$)\r\n\t\t\t\t\tview = top.$$(value);\r\n\t\t\t\t//or check globally\r\n\t\t\t\tif (!view)\r\n\t\t\t\t\tview = webix.$$(value);\r\n\r\n\t\t\t\tif(view && view.show)\r\n\t\t\t\t\tview.show();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t},\r\n\tdefaults:{\r\n\t\ttemplate:function(obj, common){\r\n\t\t\tif(!obj.options)\r\n\t\t\t\twebix.assert(false, \"segmented: options undefined\");\r\n\t\t\tvar options = obj.options;\r\n\t\t\tcommon._check_options(options);\r\n\t\t\toptions = common._filterOptions(options);\r\n\r\n\t\t\tvar width = common._get_input_width(obj);\r\n\r\n\t\t\tvar id = webix.uid();\r\n\t\t\tvar html = \"<div style='width:\"+width+\"px' class='webix_all_segments' role='tablist' aria-label='\"+obj.label+\"'>\";\r\n\t\t\tvar optionWidth = obj.optionWidth || Math.floor(width/options.length);\r\n\t\t\tif(!obj.value)\r\n\t\t\t\tobj.value = options[0].id;\r\n\r\n\t\t\tfor(var i=0; i<options.length; i++){\r\n\t\t\t\thtml+=\"<button type='button' style='width:\"+(options[i].width || optionWidth)+\"px' role='tab' aria-selected='\"+(obj.value==options[i].id?\"true\":\"false\")+\"' tabindex='\"+(obj.value==options[i].id?\"0\":\"-1\")+\"'\";\r\n\t\t\t\thtml+=\"class='\"+\"webix_segment_\"+((i==options.length-1)?\"N\":(i>0?1:0))+((obj.value==options[i].id)?\" webix_selected \":\"\")+\"' button_id='\"+options[i].id+\"' >\";\r\n\t\t\t\thtml+= options[i].value+\"</button>\";\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn common.$renderInput(obj, html+\"</div>\", id);\r\n\t\t}\r\n\t},\r\n\t_getInputNode:function(){\r\n\t\treturn this.$view.getElementsByTagName(\"BUTTON\");\r\n\t},\r\n\tfocus: function(){ this._focus(); },\r\n\tblur: function(){ this._blur(); },\r\n\t$setValue:function(value){\r\n\r\n\t\tvar options = this._getInputNode();\r\n\r\n\t\tfor(var i=0; i<options.length; i++){\r\n\t\t\tvar id = options[i].getAttribute(\"button_id\");\r\n\t\t\toptions[i].setAttribute(\"aria-selected\", (value==id?\"true\":\"false\"));\r\n\t\t\toptions[i].setAttribute(\"tabindex\", (value==id?\"0\":\"-1\"));\r\n\t\t\tif(value===id)\r\n\t\t\t\twebix.html.addCss(options[i], \"webix_selected\");\r\n\t\t\telse\r\n\t\t\t\twebix.html.removeCss(options[i], \"webix_selected\");\r\n\t\t}\r\n\t},\r\n\tgetValue:function(){\r\n\t\treturn this._settings.value;\r\n\t},\r\n\tgetInputNode:function(){\r\n\t\treturn null;\r\n\t},\r\n\toptionIndex:function(id){\r\n\t\tvar pages = this._settings.options;\r\n\t\tfor (var i=0; i<pages.length; i++)\r\n\t\t\tif (pages[i].id == id)\r\n\t\t\t\treturn i;\r\n\t\treturn -1;\r\n\t},\r\n\taddOption:function(id, value, show, index){\r\n\t\tvar obj = id;\r\n\t\tif (typeof id != \"object\"){\r\n\t\t\tvalue = value || id;\r\n\t\t\tobj = { id:id, value:value };\r\n\t\t} else {\r\n\t\t\tid = obj.id;\r\n\t\t\tindex = show;\r\n\t\t\tshow = value;\r\n\t\t}\r\n\r\n\t\tif (this.optionIndex(id) < 0)\r\n\t\t\twebix.PowerArray.insertAt.call(this._settings.options, obj, index);\r\n\r\n\t\tif (show)\r\n\t\t\tthis.setValue(id);\r\n\t},\r\n\tremoveOption:function(id, value){\r\n\t\tvar index = this.optionIndex(id);\r\n\t\tvar options = this._settings.options;\r\n\r\n\t\tif (index >= 0)\r\n\t\t\twebix.PowerArray.removeAt.call(options, index);\r\n\r\n\t\t// if we remove a selected option\r\n\t\tif(this._settings.value == id)\r\n\t\t\tthis._setNextVisible(options, index);\r\n\t\t\t\r\n        this.callEvent(\"onOptionRemove\", [id, this._settings.value]);\r\n\t\tthis.refresh();\r\n\r\n\t},\r\n\t_setNextVisible: function(options, index){\r\n\t\tvar size = options.length;\r\n\r\n\t\tif(size){\r\n\t\t\tindex = Math.min(index, size-1);\r\n\t\t\t//forward search\r\n\t\t\tfor (var i=index; i<size; i++)\r\n\t\t\t\tif (!options[i].hidden)\r\n\t\t\t\t\treturn this.setValue(options[i].id);\r\n\t\t\t//backward search\r\n\t\t\tfor (var i=index; i>=0; i--)\r\n\t\t\t\tif (!options[i].hidden)\r\n\t\t\t\t\treturn this.setValue(options[i].id);\r\n\t\t}\r\n\t\t\r\n\t\t//nothing found\t\t\r\n\t\tthis.setValue(\"\");\r\n\t},\r\n\t_filterOptions: function(options){\r\n\t\tvar copy = [];\r\n\t\tfor(var i=0; i<options.length;i++)\r\n\t\t\tif(!options[i].hidden)\r\n\t\t\t\tcopy.push(options[i]);\r\n\t\treturn copy;\r\n\t},\r\n\t_setOptionVisibility: function(id, state){\r\n\t\tvar options = this._settings.options;\r\n\t\tvar index = this.optionIndex(id);\r\n\t\tvar option = options[index];\r\n\t\tif (option && state == !!option.hidden){  //new state differs from previous one\r\n\t\t\toption.hidden = !state;\r\n\t\t\tif (state || this._settings.value != id){ \t//show item, no need for extra steps\r\n\t\t\t\tthis.refresh();\r\n\t\t\t} else {\t\t\t\t\t\t\t\t\t//hide item, switch to next visible one\r\n\t\t\t\tthis._setNextVisible(options, index);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\thideOption: function(id){\r\n\t\tthis._setOptionVisibility(id,false);\r\n\t},\r\n\tshowOption: function(id){\r\n\t\tthis._setOptionVisibility(id,true);\r\n\t},\r\n\t_set_inner_size:false\r\n}, webix.HTMLOptions, webix.ui.text);\r\n\r\nwebix.protoUI({\r\n\tname:\"search\",\r\n\t$skin:function(){\r\n\t\tthis.defaults.inputPadding = webix.skin.$active.inputPadding;\r\n\t},\r\n\ton_click:{\r\n\t\t\"webix_input_icon\":function(e){\r\n\t\t\treturn this.callEvent(\"onSearchIconClick\", [e]);\r\n\t\t}\r\n\t},\r\n\tdefaults:{\r\n\t\ttype:\"text\",\r\n\t\ticon:\"search\"\r\n\t}\r\n}, webix.ui.text);\r\n\r\nwebix.protoUI({\r\n\tname:\"toggle\",\r\n\t_allowsClear:true,\r\n\t$init:function(){\r\n\t\tthis.attachEvent(\"onItemClick\", function(){\r\n\t\t\tthis.toggle();\r\n\t\t});\r\n\t},\r\n\t$setValue:function(value){\r\n\t\tvar input = this.getInputNode();\r\n\t\tvar obj = this._settings;\r\n\r\n\t\tinput.setAttribute(\"aria-pressed\", value?\"true\":false);\r\n\t\tinput.lastChild.nodeValue = \" \"+((value ? obj.onLabel : obj.offLabel) || obj.label);\r\n\r\n\t\t//icon or image button\r\n\t\tif(input.firstChild.nodeName ===\"SPAN\" && obj.onIcon && obj.offIcon && obj.onIcon !==obj.offIcon)\r\n\t\t\tinput.firstChild.className = input.firstChild.className.replace((value?obj.offIcon:obj.onIcon),  (value?obj.onIcon:obj.offIcon));\r\n\t\t\r\n\t\tvar parent = input.parentNode;\r\n\t\tif(value)\r\n\t\t\twebix.html.addCss(parent, \"webix_pressed\");\r\n\t\telse\r\n\t\t\twebix.html.removeCss(parent, \"webix_pressed\");\r\n\t},\r\n\ttoggle:function(){\r\n\t\tthis.setValue(!this.getValue());\r\n\t},\r\n\tgetValue:function(){\r\n\t\tvar value = this._settings.value;\r\n\t\treturn  (!value||value==\"0\")?0:1;\r\n\t},\r\n\tdefaults:{\r\n\t\ttemplate:function(obj, common){\r\n\t\t\tvar css = obj.value ? \" webix_pressed\" : \"\";\r\n\t\t\tobj.label = (obj.value ? obj.onLabel : obj.offLabel) || obj.label;\r\n\t\t\tobj.icon = (obj.value ? obj.onIcon : obj.offIcon) || obj.icon;\r\n\t\t\tvar html =  \"<div class='webix_el_box\"+css+\"' style='width:\"+obj.awidth+\"px; height:\"+obj.aheight+\"px'>\"+common.$renderInput(obj, common)+\"</div>\";\r\n\t\t\thtml = html.replace(/(button)\\s*(?=\\w)/, \"$1\"+(\" aria-pressed='\"+(obj.value?\"true\":\"false\")+\"' \"));\r\n\t\t\treturn html;\r\n\t\t}\r\n\t},\r\n\t_set_inner_size:false\r\n}, webix.ui.button);\r\n\r\nwebix.protoUI({\r\n\tname:\"select\",\r\n\tdefaults:{\r\n\t\ttemplate:function(obj,common) {\r\n\t\t\tvar options = common._check_options(obj.options);\r\n\t\t\tvar id = \"x\"+webix.uid();\r\n\t\t\tvar html = common._baseInputHTML(\"select\")+\"id='\"+id+\"' style='width:\"+common._get_input_width(obj)+\"px;'>\";\r\n\r\n\t\t\tvar optview = webix.$$(options);\r\n            if(optview && optview.data && optview.data.each){\r\n                optview.data.each(function(option){\r\n                    html+=\"<option\"+((option.id == obj.value)?\" selected='true'\":\"\")+\" value='\"+option.id+\"'>\"+option.value+\"</option>\";\r\n                });\r\n            }else\r\n                for(var i=0; i<options.length; i++) {\r\n                    html+=\"<option\"+((options[i].id == obj.value)?\" selected='true'\":\"\")+\" value='\"+options[i].id+\"'>\"+options[i].value+\"</option>\";\r\n                }\r\n\t\t\thtml += \"</select>\";\r\n\t\t\treturn common.$renderInput(obj, html, id);\r\n\t\t}\r\n\t},\r\n    options_setter:function(value){\r\n        if(value){\r\n            if(typeof value ==\"string\"){\r\n                var collection = new webix.DataCollection({url:value});\r\n                collection.data.attachEvent(\"onStoreLoad\", webix.bind(this.refresh, this));\r\n                return collection;\r\n            }\r\n            else\r\n                return value;\r\n        }\r\n    },\r\n\t//get input element\r\n\tgetInputNode: function() {\r\n\t\treturn this._dataobj.getElementsByTagName('select')[0];\r\n\t}\r\n}, webix.ui.text);\r\n\r\nwebix.protoUI({\r\n\tname:\"textarea\",\r\n\t$skin:function(){},\r\n\tdefaults:{\r\n\t\ttemplate:function(obj, common){ \r\n\t\t\tvar name = obj.name || obj.id;\r\n\t\t\tvar id = \"x\"+webix.uid();\r\n\r\n\t\t\tvar html = common._baseInputHTML(\"textarea\")+\"style='width:\"+common._get_input_width(obj)+\"px;'\";\r\n\t\t\thtml +=\" id='\"+id+\"' name='\"+name+\"' class='webix_inp_textarea'>\"+common._pattern(obj.value||\"\")+\"</textarea>\";\r\n\r\n\t\t\treturn common.$renderInput(obj, html, id);\r\n\t\t},\r\n\t\theight:0,\r\n\t\tminHeight:60\r\n\t},\r\n\t_skipSubmit: true,\r\n\t$renderLabel: function(config, id){\r\n\t\tvar labelAlign = (config.labelAlign||\"left\");\r\n\t\tvar top = this._settings.labelPosition == \"top\";\r\n\t\tvar labelTop =  top?\"display:block;\":(\"width: \" + this._settings.labelWidth + \"px;\");\r\n\t\tvar label = \"\";\r\n\t\tvar labelHeight = top?this._labelTopHeight-2:( (webix.skin.$active.inputHeight||this._settings.aheight) - 2*this._settings.inputPadding);\r\n\t\tif (config.label)\r\n\t\t\tlabel = \"<label style='\"+labelTop+\"text-align: \" + labelAlign + \";' onclick='' for='\"+id+\"' class='webix_inp_\"+(top?\"top_\":\"\")+\"label \"+(config.required?\"webix_required\":\"\")+\"'>\" + (config.label||\"\") + \"</label>\";\r\n\t\treturn label;\r\n\t},\r\n\t//get input element\r\n\tgetInputNode: function() {\r\n\t\treturn this._dataobj.getElementsByTagName('textarea')[0];\r\n\t}\r\n}, webix.ui.text);\r\n\r\nwebix.protoUI({\r\n\tname:\"counter\",\r\n\tdefaults:{\r\n\t\ttemplate:function(config, common){\r\n\t\t\tvar value = (config.value||0);\r\n\r\n\t\t\tvar id = \"x\"+webix.uid();\r\n\t\t\tvar html = \"<div role='spinbutton' aria-label='\"+config.label+\"' aria-valuemin='\"+config.min+\"' aria-valuemax='\"+config.max+\"' aria-valuenow='\"+config.value+\"' class='webix_el_group' style='width:\"+common._get_input_width(config)+\"px'>\";\r\n\t\t\t\thtml +=  \"<button type='button' class='webix_inp_counter_prev' tabindex='-1' aria-label='\"+webix.i18n.aria.decreaseValue+\"'>-</button>\";\r\n\t\t\t\thtml += common._baseInputHTML(\"input\")+\" id='\"+id+\"' type='text' class='webix_inp_counter_value' aria-live='assertive'\"+\" value='\"+value+\"'></input>\";\r\n\t\t\t\thtml += \"<button type='button' class='webix_inp_counter_next' tabindex='-1' aria-label='\"+webix.i18n.aria.increaseValue+\"'>+</button></div>\";\r\n\t\t\treturn common.$renderInput(config, html, id);\r\n\t\t},\r\n\t\tmin:0,\r\n\t\tmax:Infinity,\r\n\t\tstep:1\r\n\t},\r\n\t$init:function(){\r\n\t\twebix.event(this.$view, \"keydown\", this._keyshift, {bind:this});\r\n\t},\r\n\t_keyshift:function(e){\r\n\t\tvar code = e.which || e.keyCode, c = this._settings, value = c.value || c.min;\r\n\r\n\t\tif(code>32 && code <41){\r\n\t\t\tif(code === 35) value = c.min;\r\n\t\t\telse if(code === 36) value = c.max === Infinity? 1000000 :c.max;\r\n\t\t\telse if(code === 33) this.next();\r\n\t\t\telse if(code === 34) this.prev();\r\n\t\t\telse value = value+(code === 37 || code ===40?-1:1);\r\n\t\t\t\r\n\t\t\tif(code>34 && value>=c.min && value <=c.max)\r\n\t\t\t\tthis.setValue(value);\r\n\t\t}\r\n\t},\r\n\t$setValue:function(value){\r\n\t\tthis.getInputNode().value = value;\r\n\t},\r\n\tgetInputNode:function(){\r\n\t\treturn this._dataobj.getElementsByTagName(\"input\")[0];\r\n\t},\r\n\tgetValue:function(obj){\r\n\t\treturn  webix.ui.button.prototype.getValue.apply(this,arguments)*1;\r\n\t},\r\n\tnext:function(step){\r\n\t\tstep = this._settings.step;\r\n\t\tthis.shift(step);\r\n\t},\r\n\tprev:function(step){\r\n\t\tstep = (-1)*this._settings.step;\r\n\t\tthis.shift(step);\r\n\t},\r\n\tshift:function(step){\r\n\t\tvar min = this._settings.min;\r\n\t\tvar max = this._settings.max;\r\n\r\n\t\tvar new_value = this.getValue() + step;\r\n\t\tif (new_value >= min && new_value <= max)\r\n\t\t\tthis.setValue(new_value);\r\n\t}\r\n}, webix.ui.text);\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"checkbox\",\r\n\tdefaults:{\r\n\t\tcheckValue:1,\r\n\t\tuncheckValue:0,\r\n\t\ttemplate:function(config, common) {\r\n\t\t\tvar id = \"x\"+webix.uid();\r\n\t\t\tvar rightlabel = \"\";\r\n\t\t\tif (config.labelRight){\r\n\t\t\t\trightlabel = \"<label class='webix_label_right'>\"+config.labelRight+\"</label>\";\r\n\t\t\t\t//user clearly attempts to hide the label, help him\r\n\t\t\t\tif (config.labelWidth)\r\n\t\t\t\t\tconfig.label = config.label || \"&nbsp;\";\r\n\t\t\t}\r\n\t\t\tvar checked = (config.checkValue == config.value);\r\n\t\t\tvar margin = Math.floor((common._settings.aheight-16)/2);\r\n\t\t\tvar ch = common._baseInputHTML(\"input\")+\"style='margin-top:\"+margin+\"px;\"+(config.customCheckbox?\"display:none\":\"\")+\"' id='\"+id+\"' type='checkbox' \"+(checked?\"checked='1'\":\"\")+(config.labelRight?\" aria-label='\"+config.labelRight+\"'\":\"\")+\"/>\";\r\n\t\t\tvar className = \"webix_inp_checkbox_border webix_el_group webix_checkbox_\"+(checked?\"1\":\"0\");\r\n\t\t\tvar customCheckbox = config.customCheckbox || \"\";\r\n\t\t\tif(customCheckbox){\r\n\t\t\t\tcustomCheckbox = customCheckbox.replace(/(aria-checked=')\\w*(?=')/, \"$1\"+(config.value == config.checkValue?\"true\":\"false\"));\r\n\t\t\t\tcustomCheckbox = customCheckbox.replace(/(aria-label=')\\w*(?=')/, \"$1\"+(config.labelRight || config.label));\r\n\t\t\t\tcustomCheckbox = customCheckbox.replace(/(aria-invalid=')\\w*(?=')/, \"$1\"+(config.invalid?\"true\":\"false\"));\r\n\t\t\t}\r\n\t\t\tvar html = \"<div style='line-height:\"+common._settings.cheight+\"px' class='\"+className+\"'>\"+ch+customCheckbox+rightlabel+\"</div>\";\r\n\t\t\treturn common.$renderInput(config, html, id);\r\n\t\t}\r\n\t},\r\n\tcustomCheckbox_setter: function(value){\r\n\t\tif( value === true && webix.skin.$active.customCheckbox){\r\n\t\t\tvalue = \"<a role='presentation' onclick='javascript:void(0)'><button role='checkbox' aria-checked='false' aria-label='' type='button' aria-invalid='' class='webix_custom_checkbox'></button></a>\";\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\tfocus: function(){\r\n\t\tvar input = this.$view.getElementsByTagName(this._settings.customCheckbox?\"button\":\"input\")[0];\r\n\t\tif(input)\r\n\t\t\tinput.focus();\r\n\t},\r\n\tblur: function(){\r\n\t\tvar input = this.$view.getElementsByTagName(this._settings.customCheckbox?\"button\":\"input\")[0];\r\n\t\tif(input)\r\n\t\t\tinput.blur();\r\n\t},\r\n\t_init_onchange: function(){},\r\n\t$setValue:function(value){\r\n\t\tvar isChecked = (value == this._settings.checkValue);\r\n\t\tvar parentNode = this.getInputNode()?this.getInputNode().parentNode:null;\r\n\r\n\t\tif(parentNode && this._settings.customCheckbox){\r\n\t\t\tvar button = parentNode.getElementsByTagName(\"BUTTON\");\r\n\t\t\tif(button[0]) button[0].setAttribute(\"aria-checked\", isChecked?\"true\":\"false\");\r\n\t\t}\r\n\t\tif(parentNode){\r\n\t\t\tparentNode.className = parentNode.className.replace(/(webix_checkbox_)\\d/,\"$1\"+(isChecked?1:0));\r\n\t\t}\r\n\t\tthis.getInputNode().checked = isChecked;\r\n\t},\r\n\ttoggle:function(){\r\n\t\tvar value = (this.getValue() != this._settings.checkValue)?this._settings.checkValue:this._settings.uncheckValue;\r\n\t\tthis.setValue(value);\r\n\t},\r\n\tgetValue:function(){\r\n\t\tvar value = this._settings.value;\r\n\t\treturn  (value == this._settings.checkValue)?this._settings.checkValue:this._settings.uncheckValue;\r\n\t},\r\n\t$skin:function(){\r\n\t\tif(webix.skin.$active.customCheckbox)\r\n\t\t\tthis.defaults.customCheckbox = true;\r\n\t}\r\n}, webix.ui.text);\r\n\r\nwebix.protoUI({\r\n\tname:\"radio\",\r\n\tdefaults:{\r\n\t\ttemplate: function(config,common) {\r\n\t\t\tvar options = common._check_options(config.options);\r\n\t\t\tvar html = [];\r\n\t\t\tvar id;\r\n\r\n\t\t\tfor (var i=0; i < options.length; i++) {\r\n\t\t\t\tvar eachid = \"x\"+webix.uid();\r\n\t\t\t\tid = id || eachid;\r\n\r\n\t\t\t\tif  (i && (options[i].newline || config.vertical))\r\n\t\t\t\t\thtml.push(\"<div class='webix_line_break'></div>\");\r\n\t\t\t\tvar isChecked = (options[i].id == config.value);\r\n\t\t\t\tvar label = options[i].value || \"\";\r\n\t\t\t\t\r\n\t\t\t\tvar customRadio = config.customRadio|| \"\";\r\n\t\t\t\tif(customRadio){\r\n\t\t\t\t\tvar optlabel = (i === 0 ? config.label+\" \" : \"\")+label;\r\n\t\t\t\t\tcustomRadio = customRadio.replace(/(aria-label=')\\w*(?=')/, \"$1\"+optlabel);\r\n\t\t\t\t\tcustomRadio = customRadio.replace(/(aria-checked=')\\w*(?=')/, \"$1\"+(isChecked?\"true\":\"false\"));\r\n\t\t\t\t\tcustomRadio = customRadio.replace(/(tabindex=')\\w*(?=')/, \"$1\"+(isChecked || (i === 0 && !config.value)?\"0\":\"-1\"));\r\n\t\t\t\t\tcustomRadio = customRadio.replace(/(aria-invalid=')\\w*(?=')/, \"$1\"+(config.invalid?\"true\":\"false\"));\r\n\t\t\t\t}\r\n\t\t\t\tvar rd = common._baseInputHTML(\"input\")+\" name='\"+config.name+\"' type='radio' \"+(isChecked?\"checked='1'\":\"\")+\"tabindex=\"+(isChecked || (i === 0 && !config.value)?\"0\":\"-1\")+\" value='\"+options[i].id+\"' id='\"+eachid+\"' style='\"+(customRadio?\"display:none\":\"\")+\"' />\";\r\n\t\t\t\tvar input = \"<div radio_id='\"+options[i].id+\"' class='webix_inp_radio_border webix_radio_\"+(isChecked?\"1\":\"0\")+\"' role='presentation'>\"+rd+customRadio+\"</div>\";\r\n\t\t\t\tif (label)\r\n\t\t\t\t\tlabel = \"<label for='\"+eachid+\"' class='webix_label_right'>\" + label + \"</label>\";\r\n\r\n\t\t\t\thtml.push(\"<div class='webix_radio_option' role='presentation'>\"+input + label+\"</div>\");\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\thtml = \"<div class='webix_el_group' role='radiogroup' style='margin-left:\"+(config.label?config.labelWidth:0)+\"px;'>\"+html.join(\"\")+\"</div>\";\r\n\t\t\t\r\n\t\t\treturn common.$renderInput(config, html, id);\r\n\t\t}\r\n\t},\r\n\trefresh:function(){\r\n\t\tthis.render();\r\n\t\tif (this._last_size && this.$getSize(0,0)[2] != this._last_size[1])\r\n\t\t\tthis.resize();\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tvar size = webix.ui.button.prototype.$getSize.call(this, dx, dy);\r\n\t\tif (this._settings.options){\r\n\t\t\tvar count = 0;\r\n\t\t\tfor (var i=0; i < this._settings.options.length; i++)\r\n\t\t\t\tif (this._settings.vertical || this._settings.options[i].newline)\r\n\t\t\t\t\tcount++;\r\n\t\t\tsize[3] = size[2] = Math.max(size[2], (this._settings.optionHeight||25) * count+this._settings.inputPadding*2);\r\n\t\t}\r\n\t\tvar heightInc = this.config.bottomPadding;\r\n\t\tif(heightInc){\r\n\t\t\tsize[2] += heightInc;\r\n\t\t\tsize[3] += heightInc;\r\n\t\t}\r\n\t\treturn size;\r\n\t},\r\n\t_getInputNode: function(){\r\n\t\treturn this._dataobj.getElementsByTagName('input');\r\n\t},\r\n\t$setValue:function(value){\r\n\t\tvar inp = this._getInputNode();\r\n\r\n\t\tfor (var i=0; i < inp.length; i++){\r\n\t\t\tif (inp[i].parentNode.getAttribute(\"radio_id\")==value){\r\n\t\t\t\tinp[i].className = \"webix_inp_radio_on\";\t\r\n\t\t\t\tinp[i].checked = true;\r\n\t\t\t\tinp[i].setAttribute(\"tabindex\",\"0\");\r\n\t\t\t} else{\r\n\t\t\t\tinp[i].className = \"webix_inp_radio_on webix_hidden\";\r\n\t\t\t\tinp[i].checked = false;\r\n\t\t\t\tinp[i].setAttribute(\"tabindex\",\"-1\");\r\n\t\t\t}\r\n\t\t\tvar parentNode = inp[i]?inp[i].parentNode:null;\r\n\r\n\t\t\tif(parentNode){\r\n\t\t\t\tparentNode.className = parentNode.className.replace(/(webix_radio_)\\d/,\"$1\"+(inp[i].checked?1:0));\r\n\t\t\t\tif(this._settings.customRadio){\r\n\t\t\t\t\tvar button = parentNode.getElementsByTagName(\"BUTTON\");\r\n\t\t\t\t\tif(button[0]){\r\n\t\t\t\t\t\tbutton[0].setAttribute(\"aria-checked\", inp[i].checked?\"true\":\"false\");\r\n\t\t\t\t\t\tbutton[0].setAttribute(\"tabindex\", inp[i].checked?\"0\":\"-1\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tgetValue:function(obj){\r\n\t\treturn this._settings.value;\r\n\t},\r\n\tfocus: function(){ this._focus(); },\r\n\tblur: function(){ this._blur(); },\r\n\tcustomRadio_setter: function(value){\r\n\t\tif(value === true && webix.skin.$active.customRadio)\r\n\t\t\tvalue = \"<a role='presentation' onclick='javascript:void(0)'><button type='button' class='webix_custom_radio' role='radio' aria-checked='false' aria-label='' aria-invalid='' tabindex=''></button></a>\";\r\n\t\treturn value;\r\n\t},\r\n\t$skin:function(){\r\n\t\tif(webix.skin.$active.customRadio)\r\n\t\t\tthis.defaults.customRadio = true;\r\n\t\tif(webix.skin.$active.optionHeight)\r\n\t\t\tthis.defaults.optionHeight = webix.skin.$active.optionHeight;\r\n\t}\r\n}, webix.HTMLOptions, webix.ui.text);\r\n\r\nwebix.protoUI({\r\n\tname:\"richselect\",\r\n\tdefaults:{\r\n\t\ttemplate:function(obj,common){\r\n\t\t\treturn common._render_div_block(obj, common);\r\n\t\t},\r\n\t\tpopupWidth:200,\r\n\t\ticon: \"angle-down\"\r\n\t},\r\n\tsuggest_setter:function(value){\r\n\t\treturn this.options_setter(value);\r\n\t},\r\n\toptions_setter:function(value){\r\n\t\tvalue = this._suggest_config ? this._suggest_config(value) : value;\r\n\t\tvar suggest = (this._settings.popup = this._settings.suggest = webix.ui.text.prototype.suggest_setter.call(this, value));\r\n\t\tvar list = webix.$$(suggest).getList();\r\n\t\tif (list)\r\n\t\t\tlist.attachEvent(\"onAfterLoad\", webix.bind(this._reset_value, this));\r\n\r\n\t\treturn suggest;\r\n\t},\r\n\tgetList: function(){\r\n\t\tvar suggest = webix.$$(this._settings.suggest);\r\n\t\twebix.assert(suggest, \"Input doesn't have a list\");\r\n\t\treturn suggest.getList();\r\n\t},\r\n\t_reset_value:function(){\r\n\t\tvar value = this._settings.value;\r\n\t\tif(!webix.isUndefined(value) && !this.getPopup().isVisible() && !this._settings.text)\r\n\t\t\tthis.$setValue(value);\r\n\t},\r\n\r\n\t$skin:function(){\r\n\t\tthis.defaults.inputPadding = webix.skin.$active.inputPadding;\r\n\t},\r\n\r\n\t$render:function(obj){\r\n\t\tif (webix.isUndefined(obj.value)) return;\r\n\t\tthis.$setValue(obj.value);\r\n\t},\r\n\tgetInputNode: function(){\r\n\t\treturn this._dataobj.getElementsByTagName(\"DIV\")[1];\r\n\t},\r\n\tgetPopup: function(){\r\n\t \treturn webix.$$(this._settings.popup);\r\n\t},\r\n\tgetText:function(){\r\n\t\tvar node = this.getInputNode();\r\n\t\treturn typeof node.value == \"undefined\" ? (this.getValue()?node.innerHTML:\"\") : node.value;\r\n\t},\r\n\t$setValue:function(value){\r\n\t\tif (!this._rendered_input) return;\r\n\r\n\t\tvar text = value;\r\n\t\tvar popup = this.getPopup();\r\n\r\n\t\tif (popup)\r\n\t\t\tvar text = this.getPopup().getItemText(value);\r\n\r\n\t\tif (!text && value && value.id){\r\n\t\t\tthis.getPopup().getList().add(value);\r\n\t\t\ttext = this.getPopup().getItemText(value.id);\r\n\t\t\tthis._settings.value = value.id;\r\n\t\t}\r\n\r\n\t\tvar node = this.getInputNode();\r\n\t\t\r\n\t\tif (webix.isUndefined(node.value))\r\n\t\t\tnode.innerHTML = text || this._get_div_placeholder();\r\n\t\telse \r\n\t\t\tnode.value = text = text.replace(/<[^>]*>/g,\"\");\r\n\r\n\t\tthis._settings.text = text;\r\n\t},\r\n\tgetValue:function(){\r\n\t\treturn this._settings.value||\"\";\r\n\t}\r\n}, webix.ui.text);\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"combo\",\r\n\t$init:function(){\r\n\t\tthis.attachEvent(\"onBlur\", webix.bind(function(e){\r\n\t\t\tif (this._settings.text == this.getText())\r\n\t\t\t\treturn;\r\n\r\n\t\t\tvar suggest =  this.getPopup(),\r\n\t\t\t\tvalue = suggest.getSuggestion();\r\n\r\n\t\t\tif (value && !(this.getInputNode().value===\"\" && suggest.getItemText(value)!==\"\")){\r\n\t\t\t\tthis.setValue(value);\r\n\t\t\t} else if(!this._settings.editable){\r\n\t\t\t\tvalue = this.getValue();\r\n\t\t\t\tthis.$setValue(webix.isUndefined(value)?\"\":value);\r\n\t\t\t}\r\n\r\n\t\t},this));\r\n\t},\r\n\tgetInputNode:function(){\r\n\t\treturn this._dataobj.getElementsByTagName('input')[0];\r\n\t},\r\n\t$render:function(obj){\r\n\t\tif (webix.isUndefined(obj.value)) return;\r\n\t\tthis.$setValue(obj.value);\r\n\t},\r\n\t_applyChanges:function(){\r\n\t\tvar input = this.getInputNode(),\r\n\t\t\tvalue = \"\",\r\n\t\t\tsuggest =  this.getPopup();\r\n\r\n\t\tif (input.value){\r\n\t\t\tvalue = this._settings.value;\r\n\t\t\tif(suggest.getItemText(value) != this.getText())\r\n\t\t\t\tvalue = suggest.getSuggestion()||value;\r\n\t\t}\r\n\t\tif (value != this._settings.value)\r\n\t\t\tthis.setValue(value, true);\r\n\t\telse\r\n\t\t\tthis.$setValue(value);\r\n\t},\r\n\tdefaults:{\r\n\t\ttemplate:function(config, common){\r\n\t\t\treturn common.$renderInput(config).replace(/(<input)\\s*(?=\\w)/, \"$1\"+\" role='combobox'\");\r\n\t\t},\r\n\t\ticon: \"angle-down\"\r\n\t}\r\n}, webix.ui.richselect);\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"datepicker\",\r\n\t$init:function(){\r\n\t\tthis.$ready.push(this._init_popup);\r\n\t},\r\n\tdefaults:{\r\n\t\ttemplate:function(obj, common){\r\n\t\t\tif(common._settings.type == \"time\"){\r\n\t\t\t\tcommon._settings.icon = common._settings.timeIcon;\r\n\t\t\t}\r\n\t\t\t//temporary remove obj.type [[DIRTY]]\r\n\t\t\tvar t = obj.type; obj.type = \"\";\r\n\t\t\tvar res = obj.editable?common.$renderInput(obj):common._render_div_block(obj, common);\r\n\t\t\tobj.type = t;\r\n\t\t\treturn res;\r\n\t\t},\r\n\t\tstringResult:false,\r\n\t\ttimepicker:false,\r\n\t\ticon:\"calendar\",\r\n\t\ticons: true,\r\n\t\ttimeIcon: \"clock-o\"\r\n\t},\r\n\t$skin:function(){\r\n\t\tthis.defaults.inputPadding = webix.skin.$active.inputPadding;\r\n\t},\r\n\tgetPopup: function(){\r\n\t \treturn webix.$$(this._settings.popup);\r\n\t},\r\n\t_init_popup:function(){ \r\n\t\tvar obj = this._settings;\r\n\t\tif (obj.suggest)\r\n\t\t\tobj.popup = obj.suggest;\r\n\t\telse if (!obj.popup){\r\n\t\t\tvar timepicker = this._settings.timepicker;\r\n\t\t\tobj.popup = obj.suggest = this.suggest_setter({\r\n\t\t\t\ttype:\"calendar\", height:240+(timepicker?30:0), width:250, padding:0,\r\n\t\t\t\tbody: { timepicker:timepicker, type: this._settings.type, icons: this._settings.icons }\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\tthis._init_once = function(){};\t\r\n\t},\r\n\t$render:function(obj){\r\n\t\tif (webix.isUndefined(obj.value)) return;\r\n\t\tthis.$setValue(obj.value);\r\n\t},\t\r\n\t_parse_value:function(value){\r\n\t\tvar type = this._settings.type;\r\n\t\tvar timeMode = type == \"time\";\r\n\r\n\t\t//setValue(\"1980-12-25\")\r\n\t\tif(!isNaN(parseFloat(value)))\r\n\t\t\tvalue = \"\"+value;\r\n\r\n\t\tif (typeof value==\"string\" && value){\r\n\t\t\tvar formatDate = null;\r\n\t\t\tif((type == \"month\" || type == \"year\") && this._formatDate){\r\n\t\t\t\tformatDate = this._formatDate;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tformatDate = (timeMode?webix.i18n.parseTimeFormatDate:webix.i18n.parseFormatDate);\r\n\t\t\tvalue = formatDate(value);\r\n\t\t}\r\n\r\n\t\tif (value){\r\n\t\t\t//time mode\r\n\t\t\tif(timeMode){\r\n\t\t\t\t//setValue([16,24])\r\n\t\t\t\tif(webix.isArray(value)){\r\n\t\t\t\t\tvar time = new Date();\r\n\t\t\t\t\ttime.setHours(value[0]);\r\n\t\t\t\t\ttime.setMinutes(value[1]);\r\n\t\t\t\t\tvalue = time;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//setValue(invalid date)\r\n\r\n\r\n\r\n\t\t\tif(isNaN(value.getTime()))\r\n\t\t\t\tvalue = \"\";\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t},\r\n\t_get_visible_date:function(value){\r\n\t\tvar timeMode = this._settings.type == \"time\";\r\n\t\tvar timepicker = this.config.timepicker;\r\n\t\tvar formatStr = this._formatStr||(timeMode?webix.i18n.timeFormatStr:(timepicker?webix.i18n.fullDateFormatStr:webix.i18n.dateFormatStr));\r\n\t\treturn formatStr(value);\r\n\t},\r\n\t_set_visible_text:function(){\r\n\t\tvar node = this.getInputNode();\r\n\t\tif(node.value == webix.undefined){\r\n\t\t\tnode.innerHTML = this._settings.text || this._get_div_placeholder();\r\n\t\t}\r\n\t\telse{\r\n\t\t\tnode.value = this._settings.text || \"\";\r\n\t\t}\r\n\t},\r\n\t$setValue:function(value){\r\n\t\tvar popup =  webix.$$(this._settings.popup.toString());\r\n\t\tvar calendar = popup._body_cell;\r\n\r\n\t\t//convert string or array to date\r\n\t\tvalue = this._parse_value(value);\r\n\t\t//select date in calendar-popup\r\n\t\tcalendar.selectDate(value,true);\r\n\r\n\t\t//save value\r\n\t\tthis._settings.value = (value)?calendar.config.date:\"\";\r\n\r\n\t\t//set visible date\r\n\t\tthis._settings.text = (value?this._get_visible_date(this._settings.value):\"\");\r\n\t\tthis._set_visible_text();\r\n\t},\r\n\tformat_setter:function(value){\r\n\t\tif(value){\r\n\t\t\tif (typeof value === \"function\")\r\n\t\t\t\tthis._formatStr = value;\r\n\t\t\telse {\r\n\t\t\t\tthis._formatStr = webix.Date.dateToStr(value);\r\n\t\t\t\tthis._formatDate = webix.Date.strToDate(value);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis._formatStr = this._formatDate = null;\r\n\t\treturn value;\r\n\t},\r\n\tgetInputNode: function(){\r\n\t\treturn this._settings.editable?this._dataobj.getElementsByTagName('input')[0]:this._dataobj.getElementsByTagName(\"DIV\")[1];\r\n\t},\r\n\tgetValue:function(){\r\n\t\tvar type = this._settings.type;\r\n\t\t//time mode\r\n\t\tvar timeMode = (type == \"time\");\r\n\t\t//date and time mode\r\n\t\tvar timepicker = this.config.timepicker;\r\n\r\n\t\tvar value = this._settings.value;\r\n\r\n\t\t//input was not rendered, we need to parse value from setValue method\r\n\t\tif (!this._rendered_input)\r\n\t\t\tvalue = this._parse_value(value) || null;\r\n\t\t//rendere and in edit mode\r\n\t\telse if (this._settings.editable){\r\n\t\t\tvar formatDate = this._formatDate||(timeMode?webix.i18n.timeFormatDate:(timepicker?webix.i18n.fullDateFormatDate:webix.i18n.dateFormatDate));\r\n\t\t\tvalue = formatDate(this.getInputNode().value);\r\n\t\t}\r\n\r\n\t\t//return string from getValue\r\n\t\tif(this._settings.stringResult){\r\n\t\t\tvar formatStr =webix.i18n.parseFormatStr;\r\n\t\t\tif(timeMode)\r\n\t\t\t\tformatStr = webix.i18n.parseTimeFormatStr;\r\n\t\t\tif(this._formatStr && (type == \"month\" || type == \"year\")){\r\n\t\t\t\tformatStr = this._formatStr;\r\n\t\t\t}\r\n\r\n\t\t\treturn (value?formatStr(value):\"\");\r\n\t\t}\r\n\t\t\r\n\t\treturn value||null;\r\n\t},\r\n\tgetText:function(){\r\n\t\tvar node = this.getInputNode();\r\n\t\treturn (node?(typeof node.value == \"undefined\" ? (this.getValue()?node.innerHTML:\"\") : node.value):\"\");\r\n\t}\r\n}, webix.ui.text);\r\n\r\nwebix.protoUI({\r\n\tname:\"colorpicker\",\r\n\t$init:function(){\r\n\t\tthis.$ready.push(this._init_popup);\r\n\t},\r\n\tdefaults:{\r\n\t\ticon:true\r\n\t},\r\n\t_init_popup:function(){ \r\n\t\tvar obj = this._settings;\r\n\t\tif (obj.suggest)\r\n\t\t\tobj.popup = obj.suggest;\r\n\t\telse if (!obj.popup)\r\n\t\t\tobj.popup = obj.suggest = this.suggest_setter({\r\n\t\t\t\ttype:\"colorboard\", height:200\r\n\t\t\t});\r\n\t\tthis._init_once = function(){};\t\r\n\t},\t\r\n\t$render:function(obj){\r\n\t\tif (webix.isUndefined(obj.value)) return;\r\n\t\tthis.$setValue(obj.value);\r\n\t},\r\n\tgetValue:function(){\r\n\t\tif (this._rendered_input && this._settings.editable)\r\n\t\t\treturn this.getInputNode().value;\r\n\t\telse \r\n\t\t\treturn this._settings.value;\r\n\t},\r\n\t_getColorNode: function(){\r\n\t\treturn this.$view.getElementsByTagName(\"DIV\")[this._settings.editable?1:2];\r\n\t},\r\n\t$setValue:function(value){\r\n\t\tvar popup =  webix.$$(this.config.popup.toString());\r\n\t\tvar colorboard = popup.getBody();\r\n\t\tcolorboard.setValue(value);\r\n\t\tthis.config.value = value;\r\n\t\tthis._getColorNode().style.backgroundColor = value;\r\n\t\tvar node = this.getInputNode();\r\n\t\tif(node.value == webix.undefined)\r\n\t\t\tnode.innerHTML = value;\r\n\t\telse\r\n\t\t\tnode.value = value;\r\n\t},\r\n\t$renderIcon:function(){\r\n\t\tvar config = this.config;\r\n\t\treturn '<div class=\"webix_input_icon\" style=\"background-color:'+config.value+';\"> </div>';\r\n\t}\r\n}, webix.ui.datepicker);\r\n\r\n\r\n/*\r\n\tRenders collection of items\r\n\tBehavior uses plain strategy which suits only for relative small datasets\r\n\t\r\n*/\r\n\r\n\r\nwebix.RenderStack={\r\n\t$init:function(){\r\n\t\twebix.assert(this.data,\"RenderStack :: Component doesn't have DataStore\");\r\n        webix.assert(webix.template,\"webix.template :: webix.template is not accessible\");\r\n\r\n\t\t//used for temporary HTML elements\r\n\t\t//automatically nulified during destruction\r\n\t\tthis._html = document.createElement(\"DIV\");\r\n\t\t\t\t\r\n\t\tthis.data.attachEvent(\"onIdChange\", webix.bind(this._render_change_id, this));\r\n\t\tthis.attachEvent(\"onItemClick\", this._call_onclick);\r\n\t\t\r\n\t\t//create copy of default type, and set it as active one\r\n\t\tif (!this.types){ \r\n\t\t\tthis.types = { \"default\" : this.type };\r\n\t\t\tthis.type.name = \"default\";\r\n\t\t}\r\n\r\n\t\tthis.type = webix.clone(this.type);\r\n\t},\r\n\t\r\n\tcustomize:function(obj){ \r\n\t\twebix.type(this,obj);\r\n\t},\r\n\ttype_setter:function(value){\r\n\t\tif(!this.types[value])\r\n\t\t\tthis.customize(value);\r\n\t\telse {\r\n\t\t\tthis.type = webix.clone(this.types[value]);\r\n\t\t\tif (this.type.css) \r\n\t\t\t\tthis._contentobj.className+=\" \"+this.type.css;\r\n\t\t}\r\n\t\tif (this.type.on_click)\r\n\t\t\twebix.extend(this.on_click, this.type.on_click);\r\n\r\n\t\treturn value;\r\n\t},\r\n\t\r\n\ttemplate_setter:function(value){\r\n\t\tthis.type.template=webix.template(value);\r\n\t},\r\n\t//convert single item to HTML text (templating)\r\n\t_toHTML:function(obj){\r\n\t\t\tvar mark = this.data._marks[obj.id];\r\n\t\t\t//check if related template exist\r\n\t\t\twebix.assert((!obj.$template || this.type[\"template\"+obj.$template]),\"RenderStack :: Unknown template: \"+obj.$template);\r\n\t\t\tthis.callEvent(\"onItemRender\",[obj]);\r\n\t\t\treturn this.type.templateStart(obj,this.type, mark)+(obj.$template?this.type[\"template\"+obj.$template]:this.type.template)(obj,this.type,mark)+this.type.templateEnd(obj, this.type,mark);\r\n\t},\r\n\t//convert item to HTML object (templating)\r\n\t_toHTMLObject:function(obj){\r\n\t\tthis._html.innerHTML = this._toHTML(obj);\r\n\t\treturn this._html.firstChild;\r\n\t},\r\n\t_render_change_id:function(old, newid){\r\n\t\tvar obj = this.getItemNode(old);\r\n\t\tif (obj) {\r\n\t\t\tobj.setAttribute(this._id, newid);\r\n\t\t\tthis._htmlmap[newid] = this._htmlmap[old];\r\n\t\t\tdelete this._htmlmap[old];\r\n\t\t}\r\n\t},\r\n\t//calls function that is set in onclick property\r\n\t_call_onclick:function(){\r\n\t\tif (this._settings.click){\r\n\t\t\tvar code = webix.toFunctor(this._settings.click, this.$scope);\r\n\t\t\tif (code && code.call) code.apply(this,arguments);\r\n\t\t}\r\n\t},\r\n\t//return html container by its ID\r\n\t//can return undefined if container doesn't exists\r\n\tgetItemNode:function(search_id){\r\n\t\tif (this._htmlmap)\r\n\t\t\treturn this._htmlmap[search_id];\r\n\t\t\t\r\n\t\t//fill map if it doesn't created yet\r\n\t\tthis._htmlmap={};\r\n\t\t\r\n\t\tvar t = this._dataobj.childNodes;\r\n\t\tfor (var i=0; i < t.length; i++){\r\n\t\t\tvar id = t[i].getAttribute(this._id); //get item's\r\n\t\t\tif (id)\r\n\t\t\t\tthis._htmlmap[id]=t[i];\r\n\t\t}\r\n\t\t//call locator again, when map is filled\r\n\t\treturn this.getItemNode(search_id);\r\n\t},\r\n\t//return id of item from html event\r\n\tlocate:function(e){ return webix.html.locate(e,this._id); },\r\n\t/*change scrolling state of top level container, so related item will be in visible part*/\r\n\tshowItem:function(id){\r\n\r\n\t\tvar html = this.getItemNode(id);\r\n\t\tif (html&&this.scrollTo){\r\n\t\t\tvar txmin = Math.abs(this._contentobj.offsetLeft-html.offsetLeft);\r\n\t\t\tvar txmax = txmin + html.offsetWidth;\r\n\t\t\tvar tymin = Math.abs(this._contentobj.offsetTop-html.offsetTop);\r\n\t\t\tvar tymax = tymin + html.offsetHeight;\r\n\t\t\tvar state = this.getScrollState();\r\n\r\n\t\t\tvar x = state.x;\r\n\t\t\tif (x > txmin || x + this._content_width < txmax )\r\n\t\t\t\tx = txmin;\r\n\t\t\tvar y = state.y;\r\n\t\t\tif (y > tymin || y + this._content_height < tymax )\r\n\t\t\t\ty = tymin - 5;\r\n\r\n\t\t\tthis.scrollTo(x,y);\r\n\t\t\tif(this._setItemActive)\r\n\t\t\t\tthis._setItemActive(id);\r\n\t\t}\r\n\t},\r\n\t//update view after data update\r\n\t//method calls low-level rendering for related items\r\n\t//when called without parameters - all view refreshed\r\n\trender:function(id,data,type){\r\n\t\tif (!this.isVisible(this._settings.id) || this.$blockRender)\r\n\t\t\treturn;\r\n\t\t\r\n\t\tif (webix.debug_render)\r\n\t\t\twebix.log(\"Render: \"+this.name+\"@\"+this._settings.id+\", mode:\"+(type||\"#\")+\", item:\"+(id||\"#\"));\r\n\t\t\t\r\n\t\tif (id){\r\n\t\t\tvar cont = this.getItemNode(id); //get html element of updated item\r\n\t\t\tswitch(type){\r\n\t\t\t\tcase \"paint\":\r\n\t\t\t\tcase \"update\":\r\n\t\t\t\t\t//in case of update - replace existing html with updated one\r\n\t\t\t\t\tif (!cont) return;\r\n\t\t\t\t\tvar t = this._htmlmap[id] = this._toHTMLObject(data);\r\n\t\t\t\t\twebix.html.insertBefore(t, cont); \r\n\t\t\t\t\twebix.html.remove(cont);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"delete\":\r\n\t\t\t\t\t//in case of delete - remove related html\r\n\t\t\t\t\tif (!cont) return;\r\n\t\t\t\t\twebix.html.remove(cont);\r\n\t\t\t\t\tdelete this._htmlmap[id];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"add\":\r\n\t\t\t\t\t//in case of add - put new html at necessary position\r\n\t\t\t\t\tvar t = this._htmlmap[id] = this._toHTMLObject(data);\r\n\t\t\t\t\twebix.html.insertBefore(t, this.getItemNode(this.data.getNextId(id)), this._dataobj);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"move\":\r\n\t\t\t\t\t//moving without repainting the item\r\n\t\t\t\t\twebix.html.insertBefore(this.getItemNode(id), this.getItemNode(this.data.getNextId(id)), this._dataobj);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\twebix.assert_error(\"Unknown render command: \"+type);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t//full reset\r\n\t\t\tif (this.callEvent(\"onBeforeRender\",[this.data])){\r\n\t\t\t\t/*if (this.getScrollState)\r\n\t\t\t\t\tvar scroll = this.getScrollState();*/\r\n\t\t\t\t\t\r\n\t\t\t\t//getRange - returns all elements\r\n\t\t\t\t(this._renderobj||this._dataobj).innerHTML = this.data.getRange().map(this._toHTML,this).join(\"\");\r\n\t\t\t\tthis._htmlmap = null; //clear map, it will be filled at first getItemNode\r\n\t\t\t\tthis.callEvent(\"onAfterRender\",[]);\r\n                var t = this._dataobj.offsetHeight;\r\n                \r\n\t\t\t\t/*if (this.getScrollState)\r\n\t\t\t\t\tthis.scrollTo(scroll.x, scroll.y);*/\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.ValidateData = {\r\n\t$init:function(){\r\n\t\tif(this._events)\r\n\t\t\tthis.attachEvent(\"onChange\",this.clearValidation);\r\n\t},\r\n\tclearValidation:function(){\r\n\t\tif(this.elements){\r\n\t\t\tfor(var id in this.elements){\r\n\t\t\t\tthis._clear_invalid(id);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tvalidate:function(mode, obj) {\r\n\t\twebix.assert(this.callEvent, \"using validate for eventless object\");\r\n\t\t\r\n\t\tthis.callEvent(\"onBeforeValidate\", []);\r\n\t\tvar failed = this._validate_details = {};\r\n\r\n\t\t//optimistic by default :) \r\n\t\tvar result =true;\r\n\t\tvar rules = this._settings.rules;\r\n\t\t\r\n\t\tvar isHidden = this.isVisible && !this.isVisible();\r\n\t\tvar validateHidden = mode && mode.hidden;\r\n\t\tvar validateDisabled = mode && mode.disabled;\r\n\r\n        //prevent validation of hidden elements\r\n\t\tvar elements = {}, hidden = {};\r\n        for(var i in this.elements){\r\n            var name = this.elements[i].config.name;\r\n            //we are ignoring hidden and disabled fields during validation\r\n            //if mode doesn not instruct us otherwise\r\n            //if form itself is hidden, we can't separate hidden fiels,\r\n            //so we will vaidate all fields\r\n            if((isHidden || this.elements[i].isVisible() || validateHidden) && (this.elements[i].isEnabled() || validateDisabled))\r\n\t\t\t\telements[name] = this.elements[i];\r\n            else{\r\n\t\t\t\thidden[name]=true;\r\n            }\r\n        }\r\n\r\n\r\n\t\tif (rules || elements)\r\n\t\t\tif(!obj && this.getValues)\r\n\t\t\t\tobj = this.getValues();\r\n\r\n\t\tif (rules){\r\n\t\t\t//complex rule, which may chcek all properties of object\r\n\t\t\tif (rules.$obj)\r\n\t\t\t\tresult = this._validate(rules.$obj, obj, obj, \"\") && result;\r\n\t\t\t\r\n\t\t\t//all - applied to all fields\r\n\t\t\tvar all = rules.$all;\r\n\t\t\tif (all)\r\n\t\t\t\tfor (var key in obj){\r\n                    if(hidden[key]) continue;\r\n\t\t\t\t\tvar subresult = this._validate(all, obj[key], obj, key);\r\n\t\t\t\t\tif (!subresult)\r\n\t\t\t\t\t\tfailed[key] = true;\r\n\t\t\t\t\tresult =  subresult && result;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t//per-field rules\r\n\t\t\tfor (var key in rules){\r\n                if(hidden[key]) continue;\r\n\t\t\t\tif (key.indexOf(\"$\")!==0 && !failed[key]){\r\n\t\t\t\t\twebix.assert(rules[key], \"Invalid rule for:\"+key);\r\n\t\t\t\t\tvar subresult = this._validate(rules[key], obj[key], obj, key);\r\n\t\t\t\t\tif (!subresult)\r\n\t\t\t\t\t\tfailed[key] = true;\r\n\t\t\t\t\tresult = subresult && result;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//check personal validation rules\r\n\t\tif (elements){\r\n\t\t\tfor (var key in elements){\r\n\t\t\t\tif (failed[key]) continue;\r\n\r\n\t\t\t\tvar subview = elements[key];\r\n\t\t\t\tif (subview.validate){\r\n\t\t\t\t\tvar subresult = subview.validate();\r\n\t\t\t\t\tresult = subresult && result;\r\n\t\t\t\t\tif (!subresult)\r\n\t\t\t\t\t\tfailed[key] = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar input = subview._settings;\r\n\t\t\t\t\tif (input){\t//ignore non webix inputs\r\n\t\t\t\t\t\tvar validator = input.validate;\r\n\t\t\t\t\t\tif (!validator && input.required)\r\n\t\t\t\t\t\t\tvalidator = webix.rules.isNotEmpty;\r\n\r\n\t\t\t\t\t\tif (validator){\r\n\t\t\t\t\t\t\tvar subresult = this._validate(validator, obj[key], obj, key);\r\n\t\t\t\t\t\t\tif (!subresult)\r\n\t\t\t\t\t\t\t\tfailed[key] = true;\r\n\t\t\t\t\t\t\tresult = subresult && result;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tthis.callEvent(\"onAfterValidation\", [result, this._validate_details]);\r\n\t\treturn result;\r\n\t},\r\n\t_validate:function(rule, data, obj, key){\r\n\t\tif (typeof rule == \"string\")\r\n\t\t\trule = webix.rules[rule];\r\n\t\tif (rule.call(this, data, obj, key)){\r\n\t\t\tif(this.callEvent(\"onValidationSuccess\",[key, obj]) && this._clear_invalid)\r\n\t\t\t\tthis._clear_invalid(key);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif(this.callEvent(\"onValidationError\",[key, obj]) && this._mark_invalid)\r\n\t\t\t\tthis._mark_invalid(key);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\n\r\nwebix.ValidateCollection = {\r\n\t_validate_init_once:function(){\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\",webix.bind(function(id, data, mode){\r\n\t\t\tif (id && (mode == \"add\" || mode == \"update\"))\r\n\t\t\t\tthis.validate(id);\r\n\t\t}, this));\r\n\t\tthis.data.attachEvent(\"onClearAll\",webix.bind(this.clearValidation, this));\r\n\r\n\t\tthis._validate_init_once = function(){};\r\n\t},\r\n\trules_setter:function(value){\r\n\t\tif (value){\r\n\t\t\tthis._validate_init_once();\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\tclearValidation:function(){\r\n\t\tthis.data.clearMark(\"webix_invalid\", true);\r\n\t},\r\n\tvalidate:function(id){\r\n\t\tvar result = true;\r\n\t\tif (!id)\r\n\t\t\tfor (var key in this.data.pull)\r\n\t\t\t\tvar result = this.validate(key) && result;\r\n\t\telse {\r\n\t\t\tthis._validate_details = {};\r\n\t\t\tvar obj = this.getItem(id);\r\n\t\t\tresult = webix.ValidateData.validate.call(this, null, obj);\r\n\t\t\tif (result){\r\n\t\t\t\tif (this.callEvent(\"onValidationSuccess\",[id, obj]))\r\n\t\t\t\t\tthis._clear_invalid(id);\r\n\t\t\t} else {\r\n\t\t\t\tif (this.callEvent(\"onValidationError\",[id, obj, this._validate_details]))\r\n\t\t\t\t\tthis._mark_invalid(id, this._validate_details);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\t_validate:function(rule, data, obj, key){\r\n\t\tif (typeof rule == \"string\")\r\n\t\t\trule = webix.rules[rule];\r\n\r\n\t\tvar res = rule.call(this, data, obj, key);\r\n\t\tif (!res){\r\n\t\t\tthis._validate_details[key] = true;\r\n\t\t}\r\n\t\treturn res;\r\n\t},\r\n\t_clear_invalid:function(id){\r\n\t\tthis.data.removeMark(id, \"webix_invalid\", true);\r\n\t},\r\n\t_mark_invalid:function(id, details){\r\n\t\tthis.data.addMark(id, \"webix_invalid\", true);\r\n\t}\r\n};\r\n\r\n\r\nwebix.rules = {\r\n\tisEmail: function(value){\r\n\t\treturn (/^[^@]+@[^@]+\\.[^@]+$/).test((value || \"\").toString());\r\n\t},\r\n\tisNumber: function(value){\r\n\t\treturn (parseFloat(value) == value);\r\n\t},\r\n\tisChecked: function(value){\r\n\t\treturn (!!value) || value === \"0\";\r\n\t},\r\n\tisNotEmpty: function(value){\r\n\t\treturn (value === 0 || value);\r\n\t}\r\n};\r\n/*Data collection mapping logic */\r\n\r\nwebix.MapCollection = {\r\n    $init:function(){\r\n        this.$ready.push(this._create_scheme_init);\r\n        this.attachEvent(\"onStructureUpdate\", this._create_scheme_init);\r\n    },\r\n    _create_scheme_init:function(order){\r\n        var order = this._scheme_init_order = [];\r\n        var config = this._settings;\r\n\r\n        if (config.columns)\r\n            this._build_data_map(config.columns);\r\n        if (this._settings.map)\r\n            this._process_field_map(config.map);\r\n\r\n        if (this._scheme_init_order.length){\r\n             try {\r\n            this.data._scheme_init = Function(\"obj\",order.join(\"\\n\"));\r\n            } catch(e){\r\n                webix.assert_error(\"Invalid data map:\"+order.join(\"\\n\"));\r\n            }\r\n        }\r\n    },\r\n    _process_field_map:function(set){\r\n        for (var key in set)\r\n            this._scheme_init_order.push(this._process_single_map(key, set[key]));\r\n    },\r\n    _process_single_map:function(id, map, extra){\r\n        var start = \"\";\r\n        var end = \"\";\r\n\r\n        if (map.indexOf(\"(date)\")===0){\r\n            start = \"webix.i18n.parseFormatDate(\"; end=\")\";\r\n            if (extra && !extra.format) extra.format = webix.i18n.dateFormatStr;\r\n            map = map.replace(\"(date)\",\"\");\r\n        } else if (map.indexOf(\"(number)\")===0){\r\n            start = \"(\"; end=\")*1\";\r\n            map = map.replace(\"(number)\",\"\");\r\n        }\r\n\r\n        if (map !== \"\"){\r\n            map=map.replace(/\\{obj\\.([^}]*)\\}/g,\"\\\"+(obj.$1||'')+\\\"\");\r\n            map=map.replace(/#([^#'\";, ]+)#/gi,\"\\\"+(obj.$1||'')+\\\"\");\r\n        } else\r\n            map = \"\\\"+(obj.\"+id+\"||'')+\\\"\";\r\n\r\n\r\n        return \"obj.\"+id+\" = \"+start+'\"'+map+'\"'+end+\";\";\r\n    },\r\n    _build_data_map:function(columns){ //for datatable\r\n        for (var i=0; i<columns.length; i++){\r\n            var map = columns[i].map;\r\n            var id = columns[i].id;\r\n            if (!id) {\r\n                id = columns[i].id = \"i\"+webix.uid();\r\n                if (!columns[i].header)\r\n                    columns[i].header = \"\";\r\n            }\r\n            if (map)\r\n                this._scheme_init_order.push(this._process_single_map(id, map, columns[i]));\r\n\r\n            this._map_options(columns[i]);\r\n        }\r\n    },\r\n    _map_options:function(element){\r\n        var options = element.options||element.collection;\r\n        if(options){\r\n            if (typeof options === \"string\"){\r\n                //id of some other view\r\n                var options_view = webix.$$(options);\r\n                //or url\r\n                if (!options_view){\r\n                    options_view = new webix.DataCollection({ url: options });\r\n                    this._destroy_with_me.push(options_view);\r\n                }\r\n                //if it was a view, special check for suggests\r\n                if (options_view.getBody) options_view = options_view.getBody();\r\n                this._bind_collection(options_view, element);\r\n            } else if (!options.loadNext){\r\n                if (options[0] && typeof options[0] == \"object\"){\r\n                    //[{ id:1, value:\"one\"}, ...]\r\n                    options = new webix.DataCollection({ data:options });\r\n                    this._bind_collection(options, element);\r\n                    this._destroy_with_me.push(options);\r\n                } else {\r\n                    //[\"one\", \"two\"]\r\n                    //or\r\n                    //{ 1: \"one\", 2: \"two\"}\r\n                    if (webix.isArray(options)){\r\n                        var data = {};\r\n                        for (var ij=0; ij<options.length; ij++) data[options[ij]] = options[ij];\r\n                        element.options = options = data;\r\n                    }\r\n                    element.template = element.template || this._collection_accesser(options, element.id, element.optionslist);\r\n                }\r\n            } else {\r\n                //data collection or view\r\n                this._bind_collection(options, element);\r\n            }\r\n        }\r\n    },\r\n    _bind_collection:function(options, element){\r\n        if (element){\r\n            delete element.options;\r\n            element.collection = options;\r\n            element.template = element.template || this._bind_accesser(options, element.id, element.optionslist);\r\n\t        var id = options.data.attachEvent(\"onStoreUpdated\", webix.bind(function(){\r\n\t\t        this.refresh();\r\n\t\t        this.refreshFilter(element.id);\r\n\t        }, this));\r\n            this.attachEvent(\"onDestruct\", function(){\r\n            \tif (!options.$destructed) options.data.detachEvent(id);\r\n            });\r\n        }\r\n    },\r\n    _collection_accesser:function(options, id, multi){\r\n        if (multi){\r\n            var separator = typeof multi==\"string\"?multi:\",\";\r\n            return function(obj, common){\r\n                var value = obj[id] || obj.value;\r\n                if (!value) return \"\";\r\n                var ids = value.split(separator);\r\n                for (var i = 0; i < ids.length; i++)\r\n                    ids[i] = options[ids[i]] || \"\";\r\n                \r\n                return ids.join(\", \");\r\n            };\r\n        } else {\r\n            return function(obj, common){\r\n                return options[obj[id]]||obj.value||\"\";\r\n            };\r\n        }\r\n    },\r\n    _bind_accesser:function(col, id, multi){\r\n        if (multi) {\r\n            var separator = typeof multi==\"string\"?multi:\",\";\r\n            return function(obj, common){\r\n                var value = obj[id] || obj.value;\r\n                if (!value) return \"\";\r\n\r\n                var ids = value.split(separator);\r\n                for (var i = 0; i < ids.length; i++){\r\n                    var data = col.data.pull[ids[i]];\r\n                    ids[i] = data ? (data.value  || \"\") : \"\";\r\n                }\r\n                \r\n                return ids.join(\", \");\r\n            };\r\n        } else {\r\n            return function(obj, common){\r\n                var prop = obj[id]||obj.value,\r\n                    data = col.data.pull[prop];\r\n                if (data && (data.value || data.value ===0))\r\n                    return data.value;\r\n                return \"\";\r\n            };\r\n        }\r\n    }\r\n};\r\n\r\n/*\r\n\tBehavior:DataLoader - load data in the component\r\n\t\r\n\t@export\r\n\t\tload\r\n\t\tparse\r\n*/\r\nwebix.DataLoader=webix.proto({\r\n\t$init:function(config){\r\n\t\t//prepare data store\r\n\t\tconfig = config || \"\";\r\n\t\t\r\n\t\t//list of all active ajax requests\r\n\t\tthis._ajax_queue = webix.toArray();\r\n\r\n\t\tthis.data = new webix.DataStore();\r\n\t\tthis.data.attachEvent(\"onClearAll\",webix.bind(this._call_onclearall,this));\r\n\t\tthis.data.attachEvent(\"onServerConfig\", webix.bind(this._call_on_config, this));\r\n\t\tthis.data.feed = this._feed;\r\n\t\tthis.data.owner = config.id;\r\n\t},\r\n\t_feed:function(from,count,callback){\r\n\t\t\t\t//allow only single request at same time\r\n\t\t\t\tif (this._load_count)\r\n\t\t\t\t\treturn (this._load_count=[from,count,callback]);\t//save last ignored request\r\n\t\t\t\telse\r\n\t\t\t\t\tthis._load_count=true;\r\n\t\t\t\tthis._feed_last = [from, count];\r\n\t\t\t\tthis._feed_common.call(this, from, count, callback);\r\n\t},\r\n\t_feed_common:function(from, count, callback, url, details){\r\n\t\tvar state = null,\r\n\t\t\turl = url || this.data.url;\r\n\r\n\t\tvar final_callback = [\r\n\t\t\t{ success: this._feed_callback, error: this._feed_callback },\r\n\t\t\tcallback\r\n\t\t];\r\n\r\n\t\tif (from<0) from = 0;\r\n\r\n\t\tif(!details)\r\n\t\t\tdetails = { start: from, count:count };\r\n\r\n\t\tif(this.count())\r\n\t\t\tdetails[\"continue\"] = \"true\";\r\n\r\n\t\tif (this.getState)\r\n\t\t\tstate = this.getState();\r\n\r\n\t\t// proxy\r\n\t\tif (url && typeof url != \"string\"){\r\n\t\t\tif (state){\r\n\t\t\t\tif (state.sort)\r\n\t\t\t\t\tdetails.sort = state.sort;\r\n\t\t\t\tif (state.filter)\r\n\t\t\t\t\tdetails.filter = state.filter;\r\n\t\t\t}\r\n\t\t\tthis.load(url, final_callback, details);\r\n\t\t} else { // GET\r\n\t\t\turl = url+((url.indexOf(\"?\")==-1)?\"?\":\"&\");\r\n\r\n\t\t\tvar params = [];\r\n\t\t\tfor(var d in details){\r\n\t\t\t\tparams.push(d+\"=\"+details[d]);\r\n\t\t\t}\r\n\t\t\tif (state){\r\n\t\t\t\tif (state.sort)\r\n\t\t\t\t\tparams.push(\"sort[\"+state.sort.id+\"]=\"+encodeURIComponent(state.sort.dir));\r\n\t\t\t\tif (state.filter)\r\n\t\t\t\t\tfor (var key in state.filter)\r\n\t\t\t\t\t\tparams.push(\"filter[\"+key+\"]=\"+encodeURIComponent(state.filter[key]));\r\n\t\t\t}\r\n\r\n\t\t\turl += params.join(\"&\");\r\n\r\n\t\t\tthis.load(url, final_callback);\r\n\t\t}\r\n\t},\r\n\t_feed_callback:function(){\r\n\t\t//after loading check if we have some ignored requests\r\n\t\tvar temp = this._load_count;\r\n\t\tvar last = this._feed_last;\r\n\t\tthis._load_count = false;\r\n\t\tif (typeof temp ==\"object\" && (temp[0]!=last[0] || temp[1]!=last[1]))\r\n\t\t\tthis.data.feed.apply(this, temp);\t//load last ignored request\r\n\t},\r\n\t//loads data from external URL\r\n\tload:function(url,call){\r\n\t\tvar url = webix.proxy.$parse(url);\r\n\t\tvar ajax = webix.AtomDataLoader.load.apply(this, arguments);\r\n\r\n\t\t//prepare data feed for dyn. loading\r\n\t\tif (!this.data.url)\r\n\t\t\tthis.data.url = url;\r\n\r\n\t\treturn ajax;\r\n\t},\r\n\t//load next set of data rows\r\n\tloadNext:function(count, start, callback, url, now){\r\n\t\tvar config = this._settings;\r\n\t\tif (config.datathrottle && !now){\r\n\t\t\tif (this._throttle_request)\r\n\t\t\t\twindow.clearTimeout(this._throttle_request);\r\n\t\t\tthis._throttle_request = webix.delay(function(){\r\n\t\t\t\tthis.loadNext(count, start, callback, url, true);\r\n\t\t\t},this, 0, config.datathrottle);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!start && start !== 0) start = this.count();\r\n\t\tif (!count)\r\n\t\t\tcount = config.datafetch || this.count();\r\n\r\n\t\tthis.data.url = this.data.url || url;\r\n\t\tif (this.callEvent(\"onDataRequest\", [start,count,callback,url]) && this.data.url)\r\n\t\t\tthis.data.feed.call(this, start, count, callback);\r\n\t},\r\n\t_maybe_loading_already:function(count, from){\r\n\t\tvar last = this._feed_last;\r\n\t\tif(this._load_count && last){\r\n\t\t\tif (last[0]<=from && (last[1]+last[0] >= count + from )) return true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\tremoveMissed_setter:function(value){\r\n\t\treturn (this.data._removeMissed = value);\r\n\t},\r\n\t//init of dataprocessor delayed after all settings processing\r\n\t//because it need to be the last in the event processing chain\r\n\t//to get valid validation state\r\n\t_init_dataprocessor:function(){\r\n\t\tvar url = this._settings.save;\r\n\r\n\t\tif (url === true)\r\n\t\t\turl = this._settings.save = this._settings.url;\r\n\r\n\t\tvar obj = { master: this };\r\n\t\t\r\n\t\tif (url && url.url)\r\n\t\t\twebix.extend(obj, url);\r\n\t\telse\r\n\t\t\tobj.url = url;\r\n\r\n\t\twebix.dp(obj);\r\n\t},\r\n\tsave_setter:function(value){\r\n\t\tif (value)\r\n\t\t\tthis.$ready.push(this._init_dataprocessor);\r\n\r\n\t\treturn value;\r\n\t},\r\n\tscheme_setter:function(value){\r\n\t\tthis.data.scheme(value);\r\n\t},\r\n\tdataFeed_setter:function(value){\r\n\t\tvalue = webix.proxy.$parse(value);\r\n\r\n\t\tthis.data.attachEvent(\"onBeforeFilter\", webix.bind(function(text, filtervalue){\r\n\t\t\t//complex filtering, can't be routed to dataFeed\r\n\t\t\tif (typeof text == \"function\") return true;\r\n\r\n\t\t\t//we have dataFeed and some text\r\n\t\t\tif (this._settings.dataFeed && (text || filtervalue)){\r\n\t\t\t\ttext = text || \"id\";\r\n\t\t\t\tif (filtervalue && typeof filtervalue == \"object\")\r\n\t\t\t\t\t\tfiltervalue = filtervalue.id;\r\n\r\n\t\t\t\tthis.clearAll();\r\n\t\t\t\tvar url = this._settings.dataFeed;\r\n\r\n\t\t\t\t//js data feed\r\n\t\t\t\tif (typeof url == \"function\"){\r\n\t\t\t\t\tvar filter = {};\r\n\t\t\t\t\tfilter[text] = filtervalue;\r\n\t\t\t\t\turl.call(this, filtervalue, filter);\r\n\t\t\t\t} else if (url.$proxy) {\r\n\t\t\t\t\tif (url.load){\r\n\t\t\t\t\t\tvar filterobj = {}; filterobj[text] = filtervalue;\r\n\t\t\t\t\t\turl.load(this, {\r\n\t\t\t\t\t\t\tsuccess: this._onLoad,\r\n\t\t\t\t\t\t\terror: this._onLoadError\r\n\t\t\t\t\t\t}, { filter: filterobj });\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t//url data feed\r\n\t\t\t\t\tvar urldata = \"filter[\"+text+\"]=\"+encodeURIComponent(filtervalue);\r\n\t\t\t\t\tthis.load(url+(url.indexOf(\"?\")<0?\"?\":\"&\")+urldata, this._settings.datatype);\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},this));\r\n\t\treturn value;\r\n\t},\r\n\t_call_onready:function(){\r\n\t\tif (this._settings.ready && !this._ready_was_used){\r\n\t\t\tvar code = webix.toFunctor(this._settings.ready, this.$scope);\r\n\t\t\tif (code)\r\n\t\t\t\twebix.delay(code, this, arguments);\r\n\t\t\tif (this.callEvent)\r\n\t\t\t\twebix.delay(this.callEvent, this, [\"onReady\", []]);\r\n\t\t\tthis._ready_was_used = true;\r\n\t\t}\r\n\t},\r\n\t_call_onclearall:function(){\r\n\t\tfor (var i = 0; i < this._ajax_queue.length; i++){\r\n\t\t\tvar xhr = this._ajax_queue[i];\r\n\r\n\t\t\t//IE9 and IE8 deny extending of ActiveX wrappers\r\n\t\t\ttry { xhr.aborted = true; } catch(e){ \r\n\t\t\t\twebix._xhr_aborted.push(xhr);\r\n\t\t\t}\r\n\t\t\txhr.abort();\r\n\t\t}\r\n\r\n\t\tthis._ajax_queue = webix.toArray();\r\n\t\tthis.waitData = webix.promise.defer();\r\n\t},\r\n\t_call_on_config:function(config){\r\n\t\tthis._parseSeetingColl(config);\r\n\t}\r\n},webix.AtomDataLoader);\r\n\r\n//ie8 compatibility\r\nwebix._xhr_aborted = webix.toArray();\r\n\r\nwebix.DataMarks = {\r\n\taddCss:function(id, css, silent){\r\n\t\tif (!this.addRowCss && !silent){\r\n\t\t\tif (!this.hasCss(id, css)){\r\n\t\t\t\tvar node = this.getItemNode(id);\r\n\t\t\t\tif (node){\r\n\t\t\t\t\tnode.className += \" \"+css;\r\n\t\t\t\t\tsilent = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this.data.addMark(id, css, 1, 1, silent);\r\n\t},\r\n\tremoveCss:function(id, css, silent){\r\n\t\tif (!this.addRowCss && !silent){\r\n\t\t\tif (this.hasCss(id, css)){\r\n\t\t\t\tvar node = this.getItemNode(id);\r\n\t\t\t\tif (node){\r\n\t\t\t\t\tnode.className = node.className.replace(css,\"\").replace(\"  \",\" \");\r\n\t\t\t\t\tsilent = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this.data.removeMark(id, css, 1, silent);\r\n\t},\r\n\thasCss:function(id, mark){\r\n\t\treturn this.data.getMark(id, mark);\r\n\t},\r\n\tclearCss:function(css, silent){\r\n\t\treturn this.data.clearMark(css, 1, silent);\r\n\t}\r\n};\r\n\r\n/*\r\n\tDataStore is not a behavior, it standalone object, which represents collection of data.\r\n\tCall provideAPI to map data API\r\n\r\n\t@export\r\n\t\texists\r\n\t\tgetIdByIndex\r\n\t\tgetIndexById\r\n\t\tget\r\n\t\tset\r\n\t\trefresh\r\n\t\tcount\r\n\t\tsort\r\n\t\tfilter\r\n\t\tnext\r\n\t\tprevious\r\n\t\tclearAll\r\n\t\tfirst\r\n\t\tlast\r\n*/\r\nwebix.DataStore = function(){\r\n\tthis.name = \"DataStore\";\r\n\t\r\n\twebix.extend(this, webix.EventSystem);\r\n\r\n\tthis.setDriver(\"json\");\t//default data source is an\r\n\tthis.pull = {};\t\t\t\t\t\t//hash of IDs\r\n\tthis.order = webix.toArray();\t\t//order of IDs\r\n\tthis._marks = {};\r\n};\r\n\r\nwebix.DataStore.prototype={\r\n\t//defines type of used data driver\r\n\t//data driver is an abstraction other different data formats - xml, json, csv, etc.\r\n\tsetDriver:function(type){\r\n\t\twebix.assert(webix.DataDriver[type],\"incorrect DataDriver\");\r\n\t\tthis.driver = webix.DataDriver[type];\r\n\t},\r\n\t//process incoming raw data\r\n\t_parse:function(data,master){\r\n\t\tthis.callEvent(\"onParse\", [this.driver, data]);\r\n\r\n\t\tif (this._filter_order)\r\n\t\t\tthis.filter();\r\n\t\r\n\t\t//get size and position of data\r\n\t\tvar info = this.driver.getInfo(data);\r\n\r\n\t\t//generated by connectors only\r\n\t\tif (info.key)\r\n\t\t\twebix.securityKey = info.key;\r\n\r\n\t\tif (info.config)\r\n\t\t\tthis.callEvent(\"onServerConfig\",[info.config]);\r\n\r\n\t\tvar options = this.driver.getOptions(data);\r\n\t\tif (options)\r\n\t\t\tthis.callEvent(\"onServerOptions\", [options]);\r\n\r\n\t\t//get array of records\r\n\t\tvar recs = this.driver.getRecords(data);\r\n\r\n\t\tthis._inner_parse(info, recs);\r\n\r\n\t\t//in case of tree store we may want to group data\r\n\t\tif (this._scheme_group && this._group_processing && !this._not_grouped_order)\r\n\t\t\tthis._group_processing(this._scheme_group);\r\n\r\n\t\t//optional data sorting\r\n\t\tif (this._scheme_sort){\r\n\t\t\tthis.blockEvent();\r\n\t\t\tthis.sort(this._scheme_sort);\r\n\t\t\tthis.unblockEvent();\r\n\t\t}\r\n\r\n\t\tthis.callEvent(\"onStoreLoad\",[this.driver, data]);\r\n\t\t//repaint self after data loading\r\n\t\tthis.refresh();\r\n\t},\r\n\t_inner_parse:function(info, recs){\r\n\t\tvar from = (info.from||0)*1;\r\n\t\tvar subload = true;\r\n\t\tvar marks = false;\r\n\r\n\t\tif (from === 0 && this.order[0] && this.order[this.order.length-1]){ //update mode\r\n\t\t\tif (this._removeMissed){\r\n\t\t\t\t//update mode, create kill list\r\n\t\t\t\tmarks = {};\r\n\t\t\t\tfor (var i=0; i<this.order.length; i++)\r\n\t\t\t\t\tmarks[this.order[i]]=true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tsubload = false;\r\n\t\t\tfrom = this.order.length;\r\n\t\t}\r\n\r\n\t\tvar j=0;\r\n\t\tfor (var i=0; i<recs.length; i++){\r\n\t\t\t//get hash of details for each record\r\n\t\t\tvar temp = this.driver.getDetails(recs[i]);\r\n\t\t\tvar id = this.id(temp); \t//generate ID for the record\r\n\t\t\tif (!this.pull[id]){\t\t//if such ID already exists - update instead of insert\r\n\t\t\t\tthis.order[j+from]=id;\t\r\n\t\t\t\tj++;\r\n\t\t\t} else if (subload && this.order[j+from])\r\n\t\t\t\tj++;\r\n\r\n\t\t\tif(this.pull[id]){\r\n\t\t\t\twebix.extend(this.pull[id],temp,true);//add only new properties\r\n\t\t\t\tif (this._scheme_update)\r\n\t\t\t\t\tthis._scheme_update(this.pull[id]);\r\n\t\t\t\t//update mode, remove item from kill list\r\n\t\t\t\tif (marks)\r\n\t\t\t\t\tdelete marks[id];\r\n\t\t\t} else{\r\n\t\t\t\tthis.pull[id] = temp;\r\n\t\t\t\tif (this._scheme_init)\r\n\t\t\t\t\tthis._scheme_init(temp);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t//update mode, delete items which are not existing in the new xml\r\n\t\tif (marks){\r\n\t\t\tthis.blockEvent();\r\n\t\t\tfor (var delid in marks)\r\n\t\t\t\tthis.remove(delid);\r\n\t\t\tthis.unblockEvent();\r\n\t\t}\r\n\r\n\t\tif (!this.order[info.size-1])\r\n\t\t\tthis.order[info.size-1] = webix.undefined;\r\n\t},\r\n\t//generate id for data object\r\n\tid:function(data){\r\n\t\treturn data.id||(data.id=webix.uid());\r\n\t},\r\n\tchangeId:function(old, newid){\r\n\t\t//webix.assert(this.pull[old],\"Can't change id, for non existing item: \"+old);\r\n\t\tif(this.pull[old])\r\n\t\t\tthis.pull[newid] = this.pull[old];\r\n\t\t\r\n\t\tthis.pull[newid].id = newid;\r\n\t\tthis.order[this.order.find(old)]=newid;\r\n\t\tif (this._filter_order)\r\n\t\t\tthis._filter_order[this._filter_order.find(old)]=newid;\r\n\t\tif (this._marks[old]){\r\n\t\t\tthis._marks[newid] = this._marks[old];\r\n\t\t\tdelete this._marks[old];\r\n\t\t}\r\n\r\n\r\n\t\tthis.callEvent(\"onIdChange\", [old, newid]);\r\n\t\tif (this._render_change_id)\r\n\t\t\tthis._render_change_id(old, newid);\r\n\t\tdelete this.pull[old];\r\n\t},\r\n\t//get data from hash by id\r\n\tgetItem:function(id){\r\n\t\treturn this.pull[id];\r\n\t},\r\n\t//assigns data by id\r\n\tupdateItem:function(id, update){\r\n\t\tvar data = this.getItem(id);\r\n\t\twebix.assert(data, \"Ivalid ID for updateItem\");\r\n\t\twebix.assert(!update || !update.id || update.id == id, \"Attempt to change ID in updateItem\");\r\n\r\n\t\tif (!webix.isUndefined(update) && data !== update){\r\n\t\t\twebix.extend(data, update, true);\r\n\t\t\tdata.id = id;\r\n\t\t}\r\n\r\n\t\tif (this._scheme_update)\r\n\t\t\tthis._scheme_update(data);\r\n\r\n\t\tthis.callEvent(\"onStoreUpdated\",[id, data, \"update\"]);\r\n\t\tthis.callEvent(\"onDataUpdate\", [id, data]);\r\n\t},\r\n\t//sends repainting signal\r\n\trefresh:function(id){\r\n\t\tif (this._skip_refresh) return; \r\n\t\t\r\n\t\tif (id){\r\n\t\t\tif (this.exists(id))\r\n\t\t\t\tthis.callEvent(\"onStoreUpdated\",[id, this.pull[id], \"paint\"]);\r\n\t\t}else\r\n\t\t\tthis.callEvent(\"onStoreUpdated\",[null,null,null]);\r\n\t},\r\n\tsilent:function(code, master){\r\n\t\tthis._skip_refresh = true;\r\n\t\tcode.call(master||this);\r\n\t\tthis._skip_refresh = false;\r\n\t},\r\n\t//converts range IDs to array of all IDs between them\r\n\tgetRange:function(from,to){\t\t\r\n\t\t//if some point is not defined - use first or last id\r\n\t\t//BEWARE - do not use empty or null ID\r\n\t\tif (from)\r\n\t\t\tfrom = this.getIndexById(from);\r\n\t\telse \r\n\t\t\tfrom = (this.$min||this.startOffset)||0;\r\n\t\tif (to)\r\n\t\t\tto = this.getIndexById(to);\r\n\t\telse {\r\n\t\t\tto = this.$max === 0 ? 0 : Math.min((this.$max?this.$max-1:(this.endOffset||Infinity)),(this.count()-1));\r\n\t\t\tif (to<0) to = 0; //we have not data in the store\r\n\t\t}\r\n\r\n\t\tif (from>to){ //can be in case of backward shift-selection\r\n\t\t\tvar a=to; to=from; from=a;\r\n\t\t}\r\n\r\n\t\treturn this.getIndexRange(from,to);\r\n\t},\r\n\t//converts range of indexes to array of all IDs between them\r\n\tgetIndexRange:function(from,to){\r\n\t\tto=Math.min((to === 0 ? 0 :(to||Infinity)),this.count()-1);\r\n\t\t\r\n\t\tvar ret=webix.toArray(); //result of method is rich-array\r\n\t\tfor (var i=(from||0); i <= to; i++)\r\n\t\t\tret.push(this.getItem(this.order[i]));\r\n\t\treturn ret;\r\n\t},\r\n\t//returns total count of elements\r\n\tcount:function(){\r\n\t\treturn this.order.length;\r\n\t},\r\n\t//returns truy if item with such ID exists\r\n\texists:function(id){\r\n\t\treturn !!(this.pull[id]);\r\n\t},\r\n\t//nextmethod is not visible on component level, check DataMove.move\r\n\t//moves item from source index to the target index\r\n\tmove:function(sindex,tindex){\r\n\t\twebix.assert(sindex>=0 && tindex>=0, \"DataStore::move\",\"Incorrect indexes\");\r\n\t\tif (sindex == tindex) return;\r\n\r\n\t\tvar id = this.getIdByIndex(sindex);\r\n\t\tvar obj = this.getItem(id);\r\n\r\n\t\tif (this._filter_order)\r\n\t\t\tthis._move_inner(this._filter_order, 0, 0, this.getIdByIndex(sindex), this.getIdByIndex(tindex));\r\n\r\n\t\tthis._move_inner(this.order, sindex, tindex);\r\n\t\t\r\n\t\t\r\n\t\t//repaint signal\r\n\t\tthis.callEvent(\"onStoreUpdated\",[id,obj,\"move\"]);\r\n\t},\r\n\t_move_inner:function(col, sindex, tindex, sid, tid){\r\n\t\tif (sid||tid){\r\n\t\t\tsindex = tindex = -1;\r\n\t\t\tfor (var i=0; i<col.length; i++){\r\n\t\t\t\tif (col[i] == sid && sindex<0)\r\n\t\t\t\t\tsindex = i;\r\n\t\t\t\tif (col[i] == tid && tindex<0)\r\n\t\t\t\t\ttindex = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar id = col[sindex];\r\n\t\tcol.removeAt(sindex);\t//remove at old position\r\n\t\tcol.insertAt(id,Math.min(col.length, tindex));\t//insert at new position\r\n\t},\r\n\tscheme:function(config){\r\n\t\tthis._scheme = {};\r\n\t\tthis._scheme_save = config.$save;\r\n\t\tthis._scheme_init = config.$init||config.$change;\r\n\t\tthis._scheme_update = config.$update||config.$change;\r\n\t\tthis._scheme_serialize = config.$serialize;\r\n\t\tthis._scheme_group = config.$group;\r\n\t\tthis._scheme_sort = config.$sort;\r\n\r\n\t\t//ignore $-starting properties, as they have special meaning\r\n\t\tfor (var key in config)\r\n\t\t\tif (key.substr(0,1) != \"$\")\r\n\t\t\t\tthis._scheme[key] = config[key];\r\n\t},\r\n\timportData:function(target, silent){\r\n\t\tvar data = target ? (target.data || target) : [];\r\n\t\tthis._filter_order = null;\r\n\r\n\t\tif (typeof data.serialize == \"function\"){\r\n\t\t\tthis.order = webix.toArray([].concat(data.order));\r\n\t\t\tthis.pull = data.pull;\r\n\t\t\tif (data.branch && this.branch){\r\n\t\t\t\tthis.branch = webix.copy(data.branch);\r\n\t\t\t\tthis._filter_branch = null;\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tthis.order = webix.toArray();\r\n\t\t\tthis.pull = {};\r\n\t\t\tvar id, obj;\r\n\r\n\t\t\tif (webix.isArray(target))\r\n\t\t\t\tfor (var key=0; key<target.length; key++){\r\n\t\t\t\t\tobj = id = target[key];\r\n\t\t\t\t\tif (typeof obj == \"object\")\r\n\t\t\t\t\t\tid  = obj.id || webix.uid();\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tobj = { id:id, value:id };\r\n\r\n\t\t\t\t\tthis.order.push(obj.id);\r\n\t\t\t\t\tif (this._scheme_init)\r\n\t\t\t\t\t\tthis._scheme_init(obj);\r\n\t\t\t\t\tthis.pull[obj.id] = obj;\r\n\t\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tfor (var key in data){\r\n\t\t\t\t\tthis.order.push(key);\r\n\t\t\t\t\tthis.pull[key] = { id:key, value: data[key] };\r\n\t\t\t\t}\r\n\t\t}\r\n\t\tif (this._extraParser && !data.branch){\r\n\t\t\tthis.branch = { 0:[]};\r\n\t\t\tif (!this._datadriver_child)\r\n\t\t\t\tthis._set_child_scheme(\"data\");\r\n\r\n\t\t\tfor (var i = 0; i<this.order.length; i++){\r\n\t\t\t\tvar key = this.order[i];\r\n\t\t\t\tthis._extraParser(this.pull[key], 0, 0, false);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.callEvent(\"onStoreLoad\",[]);\r\n\t\tif (!silent)\r\n\t\t\tthis.callEvent(\"onStoreUpdated\",[]);\r\n\t},\r\n\tsync:function(source, filter, silent){\r\n\t\tvar type = typeof source;\r\n\t\tif (type == \"string\")\r\n\t\t\tsource = webix.$$(\"source\");\r\n\r\n\t\tif (type != \"function\" && type != \"object\"){\r\n\t\t\tsilent = filter;\r\n\t\t\tfilter = null;\r\n\t\t}\r\n\t\t\r\n\t\tif (webix.debug_bind){\r\n\t\t\tthis.debug_sync_master = source; \r\n\t\t\twebix.log(\"[sync] \"+this.debug_bind_master.name+\"@\"+this.debug_bind_master._settings.id+\" <= \"+this.debug_sync_master.name+\"@\"+this.debug_sync_master._settings.id);\r\n\t\t}\r\n\r\n\t\tif (source.name != \"DataStore\"){\r\n\t\t\tif (source.data && (source.data.name === \"DataStore\" || source.data.name === \"TreeStore\"))\r\n\t\t\t\tsource = source.data;\r\n\t\t\telse {\r\n\t\t\t\tthis._sync_source = source;\r\n\t\t\t\treturn webix.callEvent(\"onSyncUnknown\", [this, source, filter]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar\tsync_logic = webix.bind(function(mode, record, data){\r\n\t\t\tif (this._skip_next_sync) return;\r\n\r\n\t\t\tthis.importData(source, true);\r\n\r\n\t\t\tif (filter)\r\n\t\t\t\tthis.silent(filter);\r\n\t\t\tif (this._on_sync)\r\n\t\t\t\tthis._on_sync();\r\n\r\n\t\t\tif (webix.debug_bind)\r\n\t\t\t\twebix.log(\"[sync:request] \"+this.debug_sync_master.name+\"@\"+this.debug_sync_master._settings.id + \" <= \"+this.debug_bind_master.name+\"@\"+this.debug_bind_master._settings.id);\r\n\r\n\t\t\tthis.callEvent(\"onSyncApply\",[]);\r\n\r\n\t\t\tif (!silent) \r\n\t\t\t\tthis.refresh();\r\n\t\t\telse\r\n\t\t\t\tsilent = false;\r\n\t\t}, this);\r\n\r\n\r\n\r\n\t\tthis._sync_events = [\r\n\t\t\tsource.attachEvent(\"onStoreUpdated\", sync_logic),\r\n\t\t\tsource.attachEvent(\"onIdChange\", webix.bind(function(old, nid){ this.changeId(old, nid); this.refresh(nid); }, this))\r\n\t\t];\r\n\t\tthis._sync_source = source;\r\n\r\n\t\t//backward data saving\r\n\t\tthis._back_sync_handler = this.attachEvent(\"onStoreUpdated\", function(id, data, mode){\r\n\t\t\tif (mode == \"update\" || mode == \"save\"){\r\n\t\t\t\tthis._skip_next_sync = 1;\r\n\t\t\t\tsource.updateItem(id, data);\r\n\t\t\t\tthis._skip_next_sync = 0;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tsync_logic();\r\n\t},\r\n\tunsync:function(){\r\n\t\tif (this._sync_source){\r\n\t\t\tvar source = this._sync_source;\r\n\r\n\t\t\tif (source.name != \"DataStore\" &&\r\n\t\t\t\t\t(!source.data || source.data.name != \"DataStore\")){\r\n\t\t\t\t//data sync with external component\r\n\t\t\t\twebix.callEvent(\"onUnSyncUnknown\", [this, source]);\r\n\t\t\t} else {\r\n\t\t\t\t//data sync with webix component\r\n\t\t\t\tfor (var i = 0; i < this._sync_events.length; i++)\r\n\t\t\t\t\tsource.detachEvent(this._sync_events[i]);\r\n\t\t\t\tthis.detachEvent(this._back_sync_handler);\r\n\t\t\t}\r\n\r\n\t\t\tthis._sync_source = null;\r\n\t\t}\r\n\t},\r\n\tdestructor:function(){\r\n\t\tthis.unsync();\r\n\r\n\t\tthis.pull = this.order = this._marks = null;\r\n\t\tthis._evs_events = this._evs_handlers = {};\r\n\t},\r\n\t//adds item to the store\r\n\tadd:function(obj,index){\r\n\t\t//default values\t\t\r\n\t\tif (this._scheme)\r\n\t\t\tfor (var key in this._scheme)\r\n\t\t\t\tif (webix.isUndefined(obj[key]))\r\n\t\t\t\t\tobj[key] = this._scheme[key];\r\n\t\t\r\n\t\tif (this._scheme_init)\r\n\t\t\tthis._scheme_init(obj);\r\n\t\t\r\n\t\t//generate id for the item\r\n\t\tvar id = this.id(obj);\r\n\r\n\t\t//in case of treetable order is sent as 3rd parameter\r\n\t\tvar order = arguments[2]||this.order;\r\n\t\t\r\n\t\t//by default item is added to the end of the list\r\n\t\tvar data_size = order.length;\r\n\t\t\r\n\t\tif (webix.isUndefined(index) || index < 0)\r\n\t\t\tindex = data_size; \r\n\t\t//check to prevent too big indexes\t\t\t\r\n\t\tif (index > data_size){\r\n\t\t\twebix.log(\"Warning\",\"DataStore:add\",\"Index of out of bounds\");\r\n\t\t\tindex = Math.min(order.length,index);\r\n\t\t}\r\n\t\tif (this.callEvent(\"onBeforeAdd\", [id, obj, index]) === false) return false;\r\n\r\n\t\twebix.assert(!this.exists(id), \"Not unique ID\");\r\n\t\t\r\n\t\tthis.pull[id]=obj;\r\n\t\torder.insertAt(id,index);\r\n\t\tif (this._filter_order){\t//adding during filtering\r\n\t\t\t//we can't know the location of new item in full dataset, making suggestion\r\n\t\t\t//put at end of original dataset by default\r\n\t\t\tvar original_index = this._filter_order.length;\r\n\t\t\t//if some data exists, put at the same position in original and filtered lists\r\n\t\t\tif (this.order.length)\r\n\t\t\t\toriginal_index = Math.min((index || 0), original_index);\r\n\r\n\t\t\tthis._filter_order.insertAt(id,original_index);\r\n\t\t}\r\n\t\t\r\n\t\t//repaint signal\r\n\t\tthis.callEvent(\"onStoreUpdated\",[id,obj,\"add\"]);\r\n\t\tthis.callEvent(\"onAfterAdd\",[id,index]);\r\n\r\n\t\treturn obj.id;\r\n\t},\r\n\t\r\n\t//removes element from datastore\r\n\tremove:function(id){\r\n\t\t//id can be an array of IDs - result of getSelect, for example\r\n\t\tif (webix.isArray(id)){\r\n\t\t\tfor (var i=0; i < id.length; i++)\r\n\t\t\t\tthis.remove(id[i]);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.callEvent(\"onBeforeDelete\",[id]) === false) return false;\r\n\t\t\r\n\t\twebix.assert(this.exists(id), \"Not existing ID in remove command\"+id);\r\n\r\n\t\tvar obj = this.getItem(id);\t//save for later event\r\n\t\t//clear from collections\r\n\t\tthis.order.remove(id);\r\n\t\tif (this._filter_order) \r\n\t\t\tthis._filter_order.remove(id);\r\n\t\t\t\r\n\t\tdelete this.pull[id];\r\n\t\tif (this._marks[id])\r\n\t\t\tdelete this._marks[id];\r\n\r\n\t\t//repaint signal\r\n\t\tthis.callEvent(\"onStoreUpdated\",[id,obj,\"delete\"]);\r\n\t\tthis.callEvent(\"onAfterDelete\",[id]);\r\n\t},\r\n\t//deletes all records in datastore\r\n\tclearAll:function(){\r\n\t\t//instead of deleting one by one - just reset inner collections\r\n\t\tthis.pull = {};\r\n\t\tthis._marks = {};\r\n\t\tthis.order = webix.toArray();\r\n\t\t//this.feed = null;\r\n\t\tthis._filter_order = this.url = null;\r\n\t\tthis.callEvent(\"onClearAll\",[]);\r\n\t\tthis.refresh();\r\n\t},\r\n\t//converts id to index\r\n\tgetIdByIndex:function(index){\r\n\t\twebix.assert(index >= 0,\"DataStore::getIdByIndex Incorrect index\");\r\n\t\treturn this.order[index];\r\n\t},\r\n\t//converts index to id\r\n\tgetIndexById:function(id){\r\n\t\tvar res = this.order.find(id);\t//slower than getIdByIndex\r\n\t\tif (!this.pull[id])\r\n\t\t\treturn -1;\r\n\t\t\t\r\n\t\treturn res;\r\n\t},\r\n\t//returns ID of next element\r\n\tgetNextId:function(id,step){\r\n\t\treturn this.order[this.getIndexById(id)+(step||1)];\r\n\t},\r\n\t//returns ID of first element\r\n\tgetFirstId:function(){\r\n\t\treturn this.order[0];\r\n\t},\r\n\t//returns ID of last element\r\n\tgetLastId:function(){\r\n\t\treturn this.order[this.order.length-1];\r\n\t},\r\n\t//returns ID of previous element\r\n\tgetPrevId:function(id,step){\r\n\t\treturn this.order[this.getIndexById(id)-(step||1)];\r\n\t},\r\n\t/*\r\n\t\tsort data in collection\r\n\t\t\tby - settings of sorting\r\n\t\t\r\n\t\tor\r\n\t\t\r\n\t\t\tby - sorting function\r\n\t\t\tdir - \"asc\" or \"desc\"\r\n\t\t\t\r\n\t\tor\r\n\t\t\r\n\t\t\tby - property\r\n\t\t\tdir - \"asc\" or \"desc\"\r\n\t\t\tas - type of sortings\r\n\t\t\r\n\t\tSorting function will accept 2 parameters and must return 1,0,-1, based on desired order\r\n\t*/\r\n\tsort:function(by, dir, as){\r\n\t\tvar sort = by;\t\r\n\t\tif (typeof by == \"function\")\r\n\t\t\tsort = {as:by, dir:dir};\r\n\t\telse if (typeof by == \"string\")\r\n\t\t\tsort = {by:by.replace(/#/g,\"\"), dir:dir, as:as};\r\n\r\n\t\t\r\n\t\tvar parameters = [sort.by, sort.dir, sort.as, sort];\r\n\t\tif (!this.callEvent(\"onBeforeSort\",parameters)) return;\t\r\n\t\t\r\n\t\tthis.order = this._sort_core(sort, this.order);\r\n\t\tif (this._filter_order && this._filter_order.length != this.order.length)\r\n\t\t\tthis._filter_order = this._sort_core(sort, this._filter_order);\r\n\t\t\r\n\t\t//repaint self\r\n\t\tthis.refresh();\r\n\t\t\r\n\t\tthis.callEvent(\"onAfterSort\",parameters);\r\n\t},\r\n\t_sort_core:function(sort, order){\r\n\t\tvar sorter = this.sorting.create(sort);\r\n\t\tif (this.order.length){\r\n\t\t\tvar pre = order.splice(0, this.$freeze);\r\n\t\t\t//get array of IDs\r\n\t\t\tvar neworder = webix.toArray();\r\n\t\t\tfor (var i=order.length-1; i>=0; i--)\r\n\t\t\t\tneworder[i] = this.pull[order[i]];\r\n\t\t\t\r\n\t\t\tneworder.sort(sorter);\r\n\t\t\treturn webix.toArray(pre.concat(neworder.map(function(obj){ \r\n\t\t\t\twebix.assert(obj, \"Client sorting can't be used with dynamic loading\");\r\n\t\t\t\treturn this.id(obj);\r\n\t\t\t},this)));\r\n\t\t}\r\n\t\treturn order;\r\n\t},\r\n\t/*\r\n\t\tFilter datasource\r\n\t\t\r\n\t\ttext - property, by which filter\r\n\t\tvalue - filter mask\r\n\t\t\r\n\t\tor\r\n\t\t\r\n\t\ttext  - filter method\r\n\t\t\r\n\t\tFilter method will receive data object and must return true or false\r\n\t*/\r\n\t_filter_reset:function(preserve){\r\n\t\t//remove previous filtering , if any\r\n\t\tif (this._filter_order && !preserve){\r\n\t\t\tthis.order = this._filter_order;\r\n\t\t\tdelete this._filter_order;\r\n\t\t}\r\n\t},\r\n\t_filter_core:function(filter, value, preserve){\r\n\t\tvar neworder = webix.toArray();\r\n\t\tvar freeze = this.$freeze || 0;\r\n\t\t\r\n\t\tfor (var i=0; i < this.order.length; i++){\r\n\t\t\tvar id = this.order[i];\r\n\t\t\tif (i < freeze || filter(this.getItem(id),value))\r\n\t\t\t\tneworder.push(id);\r\n\t\t}\r\n\t\t//set new order of items, store original\r\n\t\tif (!preserve ||  !this._filter_order)\r\n\t\t\tthis._filter_order = this.order;\r\n\t\tthis.order = neworder;\r\n\t},\r\n\tfind:function(config, first){\r\n\t\tvar result = [];\r\n\r\n\t\tfor(var i in this.pull){\r\n\t\t\tvar data = this.pull[i];\r\n\r\n\t\t\tvar match = true;\r\n\t\t\tif (typeof config == \"object\"){\r\n\t\t\t\tfor (var key in config)\r\n\t\t\t\t\tif (data[key] != config[key]){\r\n\t\t\t\t\t\tmatch = false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t} else if (!config(data))\r\n\t\t\t\tmatch = false;\r\n\r\n\t\t\tif (match)\r\n\t\t\t\tresult.push(data);\r\n\t\t\t\r\n\t\t\tif (first && result.length)\r\n\t\t\t\treturn result[0];\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t},\r\n\tfilter:function(text,value,preserve){\r\n\t\t//unfilter call but we already in not-filtered state\r\n\t\tif (!text && !this._filter_order && !this._filter_branch) return;\r\n\t\tif (!this.callEvent(\"onBeforeFilter\", [text, value])) return;\r\n\t\t\r\n\t\tthis._filter_reset(preserve);\r\n\t\tif (!this.order.length) return;\r\n\t\t\r\n\t\t//if text not define -just unfilter previous state and exit\r\n\t\tif (text){\r\n\t\t\tvar filter = text;\r\n\t\t\tvalue = value||\"\";\r\n\t\t\tif (typeof text == \"string\"){\r\n\t\t\t\ttext = text.replace(/#/g,\"\");\r\n\t\t\t\tif (typeof value == \"function\")\r\n\t\t\t\t\tfilter = function(obj){\r\n\t\t\t\t\t\treturn value(obj[text]);\r\n\t\t\t\t\t};\r\n\t\t\t\telse{\r\n\t\t\t\t\tvalue = value.toString().toLowerCase();\r\n\t\t\t\t\tfilter = function(obj,value){\t//default filter - string start from, case in-sensitive\r\n\t\t\t\t\t\twebix.assert(obj, \"Client side filtering can't be used with dynamic loading\");\r\n\t\t\t\t\t\treturn (obj[text]||\"\").toString().toLowerCase().indexOf(value)!=-1;\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis._filter_core(filter, value, preserve, this._filterMode);\r\n\t\t}\r\n\t\t//repaint self\r\n\t\tthis.refresh();\r\n\t\t\r\n\t\tthis.callEvent(\"onAfterFilter\", []);\r\n\t},\r\n\t/*\r\n\t\tIterate through collection\r\n\t*/\r\n\t_obj_array:function(){\r\n\t\tvar data = [];\r\n\t\tfor (var i = this.order.length - 1; i >= 0; i--)\r\n\t\t\tdata[i]=this.pull[this.order[i]];\r\n\r\n\t\treturn data;\r\n\t},\r\n\teach:function(method, master, all){\r\n\t\tvar order = this.order;\r\n\t\tif (all)\r\n\t\t\torder = this._filter_order || order;\r\n\r\n\t\tfor (var i=0; i<order.length; i++)\r\n\t\t\tmethod.call((master||this), this.getItem(order[i]), i);\r\n\t},\r\n\t_methodPush:function(object,method){\r\n\t\treturn function(){ return object[method].apply(object,arguments); };\r\n\t},\r\n\t/*\r\n\t\tmap inner methods to some distant object\r\n\t*/\r\n\tprovideApi:function(target,eventable){\r\n\t\tthis.debug_bind_master = target;\r\n\t\t\t\r\n\t\tif (eventable){\r\n\t\t\tthis.mapEvent({\r\n\t\t\t\tonbeforesort:\ttarget,\r\n\t\t\t\tonaftersort:\ttarget,\r\n\t\t\t\tonbeforeadd:\ttarget,\r\n\t\t\t\tonafteradd:\t\ttarget,\r\n\t\t\t\tonbeforedelete:\ttarget,\r\n\t\t\t\tonafterdelete:\ttarget,\r\n\t\t\t\tondataupdate:\ttarget/*,\r\n\t\t\t\tonafterfilter:\ttarget,\r\n\t\t\t\tonbeforefilter:\ttarget*/\r\n\t\t\t});\r\n\t\t}\r\n\t\t\t\r\n\t\tvar list = [\"sort\",\"add\",\"remove\",\"exists\",\"getIdByIndex\",\"getIndexById\",\"getItem\",\"updateItem\",\"refresh\",\"count\",\"filter\",\"find\",\"getNextId\",\"getPrevId\",\"clearAll\",\"getFirstId\",\"getLastId\",\"serialize\",\"sync\"];\r\n\t\tfor (var i=0; i < list.length; i++)\r\n\t\t\ttarget[list[i]] = this._methodPush(this,list[i]);\r\n\t\t\t\r\n\t},\r\n\taddMark:function(id, mark, css, value, silent){\r\n\t\tvar obj = this._marks[id]||{};\r\n\t\tthis._marks[id] = obj;\r\n\t\tif (!obj[mark]){\r\n\t\t\tobj[mark] = value||true;\t\r\n\t\t\tif (css){\r\n\t\t\t\tvar old_css = obj.$css||\"\";\r\n\t\t\t\tobj.$css = old_css+\" \"+mark;\r\n\t\t\t}\r\n\t\t\tif (!silent)\r\n\t\t\t\tthis.refresh(id);\r\n\t\t}\r\n\t\treturn obj[mark];\r\n\t},\r\n\tremoveMark:function(id, mark, css, silent){\r\n\t\tvar obj = this._marks[id];\r\n\t\tif (obj){\r\n\t\t\tif (obj[mark])\r\n\t\t\t\tdelete obj[mark];\r\n\t\t\tif (css){\r\n\t\t\t\tvar current_css = obj.$css;\r\n\t\t\t\tif (current_css){\r\n\t\t\t\t\tobj.$css = current_css.replace(mark, \"\").replace(\"  \",\" \");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!silent) \r\n\t\t\t\tthis.refresh(id);\r\n\t\t}\r\n\t},\r\n\tgetMark:function(id, mark){\r\n\t\tvar obj = this._marks[id];\r\n\t\treturn (obj?obj[mark]:false);\r\n\t},\r\n\tclearMark:function(name, css, silent){\r\n\t\tfor (var id in this._marks){\r\n\t\t\tvar obj = this._marks[id];\r\n\t\t\tif (obj[name]){\r\n\t\t\t\tdelete obj[name];\r\n\t\t\t\tif (css && obj.$css)\r\n\t\t\t\t\tobj.$css = obj.$css.replace(name, \"\").replace(\"  \",\" \");\r\n\t\t\t\tif (!silent)\r\n\t\t\t\t\tthis.refresh(id);\r\n\t\t\t}\r\n\t\t}\r\n\t},\t\r\n\t/*\r\n\t\tserializes data to a json object\r\n\t*/\r\n\tserialize: function(all){\r\n\t\tvar ids = this.order;\r\n\t\tif (all && this._filter_order)\r\n\t\t\tids = this._filter_order;\r\n\r\n\t\tvar result = [];\r\n\t\tfor(var i=0; i< ids.length;i++) {\r\n\t\t\tvar el = this.pull[ids[i]];\r\n\t\t\tif (this._scheme_serialize){\r\n\t\t\t\tel = this._scheme_serialize(el);\r\n\t\t\t\tif (el===false) continue;\r\n\t\t\t}\r\n\t\t\tresult.push(el);\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tsorting:{\r\n\t\tcreate:function(config){\r\n\t\t\treturn this._dir(config.dir, this._by(config.by, config.as));\r\n\t\t},\r\n\t\tas:{\r\n\t\t\t//handled by dataFeed\r\n\t\t\t\"server\":function(){\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\t\"date\":function(a,b){\r\n\t\t\t\ta=a-0; b=b-0;\r\n\t\t\t\treturn a>b?1:(a<b?-1:0);\r\n\t\t\t},\r\n\t\t\t\"int\":function(a,b){\r\n\t\t\t\ta = a*1; b=b*1;\r\n\t\t\t\treturn a>b?1:(a<b?-1:0);\r\n\t\t\t},\r\n\t\t\t\"string_strict\":function(a,b){\r\n\t\t\t\ta = a.toString(); b=b.toString();\r\n\t\t\t\treturn a>b?1:(a<b?-1:0);\r\n\t\t\t},\r\n\t\t\t\"string\":function(a,b){\r\n\t\t\t\tif (!b) return 1;\r\n\t\t\t\tif (!a) return -1;\r\n\t\t\t\t\r\n\t\t\t\ta = a.toString().toLowerCase(); b=b.toString().toLowerCase();\r\n\t\t\t\treturn a>b?1:(a<b?-1:0);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_by:function(prop, method){\r\n\t\t\tif (!prop)\r\n\t\t\t\treturn method;\r\n\t\t\tif (typeof method != \"function\")\r\n\t\t\t\tmethod = this.as[method||\"string\"];\r\n\r\n\t\t\twebix.assert(method, \"Invalid sorting method\");\r\n\t\t\treturn function(a,b){\r\n\t\t\t\treturn method(a[prop],b[prop]);\r\n\t\t\t};\r\n\t\t},\r\n\t\t_dir:function(prop, method){\r\n\t\t\tif (prop == \"asc\" || !prop)\r\n\t\t\t\treturn method;\r\n\t\t\treturn function(a,b){\r\n\t\t\t\treturn method(a,b)*-1;\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\nwebix.DataCollection = webix.proto({\r\n\tname:\"DataCollection\",\r\n\tisVisible:function(){ \r\n\t\tif (!this.data.order.length && !this.data._filter_order && !this._settings.dataFeed) return false;\r\n\t\treturn true; \r\n\t},\r\n\t$init:function(config){\r\n\t\tthis.data.provideApi(this, true);\r\n\t\tvar id = (config&&config.id)?config.id:webix.uid();\r\n\t\tthis._settings.id =id;\r\n\t\twebix.ui.views[id] = this;\r\n\t\tthis.data.attachEvent(\"onStoreLoad\", webix.bind(function(){\r\n\t\t\tthis.callEvent(\"onBindRequest\",[]);\r\n\t\t}, this));\r\n\t},\r\n\trefresh:function(){ this.callEvent(\"onBindRequest\",[]); }\r\n}, webix.DataMove, webix.CollectionBind, webix.BindSource, webix.ValidateCollection, webix.DataLoader, webix.MapCollection, webix.EventSystem, webix.BaseBind, webix.Destruction, webix.Settings);\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.Scrollable = {\r\n\t$init:function(config){\r\n\t\t//do not spam unwanted scroll containers for templates \r\n\t\tif (config && !config.scroll && this._one_time_scroll) \r\n\t\t\treturn (this._dataobj = (this._dataobj||this._contentobj));\r\n\t\t\r\n\t\t(this._dataobj||this._contentobj).appendChild(webix.html.create(\"DIV\",{ \"class\" : \"webix_scroll_cont\" },\"\"));\r\n\t\tthis._dataobj=(this._dataobj||this._contentobj).firstChild;\r\n\r\n\t\tif(!webix.env.touch)\r\n\t\t\twebix.event(this._viewobj,\"scroll\", webix.bind(function(e){\r\n\t\t\t\tif(this.callEvent)\r\n\t\t\t\t\twebix.delay(function(){\r\n\t\t\t\t\t\tthis.callEvent(\"onAfterScroll\", []);\r\n\t\t\t\t\t}, this);\r\n\t\t\t},this));\r\n\t},\r\n\t/*defaults:{\r\n\t\tscroll:true\r\n\t},*/\r\n\tscroll_setter:function(value){\r\n\t\tif (!value) return false;\r\n\t\tvar marker =  (value==\"x\"?\"x\":(value==\"xy\"?\"xy\":(value==\"a\"?\"xy\":\"y\")));\r\n\t\tif (webix.Touch && webix.Touch.$active){\r\n\t\t\tthis._dataobj.setAttribute(\"touch_scroll\",marker);\r\n\t\t\tif (this.attachEvent)\r\n\t\t\t\tthis.attachEvent(\"onAfterRender\", webix.bind(this._refresh_scroll,this));\r\n\t\t\tthis._touch_scroll = true;\r\n\t\t} else {\r\n\t\t\tif (webix.env.$customScroll){\r\n\t\t\t\twebix.CustomScroll.enable(this, marker);\r\n\t\t\t} else {\r\n\t\t\t\tvar node = this._dataobj.parentNode.style;\r\n\t\t\t\tif (value.toString().indexOf(\"a\")!=-1){\r\n\t\t\t\t\tnode.overflowX = node.overflowY = \"auto\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (marker.indexOf(\"x\")!=-1){\r\n\t\t\t\t\t\tthis._scroll_x = true;\r\n\t\t\t\t\t\tnode.overflowX = \"scroll\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (marker.indexOf(\"y\")!=-1){\r\n\t\t\t\t\t\tthis._scroll_y = true;\r\n\t\t\t\t\t\tnode.overflowY = \"scroll\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn marker;\r\n\t},\r\n\t_onoff_scroll:function(mode){\r\n\t\tif (!!this._settings.scroll == !!mode) return;\r\n\r\n\t\tif (!webix.env.$customScroll){\r\n\t\t\tvar style = this._dataobj.parentNode.style;\r\n\t\t\tstyle.overflowX = style.overflowY = mode?\"auto\":\"hidden\";\r\n\t\t}\r\n\r\n\t\tthis._scroll_x = this._scroll_y = !!mode;\r\n\t\tthis._settings.scroll = !!mode;\r\n\t},\r\n\tgetScrollState:function(){\r\n\t\tif (webix.Touch && webix.Touch.$active){\r\n\t\t\tvar temp = webix.Touch._get_matrix(this._dataobj);\r\n\t\t\treturn { x : -temp.e, y : -temp.f };\r\n\t\t} else\r\n\t\t\treturn { x : this._dataobj.parentNode.scrollLeft, y : this._dataobj.parentNode.scrollTop };\r\n\t},\r\n\tscrollTo:function(x,y){\r\n\t\tif (webix.Touch && webix.Touch.$active){\r\n\t\t\ty = Math.max(0, Math.min(y, this._dataobj.offsetHeight - this._content_height));\r\n\t\t\tx = Math.max(0, Math.min(x, this._dataobj.offsetWidth - this._content_width));\r\n\t\t\twebix.Touch._set_matrix(this._dataobj, -x, -y, this._settings.scrollSpeed||\"100ms\");\r\n\t\t} else {\r\n\t\t\tthis._dataobj.parentNode.scrollLeft=x;\r\n\t\t\tthis._dataobj.parentNode.scrollTop=y;\r\n\t\t}\r\n\t},\r\n\t_refresh_scroll:function(){\r\n\t\tif (this._settings.scroll.toString().indexOf(\"x\")!=-1){\r\n\t\t\tvar x =  this._dataobj.scrollWidth;\r\n\t\t\tif (x){ //in hidden state we will have a Zero scrollWidth\r\n\t\t\t\tthis._dataobj.style.width = \"100%\";\r\n\t\t\t\tthis._dataobj.style.width = x + \"px\";\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\tif(webix.Touch && webix.Touch.$active && this._touch_scroll){\r\n\t\t\twebix.Touch._clear_artefacts();\r\n\t\t\twebix.Touch._scroll_end();\r\n\t\t\tvar s = this.getScrollState();\r\n\t\t\tvar dx = this._dataobj.offsetWidth - this.$width - s.x;\r\n\t\t\tvar dy = this._dataobj.offsetHeight - this.$height - s.y;\r\n\r\n\t\t\t//if current scroll is outside of data area\r\n\t\t\tif(dx<0 || dy < 0){\r\n\t\t\t\t//scroll to the end of data area\r\n\t\t\t\tvar x = (dx<0?Math.min(-dx - s.x,0):- s.x);\r\n\t\t\t\tvar y = (dy<0?Math.min(-dy - s.y,0):- s.y);\r\n\t\t\t\twebix.Touch._set_matrix(this._dataobj, x, y, 0);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/*\r\n\tUI:paging control\r\n*/\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tdefaults:{\r\n\t\tsize:10,\t//items on page\r\n\t\tpage: 0,\t//current page\r\n\t\tgroup:5,\r\n\t\ttemplate:\"{common.pages()}\",\r\n\t\tmaxWidth:100000,\r\n\t\theight:30,\r\n\t\tborderless:true\r\n\t},\r\n\tname:\"pager\",\r\n\ton_click:{\r\n\t\t//on paging button click\r\n\t\t\"webix_pager_item\":function(e,id){\r\n\t\t\tthis.select(id);\r\n\t\t}\r\n\t},\r\n\t$init:function(config){\r\n\t\tthis.data = this._settings;\r\n\t\tthis._dataobj = this._viewobj;\r\n\t\tthis._viewobj.className += \" webix_pager\";\r\n\r\n        if(config.master===false||config.master === 0)\r\n             this.$ready.push(this._remove_master);\r\n\t},\r\n    _remove_master:function(){\r\n        this.refresh();\r\n        this.$master = { refresh:function(){}, select:function(){} };\r\n    },\r\n\tselect:function(id){\r\n\t\tif (this.$master && this.$master.name == \"pager\")\r\n\t\t\treturn this.$master.select(id);\r\n\r\n\t\t//id - id of button, number for page buttons\r\n\t\tswitch(id){\r\n\t\t\tcase \"next\":\r\n\t\t\t\tid = this._settings.page+1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"prev\":\r\n\t\t\t\tid = this._settings.page-1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"first\":\r\n\t\t\t\tid = 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"last\":\r\n\t\t\t\tid = this._settings.limit-1;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\t//use incoming id\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tif (id<0) id=0;\r\n\t\tif (id>=this.data.limit) id=this.data.limit-1;\r\n\r\n\t\tvar old = this.data.page;\r\n\t\tthis.data.page = id*1; //must be int\r\n\r\n\t\tif (this.refresh()){\r\n\t\t\tif (!this._settings.animate || !this._animate(old, id*1, this._settings.animate))\r\n\t\t\t\tthis.$master.refresh();\r\n\t\t}\r\n\t},\r\n\t_id:\"webix_p_id\",\r\n\ttemplate_setter:webix.template,\r\n\ttype:{\r\n\t\ttemplate:function(a,b){ return a.template.call(this, a,b); },\r\n\t\t//list of page numbers\r\n\t\tpages:function(obj){\r\n\t\t\tvar html=\"\";\r\n\t\t\t//skip rendering if paging is not fully initialized\r\n\t\t\tif (obj.page == -1) return \"\";\r\n\t\t\t//current page taken as center of view, calculate bounds of group\r\n\t\t\tobj.$min = obj.page-Math.round((obj.group-1)/2);\r\n\t\t\tobj.$max = obj.$min + obj.group*1 - 1;\r\n\t\t\tif (obj.$min<0){\r\n\t\t\t\tobj.$max+=obj.$min*(-1);\r\n\t\t\t\tobj.$min=0;\r\n\t\t\t}\r\n\t\t\tif (obj.$max>=obj.limit){\r\n\t\t\t\tobj.$min -= Math.min(obj.$min,obj.$max-obj.limit+1);\r\n\t\t\t\tobj.$max = obj.limit-1;\r\n\t\t\t}\r\n\t\t\t//generate HTML code of buttons\r\n\t\t\tfor (var i=(obj.$min||0); i<=obj.$max; i++)\r\n\t\t\t\thtml+=this.button({id:i, index:(i+1), selected:(i == obj.page ?\"_selected\":\"\"), label:webix.i18n.aria.page+\" \"+(i+1)});\r\n\t\t\treturn html;\r\n\t\t},\r\n\t\tpage:function(obj){\r\n\t\t\treturn obj.page+1;\r\n\t\t},\r\n\t\t//go-to-first page button\r\n\t\tfirst:function(){\r\n\t\t\treturn this.button({ id:\"first\", index:webix.locale.pager.first, selected:\"\", label:webix.i18n.aria.pages[0]});\r\n\t\t},\r\n\t\t//go-to-last page button\r\n\t\tlast:function(){\r\n\t\t\treturn this.button({ id:\"last\", index:webix.locale.pager.last, selected:\"\", label:webix.i18n.aria.pages[3]});\r\n\t\t},\r\n\t\t//go-to-prev page button\r\n\t\tprev:function(){\r\n\t\t\treturn this.button({ id:\"prev\", index:webix.locale.pager.prev, selected:\"\", label:webix.i18n.aria.pages[1]});\r\n\t\t},\r\n\t\t//go-to-next page button\r\n\t\tnext:function(){\r\n\t\t\treturn this.button({ id:\"next\", index:webix.locale.pager.next, selected:\"\", label:webix.i18n.aria.pages[2]});\r\n\t\t},\r\n\t\tbutton:webix.template(\"<button type='button' webix_p_id='{obj.id}' class='webix_pager_item{obj.selected}' aria-label='{obj.label}'>{obj.index}</button>\")\r\n\t},\r\n\tclone:function(pager){\r\n\t\tif (!pager.$view){\r\n\t\t\tpager.view = \"pager\";\r\n\t\t\tpager = webix.ui(pager);\r\n\t\t}\r\n\r\n\t\tthis._clone = pager;\r\n\t\tpager.$master = this;\r\n\t\tthis._refresh_clone();\r\n\t},\r\n\trefresh:function(){\r\n\t\tvar s = this._settings;\r\n\t\tif (!s.count) return;\r\n\r\n\t\t//max page number\r\n\t\ts.limit = Math.ceil(s.count/s.size);\r\n\r\n\t\tvar newPage = Math.min(s.limit-1, s.page);\r\n\r\n\t\tif (newPage != s.page)\r\n\t\t\treturn this.$master.setPage(newPage);\r\n\r\n\t\ts.page = newPage;\r\n\t\tif (newPage>=0 && (newPage!=s.old_page) || (s.limit != s.old_limit) || (s.old_count != s.count)){\r\n\t\t\t//refresh self only if current page or total limit was changed\r\n\t\t\tthis.render();\r\n\t\t\tthis._refresh_clone();\r\n\t\t\ts.old_limit = s.limit;\t//save for onchange check in next iteration\r\n\t\t\ts.old_page = s.page;\r\n\t\t\ts.old_count = s.count;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t},\r\n\tapiOnly_setter:function(value){\r\n\t\treturn (this.$apiOnly=value);\r\n\t},\r\n\t_refresh_clone:function(){\r\n\t\tif (this._clone){\r\n\t\t\tthis._clone._settings.count = this._settings.count;\r\n\t\t\tthis._clone._settings.page = this._settings.page;\r\n\t\t\tthis._clone.refresh();\r\n\t\t}\r\n\t},\r\n\t_animate:function(old, id, config){\r\n\t\tif (old == id) return false;\r\n\t\tif (this._pgInAnimation){\r\n\t\t\tif(this._pgAnimateTimeout){\r\n\t\t\t\twindow.clearTimeout(this._pgAnimateTimeout);\r\n\t\t\t}\r\n\t\t\treturn (this._pgAnimateTimeout = webix.delay(this._animate, this,[old, id, config],100));\r\n\t\t}\r\n\t\tvar direction = id > old ? \"left\" : \"right\";\r\n\t\tif (config.direction == \"top\" || config.direction == \"bottom\")\r\n\t\t\tdirection = id > old ? \"top\" : \"bottom\";\r\n\t\tif (config.flip)\r\n\t\t\tdirection = \"\";\r\n\r\n\t\t\r\n\r\n\t\t//make copy of existing view\r\n\t\tvar top = 0;\r\n\t\tvar snode = this.$master._dataobj;\r\n\t\tif (this.$master._body){\t//datatable\r\n\t\t\tsnode = this.$master._body;\r\n\t\t\ttop = snode.offsetTop;\r\n\t\t\twebix.html.addCss(this.$master.$view, \"webix_animation\");\r\n\t\t}\r\n\r\n\t\tvar onode = snode.cloneNode(true);\r\n\t\tonode.style.width = snode.style.width = \"100%\";\r\n\t\t\r\n\t\t//redraw page\r\n\t\tthis.$master.refresh();\r\n\t\t//append copy next to original\r\n\t\twebix.html.insertBefore(onode, snode.nextSibling, snode.parentNode);\r\n\r\n\t\t//animation config\r\n\t\tvar line;\r\n\t\tvar base = config !== true ? config : {};\r\n\t\tvar aniset = webix.extend({\r\n\t\t\tdirection:direction,\r\n\t\t\tcallback:webix.bind(function(){\r\n\t\t\t\taniset.callback = null;\r\n\t\t\t\twebix.animate.breakLine(line);\r\n\t\t\t\tthis._pgInAnimation = false;\r\n\t\t\t\tif (this.$master._body)\r\n\t\t\t\t\twebix.html.removeCss(this.$master.$view, \"webix_animation\");\r\n\t\t\t},this),\r\n\t\t\ttop:top\r\n\t\t}, base);\r\n\r\n\t\t//run animation\r\n\t\tline = webix.animate.formLine(snode, onode, aniset);\r\n\t\twebix.animate([ snode, onode ], aniset );\r\n\t\tthis._pgInAnimation = true;\r\n\t}\r\n}, webix.MouseEvents, webix.SingleRender, webix.ui.view, webix.EventSystem);\r\n\r\nwebix.locale.pager = {\r\n\tfirst: \" &lt;&lt; \",\r\n\tlast: \" &gt;&gt; \",\r\n\tnext: \" &gt; \",\r\n\tprev: \" &lt; \"\r\n};\r\n\r\n\r\nwebix.PagingAbility = {\r\n\tpager_setter:function(pager){\r\n\t\tif (typeof pager == \"string\"){\r\n\t\t\tvar ui_pager = webix.$$(pager);\r\n\t\t\tif (!ui_pager){\r\n\t\t\t\tthis.$blockRender = true;\r\n\t\t\t\twebix.delay(function(){\r\n\t\t\t\t\tvar obj = webix.$$(pager);\r\n\r\n\t\t\t\t\tthis._settings.pager = this.pager_setter(obj);\r\n\t\t\t\t\tvar s = obj._settings;\r\n\t\t\t\t\ts.count = this.data._count_pager_total(s.level);\r\n\t\t\t\t\tobj.refresh();\r\n\r\n\t\t\t\t\tthis.$blockRender = false;\r\n\t\t\t\t\tthis.render();\r\n\t\t\t\t}, this);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tpager = ui_pager;\r\n\t\t}\r\n\r\n\t\tfunction check_pager_sizes(repeat){\r\n\t\t\tif (pager.config.autosize && this.getVisibleCount){\r\n\t\t\t\tvar count = this.getVisibleCount();\r\n\t\t\t\tif (isNaN(count)){\r\n\t\t\t\t\tpager.config.size = 1;\r\n\t\t\t\t\twebix.delay(check_pager_sizes, this, [true]);\r\n\t\t\t\t} else if (count != pager.config.size){\r\n\t\t\t\t\tpager.config.size = count;\r\n\t\t\t\t\tpager.refresh();\r\n\t\t\t\t\tif (repeat === true)\r\n\t\t\t\t\t\tthis.refresh();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar s = this._settings.pager;\r\n\t\t\t//initial value of pager = -1, waiting for real value\r\n\t\t\tif (s.page == -1) return false;\t\r\n\t\t\t\r\n\t\t\tthis.data.$min = this._count_pager_index(0, s.page*s.size);\t//affect data.getRange\r\n\t\t\tthis.data.$max = this._count_pager_index(this.data.$min, s.size);\r\n\t\t\tthis.data.$pagesize = this.data.$max - this.data.$min;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tthis.attachEvent(\"onBeforeRender\",check_pager_sizes);\r\n\r\n\t\tif (!pager.$view){\r\n\t\t\tpager.view = \"pager\";\r\n\t\t\tpager = webix.ui(pager);\r\n\t\t}\r\n\t\tthis._pager = pager;\r\n\t\tpager.$master = this;\r\n\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\", function(){\r\n\t\t\tvar s = pager._settings;\r\n\t\t\ts.count = this._count_pager_total(s.level);\r\n\t\t\tpager.refresh();\r\n\t\t});\r\n\t\tthis.data._count_pager_total = this._count_pager_total;\r\n\r\n\t\treturn pager._settings;\r\n\t},\r\n\t_count_pager_total:function(level){\r\n\t\tif (level && level !== 0){\r\n\t\t\tvar count = 0; \r\n\t\t\tthis.each(function(obj){\r\n\t\t\t\tif (obj.$level == level) count++;\r\n\t\t\t});\r\n\t\t\treturn count;\r\n\t\t} else\r\n\t\t\treturn this.count();\r\n\t},\r\n\t_count_pager_index:function(start, count){\r\n\t\tvar s = this._settings.pager;\r\n\r\n\t\tif (s.level && s.level !== 0){\r\n\t\t\tvar end = start;\r\n\t\t\tvar max = this.data.order.length;\r\n\r\n\t\t\tif (count)\r\n\t\t\t\twhile (end < max){\r\n\t\t\t\t\tif (this.data.getItem(this.data.order[end]).$level == s.level){\r\n\t\t\t\t\t\tif (count === 0)\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tcount--;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tend++;\r\n\t\t\t\t}\r\n\r\n\t\t\treturn end;\r\n\t\t} else\r\n\t\t\treturn start+count;\r\n\t},\r\n\tsetPage:function(value){\r\n\t\tif (this._pager)\r\n\t\t\tthis._pager.select(value);\r\n\t},\r\n\tgetPage:function(){\r\n\t\treturn this._pager._settings.page;\r\n\t},\r\n\tgetPager:function(){\r\n\t\treturn this._pager;\r\n\t}\r\n};\r\n/*\r\n\tBehavior: AutoTooltip - links tooltip to data driven item\r\n*/\r\n\r\n/*\r\n\tUI: Tooltip\r\n\t\r\n\t@export\r\n\t\tshow\r\n\t\thide\r\n*/\r\n\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"tooltip\",\r\n\tdefaults:{\r\n\t\tdy:0,\r\n\t\tdx:20\r\n\t},\r\n\t$init:function(container){\r\n\t\tif (typeof container == \"string\"){\r\n\t\t\tcontainer = { template:container };\r\n\t\t}\r\n\r\n\t\tthis.type = webix.extend({}, this.type);\r\n\r\n\t\t//create  container for future tooltip\r\n\t\tthis._viewobj = this._contentobj = this._dataobj = webix.html.create(\"DIV\", {role:\"alert\", \"aria-atomic\":\"true\"});\r\n\t\tthis._contentobj.className = \"webix_tooltip\";\r\n\t\twebix.html.insertBefore(this._contentobj,document.body.firstChild,document.body);\r\n\t\twebix.attachEvent(\"onClick\", webix.bind(function(e){\r\n\t\t\tif (this._visible && webix.$$(e) != this)\r\n\t\t\t\tthis.hide();\r\n\t\t}, this));\r\n\t},\r\n\tadjust:function(){  },\r\n\t//show tooptip\r\n\t//pos - object, pos.x - left, pox.y - top\r\n    isVisible:function(){\r\n        return true;\r\n    },\r\n\tshow:function(data,pos){\r\n\t\tif (this._disabled) return;\r\n\t\t//render sefl only if new data was provided\r\n\t\tif (this.data!=data){\r\n\t\t\tthis.data=webix.extend({},data);\r\n\t\t\tthis.render(data);\r\n\t\t}\r\n\r\n\t\tif (this._dataobj.firstChild){\r\n\t\t\t//show at specified position\r\n\t\t\tthis._contentobj.style.top = pos.y+this._settings.dy+\"px\";\r\n\t\t\tthis._contentobj.style.left = pos.x+this._settings.dx+\"px\";\r\n\t\t\tthis._contentobj.style.display=\"block\";\r\n\t\t}\r\n\t\tthis._visible = true;\r\n\t},\r\n\t//hide tooltip\r\n\thide:function(){\r\n\t\tthis.data=null; //nulify, to be sure that on next show it will be fresh-rendered\r\n\t\tthis._contentobj.style.display=\"none\";\r\n\t\tthis._visible = false;\r\n\t},\r\n\tdisable:function(){\r\n\t\tthis._disabled = true;\r\n\t},\r\n\tenable:function(){\r\n\t\tthis._disabled = false;\r\n\t},\r\n\ttype:{\r\n\t\ttemplate:webix.template(\"{obj.id}\"),\r\n        templateStart:webix.template.empty,\r\n\t    templateEnd:webix.template.empty\r\n\t}\r\n\r\n}, webix.SingleRender, webix.Settings, webix.EventSystem, webix.ui.view);\r\n\t\t\r\n\r\n\r\nwebix.AutoTooltip = {\r\n\ttooltip_setter:function(value){\r\n\t\tif (value){\r\n\t\t\tif (typeof value == \"function\")\r\n\t\t\t\tvalue = { template:value };\r\n\r\n\t\t\tvar col_mode = !value.template;\r\n\t\t\tvar t = new webix.ui.tooltip(value);\r\n\t\t\tthis._enable_mouse_move();\r\n\t\t\tvar showEvent = this.attachEvent(\"onMouseMove\",function(id,e){\t//show tooltip on mousemove\r\n\t\t\t\tthis._mouseEventX = e.clientX;\r\n\t\t\t\tthis._mouseEventY = e.clientY;\r\n\t\t\t\tif (this.getColumnConfig){\r\n\t\t\t\t\tvar config = t.type.column = this.getColumnConfig(id.column);\r\n\t\t\t\t\tif (col_mode){\r\n\t\t\t\t\t\t//empty tooltip - ignoring\r\n\t\t\t\t\t\tif (!config.tooltip && config.tooltip != webix.undefined)\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\tvar trg = e.target || e.srcElements;\r\n\r\n\t\t\t\t\t\tif(trg.getAttribute(\"webix_area\") && config.tooltip){\r\n\t\t\t\t\t\t\tvar area = trg.getAttribute(\"webix_area\");\r\n\t\t\t\t\t\t\tt.type.template = function(obj,common){\r\n\t\t\t\t\t\t\t\tvar values = obj[common.column.id];\r\n\t\t\t\t\t\t\t\treturn webix.template(config.tooltip).call(this,obj,common,values[area],area);\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tif (config.tooltip)\r\n\t\t\t\t\t\t\t\tt.type.template = config.tooltip = webix.template(config.tooltip);\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tvar text = this.getText(id.row, id.column);\r\n\t\t\t\t\t\t\t\tt.type.template = function(){ return text; };\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!webix.DragControl.active)\r\n\t\t\t\t\tt.show(this.getItem(id),webix.html.pos(e));\r\n\t\t\t});\r\n\t\t\t// [[IMPROVE]]  As we can can have only one instance of tooltip per page \r\n\t\t\t//\t\t\t\tthis handler can be attached once per page, not once per component\r\n\t\t\tvar hideEvent = webix.event(document.body, \"mousemove\", webix.bind(function(e){\r\n\t\t\t\te = e||event;\r\n\t\t\t\tif(this._mouseEventX != e.clientX || this._mouseEventY != e.clientY)\r\n\t\t\t\t\tt.hide();\r\n\t\t\t},this));\r\n\t\t\tthis.attachEvent(\"onDestruct\",function(){\r\n\t\t\t\tif(this.config.tooltip)\r\n\t\t\t\t\tthis.config.tooltip.destructor();\r\n\t\t\t});\r\n\t\t\tthis.attachEvent(\"onAfterScroll\", function(){\r\n\t\t\t\tt.hide();\r\n\t\t\t});\r\n\t\t\tt.attachEvent(\"onDestruct\",webix.bind(function(){\r\n\t\t\t\tthis.detachEvent(showEvent);\r\n\t\t\t\twebix.eventRemove(hideEvent);\r\n\t\t\t},this));\r\n\t\t\treturn t;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nwebix.protoUI({\r\n\tname:\"proto\",\r\n\t$init:function(){\r\n\t\tthis.data.provideApi(this, true);\r\n\t\tthis._dataobj = this._dataobj || this._contentobj;\r\n\t\t\r\n\t\t//render self , each time when data is updated\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\",webix.bind(function(){\r\n\t\t\tthis.render.apply(this,arguments);\r\n\t\t},this));\r\n\t},\r\n\t$setSize:function(){\r\n\t\tif (webix.ui.view.prototype.$setSize.apply(this, arguments))\r\n\t\t\tthis.render();\r\n\t},\r\n\t_id:\"webix_item\",\r\n\ton_mouse_move:{\r\n\t},\r\n\ttype:{}\r\n}, webix.PagingAbility, webix.DataMarks, webix.AutoTooltip,webix.ValidateCollection,webix.RenderStack, webix.DataLoader, webix.ui.view, webix.EventSystem, webix.Settings);\r\n\r\nwebix.CodeParser = {\r\n\t//converts a complex object into an object with primitives properties\r\n\tcollapseNames:function(base, prefix, data){\r\n\t\tdata = data || {};\r\n\t\tprefix = prefix || \"\";\r\n\r\n\t\tif(!base || typeof base != \"object\")\r\n\t\t\treturn null;\r\n\r\n\t\tfor(var prop in base){\r\n\t\t\tif(base[prop] && typeof base[prop] == \"object\" && !webix.isDate(base[prop]) && !webix.isArray(base[prop])){\r\n\t\t\t\twebix.CodeParser.collapseNames(base[prop], prefix+prop+\".\", data);\r\n\t\t\t} else {\r\n\t\t\t\tdata[prefix+prop] = base[prop];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn data;\r\n\t},\r\n\t//converts an object with primitive properties into an object with complex properties\r\n\texpandNames:function(base){\r\n\t\tvar data = {},\r\n\t\t\ti, lastIndex, name, obj, prop;\r\n\r\n\t\tfor(prop in base){\r\n\t\t\tname = prop.split(\".\");\r\n\t\t\tlastIndex = name.length-1;\r\n\t\t\tobj = data;\r\n\t\t\tfor( i =0; i < lastIndex; i++ ){\r\n\t\t\t\tif(!obj[name[i]])\r\n\t\t\t\t\tobj[name[i]]  = {};\r\n\t\t\t\tobj = obj[name[i]];\r\n\t\t\t}\r\n\t\t\tobj[name[lastIndex]] = base[prop];\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t}\r\n};\r\n\r\nwebix.Values = {\r\n\t$init:function(){\r\n\t\tthis.elements = {};\r\n\t},\r\n\tfocus:function(name){\r\n\t\tif (name){\r\n\t\t\twebix.assert(this.elements[name],\"unknown input name: \"+name);\r\n\t\t\tthis._focus(this.elements[name]);\r\n\t\t} else{\r\n\t\t\tfor(var n in this.elements){\r\n\t\t\t\tif(this._focus(this.elements[n]))\r\n\t\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_focus: function(target){\r\n\t\tif (target && target.focus){\r\n\t\t\ttarget.focus();\r\n\t\t\treturn true;\r\n\t\t}\r\n\t},\r\n\tsetValues:function(data, update){\r\n\t\tif (this._settings.complexData)\r\n\t\t\tdata = webix.CodeParser.collapseNames(data);\r\n\r\n\t\tthis._inner_setValues(data, update);\r\n\t},\r\n\t_inner_setValues:function(data, update){\r\n\t\tthis._is_form_dirty = update;\r\n\t\t//prevent onChange calls from separate controls\r\n\t\tthis.blockEvent();\r\n\r\n\t\tif (!update || !this._values)\r\n\t\t\tthis._values = {};\r\n\r\n\t\tif (webix.debug_render)\r\n\t\t\twebix.log(\"Render: \"+this.name+\"@\"+this._settings.id);\r\n\r\n\t\tfor (var name in data)\r\n\t\t\tif (!this.elements[name])\r\n\t\t\t\tthis._values[name] = data[name];\r\n\r\n\t\tfor (var name in this.elements){\r\n\t\t\tvar input = this.elements[name];\r\n\t\t\tif (input){\r\n\t\t\t\tif (!webix.isUndefined(data[name]))\r\n\t\t\t\t\tinput.setValue(data[name]);\r\n\t\t\t\telse if (!update && input._allowsClear)\r\n\t\t\t\t\tinput.setValue(\"\");\r\n\t\t\t\tthis._values[name] = input.getValue();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.unblockEvent();\r\n\t\tthis.callEvent(\"onValues\",[]);\r\n\t},\r\n\tisDirty:function(){\r\n\t\tif (this._is_form_dirty) return true;\r\n\t\tif (this.getDirtyValues(1) === 1)\r\n\t\t\treturn true;\r\n\r\n\t\treturn false;\r\n\t},\r\n\tsetDirty:function(flag){\r\n\t\tthis._is_form_dirty = flag;\r\n\t\tif (!flag)\r\n\t\t\tthis._values = this._inner_getValues();\r\n\t},\r\n\tgetDirtyValues:function(){\r\n\t\tvar result = {};\r\n\t\tif (this._values){\r\n\t\t\tfor (var name in this.elements){\r\n\t\t\t\tvar value = this.elements[name].getValue();\r\n\t\t\t\tif (this._values[name] != value){\r\n\t\t\t\t\tresult[name] = value;\r\n\t\t\t\t\t//FIXME - used by isDirty\r\n\t\t\t\t\tif (arguments[0])\r\n\t\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tgetCleanValues:function(){\r\n\t\treturn this._values;\r\n\t},\r\n\tgetValues:function(filter){\r\n\t\tvar data = this._inner_getValues(filter);\r\n\t\tif (this._settings.complexData)\r\n\t\t\tdata = webix.CodeParser.expandNames(data);\r\n\r\n\t\treturn data;\r\n\t},\r\n\t_inner_getValues:function(filter){\r\n\t\t//get original data\t\t\r\n\t\tvar success,\r\n\t\t\telem = null,\r\n\t\t\tdata = (this._values?webix.copy(this._values):{});\r\n\r\n\t\t//update properties from linked controls\r\n\t\tfor (var name in this.elements){\r\n\t\t\telem = this.elements[name];\r\n\t\t\tsuccess = true;\r\n\t\t\tif(filter){\r\n\t\t\t\tif(typeof filter == \"object\"){\r\n\t\t\t\t\tif(filter.hidden === false)\r\n\t\t\t\t\t\tsuccess = elem.isVisible();\r\n\t\t\t\t\tif(success && filter.disabled === false)\r\n\t\t\t\t\t\tsuccess = elem.isEnabled();\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\tsuccess = filter.call(this,elem);\r\n\t\t\t}\r\n\t\t\tif(success)\r\n\t\t\t\tdata[name] = elem.getValue();\r\n\t\t\telse\r\n\t\t\t\tdelete data[name]; //in case of this._values[name]\r\n\t\t}\r\n\t\treturn data;\r\n\t},\r\n\tclear:function(){\r\n\t\tthis._is_form_dirty = false;\r\n\t\tvar data = {};\r\n\t\tfor (var name in this.elements)\r\n\t\t\tif (this.elements[name]._allowsClear)\r\n\t\t\t\tdata[name] = this.elements[name]._settings.defaultValue||\"\";\r\n\t\t\r\n\t\tthis._inner_setValues(data);\r\n\t},\r\n\tmarkInvalid: function(name, state){\r\n\t\t// remove 'invalid' mark\r\n\t\tif(state === false){\r\n\t\t\tthis._clear_invalid(name);\r\n\t\t}\r\n\t\t// add 'invalid' mark\r\n\t\telse{\r\n\t\t\t// set invalidMessage\r\n\t\t\tif(typeof state == \"string\"){\r\n\t\t\t\tvar input = this.elements[name];\r\n\t\t\t\tif(input)\r\n\t\t\t\t\tinput._settings.invalidMessage = state;\r\n\t\t\t}\r\n\t\t\tthis._mark_invalid(name);\r\n\t\t}\r\n\t},\r\n\t_mark_invalid:function(id){\r\n\t\tvar input = this.elements[id];\r\n\t\tif (id && input){\r\n\t\t\tthis._clear_invalid(id,true);\r\n\t\t\twebix.html.addCss(input._viewobj, \"webix_invalid\");\r\n\t\t\tinput._settings.invalid = true;\r\n\t\t\tvar message = input._settings.invalidMessage;\r\n\t\t\tif(typeof message === \"string\" && input.setBottomText)\r\n\t\t\t\tinput.setBottomText();\r\n\t\t}\r\n\t},\r\n\t_clear_invalid:function(id,silent){\r\n\t\tvar input = this.elements[id];\r\n        if(id && input && input.$view && input._settings.invalid){\r\n\t        webix.html.removeCss(input._viewobj, \"webix_invalid\");\r\n\t        input._settings.invalid = false;\r\n\t        var message = input._settings.invalidMessage;\r\n\t        if(typeof message === \"string\" && !silent && input.setBottomText)\r\n\t        \tinput.setBottomText();\r\n        }\r\n\t}\r\n};\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"toolbar\",\r\n\tdefaults:{\r\n\t\ttype:'toolbar'\r\n\t},\r\n\t_render_borders:true,\r\n\t_form_classname:\"webix_toolbar\",\r\n\t_form_vertical:false,\r\n\t$init:function(config){\r\n\t\tif (!config.borderless)\r\n\t\t\tthis._contentobj.style.borderWidth=\"1px\";\r\n\r\n\t\tthis._contentobj.className+=\" \"+this._form_classname;\r\n\t\tthis._viewobj.setAttribute(\"role\", \"toolbar\");\r\n\t},\r\n\t_recollect_elements:function(){\r\n\t\tvar form = this;\r\n\t\tform.elements = {};\r\n\t\twebix.ui.each(this, function(view){\r\n\t\t\tif (view._settings.name && view.getValue && view.setValue){\r\n\t\t\t\tform.elements[view._settings.name] = view;\r\n\t\t\t\tif (view.mapEvent)\r\n\t\t\t\t\tview.mapEvent({\r\n\t\t\t\t\t\tonbeforetabclick:form,\r\n\t\t\t\t\t\tonaftertabclick:form,\r\n\t\t\t\t\t\tonitemclick:form,\r\n\t\t\t\t\t\tonchange:form\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (view.setValues) return false;\r\n\t\t});\r\n\t\tthis.setDirty(false);\r\n\t},\r\n\t_parse_cells_ext_end:function(){\r\n\t\tthis._recollect_elements();\r\n\t},\r\n\t_parse_cells_ext:function(collection){\r\n\t\tvar config = this._settings;\r\n\t\tif (config.elements && !collection){\r\n\t\t\tthis._collection = collection = config.elements;\r\n\t\t\tthis._vertical_orientation = this._form_vertical;\r\n\t\t\tdelete config.elements;\r\n\t\t}\r\n\r\n\t\tif (this._settings.elementsConfig)\r\n\t\t\tthis._rec_apply_settings(this._collection, config.elementsConfig);\r\n\t\t\r\n\t\treturn collection;\r\n\t},\r\n\t_rec_apply_settings:function(col, settings){\r\n\t\tfor (var i=0; i<col.length; i++){\r\n\t\t\tvar element = col[i];\r\n\t\t\twebix.extend( element, settings );\r\n\t\t\tvar nextsettings = settings;\r\n\r\n\t\t\tif (element.elementsConfig)\r\n\t\t\t\tnextsettings = webix.extend(webix.extend({}, element.elementsConfig), settings);\r\n\r\n\t\t\tvar sub;\r\n\t\t\tif (element.body)\r\n\t\t\t\tsub = [element.body];\r\n\t\t\telse\r\n\t\t\t\tsub = element.rows || element.cols || element.cells || element.body;\r\n\r\n\t\t\tif (sub)\r\n\t\t\t\tthis._rec_apply_settings(sub, nextsettings);\r\n\t\t}\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tvar sizes = webix.ui.layout.prototype.$getSize.call(this, dx, dy);\r\n\t\tvar parent = this.getParentView();\r\n\t\tvar index = this._vertical_orientation?3:1;\r\n\t\tif (parent && this._vertical_orientation != parent._vertical_orientation)\r\n\t\t\tsizes[index]+=100000;\r\n\t\t\r\n\t\twebix.debug_size_box(this, sizes, true);\r\n\t\treturn sizes;\r\n\t},\r\n\trender:function(){\r\n\t},\r\n\trefresh:function(){\r\n\t\tthis.render();\r\n\t}\r\n},  webix.Scrollable, webix.AtomDataLoader, webix.Values, webix.ui.layout, webix.ValidateData);\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"template\",\r\n\t$init:function(config){\r\n\t\tvar subtype = this._template_types[config.type];\r\n\t\tif (subtype){\r\n\t\t\twebix.extend(config, subtype);\r\n\t\t\t\r\n\t\t\t//will reset borders for \"section\"\r\n\t\t\tif (config.borderless){\r\n\t\t\t\tdelete config._inner;\r\n\t\t\t\tthis._set_inner(config);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this._dataobj == this._viewobj){\r\n\t\t\tthis._dataobj = webix.html.create(\"DIV\");\r\n\t\t\tthis._dataobj.className = \" webix_template\";\r\n\t\t\tthis._viewobj.appendChild(this._dataobj);\r\n\t\t} else \r\n\t\t\tthis._dataobj.className += \" webix_template\";\r\n\r\n\t\tthis.attachEvent(\"onAfterRender\", this._correct_width_scroll);\r\n\t},\r\n\tsetValues:function(obj, update){\r\n\t\tthis.data = update?webix.extend(this.data, obj, true):obj;\r\n\t\tthis.render();\r\n\t},\r\n\tgetValues:function(){\r\n\t\treturn this.data;\r\n\t},\r\n\t$skin:function(){\r\n\t\tthis._template_types.header.height = this._template_types.section.height = webix.skin.$active.barHeight;\r\n\t},\r\n\t_template_types:{\r\n\t\t\"header\":{\r\n\t\t\tcss:\"webix_header\"\r\n\t\t},\r\n\t\t\"section\":{\r\n\t\t\tcss:\"webix_section\",\r\n\t\t\tborderless:true\r\n\t\t},\r\n\t\t\"clean\":{\r\n\t\t\tcss:\"webix_clean\",\r\n\t\t\tborderless:true\r\n\t\t}\r\n\t},\r\n\tonClick_setter:function(value){\r\n\t\tthis.on_click = webix.extend((this.on_click || {}), value, true);\r\n\r\n\t\tif (!this._onClick)\r\n\t\t\twebix.extend(this, webix.MouseEvents);\r\n\r\n\t\treturn value;\r\n\t},\r\n\tdefaults:{\r\n\t\ttemplate:webix.template.empty\r\n\t},\r\n\t_render_me:function(){\r\n\t\tthis._not_render_me = false;\r\n\t\tthis._probably_render_me();\r\n\t\tthis.resize();\r\n\t},\r\n\t_probably_render_me:function(){\r\n\t\tif (!this._not_render_me){\r\n\t\t\tthis._not_render_me = true;\r\n\t\t\tthis.render();\r\n\t\t}\r\n\t},\r\n\tsrc_setter:function(value){\r\n\t\tthis._not_render_me = true;\r\n\t\t\r\n\t\tthis.callEvent(\"onBeforeLoad\",[]);\r\n\t\twebix.ajax(value, webix.bind(function(text){\r\n\t\t\tthis._settings.template = webix.template(text);\r\n\t\t\tthis._render_me();\r\n\t\t\tthis.callEvent(\"onAfterLoad\",[]);\r\n\t\t}, this));\r\n\t\treturn value;\r\n\t},\r\n\t_correct_width_scroll:function(){\r\n\t\t//we need to force auto height calculation after content change\r\n\t\t//dropping the last_size flag will ensure that inner logic of $setSize will be processed\r\n\t\tif (this._settings.autoheight){\r\n\t\t\tthis._last_size = null;\r\n\t\t\tthis.resize();\r\n\t\t}\r\n\r\n\t\tif (this._settings.scroll && this._settings.scroll.indexOf(\"x\") != -1)\r\n\t\t\tthis._dataobj.style.width = this._dataobj.scrollWidth + \"px\";\r\n\t},\r\n\tcontent_setter:function(config){\r\n\t\tif (config){\r\n\t\t\tthis._not_render_me = true;\r\n\t\t\tthis.render = function(){};\r\n\t\t\tthis._dataobj.appendChild(webix.toNode(config));\r\n\t\t}\r\n\t},\r\n\trefresh:function(){\r\n\t\tthis.render();\r\n\t},\r\n\tsetHTML:function(html){\r\n\t\tthis._settings.template = function(){ return html; };\r\n\t\tthis.refresh();\r\n\t},\r\n\tsetContent:function(content){\r\n\t\tthis._dataobj.innerHTML = \"\";\r\n\t\tthis.content_setter(content);\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tif (webix.ui.view.prototype.$setSize.call(this,x,y)){\r\n\t\t\tthis._probably_render_me();\r\n\t\t\tif (this._settings.autoheight){\r\n\t\t\t\tvar top =this.getTopParentView();\r\n\t\t\t\tclearTimeout(top._template_resize_timer);\r\n\t\t\t\ttop._template_resize_timer = webix.delay(this.resize, this);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t},\r\n\t$getSize:function(x,y){\r\n\t\tif (this._settings.autoheight && !this._settings.type)\r\n\t\t\tthis._settings.height = this._get_auto_height();\r\n\r\n\t\treturn webix.ui.view.prototype.$getSize.call(this,x,y);\r\n\t},\r\n\t_get_auto_height:function(){\r\n\t\tvar size;\r\n\t\t\t\r\n\t\tthis._probably_render_me();\r\n\t\tvar padding = webix.skin.$active.layoutPadding.space;\r\n\t\tthis._dataobj.style.height = \"auto\";\r\n\t\tsize = this._dataobj.scrollHeight;\r\n\t\tthis._dataobj.style.height = \"\";\r\n\r\n\t\treturn size;\r\n\t},\r\n\t_one_time_scroll:true //scroll will appear only if set directly in config\r\n}, webix.Scrollable, webix.AtomDataLoader, webix.AtomRender, webix.EventSystem, webix.ui.view);\r\n\r\nwebix.protoUI({\r\n\tname:\"iframe\",\r\n\t$init:function(config){\r\n\t\tthis._dataobj = this._contentobj;\r\n\t\tthis._contentobj.innerHTML = \"<iframe style='width:100%; height:100%' frameborder='0' onload='var t = $$(this.parentNode.getAttribute(\\\"view_id\\\")); if (t) t.callEvent(\\\"onAfterLoad\\\",[]);' src='about:blank'></iframe>\";\r\n\t},\r\n\tload:function(value){\r\n\t\tthis.src_setter(value);\r\n\t},\r\n\tsrc_setter:function(value){\r\n\t\tthis.getIframe().src = value;\r\n\t\tthis.callEvent(\"onBeforeLoad\",[]);\r\n\t\treturn value;\r\n\t},\r\n\tgetIframe:function(){\r\n\t\treturn this._contentobj.getElementsByTagName(\"iframe\")[0];\r\n\t},\r\n\tgetWindow:function(){\r\n\t\treturn this.getIframe().contentWindow;\r\n\t}\r\n}, webix.ui.view, webix.EventSystem);\r\n\r\nwebix.OverlayBox = {\r\n\tshowOverlay:function(message){\r\n\t\tif (!this._overlay){\r\n\t\t\tthis._overlay = webix.html.create(\"DIV\",{ \"class\":\"webix_overlay\" },(message||\"\"));\r\n\t\t\twebix.html.insertBefore(this._overlay, this._viewobj.firstChild, this._viewobj);\r\n\t\t\tthis._viewobj.style.position = \"relative\";\r\n\t\t} else \r\n\t\t\tthis._overlay.innerHTML = message;\r\n\t},\r\n\thideOverlay:function(){\r\n\t\tif (this._overlay){\r\n\t\t\twebix.html.remove(this._overlay);\r\n\t\t\tthis._overlay = null;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/*scrollable view with another view insize*/\r\nwebix.protoUI({\r\n\tname:\"scrollview\",\r\n\tdefaults:{\r\n\t\tscroll:\"y\",\r\n\t\tscrollSpeed:\"0ms\"\r\n\t},\r\n\t$init:function(){\r\n\t\tthis._viewobj.className += \" webix_scrollview\";\r\n\t},\r\n\tbody_setter:function(config){\r\n\t\tconfig.borderless = true;\r\n\t\tthis._body_cell = webix.ui._view(config);\r\n\t\tthis._body_cell._parent_cell = this;\r\n\t\tthis._dataobj.appendChild(this._body_cell._viewobj);\r\n\t},\r\n\tgetChildViews:function(){\r\n\t\treturn [this._body_cell];\r\n\t},\r\n\tgetBody:function(){\r\n\t\treturn this._body_cell;\r\n\t},\r\n\tresizeChildren:function(){\r\n\t\tthis._desired_size = this._body_cell.$getSize(0, 0);\r\n\t\tthis._resizeChildren();\r\n\t\twebix.callEvent(\"onResize\",[]);\r\n\t},\r\n\t_resizeChildren:function(){\r\n\t\tvar scroll_size = this._native_scroll || webix.ui.scrollSize;\r\n\t\tvar cx = Math.max(this._content_width, this._desired_size[0]);\r\n\t\tvar cy = Math.max(this._content_height, this._desired_size[2]);\r\n\t\tthis._body_cell.$setSize(cx, cy);\t\t\t\r\n\t\tthis._dataobj.style.width = this._body_cell._content_width+\"px\";\r\n\t\tthis._dataobj.style.height = this._body_cell._content_height+\"px\";\r\n\t\tif (webix.env.touch){\r\n\t\t\tvar state = this.getScrollState();\r\n\t\t\tvar top = this._body_cell._content_height - this._content_height;\r\n\t\t\tif (top < state.y)\r\n\t\t\t\tthis.scrollTo(null, top);\r\n\t\t}\r\n\t\tif (webix._responsive_exception){\r\n\t\t\twebix._responsive_exception = false;\r\n\t\t\tthis._desired_size = this._body_cell.$getSize(0, 0);\r\n\t\t\tthis._resizeChildren();\r\n\t\t}\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tvar desired_size = this._desired_size = this._body_cell.$getSize(0, 0);\r\n\t\tvar self_sizes   = webix.ui.view.prototype.$getSize.call(this, dx, dy);\r\n\t\tvar scroll_size = this._native_scroll || webix.ui.scrollSize;\r\n\r\n\t\tif(this._settings.scroll==\"x\"){\r\n\t\t\tself_sizes[2] = Math.max(self_sizes[2], desired_size[2]) + scroll_size;\r\n\t\t\tself_sizes[3] = Math.min(self_sizes[3], desired_size[3]) + scroll_size;\r\n\t\t} else if(this._settings.scroll==\"y\"){\r\n\t\t\tself_sizes[0] = Math.max(self_sizes[0], desired_size[0]) + scroll_size;\r\n\t\t\tself_sizes[1] = Math.min(self_sizes[1], desired_size[1]) + scroll_size;\r\n\t\t}\r\n\t\treturn self_sizes;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tvar temp = webix.ui.scrollSize;\r\n\t\twebix.ui.scrollSize = this._native_scroll || temp;\r\n\r\n\t\tif (webix.ui.view.prototype.$setSize.call(this,x,y))\r\n\t\t\tthis._resizeChildren();\r\n\t\t\r\n\t\twebix.ui.scrollSize = temp;\r\n\t},\r\n\tscroll_setter:function(value){\r\n\t\tvar custom = webix.env.$customScroll;\r\n\t\tif (typeof value == \"string\" && value.indexOf(\"native-\") === 0){\r\n\t\t\tthis._native_scroll = 17;\r\n\t\t\tvalue = value.replace(\"native-\");\r\n\t\t\twebix.env.$customScroll = false;\r\n\t\t}\r\n\r\n\t\tvalue =  webix.Scrollable.scroll_setter.call(this, value);\r\n\r\n\t\twebix.env.$customScroll = custom;\r\n\t\treturn value;\r\n\t},\r\n\t_replace:function(new_view){\r\n\t\tthis._body_cell.destructor();\r\n\t\tthis._body_cell = new_view;\r\n\t\tthis._body_cell._parent_cell = this;\r\n\t\t\r\n\t\tthis._bodyobj.appendChild(this._body_cell._viewobj);\r\n\t\tthis.resize();\r\n\t},\r\n\tshowView: function(id){\r\n\t\tvar topPos = webix.$$(id).$view.offsetTop-webix.$$(id).$view.parentNode.offsetTop;\r\n\t\tthis.scrollTo(0, topPos);\r\n\t}\r\n}, webix.Scrollable, webix.EventSystem, webix.ui.view);\r\n\r\n/*\r\n\tUI:TreeMenu\r\n*/\r\n\r\n\r\n\r\n \r\n\r\nwebix.TreeRenderStack={\r\n\t$init:function(){\r\n\t\twebix.assert(this.render,\"TreeRenderStack :: Object must use RenderStack first\");\r\n\t},\r\n\t_toHTMLItem:function(obj){\r\n\t\tvar mark = this.data._marks[obj.id];\r\n\t\tthis.callEvent(\"onItemRender\",[obj]);\r\n\t\treturn this.type.templateStart(obj,this.type,mark)+(obj.$template?this.type[\"template\"+obj.$template](obj,this.type,mark):this.type.template(obj,this.type,mark))+this.type.templateEnd();\r\n\t},\r\n\t_toHTMLItemObject:function(obj){\r\n\t\tthis._html.innerHTML = this._toHTMLItem(obj);\r\n\t\treturn this._html.firstChild;\r\n\t},\r\n\t//convert single item to HTML text (templating)\r\n\t_toHTML:function(obj){\r\n\t\t//check if related template exist\r\n\t\twebix.assert((!obj.$template || this.type[\"template\"+obj.$template]),\"RenderStack :: Unknown template: \"+obj.$template);\r\n\t\tvar html=\"<div role='presentation' class='webix_tree_branch_\"+obj.$level+\"'>\"+this._toHTMLItem(obj);\r\n\r\n\t\tif (obj.open)\r\n\t\t\thtml+=this._toHTMLLevel(obj.id);\r\n\r\n\t\thtml+=\"</div>\";\r\n\r\n\t\treturn html;\r\n\t},\r\n\t_toHTMLLevel:function(id){\r\n\t\tvar html = \"\";\r\n\t\tvar leaves = this.data.branch[id];\r\n\t\tif (leaves){\r\n\t\t\thtml+=\"<div role='presentation' class='webix_tree_leaves'>\";\r\n\t\t\tvar last = leaves.length-1;\r\n\t\t\tfor (var i=0; i <= last; i++){\r\n\t\t\t\tvar obj = this.getItem(leaves[i]);\r\n\t\t\t\tthis.type._tree_branch_render_state[obj.$level] = (i == last);\r\n\t\t\t\thtml+=this._toHTML(obj);\r\n\t\t\t}\r\n\t\t\thtml+=\"</div>\";\r\n\t\t}\r\n\t\treturn html;\r\n\t},\r\n\t//return true when some actual rendering done\r\n\trender:function(id,data,type){\r\n\t\twebix.TreeRenderStack._obj = this;\t//can be used from complex render\r\n\r\n\t\tif (!this.isVisible(this._settings.id) || this.$blockRender)\r\n\t\t\treturn;\r\n\r\n\t\tif (webix.debug_render)\r\n\t\t\twebix.log(\"Render: \"+this.name+\"@\"+this._settings.id);\r\n\t\t\t\r\n\t\tif (id){\r\n\t\t\tvar cont;\r\n\t\t\tvar item = this.getItem(id);\r\n\t\t\tif (type!=\"add\"){\r\n\t\t\t\tcont = this.getItemNode(id);\r\n\t\t\t\tif (!cont) return;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tswitch(type){\r\n\t\t\t\tcase \"branch\":\r\n\t\t\t\t\tvar branch = cont.parentNode;\r\n\t\t\t\t\tvar node = this._toHTMLObject(item);\r\n\t\t\t\t\t\r\n\t\t\t\t\twebix.html.insertBefore(node, branch); \r\n\t\t\t\t\twebix.html.remove(branch);\r\n\t\t\t\t\tthis._htmlmap = null;\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase \"paint\":\r\n\t\t\t\tcase \"update\":\r\n\t\t\t\t\tvar node = this._htmlmap[id] = this._toHTMLItemObject(item);\r\n\t\t\t\t\twebix.html.insertBefore(node, cont); \r\n\t\t\t\t\twebix.html.remove(cont);\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase \"delete\":\r\n\t\t\t\t\t//deleting not item , but full branch\r\n                    webix.html.remove(cont.parentNode);\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase \"add\":\r\n\t\t\t\t\tvar parent;\r\n\t\t\t\t\t//we want process both empty value and 0 as string\r\n\t\t\t\t\t//jshint -W041:true\r\n\t\t\t\t\tif (item.$parent == 0){\r\n\t\t\t\t\t\tparent = this._dataobj.firstChild;\r\n\t\t\t\t\t} else if(this.getItem(item.$parent).open){\r\n\t\t\t\t\t\tparent  = this.getItemNode(item.$parent);\r\n\t\t\t\t\t\tif (parent){\r\n\t\t\t\t\t\t\t//when item created by the script, it will miss the container for child notes\r\n\t\t\t\t\t\t\t//create it on demand\r\n\t\t\t\t\t\t\tif (!parent.nextSibling){\r\n\t\t\t\t\t\t\t\tvar leafs = webix.html.create(\"DIV\", { \"class\" : \"webix_tree_leaves\" },\"\");\r\n\t\t\t\t\t\t\t\tparent.parentNode.appendChild(leafs);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tparent = parent.nextSibling;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (parent){\r\n\t\t\t\t\t\tvar next = this.data.getNextSiblingId(id);\r\n\t\t\t\t\t\tnext = this.getItemNode(next);\r\n\t\t\t\t\t\tif (next)\r\n\t\t\t\t\t\t\tnext = next.parentNode;\r\n\r\n\t\t\t\t\t\tvar node = this._toHTMLObject(item);\r\n\t\t\t\t\t\tthis._htmlmap[id] = node.firstChild;\r\n\t\t\t\t\t\twebix.html.insertBefore(node, next, parent);\r\n\t\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.callEvent(\"onPartialRender\", [id,data,type]);\r\n\t\t} else \r\n\t\t\t//full reset\r\n\t\t\tif (this.callEvent(\"onBeforeRender\",[this.data])){\r\n\t\t\t\t//will be used for lines management\r\n\t\t\t\tthis.type._tree_branch_render_state = [];\r\n\t\t\t\t//getTopRange - returns all elements on top level\r\n\t\t\t\tthis._dataobj.innerHTML = this._toHTMLLevel(0);\r\n\t\t\t\t\r\n\t\t\t\tthis._htmlmap = null; //clear map, it will be filled at first getItemNode\r\n\t\t\t\tthis.callEvent(\"onAfterRender\",[]);\r\n\t\t\t}\r\n\r\n\t\t//clear after usage\r\n\t\tthis.type._tree_branch_render_state = 0;\r\n\t\twebix.TreeRenderStack._obj = null;\r\n\t\treturn true;\r\n\t},\r\n\tgetItemNode:function(search_id){\r\n\t\tif (this._htmlmap)\r\n\t\t\treturn this._htmlmap[search_id];\r\n\t\t\t\r\n\t\t//fill map if it doesn't created yet\r\n\t\tthis._htmlmap={};\r\n\t\t\r\n\t\tvar t = this._dataobj.getElementsByTagName(\"DIV\");\r\n\t\tfor (var i=0; i < t.length; i++){\r\n\t\t\tvar id = t[i].getAttribute(this._id); //get item's\r\n\t\t\tif (id) \r\n\t\t\t\tthis._htmlmap[id]=t[i];\r\n\t\t}\r\n\t\t//call locator again, when map is filled\r\n\t\treturn this.getItemNode(search_id);\r\n\t},\r\n\t_branch_render_supported:1\r\n};\r\n\r\n\r\n\r\n/*\r\n\tBehavior:SelectionModel - manage selection states\r\n\t@export\r\n\t\tselect\r\n\t\tunselect\r\n\t\tselectAll\r\n\t\tunselectAll\r\n\t\tisSelected\r\n\t\tgetSelectedId\r\n*/\r\nwebix.SelectionModel={\r\n\t$init:function(){\r\n\t\t//collection of selected IDs\r\n\t\tthis._selected = webix.toArray();\r\n\t\twebix.assert(this.data, \"SelectionModel :: Component doesn't have DataStore\");\r\n         \t\r\n\t\t//remove selection from deleted items\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\",webix.bind(this._data_updated,this));\r\n\t\tthis.data.attachEvent(\"onStoreLoad\", webix.bind(this._data_loaded,this));\r\n\t\tthis.data.attachEvent(\"onAfterFilter\", webix.bind(this._data_filtered,this));\r\n\t\tthis.data.attachEvent(\"onIdChange\", webix.bind(this._id_changed,this));\r\n\t\tthis.$ready.push(this._set_noselect);\r\n\t},\r\n\t_set_noselect: function(){\r\n\t\tif (this._settings.select==\"multiselect\" || this._settings.multiselect)\r\n\t\t\twebix.event(this.$view,\"mousedown\", function(e){\r\n\t\t\t\tvar shiftKey = (e||event).shiftKey;\r\n\t\t\t\tif(shiftKey){\r\n\t\t\t\t\twebix._noselect_element = this;\r\n\t\t\t\t\twebix.html.addCss(this,\"webix_noselect\",1);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t},\r\n\t_id_changed:function(oldid, newid){\r\n\t\tfor (var i = this._selected.length - 1; i >= 0; i--)\r\n\t\t\tif (this._selected[i]==oldid)\r\n\t\t\t\tthis._selected[i]=newid;\r\n\t},\r\n\t_data_filtered:function(){\r\n\t\tfor (var i = this._selected.length - 1; i >= 0; i--){\r\n\t\t\tif (this.data.getIndexById(this._selected[i]) < 0) {\r\n\t\t\t\tvar id = this._selected[i];\r\n\t\t\t\tthis.removeCss(id, \"webix_selected\", true);\r\n\t\t\t\tthis._selected.splice(i,1);\r\n\t\t\t\tthis.callEvent(\"onSelectChange\",[id]);\r\n\t\t\t}\r\n\t\t}\t\r\n\t},\r\n\t//helper - linked to onStoreUpdated\r\n\t_data_updated:function(id,obj,type){\r\n\t\tif (type == \"delete\"){\t\t\t\t//remove selection from deleted items\r\n\t\t\tif (this.loadBranch){\r\n\t\t\t\t//hierarchy, need to check all\r\n\t\t\t\tfor (var i = this._selected.length - 1; i >= 0; i--)\r\n\t\t\t\t\tif (!this.exists(this._selected[i]))\r\n\t\t\t\t\t\tthis._selected.splice(i,1);\r\n\t\t\t} else\r\n\t\t\t\tthis._selected.remove(id);\r\n\t\t}\r\n\t\telse if (!id && !this.data.count() && !this.data._filter_order){\t//remove selection for clearAll\r\n\t\t\tthis._selected = webix.toArray();\r\n\t\t}\r\n\t},\r\n\t_data_loaded:function(){\r\n\t\tif (this._settings.select)\r\n\t\t\tthis.data.each(function(obj){\r\n\t\t\t\tif (obj && obj.$selected) this.select(obj.id);\r\n\t\t\t}, this);\r\n\t},\r\n\t//helper - changes state of selection for some item\r\n\t_select_mark:function(id,state,refresh,need_unselect){\r\n\t\tvar name = state ? \"onBeforeSelect\" : \"onBeforeUnSelect\";\r\n\t\tif (!this.callEvent(name,[id,state])) return false;\r\n\r\n\t\tif (need_unselect){\r\n\t\t\tthis._silent_selection = true;\r\n\t\t\tthis.unselectAll();\r\n\t\t\tthis._silent_selection = false;\r\n\t\t}\r\n\t\t\r\n\t\tif (state)\r\n\t\t\tthis.addCss(id, \"webix_selected\", true);\r\n\t\telse\r\n\t\t\tthis.removeCss(id, \"webix_selected\", true);\r\n\r\n\t\tif (refresh)\r\n\t\t\trefresh.push(id);\t\t\t\t//if we in the mass-select mode - collect all changed IDs\r\n\t\telse{\r\n\t\t\tif (state)\r\n\t\t\t\tthis._selected.push(id);\t\t//then add to list of selected items\r\n\t\t\telse\r\n\t\t\t\tthis._selected.remove(id);\r\n\t\t\tthis._refresh_selection(id);\t//othervise trigger repainting\r\n\t\t}\r\n\r\n\t\tvar name = state ? \"onAfterSelect\" : \"onAfterUnSelect\";\r\n\t\tthis.callEvent(name,[id]);\r\n\r\n\t\treturn true;\r\n\t},\r\n\t//select some item\r\n\tselect:function(id,preserve){\r\n\t\tvar ctrlKey = arguments[2];\r\n\t\tvar shiftKey = arguments[3];\r\n\t\t//if id not provide - works as selectAll\r\n\t\tif (!id) return this.selectAll();\r\n\r\n\t\t//allow an array of ids as parameter\r\n\t\tif (webix.isArray(id)){\r\n\t\t\tfor (var i=0; i < id.length; i++)\r\n\t\t\t\tthis.select(id[i], (i?1:preserve), ctrlKey, shiftKey);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twebix.assert(this.data.exists(id), \"Incorrect id in select command: \"+id);\r\n\t\t\r\n\t\t//block selection mode\r\n\t\tif (shiftKey && this._selected.length)\r\n\t\t\treturn this.selectAll(this._selected[this._selected.length-1],id);\r\n\r\n\t\t//single selection mode\r\n\t\tvar need_unselect = false;\r\n\t\tif (!ctrlKey && !preserve && (this._selected.length!=1 || this._selected[0]!=id))\r\n\t\t\tneed_unselect = true;\r\n\r\n\t\tif (!need_unselect && this.isSelected(id)){\r\n\t\t\tif (ctrlKey) this.unselect(id);\t//ctrl-selection of already selected item\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._select_mark(id, true, null, need_unselect);\r\n\t},\r\n\t//unselect some item\r\n\tunselect:function(id){\r\n\t\t//if id is not provided  - unselect all items\r\n\t\tif (!id) return this.unselectAll();\r\n\t\tif (!this.isSelected(id)) return;\r\n\t\t\r\n\t\tthis._select_mark(id,false);\r\n\t},\r\n\t//select all items, or all in defined range\r\n\tselectAll:function(from,to){\r\n\t\tvar range;\r\n\t\tvar refresh=[];\r\n\t\t\r\n\t\tif (from||to)\r\n\t\t\trange = this.data.getRange(from||null,to||null);\t//get limited set if bounds defined\r\n\t\telse\r\n\t\t\trange = this.data.getRange();\t\t\t//get all items in other case\r\n\t\t\t\t\t\t\t\t\t\t\t\t//in case of paging - it will be current page only\r\n\t\trange.each(function(obj){ \r\n\t\t\tif (!this.data.getMark(obj.id, \"webix_selected\")){\r\n\t\t\t\tthis._selected.push(obj.id);\t\r\n\t\t\t\tthis._select_mark(obj.id,true,refresh);\r\n\t\t\t}\r\n\t\t},this);\r\n\t\t//repaint self\r\n\t\tthis._refresh_selection(refresh);\r\n\t},\r\n\t//remove selection from all items\r\n\tunselectAll:function(){\r\n\t\tvar refresh=[];\r\n\t\t\r\n\t\tthis._selected.each(function(id){\r\n\t\t\tthis._select_mark(id,false,refresh);\t//unmark selected only\r\n\t\t},this);\r\n\t\t\r\n\t\tthis._selected=webix.toArray();\r\n\t\tthis._refresh_selection(refresh);\t//repaint self\r\n\t},\r\n\t//returns true if item is selected\r\n\tisSelected:function(id){\r\n\t\treturn this._selected.find(id)!=-1;\r\n\t},\r\n\t/*\r\n\t\treturns ID of selected items or array of IDs\r\n\t\tto make result predictable - as_array can be used, \r\n\t\t\twith such flag command will always return an array \r\n\t\t\tempty array in case when no item was selected\r\n\t*/\r\n\tgetSelectedId:function(as_array){\t\r\n\t\tswitch(this._selected.length){\r\n\t\t\tcase 0: return as_array?[]:\"\";\r\n\t\t\tcase 1: return as_array?[this._selected[0]]:this._selected[0];\r\n\t\t\tdefault: return ([].concat(this._selected)); //isolation\r\n\t\t}\r\n\t},\r\n\tgetSelectedItem:function(as_array){\r\n\t\tvar sel = this.getSelectedId(true);\r\n\t\tif (sel.length > 1 || as_array){\r\n\t\t\tfor (var i = sel.length - 1; i >= 0; i--)\r\n\t\t\t\tsel[i] = this.getItem(sel[i]);\r\n\t\t\treturn sel;\r\n\t\t} else if (sel.length)\r\n\t\t\treturn this.getItem(sel[0]);\r\n\t},\r\n\t//detects which repainting mode need to be used\r\n\t_is_mass_selection:function(obj){\r\n\t\t // crappy heuristic, but will do the job\r\n\t\treturn obj.length>100 || obj.length > this.data.count/2;\r\n\t},\r\n\t_refresh_selection:function(refresh){\r\n\t\tif (typeof refresh != \"object\") refresh = [refresh];\r\n\t\tif (!refresh.length) return;\t//nothing to repaint\r\n\t\t\r\n\t\tif (this._is_mass_selection(refresh))\t\r\n\t\t\tthis.data.refresh();\t//many items was selected - repaint whole view\r\n\t\telse\r\n\t\t\tfor (var i=0; i < refresh.length; i++)\t//repaint only selected\r\n\t\t\t\tthis.render(refresh[i],this.data.getItem(refresh[i]),\"update\");\r\n\t\t\t\r\n\t\tif (!this._silent_selection)\t\r\n\t\tthis.callEvent(\"onSelectChange\",[refresh]);\r\n\t}\r\n};\r\n\r\nwebix.ready(function(){\r\n\twebix.event(document.body,\"mouseup\", function(e){\r\n\t\tif(webix._noselect_element){\r\n\t\t\twebix.html.removeCss(webix._noselect_element,\"webix_noselect\");\r\n\t\t\twebix._noselect_element = null;\r\n\t\t}\r\n\t});\r\n});\r\n/*\r\n\tBehavior:DataMove - allows to move and copy elements, heavily relays on DataStore.move\r\n\t@export\r\n\t\tcopy\r\n\t\tmove\r\n*/\r\nwebix.TreeDataMove={\r\n\t$init:function(){\r\n\t\twebix.assert(this.data, \"DataMove :: Component doesn't have DataStore\");\r\n\t},\r\n\t//creates a copy of the item\r\n\tcopy:function(sid,tindex,tobj,details){\r\n\t\tdetails = details || {};\r\n\t\tdetails.copy = true;\r\n\t\treturn this.move(sid, tindex, tobj, details);\r\n\t},\r\n\t_next_move_index:function(nid, next, source){\r\n\t\tif (next && nid){\r\n\t\t\tvar new_index = this.getBranchIndex(nid);\r\n\t\t\treturn new_index+(source == this && source.getBranchIndex(next)<new_index?0:1);\r\n\t\t}\r\n\t},\r\n\t_check_branch_child:function(parent, child){\r\n\t\tvar t = this.data.branch[parent];\r\n\t\tif (t && t.length){\r\n\t\t\tfor (var i=0; i < t.length; i++) {\r\n\t\t\t\tif (t[i] == child) return true;\r\n\t\t\t\tif (this._check_branch_child(t[i], child)) return true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\t//move item to the new position\r\n\tmove:function(sid,tindex,tobj, details){\r\n\t\tdetails = details || {};\r\n\t\ttindex = tindex || 0;\r\n\t\tvar new_id = details.newId || sid;\r\n\t\tvar target_parent = details.parent || 0;\r\n\t\t\r\n\t\ttobj = tobj||this;\r\n\t\twebix.assert(tobj.data, \"moving attempt to component without datastore\");\r\n\t\tif (!tobj.data) return;\r\n\r\n\t\tif (webix.isArray(sid)){\r\n\t\t\tfor (var i=0; i < sid.length; i++) {\r\n\t\t\t\t//increase index for each next item in the set, so order of insertion will be equal to order in the array\r\n\t\t\t\tvar nid = this.move(sid[i], tindex, tobj, details);\r\n\t\t\t\ttindex = tobj._next_move_index(nid, sid[i+1], this);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (this != tobj || details.copy){\r\n\t\t\tnew_id = tobj.data.add(tobj._externalData(this.getItem(sid),new_id), tindex, (target_parent || 0));\r\n\t\t\tif (this.data.branch[sid] && tobj.getBranchIndex){\r\n\t\t\t\tvar temp = this.data._scheme_serialize;\r\n\t\t\t\tthis.data._scheme_serialize = function(obj){\r\n\t\t\t\t\tvar copy = webix.copy(obj);\r\n\t\t\t\t\tdelete copy.$parent; delete copy.$level; delete copy.$child;\r\n\t\t\t\t\tif (tobj.data.pull[copy.id])\r\n\t\t\t\t\t\tcopy.id = webix.uid();\r\n\t\t\t\t\treturn copy;\r\n\t\t\t\t};\r\n\t\t\t\tvar copy_data = { data:this.serialize(sid, true), parent:new_id };\r\n\t\t\t\tthis.data._scheme_serialize = temp;\r\n\t\t\t\ttobj.parse(copy_data);\r\n\t\t\t}\r\n\t\t\tif (!details.copy)\r\n\t\t\t\tthis.data.remove(sid);\r\n\t\t} else {\r\n\t\t\t//move in self\r\n\t\t\tif (sid == target_parent || this._check_branch_child(sid,target_parent)) return;\r\n\r\n\t\t\tvar source = this.getItem(sid);\r\n\t\t\tvar tbranch = this.data.branch[target_parent];\r\n\t\t\tif (!tbranch) \r\n\t\t\t\ttbranch = this.data.branch[target_parent] = [];\r\n\t\t\tvar sbranch = this.data.branch[source.$parent];\r\n\r\n\t\t\tvar sindex = webix.PowerArray.find.call(sbranch, sid);\r\n\t\t\tif (tindex < 0) tindex = Math.max(tbranch.length - 1, 0);\r\n\t\t\t//in the same branch\r\n\t\t\tif (sbranch === tbranch && tindex === sindex) return; //same position\r\n\r\n\t\t\twebix.PowerArray.removeAt.call(sbranch, sindex);\r\n\t\t\twebix.PowerArray.insertAt.call(tbranch, sid, Math.min(tbranch.length, tindex));\r\n\r\n\t\t\tif (!sbranch.length)\r\n\t\t\t\tdelete this.data.branch[source.$parent];\r\n\t\t\t\r\n\r\n\t\t\tif(source.$parent && source.$parent != \"0\")\r\n\t\t\t\tthis.getItem(source.$parent).$count--;\r\n\r\n\t\t\tif (target_parent && target_parent != \"0\"){\r\n\t\t\t\tvar target = tobj.getItem(target_parent);\r\n\t\t\t\ttarget.$count++;\r\n\t\t\t\tthis._set_level_rec(source, target.$level+1);\r\n\t\t\t} else \r\n\t\t\t\tthis._set_level_rec(source, 1);\r\n\r\n\t\t\tsource.$parent = target_parent;\r\n\t\t\ttobj.data.callEvent(\"onDataMove\", [sid, tindex, target_parent, tbranch[tindex+1]]);\r\n\t\t}\r\n\r\n\t\tthis.refresh();\r\n\t\treturn new_id;\t//return ID of item after moving\r\n\t},\r\n\t_set_level_rec:function(item, value){\r\n\t\titem.$level = value;\r\n\t\tvar branch = this.data.branch[item.id];\r\n\t\tif (branch)\r\n\t\t\tfor (var i=0; i<branch.length; i++)\r\n\t\t\t\tthis._set_level_rec(this.getItem(branch[i]), value+1);\r\n\t},\r\n\t//reaction on pause during dnd\r\n\t_drag_pause:function(id){\r\n\t\tif (id && !id.header) //ignore drag other header\r\n\t\t\tthis.open(id);\r\n\t},\r\n\t$dropAllow:function(context){\r\n\t\tif (context.from != context.to) return true;\r\n\t\tfor (var i=0; i<context.source.length; i++)\r\n\t\t\tif (context.source ==  context.target || this._check_branch_child(context.source, context.target)) return false;\r\n\r\n\t\treturn true;\r\n\t},\r\n\t/*\r\n\t\tthis is a stub for future functionality\r\n\t\tcurrently it just makes a copy of data object, which is enough for current situation\r\n\t*/\r\n\t_externalData:function(data,id){\r\n\t\tvar new_data = webix.DataMove._externalData.call(this, data, id);\r\n\t\tdelete new_data.open;\r\n\t\treturn new_data;\r\n\t}\r\n};\r\n\r\n\r\n\r\n\r\nwebix.TreeDataLoader = {\r\n\t$init:function(){\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\", webix.bind(this._sync_hierarchy, this), null, true);\r\n\r\n\t\t// #FIXME:  constructor call chain\r\n\t\t//redefine methods\r\n\t\tthis._feed_common = this._feed_commonA;\r\n\t},\r\n\t_feed_commonA:function(id, count, callback, url){\r\n\t\t// branch loading\r\n\t\tvar details = (count === 0?{parent: encodeURIComponent(id)}:null);\r\n\r\n\t\twebix.DataLoader.prototype._feed_common.call(this,id, count, callback, url, details);\r\n\t},\r\n\t//load next set of data rows\r\n\tloadBranch:function(id, callback, url){\r\n\t\tid = id ||0;\r\n\t\tthis.data.url = this.data.url || url;\r\n\t\tif (this.callEvent(\"onDataRequest\", [id,callback,this.data.url]) && this.data.url)\r\n\t\t\tthis.data.feed.call(this, id, 0, callback, url);\r\n\t},\r\n\t_sync_hierarchy:function(id, data, mode){\r\n\t\tif (!mode || mode == \"add\" || mode == \"delete\" || mode == \"branch\"){\r\n\t\t\tthis.data._sync_to_order(this);\r\n\t\t}\r\n\t}\r\n};\r\n\r\nwebix.TreeStore = {\r\n\tname:\"TreeStore\",\r\n\t$init:function() {\r\n\t\tthis._filterMode={\r\n\t\t\t//level:1,\r\n\t\t\tshowSubItems:true\r\n\t\t};\r\n\t\tthis.branch = { 0:[] };\r\n\t\tthis.attachEvent(\"onParse\", function(driver, data){\r\n\t\t\tthis._set_child_scheme(driver.child);\r\n\t\t\tvar parent = driver.getInfo(data).parent;\r\n\t\t});\r\n\t\tthis.attachEvent(\"onClearAll\", webix.bind(function(){\r\n\t\t\tthis._filter_branch = null;\r\n\t\t},this));\r\n\t},\r\n\tfilterMode_setter:function(mode){\r\n\t\treturn webix.extend(this._filterMode, mode, true);\r\n\t},\r\n\t_filter_reset:function(preserve){\r\n\t\t//remove previous filtering , if any\r\n\t\tif (this._filter_branch && !preserve){\r\n\t\t\tthis.branch = this._filter_branch;\r\n\t\t\tthis.order = webix.toArray(webix.copy(this.branch[0]));\r\n\t\t\tfor (var key in this.branch)\r\n\t\t\t\tif (key != \"0\")\t//exclude 0 - virtual root\r\n\t\t\t\t\tthis.getItem(key).$count = this.branch[key].length;\r\n\t\t\tdelete this._filter_branch;\r\n\t\t}\r\n\t},\r\n\t_filter_core:function(filter, value, preserve, filterMode){\r\n\t\t//for tree we have few filtering options\r\n\t\t//- filter leafs only\r\n\t\t//- filter data on specific level\r\n\t\t//- filter data on all levels\r\n\t\t//- in all cases we can show or hide empty folder\r\n\t\t//- in all cases we can show or hide childs for matched item\r\n\t\t\r\n\t\t//set new order of items, store original\r\n\t\tif (!preserve ||  !this._filter_branch){\r\n\t\t\tthis._filter_branch = this.branch;\r\n\t\t\tthis.branch  = webix.clone(this.branch);\r\n\t\t}\r\n\r\n\t\tthis.branch[0] = this._filter_branch_rec(filter, value, this.branch[0], 1, (filterMode||{}));\r\n\t},\r\n\t_filter_branch_rec:function(filter, value, branch, level, config){\r\n\t\t//jshint -W041\r\n\t\tvar neworder = [];\r\n\t\t\r\n\t\tvar allow = (config.level && config.level != level);\r\n\r\n\t\tfor (var i=0; i < branch.length; i++){\r\n\t\t\tvar id = branch[i];\r\n\t\t\tvar item = this.getItem(id);\r\n\t\t\tvar child_run = false;\r\n\t\t\tvar sub = this.branch[id];\r\n\r\n\t\t\tif (allow){\r\n\t\t\t\tchild_run = true;\r\n\t\t\t} else if (filter(this.getItem(id),value)){\r\n\t\t\t\tneworder.push(id);\r\n\t\t\t\t// open all parents of the found item\r\n\t\t\t\tif (config.openParents !== false){\r\n\t\t\t\t\tvar parentId = this.getParentId(id);\r\n\t\t\t\t\twhile(parentId && parentId != \"0\"){\r\n\t\t\t\t\t\tthis.getItem(parentId).open = 1;\r\n\t\t\t\t\t\tparentId = this.getParentId(parentId);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//in case of of fixed level filtering - do not change child-items\r\n\t\t\t\tif (config.level || config.showSubItems)\r\n\t\t\t\t\tcontinue;\r\n\t\t\t} else {\r\n\t\t\t\t//filtering level, not match\r\n\t\t\t\tchild_run = true;\r\n\t\t\t}\t\r\n\r\n\t\t\t//if \"filter by all levels\" - filter childs\r\n\t\t\tif (allow || !config.level){ \r\n\t\t\t\tif (sub){\r\n\t\t\t\t\tvar newsub = this.branch[id] = this._filter_branch_rec(filter, value, sub, level+1, config);\r\n\t\t\t\t\titem.$count = newsub.length;\r\n\t\t\t\t\tif (child_run && newsub.length)\r\n\t\t\t\t\t\tneworder.push(id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn neworder;\r\n\t},\r\n\tcount:function(){\r\n\t\tif (this.order.length)\r\n\t\t\treturn this.order.length;\r\n\r\n\t\t//we must return some non-zero value, or logic of selection will think that we have not data at all\r\n\t\tvar count=0;\r\n\t\tthis.eachOpen(function(){ count++; });\r\n\t\treturn count;\r\n\t},\r\n\tchangeId:function(old, newid){\r\n\t\tif (this.branch[old]){\r\n\t\t\tvar branch = this.branch[newid] = this.branch[old];\r\n\t\t\tfor (var i = 0; i < branch.length; i++)\r\n\t\t\t\tthis.getItem(branch[i]).$parent = newid;\r\n\t\t\tdelete this.branch[old];\r\n\t\t}\r\n\t\tvar parent = this.getItem(old).$parent;\r\n\t\tif (parent !== \"0\"){\r\n\t\t\tvar index = webix.PowerArray.find.call(this.branch[parent], old);\r\n\t\t\tthis.branch[parent][index] = newid;\r\n\t\t}\r\n\t\treturn webix.DataStore.prototype.changeId.call(this, old, newid);\r\n\t},\r\n\tclearAll:function(){\r\n\t\tthis.branch = { 0:[] };\r\n\t\twebix.DataStore.prototype.clearAll.call(this);\t\r\n\t},\r\n\tgetPrevSiblingId:function(id){\r\n\t\tvar order = this.branch[this.getItem(id).$parent];\r\n\t\tvar pos = webix.PowerArray.find.call(order, id)-1;\r\n\t\tif (pos>=0)\r\n\t\t\treturn order[pos];\r\n\t\treturn null;\r\n\t},\r\n\tgetNextSiblingId:function(id){\r\n\t\tvar order = this.branch[this.getItem(id).$parent];\r\n\t\tvar pos = webix.PowerArray.find.call(order, id)+1;\r\n\t\tif (pos<order.length)\r\n\t\t\treturn order[pos];\r\n\t\treturn null;\r\n\t},\r\n\tgetParentId:function(id){\r\n\t\treturn this.getItem(id).$parent;\r\n\t},\r\n\tgetFirstChildId:function(id){\r\n\t\tvar order = this.branch[id];\r\n\t\tif (order && order.length)\r\n\t\t\treturn order[0];\r\n\t\treturn null;\r\n\t},\r\n\tisBranch:function(parent){\r\n\t\treturn !!this.branch[parent];\r\n\t},\r\n\tgetBranchIndex:function(child){\r\n\t\tvar t = this.branch[this.pull[child].$parent];\r\n\t\treturn webix.PowerArray.find.call(t, child);\r\n\t},\r\n\t_set_child_scheme:function(parse_name){\r\n\r\n\t\tif (typeof parse_name == \"string\")\r\n\t\t\tthis._datadriver_child = function(obj){\r\n\t\t\t\tvar t = obj[parse_name];\r\n\t\t\t\tif (t)\r\n\t\t\t\t\tdelete obj[parse_name];\r\n\t\t\t\treturn t;\r\n\t\t\t};\r\n\t\telse \r\n\t\t\tthis._datadriver_child = parse_name;\r\n\t},\r\n\t_inner_parse:function(info, recs){ \r\n\t\tvar parent  = info.parent || 0;\r\n\t\t\r\n\t\tfor (var i=0; i<recs.length; i++){\r\n\t\t\t//get hash of details for each record\r\n\t\t\tvar temp = this.driver.getDetails(recs[i]);\r\n\t\t\tvar id = this.id(temp); \t//generate ID for the record\r\n\t\t\tvar update = !!this.pull[id]; //update mode\r\n\r\n\t\t\tif (update){\r\n\t\t\t\ttemp = webix.extend(this.pull[id], temp, true);\r\n\t\t\t\tif (this._scheme_update)\r\n\t\t\t\t\tthis._scheme_update(temp);\r\n\t\t\t} else {\r\n\t\t\t\tif (this._scheme_init)\r\n\t\t\t\t\tthis._scheme_init(temp);\r\n\t\t\t\tthis.pull[id]=temp;\r\n\t\t\t}\r\n\r\n\t\t\tthis._extraParser(temp, parent, 0, update, info.from ? info.from*1+i : 0);\r\n\t\t}\r\n\r\n\t\t//fix state of top item after data loading\r\n\t\tvar pItem = this.pull[parent] || {};\r\n\t\tvar pBranch = this.branch[parent] || [];\r\n\t\tpItem.$count = pBranch.length;\r\n\t\tdelete pItem.webix_kids;\r\n\r\n\t\tif (info.size && info.size != pBranch.length)\r\n\t\t\tpBranch[info.size] = null;\r\n\t},\r\n    _extraParser:function(obj, parent, level, update, from){\r\n    \t//processing top item\r\n    \tobj.$count = 0;\r\n    \tobj.$parent = parent||0;\r\n\t\tobj.$level = level||(parent!=\"0\"?this.pull[parent].$level+1:1);\r\n\t\t\r\n\t\tvar parent_branch = this.branch[obj.$parent];\r\n\t\tif (!parent_branch)\r\n\t\t\tparent_branch = this.branch[obj.$parent] = [];\r\n\t\t\tif (this._filter_branch)\r\n\t\t\t\tthis._filter_branch[obj.$parent] = parent_branch;\r\n\r\n\t\tif (!update){\r\n\t\t\tvar pos = from || parent_branch.length;\r\n\t\t\tparent_branch[pos] = obj.id;\r\n\t\t}\r\n\r\n    \tvar child = this._datadriver_child(obj);\r\n\r\n    \tif (obj.webix_kids){\r\n    \t\treturn (obj.$count = -1);\r\n    \t}\r\n\r\n    \tif (!child) //ignore childless\r\n    \t\treturn (obj.$count = 0);\t\r\n\r\n    \t//when loading from xml we can have a single item instead of an array\r\n    \tif (!webix.isArray(child))\r\n    \t\tchild = [child];\r\n    \t\r\n\r\n\t\tfor (var i=0; i < child.length; i++) {\r\n\t\t\t//extra processing to convert strings to objects\r\n\t\t\tvar item = webix.DataDriver.json.getDetails(child[i]);\r\n\t\t\tvar itemid = this.id(item);\r\n\t\t\tupdate = !!this.pull[itemid];\r\n\t\t\t\r\n\t\t\tif (update){\r\n\t\t\t\titem = webix.extend(this.pull[itemid], item, true);\r\n\t\t\t\tif (this._scheme_update)\r\n\t\t\t\t\tthis._scheme_update(item);\r\n\t\t\t} else {\r\n\t\t\t\tif (this._scheme_init)\r\n\t\t\t\t\tthis._scheme_init(item);\r\n\t\t\t\tthis.pull[itemid]=item;\r\n\t\t\t}\r\n\t\t\tthis._extraParser(item, obj.id, obj.$level+1, update);\r\n\t\t}\r\n\r\n\t\t//processing childrens\r\n\t\tvar branch = this.branch[obj.id];\r\n\t\tif (branch)\r\n\t\t\tobj.$count = branch.length;\r\n\t}, \r\n\t_sync_to_order:function(master){\r\n\t\tthis.order = webix.toArray();\r\n\t\tthis._sync_each_child(0, master);\r\n\t},\r\n\t_sync_each_child:function(start, master){\r\n\t\tvar branch = this.branch[start];\r\n\t\tfor (var i=0; i<branch.length; i++){\r\n\t\t\tvar id = branch[i];\r\n\t\t\tthis.order.push(id);\r\n\t\t\tvar item = this.pull[id];\r\n\t\t\tif (item){\r\n\t\t\t\tif (item.open){\r\n\t\t\t\t\tif (item.$count == -1)\r\n\t\t\t\t\t\tmaster.loadBranch(id);\r\n\t\t\t\t\telse if (item.$count)\r\n\t\t\t\t\t\tthis._sync_each_child(id, master);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tprovideApi:function(target,eventable){\r\n\t\tvar list = [\"getPrevSiblingId\",\"getNextSiblingId\",\"getParentId\",\"getFirstChildId\",\"isBranch\",\"getBranchIndex\",\"filterMode_setter\"];\r\n\t\tfor (var i=0; i < list.length; i++)\r\n\t\t\ttarget[list[i]]=this._methodPush(this,list[i]);\r\n\r\n\t\tif (!target.getIndexById)\r\n\t\t\twebix.DataStore.prototype.provideApi.call(this, target, eventable);\r\n\t},\r\n\tgetTopRange:function(){\r\n\t\treturn webix.toArray([].concat(this.branch[0])).map(function(id){\r\n\t\t\treturn this.getItem(id);\r\n\t\t}, this);\r\n\t},\r\n\teachChild:function(id, functor, master, all){\r\n\t\tvar branch = this.branch;\r\n\t\tif (all && this._filter_branch)\r\n\t\t\tbranch = this._filter_branch;\r\n\r\n\t\tvar stack = branch[id];\r\n\t\tif (stack)\r\n\t\t\tfor (var i=0; i<stack.length; i++)\r\n\t\t\t\tfunctor.call((master||this), this.getItem(stack[i]));\r\n\t},\r\n\teach:function(method,master, all, id){\r\n\t\tthis.eachChild((id||0), function(item){\r\n\t\t\tvar branch = this.branch;\r\n\r\n\t\t\tmethod.call((master||this), item);\r\n\r\n\t\t\tif (all && this._filter_branch)\r\n\t\t\t\tbranch = this._filter_branch;\r\n\r\n\t\t\tif (item && branch[item.id])\r\n\t\t\t\tthis.each(method, master, all, item.id);\r\n\t\t}, this, all);\r\n\t},\t\r\n\teachOpen:function(method,master, id){\r\n\t\tthis.eachChild((id||0), function(item){\r\n\t\t\tmethod.call((master||this), item);\r\n\t\t\tif (this.branch[item.id] && item.open)\r\n\t\t\t\tthis.eachOpen(method, master, item.id);\r\n\t\t});\r\n\t},\r\n\teachSubItem:function(id, functor){\r\n\t\tvar top = this.branch[id||0];\r\n\t\tif (top)\r\n\t\t\tfor (var i=0; i<top.length; i++){\r\n\t\t\t\tvar key = top[i];\r\n\t\t\t\tif (this.branch[key]){\r\n\t\t\t\t\tfunctor.call(this, this.getItem(key),true);\r\n\t\t\t\t\tthis.eachSubItem(key, functor);\r\n\t\t\t\t} else\r\n\t\t\t\t\tfunctor.call(this, this.getItem(key), false);\r\n\t\t\t}\r\n\t},\r\n\teachLeaf:function(id, functor){\r\n\t\tvar top = this.branch[id||0];\r\n\t\tif (top)\r\n\t\t\tfor (var i=0; i<top.length; i++){\r\n\t\t\t\tvar key = top[i];\r\n\t\t\t\tif (this.branch[key]){\r\n\t\t\t\t\tthis.eachLeaf(key, functor);\r\n\t\t\t\t} else\r\n\t\t\t\t\tfunctor.call(this, this.getItem(key), false);\r\n\t\t\t}\r\n\t},\r\n\t_sort_core:function(sort, order){\r\n\t\tvar sorter = this.sorting.create(sort);\r\n\t\tfor (var key in this.branch){\r\n\t\t\tvar bset =  this.branch[key];\r\n\t\t\tvar data = [];\r\n\r\n\t\t\tfor (var i=0; i<bset.length; i++)\r\n\t\t\t\tdata.push(this.pull[bset[i]]);\r\n\r\n\t\t\tdata.sort(sorter);\r\n\r\n\t\t\tfor (var i=0; i<bset.length; i++)\r\n\t\t\t\tdata[i] = data[i].id;\r\n\r\n\t\t\tthis.branch[key] = data;\r\n\t\t}\r\n\t\treturn order;\r\n\t},\r\n\tadd:function(obj, index, pid){\r\n\t\tvar refresh_parent = false;\r\n\r\n\t\tvar parent = this.getItem(pid||0);\r\n\t\tif(parent){\r\n\t\t\t//when adding items to leaf item - it need to be repainted\r\n\t\t\tif (!this.branch[parent.id])\r\n\t\t\t\trefresh_parent = true;\r\n\t\t\tparent.$count++;\r\n\t\t}\r\n\r\n\t\tthis.branch[pid||0] = this.order = webix.toArray(this.branch[pid||0]);\r\n\r\n\t\tobj.$count = 0; \r\n\t\tobj.$level= (parent?parent.$level+1:1); \r\n\t\tobj.$parent = (parent?parent.id:0);\r\n\r\n\t\tif (this._filter_branch){\t//adding during filtering\r\n\t\t\tvar origin = this._filter_branch[pid||0];\r\n\t\t\t//newly created branch\r\n\t\t\tif (!origin) origin = this._filter_branch[pid] = this.order;\r\n\r\n\t\t\t//branch can be shared bettwen collections, ignore such cases\r\n\t\t\tif (this.order !== origin){\r\n\t\t\t\t//we can't know the location of new item in full dataset, making suggestion\r\n\t\t\t\t//put at end by default\r\n\t\t\t\tvar original_index = origin.length;\r\n\t\t\t\t//put at start only if adding to the start and some data exists\r\n\t\t\t\tif (!index && this.branch[pid||0].length)\r\n\t\t\t\t\toriginal_index = 0;\r\n\r\n\t\t\t\torigin = webix.toArray(origin);\r\n\t\t\t\torigin.insertAt(obj.id,original_index);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//call original adding logic\r\n\t\tvar result = webix.DataStore.prototype.add.call(this, obj, index);\r\n\r\n\r\n\t\tif (refresh_parent)\r\n\t\t\tthis.refresh(pid);\r\n\r\n\t\treturn result;\r\n\t},\r\n\t_rec_remove:function(id, inner){\r\n\t\tvar obj = this.pull[id];\r\n        if(this.branch[obj.id] && this.branch[obj.id].length > 0){\r\n        \tvar branch = this.branch[id];\r\n            for(var i=0;i<branch.length;i++)\r\n                this._rec_remove(branch[i], true);\r\n        }\r\n        delete this.branch[id];\r\n\t\tif(this._filter_branch)\r\n\t\t\tdelete this._filter_branch[id];\r\n        delete this.pull[id];\r\n\t\tif (this._marks[id])\r\n\t\t\tdelete this._marks[id];\r\n\t},\r\n\t_filter_removed:function(pull, parentId, id){\r\n\t\tvar branch = pull[parentId];\r\n\t\tif (branch.length == 1 && branch[0] == id && parentId){\r\n\t\t\tdelete pull[parentId];\r\n\t\t} else\r\n\t\t\twebix.toArray(branch).remove(id);\r\n\t},\r\n\tremove:function(id){\r\n\t\t//id can be an array of IDs - result of getSelect, for example\r\n\t\tif (webix.isArray(id)){\r\n\t\t\tfor (var i=0; i < id.length; i++)\r\n\t\t\t\tthis.remove(id[i]);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twebix.assert(this.exists(id), \"Not existing ID in remove command\"+id);\r\n\t\tvar obj = this.pull[id];\r\n\t\tvar parentId = (obj.$parent||0);\r\n\r\n\t\tif (this.callEvent(\"onBeforeDelete\",[id]) === false) return false;\r\n\t\tthis._rec_remove(id);\r\n\t\tthis.callEvent(\"onAfterDelete\",[id]);\r\n\r\n\t\tvar parent = this.pull[parentId];\r\n\t\tthis._filter_removed(this.branch, parentId, id);\r\n\t\tif (this._filter_branch)\r\n\t\t\tthis._filter_removed(this._filter_branch, parentId, id);\r\n\r\n\t\tvar refresh_parent = 0;\r\n\t\tif (parent){\r\n\t\t\tparent.$count--;\r\n\t\t\tif (parent.$count<=0){\r\n\t\t\t\tparent.$count=0;\r\n\t\t\t\tparent.open = 0;\r\n\t\t\t\trefresh_parent = 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//repaint signal\r\n\t\tthis.callEvent(\"onStoreUpdated\",[id,obj,\"delete\"]);\r\n\t\tif (refresh_parent)\r\n\t\t\tthis.refresh(parent.id);\r\n\t},\r\n\t/*\r\n\t\tserializes data to a json object\r\n\t*/\r\n\tgetBranch:function(id){\r\n\t\tvar out = [];\r\n\t\tvar items = (this._filter_branch || this.branch)[id];\r\n\t\tif (items)\r\n\t\t\tfor (var i = 0; i < items.length; i++) out[i] = this.pull[items[i]];\r\n\r\n\t\treturn out;\r\n\t},\r\n\tserialize: function(id, all){\r\n\t\tvar coll = this.branch;\r\n\t\t//use original collection of branches\r\n\t\tif (all && this._filter_branch) coll = this._filter_branch;\r\n\r\n\t\tvar ids = this.branch[id||0];\r\n\t\tvar result = [];\r\n\t\tfor(var i=0; i< ids.length;i++) {\r\n\t\t\tvar obj = this.pull[ids[i]];\r\n\t\t\tvar rel;\r\n\r\n\t\t\tif (this._scheme_serialize){\r\n\t\t\t\trel = this._scheme_serialize(obj);\r\n\t\t\t\tif (rel===false) continue;\r\n\t\t\t} else \r\n\t\t\t\trel = webix.copy(obj);\r\n\t\t\t\t\r\n\t\t\tif (this.branch[obj.id])\r\n\t\t\t\trel.data = this.serialize(obj.id, all);\r\n\r\n\t\t\tresult.push(rel);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n};\r\n\r\n\r\nwebix.TreeType={\r\n\tspace:function(obj,common){\r\n\t\tvar html = \"\";\r\n\t\tfor (var i=1; i<obj.$level; i++)\r\n\t\t\thtml += \"<div class='webix_tree_none'></div>\";\r\n\t\treturn html;\r\n\t},\r\n\ticon:function(obj,common){\r\n\t\tif (obj.$count){\r\n\t\t\tif (obj.open)\r\n\t\t\t\treturn \"<div class='webix_tree_open'></div>\";\r\n\t\t\telse\r\n\t\t\t\treturn \"<div class='webix_tree_close'></div>\";\r\n\t\t} else\r\n\t\t\treturn \"<div class='webix_tree_none'></div>\";\r\n\t},\r\n\tcheckbox:function(obj, common){\r\n\t\tif(obj.nocheckbox)\r\n\t\t   return \"\";\r\n        return \"<input type='checkbox' class='webix_tree_checkbox' \"+(obj.checked?\"checked\":\"\")+(obj.disabled?\" disabled\":\"\")+\">\";\r\n\t},\t\r\n\tfolder:function(obj, common){\r\n\t\tif (obj.icon)\r\n\t\t\treturn \"<div class='webix_tree_file webix_tree_\"+obj.icon+\"'></div>\";\r\n\r\n\t\tif (obj.$count){\r\n\t\t\tif (obj.open)\r\n\t\t\t\treturn \"<div class='webix_tree_folder_open'></div>\";\r\n\t\t\telse\r\n\t\t\t\treturn \"<div class='webix_tree_folder'></div>\";\r\n\t\t}\r\n\t\treturn \"<div class='webix_tree_file'></div>\";\r\n\t}\r\n};\r\n\r\nwebix.TreeAPI = {\r\n\topen: function(id, show) {\r\n\t\tif (!id) return;\r\n\t\t//ignore open for leaf items\r\n\t\tvar item = this.getItem(id);\r\n\t\tif (!item.$count || item.open) return;\r\n\r\n\t\tif (this.callEvent(\"onBeforeOpen\",[id])){\r\n\t\t\titem.open=true;\r\n\t\t\tthis.data.callEvent(\"onStoreUpdated\",[id, 0, \"branch\"]);\r\n\t\t\tthis.callEvent(\"onAfterOpen\",[id]);\r\n\t\t}\r\n\r\n\t\tif (show && id != \"0\")\r\n\t\t\tthis.open(this.getParentId(id), show);\r\n\t},\r\n\tclose: function(id) {\r\n\t\tif (!id) return;\r\n\t\tvar item = this.getItem(id);\r\n\t\tif (!item.open) return;\r\n\r\n\t\tif (this.callEvent(\"onBeforeClose\",[id])){\r\n\t\t\titem.open=false;\r\n\t\t\tthis.data.callEvent(\"onStoreUpdated\",[id, 0, \"branch\"]);\r\n\t\t\tthis.callEvent(\"onAfterClose\",[id]);\r\n\t\t}\r\n\t},\r\n\topenAll: function(id){\r\n\t\tthis.data.eachSubItem((id||0), function(obj, branch){\r\n\t\t\tif (branch)\r\n\t\t\t\tobj.open = true;\r\n\t\t});\r\n\t\tthis.data.refresh();\r\n\t},\r\n\tcloseAll: function(id){\r\n\t\tthis.data.eachSubItem((id||0), function(obj, branch){\r\n\t\t\tif (branch)\r\n\t\t\t\tobj.open = false;\r\n\t\t});\r\n\t\tthis.data.refresh();\r\n\t},\r\n\t_tree_check_uncheck:function(id,mode,e){\r\n\t\tif(this._settings.threeState)\r\n\t\t\treturn this._tree_check_uncheck_3(id,(mode !== null?mode:\"\"));\r\n\r\n\t\tvar value,\r\n\t\t\titem = this.getItem(id),\r\n\t\t\ttrg = (e? (e.target|| e.srcElement):null);\r\n\r\n\t\t//read actual value from HTML tag when possible\r\n\t\t//as it can be affected by dbl-clicks\r\n\t\tif(trg && trg.type == \"checkbox\")\r\n\t\t\tvalue = trg.checked?true:false;\r\n\t\telse\r\n\t\t\tvalue = (mode !== null?mode:!item.checked);\r\n\r\n\t\titem.checked = value;\r\n\t\tthis.callEvent(\"onItemCheck\", [id, item.checked, e]);\r\n\t},\r\n\tisBranchOpen:function(search_id){\r\n\t\tif (search_id == \"0\") return true;\r\n\r\n\t\tvar item = this.getItem(search_id);\r\n\t\tif (item.open)\r\n\t\t\treturn this.isBranchOpen(item.$parent);\r\n\t\treturn false;\r\n\t},\r\n\tgetOpenItems: function() {\r\n\t\tvar open = [];\r\n\t\tfor (var id in this.data.branch) {\r\n\t\t\tif (this.exists(id) && this.getItem(id).open)\r\n\t\t\t\topen.push(id);\r\n\t\t}\r\n\t\treturn open;\r\n\t},\r\n\tgetState: function(){\r\n\t\treturn {\r\n\t\t\topen: this.getOpenItems(),\r\n\t\t\tselect: this.getSelectedId(true)\r\n\t\t};\r\n\t},\r\n\t_repeat_set_state:function(tree, open){\r\n\t\tvar event = this.data.attachEvent(\"onStoreLoad\", function(){\r\n\t\t\ttree.setState.call(tree,open);\r\n\t\t\ttree.data.detachEvent(event);\r\n\t\t\ttree = null;\r\n\t\t});\r\n\t},\r\n\tsetState: function(state){\r\n\t\tvar repeat = false;\r\n\t\tvar dyn = false;\r\n\r\n\t\tif (state.open){\r\n\t\t\tthis.closeAll();\t\r\n\t\t\tvar open = state.open;\r\n\t\t\tfor (var i = 0; i < open.length; i++){\r\n\t\t\t\tvar item = this.getItem(open[i]);\r\n\t\t\t\tif (item && item.$count){\r\n\t\t\t\t\titem.open=true;\r\n\t\t\t\t\t//dynamic loading\r\n\t\t\t\t\tif (item.$count == -1){\r\n\t\t\t\t\t\t//call the same method after data loading\r\n\t\t\t\t\t\tthis._repeat_set_state(this, state);\r\n\t\t\t\t\t\tthis.refresh();\r\n\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t//end processing\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.refresh();\r\n\t\t}\r\n\r\n\r\n\t\tif (state.select && this.select){\t\t\t\r\n\t\t\tvar select = state.select;\r\n\t\t\tthis.unselect();\r\n\t\t\tfor (var i = 0; i < select.length; i++)\r\n\t\t\t\tif (this.exists(select[i]))\r\n\t\t\t\t\tthis.select(select[i], true);\r\n\t\t}\r\n\r\n\t\treturn 1;\r\n\t}\r\n};\r\n\r\nwebix.TreeClick = {\r\n\twebix_tree_open:function(e, id){\r\n\t\tthis.close(id);\r\n\t\treturn false;\r\n\t},\r\n\twebix_tree_close:function(e, id){\r\n\t\tthis.open(id);\r\n\t\treturn false;\r\n\t},\r\n\twebix_tree_checkbox:function(e,id){\r\n\t\tthis._tree_check_uncheck(id, null, e);\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\nwebix.TreeCollection = webix.proto({\r\n\tname:\"TreeCollection\",\r\n\t$init:function(){\r\n\t\twebix.extend(this.data, webix.TreeStore, true);\r\n\t\tthis.data.provideApi(this,true);\r\n\t\twebix.extend(this, webix.TreeDataMove, true);\r\n\t}\r\n}, webix.TreeDataLoader, webix.DataCollection);\r\n\r\n/*\r\n\tBehavior:DragItem - adds ability to move items by dnd\r\n\t\r\n\tdnd context can have next properties\r\n\t\tfrom - source object\r\n\t\tto - target object\r\n\t\tsource - id of dragged item(s)\r\n\t\ttarget - id of drop target, null for drop on empty space\r\n\t\tstart - id from which DND was started\r\n*/\r\n\r\n\r\n\t\t\r\n\r\nwebix.AutoScroll = {\r\n\t_auto_scroll:function(pos, id){\r\n\t\tvar yscroll = 1;\r\n\t\tvar xscroll = 0;\r\n\r\n\t\tvar scroll = this._settings.dragscroll;\r\n\t\tif (typeof scroll == \"string\"){\r\n\t\t\txscroll = scroll.indexOf(\"x\") != -1;\r\n\t\t\tyscroll = scroll.indexOf(\"y\") != -1;\r\n\t\t}\r\n\r\n\t\tvar data = this._body || this.$view;\r\n\t\tvar box = webix.html.offset(data);\r\n\r\n\t\tvar top = box.y;\r\n\t\tvar bottom = top + data.offsetHeight;\r\n\t\tvar left = box.x;\r\n\t\tvar right = left + data.offsetWidth;\r\n\r\n\t\tvar scroll = this.getScrollState();\r\n\t\tvar reset = false;\r\n\t\tvar sense = 40; //dnd auto-scroll sensivity\r\n\r\n\t\tif (yscroll){\r\n\t\t\tvar config = this._settings;\r\n\t\t\tif(config.topSplit){\r\n\t\t\t\tvar topSplitPos = this._cellPosition(this.getIdByIndex(config.topSplit-1), this.columnId(0));\r\n\t\t\t\ttop += topSplitPos.top + topSplitPos.height;\r\n\t\t\t}\r\n\r\n\t\t\tif (pos.y < (top + sense)){\r\n\t\t\t\tthis._auto_scrollTo(scroll.x, scroll.y-sense*2, pos);\r\n\t\t\t\treset = true;\r\n\t\t\t} else if (pos.y > bottom - sense){\r\n\t\t\t\tthis._auto_scrollTo(scroll.x, scroll.y+sense*2, pos);\r\n\t\t\t\treset = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (xscroll){\r\n\t\t\tif (pos.x < (left + sense)){\r\n\t\t\t\tthis._auto_scrollTo(scroll.x-sense*2, scroll.y, pos);\r\n\t\t\t\treset = true;\r\n\t\t\t} else if (pos.x > right - sense){\r\n\t\t\t\tthis._auto_scrollTo(scroll.x+sense*2, scroll.y, pos);\r\n\t\t\t\treset = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (reset)\r\n\t\t\tthis._auto_scroll_delay = webix.delay(this._auto_scroll, this, [pos], 100);\r\n\r\n\t},\r\n\t_auto_scrollTo: function(x,y,pos){\r\n\t\tif(this.callEvent(\"onBeforeAutoScroll\",[pos]))\r\n\t\t\tthis.scrollTo(x,y);\r\n\t}\r\n};\r\n\r\nwebix.DragOrder={\r\n\t_do_not_drag_selection:true,\r\n\t$drag:function(s,e){\r\n\t\tvar html = webix.DragItem.$drag.call(this,s,e);\r\n\t\tif (html){\r\n\t\t\tvar context = webix.DragControl.getContext(); \r\n\t\t\tif (this.getBranchIndex)\r\n\t\t\t\tthis._drag_order_stored_left = this._drag_order_complex?((this.getItem(context.start).$level) * 16):0;\r\n\t\t\tif (!context.fragile)\r\n\t\t\t\tthis.addCss(context.start, \"webix_transparent\");\r\n\t\t}\r\n\t\treturn html;\r\n\t},\r\n\t_getDragItemPos: function(pos,e){\r\n\t\treturn webix.DragItem._getDragItemPos(pos,e);\r\n\t},\r\n\t$dragPos:function(pos,e, node){\r\n\t\tvar box = webix.html.offset(this.$view);\r\n\t\tvar left = box.x + (this._drag_order_complex?( 1+this._drag_order_stored_left):1);\r\n\t\tvar top = pos.y;\r\n\t\tvar config = this._settings;\r\n\t\tvar xdrag = (config.layout == \"x\");\r\n\r\n\t\tif (xdrag){\r\n\t\t\ttop = box.y + (this._drag_order_complex?( + box.height - webix.ui.scrollSize - 1):1);\r\n\t\t\tleft = pos.x;\r\n\t\t}\r\n\r\n\t\tnode.style.display = 'none';\r\n\r\n\t\tvar html = document.elementFromPoint(left, top);\r\n\r\n\t\tif (html != this._last_sort_dnd_node){\r\n\t\t\tvar view = webix.$$(html);\r\n\t\t\t//this type of dnd is limited to the self\r\n\t\t\tif (view && view == this){\r\n\t\t\t\tvar id = this.locate(html, true);\r\n\t\t\t\tvar start_id = webix.DragControl.getContext().start;\r\n\t\t\t\tthis._auto_scroll_force = true;\r\n\t\t\t\tif (id){\r\n\r\n\t\t\t\t\tif (id != this._last_sort_dnd_node){\r\n\t\t\t\t\t\tif (id != start_id){\r\n\t\t\t\t\t\t\tvar details, index;\r\n\r\n\t\t\t\t\t\t\tif (this.getBranchIndex){\r\n\t\t\t\t\t\t\t\tdetails = { parent:this.getParentId(id) }; \r\n\t\t\t\t\t\t\t\tindex = this.getBranchIndex(id);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdetails = {};\r\n\t\t\t\t\t\t\t\tindex = this.getIndexById(id);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (this.callEvent(\"onBeforeDropOrder\",[start_id, index, e, details])){\r\n\t\t\t\t\t\t\t\tthis.move(start_id, index, this, details);\r\n\t\t\t\t\t\t\t\tthis._last_sort_dnd_node = id;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\twebix.DragControl._last = this._contentobj;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tid = \"$webix-last\";\r\n\t\t\t\t\tif (this._last_sort_dnd_node != id){\r\n\t\t\t\t\t\tif (!this.callEvent(\"onBeforeDropOrder\",[start_id, -1, e, { parent: 0} ])) return;\r\n\t\t\t\t\t\tthis._last_sort_dnd_node  = id;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tnode.style.display = 'block';\r\n\r\n\t\t\r\n\t\tif (xdrag){\r\n\t\t\tpos.y = box.y;\r\n\t\t\tpos.x = pos.x-18;\r\n\r\n\t\t\tif (pos.x < box.x)\r\n\t\t\t\tpos.x = box.x; \r\n\t\t\telse {\r\n\t\t\t\tvar max = box.x + this.$view.offsetWidth - 60;\r\n\t\t\t\tif (pos.x > max)\r\n\t\t\t\t\tpos.x = max;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tbox.y += this._header_height;\r\n\t\t\tpos.x = this._drag_order_stored_left||box.x;\r\n\t\t\tpos.y = pos.y-18;\r\n\t\t\r\n\t\t\tif (pos.y < box.y)\r\n\t\t\t\tpos.y = box.y; \r\n\t\t\telse {\r\n\t\t\t\tvar max = box.y + this.$view.offsetHeight - 60;\r\n\t\t\t\tif (pos.y > max)\r\n\t\t\t\t\tpos.y = max;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this._auto_scroll_delay)\r\n\t\t\tthis._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\r\n\r\n\t\tthis._auto_scroll_delay = webix.delay(this._auto_scroll, this, [webix.html.pos(e), this.locate(e) || null],250);\r\n\r\n\t\t//prevent normal dnd landing checking\r\n\t\twebix.DragControl._skip = true;\r\n\t},\r\n\t$dragIn:function(){\r\n\t\treturn false;\r\n\t},\r\n\t$drop:function(s,t,e){\r\n\t\tif (this._auto_scroll_delay){\r\n\t\t\tthis._auto_scroll_force = null;\r\n\t\t\tthis._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\r\n\t\t}\r\n\r\n\t\tvar context = webix.DragControl.getContext();\r\n\t\tvar id = context.start;\r\n\t\tthis.removeCss(id, \"webix_transparent\");\r\n\r\n\t\tvar index = this.getIndexById(id);\r\n\t\tthis.callEvent(\"onAfterDropOrder\",[id, index , e]);\r\n\t\tif (context.fragile)\r\n\t\t\tthis.refresh();\r\n\t}\r\n};\r\nwebix.DragItem={\r\n\t//helper - defines component's container as active zone for dragging and for dropping\r\n\t_initHandlers:function(obj, source, target){\r\n\t\tif (!source) webix.DragControl.addDrop(obj._contentobj,obj,true);\r\n\t\tif (!target) webix.DragControl.addDrag(obj._contentobj,obj);\r\n\t\tthis.attachEvent(\"onDragOut\",function(a,b){ this.$dragMark(a,b); });\r\n\t\tthis.attachEvent(\"onBeforeAutoScroll\",function(){\r\n\t\t\tvar context = webix.DragControl.getContext();\r\n\t\t\treturn !!(webix.DragControl._active && context && (context.to === this || this._auto_scroll_force));\r\n\t\t});\r\n\t},\r\n\tdrag_setter:function(value){\r\n\t\tif (value){\r\n\t\t\twebix.extend(this, webix.AutoScroll, true);\r\n\t\t\tif (value == \"order\")\r\n\t\t\t\twebix.extend(this, webix.DragOrder, true);\r\n\t\t\tif (value == \"inner\")\r\n\t\t\t\tthis._inner_drag_only = true;\r\n\r\n\t\t\tthis._initHandlers(this, value == \"source\", value == \"target\");\r\n\t\t\tdelete this.drag_setter;\t//prevent double initialization\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\t/*\r\n\t\ts - source html element\r\n\t\tt - target html element\r\n\t\td - drop-on html element ( can be not equal to the target )\r\n\t\te - native html event \r\n\t*/\r\n\t//called when drag moved over possible target\r\n\t$dragIn:function(s,t,e){\r\n\t\tvar id = this.locate(e) || null;\r\n\t\tvar context = webix.DragControl._drag_context;\r\n\r\n\t\t//in inner drag mode - ignore dnd from other components\r\n\t\tif ((this._inner_drag_only || context.from._inner_drag_only) && context.from !== this) return false;\r\n\r\n\t\tvar to = webix.DragControl.getMaster(t);\r\n\t\t//previous target\r\n\t\tvar html = (this.getItemNode(id, e)||this._dataobj);\r\n\t\t//prevent double processing of same target\r\n\t\tif (html == webix.DragControl._landing) return html;\r\n\t\tcontext.target = id;\r\n\t\tcontext.to = to;\r\n\r\n\t\tif (this._auto_scroll_delay)\r\n\t\t\tthis._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\r\n\r\n\t\tthis._auto_scroll_delay = webix.delay(function(pos,id){\r\n\t\t\tthis._drag_pause(id);\r\n\t\t\tthis._auto_scroll(pos,id);\r\n\t\t}, this, [webix.html.pos(e), id], 250);\r\n\r\n\t\tif (!this.$dropAllow(context, e)  || !this.callEvent(\"onBeforeDragIn\",[context, e])){\r\n\t\t\tcontext.to = context.target = null;\r\n\t\t\tif (this._auto_scroll_delay)\r\n\t\t\t\tthis._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t//mark target only when landing confirmed\r\n\t\tthis.$dragMark(context,e);\r\n\t\treturn html;\r\n\t},\r\n\t$dropAllow:function(){\r\n\t\treturn true;\r\n\t},\r\n\t_drag_pause:function(id){\r\n\t\t//may be reimplemented in some components\r\n\t\t// tree for example\r\n\t},\r\n\t_target_to_id:function(target){\r\n\t\treturn target && typeof target === \"object\" ? target.toString() : target;\r\n\t},\r\n\t//called when drag moved out from possible target\r\n\t$dragOut:function(s,t,n,e){ \r\n\t\tvar id = (this._viewobj.contains(n) ? this.locate(e): null) || null;\r\n\t\tvar context = webix.DragControl._drag_context;\r\n\r\n\t\t//still over previous target\r\n\t\tif ((context.target||\"\").toString() == (id||\"\").toString()) return null;\r\n\t\tif (this._auto_scroll_delay){\r\n\t\t\tthis._auto_scroll_force = null;\r\n\t\t\tthis._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\r\n\t\t}\r\n\r\n\t\t//unmark previous target\r\n\t\tcontext.target = context.to = null;\r\n\t\tthis.callEvent(\"onDragOut\",[context,e]);\r\n\t\treturn null;\r\n\t},\r\n\t//called when drag moved on target and button is released\r\n\t$drop:function(s,t,e){ \r\n\t\tif (this._auto_scroll_delay)\r\n\t\t\tthis._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\r\n\r\n\t\tvar context = webix.DragControl._drag_context;\r\n\t\t//finalize context details\r\n\t\tcontext.to = this;\r\n\t\tvar target = this._target_to_id(context.target);\r\n\r\n\t\tif (this.getBranchIndex){\r\n\t\t\tif (target){\r\n\t\t\t\tcontext.parent = this.getParentId(target);\r\n\t\t\t\tcontext.index = this.getBranchIndex(target);\r\n\t\t\t}\r\n\t\t} else\r\n\t\t\tcontext.index = target?this.getIndexById(target):this.count();\r\n\r\n\t\t//unmark last target\r\n\t\tthis.$dragMark({}, e);\r\n\r\n\t\tif( context.from && context.from != context.to && context.from.callEvent ){\r\n\t\t\tcontext.from.callEvent(\"onBeforeDropOut\", [context,e]);\r\n\t\t}\r\n\r\n\t\tif (!this.callEvent(\"onBeforeDrop\",[context,e])) return;\r\n\t\t//moving\r\n\t\tthis._context_to_move(context,e);\r\n\t\t\r\n\t\tthis.callEvent(\"onAfterDrop\",[context,e]);\r\n\t},\r\n\t_context_to_move:function(context,e){\r\n\t\twebix.assert(context.from, \"Unsopported d-n-d combination\");\r\n\t\tif (context.from){\t//from different component\r\n\t\t\tvar details = { parent: context.parent, mode: context.pos };\r\n\t\t\tcontext.from.move(context.source,context.index,context.to, details);\r\n\t\t}\r\n\t},\r\n\t_getDragItemPos: function(pos,e){\r\n\t\tif (this.getItemNode){\r\n\t\t\tvar id = this.locate(e, true);\r\n\t\t\treturn id?webix.html.offset(this.getItemNode(id)):null;\r\n\t\t}\r\n\t},\r\n\t//called when drag action started\r\n\t$drag:function(s,e){\r\n\t\tvar id = this.locate(e, true);\r\n\t\tif (id){\r\n\t\t\tvar list = [id];\r\n\r\n\t\t\tif (this.getSelectedId && !this._do_not_drag_selection){ //has selection model\r\n\t\t\t\t//if dragged item is one of selected - drag all selected\r\n\t\t\t\tvar selection = this.getSelectedId(true, true);\t\r\n\r\n\t\t\t\tif (selection && selection.length > 1 && webix.PowerArray.find.call(selection,id)!=-1){\r\n\t\t\t\t\tvar hash = {}; \r\n\t\t\t\t\tvar list = [];\r\n\t\t\t\t\tfor (var i=0;i<selection.length; i++)\r\n\t\t\t\t\t\thash[selection[i]]=true;\r\n\t\t\t\t\tfor (var i = 0; i<this.data.order.length; i++){\r\n\t\t\t\t\t\tvar hash_id = this.data.order[i];\r\n\t\t\t\t\t\tif (hash[hash_id])\r\n\t\t\t\t\t\t\tlist.push(hash_id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//save initial dnd params\r\n\t\t\tvar context = webix.DragControl._drag_context= { source:list, start:id };\r\n\t\t\tcontext.fragile = (this.addRowCss && webix.env.touch && ( webix.env.isWebKit || webix.env.isFF ));\r\n\t\t\tcontext.from = this;\r\n\t\t\t\r\n\t\t\tif (this.callEvent(\"onBeforeDrag\",[context,e])){\r\n\t\t\t\tif (webix.Touch)\r\n\t\t\t\t\twebix.Touch._start_context = null;\r\n\r\n\t\t\t\t//set drag representation\r\n\t\t\t\treturn context.html||this.$dragHTML(this.getItem(id), e);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\t$dragHTML:function(obj, e){\r\n\t\treturn this._toHTML(obj);\r\n\t},\r\n\t$dragMark:function(context, ev){\r\n\t\tvar target = null;\r\n\t\tif (context.target)\r\n\t\t\ttarget = this._target_to_id(context.target);\r\n\r\n\t\t//touch webkit will stop touchmove event if source node removed\r\n\t\t//datatable can't repaint rows without repainting\r\n\t\tif (this._marked && this._marked != target){\r\n\t\t\tif (!context.fragile) this.removeCss(this._marked, \"webix_drag_over\");\r\n\t\t\tthis._marked = null;\r\n\t\t}\r\n\r\n\t\tif (!this._marked && target){\r\n\t\t\tthis._marked = target;\r\n\t\t\tif (!context.fragile) this.addCss(target, \"webix_drag_over\");\r\n\t\t\treturn target;\r\n\t\t}\r\n\t\t\r\n\t\tif (context.to){\r\n\t\t\treturn true;\r\n\t\t}else\r\n\t\t\treturn false;\r\n\t}\r\n};\r\n\r\n\r\n\r\nwebix.Group = {\r\n\t$init:function(){\r\n\t\twebix.extend(this.data, webix.GroupStore);\r\n\t\t//in case of plain store we need to remove store original dataset\r\n\t\tthis.data.attachEvent(\"onClearAll\",webix.bind(function(){\r\n\t\t\tthis.data._not_grouped_order = this.data._not_grouped_pull = null;\r\n\t\t\tthis._group_level_count = 0;\r\n\t\t},this));\r\n\t},\r\n\tgroup:function(config){\r\n\t\tthis.data.ungroup(true);\r\n\t\tthis.data.group(config);\r\n\t},\r\n\tungroup:function(skipRender){\r\n\t\tthis.data.ungroup(skipRender);\r\n\t}\r\n};\r\n\r\nwebix.GroupMethods = {\r\n\tsum:function(property, data){\r\n\t\tdata = data || this;\r\n\t\tvar summ = 0;\r\n\t\tfor (var i = 0; i < data.length; i++)\r\n\t\t\tsumm+=property(data[i])*1;\r\n\r\n\t\treturn summ;\r\n\t},\r\n\tmin:function(property, data){\r\n\t\tdata = data || this;\r\n\t\tvar min = Infinity;\r\n\r\n\t\tfor (var i = 0; i < data.length; i++)\r\n\t\t\tif (property(data[i])*1 < min) min = property(data[i])*1;\r\n\r\n\t\treturn min*1;\r\n\t},\r\n\tmax:function(property, data){\r\n\t\tdata = data || this;\r\n\t\tvar max = -Infinity;\r\n\r\n\t\tfor (var i = 0; i < data.length; i++)\r\n\t\t\tif (property(data[i])*1 > max) max = property(data[i])*1;\r\n\r\n\t\treturn max*1;\r\n\t},\r\n\tcount:function(property, data){\r\n\t\treturn data.length;\r\n\t},\r\n\tany:function(property, data){\r\n\t\treturn property(data[0]);\r\n\t},\r\n\tstring:function(property, data){\r\n\t\treturn property.$name;\r\n\t}\r\n};\r\n\r\nwebix.GroupStore = {\r\n\t$init:function(){\r\n\t\tthis.attachEvent(\"onClearAll\", this._reset_groups);\r\n\t},\r\n\t_reset_groups:function(){\r\n\t\tthis._not_grouped_order = this._not_grouped_pull = null;\r\n\t\tthis._group_level_count = 0;\r\n\t},\r\n\tungroup:function(skipRender){\r\n\t\tif (this.getBranchIndex)\r\n\t\t\treturn this._ungroup_tree.apply(this, arguments);\r\n\r\n\t\tif (this._not_grouped_order){\r\n\t\t\tthis.order = this._not_grouped_order;\r\n\t\t\tthis.pull = this._not_grouped_pull;\r\n\t\t\tthis._not_grouped_pull = this._not_grouped_order = null;\r\n\t\t\tif(!skipRender)\r\n\t\t\t\tthis.callEvent(\"onStoreUpdated\",[]);\r\n\t\t}\r\n\r\n\t},\r\n\t_group_processing:function(scheme){\r\n\t\tthis.blockEvent();\r\n\t\tthis.group(scheme);\r\n\t\tthis.unblockEvent();\r\n\t},\r\n\t_group_prop_accessor:function(val){\r\n\t\tif (typeof val == \"function\")\r\n\t\t\treturn val;\r\n\t\tvar acc = function(obj){ return obj[val]; };\r\n\t\tacc.$name = val;\r\n\t\treturn acc;\r\n\t},\t\r\n\tgroup:function(stats){ \r\n\t\tif (this.getBranchIndex)\r\n\t\t\treturn this._group_tree.apply(this, arguments);\r\n\r\n\t\tvar key = this._group_prop_accessor(stats.by);\r\n\t\tif (!stats.map[key])\r\n\t\t\tstats.map[key] = [key, this._any];\r\n\t\t\t\r\n\t\tvar groups = {};\r\n\t\tvar labels = [];\r\n\t\tthis.each(function(data){\r\n\t\t\tvar current = key(data);\r\n\t\t\tif (!groups[current]){\r\n\t\t\t\tlabels.push({ id:current, $group:true, $row:stats.row });\r\n\t\t\t\tgroups[current] = webix.toArray();\r\n\t\t\t}\r\n\t\t\tgroups[current].push(data);\r\n\t\t});\r\n\t\tfor (var prop in stats.map){\r\n\t\t\tvar functor = (stats.map[prop][1]||\"any\");\r\n\t\t\tvar property = this._group_prop_accessor(stats.map[prop][0]);\r\n\t\t\tif (typeof functor != \"function\"){\r\n\t\t\t\twebix.assert(webix.GroupMethods[functor], \"unknown grouping rule: \"+functor);\r\n\t\t\t\tfunctor = webix.GroupMethods[functor];\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i=0; i < labels.length; i++) {\r\n\t\t\t\tlabels[i][prop]=functor.call(this, property, groups[labels[i].id]);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\tthis._not_grouped_order = this.order;\r\n\t\tthis._not_grouped_pull = this.pull;\r\n\t\t\r\n\t\tthis.order = webix.toArray();\r\n\t\tthis.pull = {};\r\n\t\tfor (var i=0; i < labels.length; i++){\r\n\t\t\tvar id = this.id(labels[i]);\r\n\t\t\tthis.pull[id] = labels[i];\r\n\t\t\tthis.order.push(id);\r\n\t\t}\r\n\t\t\r\n\t\tthis.callEvent(\"onStoreUpdated\",[]);\r\n\t},\r\n\t_group_tree:function(input, parent){\r\n\t\tthis._group_level_count = (this._group_level_count||0) + 1;\r\n\r\n\t\t//supports simplified group by syntax\r\n\t\tvar stats;\r\n\t\tif (typeof input == \"string\"){\r\n\t\t\tstats = { by:this._group_prop_accessor(input), map:{} };\r\n\t\t\tstats.map[input] = [input];\r\n\t\t} else if (typeof input == \"function\"){\r\n\t\t\tstats = { by:input, map:{} };\r\n\t\t} else\r\n\t\t\tstats = input;\r\n\t\t\r\n\t\t//prepare\r\n\t\tvar level;\r\n\t\tif (parent)\r\n\t\t\tlevel = this.getItem(parent).$level;\r\n\t\telse {\r\n\t\t\tparent  = 0;\r\n\t\t\tlevel = 0;\r\n\t\t}\r\n\t\t\r\n\t\tvar order = this.branch[parent];\r\n\t\tvar key = this._group_prop_accessor(stats.by);\r\n\t\t\r\n\t\t//run\r\n\t\tvar topbranch = [];\r\n\t\tvar labels = [];\r\n\t\tfor (var i=0; i<order.length; i++){\r\n\t\t\tvar data = this.getItem(order[i]);\r\n\t\t\tvar current = key(data);\r\n\t\t\tvar current_id = level+\"$\"+current;\r\n\t\t\tvar ancestor = this.branch[current_id];\r\n\r\n\t\t\tif (!ancestor){\r\n\t\t\t\tvar newitem = this.pull[current_id] = { id:current_id, value:current, $group:true, $row:stats.row};\r\n\t\t\t\tlabels.push(newitem);\r\n\t\t\t\tancestor = this.branch[current_id] = [];\r\n\t\t\t\tancestor._formath = [];\r\n\t\t\t\ttopbranch.push(current_id);\r\n\t\t\t}\r\n\t\t\tancestor.push(data.id);\r\n\t\t\tancestor._formath.push(data);\r\n\t\t}\r\n\r\n\t\tthis.branch[parent] = topbranch;\r\n\t\tfor (var prop in stats.map){\r\n\t\t\tvar functor = (stats.map[prop][1]||\"any\");\r\n\t\t\tvar property = this._group_prop_accessor(stats.map[prop][0]);\r\n\t\t\tif (typeof functor != \"function\"){\r\n\t\t\t\twebix.assert(webix.GroupMethods[functor], \"unknown grouping rule: \"+functor);\r\n\t\t\t\tfunctor = webix.GroupMethods[functor];\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tfor (var i=0; i < labels.length; i++)\r\n\t\t\t\tlabels[i][prop]=functor.call(this, property, this.branch[labels[i].id]._formath);\r\n\t\t}\r\n\r\n\t\tfor (var i=0; i < labels.length; i++){\r\n\t\t\tvar group = labels[i];\r\n\r\n\t\t\tif (this.hasEvent(\"onGroupCreated\"))\r\n\t\t\t\tthis.callEvent(\"onGroupCreated\", [group.id, group.value, this.branch[group.id]._formath]);\r\n\r\n\t\t\tif (stats.footer){\r\n\t\t\t\tvar id = \"footer$\"+group.id;\r\n\t\t\t\tvar footer = this.pull[id] = { id:id, $footer:true, value: group.value, $level:level, $count:0, $parent:group.id, $row:stats.footer.row};\r\n\t\t\t\tfor (var prop in stats.footer){\r\n\t\t\t\t\tvar functor = (stats.footer[prop][1]||\"any\");\r\n\t\t\t\t\tvar property = this._group_prop_accessor(stats.footer[prop][0]);\r\n\t\t\t\t\tif (typeof functor != \"function\"){\r\n\t\t\t\t\t\twebix.assert(webix.GroupMethods[functor], \"unknown grouping rule: \"+functor);\r\n\t\t\t\t\t\tfunctor = webix.GroupMethods[functor];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfooter[prop]=functor.call(this, property, this.branch[labels[i].id]._formath);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.branch[group.id].push(footer.id);\r\n\t\t\t\tthis.callEvent(\"onGroupFooter\", [footer.id, footer.value, this.branch[group.id]._formath]);\r\n\t\t\t}\r\n\r\n\t\t\tdelete this.branch[group.id]._formath;\r\n\t\t}\r\n\t\t\t\r\n\r\n\t\tthis._fix_group_levels(topbranch, parent, level+1);\r\n\t\t\t\r\n\t\tthis.callEvent(\"onStoreUpdated\",[]);\r\n\t},\r\n\t_ungroup_tree:function(skipRender, parent, force){\r\n\t\t//not grouped\r\n\t\tif (!force && !this._group_level_count) return;\r\n\t\tthis._group_level_count = Math.max(0, this._group_level_count -1 );\r\n\r\n\t\tparent = parent || 0;\r\n\t\tvar order = [];\r\n\t\tvar toporder = this.branch[parent];\r\n\t\tfor (var i=0; i<toporder.length; i++){\r\n\t\t\tvar id = toporder[i];\r\n\t\t\tvar branch = this.branch[id];\r\n\t\t\tif (branch)\r\n\t\t\t\torder = order.concat(branch);\r\n\r\n\t\t\tdelete this.pull[id];\r\n\t\t\tdelete this.branch[id];\r\n\t\t}\r\n\r\n\t\tthis.branch[parent] = order;\r\n\t\tfor (var i = order.length - 1; i >= 0; i--) {\r\n\t\t\tif (this.pull[order[i]].$footer)\r\n\t\t\t\torder.splice(i,1);\r\n\t\t}\r\n\t\tthis._fix_group_levels(order, 0, 1);\r\n\r\n\t\tif (!skipRender)\r\n\t\t\tthis.callEvent(\"onStoreUpdated\",[]);\r\n\t},\r\n\t_fix_group_levels:function(branch, parent, level){\r\n\t\tif (parent)\r\n\t\t\tthis.getItem(parent).$count = branch.length;\r\n\r\n\t\tfor (var i = 0; i < branch.length; i++) {\r\n\t\t\tvar item = this.pull[branch[i]];\r\n\t\t\titem.$level = level;\r\n\t\t\titem.$parent = parent;\r\n\t\t\tvar next = this.branch[item.id];\r\n\t\t\tif (next)\r\n\t\t\t\tthis._fix_group_levels(next, item.id, level+1);\r\n\t\t}\r\n\t}\r\n};\r\nwebix.clipbuffer = {\r\n\r\n\t_area: null,\r\n\t_blur_id: null,\r\n\t_ctrl: 0,\r\n\r\n\t/*! create textarea or returns existing\r\n\t **/\r\n\tinit: function() {\r\n\t\t// returns existing textarea\r\n\t\tif (this._area !== null)\r\n\t\t\treturn this._area;\r\n\r\n\t\twebix.destructors.push(this);\r\n\t\t// creates new textarea\r\n\t\tthis._area = document.createElement('textarea');\r\n\t\tthis._area.className = \"webix_clipbuffer\";\r\n\t\tthis._area.setAttribute(\"webixignore\", 1);\r\n\t\tdocument.body.appendChild(this._area);\r\n\r\n\t\twebix.event(document.body, 'keydown', webix.bind(function(e){\r\n\t\t\tvar key = e.keyCode;\r\n\t\t\tvar ctrl = !!(e.ctrlKey || e.metaKey);\r\n\t\t\tif (key === 86 && ctrl)\r\n\t\t\t\twebix.delay(this._paste, this, [e], 100);\r\n\t\t}, this));\r\n\r\n\t\treturn this._area;\r\n\t},\r\n\tdestructor: function(){\r\n\t\tthis._area = null;\r\n\t},\r\n\t/*! set text into buffer\r\n\t **/\r\n\tset: function(text) {\r\n\t\tthis.init();\r\n\t\tthis._area.value = text;\r\n\t\tthis.focus();\r\n\t},\r\n\t/*! select text in textarea\r\n\t **/\r\n\tfocus: function() {\r\n\t\t// if there is native browser selection, skip focus\r\n\t\tif(!this._isSelectRange()){\r\n\t\t\tthis.init();\r\n\t\t\tthis._area.focus();\r\n\t\t\tthis._area.select();\r\n\t\t}\r\n\r\n\t},\r\n\t/*! checks document selection\r\n\t **/\r\n\t_isSelectRange: function() {\r\n\t\tvar text = \"\";\r\n\t\tif (typeof window.getSelection != \"undefined\") {\r\n\t\t\ttext = window.getSelection().toString();\r\n\t\t} else if (typeof document.selection != \"undefined\" && document.selection.type == \"Text\") {\r\n\t\t\ttext = document.selection.createRange().text;\r\n\t\t}\r\n\t\treturn !!text;\r\n\t},\r\n\t/*! process ctrl+V pressing\r\n\t **/\r\n\t_paste: function(e) {\r\n\t\tvar trg = e.target || e.srcElement;\r\n\t\tif (trg === this._area) {\r\n\t\t\tvar text = this._area.value;\r\n\t\t\tvar last_active = webix.UIManager.getFocus();\r\n\t\t\tif (last_active && (!last_active.getEditor || !last_active.getEditor())){\r\n\t\t\t\tlast_active.callEvent(\"onPaste\", [text]);\r\n\t\t\t\tthis._area.select();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\nwebix.CopyPaste = {\r\n\tclipboard_setter: function(value) {\r\n\t\tif (value === true || value === 1) value = \"modify\";\r\n\t\tthis.attachEvent(\"onAfterSelect\", function(id) {\r\n\t\t\tif (!this.getEditor || !this.getEditor()){\r\n\t\t\t\tvar item = this.getItem(id);\r\n\t\t\t\tvar text = this.type.templateCopy(item);\r\n\t\t\t\twebix.clipbuffer.set(text, this);\r\n\t\t\t\twebix.clipbuffer.focus();\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.attachEvent(\"onPaste\", function(text) {\r\n\t\t\tif (!webix.isUndefined(this._paste[this._settings.clipboard]))\r\n\t\t\t\tthis._paste[this._settings.clipboard].call(this, text);\r\n\t\t});\r\n\t\tthis.attachEvent(\"onFocus\", function() {\r\n\t\t\twebix.clipbuffer.focus();\r\n\t\t});\r\n\t\t// solution for clicks on selected items\r\n\t\tthis.attachEvent(\"onItemClick\",function(){\r\n\t\t\tif(!document.activeElement || !this.$view.contains(document.activeElement)){\r\n\t\t\t\twebix.clipbuffer.focus();\r\n\t\t\t\twebix.UIManager.setFocus(this);\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t\treturn value;\r\n\t},\r\n\t_paste: {\r\n\t\t// insert new item with pasted value\r\n\t\tinsert: function(text) {\r\n\t\t\tthis.add({ value: text });\r\n\t\t},\r\n\t\t// change value of each selected item\r\n\t\tmodify: function(text) {\r\n\t\t\tvar sel = this.getSelectedId(true);\r\n\t\t\tfor (var i = 0; i < sel.length; i++) {\r\n\t\t\t\tthis.getItem(sel[i]).value = text;\r\n\t\t\t\tthis.refresh(sel[i]);\r\n\t\t\t}\r\n\t\t},\r\n\t\t// do nothing\r\n\t\tcustom: function(text) {}\r\n\t},\r\n\ttemplateCopy_setter: function(value) {\r\n\t\tthis.type.templateCopy = webix.template(value);\r\n\t},\r\n\ttype:{\r\n\t\ttemplateCopy: function(item) {\r\n\t\t\treturn this.template(item);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\nwebix.KeysNavigation = {\r\n    $init:function(){\r\n        this.attachEvent(\"onAfterRender\", function(){\r\n\r\n            var sel = this.getSelectedId(true);\r\n            if(!sel.length || !this.getItemNode(sel[0])){\r\n                var node =  this._dataobj.querySelector(\"[\"+this._id+\"]\");\r\n                if(node) node.setAttribute(\"tabindex\", \"0\");\r\n            }\r\n        });\r\n    },\r\n    _navigation_helper:function(mode){\r\n        return function(view, e){\r\n            var tag = (e.srcElement || e.target);\r\n\r\n            //ignore clipboard listener\r\n            if (!tag.getAttribute(\"webixignore\")){\r\n                //ignore hotkeys if focus in the common input\r\n                //to allow normal text edit operations\r\n                var name = tag.tagName;\r\n                if (name == \"INPUT\" || name == \"TEXTAREA\" || name == \"SELECT\") return true;\r\n            }\r\n            webix.html.preventEvent(e);\r\n\r\n            if (view && view.moveSelection && view.config.navigation && !view._in_edit_mode){\r\n                webix.html.preventEvent(e);\r\n                return view.moveSelection(mode, e.shiftKey);\r\n            }\r\n            return true;\r\n        };\r\n    },\r\n    moveSelection:function(mode, shift){\r\n        var config = this._settings;\r\n        if(config.disabled) return;\r\n        //get existing selection\r\n        var selected = this.getSelectedId(true);\r\n        var x_layout = (this.count && (config.layout ==\"x\" || config.xCount > 1));\r\n\r\n\r\n         if((mode == \"right\" || mode == \"left\") && this._parent_menu){\r\n            var parent = webix.$$(this._parent_menu);\r\n          \r\n            parent._hide_sub_menu(true);\r\n            if(parent.config.layout === \"x\")\r\n                parent.moveSelection(mode);\r\n            else\r\n                webix.UIManager.setFocus(parent);\r\n            return;\r\n        }\r\n\r\n        if (!selected.length){\r\n            if (mode == \"down\" || (mode == \"right\" && x_layout)) mode = \"top\";\r\n            else if (mode == \"up\" || (mode == \"left\" && x_layout)) mode = \"bottom\";\r\n            else return;\r\n            selected = [this.getFirstId()];\r\n        }\r\n\r\n        if (selected.length == 1){  //if we have a selection\r\n            selected = selected[0];\r\n            var prev = selected;\r\n\r\n            if (mode == \"left\" && this.close)\r\n                return this.close(selected);\r\n            if (mode == \"right\" && this.open)\r\n                return this.open(selected);\r\n\r\n            else if (mode == \"top\") {\r\n                selected = this.getFirstId();\r\n            } else if (mode == \"bottom\") {\r\n                selected = this.getLastId();\r\n            } else if (mode == \"up\" || mode == \"left\" || mode == \"pgup\") {\r\n                var index = this.getIndexById(selected);\r\n                var step = mode == \"pgup\" ? 10 : 1;\r\n                selected = this.getIdByIndex(Math.max(0, index-step));\r\n            } else if (mode == \"down\" || mode == \"right\" || mode == \"pgdown\") {\r\n                var index = this.getIndexById(selected);\r\n                var step = mode == \"pgdown\" ? 10 : 1;\r\n                selected = this.getIdByIndex(Math.min(this.count()-1, index+step));\r\n            } else {\r\n                webix.assert(false, \"Not supported selection moving mode\");\r\n                return;\r\n            }\r\n\r\n            if(this._skip_item)\r\n                selected = this._skip_item(selected, prev, mode);\r\n\r\n            this.showItem(selected);\r\n            this.select(selected);\r\n\r\n            if(this.getSubMenu && this.getSubMenu(selected))\r\n                this._mouse_move_activation(selected, this.getItemNode(selected));\r\n\r\n            var node = this.getItemNode(selected);\r\n            if(node)\r\n                node.focus();\r\n            \r\n        }\r\n        return false;\r\n    },\r\n    navigation_setter:function(value){\r\n        //using global flag to apply hotkey only once\r\n        if (value && !webix.UIManager._global_nav_grid_hotkeys){\r\n            webix.UIManager._global_nav_grid_hotkeys = true;\r\n            //hotkeys will react on any component but will not work in edit mode\r\n            //you can define moveSelection method to handle navigation keys\r\n            webix.UIManager.addHotKey(\"up\",         this._navigation_helper(\"up\"));\r\n            webix.UIManager.addHotKey(\"down\",       this._navigation_helper(\"down\"));\r\n            webix.UIManager.addHotKey(\"shift+up\",   this._navigation_helper(\"up\"));\r\n            webix.UIManager.addHotKey(\"shift+down\", this._navigation_helper(\"down\"));\r\n            webix.UIManager.addHotKey(\"shift+right\",   this._navigation_helper(\"right\"));\r\n            webix.UIManager.addHotKey(\"shift+left\", this._navigation_helper(\"left\"));\r\n            webix.UIManager.addHotKey(\"pageup\", \tthis._navigation_helper(\"pgup\"));\r\n            webix.UIManager.addHotKey(\"pagedown\",   this._navigation_helper(\"pgdown\"));\r\n            webix.UIManager.addHotKey(\"home\", \t    this._navigation_helper(\"top\"));\r\n            webix.UIManager.addHotKey(\"end\", \t\tthis._navigation_helper(\"bottom\"));\r\n            webix.UIManager.addHotKey(\"right\", \t    this._navigation_helper(\"right\"));\r\n            webix.UIManager.addHotKey(\"left\",\t\tthis._navigation_helper(\"left\"));\r\n\r\n        }\r\n\r\n        return value;\r\n    }\r\n};\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"tree\",\r\n\tdefaults:{\r\n\t\tscroll:\"a\",\r\n\t\tnavigation:true\r\n\t},\r\n\t$init:function(){\r\n\t\tthis._viewobj.className += \" webix_tree\";\r\n\r\n\t\t//map API of DataStore on self\r\n\t\twebix.extend(this.data, webix.TreeStore, true);\r\n\t\twebix.extend(this.on_click, webix.TreeClick);\r\n\t\tthis.attachEvent(\"onAfterRender\", this._refresh_scroll);\r\n\t\tthis.attachEvent(\"onPartialRender\", this._refresh_scroll);\r\n\t\tthis.data.provideApi(this,true);\r\n\r\n\t\tthis._viewobj.setAttribute(\"role\", \"tree\");\r\n\t},\r\n\t//attribute , which will be used for ID storing\r\n\t_id:\"webix_tm_id\",\r\n\t//supports custom context menu\r\n\ton_context:{},\r\n\ton_dblclick:{\r\n\t\twebix_tree_checkbox:function(){\r\n\t\t\tif(this.on_click.webix_tree_checkbox)\r\n\t\t\t\treturn this.on_click.webix_tree_checkbox.apply(this,arguments);\r\n\t\t}\r\n\t},\r\n\t//css class to action map, for onclick event\r\n\ton_click:{\r\n\t\twebix_tree_item:function(e,id){\r\n\t\t\tif(this._settings.activeTitle){\r\n\t\t\t\tvar item = this.getItem(id);\r\n\t\t\t\tif(item.open)\r\n\t\t\t\t\tthis.close(id);\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.open(id);\r\n\t\t\t}\r\n\t\t\tif (this._settings.select){\r\n\t\t\t\tif (this._settings.select==\"multiselect\" || this._settings.multiselect){\r\n\t\t\t\t\tif (this._settings.multiselect == \"level\"){\r\n\t\t\t\t\t\t//allow only selection on the same level\r\n\t\t\t\t\t\tvar select = this.getSelectedId(true)[0];\r\n\t\t\t\t\t\tif (select && this.getParentId(id) != this.getParentId(select)) \r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.select(id, false, (e.ctrlKey || e.metaKey || (this._settings.multiselect == \"touch\")), e.shiftKey); \t//multiselection\r\n\t\t\t\t} else\r\n\t\t\t\t\tthis.select(id);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_paste: {\r\n\t\t// insert new item with pasted value\r\n\t\tinsert: function(text) {\r\n\t\t\tvar parent = this.getSelectedId() ||'0' ;\r\n\t\t\tthis.add({ value: text }, null, parent);\r\n\t\t},\r\n\t\t// change value of each selected item\r\n\t\tmodify: function(text) {\r\n\t\t\tvar sel = this.getSelectedId(true);\r\n\t\t\tfor (var i = 0; i < sel.length; i++) {\r\n\t\t\t\tthis.getItem(sel[i]).value = text;\r\n\t\t\t\tthis.refresh(sel[i]);\r\n\t\t\t}\r\n\t\t},\r\n\t\t// do nothing\r\n\t\tcustom: function(text) {}\r\n\t},\r\n\t_drag_order_complex:true,\r\n\t$dragHTML:function(obj){\r\n\t\treturn \"<div class='borderless'>\"+this.type.template(obj, this.type)+\"</div>\";\r\n\t},\r\n\t\r\n\t//css class to action map, for dblclick event\r\n\ttype:webix.extend({\r\n\t\t//normal state of item\r\n\t\ttemplate:function(obj,common){\r\n\t\t\tvar template = common[\"template\"+obj.level]||common.templateCommon;\r\n\t\t\treturn template.apply(this, arguments);\r\n\t\t},\r\n\t\tclassname:function(obj, common, marks){\r\n\t\t\tvar css = \"webix_tree_item\";\r\n\r\n\t\t\tif (obj.$css){\r\n\t\t\t\tif (typeof obj.$css == \"object\")\r\n\t\t\t\t\tobj.$css = webix.html.createCss(obj.$css);\r\n\t\t\t\tcss += \" \"+obj.$css;\r\n\t\t\t}\r\n\t\t\tif (marks && marks.$css)\r\n\t\t\t\tcss += \" \"+marks.$css;\r\n\r\n\t\t\treturn css;\r\n\t\t},\r\n\t\taria:function(obj, common, marks){\r\n\t\t\treturn 'role=\"treeitem\"'+(marks && marks.webix_selected?' aria-selected=\"true\" tabindex=\"0\"':' tabindex=\"-1\"')+\r\n\t\t\t\t(obj.$count?('aria-expanded=\"'+(obj.open?\"true\":\"false\")+'\"'):'')+'aria-level=\"'+obj.$level+'\"';\r\n\t\t},\r\n\t\ttemplateCommon:webix.template(\"{common.icon()} {common.folder()} <span>#value#</span>\"),\r\n\t\ttemplateStart:webix.template('<div webix_tm_id=\"#id#\" class=\"{common.classname()}\" {common.aria()}>'),\r\n\t\ttemplateEnd:webix.template(\"</div>\"),\r\n\t\ttemplateCopy: webix.template(\"#value#\")\r\n\t}, webix.TreeType)\r\n}, webix.AutoTooltip, webix.Group, webix.TreeAPI, webix.DragItem, webix.TreeDataMove, webix.SelectionModel, webix.KeysNavigation, webix.MouseEvents, webix.Scrollable, webix.TreeDataLoader, webix.ui.proto, webix.TreeRenderStack, webix.CopyPaste, webix.EventSystem);\r\n\r\nwebix.TreeStateCheckbox = {\r\n\t_init_render_tree_state: function(){\r\n\t\tif (this._branch_render_supported){\r\n\t\t\tvar old_render = this.render;\r\n\t\t\tthis.render = function(id,data,mode){\r\n\t\t\t\tvar updated = old_render.apply(this,arguments);\r\n\r\n\t\t\t\tif(this._settings.threeState && updated && data != \"checkbox\")\r\n\t\t\t\t\tthis._setThirdState.apply(this,arguments);\r\n\t\t\t};\r\n\t\t\tthis._init_render_tree_state=function(){};\r\n\t\t}\r\n\t},\r\n\tthreeState_setter:function(value){\r\n\t\tif (value)\r\n\t\t\tthis._init_render_tree_state();\r\n\t\treturn value;\r\n\t},\r\n\t_setThirdState:function(id){\r\n\t\tvar i,leaves,parents,checkedParents,tree;\r\n\t\tparents = [];\r\n\t\ttree = this;\r\n\r\n\t\t/*if item was removed*/\r\n\t\tif(id&&!tree.data.pull[id]){\r\n\t\t\tid = 0;\r\n\t\t}\r\n\t\t/*sets checkbox states*/\r\n\t\t/*if branch or full reloading*/\r\n\t\tif(!id||tree.data.pull[id].$count){\r\n\t\t\tleaves = this._getAllLeaves(id);\r\n\t\t\tleaves.sort(function(a,b){\r\n\t\t\t\treturn tree.data.pull[b].$level - tree.data.pull[a].$level;\r\n\t\t\t});\r\n\t\t\tfor(i=0;i < leaves.length;i++){\r\n\t\t\t\tif(!i||tree.data.pull[leaves[i]].$parent!=tree.data.pull[leaves[i-1]].$parent)\r\n\t\t\t\t\tparents = parents.concat(tree._setParentThirdState(leaves[i]));\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\t/*an item is a leaf */\r\n\t\t\tparents = parents.concat(tree._setParentThirdState(id));\r\n\t\t}\r\n\r\n\t\tcheckedParents = {};\r\n\t\tfor(i=0;i<parents.length;i++){\r\n\t\t\tif(!checkedParents[parents[i]]){\r\n\t\t\t\tcheckedParents[parents[i]] = 1;\r\n\t\t\t\tthis._setCheckboxIndeterminate(parents[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttree = null;\r\n\t},\r\n\t_setCheckboxIndeterminate:function(id){\r\n\t\tvar chElem, elem;\r\n\t\telem = this.getItemNode(id);\r\n\t\tif(elem){\r\n\t\t\tthis.render(id,\"checkbox\",\"update\");\r\n\t\t\t/*needed to get the new input obj and to set indeterminate state*/\r\n\t\t\tif(this.getItem(id).indeterminate){\r\n\t\t\t\telem = this.getItemNode(id);\r\n\t\t\t\tchElem = elem.getElementsByTagName(\"input\")[0];\r\n\t\t\t\tif(chElem)\r\n\t\t\t\t\tchElem.indeterminate = this.getItem(id).indeterminate;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_setParentThirdState:function(itemId){\r\n\t\t//we need to use dynamic function creating\r\n\t\t//jshint -W083:true\r\n\r\n\t\tvar checked, checkedCount,indeterminate, parentId,result,tree,unsureCount,needrender;\r\n\t\tparentId = this.getParentId(itemId);\r\n\t\ttree = this;\r\n\t\tresult = [];\r\n\t\twhile(parentId && parentId != \"0\"){\r\n\t\t\tunsureCount = 0;\r\n\t\t\tcheckedCount = 0;\r\n\t\t\tthis.data.eachChild(parentId,function(obj){\r\n\t\t\t\tif(obj.indeterminate){\r\n\t\t\t\t\tunsureCount++;\r\n\t\t\t\t}\r\n\t\t\t\telse if(obj.checked){\r\n\t\t\t\t\tcheckedCount++;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tchecked = indeterminate = needrender = false;\r\n\t\t\t\r\n\t\t\tvar item = this.getItem(parentId);\r\n\t\t\tif(checkedCount==item.$count){\r\n\t\t\t\tchecked = true;\r\n\t\t\t}\r\n\t\t\telse if(checkedCount>0||unsureCount>0){\r\n\t\t\t\tindeterminate = true;\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\t//we need to reset indeterminate in any case :(\r\n\t\t\tif (indeterminate || indeterminate != item.indeterminate)\r\n\t\t\t\tneedrender = true;\r\n\t\t\titem.indeterminate = indeterminate;\r\n\t\t\tif (item.checked != checked)\r\n\t\t\t\tneedrender = true;\r\n\t\t\titem.checked = checked;\r\n\r\n\t\t\tif (needrender){\r\n\t\t\t\tresult.push(parentId);\r\n\t\t\t\tparentId = this.getParentId(parentId);\r\n\t\t\t} else \r\n\t\t\t\tparentId = 0;\r\n\r\n\t\t\t\r\n\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\t/*get all checked items in tree*/\r\n\tgetChecked:function(){\r\n\t\tvar result=[];\r\n\t\tvar tree = this;\r\n\t\tthis.data.eachSubItem(0,function(obj){\r\n\t\t\tif (tree.isChecked(obj.id))\r\n\t\t\t\tresult.push(obj.id);\r\n\t\t});\r\n\t\treturn result;\r\n\t},\r\n\t_tree_check_uncheck_3:function(id, mode){\r\n\t\tvar item = this.getItem(id);\r\n\t\tif(item){\r\n\t\t\tif (mode === \"\") \r\n\t\t\t\tmode = !item.checked;\r\n\t\t\tif(item.checked != mode || item.indeterminate){\r\n\t\t\t\titem.checked = mode;\r\n\t\t\t\tthis._correctThreeState(id);\r\n\t\t\t\tvar parents = this._setParentThirdState(id);\r\n\t\t\t\tif (this._branch_render_supported && parents.length < 5){\r\n\t\t\t\t\tfor (var i=0; i<parents.length; i++)\r\n\t\t\t\t\t\tthis._setCheckboxIndeterminate(parents[i]);\r\n\t\t\t\t} else\r\n\t\t\t\t\tthis.refresh();\r\n\t\t\t\tthis.callEvent(\"onItemCheck\", [id, mode]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t/*set checked state for item checkbox*/\r\n\tcheckItem:function(id){\r\n\t\tthis._tree_check_uncheck(id, true);\r\n\t\tthis.updateItem(id);\r\n\t},\r\n\t/*uncheckes an item checkbox*/\r\n\tuncheckItem:function(id){\r\n\t\tthis._tree_check_uncheck(id, false);\r\n\t\tthis.updateItem(id);\r\n\t},\r\n\t_checkUncheckAll: function(id,mode,all){\r\n\t\tvar method = mode?\"checkItem\":\"uncheckItem\";\r\n\t\tif(!id)\r\n\t\t\tid = 0;\r\n\t\telse\r\n\t\t\tthis[method](id);\r\n\t\tif(this._settings.threeState){\r\n\t\t\tif(!id)\r\n\t\t\t\tthis.data.eachChild(0,function(item){\r\n\t\t\t\t\tthis[method](item.id);\r\n\t\t\t\t},this,all);\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis.data.each(function(item){\r\n\t\t\t\tthis[method](item.id);\r\n\t\t\t},this,all,id);\r\n\r\n\t},\r\n\t/*checkes checkboxes of all items in a branch/tree*/\r\n\tcheckAll: function(id, all){\r\n\t\tthis._checkUncheckAll(id,true,all);\r\n\r\n\t},\r\n\t/*uncheckes checkboxes of all items in a branch/tree*/\r\n\tuncheckAll: function(id, all){\r\n\t\tthis._checkUncheckAll(id,false,all);\r\n\t},\r\n\t_correctThreeState:function(id){\r\n\t\tvar i,leaves,state;\r\n\t\tvar item = this.getItem(id);\r\n\r\n\t\titem.indeterminate = false;\r\n\t\tstate = item.checked;\r\n\r\n\t\tthis.data.eachSubItem(id, function(child){\r\n\t\t\tchild.indeterminate = false;\r\n\t\t\tchild.checked = state;\r\n\t\t});\r\n\t\t\r\n\t\tif(this._branch_render_supported && this.isBranchOpen(item.$parent)){ //for tree-render only\r\n\t\t\tthis.render(id,0,\"branch\");\r\n\t\t}\r\n\t},\r\n\t/*returns checked state of item checkbox*/\r\n\tisChecked:function(id){\r\n\t\treturn this.getItem(id).checked;\r\n\t},\r\n\t/*gets all leaves in a certain branch (in the whole tree if id is not set)*/\r\n\t_getAllLeaves:function(parentId){\r\n\t\tvar result = [];\r\n\t\tthis.data.eachSubItem(parentId, function(obj, branch){\r\n\t\t\tif (!branch)\r\n\t\t\t\tresult.push(obj.id);\r\n\t\t});\r\n\t\treturn result;\r\n\t}\t\r\n};\r\n\r\nif (webix.ui.tree)\r\n\twebix.extend(webix.ui.tree, webix.TreeStateCheckbox, true);\r\nwebix.type(webix.ui.tree, {\r\n\tname:\"lineTree\",\r\n\tcss:\"webixLineTree\",\r\n\ticon:function(obj, common){\r\n\t\tvar html = \"\";\r\n\t\tvar open = \"\";\r\n\t\tfor (var i=1; i<=obj.$level; i++){\r\n\t\t\tif (i==obj.$level)\r\n\t\t\t\tvar open = (obj.$count?(obj.open?'webix_tree_open ':'webix_tree_close '):'webix_tree_none ');\r\n\r\n\t\t\tvar icon = this._icon_src(obj, common, i);\r\n\t\t\tif (icon)\r\n\t\t\t\thtml+=\"<div class='\"+open+\" webix_tree_img webix_tree_\"+icon+\"'></div>\";\r\n\t\t}\r\n\t\treturn html;\r\n\t},\r\n\t_icon_src:function(obj, common, level){\r\n\t\tvar lines = common._tree_branch_render_state; \r\n\t\tvar tree = webix.TreeRenderStack._obj;\r\n\t\tif (lines === 0 && tree){\r\n\t\t\t//we are in standalone rendering \r\n\t\t\t//need to reconstruct rendering state\r\n\t\t\tvar lines_level = obj.$level;\r\n\t\t\tvar branch_id = obj.id;\r\n\r\n\t\t\tlines = [];\r\n\t\t\twhile (lines_level){\r\n\t\t\t\tvar parent_id = tree.getParentId(branch_id);\r\n\t\t\t\tvar pbranch = tree.data.branch[parent_id];\r\n\t\t\t\tif (pbranch[pbranch.length-1] == branch_id)\r\n\t\t\t\t\tlines[lines_level] = true;\t\r\n\r\n\t\t\t\tbranch_id = parent_id;\r\n\t\t\t\tlines_level--;\r\n\t\t\t}\r\n\r\n\t\t\t//store for next round\r\n\t\t\tcommon._tree_branch_render_state = lines;\r\n\t\t}\r\n\t\tif (!lines)\r\n\t\t\treturn 0;\r\n\t\t//need to be replaced with image urls\r\n\t\tif (level == obj.$level){\r\n\t\t\tvar mode = 3; //3-way line\r\n\t\t\tif (!obj.$parent){ //top level\r\n\t\t\t\tif (obj.$index === 0)\r\n\t\t\t\t\tmode = 4; //firts top item\r\n\t\t\t}\r\n\t\t\tif (lines[obj.$level])\r\n\t\t\t\tmode = 2;\r\n\r\n\t\t\tif (obj.$count){\r\n\t\t\t\tif (obj.open)\r\n\t\t\t\t\treturn \"minus\"+mode;\r\n\t\t\t\telse\r\n\t\t\t\t\treturn \"plus\"+mode;\r\n\t\t\t} else\r\n\t\t\t\treturn \"line\"+mode;\r\n\t\t} else {\r\n\t\t\tif (!lines[level])\r\n\t\t\t\treturn \"line1\";\r\n\t\t\treturn \"blank\";\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\n\r\n \t\r\n \r\n\r\n\r\n\r\n\r\n/*\r\n    UI: navigation control\r\n*/\r\nwebix.NavigationButtons = {\r\n\t$init:function(){\r\n\t\tthis.$ready.push(function(){\r\n\t\t\tthis.attachEvent(\"onKeyPress\", this._onKeyPress);\r\n\t\t});\r\n\t},\r\n\t_moveActive:function(code, e){\r\n\t\tif(code === 37  || code === 39){\r\n\t\t\twebix.html.preventEvent(e);\r\n\t\t\tthis._showNavItem(code===37?-1:1);\r\n\r\n\t\t\tvar node = this._navPanel.querySelector(\"[tabindex='0']\");\r\n\t\t\tif(node) node.focus();\r\n\t\t}\r\n\t},\r\n\t_renderPanel:function(){\r\n\t\twebix.html.remove(this._navPanel);\r\n\r\n\r\n\t\tthis._navPanel = webix.html.create(\"DIV\",{\r\n\t\t\t\"class\":\"webix_nav_panel \"+\"webix_nav_panel_\"+this._settings.navigation.type,\r\n\t\t\t\"role\":\"tablist\"\r\n\t\t},\"\");\r\n\r\n\t\tthis._viewobj.appendChild(this._navPanel);\r\n\r\n\r\n\t\tthis._renderNavItems();\r\n\t\tthis._renderNavButtons();\r\n\t\tthis._setLinkEventHandler();\r\n\t},\r\n\t_setLinkEventHandler: function(){\r\n\t\tvar h = [];\r\n\t\tif(this._navPanel)\r\n\t\t\th[0] = webix.event(this._navPanel,\"click\", webix.bind(function(e){\r\n\t\t\t\tvar elem = (e.srcElement || e.target);\r\n\t\t\t\tvar found = false;\r\n\t\t\t\twhile(elem != this._navPanel && !found){\r\n\t\t\t\t\tvar bindId = elem.getAttribute(this._linkAttr);\r\n\t\t\t\t\tif(bindId){\r\n\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t\tthis._showPanelBind(bindId);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telem = elem.parentNode;\r\n\t\t\t\t}\r\n\t\t\t},this));\r\n\t\tif(this._prevNavButton)\r\n\t\t\th[1] = webix.event(this._prevNavButton,\"click\", webix.bind(function(e){\r\n\t\t\t\tthis._showNavItem(-1);\r\n\t\t\t},this));\r\n\t\tif(this._nextNavButton)\r\n\t\t\th[1] = webix.event(this._nextNavButton,\"click\", webix.bind(function(e){\r\n\t\t\t\tthis._showNavItem(1);\r\n\t\t\t},this));\r\n\t\tthis.attachEvent(\"onDestruct\", function(){\r\n\t\t\tfor(var i=0;i< h.length; i++){\r\n\t\t\t\tthis.detachEvent(h[i]);\r\n\t\t\t}\r\n\t\t\th = null;\r\n\t\t});\r\n\t},\r\n\t_showNavItem: function(inc){\r\n\t\tif(this._cells){\r\n\t\t\tvar index = this._active_cell + inc;\r\n\t\t\tif(index >= this._cells.length || index < 0){\r\n\t\t\t\tindex = (index < 0?this._cells.length-1:0);\r\n\t\t\t}\r\n\t\t\tthis.setActiveIndex(index);\r\n\t\t}\r\n\t},\r\n\t_showPanelBind: function(id){\r\n\t\tif(this._cells)\r\n\t\t\twebix.$$(id).show();\r\n\t},\r\n\t_renderNavItems:function(){\r\n\t\tvar item, config;\r\n\t\tconfig = this._settings.navigation;\r\n\t\tif(config.items){\r\n\t\t\tthis._linkAttr = config.linkAttr || \"bind_id\";\r\n\r\n\t\t\tif(!this._navPanel)\r\n\t\t\t\tthis._renderPanel();\r\n\t\t\telse\r\n\t\t\t\tthis._clearPanel();\r\n\r\n\t\t\tvar data = (this._cells?this._cells:this.data.order);\r\n\t\t\tif(data.length>1){\r\n\t\t\t\tfor (var i=0; i < data.length; i++){\r\n\r\n\t\t\t\t\titem = webix.html.create(\"DIV\",{\r\n\t\t\t\t\t\t\"class\":\"webix_nav_item webix_nav_\"+(i==this._active_cell?\"active\":\"inactive\"),\r\n\t\t\t\t\t\t\"role\":\"tab\",\r\n\t\t\t\t\t\t\"tabindex\":(i==this._active_cell?\"0\":\"-1\")\r\n\t\t\t\t\t},\"<div></div>\");\r\n\t\t\t\t\tvar id = this._cells?this._cells[i]._settings.id:data[i];\r\n\t\t\t\t\tif(id)\r\n\t\t\t\t\t\titem.setAttribute(this._linkAttr, id);\r\n\t\t\t\t\tthis._navPanel.appendChild(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_clearPanel:function(){\r\n\t\tif (this._navPanel){\r\n\t\t\tvar coll = this._navPanel.childNodes;\r\n\t\t\tfor (var i = coll.length - 1; i >= 0; i--)\r\n\t\t\t\twebix.html.remove(coll[i]);\r\n\t\t}\r\n\t},\r\n\t_renderNavButtons: function(){\r\n\t\tvar item, config;\r\n\t\tconfig = this._settings.navigation;\r\n\t\tif(config.buttons){\r\n\r\n\t\t\tif(this._prevNavButton)\r\n\t\t\t\twebix.html.remove(this._prevNavButton);\r\n\t\t\tif(this._prevNavButton)\r\n\t\t\t\twebix.html.remove(this._nextNavButton);\r\n\r\n\r\n\t\t\tthis._prevNavButton = webix.html.create(\r\n\t\t\t\t\"DIV\",\r\n\t\t\t\t{\r\n\t\t\t\t\t\"class\":\"webix_nav_button_\"+config.type+\" webix_nav_button_prev \",\r\n\t\t\t\t\t\"role\":\"button\",\r\n\t\t\t\t\t\"tabindex\":\"0\",\r\n\t\t\t\t\t\"aria-label\":webix.i18n.aria.prevTab\r\n\t\t\t\t},\r\n\t\t\t\t\"<div class=\\\"webix_nav_button_inner\\\"></div>\"\r\n\t\t\t);\r\n\t\t\tthis._viewobj.appendChild(this._prevNavButton);\r\n\r\n\t\t\tthis._nextNavButton = webix.html.create(\r\n\t\t\t\t\"DIV\",\r\n\t\t\t\t{\r\n\t\t\t\t\t\"class\":\"webix_nav_button_\"+config.type+\" webix_nav_button_next \",\r\n\t\t\t\t\t\"role\":\"button\",\r\n\t\t\t\t\t\"tabindex\":\"0\",\r\n\t\t\t\t\t\"aria-label\":webix.i18n.aria.nextTab\r\n\t\t\t\t},\r\n\t\t\t\t\"<div class=\\\"webix_nav_button_inner\\\"></div>\"\r\n\t\t\t);\r\n\t\t\tthis._viewobj.appendChild(this._nextNavButton);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"list\",\r\n\t_listClassName : \"webix_list\",\r\n\t$init:function(config){\r\n\t\twebix.html.addCss(this._viewobj, this._listClassName + (((config.layout||this.defaults.layout) == \"x\")?\"-x\":\"\") );\r\n\t\tthis.data.provideApi(this,true);\r\n\r\n\t\tthis._auto_resize = webix.bind(this._auto_resize, this);\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\", this._auto_resize);\r\n\t\tthis.data.attachEvent(\"onSyncApply\", this._auto_resize);\r\n\t\tthis.attachEvent(\"onAfterRender\", this._correct_width_scroll);\r\n\r\n\t\tthis._viewobj.setAttribute(\"role\", \"listbox\");\r\n\t},\r\n\t$dragHTML:function(obj, e){\r\n\t\tif (this._settings.layout == \"y\" && this.type.width == \"auto\"){\r\n\t\t\tthis.type.width = this._content_width;\r\n\t\t\tvar node = this._toHTML(obj);\r\n\t\t\tthis.type.width = \"auto\";\r\n\t\t\treturn node;\r\n\t\t}\r\n\t\treturn this._toHTML(obj);\r\n\t},\r\n\tdefaults:{\r\n\t\tselect:false,\r\n\t\tscroll:true,\r\n\t\tlayout:\"y\",\r\n\t\tnavigation:true\r\n\t},\r\n\t_id:\"webix_l_id\",\r\n\ton_click:{\r\n\t\twebix_list_item:function(e,id){\r\n\t\t\tif (this._settings.select){\r\n                this._no_animation = true;\r\n\t\t\t\tif (this._settings.select==\"multiselect\"  || this._settings.multiselect)\r\n\t\t\t\t\tthis.select(id, false, (e.ctrlKey || e.metaKey || (this._settings.multiselect == \"touch\")), e.shiftKey); \t//multiselection\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.select(id);\r\n                this._no_animation = false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\ton_dblclick:{\r\n\t},\r\n\tgetVisibleCount:function(){\r\n\t\treturn Math.floor(this._content_height / this.type.height);\r\n\t},\r\n\t_auto_resize:function(){\r\n\t\tif (this._settings.autoheight || this._settings.autowidth)\r\n\t\t\tthis.resize();\r\n\t},\r\n\t_auto_height_calc:function(count){\r\n\t\tvar value = this.data.$pagesize||this.count();\r\n\r\n\t\tthis._onoff_scroll(count && count < value);\r\n\t\tif (this._settings.autoheight && value < (count||Infinity) ) \r\n\t\t\tcount = value;\r\n\t\treturn Math.max(this.type.height * count,this._settings.minHeight||0);\r\n\t},\r\n\t_auto_width_calc:function(count){\r\n\t\tvar value = this.data.$pagesize||this.count();\r\n\r\n\t\tthis._onoff_scroll(count && count < value);\r\n\t\tif (this._settings.autowidth && value < (count||Infinity) ) \r\n\t\t\tcount = value;\r\n\r\n\t\treturn (this.type.width * count); \r\n\t},\r\n\t_correct_width_scroll:function(){\r\n\t\tif (this._settings.layout == \"x\")\r\n\t\t\tthis._dataobj.style.width = (this.type.width != \"auto\") ? (this.type.width * this.count() + \"px\") : \"auto\";\r\n\t},\r\n\t$getSize:function(dx,dy){\r\n\t\tif (this._settings.layout == \"y\"){\r\n\t\t\tif (this.type.width!=\"auto\")\r\n\t\t\t\tthis._settings.width = this.type.width + (this._scroll_y?webix.ui.scrollSize:0);\r\n\t\t\tif (this._settings.yCount || this._settings.autoheight)\r\n\t\t\t\tthis._settings.height = this._auto_height_calc(this._settings.yCount)||1;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (this.type.height!=\"auto\")\r\n\t\t\t\tthis._settings.height = this.type.height + (this._scroll_x?webix.ui.scrollSize:0);\r\n\t\t\tif (this._settings.xCount || this._settings.autowidth)\r\n\t\t\t\tthis._settings.width = this._auto_width_calc(this._settings.xCount)||1;\r\n\t\t}\r\n\t\treturn webix.ui.view.prototype.$getSize.call(this, dx, dy);\r\n\t},\r\n\t$setSize:function(){\r\n        webix.ui.view.prototype.$setSize.apply(this, arguments);\r\n\t},\r\n\ttype:{\r\n\t\tcss:\"\",\r\n\t\twidthSize:function(obj, common){\r\n\t\t\treturn common.width+(common.width>-1?\"px\":\"\");\r\n\t\t},\r\n\t\theightSize:function(obj, common){\r\n\t\t\treturn common.height+(common.height>-1?\"px\":\"\");\r\n\t\t},\r\n\t\tclassname:function(obj, common, marks){\r\n\t\t\tvar css = \"webix_list_item\";\r\n\t\t\tif (obj.$css){\r\n\t\t\t\tif (typeof obj.$css == \"object\")\r\n\t\t\t\t\tobj.$css = webix.html.createCss(obj.$css);\r\n\t\t\t\tcss += \" \"+obj.$css;\r\n\t\t\t}\r\n\t\t\tif (marks && marks.$css)\r\n\t\t\t\tcss += \" \"+marks.$css;\r\n\r\n\t\t\treturn css;\r\n\t\t},\r\n\t\taria:function(obj, common, marks){\r\n\t\t\treturn 'role=\"option\"'+(marks && marks.webix_selected?' aria-selected=\"true\" tabindex=\"0\"':' tabindex=\"-1\"')+(obj.$count && obj.$template?'aria-expanded=\"true\"':'');\r\n\t\t},\r\n\t\ttemplate:function(obj){\r\n\t\t\treturn (obj.icon?(\"<span class='webix_icon fa-\"+obj.icon+\"'></span> \"):\"\") + obj.value + (obj.badge?(\"<div class='webix_badge'>\"+obj.badge+\"</div>\"):\"\");\r\n\t\t},\r\n\t\twidth:\"auto\",\r\n\t\ttemplateStart:webix.template('<div webix_l_id=\"#id#\" class=\"{common.classname()}\" style=\"width:{common.widthSize()}; height:{common.heightSize()}; overflow:hidden;\" {common.aria()}>'),\r\n\t\ttemplateEnd:webix.template(\"</div>\")\r\n\t},\r\n\t$skin:function(){\r\n\t\tthis.type.height = webix.skin.$active.listItemHeight;\r\n\t}\r\n}, webix.KeysNavigation, webix.DataMove, webix.DragItem, webix.MouseEvents, webix.SelectionModel, webix.Scrollable, webix.ui.proto, webix.CopyPaste);\r\n\r\nwebix.protoUI({\r\n\tname:\"grouplist\",\r\n\tdefaults:{\r\n\t\tanimate:{\r\n\t\t}\r\n\t},\r\n\t_listClassName : \"webix_grouplist\",\r\n\t$init:function(){\r\n\t\twebix.extend(this.data, webix.TreeStore, true);\r\n\t\t//needed for getRange\r\n\t\tthis.data.count = function(){ return this.order.length; };\r\n\t\tthis.data.provideApi(this,true);\r\n\t\tthis.data.attachEvent(\"onClearAll\", webix.bind(this._onClear, this));\r\n\t\tthis._onClear();\r\n\t},\r\n\t_onClear:function(){\r\n\t\tthis._nested_cursor = [];\r\n\t\tthis._nested_chain = [];\r\n\t},\r\n\t$setSize:function(){\r\n        if (webix.ui.view.prototype.$setSize.apply(this, arguments)){\r\n\t        //critical for animations in group list\r\n\t        this._dataobj.style.width = this._content_width;\r\n\t    }\r\n\t},\t\r\n\ton_click:{\r\n\t\twebix_list_item:function(e,id){\r\n\t\t\tif (this._in_animation) {\r\n                return false;\r\n            }\r\n\r\n\t\t\tfor (var i=0; i < this._nested_chain.length; i++){\r\n\t\t\t\tif (this._nested_chain[i] == id){ //one level up\r\n\t\t\t\t\tfor (var j=i; j < this._nested_chain.length; j++) {\r\n\t\t\t\t\t\tthis.data.getItem(this._nested_chain[j]).$template=\"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!i){ //top level\r\n\t\t\t\t\t\tthis._nested_cursor = this.data.branch[0];\r\n\t\t\t\t\t\tthis._nested_chain = [];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis._nested_cursor= this.data.branch[this._nested_chain[i-1]];\r\n\t\t\t\t\t\tthis._nested_chain.splice(i);\r\n\t\t\t\t\t}\r\n                    this._is_level_down = false;\r\n\t\t\t\t\treturn this.render();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar obj = this.getItem(id);\r\n\t\t\tif (obj.$count){\t//one level down\r\n                this._is_level_down = true;\r\n\t\t\t\tthis._nested_chain.push(id);\r\n\t\t\t\tobj.$template = \"Back\";\r\n\t\t\t\tthis._nested_cursor = this.data.branch[obj.id];\r\n\t\t\t\treturn this.render();\r\n\t\t\t} else {\r\n\t\t\t\tif (this._settings.select){\r\n                    this._no_animation = true;\r\n\t\t\t\t\tif (this._settings.select==\"multiselect\" || this._settings.multiselect)\r\n\t\t\t\t\t\tthis.select(id, false, ((this._settings.multiselect == \"touch\") || e.ctrlKey || e.metaKey), e.shiftKey); \t//multiselection\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tthis.select(id);\r\n                    this._no_animation = false;\r\n\t\t\t\t}\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n    getOpenState:function(){\r\n        return {parents:this._nested_chain,branch:this._nested_cursor};\r\n    },\r\n\trender:function(id,data,type,after){\r\n\t\tvar i, lastChain;\r\n\r\n\t\t//start filtering processing=>\r\n\t\tthis._nested_chain = webix.copy(this._nested_chain);\r\n\t\tthis._nested_cursor = webix.copy(this._nested_cursor);\r\n\r\n\t\tif(this._nested_chain.length){\r\n\t\t\tfor(i = 0;i<this._nested_chain.length;i++){\r\n\t\t\t\tif(!this.data.branch[this._nested_chain[i]]){\r\n\t\t\t\t\tthis._nested_chain.splice(i,1);\r\n\t\t\t\t\ti--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tlastChain =  (this._nested_chain.length?this._nested_chain[this._nested_chain.length-1]:0);\r\n\t\tthis._nested_cursor = webix.copy(this.data.branch[lastChain]) ;\r\n\r\n\t\tif(!this._nested_cursor.length&&this._nested_chain.length){\r\n\t\t\tthis._nested_cursor =  [lastChain];\r\n\t\t\tthis._nested_chain.pop();\r\n\t\t}\r\n\t\t//<= end filtering processing\r\n\r\n\t\tif (this._in_animation) {\r\n            return webix.delay(this.render, this, arguments, 100);\r\n        }        \r\n        for (i=0; i < this._nested_cursor.length; i++)\r\n        \tthis.data.getItem(this._nested_cursor[i]).$template = \"\";\r\n\r\n\t\tif (!this._nested_cursor.length)\r\n            this._nested_cursor = this.data.branch[0];\r\n\r\n\t\tthis.data.order = webix.toArray([].concat(this._nested_chain).concat(this._nested_cursor));\r\n\t\t\t\r\n        if (this.callEvent(\"onBeforeRender\",[this.data])){\r\n            if(this._no_animation || !this._dataobj.innerHTML || !(webix.animate.isSupported() && this._settings.animate) || (this._prev_nested_chain_length == this._nested_chain.length)) { // if dataobj is empty or animation is not supported\r\n\t\t\t\twebix.RenderStack.render.apply(this, arguments);\r\n            }\r\n            else {\r\n                //getRange - returns all elements\r\n                if (this.callEvent(\"onBeforeRender\",[this.data])){\r\n\r\n                    if(!this._back_scroll_states)\r\n                        this._back_scroll_states = [];\r\n\r\n\t\t\t\t\tvar next_div = this._dataobj.cloneNode(false);\r\n\t\t\t\t\tnext_div.innerHTML = this.data.getRange().map(this._toHTML,this).join(\"\");\r\n\r\n\t\t\t\t\tvar aniset = webix.extend({}, this._settings.animate);\r\n\t\t\t\t\taniset.direction = (this._is_level_down)?'left':'right';\r\n\r\n\t\t\t\t\t/*scroll position restore*/\r\n\t\t\t\t\tvar animArr = [webix.clone(aniset),webix.clone(aniset)];\r\n\t\t\t\t\tif(this._is_level_down){\r\n\t\t\t\t\t\tthis._back_scroll_states.push(this.getScrollState());\r\n\t\t\t\t\t\tif(webix.Touch&&webix.Touch.$active){\r\n\t\t\t\t\t\t\tanimArr[0].y = 0;\r\n\t\t\t\t\t\t\tanimArr[1].y = - this.getScrollState().y;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tvar getScrollState = this._back_scroll_states.pop();\r\n\t\t\t\t\t\tif(webix.Touch&&webix.Touch.$active){\r\n\t\t\t\t\t\t\tanimArr[0].y = -getScrollState.y;\r\n\t\t\t\t\t\t\tanimArr[1].y = - this.getScrollState().y;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar line = webix.animate.formLine(\r\n\t\t\t\t\t\tnext_div,\r\n\t\t\t\t\t\tthis._dataobj,\r\n\t\t\t\t\t\taniset\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t/*keeping scroll position*/\r\n\t\t\t\t\tif(webix.Touch&&webix.Touch.$active)\r\n\t\t\t\t\t\twebix.Touch._set_matrix(next_div, 0,this._is_level_down?0:animArr[0].y, \"0ms\");\r\n\r\n\t\t\t\t\taniset.master = this;\r\n\t\t\t\t\taniset.callback = function(){\r\n\t\t\t\t\t\tthis._dataobj = next_div;\r\n\r\n\t\t\t\t\t\t/*scroll position restore*/\r\n\t\t\t\t\t\tif(!this._is_level_down){\r\n\t\t\t\t\t\t\tif(webix.Touch&&webix.Touch.$active){\r\n\t\t\t\t\t\t\t\twebix.delay(function(){\r\n\t\t\t\t\t\t\t\t\twebix.Touch._set_matrix(next_div, 0,animArr[0].y, \"0ms\");\r\n\t\t\t\t\t\t\t\t},this);\r\n\t\t\t\t\t\t\t} else if (getScrollState) \r\n\t\t\t\t\t\t\t\tthis.scrollTo(0,getScrollState.y);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(!(webix.Touch&&webix.Touch.$active)){\r\n\t\t\t\t\t\t\tthis.scrollTo(0,0);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\twebix.animate.breakLine(line);\r\n\t\t\t\t\t\taniset.master = aniset.callback = null;\r\n\t\t\t\t\t\tthis._htmlmap = null; //clear map, it will be filled at first getItemNode\r\n\t\t\t\t\t\tthis._in_animation = false;\r\n\t\t\t\t\t\tthis.callEvent(\"onAfterRender\",[]);\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis._in_animation = true;\r\n\t\t\t\t\twebix.animate(line, animArr);\r\n                }\r\n            }\r\n            this._prev_nested_chain_length = this._nested_chain.length;\r\n        }\r\n\t},\r\n\ttemplateBack_setter:function(config){\r\n\t\tthis.type.templateBack = webix.template(config);\r\n\t},\r\n\ttemplateItem_setter:function(config){\r\n\t\tthis.type.templateItem = webix.template(config);\r\n\t},\r\n\ttemplateGroup_setter:function(config){\r\n\t\tthis.type.templateGroup = webix.template(config);\r\n\t},\r\n\ttype:{\r\n\t\ttemplate:function(obj, common){\r\n\t\t\tif (obj.$count)\r\n\t\t\t\treturn common.templateGroup(obj, common);\r\n\t\t\treturn common.templateItem(obj, common);\r\n\t\t},\r\n\t\tcss:\"group\",\r\n\t\tclassname:function(obj, common, marks){\r\n\t\t\treturn \"webix_list_item webix_\"+(obj.$count?\"group\":\"item\")+(obj.$template?\"_back\":\"\")+((marks&&marks.webix_selected)?\" webix_selected \":\"\")+ (obj.$css?obj.$css:\"\");\r\n\t\t},\r\n\t\ttemplateStart:webix.template('<div webix_l_id=\"#id#\" class=\"{common.classname()}\" style=\"width:{common.widthSize()}; height:{common.heightSize()};  overflow:hidden;\" {common.aria()}>'),\r\n\t\ttemplateBack:webix.template(\"#value#\"),\r\n\t\ttemplateItem:webix.template(\"#value#\"),\r\n\t\ttemplateGroup:webix.template(\"#value#\"),\r\n        templateEnd:function(obj, common){\r\n            var html = '';\r\n            if(obj.$count) html += \"<div class='webix_arrow_icon'></div>\";\r\n            html += \"</div>\";\r\n            return html;\r\n        }\r\n\t},\r\n\tshowItem:function(id){\r\n\t\tvar obj, parent;\r\n\t\tif(id){\r\n\t\t\tobj = this.getItem(id);\r\n\t\t\tparent = obj.$parent;\r\n\t\t\t\r\n\t\t\tif (obj.$count)\r\n\t\t\t\tparent = obj.id;\r\n\t\t}\r\n\t\tthis._nested_cursor = this.data.branch[parent||0];\r\n\t\tthis._nested_chain=[];\r\n\t\t\t\t\r\n\t\t//build _nested_chain\r\n\t\twhile(parent){\r\n\t\t\tthis.getItem(parent).$template = \"Back\";\r\n\t\t\tthis._nested_chain.unshift(parent);\r\n\t\t\tparent = this.getItem(parent).$parent;\r\n\t\t} \r\n\t\t\r\n\t\t//render\r\n\t\tthis._no_animation = true;\r\n\t\tthis.render();\r\n\t\tthis._no_animation = false;\r\n\t\t\r\n\t\t//scroll if necessary\r\n\t\twebix.RenderStack.showItem.call(this,id);\r\n\t}\r\n}, webix.Group, webix.ui.list );\r\nwebix.type(webix.ui.grouplist,{});\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"unitlist\",\r\n\t_id:\"webix_item_id\",\r\n\tuniteBy_setter: webix.template,\r\n\tsort_setter: function(config){\r\n\t\tif(typeof(config)!=\"object\")\r\n\t\t\tconfig={};\r\n\t\tthis._mergeSettings(config,{\r\n\t\t\tdir:\"asc\",\r\n\t\t\tas:\"string\"\r\n\t\t});\r\n\t\treturn config;\r\n\t},\r\n   \trender:function(id,data,type,after){\r\n\t\tvar config = this._settings;\r\n\t\tif (!this.isVisible(config.id))\r\n\t\t\treturn;\r\n\t\tif (webix.debug_render)\r\n\t\t\twebix.log(\"Render: \"+this.name+\"@\"+config.id);\r\n\t\tif(!config.uniteBy){\r\n\t\t\tif (webix.debug_render){\r\n\t\t\t\twebix.log(\"uniteBy is undefined\");\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (id){\r\n\t\t\tvar cont = this.getItemNode(id); //get html element of updated item\r\n            if(cont&&type==\"update\"&&(this._settings.uniteBy.call(this,data)==this.getItem(id).$unitValue)){\r\n                var t = this._htmlmap[id] = this._toHTMLObject(data);\r\n\t\t\t\twebix.html.insertBefore(t, cont);\r\n\t\t\t\twebix.html.remove(cont);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\t//full reset\r\n\t\tif (this.callEvent(\"onBeforeRender\",[this.data])){\r\n\t\t\tthis.units = null;\r\n\t\t\tthis._setUnits();\r\n\t\t\tif(this.units){\r\n\t\t\t\tthis._dataobj.innerHTML = this._getUnitRange().map(this._toHTML, this).join(\"\");\r\n\t\t\t\tthis._htmlmap = null; \r\n\t\t\t}\r\n\t\t\tthis.callEvent(\"onAfterRender\",[]);\r\n\t\t}\r\n\t},\r\n\tgetUnits:function(){\r\n\t\tvar result = [];\r\n\t\tif(this.units){\r\n\t\t\tfor(var b in this.units){\r\n\t\t\t\tresult.push(b);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\t\r\n\t},\r\n\tgetUnitList:function(id){\r\n\t\treturn (this.units?this.units[id]:null);\r\n\t},\r\n\t_toHTML:function(obj){\r\n\t\t//check if related template exist\r\n\t\tvar mark = this.data._marks[obj.id];\r\n\t\twebix.assert((!obj.$template || this.type[\"template\"+obj.$template]),\"RenderStack :: Unknown template: \"+obj.$template);\r\n\t\tthis.callEvent(\"onItemRender\",[obj]);\r\n\t\tif(obj.$unit){\r\n\t\t\treturn this.type.templateStartHeader(obj,this.type)+this.type.templateHeader.call(this,obj.$unit)+this.type.templateEnd(obj, this.type);\r\n\t\t}\r\n\t\treturn this.type.templateStart(obj,this.type,mark)+(obj.$template?this.type[\"template\"+obj.$template]:this.type.template)(obj,this.type)+this.type.templateEnd(obj, this.type);\r\n\t},\r\n\t_getUnitRange:function(){\r\n\t\tvar data,i,u,unit;\r\n\t\tdata = [];\r\n\t\tvar min = this.data.$min || 0;\r\n\t\tvar max = this.data.$max || Infinity;\r\n\t\tvar count = 0;\r\n\r\n\t\tfor(u in this.units){\r\n\t\t\tdata.push({$unit:u});\r\n\t\t\tunit = this.units[u];\r\n\t\t\tfor(i=0;i < unit.length;i++){\r\n\t\t\t\tif (count == min) data = [{$unit:u}];\r\n\t\t\t\tdata.push(this.getItem(unit[i]));\r\n\t\t\t\tif (count == max) return webix.toArray(data);\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn webix.toArray(data);\r\n\t},\r\n\t_setUnits: function(){\r\n\t\tvar list = this;\r\n\t\tthis.units = {};\r\n\t\tthis.data.each(function(obj){\r\n\t\t\tvar result = list._settings.uniteBy.call(this,obj);\r\n            obj.$unitValue = result;\r\n            if(!list.units[result])\r\n\t\t\t\tlist.units[result] = [];\r\n\t\t\tlist.units[result].push(obj.id);\r\n\t\t});\r\n\t},\r\n\ttype:{\r\n\t\theaderHeight: 20,\r\n\t\ttemplateHeader: function(value){\r\n\t\t\treturn \"<span class='webix_unit_header_inner'>\"+value+\"</span>\";\r\n\t\t},\r\n\t\ttemplateStart:function(obj,type,marks){\r\n\t\t\tif(obj.$unit)\r\n\t\t\t\treturn type.templateStartHeader.apply(this,arguments);\r\n\t\t\tvar className = \"webix_list_item webix_list_\"+(type.css)+\"_item\"+((marks&&marks.webix_selected)?\" webix_selected\":\"\")+(obj.$css?obj.$css:\"\");\r\n\t\t\tvar style = \"width:\"+type.widthSize(obj,type,marks)+\"; height:\"+type.heightSize(obj,type,marks)+\"; overflow:hidden;\"+(type.layout&&type.layout==\"x\"?\"float:left;\":\"\");\r\n\t\t\treturn '<div webix_item_id=\"'+obj.id+'\" class=\"'+className+'\" style=\"'+style+'\" '+type.aria(obj, type, marks)+'>';\r\n\t\t},\r\n\t\ttemplateStartHeader:function(obj,type,marks){\r\n\t\t\tvar className = \"webix_unit_header webix_unit_\"+(type.css)+\"_header\"+(obj.$selected?\"_selected\":\"\");\r\n\t\t\tvar style = \"width:\"+type.widthSize(obj,type,marks)+\"; height:\"+type.headerHeight+\"px; overflow:hidden;\";\r\n\t\t\treturn '<div webix_unit_id=\"'+obj.$unit+'\" class=\"'+className+'\" style=\"'+style+'\">';\r\n\t\t}\r\n\t},\r\n\t$skin:function(){\r\n\t\tthis.type.headerHeight = webix.skin.$active.unitHeaderHeight||20;\r\n\t}\r\n}, webix.ui.list);\r\n\r\n/*\r\n\tUI:DataView\r\n*/\r\n\r\n\r\n \t\r\n/*\r\n\tBehavior:EditAbility - enables item operation for the items\r\n\t\r\n\t@export\r\n\t\tedit\r\n\t\tstopEdit\r\n*/\r\n\r\n\r\n\r\nwebix.EditAbility={\r\n\tdefaults:{\r\n\t\teditaction:\"click\"\r\n\t},\r\n\t$init:function(config){\r\n\t\tthis._editors = {};\r\n\t\tthis._in_edit_mode = 0;\r\n\t\tthis._edit_open_time = 0;\r\n\t\tthis._contentobj.style.position = \"relative\";\r\n\t\tif (config)\r\n\t\t\tconfig.onDblClick = config.onDblClick || {};\r\n\r\n\t\tthis.attachEvent(\"onAfterRender\", this._refocus_inline_editor);\r\n\r\n\t\t//when we call webix.extend the editable prop can be already set\r\n\t\tif (this._settings.editable)\r\n\t\t\tthis._init_edit_events_once();\r\n\r\n\t\t// adding undo support\r\n\t\twebix.extend(this,webix.Undo);\r\n\t},\r\n\t_refocus_try:function(newnode){\r\n\t\ttry{ //Chrome throws an error if selectionStart is not accessible\r\n\t\t\tif (typeof newnode.selectionStart == \"number\") {\r\n\t\t\t\tnewnode.selectionStart = newnode.selectionEnd = newnode.value.length;\r\n\t\t\t} else if (typeof newnode.createTextRange != \"undefined\") {\r\n\t\t\t\tvar range = newnode.createTextRange();\r\n\t\t\t\trange.collapse(false);\r\n\t\t\t\trange.select();\r\n\t\t\t}\r\n\t\t} catch(e){}\r\n\t},\r\n\t_refocus_inline_editor:function(){\r\n\t\tvar editor = this.getEditor();\r\n\t\tif (editor && editor.$inline && !editor.getPopup){\r\n\t\t\tvar newnode = this._locateInput(editor);\r\n\t\t\tif (newnode && newnode != editor.node){\r\n\t\t\t\tvar text = editor.node.value;\r\n\t\t\t\teditor.node = newnode;\r\n\t\t\t\tnewnode.value = text;\r\n\t\t\t\tnewnode.focus();\r\n\r\n\t\t\t\tthis._refocus_try(newnode);\r\n\t\t\t} else \r\n\t\t\t\tthis.editStop();\r\n\t\t}\r\n\t},\r\n\teditable_setter:function(value){\r\n\t\tif (value)\r\n\t\t\tthis._init_edit_events_once();\r\n\t\treturn value;\r\n\t},\r\n\t_init_edit_events_once:function(){\r\n\t\t//will close editor on any click outside\r\n\t\twebix.attachEvent(\"onEditEnd\", webix.bind(function(){\r\n\t\t\tif (this._in_edit_mode)\r\n\t\t\t\tthis.editStop();\r\n\t\t}, this));\r\n\t\twebix.attachEvent(\"onClick\", webix.bind(function(e){\r\n\t\t\t//but ignore click which opens editor\r\n\t\t\tif (this._in_edit_mode && (new Date())-this._edit_open_time > 200){\r\n\t\t\t\tif (!this._last_editor || this._last_editor.popupType || !e || ( !this._last_editor.node || !this._last_editor.node.contains(e.target || e.srcElement)))\r\n\t\t\t\t\tthis.editStop();\r\n\t\t\t}\r\n\t\t}, this));\r\n\t\t\r\n\t\t//property sheet has simple data object, without events\r\n\t\tif (this.data.attachEvent)\r\n\t\t\tthis.data.attachEvent(\"onIdChange\", webix.bind(function(oldid, newid){\r\n\t\t\t\tthis._changeEditorId(oldid, newid);\r\n\t\t\t}, this));\r\n\r\n\t\t//when clicking on row - will start editor\r\n\t\tthis.attachEvent(\"onItemClick\", function(id){\r\n\t\t\tif (this._settings.editable && this._settings.editaction == \"click\")\r\n\t\t\t\tthis.edit(id);\r\n\t\t});\r\n\t\tthis.attachEvent(\"onItemDblClick\", function(id){\r\n\t\t\tif (this._settings.editable && this._settings.editaction == \"dblclick\")\r\n\t\t\t\tthis.edit(id);\r\n\t\t});\r\n\t\t//each time when we clicking on input, reset timer to prevent self-closing\r\n\t\tthis._reset_active_editor = webix.bind(function(){\r\n\t\t\tthis._edit_open_time = new Date();\r\n\t\t},this);\r\n\r\n\t\tthis._init_edit_events_once = function(){};\r\n\r\n\t\tif (this._component_specific_edit_init)\r\n\t\t\tthis._component_specific_edit_init();\r\n\t},\r\n\t_handle_live_edits:function(){\r\n\t\twebix.delay(function(){\r\n\t\t\tvar editor = this.getEditor();\r\n\t\t\tif (editor && editor.config.liveEdit){\r\n\t\t\t\tvar state = { value:editor.getValue(), old: editor.value };\r\n\t\t\t\tif (state.value == state.old) return;\r\n\r\n\t\t\t\teditor.value = state.value;\r\n\t\t\t\tthis._set_new_value(editor, state.value);\r\n\t\t\t\tthis.callEvent(\"onLiveEdit\", [state, editor]);\r\n\t\t\t}\r\n\t\t}, this);\r\n\t},\r\n\t_show_editor_form:function(id){\r\n\t\tvar form = this._settings.form;\r\n\t\tif (typeof form != \"string\")\r\n\t\t\tthis._settings.form = form = webix.ui(form).config.id;\r\n\r\n\t\tvar form = webix.$$(form);\r\n\t\tvar realform = form.setValues?form:form.getChildViews()[0];\r\n\r\n\t\t\r\n\t\trealform.setValues(this.getItem(id.row || id));\r\n\t\tform.config.master = this.config.id;\r\n\t\tform.show( this.getItemNode(id) );\r\n\r\n\t\tvar first = realform.getChildViews()[0];\r\n\t\tif (first.focus)\r\n\t\t\tfirst.focus();\r\n\t},\r\n\tedit:function(id, preserve, show){\r\n\t\tif (!this.callEvent(\"onBeforeEditStart\", [id])) return;\r\n\t\tif (this._settings.form)\r\n\t\t\treturn this._show_editor_form(id);\r\n\r\n\t\tvar editor = this._get_editor_type(id);\r\n\t\tif (editor){\r\n\t\t\tif (this.getEditor(id)) return;\r\n\t\t\tif (!preserve) this.editStop();\r\n\r\n\t\t\t//render html input\r\n\t\t\twebix.assert(webix.editors[editor], \"Invalid editor type: \"+editor);\r\n\t\t\tvar type = webix.extend({}, webix.editors[editor]);\r\n\t\t\t\r\n\t\t\tvar node = this._init_editor(id, type, show);\r\n\t\t\tif (type.config.liveEdit)\r\n\t\t\t\tthis._live_edits_handler = this.attachEvent(\"onKeyPress\", this._handle_live_edits);\r\n\r\n\t\t\tvar area = type.getPopup?type.getPopup(node)._viewobj:node;\r\n\r\n\t\t\tif (area)\r\n\t\t\t\twebix.event(area, \"click\", this._reset_active_editor);\r\n\t\t\tif (node)\r\n\t\t\t\twebix.event(node, \"change\", this._on_editor_change, {bind:{ view:this, id:id }});\r\n\t\t\tif (show !== false)\r\n\t\t\t\ttype.focus();\r\n\r\n\t\t\t//save time of creation to prevent instant closing from the same click\r\n\t\t\tthis._edit_open_time = webix.edit_open_time = new Date();\r\n\r\n\t\t\twebix.UIManager.setFocus(this, true);\r\n\t\t\tthis.callEvent(\"onAfterEditStart\", [id]);\r\n\t\t\treturn type;\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\tgetEditor:function(id){\r\n\t\tif (!id)\r\n\t\t\treturn this._last_editor;\r\n\r\n\t\treturn this._editors[id];\r\n\t},\r\n\t_changeEditorId:function(oldid, newid)\t{\r\n\t\tvar editor = this._editors[oldid];\r\n\t\tif (editor){\r\n\t\t\tthis._editors[newid] = editor;\r\n\t\t\teditor.id = newid;\r\n\t\t\tdelete this._editors[oldid];\r\n\t\t}\r\n\t},\r\n\t_on_editor_change:function(e){\r\n\t\tif (this.view.hasEvent(\"onEditorChange\"))\r\n\t\t\tthis.view.callEvent(\"onEditorChange\", [this.id, this.view.getEditorValue(this.id) ]);\r\n\t},\r\n\t_get_edit_config:function(id){\r\n\t\treturn this._settings;\r\n\t},\r\n\t_init_editor:function(id, type, show){\r\n\t\tvar config = type.config = this._get_edit_config(id);\r\n\t\tvar node = type.render();\r\n\r\n\t\tif (type.$inline)\r\n\t\t\tnode = this._locateInput(id);\r\n\t\ttype.node = node;\r\n\r\n\t\tvar item = this.getItem(id);\r\n\t\t//value can be configured by editValue option\r\n\t\tvar value = item[this._settings.editValue||\"value\"];\r\n\t\t//if property was not defined - use empty value\r\n\t\tif (webix.isUndefined(value))\r\n\t\t\tvalue = \"\";\r\n\r\n\t\ttype.setValue(value, item);\r\n\t\ttype.value = value;\r\n\r\n\t\tthis._addEditor(id, type);\r\n\r\n\t\t//show it over cell\r\n\t\tif (show !== false)\r\n\t\t\tthis.showItem(id);\r\n\t\tif (!type.$inline)\r\n\t\t\tthis._sizeToCell(id, node, true);\r\n\r\n\t\tif (type.afterRender)\r\n\t\t\ttype.afterRender();\r\n\r\n\t\treturn node;\r\n\t},\r\n\t_locate_cell:function(id){\r\n\t\treturn this.getItemNode(id);\r\n\t},\r\n\t_locateInput:function(id){\r\n\t\tvar cell = this._locate_cell(id);\r\n\t\tif (cell)\r\n\t\t\tcell = cell.getElementsByTagName(\"input\")[0] || cell;\r\n\r\n\t\treturn cell;\r\n\t},\r\n\t_get_editor_type:function(id){\r\n\t\treturn this._settings.editor;\r\n\t},\r\n\t_addEditor:function(id, type){\r\n\t\ttype.id = id;\r\n\t\tthis._editors[id]= this._last_editor = type;\r\n\t\tthis._in_edit_mode++;\r\n\t},\r\n\t_removeEditor:function(editor){\r\n\t\tif (this._last_editor == editor)\r\n\t\t\tthis._last_editor = 0;\r\n\t\t\r\n\t\tif (editor.destroy)\r\n\t\t\teditor.destroy();\r\n\r\n\t\tdelete editor.popup;\r\n\t\tdelete editor.node;\r\n\r\n\t\tdelete this._editors[editor.id];\r\n\t\tthis._in_edit_mode--;\r\n\t},\r\n\tfocusEditor:function(id){\r\n\t\tvar editor = this.getEditor.apply(this, arguments);\r\n\t\tif (editor && editor.focus)\r\n\t\t\teditor.focus();\r\n\t},\r\n\teditCancel:function(){\r\n\t\tthis.editStop(null, null, true);\r\n\t},\r\n\t_applyChanges: function(el){\r\n\t\tif (el){\r\n\t\t\tvar ed = this.getEditor();\r\n\t\t\tif (ed && ed.getPopup && ed.getPopup() == el.getTopParentView()) return;\r\n\t\t}\r\n\t\tthis.editStop();\r\n\t},\r\n\teditStop:function(id){\r\n\t\tif (this._edit_stop) return;\r\n\t\tthis._edit_stop = 1;\r\n\r\n\r\n\t\tvar cancel = arguments[2];\r\n\t\tvar result = 1;\r\n\t\tif (!id){\r\n\t\t\tthis._for_each_editor(function(editor){\r\n\t\t\t\tresult = result * this._editStop(editor, cancel);\r\n\t\t\t});\r\n\t\t} else \r\n\t\t\tresult = this._editStop(this._editors[id], cancel);\r\n\r\n\t\tthis._edit_stop = 0;\r\n\t\treturn result;\r\n\t},\r\n\t_cellPosition:function(id){\r\n\t\tvar html = this.getItemNode(id);\r\n\t\treturn {\r\n\t\t\tleft:html.offsetLeft, \r\n\t\t\ttop:html.offsetTop,\r\n\t\t\theight:html.offsetHeight,\r\n\t\t\twidth:html.offsetWidth,\r\n\t\t\tparent:this._contentobj\r\n\t\t};\r\n\t},\r\n\t_sizeToCell:function(id, node, inline){\r\n\t\t//fake inputs\r\n\t\tif (!node.style) return;\r\n\r\n\t\tvar pos = this._cellPosition(id);\r\n\r\n\t\tnode.style.top = pos.top + \"px\";\r\n\t\tnode.style.left = pos.left + \"px\";\r\n\r\n\t\tnode.style.width = pos.width-1+\"px\";\r\n\t\tnode.style.height = pos.height-1+\"px\";\r\n\r\n\t\tnode.top = pos.top; //later will be used during y-scrolling\r\n\r\n\t\tif (inline) pos.parent.appendChild(node);\r\n\t},\r\n\t_for_each_editor:function(handler){\r\n\t\tfor (var editor in this._editors)\r\n\t\t\thandler.call(this, this._editors[editor]);\r\n\t},\r\n\t_editStop:function(editor, ignore){\r\n\t\tif (!editor) return;\r\n\t\tvar state = { \r\n\t\t\tvalue : editor.getValue(), \r\n\t\t\told : editor.value\r\n\t\t};\r\n\t\tif (this.callEvent(\"onBeforeEditStop\", [state, editor, ignore])){\r\n\t\t\tif (!ignore){\r\n\t\t\t\t//special case, state.old = 0, state.value = \"\"\r\n\t\t\t\t//we need to state.old to string, to detect the change\r\n\t\t\t\tvar old = state.old;\r\n\t\t\t\tif (typeof state.value == \"string\") old += \"\";\r\n\r\n\t\t\t\tif (old != state.value || editor.config.liveEdit)\r\n\t\t\t\t\tthis.updateItem(this._set_new_value(editor, state.value));\r\n\t\t\t}\r\n\t\t\tif (editor.$inline)\r\n\t\t\t\teditor.node = null;\r\n\t\t\telse\r\n\t\t\t\twebix.html.remove(editor.node);\r\n\r\n\t\t\tvar popup = editor.config.suggest;\r\n\t\t\tif (popup && typeof popup == \"string\")\r\n\t\t\t\twebix.$$(popup).hide();\r\n\r\n\t\t\tthis._removeEditor(editor);\r\n\t\t\tif (this._live_edits_handler)\r\n\t\t\t\tthis.detachEvent(this._live_edits_handler);\r\n\r\n\t\t\tthis.callEvent(\"onAfterEditStop\", [state, editor, ignore]);\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\treturn 0;\r\n\t},\r\n\tvalidateEditor:function(id){\r\n\t\tvar result = true;\r\n\t\tif (this._settings.rules){\r\n\t\t\tvar editor = this.getEditor(id);\r\n\t\t\tvar key = editor.column||this._settings.editValue||\"value\";\r\n\t\t\tvar rule = this._settings.rules[key];\r\n\t\t\tvar all = this._settings.rules.$all;\r\n\r\n\t\t\tif (rule || all){\r\n\t\t\t\tvar obj = this.data.getItem(editor.row||editor.id);\r\n\t\t\t\tvar value = editor.getValue();\r\n\t\t\t\tvar input = editor.getInputNode();\r\n\r\n\t\t\t\tif (rule)\r\n\t\t\t\t\tresult = rule.call(this, value, obj, key);\r\n\t\t\t\tif (all)\r\n\t\t\t\t\tresult = all.call(this, value, obj, key) && result;\r\n\t\t\t\r\n\t\t\t\tif (result)\r\n\t\t\t\t\twebix.html.removeCss(input, \"webix_invalid\");\r\n\t\t\t\telse\r\n\t\t\t\t\twebix.html.addCss(input, \"webix_invalid\");\r\n\r\n\t\t\t\twebix.callEvent(\"onLiveValidation\", [editor, result, obj, value]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tgetEditorValue:function(id){\r\n\t\tvar editor;\r\n\t\tif (arguments.length === 0)\r\n\t\t\teditor = this._last_editor;\r\n\t\telse\r\n\t\t\teditor = this.getEditor(id);\r\n\r\n\t\tif (editor)\r\n\t\t\treturn editor.getValue();\r\n\t},\r\n\tgetEditState:function(){\r\n\t\treturn this._last_editor || false;\r\n\t},\r\n\teditNext:function(next, from){ \r\n\t\tnext = next !== false; //true by default\r\n\t\tif (this._in_edit_mode == 1 || from){\r\n\t\t\t//only if one editor is active\r\n\t\t\tvar editor_next = this._find_cell_next((this._last_editor || from), function(id){\r\n\t\t\t\tif (this._get_editor_type(id))\r\n\t\t\t\t\treturn true;\r\n\t\t\t\treturn false;\r\n\t\t\t}, next);\r\n\r\n\t\t\tif (this.editStop()){\t//if we was able to close previous editor\r\n\t\t\t\tif (editor_next){\t//and there is a new target\r\n\t\t\t\t\tthis.edit(editor_next);\t//init new editor\r\n\t\t\t\t\tthis._after_edit_next(editor_next);\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t//stab, used in datatable\r\n\t_after_edit_next:function(){},\r\n\t_find_cell_next:function(start, check, direction){\r\n\t\tvar row = this.getIndexById(start.id);\r\n\t\tvar order = this.data.order;\r\n\t\t\r\n\t\tif (direction){\r\n\t\t\tfor (var i=row+1; i<order.length; i++){\r\n\t\t\t\tif (check.call(this, order[i]))\r\n\t\t\t\t\treturn order[i];\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i=row-1; i>=0; i--){\r\n\t\t\t\tif (check.call(this, order[i]))\r\n\t\t\t\t\treturn order[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t},\r\n\t_set_new_value:function(editor, new_value){\r\n\t\tthis.getItem(editor.id)[this._settings.editValue||\"value\"] = new_value;\r\n\t\treturn editor.id;\r\n\t}\r\n};\r\n\r\n\r\n(function(){\r\n\r\nfunction init_suggest(editor, input){\r\n\tvar suggest = editor.config.suggest;\r\n\tif (suggest){\r\n\t\tvar box = editor.config.suggest = create_suggest(suggest);\r\n\t\tvar boxobj = webix.$$(box);\r\n\t\tif (boxobj && input)\r\n\t\t\tboxobj.linkInput(input);\r\n\t}\r\n}\r\n\r\nfunction create_suggest(config){\r\n\tif (typeof config == \"string\") return config;\r\n\tif (config.linkInput) return config._settings.id;\r\n\r\n\t\r\n\tif (typeof config == \"object\"){\r\n\t\tif (webix.isArray(config))\r\n\t\t\tconfig = { data: config };\r\n\t\tconfig.view = config.view || \"suggest\";\r\n\t} else if (config === true)\r\n\t\tconfig = { view:\"suggest\" };\r\n\r\n\tvar obj = webix.ui(config);\r\n\treturn obj.config.id;\r\n}\r\n\r\nfunction getLabel(config){\r\n\treturn config.header && config.header[0]?config.header[0].text:config.editValue || config.label;\r\n}\r\n\r\n/*\r\n\tthis.node - html node, available after render call\r\n\tthis.config - editor config\r\n\tthis.value - original value\r\n\tthis.popup - id of popup \r\n*/\r\nwebix.editors = {\r\n\t\"text\":{\r\n\t\tfocus:function(){\r\n\t\t\tthis.getInputNode(this.node).focus();\r\n\t\t\tthis.getInputNode(this.node).select();\r\n\t\t},\r\n\t\tgetValue:function(){\r\n\t\t\treturn this.getInputNode(this.node).value;\r\n\t\t},\r\n\t\tsetValue:function(value){\r\n\t\t\tvar input = this.getInputNode(this.node);\r\n\t\t\tinput.value = value;\r\n\r\n\t\t\tinit_suggest(this, input);\r\n\t\t},\r\n\t\tgetInputNode:function(){\r\n\t\t\treturn this.node.firstChild;\r\n\t\t},\r\n\t\trender:function(){\r\n\t\t\treturn webix.html.create(\"div\", {\r\n\t\t\t\t\"class\":\"webix_dt_editor\"\r\n\t\t\t}, \"<input type='text' aria-label='\"+getLabel(this.config)+\"'>\");\r\n\t\t}\r\n\t},\r\n\t\"inline-checkbox\":{\r\n\t\trender:function(){ return {}; },\r\n\t\tgetValue:function(){\r\n\t\t\treturn this.node.checked;\r\n\t\t},\r\n\t\tsetValue:function(){},\r\n\t\tfocus:function(){\r\n\t\t\tthis.node.focus();\r\n\t\t},\r\n\t\tgetInputNode:function(){},\r\n\t\t$inline:true\r\n\t},\r\n\t\"inline-text\":{\r\n\t\trender:function(){ return {}; },\r\n\t\tgetValue:function(){\r\n\t\t\treturn this.node.value;\r\n\t\t},\r\n\t\tsetValue:function(){},\r\n\t\tfocus:function(){\r\n\t\t\ttry{\t//IE9\r\n\t\t\t\tthis.node.select();\r\n\t\t\t\tthis.node.focus();\r\n\t\t\t} catch(e){}\r\n\t\t},\r\n\t\tgetInputNode:function(){},\r\n\t\t$inline:true\r\n\t},\r\n\t\"checkbox\":{\r\n\t\tfocus:function(){\r\n\t\t\tthis.getInputNode().focus();\r\n\t\t},\r\n\t\tgetValue:function(){\r\n\t\t\treturn this.getInputNode().checked;\r\n\t\t},\r\n\t\tsetValue:function(value){\r\n\t\t\tthis.getInputNode().checked = !!value;\r\n\t\t},\r\n\t\tgetInputNode:function(){\r\n\t\t\treturn this.node.firstChild.firstChild;\r\n\t\t},\r\n\t\trender:function(){\r\n\t\t\treturn webix.html.create(\"div\", {\r\n\t\t\t\t\"class\":\"webix_dt_editor\"\r\n\t\t\t}, \"<div><input type='checkbox' aria-label='\"+getLabel(this.config)+\"'></div>\");\r\n\t\t}\r\n\t},\r\n\t\"select\":{\r\n\t\tfocus:function(){\r\n\t\t\tthis.getInputNode().focus();\r\n\t\t},\r\n\t\tgetValue:function(){\r\n\t\t\treturn this.getInputNode().value;\r\n\t\t},\r\n\t\tsetValue:function(value){\r\n\t\t\tthis.getInputNode().value = value;\r\n\t\t},\r\n\t\tgetInputNode:function(){\r\n\t\t\treturn this.node.firstChild;\r\n\t\t},\r\n\t\trender:function(){\r\n\t\t\tvar html = \"\";\r\n\t\t\tvar options = this.config.options || this.config.collection;\r\n\t\t\twebix.assert(options,\"options not defined for select editor\");\r\n\r\n\t\t\tif (options.data && options.data.each)\r\n\t\t\t\toptions.data.each(function(obj){\r\n\t\t\t\t\thtml +=\"<option value='\"+obj.id+\"'>\"+obj.value+\"</option>\";\r\n\t\t\t\t});\r\n\t\t\telse {\r\n\t\t\t\tif (webix.isArray(options)){\r\n\t\t\t\t\tfor (var i=0; i<options.length; i++){\r\n\t\t\t\t\t\tvar rec = options[i];\r\n\t\t\t\t\t\tvar isplain = webix.isUndefined(rec.id);\r\n\t\t\t\t\t\tvar id = isplain ? rec : rec.id;\r\n\t\t\t\t\t\tvar label = isplain ? rec : rec.value;\r\n\r\n\t\t\t\t\t\thtml +=\"<option value='\"+id+\"'>\"+label+\"</option>\";\r\n\t\t\t\t\t}\r\n\t\t\t\t} else for (var key in options){\r\n\t\t\t\t\thtml +=\"<option value='\"+key+\"'>\"+options[key]+\"</option>\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn webix.html.create(\"div\", {\r\n\t\t\t\t\"class\":\"webix_dt_editor\"\r\n\t\t\t}, \"<select aria-label='\"+getLabel(this.config)+\"'>\"+html+\"</select>\");\r\n\t\t}\r\n\t},\r\n\tpopup:{\r\n\t\tfocus:function(){\r\n\t\t\tthis.getInputNode().focus();\r\n\t\t},\r\n\t\tdestroy:function(){\r\n\t\t\tthis.getPopup().hide();\r\n\t\t},\r\n\t\tgetValue:function(){\r\n\t\t\treturn this.getInputNode().getValue()||\"\";\r\n\t\t},\r\n\t\tsetValue:function(value){\r\n\t\t\tthis.getPopup().show(this.node);\r\n\t\t\tthis.getInputNode().setValue(value);\r\n\t\t},\r\n\t\tgetInputNode:function(){\r\n\t\t\treturn this.getPopup().getChildViews()[0];\r\n\t\t},\r\n\t\tgetPopup:function(){\r\n\t\t\tif (!this.config.popup)\r\n\t\t\t\tthis.config.popup = this.createPopup();\r\n\r\n\t\t\treturn webix.$$(this.config.popup);\r\n\t\t},\r\n\t\tcreatePopup:function(){\r\n\t\t\tvar popup = this.config.popup || this.config.suggest;\r\n\r\n\t\t\tif (popup){\r\n\t\t\t\tvar pobj;\r\n\t\t\t\tif (typeof popup == \"object\" && !popup.name){\r\n\t\t\t\t\tpopup.view = popup.view || \"suggest\";\r\n\t\t\t\t\tpobj = webix.ui(popup);\r\n\t\t\t\t} else\r\n\t\t\t\t\tpobj = webix.$$(popup);\r\n\r\n\t\t\t\tif (pobj.linkInput)\r\n\t\t\t\t\tpobj.linkInput(document.body);\r\n\t\t\t\telse if(this.linkInput)\r\n\t\t\t\t\tthis.linkInput(document.body);\r\n\r\n\t\t\t\treturn pobj;\r\n\t\t\t}\r\n\r\n\t\t\tvar type = webix.editors.$popup[this.popupType];\r\n\t\t\tif (typeof type != \"string\"){\r\n\t\t\t\ttype = webix.editors.$popup[this.popupType] = webix.ui(type);\r\n\t\t\t\tthis.popupInit(type);\r\n\r\n\t\t\t\tif(!type.linkInput)\r\n\t\t\t\t\tthis.linkInput(document.body);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\treturn type._settings.id;\r\n\t\t},\r\n\t\tlinkInput:function(node){\r\n\t\t\twebix.event(webix.toNode(node), \"keydown\", webix.bind(function(e){\r\n\t\t\t\tvar code = e.which || e.keyCode, list = this.getInputNode();\r\n\t\t\t\tif(!list.isVisible()) return;\r\n\r\n\t\t\t\tif(code === 40){\r\n\t\t\t\t\tif(list.moveSelection)\r\n\t\t\t\t\t\tlist.moveSelection(\"down\");\r\n\t\t\t\t\twebix.UIManager.setFocus(list);\r\n\t\t\t\t}\r\n\t\t\t\telse if(code === 13)\r\n\t\t\t\t\twebix.callEvent(\"onEditEnd\", []);\r\n\t\t\t\t\r\n\t\t\t}, this));\r\n\t\t},\r\n\r\n\t\tpopupInit:function(popup){},\r\n\t\tpopupType:\"text\",\r\n\t\trender\t:function(){ return {}; },\r\n\t\t$inline:true\r\n\t}\r\n};\r\n\r\nwebix.editors.color = webix.extend({\r\n\tfocus\t:function(){},\r\n\tpopupType:\"color\",\r\n\tpopupInit:function(popup){\r\n\t\tpopup.getChildViews()[0].attachEvent(\"onSelect\", function(value){\r\n\t\t\twebix.callEvent(\"onEditEnd\",[value]);\r\n\t\t});\r\n\t}\r\n}, webix.editors.popup);\r\n\r\nwebix.editors.date = webix.extend({\r\n\tfocus\t:function(){},\r\n\tpopupType:\"date\",\r\n\tsetValue:function(value){\r\n\t\tthis._is_string = this.config.stringResult || (value && typeof value == \"string\");\r\n\t\twebix.editors.popup.setValue.call(this, value);\r\n\t},\r\n\tgetValue:function(){\r\n\t\treturn this.getInputNode().getValue(this._is_string?webix.i18n.parseFormatStr:\"\")||\"\";\r\n\t},\r\n\tpopupInit:function(popup){\r\n\t\tpopup.getChildViews()[0].attachEvent(\"onDateSelect\", function(value){\r\n\t\t\twebix.callEvent(\"onEditEnd\",[value]);\r\n\t\t});\r\n\t}\r\n}, webix.editors.popup);\r\n\r\nwebix.editors.combo = webix.extend({\r\n\t_create_suggest:function(config){\r\n        if(this.config.popup){\r\n            return this.config.popup.config.id;\r\n        }\r\n\t\telse if (config){\r\n\t\t\treturn create_suggest(config);\r\n\t\t} else\r\n\t\t\treturn this._shared_suggest(config);\r\n\t},\r\n\t_shared_suggest:function(){\r\n\t\tvar e = webix.editors.combo;\r\n\t\treturn (e._suggest = e._suggest || this._create_suggest(true));\r\n\t},\r\n\trender:function(){\r\n\t\tvar node = webix.html.create(\"div\", {\r\n\t\t\t\"class\":\"webix_dt_editor\"\r\n\t\t}, \"<input type='text' role='combobox' aria-label='\"+getLabel(this.config)+\"'>\");\r\n\r\n\t\t//save suggest id for future reference\t\t\r\n\t\tvar suggest = this.config.suggest = this._create_suggest(this.config.suggest);\r\n\r\n\t\tif (suggest){\r\n\t\t\twebix.$$(suggest).linkInput(node.firstChild, true);\r\n\t\t\twebix.event(node.firstChild, \"click\",webix.bind(this.showPopup, this));\r\n\t\t}\r\n\t\treturn node;\r\n\t},\r\n\tgetPopup:function(){\r\n\t\treturn webix.$$(this.config.suggest);\r\n\t},\r\n\tshowPopup:function(){\r\n\t\tvar popup = this.getPopup();\r\n        var list = popup.getList();\r\n\t\tvar input = this.getInputNode();\r\n        var value = this.getValue();\r\n\r\n\t\tpopup.show(input);\r\n\t\tinput.setAttribute(\"aria-expanded\", \"true\");\r\n        if(value ){\r\n           webix.assert(list.exists(value), \"Option with ID \"+value+\" doesn't exist\");\r\n            if(list.exists(value)){\r\n                list.select(value);\r\n                list.showItem(value);\r\n            }\r\n        }else{\r\n            list.unselect();\r\n            list.showItem(list.getFirstId());\r\n        }\r\n\t\tpopup._last_input_target = input;\r\n\t},\r\n\tafterRender:function(){\r\n\t\tthis.showPopup();\r\n\t},\r\n\tsetValue:function(value){\r\n\t\tthis._initial_value = value;\r\n\t\tif (this.config.suggest){\r\n\t\t\tvar sobj = webix.$$(this.config.suggest);\r\n\t\t\tvar data =  this.config.collection || this.config.options;\r\n\t\t\tif (data)\r\n\t\t\t\tsobj.getList().data.importData(data);\r\n\r\n\t\t\tthis._initial_text = this.getInputNode(this.node).value = sobj.getItemText(value);\r\n\t\t}\r\n\t},\r\n\tgetValue:function(){\r\n\t\tvar value = this.getInputNode().value;\r\n\t\t\r\n\t\tif (this.config.suggest){\r\n\t\t\tif (value == this._initial_text)\r\n\t\t\t\treturn this._initial_value;\r\n\t\t\treturn webix.$$(this.config.suggest).getSuggestion();\r\n\t\t} else \r\n\t\t\treturn value;\r\n\t}\r\n}, webix.editors.text);\r\n\r\n\r\nwebix.editors.richselect = webix.extend({\r\n\tfocus:function(){},\r\n\tgetValue:function(){\r\n\t\treturn this.getPopup().getValue();\r\n\t},\r\n\tsetValue:function(value){\r\n\t\tvar suggest =  this.config.collection || this.config.options;\r\n        var list = this.getInputNode();\r\n\t\tif (suggest)\r\n\t\t\tthis.getPopup().getList().data.importData(suggest);\r\n\r\n        this.getPopup().show(this.node);\r\n        this.getPopup().setValue(value);\r\n\t},\r\n\tgetInputNode:function(){\r\n\t\treturn this.getPopup().getList();\r\n\t},\r\n\tpopupInit:function(popup){\r\n\t\tpopup.linkInput(document.body);\r\n\t},\r\n\tpopupType:\"richselect\"\r\n}, webix.editors.popup);\r\n\r\nwebix.editors.password = webix.extend({\r\n\trender:function(){\r\n\t\treturn webix.html.create(\"div\", {\r\n\t\t\t\"class\":\"webix_dt_editor\"\r\n\t\t}, \"<input type='password' aria-label='\"+getLabel(this.config)+\"'>\");\r\n\t}\r\n}, webix.editors.text);\r\n\r\nwebix.editors.$popup = {\r\n\ttext:{\r\n\t\tview:\"popup\", width:250, height:150,\r\n\t\tbody:{ view:\"textarea\" }\r\n\t},\r\n\tcolor:{\r\n\t\tview:\"popup\",\r\n\t\tbody:{ view:\"colorboard\" }\r\n\t},\r\n\tdate:{\r\n\t\tview:\"popup\", width:250, height:250, padding:0,\r\n\t\tbody:{ view:\"calendar\", icons:true, borderless:true }\r\n\t},\r\n\trichselect:{\r\n\t\tview:\"suggest\",\r\n\t\tbody:{ view:\"list\", select:true }\r\n\t}\r\n};\r\n\r\n})(); \r\n \r\n\r\n\r\n\r\n/*\r\n\tRenders collection of items\r\n\tAlways shows y-scroll\r\n\tCan be used with huge datasets\r\n\t\r\n\t@export\r\n\t\tshow\r\n\t\trender\r\n*/\r\n\r\n \r\n\r\nwebix.VirtualRenderStack={\r\n\t$init:function(){\r\n\t\twebix.assert(this.render,\"VirtualRenderStack :: Object must use RenderStack first\");\r\n\t\t\r\n\t\tthis._htmlmap={}; //init map of rendered elements\r\n        \r\n        //we need to repaint area each time when view resized or scrolling state is changed\r\n        webix.event(this._viewobj,\"scroll\",webix.bind(this._render_visible_rows,this));\r\n\t\tif(webix.env.touch){\r\n\t\t\tthis.attachEvent(\"onAfterScroll\", webix.bind(this._render_visible_rows,this));\r\n\t\t}\r\n\t\t//here we store IDs of elemenst which doesn't loadede yet, but need to be rendered\r\n\t\tthis._unrendered_area=[];\r\n\t},\r\n\t//return html object by item's ID. Can return null for not-rendering element\r\n\tgetItemNode:function(search_id){\r\n\t\t//collection was filled in _render_visible_rows\r\n\t\treturn this._htmlmap[search_id];\r\n\t},\r\n\t//adjust scrolls to make item visible\r\n\tshowItem:function(id){\r\n\t\tvar range = this._getVisibleRange();\r\n\t\tvar ind = this.data.getIndexById(id);\r\n\t\t//we can't use DOM method for not-rendered-yet items, so fallback to pure math\r\n\t\tvar dy = Math.floor(ind/range._dx)*range._y;\r\n\t\tvar state = this.getScrollState();\r\n\t\tif (dy<state.y || dy + this._settings.height >= state.y + this._content_height)\r\n\t\t\tthis.scrollTo(0, dy);\r\n\t},\t\r\n\t//repain self after changes in DOM\r\n\t//for add, delete, move operations - render is delayed, to minify performance impact\r\n\trender:function(id,data,type){\r\n\t\tif (!this.isVisible(this._settings.id) || this.$blockRender)\r\n\t\t\treturn;\r\n\t\t\r\n\t\tif (webix.debug_render)\r\n\t\t\twebix.log(\"Render: \"+this.name+\"@\"+this._settings.id);\r\n\t\t\t\r\n\t\tif (id){\r\n\t\t\tvar cont = this.getItemNode(id);\t//old html element\r\n\t\t\tswitch(type){\r\n\t\t\t\tcase \"update\":\r\n\t\t\t\t\tif (!cont) return;\r\n\t\t\t\t\t//replace old with new\r\n\t\t\t\t\tvar t = this._htmlmap[id] = this._toHTMLObject(data);\r\n\t\t\t\t\twebix.html.insertBefore(t, cont); \r\n\t\t\t\t\twebix.html.remove(cont);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault: // \"move\", \"add\", \"delete\"\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t\tfor all above operations, full repainting is necessary\r\n\t\t\t\t\t\tbut from practical point of view, we need only one repainting per thread\r\n\t\t\t\t\t\tcode below initiates double-thread-rendering trick\r\n\t\t\t\t\t*/\r\n\t\t\t\t\tthis._render_delayed();\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t//full repainting\r\n\t\t\tif (this.callEvent(\"onBeforeRender\",[this.data])){\r\n\t\t\t\tthis._htmlmap = {}; \t\t\t\t\t//nulify links to already rendered elements\r\n\t\t\t\tthis._render_visible_rows(null, true);\t\r\n\t\t\t\t// clear delayed-rendering, because we already have repaint view\r\n\t\t\t\tthis._wait_for_render = false;\t\t\t\r\n\t\t\t\tthis.callEvent(\"onAfterRender\",[]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t//implement double-thread-rendering pattern\r\n\t_render_delayed:function(){\r\n\t\t//this flag can be reset from outside, to prevent actual rendering \r\n\t\tif (this._wait_for_render) return;\r\n\t\tthis._wait_for_render = true;\t\r\n\t\t\r\n\t\twindow.setTimeout(webix.bind(function(){\r\n\t\t\tthis.render();\r\n\t\t},this),1);\r\n\t},\r\n\t//create empty placeholders, which will take space before rendering\r\n\t_create_placeholder:function(height){\r\n\t\tvar node = document.createElement(\"DIV\");\r\n\t\t\tnode.style.cssText = \"height:\"+height+\"px; width:100%; overflow:hidden;\";\r\n\t\treturn node;\r\n\t},\r\n\t/*\r\n\t\tMethods get coordinatest of visible area and checks that all related items are rendered\r\n\t\tIf, during rendering, some not-loaded items was detected - extra data loading is initiated.\r\n\t\treset - flag, which forces clearing of previously rendered elements\r\n\t*/\r\n\t_render_visible_rows:function(e,reset){\r\n\t\tthis._unrendered_area=[]; //clear results of previous calls\r\n\t\t\r\n\t\tvar viewport = this._getVisibleRange();\t//details of visible view\r\n\r\n\t\tif (!this._dataobj.firstChild || reset){\t//create initial placeholder - for all view space\r\n\t\t\tthis._dataobj.innerHTML=\"\";\r\n\t\t\tthis._dataobj.appendChild(this._create_placeholder(viewport._max));\r\n\t\t\t//register placeholder in collection\r\n\t\t\tthis._htmlrows = [this._dataobj.firstChild];\r\n\t\t}\r\n\t\t\r\n\t\t/*\r\n\t\t\tvirtual rendering breaks all view on rows, because we know widht of item\r\n\t\t\twe can calculate how much items can be placed on single row, and knowledge \r\n\t\t\tof that, allows to calculate count of such rows\r\n\t\t\t\r\n\t\t\teach time after scrolling, code iterate through visible rows and render items \r\n\t\t\tin them, if they are not rendered yet\r\n\t\t\t\r\n\t\t\tboth rendered rows and placeholders are registered in _htmlrows collection\r\n\t\t*/\r\n\r\n\t\t//position of first visible row\r\n\t\tvar t = viewport._from;\r\n\t\t\t\r\n\t\twhile(t<=viewport._height){\t//loop for all visible rows\r\n\t\t\t//skip already rendered rows\r\n\t\t\twhile(this._htmlrows[t] && this._htmlrows[t]._filled && t<=viewport._height){\r\n\t\t\t\tt++; \r\n\t\t\t}\r\n\t\t\t//go out if all is rendered\r\n\t\t\tif (t>viewport._height) break;\r\n\t\t\t\r\n\t\t\t//locate nearest placeholder\r\n\t\t\tvar holder = t;\r\n\t\t\twhile (!this._htmlrows[holder]) holder--;\r\n\t\t\tvar holder_row = this._htmlrows[holder];\r\n\t\t\t\r\n\t\t\t//render elements in the row\t\t\t\r\n\t\t\tvar base = t*viewport._dx+(this.data.$min||0);\t//index of rendered item\r\n\t\t\tif (base > (this.data.$max||Infinity)) break;\t//check that row is in virtual bounds, defined by paging\r\n\t\t\tvar nextpoint =  Math.min(base+viewport._dx-1,(this.data.$max?this.data.$max-1:Infinity));\r\n\t\t\tvar node = this._create_placeholder(viewport._y);\r\n\t\t\t//all items in rendered row\r\n\t\t\tvar range = this.data.getIndexRange(base, nextpoint);\r\n\t\t\tif (!range.length) break; \r\n\t\t\t\r\n\t\t\tvar loading = { $template:\"Loading\" };\r\n\t\t\tfor (var i=0; i<range.length; i++){\r\n\t\t\t\tif (!range[i])\r\n\t        \t\tthis._unrendered_area.push(base+i);\r\n\t\t\t\trange[i] = this._toHTML(range[i]||loading);\r\n\t\t\t}\r\n\r\n\t\t\tnode.innerHTML=range.join(\"\"); \t//actual rendering\r\n\t\t\tfor (var i=0; i < range.length; i++)\t\t\t\t\t//register all new elements for later usage in getItemNode\r\n\t\t\t\tthis._htmlmap[this.data.getIdByIndex(base+i)]=node.childNodes[i];\r\n\t\t\t\r\n\t\t\t//correct placeholders\r\n\t\t\tvar h = parseInt(holder_row.style.height,10);\r\n\t\t\tvar delta = (t-holder)*viewport._y;\r\n\t\t\tvar delta2 = (h-delta-viewport._y);\r\n\t\t\t\r\n\t\t\t//add new row to the DOOM\r\n\t\t\twebix.html.insertBefore(node,delta?holder_row.nextSibling:holder_row,this._dataobj);\r\n\t\t\tthis._htmlrows[t]=node;\r\n\t\t\tnode._filled = true;\r\n\t\t\t\r\n\t\t\t/*\r\n\t\t\t\tif new row is at start of placeholder - decrease placeholder's height\r\n\t\t\t\telse if new row takes whole placeholder - remove placeholder from DOM\r\n\t\t\t\telse \r\n\t\t\t\t\twe are inserting row in the middle of existing placeholder\r\n\t\t\t\t\tdecrease height of existing one, and add one more, \r\n\t\t\t\t\tbefore the newly added row\r\n\t\t\t*/\r\n\t\t\tif (delta <= 0 && delta2>0){\r\n\t\t\t\tholder_row.style.height = delta2+\"px\";\r\n\t\t\t\tthis._htmlrows[t+1] = holder_row;\r\n\t\t\t} else {\r\n\t\t\t\tif (delta<0)\r\n\t\t\t\t\twebix.html.remove(holder_row);\r\n\t\t\t\telse\r\n\t\t\t\t\tholder_row.style.height = delta+\"px\";\r\n\t\t\t\tif (delta2>0){ \r\n\t\t\t\t\tvar new_space = this._htmlrows[t+1] = this._create_placeholder(delta2);\r\n\t\t\t\t\twebix.html.insertBefore(new_space,node.nextSibling,this._dataobj);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tt++;\r\n\t\t}\r\n\t\t\r\n\t\t//when all done, check for non-loaded items\r\n\t\tif (this._unrendered_area.length){\r\n\t\t\t//we have some data to load\r\n\t\t\t//detect borders\r\n\t\t\tvar from = this._unrendered_area[0];\r\n\t\t\tvar to = this._unrendered_area.pop()+1;\r\n\t\t\tif (to>from){\r\n\t\t\t\t//initiate data loading\r\n\t\t\t\tvar count = to - from;\r\n\t\t\t\tif (this._maybe_loading_already(count, from)) return;\r\n\r\n\t\t\t\tcount = Math.max(count, (this._settings.datafetch||this._settings.loadahead||0));\r\n\t\t\t\tthis.loadNext(count, from);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t//calculates visible view\r\n\t_getVisibleRange:function(){\r\n\t\tvar state = this.getScrollState();\r\n\t\tvar top = state.y;\r\n\t\tvar width = this._content_width; \r\n\t\tvar height = this._content_height;\r\n\r\n\t\t//size of single item\r\n\t\tvar t = this.type;\r\n\r\n\t\tvar dx = Math.floor(width/t.width)||1; //at least single item per row\r\n\t\t\r\n\t\tvar min = Math.floor(top/t.height);\t\t\t\t//index of first visible row\r\n\t\tvar dy = Math.ceil((height+top)/t.height)-1;\t\t//index of last visible row\r\n\t\t//total count of items, paging can affect this math\r\n\t\tvar count = this.data.$max?(this.data.$max-this.data.$min):this.data.count();\r\n\t\tvar max = Math.ceil(count/dx)*t.height;\t\t\t//size of view in rows\r\n\r\n\t\treturn { _from:min, _height:dy, _top:top, _max:max, _y:t.height, _dx:dx};\r\n\t},\r\n\t_cellPosition:function(id){\r\n\t\tvar html = this.getItemNode(id);\r\n\t\tif (!html){\r\n\t\t\tthis.showItem(id);\r\n\t\t\tthis._render_visible_rows();\r\n\t\t\thtml = this.getItemNode(id);\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tleft:html.offsetLeft, \r\n\t\t\ttop:html.offsetTop,\r\n\t\t\theight:html.offsetHeight,\r\n\t\t\twidth:html.offsetWidth,\r\n\t\t\tparent:this._contentobj\r\n\t\t};\r\n\t}\r\n};\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"dataview\",\r\n\t$init:function(config){\r\n\t\tif (config.sizeToContent)\r\n\t\t\t//method need to be called before data-loaders\r\n\t\t\t//so we are using unshift to place it at start\r\n\t\t\tthis.$ready.unshift(this._after_init_call);\r\n\t\tvar prerender = config.prerender || this.defaults.prerender;\r\n\t\tif (prerender === false || (prerender !== true && config.height !== \"auto\" && !config.autoheight))\r\n\t\t\twebix.extend(this, webix.VirtualRenderStack, true);\r\n\t\tif (config.autoheight)\r\n\t\t\tconfig.scroll = false;\r\n\r\n\t\tthis._contentobj.className+=\" webix_dataview\";\r\n\r\n\t\tthis._viewobj.setAttribute(\"role\", \"listbox\");\r\n\t},\r\n\t_after_init_call:function(){\r\n\t\tvar test = webix.html.create(\"DIV\",0,this.type.template({}));\r\n\t\ttest.style.position=\"absolute\";\r\n\t\tdocument.body.appendChild(test);\r\n\t\tthis.type.width = test.offsetWidth;\r\n\t\tthis.type.height = test.offsetHeight;\r\n\t\t\r\n\t\twebix.html.remove(test);\r\n\t},\r\n\tdefaults:{\r\n\t\tscroll:true,\r\n\t\tdatafetch:50,\r\n\t\tnavigation:true\r\n\t},\r\n\t_id:\"webix_f_id\",\r\n\ton_click:{\r\n\t\twebix_dataview_item:function(e,id){ \r\n\t\t\tif (this._settings.select){\r\n\t\t\t\tif (this._settings.select==\"multiselect\" || this._settings.multiselect)\r\n\t\t\t\t\tthis.select(id, false, ((this._settings.multiselect == \"touch\") || e.ctrlKey || e.metaKey), e.shiftKey); \t//multiselection\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.select(id);\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t},\r\n\ton_dblclick:{\r\n\t},\r\n\ton_mouse_move:{\r\n\t},\r\n\ttype:{\r\n\t\t//normal state of item\r\n\t\ttemplate:webix.template(\"#value#\"),\r\n\t\t//in case of dyn. loading - temporary spacer\r\n\t\ttemplateLoading:webix.template(\"Loading...\"),\r\n\t\twidth:160,\r\n\t\theight:50,\r\n\t\tclassname:function(obj, common, marks){\r\n\t\t\tvar css = \"webix_dataview_item \";\r\n\r\n\t\t\tif (common.css) css +=common.css+\" \";\r\n\t\t\tif (obj.$css){\r\n\t\t\t\tif (typeof obj.$css == \"object\")\r\n\t\t\t\t\tobj.$css = webix.html.createCss(obj.$css);\r\n\t\t\t\tcss +=obj.$css+\" \";\r\n\t\t\t}\r\n\t\t\tif (marks && marks.$css) css +=marks.$css+\" \";\r\n\t\t\t\r\n\t\t\treturn css;\r\n\t\t},\r\n\t\taria:function(obj, common, marks){\r\n\t\t\treturn 'role=\"option\"'+(marks && marks.webix_selected?' aria-selected=\"true\" tabindex=\"0\"':' tabindex=\"-1\"');\r\n\t\t},\r\n\t\ttemplateStart:webix.template('<div webix_f_id=\"#id#\" class=\"{common.classname()}\" {common.aria()} style=\"width:{common.width}px; height:{common.height}px; float:left; overflow:hidden;\">'),\r\n\t\ttemplateEnd:webix.template(\"</div>\")\r\n\t\t\r\n\t},\r\n\t_calck_autoheight:function(width){\r\n\t\treturn (this._settings.height = this.type.height * Math.ceil( this.data.count() / Math.floor(width / this.type.width)));\r\n\t},\r\n\tautoheight_setter:function(mode){\r\n\t\tif (mode){\r\n\t\t\tthis.data.attachEvent(\"onStoreLoad\", webix.bind(this.resize, this));\r\n\t\t\tthis._contentobj.style.overflowY = \"hidden\";\r\n\t\t}\r\n\t\treturn mode;\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tif ((this._settings.xCount >0) && this.type.width != \"auto\" && !this._autowidth)\r\n\t\t\tthis._settings.width = this.type.width*this._settings.xCount + (this._scroll_y?webix.ui.scrollSize:0);\r\n\t\tif (this._settings.yCount && this.type.height != \"auto\")\r\n\t\t\tthis._settings.height = this.type.height*this._settings.yCount;\r\n\r\n\t\tvar width = this._settings.width || this._content_width;\r\n\t\tif (this._settings.autoheight && width){\r\n\t\t\tthis._calck_autoheight(width);\r\n\t\t\tthis.scroll_setter(false);\t\r\n\t\t}\r\n\t\treturn webix.ui.view.prototype.$getSize.call(this, dx, dy);\t\t\r\n\t},\r\n\t_recalk_counts:function(){\r\n\t\tvar render = false;\r\n\t\tif (this._settings.yCount && this.type.height == \"auto\"){\r\n\t\t\tthis.type.height = Math.floor(this._content_height/this._settings.yCount);\r\n\t\t\trender = true;\r\n\t\t}\r\n\t\tif (this._settings.xCount && (this.type.width == \"auto\"||this._autowidth)){\r\n\t\t\tthis._autowidth = true; //flag marks that width was set to \"auto\" initially\r\n\t\t\tthis.type.width = Math.floor(this._content_width/this._settings.xCount);\r\n\t\t\trender = true;\r\n\t\t} else \r\n\t\t\tthis._autowidth = false;\r\n\r\n\t\treturn render;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tif (webix.ui.view.prototype.$setSize.call(this, x, y)){\r\n\t\t\tif (this._settings.autoheight && this._calck_autoheight() != this._content_height)\r\n\t\t\t\treturn webix.delay(this.resize, this);\r\n\r\n\t\t\tif (this._recalk_counts() || this._render_visible_rows)\r\n\t\t\t\tthis.render();\r\n\t\t}\r\n\t}\r\n}, webix.DataMove, webix.DragItem, webix.MouseEvents, webix.KeysNavigation, webix.SelectionModel, webix.Scrollable, webix.ui.proto);\r\n\r\n\r\n\r\n\r\nwebix.DataDriver.htmltable={\r\n\r\n\t//convert json string to json object if necessary\r\n\ttoObject:function(data){\r\n\t\tdata = webix.toNode(data);\r\n\t\twebix.assert(data, \"table is not found\");\r\n\t\twebix.assert(data.tagName.toLowerCase() === 'table', \"Incorrect table object\");\r\n\r\n\t\tvar tr = data.rows;\r\n\t\twebix.html.remove(data);\r\n\t\treturn tr;\r\n\t},\r\n\t//get array of records\r\n\tgetRecords:function(data){\r\n\t\tvar new_data = [];\r\n\t\t//skip header rows if necessary\r\n\t\tvar i = (data[0] && data[0]._webix_skip)?1:0;\r\n\r\n\t\tfor (; i < data.length; i++)\r\n\t\t\tnew_data.push(data[i]);\r\n\t\treturn new_data;\r\n\t},\r\n\t//get hash of properties for single record\r\n\tgetDetails:function(data){\r\n\t\tvar td = data.getElementsByTagName('td');\r\n\t\tdata = {};\r\n\t\t//get hash of properties for single record, data named as \"data{index}\"\r\n\t\tfor (var i=0; i < td.length; i++) {\r\n\t\t\tdata['data' + i] = td[i].innerHTML;\r\n\t\t}\r\n\t\treturn data;\r\n\t},\r\n\t//get count of data and position at which new data need to be inserted\r\n\tgetInfo:function(data){\r\n\t\t// dyn loading is not supported for htmltable\r\n\t\treturn { \r\n\t\t\tsize:0,\r\n\t\t\tfrom:0\r\n\t\t};\r\n\t},\r\n\tgetOptions:function(){},\r\n\r\n\t/*! gets header from first table row\r\n\t **/\r\n\tgetConfig: function(data) {\r\n\t\tvar columns = [];\r\n\t\tvar td = data[0].getElementsByTagName('th');\r\n\t\tif (td.length) data[0]._webix_skip = true;\r\n\t\tfor (var i = 0; i < td.length; i++) {\r\n\t\t\tvar col = {\r\n\t\t\t\tid: 'data' + i,\r\n\t\t\t\theader: this._de_json(td[i].innerHTML)\r\n\t\t\t};\r\n\t\t\tvar attrs = this._get_attrs(td[i]);\r\n\t\t\tcol = webix.extend(col, attrs);\r\n\t\t\tcolumns.push(col);\r\n\t\t}\r\n\t\treturn columns;\r\n\t},\r\n\r\n\t_de_json:function(str){\r\n\t\tvar pos = str.indexOf(\"json://\");\r\n\t\t\r\n\t\tif (pos != -1)\r\n\t\t\tstr = JSON.parse(str.substr(pos+7));\r\n\t\treturn str;\r\n\t},\r\n\t\r\n\t/*! gets hash of html-element attributes\r\n\t **/\r\n\t_get_attrs: function(el) {\r\n\t\tvar attr = el.attributes;\r\n\t\tvar hash = {};\r\n\t\tfor (var i = 0; i < attr.length; i++) {\r\n\t\t\thash[attr[i].nodeName] = this._de_json(attr[i].nodeValue);\r\n\t\t}\r\n\t\thash.width = parseInt(hash.width, 10);\r\n\t\treturn hash;\r\n\t}\r\n};\r\nwebix.protoUI({\r\n\tname:\"vscroll\",\r\n\tdefaults:{\r\n\t\tscroll:\"x\",\r\n\t\tscrollStep:40,\r\n\t\tscrollPos:0,\r\n\t\tscrollSize:18,\r\n\t\tscrollVisible:1,\r\n\t\tzoom:1\r\n\t},\r\n\t$init:function(config){\r\n\t\tvar dir = config.scroll||\"x\";\r\n\t\tvar node = this._viewobj = webix.toNode(config.container);\r\n\t\tnode.className += \" webix_vscroll_\"+dir;\r\n\t\tnode.innerHTML=\"<div class='webix_vscroll_body'></div>\";\r\n\t\twebix.event(node,\"scroll\", this._onscroll,{bind:this});\r\n\r\n\t\tthis._last_set_size = 0;\r\n\t\tthis._last_scroll_pos = 0;\r\n\t},\r\n\t_check_quantum:function(value){\r\n\t\tif (value>1500000){\r\n\t\t\tthis._settings.zoom = Math.floor(value/1500000)+1;\r\n\t\t\tthis._zoom_limit = value-this._last_set_size;\r\n\t\t\tvalue = Math.floor(value/this._settings.zoom)+this._last_set_size;\r\n\t\t} else {\r\n\t\t\tthis._settings.zoom = 1;\r\n\t\t\tthis._zoom_limit = Infinity;\r\n\t\t}\r\n\t\treturn value;\r\n\t},\t\r\n\tscrollWidth_setter:function(value){\r\n\t\tvalue = this._check_quantum(value);\r\n\t\tthis._viewobj.firstChild.style.width = value+\"px\";\r\n\t\treturn value;\t\t\r\n\t},\r\n\tscrollHeight_setter:function(value){\r\n\t\tvalue = this._check_quantum(value);\r\n\t\tthis._viewobj.firstChild.style.height = value+\"px\";\r\n\t\treturn value;\r\n\t},\r\n\tsizeTo:function(value, top, bottom){\r\n\t\tvalue = value-(top||0)-(bottom||0);\r\n\r\n\t\tvar width = this._settings.scrollSize;\r\n\t\t//IEFix\r\n\t\t//IE doesn't react on scroll-click if it has not at least 1 px of visible content\r\n\t\tif (webix.env.isIE && width)\r\n\t\t\twidth += 1;\r\n\t\tif (!width && this._settings.scrollVisible && !webix.env.$customScroll){\r\n\t\t\tthis._viewobj.style.pointerEvents=\"none\";\r\n\t\t\twidth = 14;\r\n\t\t}\r\n\r\n\t\tif (!width){\r\n\t\t\tthis._viewobj.style.display = 'none';\r\n\t\t} else {\r\n\t\t\tthis._viewobj.style.display = 'block';\r\n\t\t\tif (top)\r\n\t\t\t\tthis._viewobj.style.marginTop = top+ \"px\";\r\n\t\t\tthis._viewobj.style[this._settings.scroll == \"x\"?\"width\":\"height\"] =  Math.max(0,value)+\"px\";\r\n\t\t\tthis._viewobj.style[this._settings.scroll == \"x\"?\"height\":\"width\"] = width+\"px\";\r\n\t\t}\r\n\r\n\t\tthis._last_set_size = value;\r\n\t},\r\n\tgetScroll:function(){\r\n\t\treturn this._settings.scrollPos*this._settings.zoom;\r\n\t},\r\n\tgetSize:function(){\r\n\t\treturn (this._settings.scrollWidth||this._settings.scrollHeight)*this._settings.zoom;\r\n\t},\r\n\tscrollTo:function(value){\r\n\t\tif (value<0)\r\n\t\t\tvalue = 0;\r\n\t\tvar config = this._settings;\r\n\r\n\t\tvalue = Math.min(((config.scrollWidth||config.scrollHeight)-this._last_set_size)*config.zoom, value);\r\n\r\n\t\tif (value < 0) value = 0;\r\n\t\tvar svalue = value/config.zoom;\r\n\r\n\t\tif (this._last_scroll_pos != svalue){\r\n\t\t\tthis._viewobj[config.scroll == \"x\"?\"scrollLeft\":\"scrollTop\"] = svalue;\r\n\t\t\tthis._onscroll_inner(svalue);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t},\r\n\t_onscroll:function(){\t\r\n\t\tvar x = this._viewobj[this._settings.scroll == \"x\"?\"scrollLeft\":\"scrollTop\"];\r\n\t\tif (x != this._last_scroll_pos)\r\n\t\t\tthis._onscroll_inner(x);\r\n\t},\r\n\t_onscroll_inner:function(value){\r\n\t\tthis._last_scroll_pos = value;\r\n\t\tthis._settings.scrollPos = (Math.min(this._zoom_limit, value*this._settings.zoom) || 0);\r\n\r\n\t\tthis.callEvent(\"onScroll\",[this._settings.scrollPos]);\r\n\t},\r\n\tactiveArea:function(area, x_mode){\r\n\t\tthis._x_scroll_mode = x_mode;\r\n\t\twebix.event(area,(webix.env.isIE8 ? \"mousewheel\" : \"wheel\"),this._on_wheel,{bind:this});\r\n\t\tthis._add_touch_events(area);\r\n\t},\r\n\r\n\t_add_touch_events: function(area){\r\n\t\tif(!webix.env.touch && window.navigator.pointerEnabled){\r\n\t\t\twebix.html.addCss(area,\"webix_scroll_touch_ie\",true);\r\n\t\t\twebix.event(area, \"pointerdown\", function(e){\r\n\t\t\t\tif(e.pointerType == \"touch\" || e.pointerType == \"pen\"){\r\n\t\t\t\t\tthis._start_context = webix.Touch._get_context_m(e);\r\n\t\t\t\t\tthis._start_scroll_pos = this._settings.scrollPos;\r\n\t\t\t\t}\r\n\t\t\t},{bind:this});\r\n\r\n\t\t\twebix.event(document.body, \"pointermove\", function(e){\r\n\t\t\t\tvar scroll;\r\n\t\t\t\tif(this._start_context){\r\n\t\t\t\t\tthis._current_context = webix.Touch._get_context_m(e);\r\n\t\t\t\t\tif(this._settings.scroll == \"x\" ){\r\n\t\t\t\t\t\tscroll = this._current_context.x - this._start_context.x;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(this._settings.scroll == \"y\"){\r\n\t\t\t\t\t\tscroll = this._current_context.y - this._start_context.y;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(scroll && Math.abs(scroll) > 5){\r\n\t\t\t\t\t\tthis.scrollTo(this._start_scroll_pos - scroll);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},{bind:this});\r\n\t\t\twebix.event(window, \"pointerup\", function(e){\r\n\t\t\t\tif(this._start_context){\r\n\t\t\t\t\tthis._start_context = this._current_context = null;\r\n\t\t\t\t}\r\n\t\t\t},{bind:this});\r\n\t\t}\r\n\r\n\t},\r\n\t_on_wheel:function(e){\r\n\t\tvar dir = 0;\r\n\t\tvar step = e.deltaMode === 0 ? 30 : 1;\r\n\r\n\t\tif (webix.env.isIE8)\r\n\t\t\tdir = e.detail = -e.wheelDelta / 30;\r\n\r\n\t\tif (e.deltaX && Math.abs(e.deltaX) > Math.abs(e.deltaY)){\r\n\t\t\t//x-scroll\r\n\t\t\tif (this._x_scroll_mode && this._settings.scrollVisible)\r\n\t\t\t\tdir = e.deltaX / step;\r\n\t\t} else {\r\n\t\t\t//y-scroll\r\n\t\t\tif (!this._x_scroll_mode && this._settings.scrollVisible){\r\n\t\t\t\tif (webix.isUndefined(e.deltaY))\r\n\t\t\t\t\tdir = e.detail;\r\n\t\t\t\telse\r\n\t\t\t\t\tdir = e.deltaY / step;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Safari requires target preserving\r\n\t\t// (used in _check_rendered_cols of DataTable)\r\n\t\tif(webix.env.isSafari)\r\n\t\t\tthis._scroll_trg = e.target|| e.srcElement;\r\n\r\n\t\tif (dir)\r\n\t\t\tif (this.scrollTo(this._settings.scrollPos + dir*this._settings.scrollStep))\r\n\t\t\t\treturn webix.html.preventEvent(e);\r\n\r\n\t}\r\n}, webix.EventSystem, webix.Settings);\r\n\r\n\r\nwebix.Number={\r\n\tformat: function(value, config){ \r\n\t\tif (value === \"\" || typeof value === \"undefined\") return value;\r\n\t\t\r\n\t\tconfig = config||webix.i18n;\r\n\t\tvalue = parseFloat(value);\r\n\r\n\t\tvar sign = value < 0 ? \"-\":\"\";\r\n\t\tvalue = Math.abs(value);\r\n\r\n\t\tvar str = value.toFixed(config.decimalSize).toString();\r\n\t\tstr = str.split(\".\");\r\n\r\n\t\tvar int_value = \"\";\r\n\t\tif (config.groupSize){\r\n\t\t\tvar step = config.groupSize;\r\n\t\t\tvar i=str[0].length;\r\n\t\t\tdo {\r\n\t\t\t\ti-=step;\r\n\t\t\t\tvar chunk = (i>0)?str[0].substr(i,step):str[0].substr(0,step+i);\r\n\t\t\t\tint_value = chunk+(int_value?config.groupDelimiter+int_value:\"\");\r\n\t\t\t} while(i>0);\r\n\t\t} else\r\n\t\t\tint_value = str[0];\r\n\r\n\t\tif (config.decimalSize)\r\n\t\t\treturn sign + int_value + config.decimalDelimiter + str[1];\r\n\t\telse\r\n\t\t\treturn sign + int_value;\r\n\t},\r\n\tnumToStr:function(config){\r\n\t\treturn function(value){\r\n\t\t\treturn webix.Number.format(value, config);\r\n\t\t};\r\n\t}\r\n};\r\n\r\nwebix.Date={\r\n\tstartOnMonday:false,\r\n\r\n\ttoFixed:function(num){\r\n\t\tif (num<10)\treturn \"0\"+num;\r\n\t\treturn num;\r\n\t},\r\n\tweekStart:function(date){\r\n\t\tdate = this.copy(date);\r\n\r\n\t\tvar shift=date.getDay();\r\n\t\tif (this.startOnMonday){\r\n\t\t\tif (shift===0) shift=6;\r\n\t\t\telse shift--;\r\n\t\t}\r\n\t\treturn this.datePart(this.add(date,-1*shift,\"day\"));\r\n\t},\r\n\tmonthStart:function(date){\r\n\t\tdate = this.copy(date);\r\n\r\n\t\tdate.setDate(1);\r\n\t\treturn this.datePart(date);\r\n\t},\r\n\tyearStart:function(date){\r\n\t\tdate = this.copy(date);\r\n\r\n\t\tdate.setMonth(0);\r\n\t\treturn this.monthStart(date);\r\n\t},\r\n\tdayStart:function(date){\r\n\t\treturn this.datePart(date, true);\r\n\t},\r\n\tdateToStr:function(format,utc){\r\n\t\tif (typeof format == \"function\") return format;\r\n\r\n\t\tif(webix.env.strict){\r\n\t\t\treturn function(date){\r\n\t\t\t\tvar str = \"\";\r\n\t\t\t\tvar lastPos = 0;\r\n\t\t\t\tformat.replace(/%[a-zA-Z]/g,function(s,pos){\r\n\t\t\t\t\tstr += format.slice(lastPos,pos);\r\n\t\t\t\t\tvar fn = function(date){\r\n\t\t\t\t\t\tif( s == \"%d\")  return webix.Date.toFixed(date.getDate());\r\n\t\t\t\t\t\tif( s == \"%m\")  return webix.Date.toFixed((date.getMonth()+1));\r\n\t\t\t\t\t\tif( s == \"%j\")  return date.getDate();\r\n\t\t\t\t\t\tif( s == \"%n\")  return (date.getMonth()+1);\r\n\t\t\t\t\t\tif( s == \"%y\")  return webix.Date.toFixed(date.getFullYear()%100);\r\n\t\t\t\t\t\tif( s == \"%Y\")  return date.getFullYear();\r\n\t\t\t\t\t\tif( s == \"%D\")  return webix.i18n.calendar.dayShort[date.getDay()];\r\n\t\t\t\t\t\tif( s == \"%l\")  return webix.i18n.calendar.dayFull[date.getDay()];\r\n\t\t\t\t\t\tif( s == \"%M\")  return webix.i18n.calendar.monthShort[date.getMonth()];\r\n\t\t\t\t\t\tif( s == \"%F\")  return webix.i18n.calendar.monthFull[date.getMonth()];\r\n\t\t\t\t\t\tif( s == \"%h\")  return webix.Date.toFixed((date.getHours()+11)%12+1);\r\n\t\t\t\t\t\tif( s == \"%g\")  return ((date.getHours()+11)%12+1);\r\n\t\t\t\t\t\tif( s == \"%G\")  return date.getHours();\r\n\t\t\t\t\t\tif( s == \"%H\")  return webix.Date.toFixed(date.getHours());\r\n\t\t\t\t\t\tif( s == \"%i\")  return webix.Date.toFixed(date.getMinutes());\r\n\t\t\t\t\t\tif( s == \"%a\")  return (date.getHours()>11?webix.i18n.pm[0]:webix.i18n.am[0]);\r\n\t\t\t\t\t\tif( s == \"%A\")  return (date.getHours()>11?webix.i18n.pm[1]:webix.i18n.am[1]);\r\n\t\t\t\t\t\tif( s == \"%s\")  return webix.Date.toFixed(date.getSeconds());\r\n\t\t\t\t\t\tif( s == \"%W\")  return webix.Date.toFixed(webix.Date.getISOWeek(date));\r\n\t\t\t\t\t\tif( s == \"%c\"){\r\n\t\t\t\t\t\t\tvar str = date.getFullYear();\r\n\t\t\t\t\t\t\tstr += \"-\"+webix.Date.toFixed((date.getMonth()+1));\r\n\t\t\t\t\t\t\tstr += \"-\"+webix.Date.toFixed(date.getDate());\r\n\t\t\t\t\t\t\tstr += \"T\";\r\n\t\t\t\t\t\t\tstr += webix.Date.toFixed(date.getHours());\r\n\t\t\t\t\t\t\tstr += \":\"+webix.Date.toFixed(date.getMinutes());\r\n\t\t\t\t\t\t\tstr += \":\"+webix.Date.toFixed(date.getSeconds());\r\n\t\t\t\t\t\t\treturn str;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn s;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tstr += fn(date);\r\n\t\t\t\t\tlastPos = pos + 2;\r\n\t\t\t\t});\r\n\t\t\t\tstr += format.slice(lastPos,format.length);\r\n\t\t\t\treturn str;\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tformat=format.replace(/%[a-zA-Z]/g,function(a){\r\n\t\t\tswitch(a){\r\n\t\t\t\tcase \"%d\": return \"\\\"+webix.Date.toFixed(date.getDate())+\\\"\";\r\n\t\t\t\tcase \"%m\": return \"\\\"+webix.Date.toFixed((date.getMonth()+1))+\\\"\";\r\n\t\t\t\tcase \"%j\": return \"\\\"+date.getDate()+\\\"\";\r\n\t\t\t\tcase \"%n\": return \"\\\"+(date.getMonth()+1)+\\\"\";\r\n\t\t\t\tcase \"%y\": return \"\\\"+webix.Date.toFixed(date.getFullYear()%100)+\\\"\"; \r\n\t\t\t\tcase \"%Y\": return \"\\\"+date.getFullYear()+\\\"\";\r\n\t\t\t\tcase \"%D\": return \"\\\"+webix.i18n.calendar.dayShort[date.getDay()]+\\\"\";\r\n\t\t\t\tcase \"%l\": return \"\\\"+webix.i18n.calendar.dayFull[date.getDay()]+\\\"\";\r\n\t\t\t\tcase \"%M\": return \"\\\"+webix.i18n.calendar.monthShort[date.getMonth()]+\\\"\";\r\n\t\t\t\tcase \"%F\": return \"\\\"+webix.i18n.calendar.monthFull[date.getMonth()]+\\\"\";\r\n\t\t\t\tcase \"%h\": return \"\\\"+webix.Date.toFixed((date.getHours()+11)%12+1)+\\\"\";\r\n\t\t\t\tcase \"%g\": return \"\\\"+((date.getHours()+11)%12+1)+\\\"\";\r\n\t\t\t\tcase \"%G\": return \"\\\"+date.getHours()+\\\"\";\r\n\t\t\t\tcase \"%H\": return \"\\\"+webix.Date.toFixed(date.getHours())+\\\"\";\r\n\t\t\t\tcase \"%i\": return \"\\\"+webix.Date.toFixed(date.getMinutes())+\\\"\";\r\n\t\t\t\tcase \"%a\": return \"\\\"+(date.getHours()>11?webix.i18n.pm[0]:webix.i18n.am[0])+\\\"\";\r\n\t\t\t\tcase \"%A\": return \"\\\"+(date.getHours()>11?webix.i18n.pm[1]:webix.i18n.am[1])+\\\"\";\r\n\t\t\t\tcase \"%s\": return \"\\\"+webix.Date.toFixed(date.getSeconds())+\\\"\";\r\n\t\t\t\tcase \"%W\": return \"\\\"+webix.Date.toFixed(webix.Date.getISOWeek(date))+\\\"\";\r\n\t\t\t\tcase \"%c\":\r\n\t\t\t\t\tvar str = \"\\\"+date.getFullYear()+\\\"\";\r\n\t\t\t\t\tstr += \"-\\\"+webix.Date.toFixed((date.getMonth()+1))+\\\"\";\r\n\t\t\t\t\tstr += \"-\\\"+webix.Date.toFixed(date.getDate())+\\\"\";\r\n\t\t\t\t\tstr += \"T\";\r\n\t\t\t\t\tstr += \"\\\"+webix.Date.toFixed(date.getHours())+\\\"\";\r\n\t\t\t\t\tstr += \":\\\"+webix.Date.toFixed(date.getMinutes())+\\\"\";\r\n\t\t\t\t\tstr += \":\\\"+webix.Date.toFixed(date.getSeconds())+\\\"\";\r\n\t\t\t\t\tif(utc === true)\r\n\t\t\t\t\t\tstr += \"Z\";\r\n\t\t\t\t\treturn str;\r\n\r\n\t\t\t\tdefault: return a;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (utc===true) format=format.replace(/date\\.get/g,\"date.getUTC\");\r\n\t\treturn new Function(\"date\",\"if (!date) return ''; if (!date.getMonth) date=webix.i18n.parseFormatDate(date);  return \\\"\"+format+\"\\\";\");\r\n\t},\r\n\tstrToDate:function(format,utc){\r\n\t\tif (typeof format == \"function\") return format;\r\n\r\n\t\tvar mask=format.match(/%[a-zA-Z]/g);\r\n\t\tvar splt=\"var temp=date.split(/[^0-9a-zA-Z]+/g);\";\r\n\t\tvar i,t,s;\r\n\r\n\t\tif(!webix.i18n.calendar.monthShort_hash){\r\n\t\t\ts = webix.i18n.calendar.monthShort;\r\n\t\t\tt = webix.i18n.calendar.monthShort_hash = {};\r\n\t\t\tfor (i = 0; i < s.length; i++)\r\n\t\t\t\tt[s[i]]=i;\r\n\r\n\t\t\ts = webix.i18n.calendar.monthFull;\r\n\t\t\tt = webix.i18n.calendar.monthFull_hash = {};\r\n\t\t\tfor (i = 0; i < s.length; i++)\r\n\t\t\t\tt[s[i]]=i;\r\n\t\t}\r\n\r\n\t\tif(webix.env.strict){\r\n\t\t\treturn function(date){\r\n\t\t\t\tif (!date) return '';\r\n\t\t\t\tif (typeof date == 'object') return date;\r\n\t\t\t\tvar temp=date.split(/[^0-9a-zA-Z]+/g);\r\n\t\t\t\tvar set=[0,0,1,0,0,0];\r\n\t\t\t\tfor (i=0; i<mask.length; i++){\r\n\t\t\t\t\tvar a = mask[i];\r\n\t\t\t\t\tif( a ==  \"%y\")\r\n\t\t\t\t\t\tset[0]=temp[i]*1+(temp[i]>30?1900:2000);\r\n\t\t\t\t\telse if( a ==  \"%Y\"){\r\n\t\t\t\t\t\tset[0]=(temp[i]||0)*1; if (set[0]<30) set[0]+=2000;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if( a == \"%n\" || a == \"%m\")\r\n\t\t\t\t\t\tset[1]=(temp[i]||1)-1;\r\n\t\t\t\t\telse if( a ==  \"%M\")\r\n\t\t\t\t\t\tset[1]=webix.i18n.calendar.monthShort_hash[temp[i]]||0;\r\n\t\t\t\t\telse if( a ==  \"%F\")\r\n\t\t\t\t\t\tset[1]=webix.i18n.calendar.monthFull_hash[temp[i]]||0;\r\n\t\t\t\t\telse if( a == \"%j\" || a == \"%d\")\r\n\t\t\t\t\t\tset[2]=temp[i]||1;\r\n\t\t\t\t\telse if( a == \"%g\" || a == \"%G\" || a == \"%h\" || a == \"%H\")\r\n\t\t\t\t\t\tset[3]=temp[i]||0;\r\n\t\t\t\t\telse if( a == \"%a\")\r\n\t\t\t\t\t\t\tset[3]=set[3]%12+((temp[i]||'')==webix.i18n.am[0]?0:12);\r\n\t\t\t\t\telse if( a == \"%A\")\r\n\t\t\t\t\t\tset[3]=set[3]%12+((temp[i]||'')==webix.i18n.am[1]?0:12);\r\n\t\t\t\t\telse if( a ==  \"%i\")\r\n\t\t\t\t\t\tset[4]=temp[i]||0;\r\n\t\t\t\t\telse if( a ==  \"%s\")\r\n\t\t\t\t\t\tset[5]=temp[i]||0;\r\n\t\t\t\t\telse if( a ==  \"%c\"){\r\n\t\t\t\t\t\tvar reg = /(\\d+)-(\\d+)-(\\d+)T(\\d+):(\\d+):(\\d+)/g;\r\n\t\t\t\t\t\tvar res = reg.exec(date);\r\n\t\t\t\t\t\tset[0]= (res[1]||0)*1; if (set[0]<30) set[0]+=2000;\r\n\t\t\t\t\t\tset[1]= (res[2]||1)-1;\r\n\t\t\t\t\t\tset[2]= res[3]||1;\r\n\t\t\t\t\t\tset[3]= res[4]||0;\r\n\t\t\t\t\t\tset[4]= res[5]||0;\r\n\t\t\t\t\t\tset[5]= res[6]||0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(utc)\r\n\t\t\t\t\treturn new Date(Date.UTC(set[0],set[1],set[2],set[3],set[4],set[5]));\r\n\t\t\t\treturn new Date(set[0],set[1],set[2],set[3],set[4],set[5]);\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tfor (i=0; i<mask.length; i++){\r\n\t\t\tswitch(mask[i]){\r\n\t\t\t\tcase \"%j\":\r\n\t\t\t\tcase \"%d\": splt+=\"set[2]=temp[\"+i+\"]||1;\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%n\":\r\n\t\t\t\tcase \"%m\": splt+=\"set[1]=(temp[\"+i+\"]||1)-1;\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%y\": splt+=\"set[0]=temp[\"+i+\"]*1+(temp[\"+i+\"]>30?1900:2000);\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%g\":\r\n\t\t\t\tcase \"%G\":\r\n\t\t\t\tcase \"%h\": \r\n\t\t\t\tcase \"%H\":\r\n\t\t\t\t\t\t\tsplt+=\"set[3]=temp[\"+i+\"]||0;\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%i\":\r\n\t\t\t\t\t\t\tsplt+=\"set[4]=temp[\"+i+\"]||0;\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%Y\":  splt+=\"set[0]=(temp[\"+i+\"]||0)*1; if (set[0]<30) set[0]+=2000;\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%a\":\r\n\t\t\t\t\tsplt+= \"set[3]=set[3]%12+(temp[\"+i+\"]==webix.i18n.am[0]?0:12);\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%A\":\r\n\t\t\t\t\tsplt+= \"set[3]=set[3]%12+(temp[\"+i+\"]==webix.i18n.am[1]?0:12);\";\r\n\t\t\t\t\tbreak;\t\t\t\t\t\r\n\t\t\t\tcase \"%s\":  splt+=\"set[5]=temp[\"+i+\"]||0;\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%M\":  splt+=\"set[1]=webix.i18n.calendar.monthShort_hash[temp[\"+i+\"]]||0;\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%F\":  splt+=\"set[1]=webix.i18n.calendar.monthFull_hash[temp[\"+i+\"]]||0;\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%c\":\r\n\t\t\t\t\tsplt+= \"var res = date.split('T');\";\r\n\t\t\t\t\tsplt+= \"if(res[0]){ var d = res[0].split('-');\";\r\n\t\t\t\t\tsplt+= \"set[0]= (d[0]||0)*1; if (set[0]<30) set[0]+=2000;\";\r\n\t\t\t\t\tsplt+= \"set[1]= (d[1]||1)-1;\";\r\n\t\t\t\t\tsplt+= \"set[2]= d[2]||1;}\";\r\n\t\t\t\t\tsplt+= \"if(res[1]){ var t = res[1].split(':');\";\r\n\t\t\t\t\tsplt+= \"set[3]= t[0]||0;\";\r\n\t\t\t\t\tsplt+= \"set[4]= t[1]||0;\";\r\n\t\t\t\t\tsplt+= \"set[5]= t[2]||0;}\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar code =\"set[0],set[1],set[2],set[3],set[4],set[5]\";\r\n\t\tif (utc) code =\" Date.UTC(\"+code+\")\";\r\n\t\treturn new Function(\"date\",\"if (!date) return ''; if (typeof date == 'object') return date; var set=[0,0,1,0,0,0]; \"+splt+\" return new Date(\"+code+\");\");\r\n\t},\r\n\t\t\r\n\tgetISOWeek: function(ndate) {\r\n\t\tif(!ndate) return false;\r\n\t\tvar nday = ndate.getDay();\r\n\t\tif (nday === 0) {\r\n\t\t\tnday = 7;\r\n\t\t}\r\n\t\tvar first_thursday = new Date(ndate.valueOf());\r\n\t\tfirst_thursday.setDate(ndate.getDate() + (4 - nday));\r\n\t\tvar year_number = first_thursday.getFullYear(); // year of the first Thursday\r\n\t\tvar ordinal_date = Math.floor( (first_thursday.getTime() - new Date(year_number, 0, 1).getTime()) / 86400000); //ordinal date of the first Thursday - 1 (so not really ordinal date)\r\n\t\tvar weekNumber = 1 + Math.floor( ordinal_date / 7);\t\r\n\t\treturn weekNumber;\r\n\t},\r\n\t\r\n\tgetUTCISOWeek: function(ndate){\r\n\t\treturn this.getISOWeek(ndate);\r\n\t},\r\n\t_correctDate: function(d,d0,inc,checkFunc){\r\n\t\tif(!inc)\r\n\t\t\treturn;\r\n\t\tvar incorrect = checkFunc(d,d0);\r\n\t\tif(incorrect){\r\n\t\t\tvar i = (inc>0?1:-1);\r\n\r\n\t\t\twhile(incorrect){\r\n\t\t\t\td.setHours(d.getHours()+i);\r\n\t\t\t\tincorrect = checkFunc(d,d0);\r\n\t\t\t\ti += (inc>0?1:-1);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tadd:function(date,inc,mode,copy){\r\n\t\tif (copy) date = this.copy(date);\r\n\t\tvar d = webix.Date.copy(date);\r\n\t\tswitch(mode){\r\n\t\t\tcase \"day\":\r\n\t\t\t\tdate.setDate(date.getDate()+inc);\r\n\t\t\t\tthis._correctDate(date,d,inc,function(d,d0){\r\n\t\t\t\t\treturn \twebix.Date.datePart(d0,true).valueOf()== webix.Date.datePart(d,true).valueOf();\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"week\":\r\n\t\t\t\tdate.setDate(date.getDate()+7*inc);\r\n\t\t\t\tthis._correctDate(date,d,7*inc,function(d,d0){\r\n\t\t\t\t\treturn \twebix.Date.datePart(d0,true).valueOf()== webix.Date.datePart(d,true).valueOf();\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"month\":\r\n\t\t\t\tdate.setMonth(date.getMonth()+inc);\r\n\t\t\t\tthis._correctDate(date,d,inc,function(d,d0){\r\n\t\t\t\t\treturn \td0.getMonth() == d.getMonth() && d0.getYear() == d.getYear();\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"year\":\r\n\t\t\t\tdate.setYear(date.getFullYear()+inc);\r\n\t\t\t\tthis._correctDate(date,d,inc,function(d,d0){\r\n\t\t\t\t\treturn \td0.getFullYear() == d.getFullYear();\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"hour\":\r\n\t\t\t\tdate.setHours(date.getHours()+inc);\r\n\t\t\t\tthis._correctDate(date,d,inc,function(d,d0){\r\n\t\t\t\t\treturn \td0.getHours() == d.getHours() && webix.Date.datePart(d0,true)== webix.Date.datePart(d,true);\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"minute\": \tdate.setMinutes(date.getMinutes()+inc); break;\r\n\t\t\tdefault:\r\n\t\t\t\twebix.Date.add[mode](date, inc, mode);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn date;\r\n\t},\r\n\tdatePart:function(date, copy){\r\n\t\tif (copy) date = this.copy(date);\r\n\r\n\t\t// workaround for non-existent hours\r\n\t\tvar d = this.copy(date);\r\n\t\td.setHours(0);\r\n\t\tif(d.getDate()!=date.getDate()){\r\n\t\t\tdate.setHours(1);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tdate.setHours(0);\r\n\t\t}\r\n\r\n\t\tdate.setMinutes(0);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\t\treturn date;\r\n\t},\r\n\ttimePart:function(date, copy){\r\n\t\tif (copy) date = this.copy(date);\r\n\t\treturn (date.valueOf()/1000 - date.getTimezoneOffset()*60)%86400;\r\n\t},\r\n\tcopy:function(date){\r\n\t\treturn new Date(date.valueOf());\r\n\t},\r\n\tequal:function(a,b){\r\n\t\tif (!a || !b) return false;\r\n\t\treturn a.valueOf() === b.valueOf();\r\n\t},\r\n\tisHoliday:function(day){ \r\n\t\tday = day.getDay();\r\n\t\tif (day === 0 || day==6) return \"webix_cal_event\"; \r\n\t}\r\n};\r\n\r\n\r\nwebix.i18n = {\r\n\t_dateMethods:[\"fullDateFormat\", \"timeFormat\", \"dateFormat\", \"longDateFormat\", \"parseFormat\", \"parseTimeFormat\"],\r\n\tparseFormat:\"%Y-%m-%d %H:%i\",\r\n\tparseTimeFormat:\"%H:%i\",\r\n\tnumberFormat:webix.Number.format,\r\n\tpriceFormat:function(value){ return webix.i18n._price_format(webix.i18n.numberFormat(value, webix.i18n._price_settings)); },\r\n\r\n\tsetLocale:function(locale){\r\n\t\tvar extend = function(base,source){\r\n\t\t\tfor (var method in source){\r\n\t\t\t\tif(typeof(source[method]) == \"object\" && !webix.isArray(source[method])){\r\n\t\t\t\t\tif(!base[method]){\r\n\t\t\t\t\t\tbase[method] = {};\r\n\t\t\t\t\t}\r\n\t\t\t\t\textend(base[method],source[method]);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\tbase[method] = source[method];\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tif (typeof locale == \"string\")\r\n\t\t\tlocale = this.locales[locale];\r\n\t\tif (locale){\r\n\t\t\textend(this, locale);\r\n\t\t}\r\n\t\tvar helpers = webix.i18n._dateMethods;\r\n\t\tfor( var i=0; i<helpers.length; i++){\r\n\t\t\tvar key = helpers[i];\r\n\t\t\tvar utc = webix.i18n[key+\"UTC\"];\r\n\t\t\twebix.i18n[key+\"Str\"] = webix.Date.dateToStr(webix.i18n[key], utc);\r\n\t\t\twebix.i18n[key+\"Date\"] = webix.Date.strToDate(webix.i18n[key], utc);\r\n\t\t}\r\n\r\n\t\tthis._price_format = webix.template(this.price);\r\n\t\tthis._price_settings = this.priceSettings || this;\r\n\r\n\t\tthis.intFormat = webix.Number.numToStr({ groupSize:this.groupSize, groupDelimiter:this.groupDelimiter, decimalSize : 0});\r\n\t}\r\n};\r\n\r\n\r\nwebix.i18n.locales={};\r\nwebix.i18n.locales[\"en-US\"]={\r\n\tgroupDelimiter:\",\",\r\n\tgroupSize:3,\r\n\tdecimalDelimiter:\".\",\r\n\tdecimalSize:2,\r\n\r\n\tdateFormat:\"%m/%d/%Y\",\r\n\ttimeFormat:\"%h:%i %A\",\r\n\tlongDateFormat:\"%d %F %Y\",\r\n\tfullDateFormat:\"%m/%d/%Y %h:%i %A\",\r\n\tam:[\"am\",\"AM\"],\r\n\tpm:[\"pm\",\"PM\"],\r\n\r\n\tprice:\"${obj}\",\r\n\tpriceSettings:{\r\n        groupDelimiter:\",\",\r\n        groupSize:3,\r\n        decimalDelimiter:\".\",\r\n        decimalSize:2\r\n    },\r\n\tfileSize: [\"b\",\"Kb\",\"Mb\",\"Gb\",\"Tb\",\"Pb\",\"Eb\"],\r\n\t\r\n\tcalendar: {\r\n\t\tmonthFull:[\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\r\n\t\tmonthShort:[\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\r\n\t\tdayFull:[\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\r\n    \tdayShort:[\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\r\n\t\thours: \"Hours\",\r\n\t\tminutes: \"Minutes\",\r\n\t\tdone:\"Done\",\r\n\t\tclear: \"Clear\",\r\n\t\ttoday: \"Today\"\r\n    },\r\n\r\n    controls:{\r\n    \tselect:\"Select\",\r\n    \tinvalidMessage: \"Invalid input value\"\r\n    },\r\n    dataExport:{\r\n\t\tpage:\"Page\",\r\n\t\tof:\"of\"\r\n    },\r\n    PDFviewer:{\r\n\t\tof:\"of\",\r\n\t\tautomaticZoom:\"Automatic Zoom\",\r\n\t\tactualSize:\"Actual Size\",\r\n\t\tpageFit:\"Page Fit\",\r\n\t\tpageWidth:\"Page Width\",\r\n\t\tpageHeight:\"Page Height\"\r\n    },\r\n    aria:{\r\n\t\tincreaseValue:\"Increase value\",\r\n\t\tdecreaseValue:\"Decrease value\",\r\n\t\tnavMonth:[\"Previous month\", \"Next month\"],\r\n\t\tnavYear:[\"Previous year\", \"Next year\"],\r\n\t\tnavDecade:[\"Previous decade\", \"Next decade\"],\r\n\t\tremoveItem:\"Remove item\",\r\n\t\tpages:[\"First page\", \"Previous page\", \"Next page\", \"Last page\"],\r\n\t\tpage:\"Page\",\r\n\t\theadermenu:\"Header menu\",\r\n\t\topenGroup:\"Open column group\",\r\n\t\tcloseGroup:\"Close column group\",\r\n\t\tcloseTab:\"Close tab\",\r\n\t\tshowTabs:\"Show more tabs\",\r\n\t\tresetTreeMap:\"Reset tree map\",\r\n\t\tnavTreeMap:\"Level up\",\r\n\t\tnextTab:\"Next tab\",\r\n\t\tprevTab:\"Previous tab\",\r\n\t\tmultitextSection:\"Add section\",\r\n\t\tmultitextextraSection:\"Remove section\",\r\n\t\tshowChart:\"Show chart\",\r\n\t\thideChart:\"Hide chart\",\r\n\t\tresizeChart:\"Resize chart\"\r\n    }\r\n};\r\nwebix.i18n.setLocale(\"en-US\");\r\n\r\n\r\n\r\nwebix.Undo= {\r\n\t$init:function(){\r\n\t\tthis._undoHistory = webix.extend([],webix.PowerArray,true);\r\n\t\tthis._undoCursor = -1;\r\n\t},\r\n\tundo_setter: function(value){\r\n\t\tif(value){\r\n\t\t\tthis._init_undo();\r\n\t\t\tthis._init_undo = function(){};\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\t_init_undo: function(){\r\n\t\tvar view = this;\r\n\r\n\t\t// drag-n-drop\r\n\t\tthis.attachEvent(\"onBeforeDrop\", function(context){\r\n\t\t\tif(context.from == context.to){\r\n\t\t\t\tvar item = view._draggedItem = webix.copy(this.getItem(context.start));\r\n\t\t\t\tif(this.data.branch){\r\n\t\t\t\t\titem.$index = this.getBranchIndex(item.id);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\titem.$index = this.getIndexById(item.id);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.data.attachEvent(\"onDataMove\", function( sid ){\r\n\t\t\tif(view._draggedItem && view._draggedItem.id == sid){\r\n\t\t\t\tvar data = view._draggedItem;\r\n\t\t\t\tview._draggedItem = null;\r\n\t\t\t\tview._addToHistory(sid, data, \"move\");\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// edit, add, remove\r\n\t\tthis.attachEvent(\"onBeforeEditStop\", function(state, editor){\r\n\t\t\tthis._editedItem =  webix.copy(this.getItem(editor.id||editor.row));\r\n\t\t});\r\n\t\tthis.data.attachEvent(\"onBeforeDelete\", function(id){\r\n\t\t\tif(this.getItem(id)){\r\n\t\t\t\tvar item = view._deletedItem = webix.copy(this.getItem(id));\r\n\t\t\t\tif(this.branch){\r\n\t\t\t\t\titem.$index = this.getBranchIndex(id);\r\n\t\t\t\t\tif(this.branch[id])\r\n\t\t\t\t\t\titem.$branch = webix.copy(this.serialize(id));\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\titem.$index = this.getIndexById(id);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\", function(id, item, mode){\r\n\t\t\tvar data = null;\r\n\t\t\tif(id){\r\n\t\t\t\tif(mode == \"add\"){\r\n\t\t\t\t\tdata = webix.copy(item);\r\n\t\t\t\t}\r\n\t\t\t\telse if( mode == \"delete\"){\r\n\t\t\t\t\tdata = view._deletedItem;\r\n\t\t\t\t}\r\n\t\t\t\telse if(mode == \"update\"){\r\n\t\t\t\t\t// update can also be called due to custom updateItem call\r\n\t\t\t\t\tif(view._editedItem && view._editedItem.id == id){\r\n\t\t\t\t\t\tdata = view._editedItem;\r\n\t\t\t\t\t\tview._editedItem = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(data)\r\n\t\t\t\t\tview._addToHistory(id, data, mode);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// id change\r\n\t\tthis.data.attachEvent(\"onIdChange\", function(oldId,newId){\r\n\t\t\tif(typeof oldId == \"object\")\r\n\t\t\t\toldId = oldId.row;\r\n\t\t\tfor(var i =0; i < view._undoHistory.length; i++){\r\n\t\t\t\tif(view._undoHistory[i].id == oldId){\r\n\t\t\t\t\tview._undoHistory[i].id = newId;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t_addToHistory: function(id, data, action){\r\n\t\tif(!this._skipHistory && this._settings.undo){\r\n\t\t\tthis._undoHistory.push({id: id, action: action, data: data});\r\n\t\t\tif(this._undoHistory.length==20)\r\n\t\t\t\tthis._undoHistory.splice(0,1);\r\n\t\t\tif(!this._skipCursorInc)\r\n\t\t\t\tthis._undoCursor = this._undoHistory.length - 1;\r\n\t\t}\r\n\t},\r\n\tignoreUndo: function(func, master){\r\n\t\t this._skipHistory = true;\r\n\t\t func.call(master||this);\r\n\t\t this._skipHistory = false;\r\n\t},\r\n\tremoveUndo: function(id){\r\n\t\tfor( var i = this._undoHistory.length-1; i >=0; i--){\r\n\t\t\tif(this._undoHistory[i].id == id){\r\n\t\t\t\tif(this._undoHistory[i].action == \"id\"){\r\n\t\t\t\t\tid = this._undoHistory[i].data;\r\n\t\t\t\t}\r\n\t\t\t\tthis._undoHistory.removeAt(i);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._undoCursor = this._undoHistory.length - 1;\r\n\t},\r\n\tundo: function(id){\r\n\t\tif(id){\r\n\t\t\tthis.ignoreUndo(function(){\r\n\t\t\t\tvar data, i;\r\n\t\t\t\tfor( i = this._undoHistory.length-1; !data && i >=0; i--){\r\n\t\t\t\t\tif(this._undoHistory[i].id == id)\r\n\t\t\t\t\t\tdata = this._undoHistory[i];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(data){\r\n\t\t\t\t\t/*if(data.action == \"id\")\r\n\t\t\t\t\t\tid = data.data;*/\r\n\t\t\t\t\tthis._undoAction(data);\r\n\t\t\t\t\tthis._undoHistory.removeAt(i+1);\r\n\t\t\t\t\tthis._undoCursor = this._undoHistory.length - 1;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\telse{\r\n\t\t\tvar data = this._undoHistory[this._undoCursor];\r\n\t\t\tif(data){\r\n\t\t\t\tthis.ignoreUndo(function(){\r\n\t\t\t\t\tthis._undoAction(data);\r\n\t\t\t\t\tthis._undoHistory.removeAt(this._undoCursor);\r\n\t\t\t\t});\r\n\t\t\t\tthis._undoCursor--;\r\n\t\t\t\t/*if(data.action == \"id\")\r\n\t\t\t\t\tthis.undo();*/\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_undoAction: function(obj){\r\n\t\tif(obj.action == \"delete\"){\r\n\t\t\tvar branch = null,\r\n\t\t\t\tparentId = obj.data.$parent;\r\n\r\n\t\t\tif(obj.data.$branch){\r\n\t\t\t\tbranch = {\r\n\t\t\t\t\tparent: obj.id,\r\n\t\t\t\t\tdata: webix.copy(obj.data.$branch)\r\n\t\t\t\t};\r\n\t\t\t\tdelete obj.data.$branch;\r\n\t\t\t\tif(parentId && !this.data.branch[parentId])\r\n\t\t\t\t\tparentId = 0;\r\n\t\t\t}\r\n\r\n\t\t\tthis.add(obj.data, obj.data.$index, parentId);\r\n\t\t\tif(branch){\r\n\t\t\t\tthis.parse(branch);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if(obj.action == \"add\"){\r\n\t\t\tthis.remove(obj.id);\r\n\t\t}\r\n\t\telse if(obj.action == \"update\"){\r\n\t\t\tthis.updateItem(obj.id, obj.data);\r\n\t\t}\r\n\t\telse if(obj.action == \"move\"){\r\n\t\t\tif(obj.data.$parent){\r\n\t\t\t\tif(this.getItem(obj.data.$parent))\r\n\t\t\t\t\tthis.move(obj.id, obj.data.$index, null, {parent: obj.data.$parent});\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tthis.move(obj.id, obj.data.$index);\r\n\t\t}\r\n\t\t/*else if(obj.action == \"id\"){\r\n\t\t\tthis.data.changeId(obj.id, obj.data);\r\n\t\t}*/\r\n\t}\r\n};\r\n\r\nwebix.protoUI({\r\n\tname:\"datatable\",\r\n\tdefaults:{\r\n\t\tleftSplit:0,\r\n\t\trightSplit:0,\r\n\t\ttopSplit:0,\r\n\t\tcolumnWidth:100,\r\n\t\tminColumnWidth:20,\r\n\t\tminColumnHeight:26,\r\n\t\tprerender:false,\r\n\t\tautoheight:false,\r\n\t\tautowidth:false,\r\n\t\theader:true,\r\n\t\tfixedRowHeight:true,\r\n\t\tscrollAlignY:true,\r\n\t\tscrollX:true,\r\n\t\tscrollY:true,\r\n\t\tdatafetch:50,\r\n\t\tnavigation:true\r\n\t},\r\n\t$skin:function(){\r\n\t\tvar height = webix.skin.$active.rowHeight;\r\n\t\tvar defaults = this.defaults;\r\n\t\tdefaults.rowHeight = height;\r\n\t\tdefaults.headerRowHeight = webix.skin.$active.barHeight;\r\n\t},\r\n\ton_click:{\r\n\t\twebix_richfilter:function(){\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\twebix_table_checkbox:function(e, id){\r\n\t\t\tid = this.locate(e);\r\n\t\t\t\r\n\t\t\tvar item = this.getItem(id.row);\r\n\t\t\tvar col = this.getColumnConfig(id.column);\r\n\t\t\tvar trg = e.target|| e.srcElement;\r\n\r\n\t\t\t//read actual value from HTML tag when possible\r\n\t\t\t//as it can be affected by dbl-clicks\r\n\t\t\tvar check = (trg.type == \"checkbox\")?trg.checked:(item[id.column] != col.checkValue);\r\n\t\t\tvar value =  check ? col.checkValue : col.uncheckValue;\r\n\r\n\t\t\titem[id.column] = value;\r\n\r\n\t\t\tthis.callEvent(\"onCheck\", [id.row, id.column, value]);\r\n\t\t\tthis.data.callEvent(\"onDataUpdate\", [id, item]);\r\n\t\t\tthis.data.callEvent(\"onStoreUpdated\", [id.row, item, (this._settings.checkboxRefresh?\"update\":\"save\")]);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\twebix_table_radio:function(e){\r\n\t\t\tvar id = this.locate(e);\r\n\t\t\t\r\n\t\t\tvar item = this.getItem(id.row);\r\n\t\t\tvar col = this.getColumnConfig(id.column);\r\n\r\n\t\t\tvar checked = 0;\r\n\t\t\tthis.eachRow(function(rowid){\r\n\t\t\t\tvar item = this.data.pull[rowid];\r\n\t\t\t\tif (item && item[id.column] == col.checkValue)\r\n\t\t\t\t\titem[id.column] = col.uncheckValue;\r\n\t\t\t});\r\n\r\n\t\t\titem[id.column] = col.checkValue;\r\n\r\n\t\t\tthis.callEvent(\"onCheck\", [id.row, id.column, true]);\r\n\t\t\tthis.refresh();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t},\r\n\ton_dblclick:{\r\n\t\twebix_table_checkbox: function(){\r\n\t\t\treturn this.on_click.webix_table_checkbox.apply(this,arguments);\r\n\t\t}\r\n\t},\r\n\ton_context:{\r\n\t},\r\n\t$init:function(config){\r\n\t\tthis.on_click = webix.extend({}, this.on_click);\r\n\t\tvar html  = \"<div class='webix_ss_header'><div class='webix_hs_left'></div><div class='webix_hs_center'></div><div class='webix_hs_right'></div></div><div class='webix_ss_body'><div class='webix_ss_left'><div class='webix_ss_center_scroll'></div></div>\";\r\n\t\t    html += \"<div class='webix_ss_center'><div class='webix_ss_center_scroll' role='rowgroup'></div></div>\";\r\n\t\t    html += \"<div class='webix_ss_right'><div class='webix_ss_center_scroll'></div></div></div>\";\r\n\t\t    html += \"<div class='webix_ss_hscroll' role='scrollbar' aria-orientation='horizontal'></div><div class='webix_ss_footer'><div class='webix_hs_left'></div><div class='webix_hs_center'></div><div class='webix_hs_right'></div></div><div class='webix_ss_vscroll_header'></div><div class='webix_ss_vscroll' role='scrollbar' aria-orientation='vertical'></div><div class='webix_ss_vscroll_footer'></div>\";\r\n\r\n\t\tthis._contentobj.innerHTML = html;\r\n\t\tthis._top_id = this._contentobj.id = this.name+webix.uid();\r\n\t\tthis._contentobj.className +=\" webix_dtable\";\r\n\r\n\t\tthis._dataobj = this._contentobj;\r\n\r\n\t\tthis._header = this._contentobj.firstChild;\r\n\t\tthis._body = this._header.nextSibling;\r\n\t\tthis._footer = this._body.nextSibling.nextSibling;\r\n\r\n\t\tthis._viewobj.setAttribute(\"role\", \"grid\");\r\n\t\tif(!config.editable) \r\n\t\t\tthis._viewobj.setAttribute(\"aria-readonly\", \"true\");\r\n\r\n\t\tthis.data.provideApi(this, true);\r\n\t\tthis.data.attachEvent(\"onParse\", webix.bind(this._call_onparse, this));\r\n\r\n\t\tthis.$ready.push(this._first_render);\r\n\r\n\t\tthis._columns = [];\r\n\t\tthis._headers = [];\r\n\t\tthis._footers = [];\r\n\t\tthis._rows_cache = [];\r\n\t\tthis._active_headers = {};\r\n\t\tthis._filter_elements = {};\r\n\t\tthis._header_height = this._footer_height = 0;\r\n\r\n\t\t//component can create new view\r\n\t\tthis._destroy_with_me = [];\r\n\r\n\t\tthis.data.attachEvent(\"onServerConfig\", webix.bind(this._config_table_from_file, this));\r\n\t\tthis.data.attachEvent(\"onServerOptions\", webix.bind(this._config_options_from_file, this));\r\n\t\tthis.attachEvent(\"onViewShow\", function(){\r\n\t\t\tthis._restore_scroll_state();\r\n\t\t\tthis._refresh_any_header_content();\r\n\t\t});\r\n\t\tthis.attachEvent(\"onDestruct\", this._clean_config_struct);\r\n\t\tthis.attachEvent(\"onKeyPress\", this._onKeyPress);\r\n\r\n\t\twebix.callEvent(\"onDataTable\", [this, config]);\r\n\r\n\r\n\t},\r\n\t_render_initial:function(){\r\n\t\tthis._scrollSizeX = this._scrollSizeY = webix.ui.scrollSize;\r\n\r\n\t\twebix.html.addStyle(\"#\"+this._top_id +\" .webix_cell { height:\"+this._settings.rowHeight+\"px; line-height:\"+(this._settings.rowLineHeight || this._settings.rowHeight)+\"px;\" +(this._settings.fixedRowHeight?\"\":\"white-space:normal;\")+\" }\");\r\n\t\twebix.html.addStyle(\"#\"+this._top_id +\" .webix_hcell { height:\"+this._settings.headerRowHeight+\"px; line-height:\"+this._settings.headerRowHeight+\"px;}\");\r\n\t\tthis._render_initial = function(){};\r\n\t},\r\n\t_first_render:function(){\r\n\t\tthis.data.attachEvent(\"onStoreLoad\", webix.bind(this._refresh_any_header_content, this));\r\n\t\tthis.data.attachEvent(\"onSyncApply\", webix.bind(this._refresh_any_header_content, this));\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\", webix.bind(function(){ return this.render.apply(this, arguments); }, this));\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\", webix.bind(this._refresh_tracking_header_content, this));\r\n\t\tthis.render();\r\n\t},\r\n\trefresh:function(){\r\n\t\tthis.render();\r\n\t},\r\n\trender:function(id, data, mode){\r\n\t\t//pure data saving call\r\n\t\tif (mode == \"save\") return;\r\n\t\t//during dnd we must not repaint anything in mobile webkit\r\n\t\tif (mode == \"move\"){\r\n\t\t\tvar context = webix.DragControl.getContext();\r\n\t\t\tif (context && context.fragile) return;\r\n\t\t}\r\n\r\n\t\tif (!this._columns.length){\r\n\t\t\tvar cols = this._settings.columns;\r\n\t\t\tif (!cols || !cols.length) {\r\n\t\t\t\tif (this._settings.autoConfig && this.data.order.length){\r\n\t\t\t\t\tthis._dtable_fully_ready = 0;\r\n\t\t\t\t\tthis._autoDetectConfig();\r\n\t\t\t\t} else\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._define_structure();\r\n\t\t}\r\n\r\n\t\tif (!this.isVisible(this._settings.id) || this.$blockRender)\r\n\t\t\treturn this._render_initial(); //Chrome 34, Custom Font loading bug\r\n\r\n\t\t//replace multiple atomic updates by single big repaint\r\n\t\tif (id && data != -1 && (mode == \"paint\" || mode == \"update\")){\r\n\t\t\tif (this._render_timer)\r\n\t\t\t\tclearTimeout(this._render_timer);\r\n\r\n\t\t\tif (!this._render_timer || this._render_timer_id == id){\r\n\t\t\t\tthis._render_timer_id = id;\r\n\t\t\t\tthis._render_timer = webix.delay(function(){\r\n\t\t\t\t\t//if only one call - repaint single item\r\n\t\t\t\t\tthis.render(id, -1, mode);\r\n\t\t\t\t}, this);\r\n\t\t\t} else {\r\n\t\t\t\tthis._render_timer_id = null;\r\n\t\t\t\tthis._render_timer = webix.delay(function(){\r\n\t\t\t\t\t//if ther was a serie of calls - replace them with single full repaint\r\n\t\t\t\t\tthis.render();\r\n\t\t\t\t}, this);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t} else if (this._render_timer){\r\n\t\t\tclearTimeout(this._render_timer);\r\n\t\t\tthis._render_timer = 0;\r\n\t\t}\r\n\r\n\t\tif (this.callEvent(\"onBeforeRender\",[this.data])){\r\n\r\n\t\t\tthis._render_initial();\r\n\t\t\tif (!this._dtable_fully_ready)\r\n\t\t\t\tthis._apply_headers();\r\n\r\n\t\t\tif (this._content_width){\r\n\t\t\t\tif (this[\"_settings\"].experimental && (mode == \"paint\" || mode == \"update\") && id)\r\n\t\t\t\t\tthis._repaint_single_row(id);\r\n\t\t\t\telse\r\n\t\t\t\t\tthis._check_rendered_cols(true, true);\r\n\t\t\t}\r\n\r\n\t\t\tif (!id || mode!=\"update\"){\r\n\t\t\t\tthis._dtable_height = this._get_total_height();\r\n\t\t\t\tthis._set_split_sizes_y();\r\n\t\t\t}\r\n\r\n\t\t\t//don't depend on hidden rows/rolumns\r\n\t\t\tthis._viewobj.setAttribute(\"aria-colcount\", Math.max(this._hidden_column_order.length, this._columns.length));\r\n\t\t\tthis._viewobj.setAttribute(\"aria-rowcount\", this.data.count());\r\n\r\n\t\t\tthis.callEvent(\"onAfterRender\",[this.data]);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t},\r\n\tgetColumnConfig:function(id){\r\n\t\treturn this._columns_pull[id] || this._hidden_column_hash[id];\r\n\t},\r\n\t_config_options_from_file:function(colls){\r\n\t\tfor (var key in colls){\r\n\t\t\tvar column = this.getColumnConfig(key);\r\n\t\t\twebix.assert(column, \"Orphan collection: \"+key);\r\n\t\t\tvar temp = new webix.DataCollection({\r\n\t\t\t\tdata:colls[key]\r\n\t\t\t});\r\n\t\t\tthis._destroy_with_me.push(temp);\r\n\t\t\tthis._bind_collection(temp, column);\r\n\t\t}\r\n\t},\r\n\t//xml has different configuration structure, fixing\r\n\t_config_table_from_file:function(config){\r\n\t\tif (config.columns && this._dtable_fully_ready)\r\n\t\t\tthis.refreshColumns(null, true);\r\n\t},\r\n\t_define_structure:function(){\r\n\t\tif (this._settings.columns){\r\n\t\t\tthis._columns = this._settings.columns;\r\n\t\t\tthis._columns_pull = {};\r\n\r\n\t\t\tfor (var i = 0; i < this._columns.length; i++){\r\n\t\t\t\tvar col = this._columns[i];\r\n\t\t\t\tthis._columns_pull[col.id] = col;\r\n\r\n\t\t\t\tvar format = col.cssFormat;\r\n\t\t\t\tif (format)\r\n\t\t\t\t\tcol.cssFormat = webix.toFunctor(format, this.$scope);\r\n\r\n\t\t\t\tcol.width = col.width||this._settings.columnWidth;\r\n\t\t\t\tif (typeof col.format == \"string\") \r\n\t\t\t\t\tcol.format = webix.i18n[col.format]||window[col.format];\r\n\r\n\t\t\t\t//default settings for checkboxes and radios\r\n\t\t\t\tif (webix.isUndefined(col.checkValue)) col.checkValue = 1;\r\n\t\t\t\tif (webix.isUndefined(col.uncheckValue)) col.uncheckValue = 0;\r\n\t\t\t\t\r\n\t\t\t\tif (col.css && typeof col.css == \"object\")\r\n\t\t\t\t\tcol.css = webix.html.createCss(col.css);\r\n\r\n\t\t\t\tvar template = col.template;\r\n\t\t\t\tif (template){\r\n\t\t\t\t\tif (typeof template == \"string\")\r\n\t\t\t\t\t\ttemplate = template.replace(/#\\$value#/g,\"#\"+col.id+\"#\");\r\n\t\t\t\t\tcol.template = webix.template(template);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._normalize_headers(\"header\", this._headers);\r\n\t\t\tthis._normalize_headers(\"footer\", this._footers);\r\n\r\n\t\t\tthis.callEvent(\"onStructureLoad\",[]);\r\n\t\t}\r\n\t},\r\n\t_define_structure_and_render:function(){\r\n\t\tthis._apply_headers();\r\n\t},\r\n\t_clean_config_struct:function(){ \r\n\t\t//remove column technical info from the column\r\n\t\t//it allows to reuse the same config object for new grid\r\n\t\tfor (var i = 0; i < this._columns.length; i++){\r\n\t\t\tdelete this._columns[i].attached;\r\n\t\t\tdelete this._columns[i].node;\r\n\t\t}\r\n\t},\r\n\t_apply_headers:function(){\r\n\t\tthis._rightSplit = this._columns.length-this._settings.rightSplit;\r\n\t\tthis._dtable_width = 0;\r\n\r\n\t\tfor (var i = 0; i < this._columns.length; i++){\r\n\t\t\tif (!this._columns[i].node){\r\n\r\n\t\t\t\tvar temp = webix.html.create(\"DIV\");\r\n\t\t\t\ttemp.style.width = this._columns[i].width + \"px\";\r\n\t\t\t\tthis._columns[i].node = temp;\r\n\t\t\t}\r\n\t\t\tif (i>=this._settings.leftSplit && i<this._rightSplit)\r\n\t\t\t\tthis._dtable_width += this._columns[i].width;\r\n\t\t}\r\n\r\n\t\tvar marks = [];\r\n\t\t\r\n\t\tif (this._settings.rightSplit){\r\n\t\t\tvar nr = this._columns.length-this._settings.rightSplit;\r\n\t\t\tmarks[nr]  =\" webix_first\";\r\n\t\t\tmarks[nr-1]=\" webix_last\";\r\n\t\t}\r\n\t\tif (this._settings.leftSplit){\r\n\t\t\tvar nl = this._settings.leftSplit;\r\n\t\t\tmarks[nl]  =\" webix_first\";\r\n\t\t\tmarks[nl-1]=\" webix_last\";\r\n\t\t}\r\n\t\tmarks[0]  = (marks[0]||\"\")+\" webix_first\";\r\n\t\tvar last_index = this._columns.length-1;\r\n\t\tmarks[last_index] = (marks[last_index]||\"\")+\" webix_last\";\r\n\r\n\r\n\t\tfor (var i=0; i<this._columns.length; i++){\r\n\t\t\tvar node = this._columns[i].node;\r\n\t\t\tnode.setAttribute(\"column\", i);\r\n\t\t\tnode.className = \"webix_column \"+(this._columns[i].css||\"\")+(marks[i]||'');\r\n\t\t}\r\n\r\n\t\tthis._create_scrolls();\t\t\r\n\r\n\t\tthis._set_columns_positions();\r\n\t\tthis._set_split_sizes_x();\r\n\t\tthis._render_header_and_footer();\r\n\r\n\t\tthis._dtable_fully_ready = true;\r\n\t},\r\n\t_set_columns_positions:function(){\r\n\t\tvar left = 0;\r\n\t\tfor (var i = 0; i < this._columns.length; i++){\r\n\t\t\tvar column = this._columns[i];\r\n\t\t\tif (i == this._settings.leftSplit || i == this._rightSplit)\r\n\t\t\t\tleft = 0;\r\n\r\n\t\t\tif (column.node){\r\n\t\t\t\tcolumn.node.style.left = left+\"px\";\r\n\t\t\t\tif (this._settings.leftSplit || this._settings.rightSplit){\r\n\t\t\t\t\twebix.html.remove(column.node);\r\n\t\t\t\t\tcolumn.attached = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tleft += column.width;\r\n\t\t}\r\n\t},\r\n\t_render_header_and_footer:function(){\r\n\t\tif (!this._header_fix_width)\r\n\t\t\tthis._header_fix_width = 0;\r\n\r\n\t\tthis._header_height = this._footer_height = 0;\r\n\r\n\t\tif (this._settings.header) {\r\n\t\t\tthis._refreshHeaderContent(this._header, 0, 1);\r\n\t\t\tthis._normalize_headers(\"header\", this._headers);\r\n\t\t\tthis._header_height = this._headers._summ;\r\n\t\t\tthis._render_header_section(this._header, \"header\", this._headers);\r\n\t\t}\r\n\t\tif (this._settings.footer){\r\n\t\t\tthis._refreshHeaderContent(this._footer, 0, 1);\r\n\t\t\tthis._normalize_headers(\"footer\", this._footers);\r\n\t\t\tthis._footer_height = this._footers._summ;\r\n\t\t\tthis._render_header_section(this._footer, \"footer\", this._footers);\r\n\t\t}\t\r\n\r\n\t\tthis.refreshHeaderContent(false, false);\r\n\t\tthis._size_header_footer_fix();\r\n\r\n\t\tif (this._last_sorted)\r\n\t\t\tthis.markSorting(this._last_sorted, this._last_order);\r\n\t},\r\n\t_normalize_headers:function(collection, heights){\r\n\t\tvar rows = 0;\r\n\t\t\r\n\t\tfor (var i=0; i<this._columns.length; i++){\r\n\t\t\tvar data = this._columns[i][collection];\r\n\t\t\tif (!data || typeof data != \"object\" || !data.length){\r\n\t\t\t\tif (webix.isUndefined(data)){\r\n\t\t\t\t\tif (collection == \"header\")\r\n\t\t\t\t\t\tdata = this._columns[i].id;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tdata = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tdata = [data]; \r\n\t\t\t}\r\n\t\t\tfor (var j = 0; j < data.length; j++){\r\n\t\t\t\tif (typeof data[j] != \"object\")\r\n\t\t\t\t\tdata[j] = { text:data[j] };\r\n\t\t\t\tif (data[j] && data[j].height) heights[j] = data[j].height;\r\n\t\t\t}\r\n\t\t\trows = Math.max(rows, data.length);\r\n\t\t\tthis._columns[i][collection] = data;\r\n\t\t}\r\n\r\n\r\n\t\theights._summ = rows;\r\n\t\tfor (var i = rows-1; i >= 0; i--){\r\n\t\t\theights[i] = heights[i] || this._settings.headerRowHeight;\r\n\t\t\theights._summ += heights[i]*1;\r\n\t\t}\r\n\r\n\t\t//set null to cells included in col|row spans\r\n\t\tfor (var i=0; i<this._columns.length; i++){\r\n\t\t\tvar col = this._columns[i][collection];\r\n\t\t\tfor (var j=0; j<col.length; j++){\r\n\t\t\t\tif (col[j] && col[j].rowspan)\r\n\t\t\t\t\tfor (var z=1; z<col[j].rowspan; z++)\r\n\t\t\t\t\t\tcol[j+z] = null;\r\n\t\t\t\tif (col[j] && col[j].colspan)\r\n\t\t\t\t\tfor (var z=1; z<col[j].colspan; z++)\r\n\t\t\t\t\t\tthis._columns[i+z][collection][j] = null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//auto-rowspan cells, which has not enough header lines\r\n\t\tfor (var i=0; i<this._columns.length; i++){\r\n\t\t\tvar data = this._columns[i][collection];\r\n\t\t\tif (data.length < rows){\r\n\t\t\t\tvar end = data.length-1;\r\n\t\t\t\tdata[end].rowspan = rows - data.length + 1;\r\n\t\t\t\tfor (var j=end+1; j<rows; j++)\r\n\t\t\t\t\tdata[j]=null;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn rows;\r\n\t},\r\n\t_find_header_content:function(sec, id){\r\n\t\tvar alltd = sec.getElementsByTagName(\"TD\");\r\n\t\tfor (var i = 0; i < alltd.length; i++)\r\n\t\t\tif (alltd[i].getAttribute(\"active_id\") == id)\r\n\t\t\t\treturn alltd[i];\r\n\t},\r\n\tgetHeaderContent:function(id){\r\n\t\tvar obj = this._find_header_content(this._header, id);\r\n\t\tif (!obj)\r\n\t\t\tobj = this._find_header_content(this._footer, id);\r\n\r\n\t\tif (obj){\r\n\t\t\tvar config = this._active_headers[id];\r\n\t\t\tvar type = webix.ui.datafilter[config.content];\r\n\r\n\t\t\tif (type.getHelper) return type.getHelper(obj, config);\r\n\t\t\treturn {\r\n\t\t\t\ttype: type,\r\n\t\t\t\tgetValue:function(){ return type.getValue(obj); },\r\n\t\t\t\tsetValue:function(value){ return type.setValue(obj, value); }\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\t_summ_next:function(heights, start, i){\r\n\t\tvar summ = i ? -1 : 0;\r\n\r\n\t\ti += start;\r\n\t\tfor (start; start<i; start++) \r\n\t\t\tsumm+=heights[start] + 1;\r\n\r\n\t\treturn summ;\r\n\t},\r\n\t_render_subheader:function(start, end, width, name, heights){\r\n\t\tif (start == end) return \"\";\r\n\r\n\t\tvar html = \"<table role='presentation' style='width:\"+width+\"px' cellspacing='0' cellpadding='0'>\";\r\n\t\tfor (var i = start; i < end; i++){\r\n\t\t\thtml += \"<tr>\";\r\n\t\t\tfor (var i = start; i < end; i++)\r\n\t\t\t\thtml += \"<th  style='width:\"+this._columns[i].width+\"px'></th>\";\r\n\t\t\thtml += \"</tr>\";\r\n\t\t}\r\n\r\n\t\tvar count = this._columns[0][name].length;\r\n\t\tvar block_evs = [];\r\n\r\n\t\tfor (var j = 0; j < count; j++){\r\n\t\t\thtml += \"<tr section='\"+name+\"' role='row'>\";\r\n\t\t\tfor (var i = start; i < end; i++){\r\n\t\t\t\tvar header = this._columns[i][name][j];\r\n\t\t\t\tif (header === null) continue;\r\n\r\n\t\t\t\tif (header.content){\r\n\t\t\t\t\theader.contentId = header.contentId||webix.uid();\r\n\t\t\t\t\theader.columnId = this._columns[i].id;\r\n\t\t\t\t\theader.format = this._columns[i].format;\r\n\r\n\t\t\t\t\twebix.assert(webix.ui.datafilter, \"Filtering extension was not included\");\r\n\t\t\t\t\twebix.assert(webix.ui.datafilter[header.content], \"Unknown content type: \"+header.content);\r\n\t\t\t\t\t\r\n\t\t\t\t\theader.text = webix.ui.datafilter[header.content].render(this, header);\r\n\t\t\t\t\tthis._active_headers[header.contentId] = header;\r\n\t\t\t\t\tthis._has_active_headers = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\thtml += \"<td  role='presentation' column='\"+(header.colspan?(header.colspan-1+i):i)+\"'\";\r\n\r\n\t\t\t\tvar hcss = '';\r\n\t\t\t\tif (i==start)\t\r\n\t\t\t\t\thcss+=\"webix_first\";\r\n\t\t\t\tvar column_pos = i + (header.colspan?header.colspan-1:0);\r\n\t\t\t\tif (column_pos>=end-1)\r\n\t\t\t\t\thcss+=\" webix_last\";\r\n\t\t\t\tif (hcss)\r\n\t\t\t\t\thtml+=' class=\"'+hcss+'\"';\r\n\t\t\t\t\r\n\t\t\t\tvar cell_height = heights[j];\r\n\t\t\t\tvar sheight=\"\";\r\n\t\t\t\tif (header.contentId)\r\n\t\t\t\t\thtml+=\" active_id='\"+header.contentId+\"'\";\r\n\t\t\t\tif (header.colspan)\r\n\t\t\t\t\thtml+=\" colspan='\"+header.colspan+\"'\";\r\n\t\t\t\tif (header.rowspan){\r\n\t\t\t\t\thtml+=\" rowspan='\"+header.rowspan+\"'\";\r\n\t\t\t\t\tcell_height = this._summ_next(this._headers, j, header.rowspan);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (cell_height != this._settings.headerRowHeight)\r\n\t\t\t\t\tsheight =\" style='line-height:\"+cell_height+\"px; height:\"+cell_height+\"px;'\";\r\n\r\n\t\t\t\tvar css =\"webix_hcell\";\r\n\t\t\t\tvar header_css = header.css;\r\n\t\t\t\tif (header_css){\r\n\t\t\t\t\tif (typeof header_css == \"object\")\r\n\t\t\t\t\t\theader.css = header_css = webix.html.createCss(header_css);\r\n\t\t\t\t\tcss+=\" \"+header_css;\r\n\t\t\t\t}\r\n\t\t\t\tif (this._columns[i].$selected)\r\n\t\t\t\t\tcss += \" webix_sel_hcell\";\r\n\t\t\t\t\r\n\t\t\t\thtml+=\"><div role='columnheader' class='\"+css+\"'\"+sheight+\">\";\r\n\t\t\t\t\r\n\t\t\t\tvar text = (header.text===\"\"?\"&nbsp;\":header.text);\r\n\t\t\t\tif (header.rotate)\r\n\t\t\t\t\ttext = \"<div class='webix_rotate' style='width:\"+(cell_height-10)+\"px; transform-origin:center \"+(cell_height-15)/2+\"px;-webkit-transform-origin:center \"+(cell_height-15)/2+\"px;'>\"+text+\"</div>\";\r\n\r\n\t\t\t\thtml += text + \"</div></td>\";\r\n\t\t\t}\r\n\t\t\thtml += \"</tr>\";\r\n\t\t}\r\n\t\thtml+=\"</tr></table>\";\t\r\n\r\n\t\treturn html;\r\n\t},\r\n\tshowItemByIndex:function(row_ind, column_ind){\r\n\t\tvar pager = this._settings.pager;\r\n\t\tif (pager){\r\n\t\t\tvar target = Math.floor(row_ind/pager.size);\r\n\t\t\tif (target != pager.page)\r\n\t\t\t\twebix.$$(pager.id).select(target);\r\n\t\t}\r\n\r\n\t\t//parameter will be set to -1, to mark that scroll need not to be adjusted\r\n\t\tif (row_ind != -1){\r\n\t\t\tvar state = this._get_y_range();\r\n\t\t\tif (row_ind < state[0]+1 || row_ind >= state[1]-1 ){\r\n\t\t\t\t//not visible currently\r\n\t\t\t\tvar summ = this._getHeightByIndexSumm((pager?this.data.$min:0),row_ind);\r\n\t\t\t\tif (row_ind < state[0]+1){\r\n\t\t\t\t\t//scroll top - show row at top of screen\r\n\t\t\t\t\tsumm = Math.max(0, summ-1) - this._top_split_height;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//scroll bottom - show row at bottom of screen\r\n\t\t\t\t\tsumm += this._getHeightByIndex(row_ind) - this._dtable_offset_height;\r\n\t\t\t\t\t//because of row rounding we neet to scroll some extra\r\n\t\t\t\t\t//TODO: create a better heuristic\r\n\t\t\t\t\tif (row_ind>0)\r\n\t\t\t\t\t\tsumm += this._getHeightByIndex(row_ind-1)-1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._y_scroll.scrollTo(summ);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (column_ind != -1){\r\n\t\t\t//ignore split columns - they are always visible\r\n\t\t\tif (column_ind < this._settings.leftSplit) return;\r\n\t\t\tif (column_ind >= this._rightSplit) return;\r\n\r\n\t\t\t//very similar to y-logic above\r\n\t\t\tvar state = this._get_x_range();\r\n\t\t\tif (column_ind < state[0]+1 || column_ind >= state[1]-1 ){\r\n\t\t\t\t//not visible currently\r\n\t\t\t\tvar summ = 0;\r\n\t\t\t\tfor (var i=this._settings.leftSplit; i<column_ind; i++)\r\n\t\t\t\t\tsumm += this._columns[i].width;\r\n\r\n\t\t\t\t/*jsl:ignore*/\r\n\t\t\t\tif (column_ind < state[0]+1){\r\n\t\t\t\t\t//scroll to left border\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//scroll to right border\r\n\t\t\t\t\tsumm += this._columns[column_ind].width - this._center_width;\r\n\t\t\t\t}\t\r\n\t\t\t\t/*jsl:end*/\r\n\t\t\t\tthis._x_scroll.scrollTo(summ);\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t},\r\n\tshowCell:function(row, column){\r\n\t\tif (!column || !row){ \r\n\t\t\t//if column or row not provided - take from current selection\r\n\t\t\tvar t=this.getSelectedId(true);\r\n\t\t\tif (t.length == 1){\r\n\t\t\t\tcolumn = column || t[0].column;\r\n\t\t\t\trow = row || t[0].row;\r\n\t\t\t}\r\n\t\t}\r\n\t\t//convert id to index\r\n\t\tcolumn = column?this.getColumnIndex(column):-1;\r\n\t\trow = row?this.getIndexById(row):-1;\r\n\t\tthis.showItemByIndex(row, column);\r\n\r\n\t},\r\n\tscrollTo:function(x,y){\r\n\t\tif (!this._x_scroll) return;\r\n\t\tif (this._scrollTo_touch)\r\n\t\t\treturn this._scrollTo_touch(x,y);\r\n\r\n\t\tif (x !== null)\r\n\t\t\tthis._x_scroll.scrollTo(x);\r\n\t\tif (y !== null)\r\n\t\t\tthis._y_scroll.scrollTo(y);\r\n\t},\r\n\tgetScrollState:function(){\r\n\t\tif (this._getScrollState_touch)\r\n\t\t\treturn this._getScrollState_touch();\r\n\r\n\t\tvar diff =  this._render_scroll_shift?0:(this._render_scroll_diff||0);\r\n\t\treturn {x:(this._scrollLeft||0), y:(this._scrollTop + diff)};\r\n\t},\r\n\tshowItem:function(id){\r\n\t\tthis.showItemByIndex(this.getIndexById(id), -1);\r\n\t},\r\n\t_render_header_section:function(sec, name, heights){\r\n\t\tsec.childNodes[0].innerHTML = this._render_subheader(0, this._settings.leftSplit, this._left_width, name, heights);\r\n\t\tsec.childNodes[1].innerHTML = this._render_subheader(this._settings.leftSplit, this._rightSplit, this._dtable_width, name, heights);\r\n\t\tsec.childNodes[1].onscroll = webix.bind(this._scroll_with_header, this);\r\n\t\tsec.childNodes[2].innerHTML = this._render_subheader(this._rightSplit, this._columns.length, this._right_width, name, heights);\r\n\t},\r\n\t_scroll_with_header:function(){\r\n\t\tvar active = this.getScrollState().x;\r\n\t\tvar header = this._header.childNodes[1].scrollLeft;\r\n\t\tif (header != active)\r\n\t\t\tthis.scrollTo(header, null);\r\n\t},\r\n\t_refresh_tracking_header_content:function(){\r\n\t\tthis.refreshHeaderContent(true, true);\r\n\t},\r\n\t_refresh_any_header_content:function(){\r\n\t\tthis.refreshHeaderContent(false, true);\r\n\t},\r\n\t//[DEPRECATE] - v3.0, move to private\r\n\trefreshHeaderContent:function(trackedOnly, preserve, id){\r\n\t\tif (this._settings.header){\r\n\t\t\tif (preserve) this._refreshHeaderContent(this._header, trackedOnly, 1, id);\r\n\t\t\tthis._refreshHeaderContent(this._header, trackedOnly, 0, id);\r\n\t\t}\r\n\t\tif (this._settings.footer){\r\n\t\t\tif (preserve) this._refreshHeaderContent(this._footer, trackedOnly, 1, id);\r\n\t\t\tthis._refreshHeaderContent(this._footer, trackedOnly, 0, id);\r\n\t\t}\r\n\t},\r\n\trefreshFilter:function(id){\r\n\t\tif (id && !this._active_headers[id]) return;\r\n\t\tthis.refreshHeaderContent(false, true, id);\r\n\t},\r\n\t_refreshHeaderContent:function(sec, cellTrackOnly, getOnly, byId){\r\n\t\tif (this._has_active_headers && sec){\r\n\t\t\tvar alltd = sec.getElementsByTagName(\"TD\");\r\n\r\n\t\t\tfor (var i = 0; i < alltd.length; i++){\r\n\t\t\t\tif (alltd[i].getAttribute(\"active_id\")){\r\n\t\t\t\t\tvar obj = this._active_headers[alltd[i].getAttribute(\"active_id\")];\r\n\t\t\t\t\tif (byId && byId != obj.columnId) continue;\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar content = webix.ui.datafilter[obj.content];\r\n\r\n\t\t\t\t\tif (getOnly){\r\n\t\t\t\t\t\tif (content.getValue)\r\n\t\t\t\t\t\t\tobj.value = content.getValue(alltd[i]);\r\n\t\t\t\t\t} else if (!cellTrackOnly || content.trackCells){\r\n\t\t\t\t\t\tcontent.refresh(this, alltd[i], obj);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\theaderContent:[],\r\n\t_set_size_scroll_area:function(obj, height, hdx){\r\n\t\tif (this._scrollSizeY){\r\n\r\n\t\t\tobj.style.height = Math.max(height,1)-1+\"px\";\r\n\t\t\tobj.style.width = (this._rightSplit?0:hdx)+this._scrollSizeY-1+\"px\";\r\n\r\n\t\t\t// temp. fix: Chrome [DIRTY]\r\n\t\t\tif (webix.env.isWebKit)\r\n\t\t\t\tvar w = obj.offsetWidth;\r\n\t\t} else \r\n\t\t\tobj.style.display = \"none\";\r\n\t},\r\n\t_size_header_footer_fix:function(){\r\n\t\tif (this._settings.header)\r\n\t\t\tthis._set_size_scroll_area(this._header_scroll, this._header_height, this._header_fix_width);\r\n\t\tif (this._settings.footer)\r\n\t\t\tthis._set_size_scroll_area(this._footer_scroll, this._footer_height, this._header_fix_width);\r\n\t},\r\n\t_update_scroll:function(x,y){\r\n\t\tvar hasX = !(this._settings.autowidth || this._settings.scrollX === false);\r\n\t\tthis._scrollSizeX =  hasX ? webix.ui.scrollSize : 0;\r\n\t\tvar hasY = !(this._settings.autoheight || this._settings.scrollY === false);\r\n\t\tthis._scrollSizeY = hasY ? webix.ui.scrollSize : 0;\r\n\t\tif(webix.env.touch)\r\n\t\t\thasX = hasY = false;\r\n\t\tif (this._x_scroll){\r\n\t\t\tthis._x_scroll._settings.scrollSize = this._scrollSizeX;\r\n\t\t\tthis._x_scroll._settings.scrollVisible = hasX;\r\n\t\t}\r\n\t\tif (this._y_scroll){\r\n\t\t\tthis._y_scroll._settings.scrollSize = this._scrollSizeY;\r\n\t\t\tthis._y_scroll._settings.scrollVisible = hasY;\r\n\t\t}\r\n\t},\r\n\t_create_scrolls:function(){\r\n\r\n\t\tthis._scrollTop = 0;\r\n\t\tthis._scrollLeft = 0;\r\n\t\tvar scrx, scry; scrx = scry = 1;\r\n\r\n\t\tif (this._settings.autoheight || this._settings.scrollY === false)\r\n\t\t\tscry = this._scrollSizeY = 0;\r\n\t\tif (this._settings.autowidth || this._settings.scrollX === false)\r\n\t\t\tscrx = this._scrollSizeX = 0;\r\n\t\t\r\n\t\tif (webix.env.touch) scrx = scry = 0;\r\n\r\n\t\tif (!this._x_scroll){\r\n\t\t\tthis._x_scroll = new webix.ui.vscroll({\r\n\t\t\t\tcontainer:this._footer.previousSibling,\r\n\t\t\t\tscrollWidth:this._dtable_width,\r\n\t\t\t\tscrollSize:this._scrollSizeX,\r\n\t\t\t\tscrollVisible:scrx\r\n\t\t\t});\r\n\r\n\t\t\t//fix for scroll space on Mac\r\n\t\t\tif (scrx && !this._scrollSizeX && !webix.env.$customScroll)\r\n\t\t\t\tthis._x_scroll._viewobj.style.position=\"absolute\";\r\n\r\n\t\t\tthis._x_scroll.attachEvent(\"onScroll\", webix.bind(this._onscroll_x, this));\r\n\t\t}\r\n\r\n\t\tif (!this._y_scroll){\r\n\t\t\tthis._header_scroll = this._footer.nextSibling;\r\n\t\t\tvar vscroll_view = this._header_scroll.nextSibling;\r\n\t\t\tthis._footer_scroll = vscroll_view.nextSibling;\r\n\r\n\t\t\tthis._y_scroll = new webix.ui.vscroll({\r\n\t\t\t\tcontainer:vscroll_view,\r\n\t\t\t\tscrollHeight:100,\r\n\t\t\t\tscroll:\"y\",\r\n\t\t\t\tscrollSize:this._scrollSizeY,\r\n\t\t\t\tscrollVisible:scry\r\n\t\t\t});\r\n\r\n\t\t\tthis._y_scroll.activeArea(this._body);\r\n\t\t\tthis._x_scroll.activeArea(this._body, true);\r\n\t\t\tthis._y_scroll.attachEvent(\"onScroll\", webix.bind(this._onscroll_y, this));\r\n\t\t}\r\n\r\n\t\tif (this._content_width)\r\n\t\t\tthis.callEvent(\"onResize\",[this._content_width, this._content_height]);\r\n\r\n\t\tif (webix.env.$customScroll)\r\n\t\t\twebix.CustomScroll.enable(this);\r\n\r\n\t\tthis._create_scrolls = function(){};\r\n\t},\r\n\tcolumnId:function(index){\r\n\t\treturn this._columns[index].id;\r\n\t},\r\n\tgetColumnIndex:function(id){\r\n\t\tfor (var i = 0; i < this._columns.length; i++)\r\n\t\t\tif (this._columns[i].id == id) \r\n\t\t\t\treturn i;\r\n\t\treturn -1;\r\n\t},\r\n\t_getNodeBox:function(rid, cid){\r\n\t\tvar xs=0, xe=0, ye=0, ys=0;\r\n\t\tvar i; var zone = 0;\r\n\t\tfor (i = 0; i < this._columns.length; i++){\r\n\t\t\tif (this._rightSplit == i || this._settings.leftSplit == i){\r\n\t\t\t\txs=0; zone++;\r\n\t\t\t}\r\n\t\t\tif (this._columns[i].id == cid) \r\n\t\t\t\tbreak;\r\n\t\t\txs+=this._columns[i].width;\r\n\t\t}\r\n\t\txe+=this._columns[i].width;\r\n\r\n\t\tfor (i = 0; i < this.data.order.length; i++){\r\n\t\t\tif (this.data.order[i] ==rid) \r\n\t\t\t\tbreak;\r\n\t\t\tys+=this._getHeightByIndex(i);\r\n\t\t}\r\n\t\tye+=this._getHeightByIndex(i);\r\n\t\treturn [xs,xe,ys-this._scrollTop,ye, this._body.childNodes[zone]];\r\n\t},\r\n\t_id_to_string:function(){ return this.row; },\r\n\tlocate:function(node, idOnly){\r\n\t\tif (this._settings.subview && this != webix.$$(node)) return null;\r\n\r\n\t\tnode = node.target||node.srcElement||node;\r\n\t\twhile (node && node.getAttribute){\r\n\t\t\tif (node.getAttribute(\"view_id\"))\r\n\t\t\t\tbreak;\r\n\t\t\tvar cs = webix.html._getClassName(node).toString();\r\n\r\n\t\t\tvar pos = null;\r\n\t\t\tif (cs.indexOf(\"webix_cell\")!=-1){\r\n\t\t\t\tpos = this._locate(node);\r\n\t\t\t\tif (pos) \r\n\t\t\t\t\tpos.row = this.data.order[pos.rind];\r\n\t\t\t}\r\n\t\t\tif (cs.indexOf(\"webix_hcell\")!=-1){\r\n\t\t\t\tpos = this._locate(node);\r\n\t\t\t\tif (pos)\r\n\t\t\t\t\tpos.header = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (pos){\r\n\t\t\t\tif (idOnly) return pos.header ? null : pos.row;\r\n\t\t\t\tpos.column = this._columns[pos.cind].id;\r\n\t\t\t\tpos.toString = this._id_to_string;\r\n\t\t\t\treturn pos;\r\n\t\t\t}\r\n\r\n\t\t\tnode = node.parentNode;\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\t_locate:function(node){\r\n\t\tvar cdiv = node.parentNode;\r\n\t\tif (!cdiv) return null;\r\n\t\tvar column = (node.getAttribute(\"column\") || cdiv.getAttribute(\"column\"))*1;\r\n\t\tvar row = node.getAttribute(\"row\") || 0;\r\n\t\tif (!row)\r\n\t\t\tfor (var i = 0; i < cdiv.childNodes.length; i++)\r\n\t\t\t\tif (cdiv.childNodes[i] == node){\r\n\t\t\t\t\tif (i >= this._settings.topSplit)\r\n\t\t\t\t\t\trow = i+this._columns[column]._yr0 - this._settings.topSplit;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\trow = i;\r\n\t\t\t\t}\r\n\r\n\t\treturn { rind:row, cind:column };\r\n\t},\r\n\t_updateColsSizeSettings:function(silent){\r\n\t\tif (!this._dtable_fully_ready) return;\r\n\r\n\t\tthis._set_columns_positions();\r\n\t\tthis._set_split_sizes_x();\r\n\t\tthis._render_header_and_footer();\r\n\r\n\t\tif (!silent)\r\n\t\t\tthis._check_rendered_cols(false, false);\r\n\t},\r\n\tsetColumnWidth:function(col, width, skip_update){\r\n\t\treturn this._setColumnWidth( this.getColumnIndex(col), width, skip_update);\r\n\t},\r\n\t_setColumnWidth:function(col, width, skip_update, by_user){\r\n\t\tif (isNaN(width)) return;\r\n\t\tvar column = this._columns[col];\r\n\r\n\t\tif (column.minWidth && width < column.minWidth)\r\n\t\t\twidth = column.minWidth;\r\n\t\telse if (width<this._settings.minColumnWidth)\r\n\t\t\twidth = this._settings.minColumnWidth;\t\t\r\n\r\n\t\tvar old = column.width;\r\n\t\tif (old !=width){\r\n\t\t\tif (col>=this._settings.leftSplit && col<this._rightSplit)\r\n\t\t\t\tthis._dtable_width += width-old;\r\n\t\t\t\r\n\t\t\tcolumn.width = width;\r\n\t\t\tif (column.node) //method can be called from onStructLoad\r\n\t\t\t\tcolumn.node.style.width = width+\"px\";\r\n\t\t\telse \r\n\t\t\t\treturn false;\r\n\r\n\t\t\tif(!skip_update)\r\n\t\t\t\tthis._updateColsSizeSettings();\r\n\r\n\t\t\tthis.callEvent(\"onColumnResize\", [column.id, width, old, !!by_user]);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\t_getRowHeight:function(row){\r\n\t\treturn (row.$height || this._settings.rowHeight)+(row.$subopen?row.$subHeight:0);\r\n\t},\r\n\t_getHeightByIndex:function(index){\r\n\t\tvar id = this.data.order[index];\r\n\t\tif (!id) return this._settings.rowHeight;\r\n\t\treturn this._getRowHeight(this.data.pull[id]);\r\n\t},\r\n\t_getHeightByIndexSumm:function(index1, index2){\r\n\t\tif (this._settings.fixedRowHeight)\r\n\t\t\treturn (index2-index1)*this._settings.rowHeight;\r\n\t\telse {\r\n\t\t\tvar summ = 0;\r\n\t\t\tfor (; index1<index2; index1++)\r\n\t\t\t\tsumm += this._getHeightByIndex(index1);\r\n\t\t\treturn summ;\r\n\t\t}\r\n\t},\r\n\t_cellPosition:function(row, column){\r\n\t\tvar top;\r\n\t\tif (arguments.length == 1){\r\n\t\t\tcolumn = row.column; row = row.row;\r\n\t\t}\r\n\t\tvar item = this.getItem(row);\r\n\t\tvar config = this.getColumnConfig(column);\r\n\t\tvar left = 0;\r\n\t\tvar parent = 0;\r\n\r\n\t\tfor (var index=0; index < this._columns.length; index++){\r\n\t\t\tif (index == this._settings.leftSplit || index == this._rightSplit)\r\n\t\t\t\tleft = 0;\r\n\t\t\tvar leftcolumn = this._columns[index];\r\n\t\t\tif (leftcolumn.id == column){\r\n\t\t\t\tvar split_column = index<this._settings.leftSplit ? 0 :( index >= this._rightSplit ? 2 : 1);\r\n\t\t\t\tparent = this._body.childNodes[split_column].firstChild;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tleft += leftcolumn.width;\r\n\t\t}\r\n\r\n\r\n\t\tif(this.getIndexById(row) < this._settings.topSplit)\r\n\t\t\ttop = this._getHeightByIndexSumm(0,  this.getIndexById(row));\r\n\t\telse\r\n\t\t\ttop = this._getHeightByIndexSumm((this._render_scroll_top||0)-this._settings.topSplit,  this.getIndexById(row)) + (this._render_scroll_shift||0);\r\n\r\n\t\treturn {\r\n\t\t\tparent: parent,\r\n\t\t\ttop:\ttop,\r\n\t\t\tleft:\tleft,\r\n\t\t\twidth:\tconfig.width,\r\n\t\t\theight:\t(item.$height || this._settings.rowHeight)\r\n\t\t};\r\n\t},\r\n\t_get_total_height:function(){\r\n\t\tvar pager  = this._settings.pager;\r\n\t\tvar start = 0;\r\n\t\tvar max = this.data.order.length;\r\n\t\t\r\n\t\tif (pager){\r\n\t\t\tstart = pager.size * pager.page;\r\n\t\t\tmax = Math.min(max, start + pager.size);\r\n\t\t\tif (pager.level){\r\n\t\t\t\tstart = this.data.$min;\r\n\t\t\t\tmax = this.data.$max;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this._getHeightByIndexSumm(start, max);\r\n\t},\r\n\tsetRowHeight:function(rowId, height){\r\n\t\tif (isNaN(height)) return;\r\n\t\tif (height<this._settings.minColumnHeight)\r\n\t\t\theight = this._settings.minColumnHeight;\r\n\r\n\t\tvar item = this.getItem(rowId);\r\n\t\tvar old_height = item.$height||this._settings.rowHeight;\r\n\r\n\t\tif (old_height != height){\r\n\t\t\titem.$height = height;\r\n\t\t\tthis.config.fixedRowHeight = false;\r\n\t\t\tthis.render();\r\n\t\t\tthis.callEvent(\"onRowResize\", [rowId, height, old_height]);\r\n\t\t}\r\n\t},\t\r\n\t_onscroll_y:function(value){\r\n\t\tthis._scrollTop = value;\r\n\t\tif (!this._settings.prerender){\r\n\t\t\tthis._check_rendered_cols();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tvar conts = this._body.childNodes;\r\n\t\t\tfor (var i = 0; i < conts.length; i++){\r\n\t\t\t\tconts[i].scrollTop = value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (webix.env.$customScroll) webix.CustomScroll._update_scroll(this._body);\r\n\t\tthis.callEvent(\"onScrollY\",[]);\r\n\t\tthis.callEvent(\"onAfterScroll\",[]);\r\n\t},\r\n\t_onscroll_x:function(value){ \r\n\t\tthis._body.childNodes[1].scrollLeft = this._scrollLeft = value;\r\n\t\tif (this._settings.header)\r\n\t\t\tthis._header.childNodes[1].scrollLeft = value;\r\n\t\tif (this._settings.footer)\r\n\t\t\tthis._footer.childNodes[1].scrollLeft = value;\r\n\t\tif (this._settings.prerender===false)\r\n\t\t\tthis._check_rendered_cols(this._minimize_dom_changes?false:true);\r\n\r\n\t\tif (webix.env.$customScroll) webix.CustomScroll._update_scroll(this._body);\r\n\t\tthis.callEvent(\"onScrollX\",[]);\r\n\t\tthis.callEvent(\"onAfterScroll\",[]);\r\n\t},\r\n\t_get_x_range:function(full){\r\n\t\tif (full) return [0,this._columns.length];\r\n\r\n\t\tvar t = this._scrollLeft;\r\n\t\t\r\n\t\tvar xind = this._settings.leftSplit;\r\n\t\twhile (t>0){\r\n\t\t\tt-=this._columns[xind].width;\r\n\t\t\txind++;\r\n\t\t}\r\n\t\tvar xend = xind;\r\n\t\tif (t) xind--;\r\n\r\n\t\tt+=this._center_width;\r\n\t\twhile (t>0 && xend<this._rightSplit){\r\n\t\t\tt-=this._columns[xend].width;\r\n\t\t\txend++;\r\n\t\t}\r\n\r\n\t\treturn [xind, xend];\r\n\t},\r\n\tgetVisibleCount:function(){\r\n\t\treturn Math.floor((this._dtable_offset_height) / this.config.rowHeight);\r\n\t},\r\n\t//returns info about y-scroll position\r\n\t_get_y_range:function(full){\r\n\t\tvar t = this._scrollTop;\r\n\t\tvar start = 0; \r\n\t\tvar end = this.count();\r\n\r\n\t\t//apply pager, if defined\r\n\t\tvar pager = this._settings.pager;\r\n\t\tif (pager){\r\n\t\t\tvar start = pager.page*pager.size;\r\n\t\t\tvar end = Math.min(end, start+pager.size);\r\n\t\t\tif (pager.level){\r\n\t\t\t\tstart = this.data.$min;\r\n\t\t\t\tend = this.data.$max;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//in case of autoheight - request full rendering\r\n\t\tif (this._settings.autoheight)\r\n\t\t\treturn [start, end, 0];\r\n\r\n\t\t\r\n\t\t\r\n\r\n\t\tif (full) return [start, end, 0];\r\n\t\tvar xind = start;\r\n\t\tvar rowHeight = this._settings.fixedRowHeight?this._settings.rowHeight:0;\r\n\t\tif (rowHeight){\r\n\t\t\tvar dep = Math.ceil(t/rowHeight);\r\n\t\t\tt -= dep*rowHeight;\r\n\t\t\txind += dep;\r\n\t\t} else\r\n\t\t\twhile (t>0){\r\n\t\t\t\tt-=this._getHeightByIndex(xind);\r\n\t\t\t\txind++;\r\n\t\t\t}\r\n\r\n\t\tvar topSplit = this._settings.topSplit;\r\n\t\tif (topSplit)\r\n\t\t\txind += topSplit;\r\n\r\n\t\t//how much of the first cell is scrolled out\r\n\t\tvar xdef = (xind>0 && t)?-(this._getHeightByIndex(xind-1)+t):0;\r\n\t\tvar xend = xind;\r\n\t\tif (t) xind--;\r\n\r\n\t\tt+=(this._dtable_offset_height||this._content_height) - (this._top_split_height||0);\r\n\r\n\r\n\r\n\t\tif (rowHeight){\r\n\t\t\tvar dep = Math.ceil(t/rowHeight);\r\n\t\t\tt-=dep*rowHeight;\r\n\t\t\txend+=dep;\r\n\r\n\t\t\tif (xend>end)\r\n\t\t\t\txend = end;\r\n\t\t} else\r\n\t\t\twhile (t>0 && xend<end){\r\n\t\t\t\tt-=this._getHeightByIndex(xend);\r\n\t\t\t\txend++;\r\n\t\t\t}\r\n\r\n\t\treturn [xind, xend, xdef];\r\n\t},\r\n\t_repaint_single_row:function(id){\r\n\t\tvar item = this.getItem(id);\r\n\t\tvar rowindex = this.getIndexById(id);\r\n\r\n\t\tvar state = this._get_y_range();\r\n\t\t//row not visible\r\n\t\tif (rowindex < state[0] || rowindex >= state[1]) return;\r\n\r\n\t\t//get visible column\r\n\t\tvar x_range = this._get_x_range();\r\n\t\tfor (var i=0; i<this._columns.length; i++){\r\n\t\t\tvar column = this._columns[i];\r\n\r\n\t\t\t//column not visible\r\n\t\t\tif (i < this._rightSplit && i >= this._settings.leftSplit && ( i<x_range[0] || i > x_range[1]))\r\n\t\t\t\tcolumn._yr0 = -999; //ensure that column will not be reused\r\n\r\n\t\t\tif (column.attached && column.node){\r\n\t\t\t\tvar node =  column.node.childNodes[rowindex-state[0]];\r\n\t\t\t\tvar value = this._getValue(item, this._columns[i], 0);\r\n\r\n\t\t\t\tnode.innerHTML = value;\r\n\t\t\t\tnode.className = this._getCss(this._columns[i], value, item, id);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_check_rendered_cols:function(x_scroll, force){\r\n\t\tif (!this._columns.length) return;\r\n\r\n\t\tif (force)\r\n\t\t\tthis._clearColumnCache();\r\n\r\n\t\tif (webix.debug_render)\r\n\t\t\twebix.log(\"Render: \"+this.name+\"@\"+this._settings.id);\r\n\r\n\r\n\t\tvar xr = this._get_x_range(this._settings.prerender);\r\n\t\tvar yr = this._get_y_range(this._settings.prerender === true);\r\n\r\n\t\tif (x_scroll){\r\n\t\t\tfor (var i=this._settings.leftSplit; i<xr[0]; i++)\r\n\t\t\t\tthis._hideColumn(i, force);\r\n\t\t\tfor (var i=xr[1]; i<this._rightSplit; i++)\r\n\t\t\t\tthis._hideColumn(i, force);\r\n\t\t}\r\n\r\n\t\tthis._render_full_rows = [];\r\n\t\tvar rendered = 0;\r\n\r\n\t\tfor (var i=0; i<this._settings.leftSplit; i++)\r\n\t\t\trendered += this._renderColumn(i,yr,force);\r\n\t\tfor (var i=xr[0]; i<xr[1]; i++)\r\n\t\t\trendered += this._renderColumn(i,yr,force, i == xr[0]);\r\n\t\tfor (var i=this._rightSplit; i<this._columns.length; i++)\r\n\t\t\trendered += this._renderColumn(i,yr,force);\r\n\r\n\t\tthis._check_and_render_full_rows(yr[0], yr[1], force);\r\n\t\tthis._check_load_next(yr);\r\n\t},\r\n\t_delete_full_rows:function(start, end){\r\n\t\tthis._rows_cache_start = start;\r\n\t\tthis._rows_cache_end = end;\r\n\r\n\t\twebix.html.remove(this._rows_cache);\r\n\t\tthis._rows_cache=[];\r\n\t},\r\n\t_check_and_render_full_rows:function(start, end, force){\r\n\t\tif (this._rows_body)\r\n\t\t\tthis._rows_body.style.top = this._render_scroll_shift+\"px\";\r\n\r\n\t\tif (!force && start == this._rows_cache_start && end == this._rows_cache_end)\r\n\t\t\treturn;\r\n\r\n\t\tthis._delete_full_rows(start, end);\r\n\r\n\t\tif (this._render_full_row_some)\r\n\t\t\tthis._render_full_row_some = false;\r\n\t\telse return;\r\n\r\n\t\tfor (var i=0; i<this._render_full_rows.length; i++){\r\n\t\t\tvar info = this._render_full_rows[i];\r\n\t\t\tvar item = this.getItem(info.id);\r\n\r\n\t\t\tvar value;\r\n\t\t\tif (typeof item.$row == \"function\"){\r\n\t\t\t\tvalue = item.$row.call(this, item, this.type);\r\n\t\t\t} else {\r\n\t\t\t\tvalue = this._getValue(item, this.getColumnConfig(item.$row), i);\r\n\t\t\t}\r\n\r\n\t\t\tvar row = this._rows_cache[i] = webix.html.create(\"DIV\", null , value);\r\n\t\t\trow.className = \"webix_cell \"+(item.$sub ? (\"webix_dtable_sub\"+(this._settings.subview?\"view\":\"row\")) : \"webix_dtable_colrow\");\r\n\t\t\trow.setAttribute(\"column\", 0);\r\n\t\t\trow.setAttribute(\"row\", info.index);\r\n\r\n\t\t\tvar height = (item.$height || this._settings.rowHeight);\r\n\t\t\tif (item.$subopen)\r\n\t\t\t\trow.style.height = item.$subHeight+\"px\";\r\n\t\t\telse \r\n\t\t\t\trow.style.height = height +\"px\";\r\n\r\n\t\t\trow.style.paddingRight = webix.ui.scrollSize+\"px\";\r\n\t\t\trow.style.top =  info.top + (item.$subopen ? height-1 : -1) + \"px\";\r\n\r\n\t\t\tif (!this._rows_body){\r\n\t\t\t\tthis._rows_body = webix.html.create(\"DIV\");\r\n\t\t\t\tthis._rows_body.style.position = \"relative\";\r\n\t\t\t\tthis._rows_body.style.top = this._render_scroll_shift+\"px\";\r\n\t\t\t\tthis._body.appendChild(this._rows_body);\r\n\t\t\t}\r\n\t\t\tthis._rows_body.appendChild(row);\r\n\t\t\tthis.attachEvent(\"onSyncScroll\", function(x,y,t){\r\n\t\t\t\twebix.Touch._set_matrix(this._rows_body,0,y,t);\r\n\t\t\t});\r\n\t\t\tif (this._settings.subview)\r\n\t\t\t\tthis.callEvent(\"onSubViewRender\", [item, row]);\r\n\t\t}\r\n\t},\r\n\t_check_load_next:function(yr){\r\n\t\tvar paging = this._settings.pager;\r\n\t\tvar fetch = this._settings.datafetch;\r\n\t\t\r\n\t\tvar direction = (!this._last_valid_render_pos || yr[0] >= this._last_valid_render_pos);\r\n\t\tthis._last_valid_render_pos = yr[0];\r\n\r\n\t\tif (this._data_request_flag){\r\n\t\t\tif (paging && (!fetch || fetch >= paging.size))\r\n\t\t\t\tif (this._check_rows([0,paging.size*paging.page], Math.max(fetch, paging.size), true)) \r\n\t\t\t\t\treturn (this._data_request_flag = null);\r\n\t\t\t\t\t\r\n\t\t\tthis._run_load_next(this._data_request_flag, direction);\r\n\t\t\tthis._data_request_flag = null;\r\n\t\t} else {\r\n\t\t\tif (this._settings.loadahead)\r\n\t\t\t\tvar check = this._check_rows(yr, this._settings.loadahead, direction);\r\n\t\t}\r\n\t},\r\n\t_check_rows:function(view, count, dir){\r\n\t\tvar start = view[1];\r\n\t\tvar end = start+count;\r\n\t\tif (!dir){\r\n\t\t\tstart = view[0]-count;\r\n\t\t\tend = view[0];\r\n\t\t}\r\n\r\n\t\tif (start<0) start = 0;\r\n\t\tend = Math.min(end, this.data.order.length-1);\r\n\r\n\t\tvar result = false;\t\t\t\r\n\t\tfor (var i=start; i<end; i++)\r\n\t\t\tif (!this.data.order[i]){\r\n\t\t\t\tif (!result)\r\n\t\t\t\t\tresult = { start:i, count:(end-start) };\r\n\t\t\t\telse {\r\n\t\t\t\t\tresult.last = i;\r\n\t\t\t\t\tresult.count = (i-start);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tif (result){\t\t\t\r\n\t\t\tthis._run_load_next(result, dir);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t},\r\n\t_run_load_next:function(conf, direction){\r\n\t\tvar count = Math.max(conf.count, (this._settings.datafetch||this._settings.loadahead||0));\r\n\t\tvar start = direction?conf.start:(conf.last - count+1);\r\n\t\t\r\n\t\tif (this._maybe_loading_already(conf.count, conf.start)) return;\r\n\t\tthis.loadNext(count, start);\r\n\t},\r\n\t// necessary for safari only\r\n\t_preserveScrollTarget: function(columnNode){\r\n\t\tif (webix.env.isSafari){\r\n\t\t\tvar i, node, newNode, scroll,\r\n\t\t\t\tdir = [this._x_scroll, this._y_scroll];\r\n\r\n\t\t\tfor(i = 0; i < 2; i++){\r\n\t\t\t\tscroll = dir[i];\r\n\t\t\t\tif(scroll && scroll._scroll_trg && scroll._scroll_trg.parentNode == columnNode){\r\n\t\t\t\t\tnode = scroll._scroll_trg;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(node){\r\n\t\t\t\tif(this._scrollWheelTrg)\r\n\t\t\t\t\twebix.html.remove(this._scrollWheelTrg);\r\n\t\t\t\tthis._scrollWheelTrg = node;\r\n\t\t\t\tnewNode  = node.cloneNode(true); // required for _hideColumn\r\n\t\t\t\tnode.parentNode.insertBefore(newNode, node);\r\n\t\t\t\tthis._scrollWheelTrg.style.display = \"none\";\r\n\t\t\t\tthis._body.appendChild(this._scrollWheelTrg);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_hideColumn:function(index){\r\n\t\tvar col = this._columns[index];\r\n\r\n\t\t// preserve target node for Safari wheel event\r\n\t\tthis._preserveScrollTarget(col.node);\r\n\t\twebix.html.remove(col.node);\r\n\t\tcol.attached = false;\r\n\t},\r\n\t_clearColumnCache:function(){\r\n\t\tfor (var i = 0; i < this._columns.length; i++)\r\n\t\t\tthis._columns[i]._yr0 = -1;\r\n\r\n\t\tif (this._rows_cache.length){\r\n\t\t\twebix.html.remove(this._rows_cache);\r\n\t\t\tthis._rows_cache = [];\r\n\t\t}\r\n\t},\r\n\tgetText:function(row_id, column_id){\r\n\t\treturn this._getValue(this.getItem(row_id), this.getColumnConfig(column_id), 0);\r\n\t},\r\n\t_getCss:function(config, value, item, id){\r\n\t\tvar css = \"webix_cell\";\r\n\t\t\t\t\r\n\t\tif (config.cssFormat){\r\n\t\t\tvar per_css = config.cssFormat(value, item, id, config.id);\r\n\t\t\tif (per_css){\r\n\t\t\t\tif (typeof per_css == \"object\")\r\n\t\t\t\t\tcss+= \" \"+webix.html.createCss(per_css);\r\n\t\t\t\telse\r\n\t\t\t\t\tcss+=\" \"+per_css;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar row_css = item.$css;\r\n\t\tif (row_css){\r\n\t\t\tif (typeof row_css == \"object\")\r\n\t\t\t\titem.$css = row_css = webix.html.createCss(row_css);\r\n\t\t\tcss+=\" \"+row_css;\r\n\t\t}\r\n\r\n\t\tvar mark = this.data._marks[id];\r\n\t\tif (mark){\r\n\t\t\tif (mark.$css)\r\n\t\t\t\tcss+=\" \"+mark.$css;\r\n\t\t\tif (mark.$cellCss){\r\n\t\t\t\tvar mark_marker = mark.$cellCss[config.id];\r\n\t\t\t\tif (mark_marker)\r\n\t\t\t\t\tcss+=\" \"+mark_marker;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (item.$cellCss){\r\n\t\t\tvar css_marker = item.$cellCss[config.id];\r\n\t\t\tif (css_marker){\r\n\t\t\t\tif (typeof css_marker == \"object\")\r\n\t\t\t\t\tcss_marker = webix.html.createCss(css_marker);\r\n\t\t\t\tcss += \" \"+css_marker;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//cell-selection\r\n\t\tvar selected = this.data.getMark(item.id,\"webix_selected\");\r\n\t\tif ((selected && (selected.$row || selected[config.id]))||config.$selected) css+=this._select_css;\r\n\r\n\t\treturn css;\r\n\t},\r\n\t_getValue:function(item, config, i){\r\n\t\tif (!item)\r\n\t\t\treturn \"\";\r\n\r\n\t\tvar value;\r\n\r\n\t\tvalue = item[config.id];\r\n\t\tif (value === webix.undefined || value === null)\r\n\t\t\tvalue = \"\";\r\n\t\telse if (config.format)\r\n\t\t\tvalue = config.format(value);\r\n\t\tif (config.template)\r\n\t\t\tvalue = config.template(item, this.type, value, config, i);\r\n\r\n\t\treturn value;\r\n\t},\r\n\t//we don't use render-stack, but still need a place for common helpers\r\n\t//so creating a simple \"type\" holder\r\n\ttype:{\r\n\t\tcheckbox:function(obj, common, value, config){\r\n\t\t\tvar checked = (value == config.checkValue) ? 'checked=\"true\"' : '';\r\n\t\t\treturn \"<input class='webix_table_checkbox' type='checkbox' \"+checked+\">\";\r\n\t\t},\r\n\t\tradio:function(obj, common, value, config){\r\n\t\t\tvar checked = (value == config.checkValue) ? 'checked=\"true\"' : '';\r\n\t\t\treturn \"<input class='webix_table_radio' type='radio' \"+checked+\">\";\r\n\t\t},\r\n\t\teditIcon:function(){\r\n\t\t\treturn \"<span class='webix_icon fa-pencil'></span>\";\r\n\t\t},\r\n\t\ttrashIcon:function(){\r\n\t\t\treturn \"<span class='webix_icon fa-trash'></span>\";\r\n\t\t}\r\n\t},\r\n\ttype_setter:function(value){\r\n\t\tif(!this.types || !this.types[value])\r\n\t\t\twebix.type(this, value);\r\n\t\telse {\r\n\t\t\tthis.type = webix.clone(this.types[value]);\r\n\t\t\tif (this.type.css) \r\n\t\t\t\tthis._contentobj.className+=\" \"+this.type.css;\r\n\t\t}\r\n\t\tif (this.type.on_click)\r\n\t\t\twebix.extend(this.on_click, this.type.on_click);\r\n\r\n\t\treturn value;\r\n\t},\r\n\t_renderColumn:function(index,yr,force, single){\r\n\t\tvar col = this._columns[index];\r\n\t\tif (!col.attached){\r\n\t\t\tvar split_column = index<this._settings.leftSplit ? 0 :( index >= this._rightSplit ? 2 : 1);\r\n\t\t\tthis._body.childNodes[split_column].firstChild.appendChild(col.node);\r\n\t\t\tcol.attached = true;\r\n\t\t\tcol.split = split_column;\r\n\t\t}\r\n\r\n\t\tthis._render_scroll_top = yr[0];\r\n\t\tthis._render_scroll_shift = 0;\r\n\t\tthis._render_scroll_diff = yr[2];\r\n\r\n\t\t//if columns not aligned during scroll - set correct scroll top value for each column\r\n\t\tif (this._settings.scrollAlignY){\r\n\t\t\tif ((yr[1] == this.data.order.length) || (this.data.$pagesize && yr[1] % this.data.$pagesize === 0 )){\r\n\t\t\t\tcol.node.style.top = (this._render_scroll_shift = yr[2])+\"px\";\r\n\t\t\t } else if (col._yr2)\r\n\t\t\t\tcol.node.style.top = \"0px\";\r\n\t\t} else {\r\n\t\t\tthis._render_scroll_shift = yr[2];\r\n\t\t\tif (yr[2] != col._yr2){\r\n\t\t\t\tcol.node.style.top = yr[2]+\"px\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!force  && (col._yr0 == yr[0] && col._yr1 == yr[1]) && (!this._settings.topSplit || col._render_scroll_shift==this._render_scroll_shift)) return 0;\r\n\r\n\t\tvar html=\"\";\r\n\t\tvar config = this._settings.columns[index];\r\n\t\tvar state = { \r\n\t\t\trow: this._settings.rowHeight,\r\n\t\t\ttotal: 0,\r\n\t\t\tsingle: single\r\n\t\t};\r\n\r\n\t\tfor (var i=0; i<this._settings.topSplit; i++)\r\n\t\t\thtml += this._render_single_cell(i, config, yr, state, -this._render_scroll_shift);\r\n\r\n\t\tfor (var i = Math.max(yr[0], this._settings.topSplit); i < yr[1]; i++)\r\n\t\t\thtml += this._render_single_cell(i, config, yr, state, -1);\r\n\r\n\t\t// preserve target node for Safari wheel event\r\n\t\tthis._preserveScrollTarget(col.node);\r\n\r\n\t\tcol.node.innerHTML = html;\r\n\t\tcol._yr0=yr[0];\r\n\t\tcol._yr1=yr[1];\r\n\t\tcol._yr2=yr[2];\r\n\t\tcol._render_scroll_shift=this._render_scroll_shift;\r\n\t\treturn 1;\r\n\t},\r\n\t_render_single_cell:function(i, config, yr, state, top){\r\n\t\tvar id = this.data.order[i];\r\n\t\tvar item = this.data.getItem(id);\r\n\t\tvar html = \"\";\r\n\r\n\t\t\r\n\t\tvar value;\r\n\t\tif (item){\r\n\t\t\tvar aria = \" role='gridcell' aria-rowindex='\"+(i+1)+\"' aria-colindex='\"+(this.getColumnIndex(config.id)+1)+\"'\"+\r\n\t\t\t\t(item.$count || item.$sub?(\" aria-expanded='\"+(item.open || item.$subopen?\"true\":\"false\")+\"'\"):\"\")+\r\n\t\t\t\t(item.$level?\" aria-level='\"+item.$level+\"'\":\"\");\r\n\r\n\t\t\tif (state.single && item.$row){\r\n\t\t\t\tthis._render_full_row_some = true;\r\n\t\t\t\tthis._render_full_rows.push({ top:state.total, id:item.id, index:i});\r\n\t\t\t\tif (!item.$sub){\r\n\t\t\t\t\tstate.total += state.row;\r\n\t\t\t\t\treturn \"<div\"+aria+\" class='webix_cell'></div>\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar value = this._getValue(item, config, i);\r\n\t\t\tvar css = this._getCss(config, value, item, id);\r\n\t\t\t\r\n\t\t\tif(css.indexOf(\"select\") !==-1 ) aria += \" aria-selected='true' tabindex='0'\";\r\n\t\t\t\r\n\t\t\tvar margin = item.$subopen ? \"margin-bottom:\"+item.$subHeight+\"px;\" : \"\";\r\n\t\t\tif (top>=0){\r\n\t\t\t\tif (top>0) margin+=\"top:\"+top+\"px;'\";\r\n\t\t\t\tcss = \"webix_topcell \"+css;\r\n\t\t\t}\r\n\t\t\tif (item.$height){\r\n\t\t\t\thtml = \"<div\"+aria+\" class='\"+css+\"' style='height:\"+item.$height+\"px;\"+margin+\"'>\"+value+\"</div>\";\r\n\t\t\t\tstate.total += item.$height - state.row;\r\n\t\t\t} else {\r\n\t\t\t\thtml = \"<div\"+aria+\" class='\"+css+\"'\"+(margin?\" style='\"+margin+\"'\":\"\")+\">\"+value+\"</div>\";\r\n\t\t\t}\r\n\r\n\t\t\tif (margin)\r\n\t\t\t\tstate.total += item.$subHeight;\r\n\r\n\t\t} else {\r\n\t\t\thtml = \"<div role='gridcell' class='webix_cell'></div>\";\r\n\t\t\tif (!this._data_request_flag)\r\n\t\t\t\tthis._data_request_flag = {start:i, count:yr[1]-i};\r\n\t\t\telse\r\n\t\t\t\tthis._data_request_flag.last = i;\r\n\t\t}\r\n\t\tstate.total += state.row;\r\n\t\treturn html;\r\n\t},\r\n\t_set_split_sizes_y:function(){\r\n\t\tif (!this._columns.length || isNaN(this._content_height*1)) return;\r\n\t\twebix.debug_size_box(this, [\"y-sizing\"], true);\r\n\r\n\t\tvar wanted_height = this._dtable_height+(this._scrollSizeX?this._scrollSizeX:0);\r\n\t\tif ((this._settings.autoheight || this._settings.yCount) && this.resize())\r\n\t\t\treturn;\r\n\r\n\t\tthis._y_scroll.sizeTo(this._content_height, this._header_height, this._footer_height);\r\n\t\tthis._y_scroll.define(\"scrollHeight\", wanted_height);\r\n\r\n\t\tthis._top_split_height = this._settings.topSplit * this._settings.rowHeight;\r\n\t\tthis._dtable_offset_height =  Math.max(0,this._content_height-this._scrollSizeX-this._header_height-this._footer_height);\r\n\t\tfor (var i = 0; i < 3; i++){\r\n\r\n\t\t\tthis._body.childNodes[i].style.height = this._dtable_offset_height+\"px\";\r\n\t\t\tif (this._settings.prerender)\r\n\t\t\t\tthis._body.childNodes[i].firstChild.style.height = this._dtable_height+\"px\";\r\n\t\t\telse\r\n\t\t\t\tthis._body.childNodes[i].firstChild.style.height = this._dtable_offset_height+\"px\";\r\n\t\t}\r\n\t\t//prevent float overflow, when we have split and very small\r\n\t\tthis._header.style.height = this._header_height+\"px\";\r\n\t},\r\n\t_set_split_sizes_x:function(){\r\n\t\tif (!this._columns.length) return;\r\n\t\tif (webix.debug_size) webix.log(\"  - \"+this.name+\"@\"+this._settings.id+\" X sizing\");\r\n\r\n\t\tvar index = 0; \r\n\t\tthis._left_width = 0;\r\n\t\tthis._right_width = 0;\r\n\t\tthis._center_width = 0;\r\n\r\n\t\twhile (index<this._settings.leftSplit){\r\n\t\t\tthis._left_width += this._columns[index].width;\r\n\t\t\tindex++;\r\n\t\t}\r\n\r\n\t\tindex = this._columns.length-1;\r\n\t\t\r\n\t\twhile (index>=this._rightSplit){\r\n\t\t\tthis._right_width += this._columns[index].width;\r\n\t\t\tindex--;\r\n\t\t}\r\n\r\n\t\tif (!this._content_width) return; \r\n\r\n\t\tif (this._settings.autowidth && this.resize())\r\n\t\t\treturn;\r\n\r\n\t\tthis._center_width = this._content_width - this._right_width - this._left_width - this._scrollSizeY;\r\n\r\n\t\tthis._body.childNodes[1].firstChild.style.width = this._dtable_width+\"px\";\r\n\r\n\t\tthis._body.childNodes[0].style.width = this._left_width+\"px\";\r\n\t\tthis._body.childNodes[1].style.width = this._center_width+\"px\";\r\n\t\tthis._body.childNodes[2].style.width = this._right_width+\"px\";\r\n\t\tthis._header.childNodes[0].style.width = this._left_width+\"px\";\r\n\t\tthis._header.childNodes[1].style.width = this._center_width+\"px\";\r\n\t\tthis._header.childNodes[2].style.width = this._right_width+\"px\";\r\n\t\tthis._footer.childNodes[0].style.width = this._left_width+\"px\";\r\n\t\tthis._footer.childNodes[1].style.width = this._center_width+\"px\";\r\n\t\tthis._footer.childNodes[2].style.width = this._right_width+\"px\";\r\n\r\n\t\tvar delta = this._center_width - this._dtable_width;\r\n\t\tif (delta<0) delta=0; //negative header space has not sense\r\n\r\n\t\tif (delta != this._header_fix_width){\r\n\t\t\tthis._header_fix_width = delta;\r\n\t\t\tthis._size_header_footer_fix();\r\n\t\t}\r\n\r\n\t\t// temp. fix: Chrome [DIRTY]\r\n\t\tif (webix.env.isWebKit){\r\n\t\t\tvar w = this._body.childNodes[0].offsetWidth;\r\n\t\t\tw = this._body.childNodes[1].offsetWidth;\r\n\t\t\tw = this._body.childNodes[1].firstChild.offsetWidth;\r\n\t\t\tw = this._body.childNodes[2].offsetWidth;\r\n\t\t}\r\n\r\n\t\tthis._x_scroll.sizeTo(this._content_width-this._scrollSizeY);\r\n\t\tthis._x_scroll.define(\"scrollWidth\", this._dtable_width+this._left_width+this._right_width);\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tif ((this._settings.autoheight || this._settings.yCount) && this._settings.columns){\r\n\t\t\t//if limit set - use it\r\n\t\t\tvar desired = ((this._settings.yCount || 0) * this._settings.rowHeight);\r\n\t\t\t//else try to use actual rendered size\r\n\t\t\t//if component invisible - this is not valid, so fallback to all rows\r\n\t\t\tif (!desired) desired =  this.isVisible() ? this._dtable_height : (this.count() * this._settings.rowHeight);\r\n\t\t\t//add scroll and check minHeight limit\r\n\t\t\tthis._settings.height = Math.max(desired+(this._scrollSizeX?this._scrollSizeX:0)-1, (this._settings.minHeight||0))+this._header_height+this._footer_height;\r\n\t\t}\r\n\t\tif (this._settings.autowidth && this._settings.columns)\r\n\t\t\tthis._settings.width = Math.max(this._dtable_width+this._left_width+this._right_width+this._scrollSizeY,(this._settings.minWidth||0));\r\n\r\n\t\t\r\n\t\tvar minwidth = this._left_width+this._right_width+this._scrollSizeY;\r\n\t\tvar sizes = webix.ui.view.prototype.$getSize.call(this, dx, dy);\r\n\r\n\r\n\t\tsizes[0] = Math.max(sizes[0]||minwidth);\r\n\t\treturn sizes;\r\n\t},\r\n\t_restore_scroll_state:function(){\r\n\t\tif (this._x_scroll){\r\n\t\t\tvar state = this.getScrollState();\r\n\t\t\tthis._x_scroll._last_scroll_pos = this._y_scroll._last_scroll_pos = -1;\r\n\t\t\tthis.scrollTo(state.x, state.y);\r\n\t\t}\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tvar oldw = this._content_width;\r\n\t\tvar oldh = this._content_height;\r\n\r\n\t\tif (webix.ui.view.prototype.$setSize.apply(this, arguments)){\r\n\t\t\tif (this._dtable_fully_ready){\r\n\t\t\t\tthis.callEvent(\"onResize\",[this._content_width, this._content_height, oldw, oldh]);\r\n\t\t\t\tthis._set_split_sizes_x();\r\n\t\t\t\tthis._set_split_sizes_y();\r\n\t\t\t}\r\n\t\t\tthis.render();\r\n\t\t}\r\n\t},\r\n\t_on_header_click:function(column){\r\n\t\tvar col = this.getColumnConfig(column);\r\n\t\tif (!col.sort) return;\r\n\r\n\t\tvar order = 'asc';\r\n\t\tif (col.id == this._last_sorted)\r\n\t\t\torder = this._last_order == \"asc\" ? \"desc\" : \"asc\";\r\n\t\t\r\n\t\tthis._sort(col.id, order, col.sort);\r\n\t},\r\n\tmarkSorting:function(column, order){\r\n\t\tif (!this._sort_sign)\r\n\t\t\tthis._sort_sign = webix.html.create(\"DIV\");\r\n\t\t\r\n\t\tvar parent = this._sort_sign.parentNode;\r\n\t\tif(parent){\r\n\t\t\tparent.removeAttribute(\"aria-sort\");\r\n\t\t\tparent.removeAttribute(\"tabindex\");\r\n\t\t}\r\n\t\twebix.html.remove(this._sort_sign);\r\n\r\n\t\tif (order){\r\n\t\t\tvar cell = this._get_header_cell(this.getColumnIndex(column));\r\n\t\t\tif (cell){\r\n\t\t\t\tthis._sort_sign.className = \"webix_ss_sort_\"+order;\r\n\t\t\t\tcell.style.position = \"relative\";\r\n\t\t\t\tcell.appendChild(this._sort_sign);\r\n\t\t\t\tcell.setAttribute(\"aria-sort\", order+\"ending\");\r\n\t\t\t\tcell.setAttribute(\"tabindex\", \"0\");\r\n\t\t\t}\r\n\r\n\t\t\tthis._last_sorted = column;\r\n\t\t\tthis._last_order = order;\r\n\t\t} else {\r\n\t\t\tthis._last_sorted = this._last_order = null;\r\n\t\t}\r\n\t},\r\n\tscroll_setter:function(mode){\r\n\t\tif (typeof mode == \"string\"){\r\n\t\t\tthis._settings.scrollX = (mode.indexOf(\"x\") != -1);\r\n\t\t\tthis._settings.scrollY = (mode.indexOf(\"y\") != -1);\r\n\t\t\treturn mode;\r\n\t\t} else \r\n\t\t\treturn (this._settings.scrollX = this._settings.scrollY = mode);\r\n\t},\r\n\t_get_header_cell:function(column){\r\n\t\tvar cells = this._header.getElementsByTagName(\"TD\");\r\n\t\tvar maybe = null;\r\n\t\tfor (var i = 0; i<cells.length; i++)\r\n\t\t\tif (cells[i].getAttribute(\"column\") == column && !cells[i].getAttribute(\"active_id\")){\r\n\t\t\t\tmaybe = cells[i].firstChild;\r\n\t\t\t\tif ((cells[i].colSpan||0) < 2) return maybe;\r\n\t\t\t}\r\n\t\treturn maybe;\r\n\t},\r\n\t_sort:function(col_id, direction, type){\r\n\t\tdirection = direction || \"asc\";\r\n\t\tthis.markSorting(col_id, direction);\r\n\r\n\t\tif (type == \"server\"){\r\n\t\t\tthis.loadNext(0, 0, {\r\n\t\t\t\t\"before\":function(){\r\n\t\t\t\t\tvar url = this.data.url;\r\n\t\t\t\t\tthis.clearAll();\r\n\t\t\t\t\tthis.data.url = url;\r\n\t\t\t\t}\r\n\t\t\t}, 0, 1);\r\n\t\t} else {\r\n\t\t\tif (type == \"text\"){\r\n\t\t\t\tthis.data.each(function(obj){ obj.$text = this.getText(obj.id, col_id); }, this);\r\n\t\t\t\ttype=\"string\"; col_id = \"$text\";\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof type == \"function\")\r\n\t\t\t\tthis.data.sort(type, direction);\r\n\t\t\telse\r\n\t\t\t\tthis.data.sort(col_id, direction, type || \"string\");\r\n\t\t}\r\n\t},\r\n\t_mouseEventCall: function( css_call, e, id, trg ) {\r\n\t\tvar functor, i, res;\r\n\t\tif (css_call.length){\r\n\t\t\tfor ( i = 0; i < css_call.length; i++) {\r\n\t\t\t\tfunctor = webix.toFunctor(css_call[i], this.$scope);\r\n\t\t\t\tres = functor.call(this,e,id,trg);\r\n\t\t\t\tif (res===false) return false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t//because we using non-standard rendering model, custom logic for mouse detection need to be used\r\n\t_mouseEvent:function(e,hash,name,pair){\r\n\t\te=e||event;\r\n\t\tvar trg=e.target||e.srcElement;\r\n\t\tif (this._settings.subview && this != webix.$$(trg)) return;\r\n\r\n\t\t//define some vars, which will be used below\r\n\t\tvar css = '',\r\n\t\t\tcss_call = [],\r\n\t\t\tfound = false,\r\n\t\t\tid = null, \r\n\t\t\tres,\r\n\t\t\ttrg=e.target||e.srcElement;\r\n\r\n\t\t//loop through all parents\r\n\t\twhile (trg && trg.parentNode && trg != this._viewobj.parentNode){\r\n\t\t\tvar trgCss = webix.html._getClassName(trg);\r\n\t\t\tif ((css = trgCss)) {\r\n\t\t\t\tcss = css.toString().split(\" \");\r\n\r\n\t\t\t\tfor (var i = css.length - 1; i >= 0; i--)\r\n\t\t\t\t\tif (hash[css[i]])\r\n\t\t\t\t\t\tcss_call.push(hash[css[i]]);\r\n\t\t\t}\r\n\r\n\t\t\tif (trg.parentNode.getAttribute && !id){\r\n\t\t\t\tvar column = trg.parentNode.getAttribute(\"column\") || trg.getAttribute(\"column\");\r\n\t\t\t\tif (column){ //we need to ignore TD - which is header|footer\r\n\t\t\t\t\tvar  isBody = trg.parentNode.tagName == \"DIV\";\r\n\t\t\t\t\t\r\n\t\t\t\t\t//column already hidden or removed\r\n\t\t\t\t\tif(!this._columns[column]) return;\r\n\t\t\t\t\t\r\n\t\t\t\t\tfound = true;\r\n\t\t\t\t\tif (isBody){\r\n\t\t\t\t\t\tvar index = trg.parentNode.getAttribute(\"row\") || trg.getAttribute(\"row\");\r\n\t\t\t\t\t\tif (!index){\r\n\t\t\t\t\t\t\tindex = webix.html.index(trg);\r\n\t\t\t\t\t\t\tif (index >= this._settings.topSplit) \r\n\t\t\t\t\t\t\t\tindex += this._columns[column]._yr0 - this._settings.topSplit;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis._item_clicked = id = { row:this.data.order[index], column:this._columns[column].id};\r\n\t\t\t\t\t\tid.toString = this._id_to_string;\r\n\t\t\t\t\t} else \r\n\t\t\t\t\t\tthis._item_clicked = id = { column:this._columns[column].id };\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t//some custom css handlers was found\r\n\t\t\t\t\tres = this._mouseEventCall(css_call, e, id, trg);\r\n\t\t\t\t\tif (res===false) return;\r\n\t\t\t\t\t\r\n\t\t\t\t\t//call inner handler\r\n\t\t\t\t\tif (isBody ){\r\n\t\t\t\t\t\tif(this.callEvent(\"on\"+name,[id,e,trg])&&pair){\r\n\t\t\t\t\t\t\tthis.callEvent(\"on\"+pair,[id,e,trg]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (name == \"ItemClick\"){\r\n\t\t\t\t\t\tvar isHeader = (trg.parentNode.parentNode.getAttribute(\"section\") == \"header\");\r\n\t\t\t\t\t\tif (isHeader && this.callEvent(\"onHeaderClick\", [id, e, trg]))\r\n\t\t\t\t\t \t\tthis._on_header_click(id.column);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcss_call = [];\r\n\t\t\t\t} \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttrg=trg.parentNode;\r\n\t\t}\r\n\t\tthis._mouseEventCall(css_call, e, id, this.$view);\r\n\t\treturn found;\t//returns true if item was located and event was triggered\r\n\t},\r\n\t\r\n\r\n\r\n\r\n\tshowOverlay:function(message){\r\n\t\tif (!this._datatable_overlay){\r\n\t\t\tvar t = webix.html.create(\"DIV\", { \"class\":\"webix_overlay\" }, \"\");\r\n\t\t\tthis._body.appendChild(t);\r\n\t\t\tthis._datatable_overlay = t;\r\n\t\t}\r\n\t\tthis._datatable_overlay.innerHTML = message;\r\n\t},\r\n\thideOverlay:function(){\r\n\t\tif (this._datatable_overlay){\r\n\t\t\twebix.html.remove(this._datatable_overlay);\r\n\t\t\tthis._datatable_overlay = null;\r\n\t\t}\r\n\t},\r\n\tmapCells: function(startrow, startcol, numrows, numcols, callback, getOnly) {\r\n\t\tif (startrow === null && this.data.order.length > 0) startrow = this.data.order[0];\r\n\t\tif (startcol === null) startcol = this.columnId(0);\r\n\t\tif (numrows === null) numrows = this.data.order.length;\r\n\t\tif (numcols === null) numcols = this._settings.columns.length;\r\n\r\n\t\tif (!this.exists(startrow)) return;\r\n\t\tstartrow = this.getIndexById(startrow);\r\n\t\tstartcol = this.getColumnIndex(startcol);\r\n\t\tif (startcol === null) return;\r\n\r\n\t\tfor (var i = 0; i < numrows && (startrow + i) < this.data.order.length; i++) {\r\n\t\t\tvar row_ind = startrow + i;\r\n\t\t\tvar row_id = this.data.order[row_ind];\r\n\t\t\tvar item = this.getItem(row_id);\r\n\t\t\tfor (var j = 0; j < numcols && (startcol + j) < this._settings.columns.length; j++) {\r\n\t\t\t\tvar col_ind = startcol + j;\r\n\t\t\t\tvar col_id = this.columnId(col_ind);\r\n\t\t\t\tvar result = callback(item[col_id], row_id, col_id, i, j);\r\n\t\t\t\tif (!getOnly)\r\n\t\t\t\t\titem[col_id] = result;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_call_onparse: function(driver, data){\r\n\t\tif (!this._settings.columns && driver.getConfig)\r\n\t\t\tthis.define(\"columns\", driver.getConfig(data));\r\n\t},\r\n\t_autoDetectConfig:function(){\r\n\t\tvar test = this.getItem(this.getFirstId());\r\n\t\tvar res = this._settings.columns = [];\r\n\t\tfor (var key in test)\r\n\t\t\tif (key != \"id\")\r\n\t\t\t\tres.push({ id:key, header:key[0].toUpperCase()+key.substr(1), sort:\"string\", editor:\"text\" });\r\n\t\tif (res.length)\r\n\t\t\tres[0].fillspace = true;\r\n\t\tif (typeof this._settings.select == \"undefined\")\r\n\t\t\tthis.define(\"select\", \"row\");\r\n\t}\r\n},webix.AutoTooltip, webix.Group, webix.DataMarks, webix.DataLoader,  webix.MouseEvents, webix.MapCollection, webix.ui.view, webix.EventSystem, webix.Settings);\r\n\r\nwebix.ui.datafilter = {\r\n\ttextWaitDelay:500,\r\n\t\"summColumn\":{\r\n\t\tgetValue:function(node){ return node.firstChild.innerHTML; },\r\n\t\tsetValue: function(){},\r\n\t\trefresh:function(master, node, value){ \r\n\t\t\tvar result = 0;\r\n\t\t\tmaster.mapCells(null, value.columnId, null, 1, function(value){\r\n\t\t\t\tvalue = value*1;\r\n\t\t\t\tif (!isNaN(value))\r\n\t\t\t\t\tresult+=value;\r\n\t\t\t}, true);\r\n\r\n\t\t\tif (value.format)\r\n\t\t\t\tresult = value.format(result);\r\n\t\t\tif (value.template)\r\n\t\t\t\tresult = value.template({value:result});\r\n\r\n\t\t\tnode.firstChild.innerHTML = result;\r\n\t\t},\r\n\t\ttrackCells:true,\r\n\t\trender:function(master, config){ \r\n\t\t\tif (config.template)\r\n\t\t\t\tconfig.template = webix.template(config.template);\r\n\t\t\treturn \"\"; \r\n\t\t}\r\n\t},\r\n\t\"masterCheckbox\":{\r\n\t\tgetValue:function(){},\r\n\t\tsetValue:function(){},\r\n\t\tgetHelper:function(node, config){\r\n\t\t\treturn {\r\n\t\t\t\tcheck:function(){ config.checked = false; node.onclick(); },\r\n\t\t\t\tuncheck:function(){ config.checked = true; node.onclick(); },\r\n\t\t\t\tisChecked:function(){ return config.checked; }\r\n\t\t\t};\r\n\t\t},\r\n\t\trefresh:function(master, node, config){\r\n\t\t\tnode.onclick = function(){\r\n\t\t\t\tthis.getElementsByTagName(\"input\")[0].checked = config.checked = !config.checked;\r\n\t\t\t\tvar column = master.getColumnConfig(config.columnId);\r\n\t\t\t\tvar checked = config.checked ? column.checkValue : column.uncheckValue;\r\n\t\t\t\tmaster.data.each(function(obj){\r\n\t\t\t\t\tif(obj){ //dyn loading\r\n\t\t\t\t\t\tobj[config.columnId] = checked;\r\n\t\t\t\t\t\tmaster.callEvent(\"onCheck\", [obj.id, config.columnId, checked]);\r\n\t\t\t\t\t\tthis.callEvent(\"onStoreUpdated\", [obj.id, obj, \"save\"]);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tmaster.refresh();\r\n\t\t\t};\r\n\t\t},\r\n\t\trender:function(master, config){ \r\n\t\t\treturn \"<input type='checkbox' \"+(config.checked?\"checked='1'\":\"\")+\">\"; \r\n\t\t}\r\n\t},\r\n\t\"textFilter\":{\r\n\t\tgetInputNode:function(node){ return node.firstChild.firstChild; },\r\n\t\tgetValue:function(node){ return this.getInputNode(node).value;  },\r\n\t\tsetValue:function(node, value){ this.getInputNode(node).value=value;  },\r\n\t\trefresh:function(master, node, value){\r\n\t\t\tnode.component = master._settings.id;\r\n\t\t\tmaster.registerFilter(node, value, this);\r\n\t\t\tnode._comp_id = master._settings.id;\r\n\t\t\tif (value.value && this.getValue(node) != value.value) this.setValue(node, value.value);\r\n\t\t\tnode.onclick = webix.html.preventEvent;\r\n\t\t\tvar evId = \"webix_keydown_filter_\"+master._settings.id+\"_\"+value.columnId;\r\n\t\t\twebix.event(node, \"keydown\", this._on_key_down, {id: evId});\r\n\t\t},\r\n\t\trender:function(master, config){\r\n\t\t\tif (this.init) this.init(config);\r\n\t\t  \tconfig.css = \"webix_ss_filter\"; \r\n\t\t  \treturn \"<input \"+(config.placeholder?('placeholder=\"'+config.placeholder+'\" '):\"\")+\"type='text'>\"; \r\n\t\t},\r\n\t\t_on_key_down:function(e, node, value){\r\n\t\t\tvar id = this._comp_id;\r\n\r\n\t\t\t//tabbing through filters must not trigger filtering\r\n\t\t\t//we can improve this functionality by preserving initial filter value\r\n\t\t\t//and comparing new one with it\r\n\t\t\tif ((e.which || e.keyCode) == 9) return;\r\n\r\n\t\t\tif (this._filter_timer) window.clearTimeout(this._filter_timer);\r\n\t\t\tthis._filter_timer=window.setTimeout(function(){\r\n\t\t\t\twebix.$$(id).filterByAll();\r\n\t\t\t},webix.ui.datafilter.textWaitDelay);\r\n\t\t}\r\n\t},\r\n\t\"selectFilter\":{\r\n\t\tgetInputNode:function(node){ return node.firstChild.firstChild; },\r\n\t\tgetValue:function(node){ return this.getInputNode(node).value;  },\r\n\t\tsetValue:function(node, value){ this.getInputNode(node).value=value; },\r\n\t\trefresh:function(master, node, value){\r\n\t\t\t//value - config from header { contet: }\r\n\t\t\tvalue.compare = value.compare || function(a,b){ return a == b; };\r\n\r\n\t\t\tnode.component = master._settings.id;\r\n\t\t\tmaster.registerFilter(node, value, this);\r\n\r\n\t\t\tvar data;\r\n\t\t\tvar options = value.options;\r\n\t\t\tif (options){\r\n\t\t\t\tif(typeof options ==\"string\"){\r\n\t\t\t\t\tdata = value.options = [];\r\n\t\t\t\t\twebix.ajax(options).then(webix.bind(function(data){\r\n\t\t\t\t\t\tvalue.options = data.json();\r\n\t\t\t\t\t\tthis.refresh(master, node, value);\r\n\t\t\t\t\t}, this));\r\n\t\t\t\t} else\r\n\t\t\t\t\tdata = options;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tdata = master.collectValues(value.columnId);\r\n\t\t\t\tdata.unshift({ id:\"\", value:\"\" });\r\n\t\t\t}\r\n\r\n\t\t\tvar optview = webix.$$(options);\r\n\t\t\tif(optview && optview.data && optview.data.getRange){\r\n\t\t\t\tdata = optview.data.getRange();\r\n\t\t\t}\r\n\t\t\t//slow in IE\r\n\t\t\t//http://jsperf.com/select-options-vs-innerhtml\r\n\r\n\t\t\tvar select = document.createElement(\"select\");\r\n\t\t\tfor (var i = 0; i < data.length; i++){\r\n\t\t\t\tvar option = document.createElement(\"option\");\r\n\t\t\t\toption.value = data[i].id;\r\n\t\t\t\toption.text = data[i].value;\r\n\t\t\t\tselect.add(option);\r\n\t\t\t}\r\n\r\n\t\t\tnode.firstChild.innerHTML = \"\";\r\n\t\t\tnode.firstChild.appendChild(select);\r\n\r\n\t\t\tif (value.value) this.setValue(node, value.value);\r\n\t\t\tnode.onclick = webix.html.preventEvent;\r\n\r\n\t\t\tselect._comp_id = master._settings.id;\r\n\t\t\tvar evId = \"webix_change_filter_\"+master._settings.id+\"_\"+value.columnId;\r\n\t\t\twebix.event(select, \"change\", this._on_change, {id: evId});\r\n\t\t},\r\n\t\trender:function(master, config){  \r\n\t\t\tif (this.init) this.$init(config);\r\n\t\t\tconfig.css = \"webix_ss_filter\"; return \"\"; },\r\n\t\t_on_change:function(e, node, value){ \r\n\t\t\twebix.$$(this._comp_id).filterByAll();\r\n\t\t}\r\n\t}\r\n};\r\n\r\nwebix.ui.datafilter.serverFilter = webix.extend({\r\n\t$server: true,\r\n\t_on_key_down:function(e, node, value){\r\n\t\tvar config, name,\r\n\t\t\tid = this._comp_id,\r\n\t\t\tcode = (e.which || e.keyCode);\r\n\r\n\t\tnode = e.target || e.srcElement;\r\n\t\t//ignore tab and navigation keys\r\n\t\tif (code == 9 || ( code >= 33 &&  code <= 40)) return;\r\n\t\tif (this._filter_timer) window.clearTimeout(this._filter_timer);\r\n\t\tthis._filter_timer=window.setTimeout(function(){\r\n\t\t\twebix.$$(id).filterByAll();\r\n\t\t},webix.ui.datafilter.textWaitDelay);\r\n\t}\r\n}, webix.ui.datafilter.textFilter);\r\n\r\nwebix.ui.datafilter.serverSelectFilter = webix.extend({\r\n\t$server: true,\r\n\t_on_change:function(e, node, value){\r\n\t\tvar id = this._comp_id;\r\n\t\twebix.$$(id).filterByAll();\r\n\t}\r\n}, webix.ui.datafilter.selectFilter);\r\n\r\nwebix.ui.datafilter.numberFilter = webix.extend({\r\n\tinit:function(config){\r\n\t\tconfig.prepare = function(value, filter){\r\n\t\t\tvar equality = (value.indexOf(\"=\") != -1)?1:0;\r\n\t\t\tvar intvalue = this.format(value);\r\n\t\t\tif (intvalue === \"\") return \"\";\r\n\r\n\t\t\tif (value.indexOf(\">\") != -1) \r\n\t\t\t\tconfig.compare = this._greater;\r\n\t\t\telse if (value.indexOf(\"<\") != -1){\r\n\t\t\t\tconfig.compare = this._lesser;\r\n\t\t\t\tequality *= -1;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconfig.compare = this._equal;\r\n\t\t\t\tequality = 0;\r\n\t\t\t}\r\n\r\n\t\t\treturn intvalue - equality;\r\n\t\t};\r\n\t},\r\n\tformat:function(value){\r\n\t\treturn value.replace(/[^\\-\\.0-9]/g,\"\");\r\n\t},\r\n\t_greater:function(a,b){ return a*1>b; },\r\n\t_lesser:function(a,b){ return a!==\"\" && a*1<b; },\r\n\t_equal:function(a,b){ return a*1==b; }\t\r\n}, webix.ui.datafilter.textFilter);\r\n\r\nwebix.ui.datafilter.dateFilter = webix.extend({\r\n\tformat:function(value){\r\n\t\tif (value === \"\") return \"\";\r\n\t\tvar date = new Date();\r\n\r\n\t\tif (value.indexOf(\"today\") != -1){\r\n\t\t\tdate = webix.Date.dayStart(date);\r\n\t\t} else if (value.indexOf(\"now\") == -1){\r\n\t\t\tvar parts = value.match(/[0-9]+/g);\r\n\t\t\tif (!parts||!parts.length) return \"\";\r\n\t\t\tif (parts.length < 3){\r\n\t\t\t\tparts.reverse();\r\n\t\t\t\tdate = new Date(parts[0], (parts[1]||1)-1, 1);\r\n\t\t\t} else\r\n\t\t\t\tdate = webix.i18n.dateFormatDate(value.replace(/^[>< =]+/,\"\"));\r\n\t\t}\r\n\t\treturn date.valueOf();\r\n\t}\r\n}, webix.ui.datafilter.numberFilter);\r\n\r\nwebix.extend(webix.ui.datatable,{\r\n\tfilterByAll:function(){\r\n\t\t//we need to use dynamic function creating\r\n\t\t//jshint -W083:true\r\n\t\tvar server = false;\r\n\t\tthis.data.silent(function(){\r\n\t\t\tthis.filter();\r\n\t\t\tvar first = false;\r\n\t\t\tfor (var key in this._filter_elements){\r\n\t\t\t\twebix.assert(key, \"empty column id for column with filtering\");\r\n\t\t\t\tif(!this.isColumnVisible(key))\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\tvar record = this._filter_elements[key];\r\n\t\t\t\tvar originvalue = record[2].getValue(record[0]);\r\n\r\n\t\t\t\t//saving last filter value, for usage in getState\r\n\t\t\t\tvar inputvalue = originvalue;\r\n\t\t\t\tif (record[1].prepare)\r\n\t\t\t\t\tinputvalue = record[1].prepare.call(record[2], inputvalue, record[1], this);\r\n\r\n\t\t\t\t//preserve original value\r\n\t\t\t\trecord[1].value = originvalue;\r\n\t\t\t\tvar compare = record[1].compare;\r\n\r\n\t\t\t\tif (!this.callEvent(\"onBeforeFilter\",[key, inputvalue, record[1]])) continue;\r\n\t\t\t\tif(record[2].$server){\r\n\t\t\t\t\tserver = true;\r\n\t\t\t\t\treturn this._runServerFilter();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (inputvalue === \"\") continue;\r\n\r\n\t\t\t\t\tif (compare){\r\n\t\t\t\t\t\tcompare = this._multi_compare(key, compare);\r\n\t\t\t\t\t\tthis.filter(webix.bind(function(obj, value){\r\n\t\t\t\t\t\t\tif (!obj) return false;\r\n\t\t\t\t\t\t\treturn compare(obj[key], value, obj);\r\n\t\t\t\t\t\t},this), inputvalue, first);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tthis.filter(key, inputvalue, first);\r\n\t\t\t\t}\r\n\t\t\t\tfirst = true;\r\n\t\t\t}\r\n\t\t}, this);\r\n\r\n\t\tif (!server){\r\n\t\t\tthis.refresh();\r\n\t\t\tthis.callEvent(\"onAfterFilter\",[]);\r\n\t\t}\r\n\t},\r\n\t_multi_compare: function(key, compare){\r\n\t\tvar separator = this.getColumnConfig(key).optionslist;\r\n\t\t//default mode\r\n\t\tif (!separator) \r\n\t\t\treturn compare;\r\n\r\n\t\tif(typeof separator != \"string\")\r\n\t\t\tseparator = \",\";\r\n\r\n\t\treturn function(itemValue, inputValue, obj){\r\n\t\t\tif(!itemValue)\r\n\t\t\t\treturn true;\r\n\t\t\tvar ids = itemValue.split(separator);\r\n\t\t\tfor (var i = 0; i < ids.length; i++) {\r\n\t\t\t\tif (compare(ids[i], inputValue, obj))\r\n\t\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tfilterMode_setter:function(mode){\r\n\t\treturn webix.extend(this.data._filterMode, mode, true);\r\n\t},\r\n\tgetFilter:function(columnId){\r\n\t\tvar filter = this._filter_elements[columnId];\r\n\t\twebix.assert(filter, \"Filter doesn't exists for column in question\");\r\n\r\n\t\tif (filter && filter[2].getInputNode)\r\n\t\t\treturn filter[2].getInputNode(filter[0]);\r\n\t\treturn null;\r\n\t},\r\n\tregisterFilter:function(node, config, obj){\r\n\t\tthis._filter_elements[config.columnId] = [node, config, obj];\r\n\t},\r\n\tcollectValues:function(id){\r\n\t\tvar values = [];\r\n\t\tvar checks = { \"\" : true };\r\n\r\n\t\tvar obj = this.getColumnConfig(id);\r\n\t\tvar options = obj.options||obj.collection;\r\n\r\n\t\tif (options){\r\n\t\t\tif (typeof options == \"object\" && !options.loadNext){\r\n\t\t\t\t//raw object\r\n\t\t\t\tif (webix.isArray(options))\r\n\t\t\t\t\tfor (var i=0; i<options.length; i++) \r\n\t\t\t\t\t\tvalues.push({ id:options[i], value:options[i] });\r\n\t\t\t\telse\r\n\t\t\t\t\tfor (var key in options) \r\n\t\t\t\t\t\tvalues.push({ id:key, value:options[key] });\r\n\t\t\t\treturn values;\r\n\t\t\t} else {\r\n\t\t\t\t//view\r\n\t\t\t\tif (typeof options === \"string\")\r\n\t\t\t\t\toptions = webix.$$(options);\r\n\t\t\t\tif (options.getBody)\r\n\t\t\t\t\toptions = options.getBody();\r\n\r\n\t\t\t\tthis._collectValues.call(options, \"id\", \"value\", values, checks);\r\n\t\t\t}\r\n\t\t} else\r\n\t\t\tthis._collectValues(obj.id, obj.id, values, checks);\r\n\r\n\t\tvar obj  = { values: values };\r\n\t\tthis.callEvent(\"onCollectValues\", [id, obj]);\r\n\t\treturn obj.values;\r\n\t},\r\n\t_collectValues:function(id, value,  values, checks){\r\n\t\tthis.data.each(function(obj){\r\n\t\t\tvar test = obj ? obj[id] : \"\";\r\n\t\t\tif (test !== webix.undefined && !checks[test]){\r\n\t\t\t\tchecks[test] = true;\r\n\t\t\t\tvalues.push({ id:obj[id], value:obj[value] });\r\n\t\t\t}\r\n\t\t}, this, true);\r\n\t\tvalues.sort(function(a,b){ return a.value > b.value ? 1 : -1;  });\r\n\t},\r\n\t_runServerFilter: function(name){\r\n\t\tthis.loadNext(0,0,{\r\n\t\t\tbefore:function(){\r\n\t\t\t\tvar url = this.data.url;\r\n\t\t\t\tif (this.editStop) this.editStop();\r\n\t\t\t\tthis.clearAll();\r\n\t\t\t\tthis.data.url = url;\r\n\t\t\t},\r\n\t\t\tsuccess:function(){\r\n\t\t\t\tthis.callEvent(\"onAfterFilter\",[]);\r\n\t\t\t}\r\n\t\t},0,1);\r\n\t}\r\n});\r\n\r\n\r\nwebix.extend(webix.ui.datatable, {\r\n\thover_setter:function(value){\r\n\t\tif (value && !this._hover_initialized){\r\n\t\t\tthis._enable_mouse_move();\r\n\t\t\tthis.config.experimental = true;\r\n\r\n\t\t\tthis.attachEvent(\"onMouseMoving\", function(e){\r\n\t\t\t\t\r\n\t\t\t\tvar row = this.locate(arguments[0]);\r\n\t\t\t\trow = row ? row.row : null;\r\n\r\n\t\t\t\tif (this._last_hover != row){\r\n\t\t\t\t\tif (this._last_hover)\r\n\t\t\t\t\t\tthis.removeRowCss(this._last_hover, this._settings.hover);\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis._delayed_hover_set();\r\n\t\t\t\t\tthis._last_hover = row;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.attachEvent(\"onMouseOut\", function(){\r\n\t\t\t\tif (this._last_hover){\r\n\t\t\t\t\tthis.removeRowCss(this._last_hover, this._settings.hover);\r\n\t\t\t\t\tthis._last_hover = null;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis._hover_initialized = 1;\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\t_delayed_hover_set:function(){\r\n\t\twebix.delay(function(){ \r\n\t\t\tif (this._last_hover)\r\n\t\t\t\tthis.addRowCss( this._last_hover, this._settings.hover );\r\n\t\t}, this, [],  5);\r\n\t},\r\n\tselect_setter:function(value){\r\n\t\tif (!this.select && value){\r\n\t\t\twebix.extend(this, this._selections._commonselect, true);\r\n\t\t\tif (value === true)\r\n\t\t\t\tvalue = \"row\";\r\n\t\t\telse if (value == \"multiselect\"){\r\n\t\t\t\tvalue = \"row\";\r\n\t\t\t\tthis._settings.multiselect = true;\r\n\t\t\t}\r\n\t\t\twebix.assert(this._selections[value], \"Unknown selection mode: \"+value);\r\n\t\t\twebix.extend(this, this._selections[value], true);\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\tgetSelectedId:function(mode){\r\n\t\treturn  mode?[]:\"\"; //dummy placeholder\r\n\t},\r\n\tgetSelectedItem:function(mode){\r\n\t\treturn webix.SelectionModel.getSelectedItem.call(this, mode);\r\n\t},\r\n\t_selections:{\r\n\t\t//shared methods for all selection models\r\n\t\t_commonselect:{\r\n\t\t\t_select_css:' webix_cell_select',\r\n\t\t\t$init:function(){\r\n\t\t\t\tthis._reinit_selection();\r\n\r\n\t\t\t\tthis.on_click.webix_cell = webix.bind(this._click_before_select, this);\r\n\r\n\t\t\t\t//temporary stab, actual handlers need to be created\r\n\t\t\t\tthis._data_cleared = this._data_filtered = function(){\r\n\t\t\t\t\tthis.unselect();\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.data.attachEvent(\"onStoreUpdated\",webix.bind(this._data_updated,this));\r\n\t\t\t\tthis.data.attachEvent(\"onClearAll\", webix.bind(this._data_cleared,this));\r\n\t\t\t\tthis.data.attachEvent(\"onAfterFilter\", webix.bind(this._data_filtered,this));\r\n\t\t\t\tthis.data.attachEvent(\"onIdChange\", webix.bind(this._id_changed,this));\r\n\r\n\t\t\t\tthis.$ready.push(webix.SelectionModel._set_noselect);\r\n\t\t\t},\r\n\t\t\t_id_changed:function(oldid, newid){\r\n\t\t\t\tfor (var i=0; i<this._selected_rows.length; i++)\r\n\t\t\t\t\tif (this._selected_rows[i] == oldid)\r\n\t\t\t\t\t\tthis._selected_rows[i] = newid;\r\n\r\n\t\t\t\tfor (var i=0; i<this._selected_areas.length; i++){\r\n\t\t\t\t\tvar item = this._selected_areas[i];\r\n\t\t\t\t\tif (item.row == oldid){\r\n\t\t\t\t\t\toldid = this._select_key(item);\r\n\t\t\t\t\t\titem.row = newid;\r\n\t\t\t\t\t\tnewid = this._select_key(item);\r\n\t\t\t\t\t\titem.id = newid;\r\n\r\n\t\t\t\t\t\tdelete this._selected_pull[oldid];\r\n\t\t\t\t\t\tthis._selected_pull[newid] = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_data_updated:function(id, obj, type){\r\n\t\t\t\tif (type == \"delete\") \r\n\t\t\t\t\tthis.unselect(id);\r\n\t\t\t},\r\n\t\t\t_reinit_selection:function(){\r\n\t\t\t\t//list of selected areas\r\n\t\t\t\tthis._selected_areas=[];\r\n\t\t\t\t//key-value hash of selected areas, for fast search\r\n\t\t\t\tthis._selected_pull={};\r\n\t\t\t\t//used to track selected cell objects\r\n\t\t\t\tthis._selected_rows = [];\r\n\t\t\t},\r\n\t\t\tisSelected:function(id, column){\r\n\t\t\t\tvar key;\r\n\t\t\t\tif (!webix.isUndefined(column))\r\n\t\t\t\t\tkey = this._select_key({ row:id, column: column});\r\n\t\t\t\telse \r\n\t\t\t\t\tkey = typeof id === \"object\"? this._select_key(id) : id;\r\n\r\n\t\t\t\treturn this._selected_pull[key];\r\n\t\t\t},\r\n\t\t\tgetSelectedId:function(asArray, plain){\r\n\t\t\t\tvar result;\r\n\r\n\t\t\t\t//if multiple selections was created - return array\r\n\t\t\t\t//in case of single selection, return value or array, when asArray parameter provided\r\n\t\t\t\tif (this._selected_areas.length > 1 || asArray){\r\n\t\t\t\t\tresult = [].concat(this._selected_areas);\r\n\t\t\t\t\tif (plain)\r\n\t\t\t\t\t\tfor (var i = 0; i < result.length; i++)\r\n\t\t\t\t\t\t\tresult[i]=result[i].id;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult = this._selected_areas[0];\r\n\t\t\t\t\tif (plain && result)\r\n\t\t\t\t\t\treturn result.id;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn result;\r\n\t\t\t},\r\n\t\t\t_id_to_string:function(){\r\n\t\t\t\treturn this.row;\r\n\t\t\t},\r\n\t\t\t_select:function(data, preserve){\r\n\t\t\t\tvar key = this._select_key(data);\r\n\t\t\t\t//don't allow selection on unnamed columns\r\n\t\t\t\tif (key === null) return;\r\n\r\n\t\t\t\tif (preserve === -1)\r\n\t\t\t\t\treturn this._unselect(data);\r\n\r\n\t\t\t\tdata.id = key;\r\n\t\t\t\tdata.toString = this._id_to_string;\r\n\r\n\t\t\t\tif (!this.callEvent(\"onBeforeSelect\",[data, preserve])) return false;\r\n\r\n\t\t\t\t//ignore area, if it was already selected and\r\n\t\t\t\t// - we are preserving existing selection\r\n\t\t\t\t// - this is the only selected area\r\n\t\t\t\t// otherwise we need to clear other selected areas\r\n\t\t\t\tif (this._selected_pull[key] && (preserve || this._selected_areas.length == 1)) return;\r\n\r\n\t\t\t\tif (!preserve)\r\n\t\t\t\t\tthis._clear_selection();\r\n\r\n\t\t\t\tthis._selected_areas.push(data);\r\n\t\t\t\tthis._selected_pull[key] = true;\r\n\r\n\t\t\t\tthis.callEvent(\"onAfterSelect\",[data, preserve]);\r\n\r\n\t\t\t\t\r\n\t\t\t\tthis._finalize_select(this._post_select(data));\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\t_clear_selection:function(){\r\n\t\t\t\tif (!this._selected_areas.length) return false; \r\n\r\n\t\t\t\tfor (var i=0; i<this._selected_rows.length; i++){\r\n\t\t\t\t\tvar item = this.getItem(this._selected_rows[i]);\r\n\t\t\t\t\tif (item)\r\n\t\t\t\t\t\tthis.data.removeMark(item.id, \"webix_selected\", 0, 1);\r\n\t\t\t\t}\r\n\t\t\t\tvar cols = this._settings.columns;\r\n\t\t\t\tif (cols)\r\n\t\t\t\t\tfor (var i = 0; i < cols.length; i++) {\r\n\t\t\t\t\t\tcols[i].$selected = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\tthis._reinit_selection();\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\tunselectAll:function(){\r\n\t\t\t\tthis.clearSelection();\r\n\t\t\t},\r\n\t\t\tselectAll:function(){\r\n\t\t\t\tthis.selectRange();\r\n\t\t\t},\r\n\t\t\tclearSelection:function(){\r\n\t\t\t\tif (this._clear_selection()){\r\n\t\t\t\t\tthis.callEvent(\"onSelectChange\",[]);\r\n\t\t\t\t\tthis.render();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_unselect:function(data){\r\n\t\t\t\tvar key = this._select_key(data);\r\n\t\t\t\tif (!key && this._selected_areas.length){\r\n\t\t\t\t\tthis.clearSelection();\r\n\t\t\t\t\tthis.callEvent(\"onSelectChange\", []);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//ignore area, if it was already selected\r\n\t\t\t\tif (!this._selected_pull[key]) return;\r\n\r\n\t\t\t\tif (!this.callEvent(\"onBeforeUnSelect\",[data])) return false;\r\n\r\n\t\t\t\tfor (var i = 0; i < this._selected_areas.length; i++){\r\n\t\t\t\t\tif (this._selected_areas[i].id == key){\r\n\t\t\t\t\t\tthis._selected_areas.splice(i,1);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdelete this._selected_pull[key];\r\n\r\n\t\t\t\tthis.callEvent(\"onAfterUnSelect\",[data]);\r\n\t\t\t\tthis._finalize_select(0, this._post_unselect(data));\r\n\t\t\t},\r\n\t\t\t_add_item_select:function(id){\r\n\t\t\t\tvar item = this.getItem(id);\r\n\t\t\t\treturn this.data.addMark(item.id, \"webix_selected\", 0, { $count : 0 }, true);\r\n\r\n\t\t\t},\r\n\t\t\t_finalize_select:function(id){\r\n\t\t\t\tif (id)\r\n\t\t\t\t\tthis._selected_rows.push(id);\r\n\t\t\t\tif (!this._silent_selection){\r\n\t\t\t\t\tthis.render();\r\n\t\t\t\t\tthis.callEvent(\"onSelectChange\",[]);\t\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_click_before_select:function(e, id){\r\n\t\t\t\tvar preserve = e.ctrlKey || e.metaKey || (this._settings.multiselect == \"touch\");\r\n\t\t\t\tvar range = e.shiftKey;\r\n\r\n\t\t\t\tif (!this._settings.multiselect && this._settings.select != \"multiselect\")\r\n\t\t\t\t\tpreserve = range = false;\r\n\r\n\t\t\t\tif (range && this._selected_areas.length){\r\n\t\t\t\t\tvar last = this._selected_areas[this._selected_areas.length-1];\r\n\t\t\t\t\tthis._selectRange(id, last);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (preserve && this._selected_pull[this._select_key(id)])\r\n\t\t\t\t\t\tthis._unselect(id);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tthis._select({ row: id.row, column:id.column }, preserve);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_mapSelection:function(callback, column, row){\r\n\t\t\t\tvar cols = this._settings.columns;\r\n\t\t\t\t//selected columns only\r\n\t\t\t\tif (column){\r\n\t\t\t\t\tvar temp = [];\r\n\t\t\t\t\tfor (var i=0; i<cols.length; i++)\r\n\t\t\t\t\t\tif (cols[i].$selected)\r\n\t\t\t\t\t\t\ttemp.push(cols[i]);\r\n\t\t\t\t\tcols = temp;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar rows = this.data.order;\r\n\t\t\t\tvar row_ind = 0;\r\n\r\n\t\t\t\tfor (var i=0; i<rows.length; i++){\r\n\t\t\t\t\tvar item = this.getItem(rows[i]);\r\n\t\t\t\t\tif (!item) continue; //dyn loading, row is not available\r\n\t\t\t\t\tvar selection = this.data.getMark(item.id, \"webix_selected\");\r\n\t\t\t\t\tif (selection || column){\r\n\t\t\t\t\t\tvar col_ind = 0;\r\n\t\t\t\t\t\tfor (var j = 0; j < cols.length; j++){\r\n\t\t\t\t\t\t\tvar id = cols[j].id;\r\n\t\t\t\t\t\t\tif (row || column || selection[id]){\r\n\t\t\t\t\t\t\t\tif (callback)\r\n\t\t\t\t\t\t\t\t\titem[id] = callback(item[id], rows[i], id, row_ind, col_ind);\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\treturn {row:rows[i], column:id};\r\n\t\t\t\t\t\t\t\tcol_ind++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//use separate row counter, to count only selected rows\r\n\t\t\t\t\t\trow_ind++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, \r\n\r\n\t\trow : {\r\n\t\t\t_select_css:' webix_row_select',\r\n\t\t\t_select_key:function(data){ return data.row; },\r\n\t\t\tselect:function(row_id, preserve){\r\n\t\t\t\t//when we are using id from mouse events\r\n\t\t\t\tif (row_id) row_id = row_id.toString();\r\n\r\n\t\t\t\twebix.assert(this.data.exists(row_id), \"Incorrect id in select command: \"+row_id);\r\n\t\t\t\tthis._select({ row:row_id }, preserve);\r\n\t\t\t},\r\n\t\t\t_post_select:function(data){\r\n\t\t\t\tthis._add_item_select(data.row).$row = true;\r\n\t\t\t\treturn data.row;\r\n\t\t\t},\r\n\t\t\tunselect:function(row_id){\r\n\t\t\t\tthis._unselect({row : row_id});\r\n\t\t\t},\r\n\t\t\t_post_unselect:function(data){\r\n\t\t\t\tthis.data.removeMark(data.row, \"webix_selected\", 0, 1);\r\n\t\t\t\treturn data.row;\r\n\t\t\t},\r\n\t\t\tmapSelection:function(callback){\r\n\t\t\t\treturn this._mapSelection(callback, false, true);\r\n\t\t\t},\r\n\t\t\t_selectRange:function(a,b){\r\n\t\t\t\treturn this.selectRange(a.row, b.row);\r\n\t\t\t},\r\n\t\t\tselectRange:function(row_id, end_row_id, preserve){\r\n\t\t\t\tif (webix.isUndefined(preserve)) preserve = true;\r\n\r\n\t\t\t\tvar row_start_ind = row_id ? this.getIndexById(row_id) : 0;\r\n\t\t\t\tvar row_end_ind = end_row_id ? this.getIndexById(end_row_id) : this.data.order.length-1;\r\n\r\n\t\t\t\tif (row_start_ind>row_end_ind){\r\n\t\t\t\t\tvar temp = row_start_ind;\r\n\t\t\t\t\trow_start_ind = row_end_ind;\r\n\t\t\t\t\trow_end_ind = temp;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis._silent_selection = true;\r\n\t\t\t\tfor (var i=row_start_ind; i<=row_end_ind; i++)\r\n\t\t\t\t\tthis.select(this.getIdByIndex(i), preserve);\r\n\t\t\t\tthis._silent_selection = false;\r\n\t\t\t\tthis._finalize_select();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcell:{\r\n\t\t\t_select_key:function(data){\r\n\t\t\t\tif (!data.column) return null;\r\n\t\t\t \treturn data.row+\"_\"+data.column; \r\n\t\t\t},\r\n\t\t\tselect:function(row_id, column_id, preserve){\r\n\t\t\t\twebix.assert(this.data.exists(row_id), \"Incorrect id in select command: \"+row_id);\r\n\t\t\t\tthis._select({row:row_id, column:column_id}, preserve);\r\n\t\t\t},\r\n\t\t\t_post_select:function(data){\r\n\t\t\t\t\tvar sel = this._add_item_select(data.row);\r\n\t\t\t\t\tsel.$count++;\r\n\t\t\t\t\tsel[data.column]=true;\r\n\t\t\t\t\treturn data.row;\r\n\t\t\t},\r\n\t\t\tunselect:function(row_id, column_id){\r\n\t\t\t\tthis._unselect({row:row_id, column:column_id});\r\n\t\t\t},\r\n\t\t\t_post_unselect:function(data){\r\n\t\t\t\tvar sel = this._add_item_select(data.row);\r\n\t\t\t\t\tsel.$count-- ;\r\n\t\t\t\t\tsel[data.column] = false;\r\n\t\t\t\t\tif (sel.$count<=0)\r\n\t\t\t\t\t\tthis.data.removeMark(data.row,\"webix_selected\");\r\n\t\t\t\t\treturn data.row;\r\n\t\t\t},\r\n\t\t\tmapSelection:function(callback){\r\n\t\t\t\treturn this._mapSelection(callback, false, false);\r\n\t\t\t},\r\n\t\t\t_selectRange:function(a,b){\r\n\t\t\t\treturn this.selectRange(a.row, a.column, b.row, b.column);\r\n\t\t\t},\r\n\r\n\t\t\tselectRange:function(row_id, column_id, end_row_id, end_column_id, preserve){\r\n\t\t\t\tif (webix.isUndefined(preserve)) preserve = true;\r\n\r\n\t\t\t\tvar row_start_ind = row_id ? this.getIndexById(row_id) : 0;\r\n\t\t\t\tvar row_end_ind = end_row_id ? this.getIndexById(end_row_id) : this.data.order.length-1;\r\n\r\n\t\t\t\tvar col_start_ind = column_id ? this.getColumnIndex(column_id) : 0;\r\n\t\t\t\tvar col_end_ind = end_column_id ? this.getColumnIndex(end_column_id) : this._columns.length-1;\r\n\r\n\t\t\t\tif (row_start_ind>row_end_ind){\r\n\t\t\t\t\tvar temp = row_start_ind;\r\n\t\t\t\t\trow_start_ind = row_end_ind;\r\n\t\t\t\t\trow_end_ind = temp;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (col_start_ind>col_end_ind){\r\n\t\t\t\t\tvar temp = col_start_ind;\r\n\t\t\t\t\tcol_start_ind = col_end_ind;\r\n\t\t\t\t\tcol_end_ind = temp;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._silent_selection = true;\r\n\t\t\t\tfor (var i=row_start_ind; i<=row_end_ind; i++)\r\n\t\t\t\t\tfor (var j=col_start_ind; j<=col_end_ind; j++)\r\n\t\t\t\t\t\tthis.select(this.getIdByIndex(i), this.columnId(j), preserve);\r\n\t\t\t\tthis._silent_selection = false;\r\n\t\t\t\tthis._finalize_select();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcolumn:{\r\n\t\t\t_select_css:' webix_column_select',\r\n\t\t\t_select_key:function(data){ return data.column; },\r\n\t\t\t_id_to_string:function(){\r\n\t\t\t\treturn this.column;\r\n\t\t\t},\r\n\t\t\t//returns box-like area, with ordered selection cells\r\n\t\t\tselect:function(column_id, preserve){\r\n\t\t\t\tthis._select({ column:column_id }, preserve);\r\n\t\t\t},\r\n\t\t\t_post_select:function(data){\r\n\t\t\t\tthis._settings.columns[this.getColumnIndex(data.column)].$selected = true;\r\n\t\t\t\tif (!this._silent_selection)\r\n\t\t\t\t\tthis._render_header_and_footer();\r\n\t\t\t},\r\n\t\t\tunselect:function(column_id){\r\n\t\t\t\tthis._unselect({column : column_id});\r\n\t\t\t},\r\n\t\t\t_post_unselect:function(data){\r\n\t\t\t\tthis._settings.columns[this.getColumnIndex(data.column)].$selected = null;\r\n\t\t\t\tthis._render_header_and_footer();\r\n\t\t\t},\r\n\t\t\tmapSelection:function(callback){\r\n\t\t\t\treturn this._mapSelection(callback, true, false);\r\n\t\t\t},\r\n\t\t\t_selectRange:function(a,b){\r\n\t\t\t\treturn this.selectRange(a.column, b.column);\r\n\t\t\t},\r\n\t\t\tselectRange:function(column_id, end_column_id, preserve){\r\n\t\t\t\tif (webix.isUndefined(preserve)) preserve = true;\r\n\r\n\t\t\t\tvar column_start_ind = column_id ? this.getColumnIndex(column_id) : 0;\r\n\t\t\t\tvar column_end_ind = end_column_id ? this.getColumnIndex(end_column_id) : this._columns.length-1;\r\n\r\n\t\t\t\tif (column_start_ind>column_end_ind){\r\n\t\t\t\t\tvar temp = column_start_ind;\r\n\t\t\t\t\tcolumn_start_ind = column_end_ind;\r\n\t\t\t\t\tcolumn_end_ind = temp;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis._silent_selection = true;\r\n\t\t\t\tfor (var i=column_start_ind; i<=column_end_ind; i++)\r\n\t\t\t\t\tthis.select(this.columnId(i), preserve);\r\n\r\n\t\t\t\tthis._silent_selection = false;\r\n\r\n\t\t\t\tthis._render_header_and_footer();\r\n\t\t\t\tthis._finalize_select();\r\n\t\t\t}\r\n\t\t},\r\n\t\tarea: {\r\n\t\t\t_select_key:function(data){\r\n\t\t\t\treturn data.row+\"_\"+data.column;\r\n\t\t\t},\r\n\t\t\tgetSelectedId: function(asArray){\r\n\t\t\t\tvar area = this.getSelectArea();\r\n\t\t\t\tvar result = [];\r\n\t\t\t\tif(area){\r\n\t\t\t\t\tif(asArray && ( area.start.row != area.end.row || area.start.column != area.end.column )){\r\n\t\t\t\t\t\tvar row_start_ind = this.getIndexById(area.start.row);\r\n\t\t\t\t\t\tvar row_end_ind = this.getIndexById(area.end.row);\r\n\r\n\t\t\t\t\t\tvar col_start_ind = this.getColumnIndex(area.start.column);\r\n\t\t\t\t\t\tvar col_end_ind = this.getColumnIndex(area.end.column);\r\n\r\n\t\t\t\t\t\tfor (var i=row_start_ind; i<=row_end_ind; i++)\r\n\t\t\t\t\t\t\tfor (var j=col_start_ind; j<=col_end_ind; j++){\r\n\t\t\t\t\t\t\t\tresult.push({row:this.getIdByIndex(i), column:this.columnId(j)});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tresult.push(area.end);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn asArray?result:result[0];\r\n\t\t\t},\r\n\t\t\tunselect:function(row_id){\r\n\t\t\t\tthis.removeSelectArea();\r\n\t\t\t},\r\n\t\t\t_unselect: function() {\r\n\t\t\t\tthis.removeSelectArea();\r\n\t\t\t},\r\n\t\t\tmapSelection:function(callback){\r\n\t\t\t\tvar select  = this.getSelectArea();\r\n\t\t\t\tif (select){\r\n\t\t\t\t\tvar sind = this.getColumnIndex(select.start.column);\r\n\t\t\t\t\tvar eind = this.getColumnIndex(select.end.column);\r\n\t\t\t\t\tvar srow = this.getIndexById(select.start.row);\r\n\t\t\t\t\tvar erow = this.getIndexById(select.end.row);\r\n\r\n\t\t\t\t\tfor (var i = srow; i <= erow; i++) {\r\n\t\t\t\t\t\tvar rid = this.data.order[i];\r\n\t\t\t\t\t\tvar item = this.getItem(rid);\r\n\t\t\t\t\t\tfor (var j = sind; j <= eind; j++) {\r\n\t\t\t\t\t\t\tvar cid = this._columns[j].id;\r\n\t\t\t\t\t\t\tif (callback)\r\n\t\t\t\t\t\t\t\tcallback((item[cid] || \"\"), rid, cid, i-srow, j-sind);\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\treturn { row:rid, column:cid };\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_selectRange:function(id,last){\r\n\t\t\t\tthis._extendAreaRange(id, last);\r\n\t\t\t},\r\n\t\t\t_select: function(cell, preserve){\r\n\t\t\t\t//ctrl-selection is not supported yet, so ignoring the preserve flag\r\n\t\t\t\tthis.addSelectArea(cell,cell,false);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.extend(webix.ui.datatable, {\r\n\tblockselect_setter:function(value){\r\n\t\tif (value && this._block_sel_flag){\r\n\t\t\twebix.event(this._viewobj, webix.env.mouse.move, this._bs_move, {bind:this});\r\n\t\t\twebix.event(this._viewobj, webix.env.mouse.down, this._bs_down, {bind:this});\r\n\t\t\twebix.event(document.body, webix.env.mouse.up, this._bs_up, {bind:this});\r\n\t\t\tthis._block_sel_flag = this._bs_ready = this._bs_progress = false;\r\n\t\t\tthis.attachEvent(\"onAfterScroll\", function(){\r\n\t\t\t\tthis._update_block_selection();\r\n\t\t\t});\r\n\t\t\t// auto scroll\r\n\t\t\twebix.extend(this, webix.AutoScroll, true);\r\n\t\t\tthis.attachEvent(\"onBeforeAutoScroll\",function(){\r\n\t\t\t\treturn this._bs_progress;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\t_block_sel_flag:true,\r\n\t_childOf:function(e, tag){\r\n\t\tvar src = e.target||e.srcElement;\r\n\t\twhile (src){\r\n\t\t\tif (src.getAttribute && src.getAttribute(\"webixignore\")) return false;\r\n\t\t\tif (src == tag)\r\n\t\t\t\treturn true;\r\n\t\t\tsrc = src.parentNode;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\t_bs_down:function(e){\r\n\t\t// do not listen to mousedown of subview on master\r\n\t\tif (this._settings.subview && this != webix.$$(e.target||e.srcElement)) return;\r\n\t\tif (this._childOf(e, this._body)){\r\n\t\t\t//disable block selection when we have an active editor\r\n\t\t\tif (e.target && e.target.tagName == \"INPUT\" || this._rs_process) return;\r\n\r\n\t\t\twebix.html.addCss(document.body,\"webix_noselect\");\r\n\t\t\tthis._bs_position = webix.html.offset(this._body);\r\n\t\t\tvar pos = webix.html.pos(e);\r\n\r\n\t\t\tthis._bs_ready = [pos.x - this._bs_position.x, pos.y - this._bs_position.y];\r\n\t\t}\r\n\t},\r\n\t_bs_up:function(e){\r\n\t\tif (this._block_panel){\r\n\t\t\tthis._bs_select(\"select\", true, e);\r\n\t\t\tthis._block_panel = webix.html.remove(this._block_panel);\r\n\t\t}\r\n\t\twebix.html.removeCss(document.body,\"webix_noselect\");\r\n\t\tthis._bs_ready = this._bs_progress = false;\r\n\t\tif (this._auto_scroll_delay)\r\n\t\t\tthis._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\r\n\t},\r\n\t_update_block_selection: function(){\r\n\t\tif (this._bs_progress)\r\n\t\t\tthis._bs_select(false, false);\r\n\t},\r\n\t_bs_select:function(mode, theend, e){\r\n\t\tvar start = null;\r\n\t\tif(!this._bs_ready[2])\r\n\t\t\tthis._bs_ready[2] = this._locate_cell_xy.apply(this, this._bs_ready);\r\n\t\tstart = this._bs_ready[2];\r\n\r\n\t\tvar end = this._locate_cell_xy.apply(this, this._bs_progress);\r\n\r\n\t\tif (!this.callEvent(\"onBeforeBlockSelect\", [start, end, theend, e]))\r\n\t\t\treturn;\r\n\r\n\t\tif ((!this._bs_do_select || this._bs_do_select(start, end, theend, e) !== false) && (start.row && end.row)){\r\n\t\t\tif (mode === \"select\"){\r\n\t\t\t\tthis._clear_selection();\r\n\t\t\t\tthis._selectRange(start, end);\r\n\t\t\t} else {\r\n\t\t\t\tvar startx, starty, endx, endy;\r\n\r\n\t\t\t\tif (mode === \"box\"){\r\n\t\t\t\t\tstartx = Math.min(this._bs_ready[0],this._bs_progress[0]);\r\n\t\t\t\t\tendx = Math.max(this._bs_ready[0],this._bs_progress[0]);\r\n\r\n\t\t\t\t\tstarty = Math.min(this._bs_ready[1],this._bs_progress[1]);\r\n\t\t\t\t\tendy = Math.max(this._bs_ready[1],this._bs_progress[1]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar startn = this._cellPosition(start.row, start.column);\r\n\t\t\t\t\tvar endn = this._cellPosition(end.row, end.column);\r\n\t\t\t\t\tvar scroll = this.getScrollState();\r\n\r\n\t\t\t\t\tvar startWidth = startn.width;\r\n\t\t\t\t\tvar endWidth = endn.width;\r\n\r\n\t\t\t\t\tif (this._right_width && this._bs_ready[0] > this._left_width+this._center_width){\r\n\t\t\t\t\t\tstartn.left += this._left_width+this._center_width;\r\n\t\t\t\t\t} else if (this._left_width){\r\n\r\n\t\t\t\t\t\tif (this._bs_ready[0] > this._left_width){\r\n\t\t\t\t\t\t\tif(startn.left < scroll.x){\r\n\t\t\t\t\t\t\t\tstartWidth -= scroll.x-startn.left;\r\n\t\t\t\t\t\t\t\tstartn.left = this._left_width;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tstartn.left+=this._left_width-scroll.x;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else startn.left -= scroll.x;\r\n\r\n\r\n\r\n\t\t\t\t\tif (this._right_width && this._bs_progress[0] > this._left_width+this._center_width){\r\n\t\t\t\t\t\tendn.left += this._left_width+this._center_width;\r\n\t\t\t\t\t} else if (this._left_width){\r\n\t\t\t\t\t\tif (this._bs_progress[0] > this._left_width){\r\n\t\t\t\t\t\t\tif(endn.left < scroll.x){\r\n\t\t\t\t\t\t\t\tendWidth -= scroll.x-endn.left;\r\n\t\t\t\t\t\t\t\tendn.left = this._left_width;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tendn.left+=this._left_width-scroll.x;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else endn.left -= scroll.x;\r\n\r\n\t\t\t\t\tif(this._settings.prerender){\r\n\t\t\t\t\t\tstartn.top -= this._scrollTop;\r\n\t\t\t\t\t\tendn.top -= this._scrollTop;\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tstartx = Math.min(startn.left, endn.left);\r\n\t\t\t\t\tendx = Math.max(startn.left+startWidth, endn.left+endWidth);\r\n\r\n\t\t\t\t\tstarty = Math.min(startn.top, endn.top);\r\n\t\t\t\t\tendy = Math.max(startn.top+startn.height, endn.top+endn.height);\r\n\r\n\t\t\t\t\tif(this._settings.topSplit)\r\n\t\t\t\t\t\tstarty += this._getTopSplitOffset(start);\r\n\r\n\t\t\t\t\tif (this._auto_scroll_delay)\r\n\t\t\t\t\t\tthis._auto_scroll_delay = window.clearTimeout(this._auto_scroll_delay);\r\n\t\t\t\t\tif(e)\r\n\t\t\t\t\t\tthis._auto_scroll_delay = webix.delay(this._auto_scroll, this, [webix.html.pos(e)], 250);\r\n\t\t\t\t}\r\n  \r\n\r\n\t\t\t\tvar style = this._block_panel.style;\r\n\t\t\t\tstyle.left = startx+\"px\";\r\n\t\t\t\tstyle.top = starty+\"px\";\r\n\t\t\t\tstyle.width = (endx-startx)+\"px\";\r\n\t\t\t\tstyle.height = (endy-starty)+\"px\";\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (theend)\r\n\t\t\tthis.callEvent(\"onAfterBlockSelect\", [start, end]);\r\n\t},\r\n\t_bs_start:function(e){\r\n\t\tthis._block_panel = webix.html.create(\"div\", {\"class\":\"webix_block_selection\"},\"\");\r\n\r\n\t\tthis._body.appendChild(this._block_panel);\r\n\t},\r\n\t_bs_move:function(e){\r\n\t\tif (this._bs_ready !== false){\r\n\t\t\tvar pos = webix.html.pos(e);\r\n\t\t\tvar progress = [pos.x - this._bs_position.x, pos.y - this._bs_position.y];\r\n\r\n\t\t\t//prevent unnecessary block selection while dbl-clicking\r\n\t\t\tif (Math.abs(this._bs_ready[0] - progress[0]) < 5 && Math.abs(this._bs_ready[1] - progress[1]) < 5)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tif (this._bs_progress === false)\r\n\t\t\t\tthis._bs_start(e);\r\n\r\n\t\t\tthis._bs_progress = progress;\r\n\t\t\tthis._bs_select(this.config.blockselect, false, e);\r\n\t\t}\r\n\t},\r\n\t_locate_cell_xy:function(x,y){\r\n\t\tvar inTopSplit = false,\r\n\t\t\trow = null,\r\n\t\t\tcolumn = null;\r\n\r\n\r\n\t\tif (this._right_width && x>this._left_width + this._center_width)\r\n\t\t\tx+= this._x_scroll.getSize()-this._center_width-this._left_width-this._right_width; \r\n\t\telse if (!this._left_width || x>this._left_width)\r\n\t\t\tx+= this._x_scroll.getScroll();\r\n\r\n\t\tif(this._settings.topSplit && this._render_scroll_top > this._settings.topSplit) {\r\n\t\t\tvar splitPos = this._cellPosition(this.getIdByIndex(this._settings.topSplit-1), this.columnId(0));\r\n\t\t\tif(splitPos.top + splitPos.height > y){\r\n\t\t\t\tinTopSplit = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(!inTopSplit)\r\n\t\t\ty += this.getScrollState().y;\r\n\r\n\t\tif (x<0) x=0;\r\n\t\tif (y<0) y=0;\r\n\r\n\t\tvar cols = this._settings.columns;\r\n\t\tvar rows = this.data.order;\r\n\r\n\t\tvar summ = 0; \r\n\t\tfor (var i=0; i<cols.length; i++){\r\n\t\t\tsumm+=cols[i].width;\r\n\t\t\tif (summ>=x){\r\n\t\t\t\tcolumn = cols[i].id;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!column)\r\n\t\t\tcolumn = cols[cols.length-1].id;\r\n\r\n\t\tsumm = 0;\r\n\r\n\t\tif (this._settings.fixedRowHeight){\r\n\t\t\trow = rows[Math.floor(y/this._settings.rowHeight)];\r\n\t\t} else for (var i=0; i<rows.length; i++){\r\n\t\t\tsumm+=this._getHeightByIndex(i);\r\n\t\t\tif (summ>=y){\r\n\t\t\t\trow = rows[i];\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!row)\r\n\t\t\trow = rows[rows.length-1];\r\n\r\n\t\treturn {row:row, column:column};\r\n\t},\r\n\t_getTopSplitOffset: function(cell, area){\r\n\t\tvar y = 0,\r\n\t\t\tstartIndex = this.getIndexById(cell.row);\r\n\r\n\t\tif(startIndex >= this._settings.topSplit){\r\n\t\t\tvar startPos = this._cellPosition(this.getIdByIndex(startIndex), cell.column);\r\n\t\t\tvar splitPos = this._cellPosition(this.getIdByIndex(this._settings.topSplit-1), cell.column);\r\n\t\t\tif(splitPos.top + splitPos.height - startPos.top > 0){\r\n\t\t\t\ty = splitPos.top + splitPos.height - (startPos.top>0 ||!area?startPos.top:0);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn y;\r\n\t}\r\n});\r\nwebix.protoUI({\r\n\tname:\"resizearea\",\r\n\tdefaults:{\r\n\t\tdir:\"x\"\r\n\t},\r\n\t$init:function(config){\r\n\t\tvar dir = config.dir||\"x\";\r\n\t\tvar node = webix.toNode(config.container);\r\n        var size = (dir==\"x\"?\"width\":\"height\");\r\n\t\tvar margin = (config.margin? config.margin+\"px\":0);\r\n\r\n\t\tthis._key_property = (dir == \"x\"?\"left\":\"top\");\r\n\r\n\t\tthis._viewobj = webix.html.create(\"DIV\",{\r\n\t\t\t\"class\"\t: \"webix_resize_area webix_dir_\"+dir\r\n\t\t});\r\n\t\t//[[COMPAT]] FF12 can produce 2 move events\r\n\t\twebix.event(this._viewobj, webix.env.mouse.down, webix.html.stopEvent);\r\n\r\n\t\tif(margin){\r\n\t\t\tif(dir==\"x\")\r\n\t\t\t\tmargin = margin+\" 0 \"+margin;\r\n\t\t\telse\r\n\t\t\t\tmargin = \"0 \"+margin+\" 0 \"+margin;\r\n\t\t}\r\n\t\tthis._dragobj = webix.html.create(\"DIV\",{\r\n\t\t\t\"class\"\t: \"webix_resize_handle_\"+dir,\r\n\t\t\t \"style\" : (margin?\"padding:\"+margin:\"\")\r\n\t\t},\"<div class='webix_handle_content'></div>\");\r\n\r\n\t\tthis._originobj = webix.html.create(\"DIV\",{\r\n\t\t\t\"class\"\t: \"webix_resize_origin_\"+dir\r\n\t\t});\r\n\r\n        if(config[size]){\r\n            this._originobj.style[size] = config[size]+(config.border?1:0)+\"px\";\r\n            this._dragobj.style[size] = config[size]+\"px\";\r\n        }\r\n\t\tif (config.cursor)\r\n\t\t\tthis._dragobj.style.cursor = this._originobj.style.cursor = this._viewobj.style.cursor = config.cursor;\r\n\t\tthis._moveev =\twebix.event(node, webix.env.mouse.move, this._onmove, {bind:this});\r\n\t\tthis._upev =\twebix.event(document.body, webix.env.mouse.up, this._onup, {bind:this});\r\n\r\n\t\tthis._dragobj.style[this._key_property] = this._originobj.style[this._key_property] = config.start+\"px\";\r\n\r\n\t\tnode.appendChild(this._viewobj);\r\n\t\tnode.appendChild(this._dragobj);\r\n\t\tnode.appendChild(this._originobj);\r\n\t},\r\n\t_onup:function(){\r\n\r\n\t\tthis.callEvent(\"onResizeEnd\", [this._last_result]);\r\n\r\n\t\twebix.eventRemove(this._moveev);\r\n\t\twebix.eventRemove(this._upev);\r\n\r\n\t\twebix.html.remove(this._viewobj);\r\n\t\twebix.html.remove(this._dragobj);\r\n\t\twebix.html.remove(this._originobj);\r\n\t\tthis._viewobj = this._dragobj = this._originobj = null;\r\n\t},\r\n\t_onmove:function(e){\r\n\t\tvar pos = webix.html.pos(e);\r\n\t\tthis._last_result = (this._settings.dir == \"x\" ? pos.x : pos.y)+this._settings.start-this._settings.eventPos;\r\n\t\tthis._dragobj.style[this._key_property] = this._last_result+\"px\";\r\n\t\tthis.callEvent(\"onResize\", [this._last_result]);\r\n\t}\r\n}, webix.EventSystem, webix.Settings);\r\nwebix.extend(webix.ui.datatable, {\r\n\r\n\tresizeRow_setter:function(value){\r\n\t\tthis._settings.scrollAlignY = false;\r\n\t\tthis._settings.fixedRowHeight = false;\r\n\t\treturn this.resizeColumn_setter(value);\r\n\t},\r\n\tresizeColumn_setter:function(value){\r\n\t\tif (value && this._rs_init_flag){\r\n\t\t\twebix.event(this._viewobj, \"mousemove\", this._rs_move, {bind:this});\r\n\t\t\twebix.event(this._viewobj, \"mousedown\", this._rs_down, {bind:this});\r\n\t\t\twebix.event(this._viewobj, \"mouseup\", this._rs_up, {bind:this});\r\n\t\t\tthis._rs_init_flag = false;\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\t_rs_init_flag:true,\r\n\t_rs_down:function(e){\r\n\t\t// do not listen to mousedown of subview on master\r\n\t\tif (this._settings.subview && this != webix.$$(e.target||e.srcElement)) return;\r\n\t\t//if mouse was near border\r\n\t\tif (!this._rs_ready) return;\r\n\t\tthis._rs_process = [webix.html.pos(e),this._rs_ready[2]];\r\n\t\twebix.html.addCss(document.body,\"webix_noselect\");\r\n\t\twebix.html.denySelect();\r\n\t},\r\n\t_rs_up:function(){\r\n\t\tthis._rs_process = false;\r\n\t\twebix.html.removeCss(document.body,\"webix_noselect\");\r\n\t\twebix.html.allowSelect();\r\n\t},\r\n\t_rs_start:function(e){\r\n\t\te = e||event;\r\n\t\tif(this._rs_progress)\r\n\t\t\treturn;\r\n\t\tvar dir  = this._rs_ready[0];\r\n\t\tvar node = this._rs_process[1];\r\n\t\tvar obj  = this._locate(node);\r\n\t\tif (!obj) return;\r\n\r\n\t\tvar eventPos = this._rs_process[0];\r\n\t\tvar start;\r\n\r\n\t\tif (dir == \"x\"){\r\n\t\t\tstart = webix.html.offset(node).x+this._rs_ready[1] - webix.html.offset(this._body).x;\r\n\t\t\teventPos = eventPos.x;\r\n\t\t\tif (!this._rs_ready[1]) obj.cind-=(node.parentNode.colSpan||1);\r\n\t\t} else {\r\n\t\t\tstart = webix.html.offset(node).y+this._rs_ready[1] - webix.html.offset(this._body).y+this._header_height;\r\n\t\t\teventPos = eventPos.y;\r\n\t\t\tif (!this._rs_ready[1]) obj.rind--;\r\n\t\t}\r\n\t\tif (obj.cind>=0 && obj.rind>=0){\r\n\t\t\tthis._rs_progress = [dir, obj, start];\r\n\t\t\t\r\n\t\t\tvar resize = new webix.ui.resizearea({\r\n\t\t\t\tcontainer:this._viewobj,\r\n\t\t\t\tdir:dir,\r\n\t\t\t\teventPos:eventPos,\r\n\t\t\t\tstart:start,\r\n\t\t\t\tcursor:(dir == \"x\"?\"e\":\"n\")+\"-resize\"\r\n\t\t\t});\r\n\t\t\tresize.attachEvent(\"onResizeEnd\", webix.bind(this._rs_end, this));\r\n\t\t}\r\n\t\tthis._rs_down = this._rs_ready = false;\r\n\t},\r\n\t_rs_end:function(result){\r\n\t\tif (this._rs_progress){\r\n\t\t\tvar dir = this._rs_progress[0];\r\n\t\t\tvar obj = this._rs_progress[1];\r\n\t\t\tvar newsize = result-this._rs_progress[2];\r\n\t\t\tif (dir == \"x\"){\r\n\t\t\t\t\r\n\t\t\t\t//in case of right split - different sizing logic applied\r\n\t\t\t\tif (this._settings.rightSplit && obj.cind+1>=this._rightSplit &&\r\n\t\t\t\t\tobj.cind !== this._columns.length - 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tobj.cind++;\r\n\t\t\t\t\tnewsize *= -1;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar column = this._columns[obj.cind];\r\n\t\t\t\tvar oldwidth = column.width;\r\n\t\t\t\tdelete column.fillspace;\r\n\t\t\t\tthis._setColumnWidth(obj.cind, oldwidth + newsize, true, true);\r\n\t\t\t\tthis._updateColsSizeSettings();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar rid = this.getIdByIndex(obj.rind);\r\n\t\t\t\tvar oldheight = this._getRowHeight(this.getItem(rid));\r\n\t\t\t\tthis.setRowHeight(rid, oldheight + newsize);\r\n\t\t\t}\r\n\t\t\tthis._rs_up();\r\n\t\t}\r\n\t\tthis._rs_progress = null;\r\n\t},\r\n\t_rs_move:function(e){\r\n\t\tvar cell= null,\r\n\t\t\tconfig = this._settings;\r\n\t\tif (this._rs_ready && this._rs_process)\r\n\t\t\treturn this._rs_start(e);\r\n\r\n\t\te = e||event;\r\n\t\tvar node = e.target||e.srcElement;\r\n\t\tvar mode = false; //resize ready flag\r\n\r\n\t\tif (node.tagName == \"TD\" || node.tagName == \"TABLE\") return ;\r\n\t\tvar element_class = node.className||\"\";\r\n\t\tvar in_body = typeof element_class === \"string\" && element_class.indexOf(\"webix_cell\")!=-1;\r\n\t\t//ignore resize in case of drag-n-drop enabled\r\n\t\tif (in_body && config.drag) return;\r\n\t\tvar in_header = typeof element_class === \"string\" && element_class.indexOf(\"webix_hcell\")!=-1;\r\n\t\tthis._rs_ready = false;\r\n\t\t\r\n\t\tif (in_body || in_header){\r\n\t\t\tvar dx = node.offsetWidth;\r\n\t\t\tvar dy = node.offsetHeight;\r\n\t\t\tvar pos = webix.html.posRelative(e);\r\n\r\n\t\t\tvar resizeRow = config.resizeRow;\r\n\t\t\t// if resize is only within the first column\r\n\t\t\tif(typeof resizeRow == \"object\" && resizeRow.headerOnly){\r\n\t\t\t\tcell = this._locate(node);\r\n\t\t\t\tif(cell.cind >0)\r\n\t\t\t\t\tresizeRow = false;\r\n\t\t\t}\r\n\r\n\t\t\tif (in_body && resizeRow){\r\n\t\t\t\tresizeRow = (typeof resizeRow == \"object\" && resizeRow.size?resizeRow.size:3);\r\n\t\t\t\tif (pos.y<resizeRow){\r\n\t\t\t\t\tif(!cell)\r\n\t\t\t\t\t\tcell = this._locate(node);\r\n\t\t\t\t\t// avoid resize header border\r\n\t\t\t\t\tif(cell.rind){\r\n\t\t\t\t\t\tthis._rs_ready = [\"y\", 0, node];\r\n\t\t\t\t\t\tmode = \"n-resize\";\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (dy-pos.y<resizeRow+1){\r\n\t\t\t\t\tthis._rs_ready = [\"y\", dy, node];\r\n\t\t\t\t\tmode = \"n-resize\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar resizeColumn = config.resizeColumn;\r\n\t\t\t// if resize is only within the header\r\n\t\t\tif(typeof resizeColumn == \"object\" && resizeColumn.headerOnly && in_body)\r\n\t\t\t\tresizeColumn = false;\r\n\r\n\t\t\tif (resizeColumn){\r\n\t\t\t\tresizeColumn = (typeof resizeColumn == \"object\" && resizeColumn.size?resizeColumn.size:3);\r\n\r\n\t\t\t\tif (pos.x<resizeColumn){\r\n\t\t\t\t\tthis._rs_ready = [\"x\", 0, node];\r\n\t\t\t\t\tmode = \"e-resize\";\r\n\t\t\t\t} else if (dx-pos.x<resizeColumn+1){\r\n\t\t\t\t\tthis._rs_ready = [\"x\", dx, node];\r\n\t\t\t\t\tmode = \"e-resize\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//mark or unmark resizing ready state\r\n\t\tif (this._cursor_timer) window.clearTimeout(this._cursor_timer);\r\n\t\tthis._cursor_timer = webix.delay(this._mark_resize_ready, this, [mode], mode?100:0);\r\n\t},\r\n\r\n\t_mark_resize_ready:function(mode){\r\n\t\tif (this._last_cursor_mode != mode){\r\n\t\t\tthis._last_cursor_mode = mode;\r\n\t\t\tthis._viewobj.style.cursor=mode||\"default\";\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\nwebix.extend(webix.ui.datatable,webix.PagingAbility);\r\n\r\nwebix.csv = {\r\n\tescape:true,\r\n\tdelimiter:{\r\n\t\trows: \"\\n\",\r\n\t\tcols: \"\\t\"\r\n\t},\r\n\tparse:function(text, sep){\r\n\t\tsep = sep||this.delimiter;\r\n\t\tif (!this.escape)\r\n\t\t\treturn this._split_clip_data(text, sep);\r\n\r\n\t\tvar lines = text.replace(/\\n$/,\"\").split(sep.rows);\r\n\r\n\t\tvar i = 0;\r\n\t\twhile (i < lines.length - 1) {\r\n\t\t\tif (this._substr_count(lines[i], '\"') % 2 === 1) {\r\n\t\t\t\tlines[i] += sep.rows + lines[i + 1];\r\n\t\t\t\tdelete lines[i + 1];\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t\tvar csv = [];\r\n\t\tfor (i = 0; i < lines.length; i++) {\r\n\t\t\tif (typeof(lines[i]) !== 'undefined') {\r\n\t\t\t\tvar line = lines[i].split(sep.cols);\r\n\t\t\t\tfor (var j = 0; j < line.length; j++) {\r\n\t\t\t\t\tif (line[j].indexOf('\"') === 0)\r\n\t\t\t\t\t\tline[j] = line[j].substr(1, line[j].length - 2);\r\n\t\t\t\t\tline[j] = line[j].replace('\"\"', '\"');\r\n\t\t\t\t}\r\n\t\t\t\tcsv.push(line);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn csv;\r\n\t},\r\n\t_split_clip_data: function(text, sep) {\r\n\t\tvar lines = text.split(sep.rows);\r\n\t\tfor (var i = 0; i < lines.length; i++) {\r\n\t\t\tlines[i] = lines[i].split(sep.cols);\r\n\t\t}\r\n\t\treturn lines;\r\n\t},\r\n\t/*! counts how many occurances substring in string **/\r\n\t_substr_count: function(string, substring) {\r\n\t\tvar arr = string.split(substring);\r\n\t\treturn arr.length - 1;\r\n\t},\r\n\tstringify:function(data, sep){\r\n\t\tsep = sep||this.delimiter;\r\n\r\n\t\tif (!this.escape){\r\n\t\t\tfor (var i = 0; i < data.length; i++)\r\n\t\t\t\tdata[i] = data[i].join(sep.cols);\r\n\t\t\treturn data.join(sep.rows);\r\n\t\t}\r\n\r\n\t\tvar reg = /\\n|\\\"|;|,/;\r\n\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\tfor (var j = 0; j < data[i].length; j++) {\r\n\t\t\t\tif (reg.test(data[i][j])) {\r\n\t\t\t\t\tdata[i][j] = data[i][j].replace(/\"/g, '\"\"');\r\n\t\t\t\t\tdata[i][j] = '\"' + data[i][j] + '\"';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdata[i] = data[i].join(sep.cols);\r\n\t\t}\r\n\t\tdata = data.join(sep.rows);\r\n\t\treturn data;\r\n\t}\r\n};\r\n\r\nwebix.TablePaste = {\r\n\tclipboard_setter:function(value){\r\n\t\tif (value === true || value === 1) this._settings.clipboard = 'block';\r\n\t\twebix.clipbuffer.init();\r\n\t\tthis.attachEvent(\"onSelectChange\",this._sel_to_clip);\r\n\t\t// solution for clicks on selected items\r\n\t\tthis.attachEvent(\"onItemClick\",function(id,e,node){\r\n\t\t\tif(!document.activeElement || !this.$view.contains(document.activeElement)){\r\n\t\t\t\twebix.clipbuffer.focus();\r\n\t\t\t\twebix.UIManager.setFocus(this);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.attachEvent(\"onPaste\", this._clip_to_sel);\r\n\r\n\t\treturn value;\r\n\t},\r\n\r\n\t_sel_to_clip: function() {\r\n\t\tif (!this.getEditor || !this.getEditor()){\r\n\t\t\tvar data = this._get_sel_text();\r\n\t\t\twebix.clipbuffer.set(data);\r\n\t\t\twebix.UIManager.setFocus(this);\r\n\t\t}\r\n\t},\r\n\r\n\t_get_sel_text: function() {\r\n\t\tvar data = [];\r\n\t\tthis.mapSelection(function(value, row, col, row_ind, col_ind) {\r\n\t\t\tif (!data[row_ind]) data[row_ind] = [];\r\n\t\t\tdata[row_ind].push(value);\r\n\t\t\treturn value;\r\n\t\t});\r\n\r\n\t\treturn webix.csv.stringify(data, this._settings.delimiter);\r\n\t},\r\n\r\n\t_clip_to_sel: function(text) {\r\n\t\tif (!webix.isUndefined(this._paste[this._settings.clipboard])) {\r\n\t\t\tvar data = webix.csv.parse(text, this._settings.delimiter);\r\n\t\t\tthis._paste[this._settings.clipboard].call(this, data);\r\n\t\t}\r\n\t},\r\n\r\n\t_paste: {\r\n\t\tblock: function(data) {\r\n\t\t\tvar leftTop = this.mapSelection(null);\r\n\t\t\tif (!leftTop) return;\r\n\r\n\t\t\t// filling cells with data\r\n\t\t\tthis.mapCells(leftTop.row, leftTop.column, data.length, null, function(value, row, col, row_ind, col_ind) {\r\n\t\t\t\tif (data[row_ind] && data[row_ind].length>col_ind) {\r\n\t\t\t\t\treturn data[row_ind][col_ind];\r\n\t\t\t\t}\r\n\t\t\t\treturn value;\r\n\t\t\t});\r\n\t\t\tthis.render();\r\n\t\t},\r\n\r\n\t\tselection: function(data) {\r\n\t\t\tthis.mapSelection(function(value, row, col, row_ind, col_ind) {\r\n\t\t\t\tif (data[row_ind] && data[row_ind].length>col_ind)\r\n\t\t\t\t\treturn data[row_ind][col_ind];\r\n\t\t\t\treturn value;\r\n\t\t\t});\r\n\t\t\tthis.render();\r\n\t\t},\r\n\r\n\t\trepeat: function(data) {\r\n\t\t\tthis.mapSelection(function(value, row, col, row_ind, col_ind) {\r\n\t\t\t\trow = data[row_ind%data.length];\r\n\t\t\t\tvalue = row[col_ind%row.length];\r\n\t\t\t\treturn value;\r\n\t\t\t});\r\n\t\t\tthis.render();\r\n\t\t},\r\n\r\n\t\tcustom: function(text) {}\r\n\t}\r\n};\r\n\r\nwebix.extend(webix.ui.datatable, webix.TablePaste);\r\nif(!webix.storage)\r\n\twebix.storage = {};\r\n\r\nwebix.storage.local = {\r\n\tput:function(name, data){\r\n\t\tif(name && window.JSON && window.localStorage){\r\n\t\t\twindow.localStorage.setItem(name, window.JSON.stringify(data));\r\n\t\t}\r\n\t},\r\n\tget:function(name){\r\n\t\tif(name && window.JSON && window.localStorage){\r\n\t\t\tvar json = window.localStorage.getItem(name);\r\n\t\t\tif(!json)\r\n\t\t\t\treturn null;\r\n\t\t\treturn webix.DataDriver.json.toObject(json);\r\n\t\t}else\r\n\t\t\treturn null;\r\n\t},\r\n\tremove:function(name){\r\n\t\tif(name && window.JSON && window.localStorage){\r\n\t\t\twindow.localStorage.removeItem(name);\r\n\t\t}\r\n\t},\r\n\tclear:function(){\r\n\t\twindow.localStorage.clear();\r\n\t}\r\n};\r\n\r\nwebix.storage.session = {\r\n\tput:function(name, data){\r\n\t\tif(name && window.JSON && window.sessionStorage){\r\n\t\t\twindow.sessionStorage.setItem(name, window.JSON.stringify(data));\r\n\t\t}\r\n\t},\r\n\tget:function(name){\r\n\t\tif(name && window.JSON && window.sessionStorage){\r\n\t\t\tvar json = window.sessionStorage.getItem(name);\r\n\t\t\tif(!json)\r\n\t\t\t\treturn null;\r\n\t\t\treturn webix.DataDriver.json.toObject(json);\r\n\t\t}else\r\n\t\t\treturn null;\r\n\t},\r\n\tremove:function(name){\r\n\t\tif(name && window.JSON && window.sessionStorage){\r\n\t\t\twindow.sessionStorage.removeItem(name);\r\n\t\t}\r\n\t},\r\n\tclear:function(){\r\n\t\twindow.sessionStorage.clear();\r\n\t}\r\n};\r\n\r\nwebix.storage.cookie = {\r\n\tput:function(name, data, domain, expires ){\r\n\t\tif(name && window.JSON){\r\n\t\t\tdocument.cookie = name + \"=\" + escape(window.JSON.stringify(data)) +\r\n\t\t\t(( expires && (expires instanceof Date)) ? \";expires=\" + expires.toUTCString() : \"\" ) +\r\n\t\t\t(( domain ) ? \";domain=\" + domain : \"\" ) + \r\n\t\t\t(( webix.env.https ) ? \";secure\" : \"\");\r\n\t\t}\r\n\t},\r\n\t_get_cookie:function(check_name){\r\n\t\t// first we'll split this cookie up into name/value pairs\r\n\t\t// note: document.cookie only returns name=value, not the other components\r\n\t\tvar a_all_cookies = document.cookie.split( ';' );\r\n\t\tvar a_temp_cookie = '';\r\n\t\tvar cookie_name = '';\r\n\t\tvar cookie_value = '';\r\n\t\tvar b_cookie_found = false; // set boolean t/f default f\r\n\r\n\t\tfor (var i = 0; i < a_all_cookies.length; i++ ){\r\n\t\t\t// now we'll split apart each name=value pair\r\n\t\t\ta_temp_cookie = a_all_cookies[i].split( '=' );\r\n\r\n\t\t\t// and trim left/right whitespace while we're at it\r\n\t\t\tcookie_name = a_temp_cookie[0].replace(/^\\s+|\\s+$/g, '');\r\n\r\n\t\t\t// if the extracted name matches passed check_name\r\n\t\t\tif (cookie_name == check_name ){\r\n\t\t\t\tb_cookie_found = true;\r\n\t\t\t\t// we need to handle case where cookie has no value but exists (no = sign, that is):\r\n\t\t\t\tif ( a_temp_cookie.length > 1 ){\r\n\t\t\t\t\tcookie_value = unescape( a_temp_cookie[1].replace(/^\\s+|\\s+$/g, '') );\r\n\t\t\t\t}\r\n\t\t\t\t// note that in cases where cookie is initialized but no value, null is returned\r\n\t\t\t\treturn cookie_value;\r\n\t\t\t}\r\n\t\t\ta_temp_cookie = null;\r\n\t\t\tcookie_name = '';\r\n\t\t}\r\n\t\tif ( !b_cookie_found ){\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\tget:function(name){\r\n\t\tif(name && window.JSON){\r\n\t\t\tvar json = this._get_cookie(name);\r\n\t\t\tif(!json)\r\n\t\t\t\treturn null;\r\n\t\t\treturn webix.DataDriver.json.toObject(unescape(json));\r\n\t\t}else\r\n\t\t\treturn null;\r\n\t},\r\n\tremove:function(name, domain){\r\n\t\tif(name && this._get_cookie(name)) \r\n\t\t\tdocument.cookie = name + \"=\" + (( domain ) ? \";domain=\" + domain : \"\") + \";expires=Thu, 01-Jan-1970 00:00:01 GMT\";\r\n\t},\r\n\tclear:function(domain){\r\n\t\tvar cookies = document.cookie.split(\";\");\r\n\t\tfor (var i = 0; i < cookies.length; i++)\r\n\t\t\tdocument.cookie = /^[^=]+/.exec(cookies[i])[0] + \"=\" + (( domain ) ? \";domain=\" + domain : \"\") + \";expires=Thu, 01-Jan-1970 00:00:01 GMT\";\t\t\r\n\t}\r\n};\r\n\r\nwebix.DataState = {\r\n\tgetState:function(){\r\n\t\tvar cols_n = this.config.columns.length;\r\n\t\tvar columns = this.config.columns;\r\n\t\tvar settings = { \r\n\t\t\tids:[],\r\n\t\t\tsize:[],\r\n\t\t\tselect:this.getSelectedId(true),\r\n            scroll:this.getScrollState()\r\n\t\t};\r\n\t\tfor(var i = 0; i < cols_n; i++){\r\n\t\t\tsettings.ids.push(columns[i].id);\r\n\t\t\tsettings.size.push(columns[i].width);\r\n\t\t}\r\n\r\n\t\tsettings.order = [].concat(this._hidden_column_order.length ? this._hidden_column_order : settings.ids);\r\n\r\n\t\tif(this._last_sorted){\r\n\t\t\tsettings.sort={\r\n\t\t\t\tid:this._last_sorted,\r\n\t\t\t\tdir:this._last_order\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (this._filter_elements) {\r\n\t\t\tvar filter = {};\r\n\t\t\tvar any_filter = 0;\r\n\t\t\tfor (var key in this._filter_elements) {\r\n\t\t\t\tif (this._hidden_column_hash[key]) continue;\r\n\r\n\t\t\t\tvar f = this._filter_elements[key];\r\n\t\t\t\tf[1].value = filter[key] = f[2].getValue(f[0]);\r\n\t\t\t\tany_filter = 1;\r\n\t\t\t}\r\n\t\t\tif (any_filter)\r\n\t\t\t\tsettings.filter=filter;\r\n\t\t}\r\n\r\n\t\tsettings.hidden = [];\r\n\t\tfor (var key in this._hidden_column_hash)\r\n\t\t\tsettings.hidden.push(key);\r\n\t\t\r\n\t\treturn settings;\r\n\t},\r\n\tsetState:function(obj){\r\n\t\tvar columns = this.config.columns;\r\n\t\tif(!obj) return;\r\n\r\n\t\tthis._last_sorted = null; \r\n\t\tthis.blockEvent();\r\n\r\n        if (obj.hidden){\r\n            var hihash = {};\r\n            for (var i=0; i<obj.hidden.length; i++){\r\n                hihash[obj.hidden[i]] = true;\r\n                if(!this._hidden_column_order.length)\r\n                    this.hideColumn(obj.hidden[i]);\r\n            }\r\n\r\n            if(this._hidden_column_order.length){\r\n                for (var i=0; i<this._hidden_column_order.length; i++){\r\n                    var hikey = this._hidden_column_order[i];\r\n                    if (!!hihash[hikey] == !this._hidden_column_hash[hikey])\r\n                        this.hideColumn(hikey, !!hihash[hikey]);\r\n                }\r\n            }\r\n        }\r\n\r\n\t\tif (obj.ids){\r\n\t\t\tvar reorder = false;\r\n\t\t\tvar cols = this.config.columns;\r\n\t\t\tfor (var i=0; i<cols.length; i++)\r\n\t\t\t\tif (cols[i].id != obj.ids[i])\r\n\t\t\t\t\treorder = true;\r\n\t\t\tif (reorder){\r\n\t\t\t\tfor (var i=0; i<obj.ids.length; i++)\r\n\t\t\t\t\tcols[i] = this.getColumnConfig(obj.ids[i]) || cols[i];\r\n\t\t\t\tthis.refreshColumns();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (obj.size){\r\n\t\t\tvar cols_n = Math.min(obj.size.length, columns.length);\r\n\t\t\tfor(var i = 0; i < cols_n; i++){\r\n\t\t\t\tif(columns[i] && columns[i].width != obj.size[i])\r\n\t\t\t\t\tthis._setColumnWidth( i, obj.size[i], true);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (obj.filter){\r\n\t\t\tfor (var key in this._filter_elements){\r\n\t\t\t\tvar f = this._filter_elements[key];\r\n\t\t\t\tf[2].setValue(f[0], \"\");\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.unblockEvent();\r\n\t\tthis._updateColsSizeSettings(true);\r\n\t\tthis.callEvent(\"onStructureUpdate\", []);\r\n\r\n\t\tif(obj.sort){\r\n\t\t\tvar column = columns[this.getColumnIndex(obj.sort.id)];\r\n\t\t\tif (column)\r\n\t\t\t\tthis._sort(obj.sort.id, obj.sort.dir, column.sort);\t\r\n\t\t}\r\n\t\t\t\t\r\n\t\tif (obj.filter){\r\n\t\t\tfor (var key in obj.filter) {\r\n\t\t\t\tvar value = obj.filter[key];\r\n\t\t\t\tif (!value) continue;\r\n\r\n\t\t\t\tif (!this._filter_elements[key]) continue;\r\n\t\t\t\tvar f = this._filter_elements[key];\r\n\t\t\t\tf[2].setValue(f[0], value);\r\n\t\t\t\tvar contentid = f[1].contentId;\r\n\t\t\t\tif (contentid)\r\n\t\t\t\t\tthis._active_headers[contentid].value = value;\r\n\t\t\t}\r\n\t\t\tthis.filterByAll();\r\n\t\t}\r\n\r\n\t\tif (obj.select && this.select){\r\n\t\t\tvar select = obj.select;\r\n\t\t\tthis.unselect();\r\n\t\t\tfor (var i = 0; i < select.length; i++)\r\n\t\t\t\tif (!select[i].row || this.exists(select[i].row))\r\n\t\t\t\t\tthis._select(select[i], true);\r\n\t\t}\r\n\r\n        if(obj.scroll)\r\n            this.scrollTo(obj.scroll.x, obj.scroll.y);\r\n\t}\r\n};\r\n\r\nwebix.extend(webix.ui.datatable, webix.DataState);\r\n\r\n\r\n(function(){\r\nvar t = webix.Touch = {\r\n\tconfig:{\r\n\t\tlongTouchDelay:1000,\r\n\t\tscrollDelay:150,\r\n\t\tgravity:500,\r\n\t\tdeltaStep:30,\r\n\t\tspeed:\"0ms\",\r\n\t\tfinish:1500,\r\n\t\tellastic:true\r\n\t},\r\n\tlimit:function(value){\r\n\t\tt._limited = value !== false;\t\r\n\t},\r\n\tdisable:function(){\r\n\t\tt._disabled = true;\r\n\t},\r\n\tenable:function(){\r\n\t\tt._disabled = false;\r\n\t},\r\n\t$init:function(){\r\n\t\tt.$init = function(){};\r\n\r\n\t\twebix.event(document.body, mouse.down,\tt._touchstart);\r\n\t\twebix.event(document.body, mouse.move, \tt._touchmove);\r\n\t\twebix.event(document.body, mouse.up, \tt._touchend);\r\n\r\n\t\twebix.event(document.body,\"dragstart\",function(e){\r\n\t\t\treturn webix.html.preventEvent(e);\r\n\t\t});\r\n\t\twebix.event(document.body,\"touchstart\",function(e){\r\n\t\t\tif (t._disabled || t._limited) return;\r\n\t\t\t//fast click mode for iOS\r\n\t\t\t//To have working form elements Android must not block event - so there are no fast clicks for Android\r\n\t\t\t//Selects still don't work with fast clicks\r\n\t\t\tif (webix.env.isSafari) {\r\n\t\t\t\tvar tag = e.srcElement.tagName.toLowerCase();\r\n\t\t\t\tif (tag == \"input\" || tag == \"textarea\" || tag == \"select\" || tag==\"label\")\r\n\t\t\t\t\treturn true;\r\n\r\n\t\t\t\tt._fire_fast_event = true;\r\n\t\t\t\treturn webix.html.preventEvent(e);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tt._clear_artefacts();\r\n\t\tt._scroll = [null, null];\r\n\t\tt.$active = true;\r\n\t},\r\n\t_clear_artefacts:function(){\r\n\t\tt._start_context = t._current_context = t._prev_context = t._scroll_context = null;\r\n\t\tt._scroll_mode = t._scroll_node = t._scroll_stat = this._long_touched = null;\r\n\t\t//webix.html.remove(t._scroll);\r\n\t\t//t._scroll = [null, null];\r\n\t\tt._delta = \t{ _x_moment:0, _y_moment:0, _time:0 };\r\n\r\n\t\tif (t._css_button_remove){\r\n\t\t\twebix.html.removeCss(t._css_button_remove,\"webix_touch\");\r\n\t\t\tt._css_button_remove = null;\r\n\t\t}\r\n\t\t\r\n\t\twindow.clearTimeout(t._long_touch_timer);\r\n\t\tt._was_not_moved = true;\r\n\t\tt._axis_x = true;\r\n\t\tt._axis_y = true;\r\n\t\tif (!t._active_transion)\r\n\t\t\tt._scroll_end();\r\n\t},\r\n\t_touchend:function(e){\r\n\t\tif (t._start_context) {\r\n\t\t\tif (!t._scroll_mode) {\r\n\t\t\t\tif (!this._long_touched) {\r\n\t\t\t\t\tif (t._axis_y && !t._axis_x) {\r\n\t\t\t\t\t\tt._translate_event(\"onSwipeX\");\r\n\t\t\t\t\t} else if (t._axis_x && !t._axis_y) {\r\n\t\t\t\t\t\tt._translate_event(\"onSwipeY\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (webix.env.isSafari && t._fire_fast_event) { //need to test for mobile ff and blackbery\r\n\t\t\t\t\t\t\tt._fire_fast_event = false;\r\n\t\t\t\t\t\t\tvar target = t._start_context.target;\r\n\r\n\t\t\t\t\t\t\t//dark iOS magic, without delay it can skip repainting\r\n\t\t\t\t\t\t\twebix.delay(function () {\r\n\t\t\t\t\t\t\t\tvar click_event = document.createEvent('MouseEvents');\r\n\t\t\t\t\t\t\t\tclick_event.initEvent('click', true, true);\r\n\t\t\t\t\t\t\t\ttarget.dispatchEvent(click_event);\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\r\n\t\t\t\tvar temp = t._get_matrix(t._scroll_node);\r\n\t\t\t\tvar x = temp.e;\r\n\t\t\t\tvar y = temp.f;\r\n\t\t\t\tvar finish = t.config.finish;\r\n\r\n\t\t\t\tvar delta = t._get_delta(e, true);\r\n\t\t\t\tvar view = webix.$$(t._scroll_node);\r\n\r\n\t\t\t\tvar gravity = (view && view.$scroll ? view.$scroll.gravity : t.config.gravity);\r\n\t\t\t\tif (delta._time) {\r\n\t\t\t\t\tvar nx = x + gravity * delta._x_moment / delta._time;\r\n\t\t\t\t\tvar ny = y + gravity * delta._y_moment / delta._time;\r\n\r\n\t\t\t\t\tvar cnx = t._scroll[0] ? t._correct_minmax(nx, false, false, t._scroll_stat.dx, t._scroll_stat.px) : x;\r\n\t\t\t\t\tvar cny = t._scroll[1] ? t._correct_minmax(ny, false, false, t._scroll_stat.dy, t._scroll_stat.py) : y;\r\n\r\n\r\n\t\t\t\t\tvar size = Math.max(Math.abs(cnx - x), Math.abs(cny - y));\r\n\t\t\t\t\tif (size < 150)\r\n\t\t\t\t\t\tfinish = finish * size / 150;\r\n\r\n\t\t\t\t\tif (cnx != x || cny != y)\r\n\t\t\t\t\t\tfinish = Math.round(finish * Math.max((cnx - x) / (nx - x), (cny - y) / (ny - y)));\r\n\r\n\t\t\t\t\tvar result = {e: cnx, f: cny};\r\n\r\n\r\n\t\t\t\t\tvar view = webix.$$(t._scroll_node);\r\n\t\t\t\t\tif (view && view.adjustScroll)\r\n\t\t\t\t\t\tview.adjustScroll(result);\r\n\r\n\r\n\t\t\t\t\t//finish = Math.max(100,(t._fast_correction?100:finish));\r\n\t\t\t\t\tfinish = Math.max(100, finish);\r\n\r\n\r\n\t\t\t\t\tif (x != result.e || y != result.f) {\r\n\t\t\t\t\t\tt._set_matrix(t._scroll_node, result.e, result.f, finish + \"ms\");\r\n\t\t\t\t\t\tif (t._scroll_master)\r\n\t\t\t\t\t\t\tt._scroll_master._sync_scroll(result.e, result.f, finish + \"ms\");\r\n\t\t\t\t\t\tt._set_scroll(result.e, result.f, finish + \"ms\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tt._scroll_end();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else\r\n\t\t\t\t\tt._scroll_end();\r\n\t\t\t}\r\n\t\t\tt._translate_event(\"onTouchEnd\");\r\n\t\t\tt._clear_artefacts();\r\n\t\t}\r\n\t},\r\n\t_touchmove:function(e){\r\n\t\tif (!t._scroll_context || !t._start_context) return;\r\n\r\n\t\tvar\tdelta = t._get_delta(e);\r\n\t\tt._translate_event(\"onTouchMove\");\r\n\r\n\t\tif (t._scroll_mode){\r\n\t\t\tt._set_scroll_pos(delta);\r\n\t\t} else {\r\n\t\t\tt._axis_x = t._axis_check(delta._x, \"x\", t._axis_x);\r\n\t\t\tt._axis_y = t._axis_check(delta._y, \"y\", t._axis_y);\r\n\t\t\tif (t._scroll_mode){\r\n\t\t\t\tvar view = t._get_event_view(\"onBeforeScroll\", true);\r\n\t\t\t\tif (view){\r\n\t\t\t\t\tvar data = {};\r\n\t\t\t\t\tview.callEvent(\"onBeforeScroll\",[data]);\r\n\t\t\t\t\tif (data.update){\r\n\t\t\t\t\t\tt.config.speed = data.speed;\r\n\t\t\t\t\t\tt.config.scale = data.scale;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tt._init_scroller(delta); //apply scrolling\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn webix.html.preventEvent(e);\r\n\t},\r\n\t_set_scroll_pos:function(){\r\n\t\tif (!t._scroll_node) return;\r\n\t\tvar temp = t._get_matrix(t._scroll_node);\r\n\t\tvar be = temp.e, bf = temp.f;\r\n\t\tvar prev = t._prev_context || t._start_context;\r\n\r\n\t\tvar view = webix.$$(t._scroll_node);\r\n\t\tvar ellastic = (view&&view.$scroll)?view.$scroll.ellastic: t.config.ellastic;\r\n\t\tif (t._scroll[0])\r\n\t\t\ttemp.e = t._correct_minmax( temp.e - prev.x + t._current_context.x , ellastic, temp.e, t._scroll_stat.dx, t._scroll_stat.px);\r\n\t\tif (t._scroll[1])\r\n\t\t\ttemp.f = t._correct_minmax( temp.f - prev.y + t._current_context.y , ellastic, temp.f, t._scroll_stat.dy, t._scroll_stat.py);\r\n\r\n\t\tt._set_matrix(t._scroll_node, temp.e, temp.f, \"0ms\");\r\n\t\tif (t._scroll_master)\r\n\t\t\tt._scroll_master._sync_scroll(temp.e, temp.f, \"0ms\");\r\n\t\tt._set_scroll(temp.e, temp.f, \"0ms\");\r\n\t},\r\n\t_set_scroll:function(dx, dy, speed){\r\n\t\t\r\n\t\tvar edx = t._scroll_stat.px/t._scroll_stat.dx * -dx;\r\n\t\tvar edy = t._scroll_stat.py/t._scroll_stat.dy * -dy;\r\n\t\tif (t._scroll[0])\r\n\t\t\tt._set_matrix(t._scroll[0], edx, 0 ,speed);\r\n\t\tif (t._scroll[1])\r\n\t\t\tt._set_matrix(t._scroll[1], 0, edy ,speed);\r\n\t},\r\n\tscrollTo:function(node, x, y, speed){\r\n\t\tt._set_matrix(node,x,y,speed);\r\n\t},\r\n\t_set_matrix:function(node, xv, yv, speed){\r\n\t\tif(!t._in_anim_frame && window.setAnimationFrame){\r\n\t\t\twindow.setAnimationFrame(function(){\r\n\t\t\t\tt._in_anim_frame = true;\r\n\t\t\t\treturn t._set_matrix(node, xv, yv, speed);\r\n\t\t\t});\r\n\t\t}\r\n\t\tt._in_anim_frame = null;\r\n\t\tt._active_transion = true;\r\n\t\tif (node){\r\n\t\t\tvar trans = t.config.translate || webix.env.translate;\r\n\t\t\tnode.style[webix.env.transform] = trans+\"(\"+Math.round(xv)+\"px, \"+Math.round(yv)+\"px\"+((trans==\"translate3d\")?\", 0\":\"\")+\")\";\r\n\t\t\tnode.style[webix.env.transitionDuration] = speed;\r\n\t\t}\r\n\t},\r\n\t_get_matrix:function(node){\r\n\t\tvar matrix = window.getComputedStyle(node)[webix.env.transform];\r\n\t\tvar tmatrix;\r\n\r\n\t\tif (matrix == \"none\")\r\n\t\t\ttmatrix = {e:0, f:0};\r\n\t\telse {\r\n            if(window.WebKitCSSMatrix)\r\n                tmatrix = new WebKitCSSMatrix(matrix);\r\n            else if (window.MSCSSMatrix)\r\n            \ttmatrix = new MSCSSMatrix(matrix);\r\n\t\t\telse {\r\n\t            // matrix(1, 0, 0, 1, 0, 0) --> 1, 0, 0, 1, 0, 0\r\n\t            var _tmatrix = matrix.replace(/(matrix\\()(.*)(\\))/gi, \"$2\");\r\n\t            // 1, 0, 0, 1, 0, 0 --> 1,0,0,1,0,0\r\n\t            _tmatrix = _tmatrix.replace(/\\s/gi, \"\");\r\n\t            _tmatrix = _tmatrix.split(',');\r\n\r\n\t            var tmatrix = {};\r\n\t            var tkey = ['a', 'b', 'c', 'd', 'e', 'f'];\r\n\t            for(var i=0; i<tkey.length; i++){\r\n\t                tmatrix[tkey[i]] = parseInt(_tmatrix[i], 10);\r\n\t            }\r\n\t        }\r\n        }\r\n\r\n        if (t._scroll_master)\r\n        \tt._scroll_master._sync_pos(tmatrix);\r\n\r\n        return tmatrix;\r\n\t},\t\r\n\t_correct_minmax:function(value, allow, current, dx, px){\r\n\t\tif (value === current) return value;\r\n\t\t\r\n\t\tvar delta = Math.abs(value-current);\r\n\t\tvar sign = delta/(value-current);\r\n\t//\tt._fast_correction = true;\r\n\t\t\r\n\t\t\r\n\t\tif (value>0) return allow?(current + sign*Math.sqrt(delta)):0;\r\n\t\t\r\n\t\tvar max = dx - px;\r\n\t\tif (max + value < 0)\t\r\n\t\t\treturn allow?(current - Math.sqrt(-(value-current))):-max;\r\n\t\t\t\r\n\t//\tt._fast_correction = false;\r\n\t\treturn value;\r\n\t},\t\r\n\t_init_scroll_node:function(node){\r\n\t\tif (!node.scroll_enabled){ \r\n\t\t\tnode.scroll_enabled = true;\t\r\n\t\t\tnode.parentNode.style.position=\"relative\";\r\n\t\t\tvar prefix = webix.env.cssPrefix;\r\n\t\t\tnode.style.cssText += prefix+\"transition: \"+prefix+\"transform; \"+prefix+\"user-select:none; \"+prefix+\"transform-style:flat;\";\r\n\t\t\tnode.addEventListener(webix.env.transitionEnd,t._scroll_end,false);\r\n\t\t}\r\n\t},\r\n\t_init_scroller:function(delta){\r\n\t\tif (t._scroll_mode.indexOf(\"x\") != -1)\r\n\t\t\tt._scroll[0] = t._create_scroll(\"x\", t._scroll_stat.dx, t._scroll_stat.px, \"width\");\r\n\t\tif (t._scroll_mode.indexOf(\"y\") != -1)\r\n\t\t\tt._scroll[1] = t._create_scroll(\"y\", t._scroll_stat.dy, t._scroll_stat.py, \"height\");\r\n\t\t\t\r\n\t\tt._init_scroll_node(t._scroll_node);\r\n\t\twindow.setTimeout(t._set_scroll_pos,1);\r\n\t},\r\n\t_create_scroll:function(mode, dy, py, dim){\r\n\t\tif (dy - py <2){\r\n\t\t\tvar matrix = t._get_matrix(t._scroll_node);\r\n\t\t\tvar e = (mode==\"y\"?matrix.e:0);\r\n\t\t\tvar f = (mode==\"y\"?0:matrix.f);\r\n\t\t\tif (!t._scroll_master)\r\n\t\t\t\tt._set_matrix(t._scroll_node, e, f, \"0ms\");\r\n\t\t\tt._scroll_mode = t._scroll_mode.replace(mode,\"\");\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\r\n\t\tvar scroll = webix.html.create(\"DIV\", {\r\n\t\t\t\"class\":\"webix_scroll_\"+mode\r\n\t\t},\"\");\r\n\t\t\r\n\t\tscroll.style[dim] = Math.max((py*py/dy-7),10) +\"px\";\r\n\t\tt._scroll_node.parentNode.appendChild(scroll);\r\n\t\t\r\n\t\treturn scroll;\r\n\t},\r\n\t_axis_check:function(value, mode, old){\r\n\t\tif (value > t.config.deltaStep){\r\n\t\t\t\tif (t._was_not_moved){\r\n\t\t\t\t\tt._long_move(mode);\r\n\t\t\t\t\tt._locate(mode);\r\n\t\t\t\t\tif ((t._scroll_mode||\"\").indexOf(mode) == -1) t._scroll_mode = \"\";\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t\treturn old;\r\n\t},\r\n\t_scroll_end:function(){\r\n        //sending event to the owner of the scroll only\r\n        var result,state,view;\r\n        view = webix.$$(t._scroll_node||this);\r\n        if (view){\r\n        \tif (t._scroll_node)\r\n        \t\tresult = t._get_matrix(t._scroll_node);\r\n        \telse if(view.getScrollState){\r\n                state = view.getScrollState();\r\n                result = {e:state.x, f:state.y};\r\n            }\r\n            webix.callEvent(\"onAfterScroll\", [result]);\r\n            if (view.callEvent)\r\n                 view.callEvent(\"onAfterScroll\",[result]);\r\n        }\r\n\t\tif (!t._scroll_mode){\r\n\t\t\twebix.html.remove(t._scroll);\r\n\t\t\tt._scroll = [null, null];\r\n\t\t}\r\n\t\tt._active_transion = false;\r\n\t},\r\n\t_long_move:function(mode){\r\n\t\twindow.clearTimeout(t._long_touch_timer);\r\n\t\tt._was_not_moved = false;\t\r\n\t},\t\r\n\t_stop_old_scroll:function(e){\r\n\t\tif (t._scroll[0] || t._scroll[1]){\r\n\t\t\tt._stop_scroll(e, t._scroll[0]?\"x\":\"y\");\r\n\t\t}else\r\n\t\t\treturn true;\r\n\t},\r\n\t_touchstart :function(e){\r\n\t\tvar target = e.target || event.srcElement;\r\n\r\n\r\n\t\tif (t._disabled || (target.tagName&&target.tagName.toLowerCase() == \"textarea\" && target.offsetHeight<target.scrollHeight)) return;\r\n\t\tt._long_touched = null;\r\n\t\tt._scroll_context = t._start_context = mouse.context(e);\r\n\r\n\t\t// in \"limited\" mode we should have possibility to use slider\r\n\t\tvar element = webix.$$(e);\r\n\r\n\t\tif (t._limited && !t._is_scroll() && !(element && element.$touchCapture)){\r\n\t\t\tt._scroll_context = null;\r\n\t\t}\r\n\r\n\r\n\r\n\t\tt._translate_event(\"onTouchStart\");\r\n\r\n\t\tif (t._stop_old_scroll(e))\r\n\t\t\tt._long_touch_timer = window.setTimeout(t._long_touch, t.config.longTouchDelay);\r\n\t\t\r\n\t\tif (element && element.touchable && (!target.className || target.className.indexOf(\"webix_view\")!==0)){\r\n\t\t\tt._css_button_remove = element.getNode(e);\r\n\t\t\twebix.html.addCss(t._css_button_remove,\"webix_touch\");\r\n\t\t}\t\r\n\t\t\t\r\n\t},\r\n\t_long_touch:function(e){\r\n        if(t._start_context){\r\n\t\t\tt._translate_event(\"onLongTouch\");\r\n\t\t\twebix.callEvent(\"onClick\", [t._start_context]);\r\n\t\t\tt._long_touched = true;\r\n\t\t\t//t._clear_artefacts();\r\n        }\r\n\t},\r\n\t_stop_scroll:function(e, stop_mode){ \r\n\t\tt._locate(stop_mode);\r\n\t\tvar scroll = t._scroll[0]||t._scroll[1];\r\n\t\tif (scroll){\r\n\t\t\tvar view = t._get_event_view(\"onBeforeScroll\", true);\r\n\t\t\tif (view)\r\n\t\t\t\tview.callEvent(\"onBeforeScroll\", [t._start_context,t._current_context]);\r\n\t\t}\r\n\t\tif (scroll && (!t._scroll_node || scroll.parentNode != t._scroll_node.parentNode)){\r\n\t\t\tt._clear_artefacts();\r\n\t\t\tt._scroll_end();\r\n\t\t\tt._start_context = mouse.context(e);\r\n\t\t}\r\n\t\tt._touchmove(e);\r\n\t},\t\r\n\t_get_delta:function(e, ch){\r\n\t\tt._prev_context = t._current_context;\r\n\t\tt._current_context = mouse.context(e);\r\n\t\t\t\r\n\t\tt._delta._x = Math.abs(t._start_context.x - t._current_context.x);\r\n\t\tt._delta._y = Math.abs(t._start_context.y - t._current_context.y);\r\n\t\t\r\n\t\tif (t._prev_context){\r\n\t\t\tif (t._current_context.time - t._prev_context.time < t.config.scrollDelay){\r\n\t\t\t\tt._delta._x_moment = t._delta._x_moment/1.3+t._current_context.x - t._prev_context.x;\r\n\t\t\t\tt._delta._y_moment = t._delta._y_moment/1.3+t._current_context.y - t._prev_context.y;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tt._delta._y_moment = t._delta._x_moment = 0;\r\n\t\t\t}\r\n\t\t\tt._delta._time = t._delta._time/1.3+(t._current_context.time - t._prev_context.time);\r\n\t\t}\r\n\t\t\r\n\t\treturn t._delta;\r\n\t},\r\n\t_get_sizes:function(node){\r\n\t\tt._scroll_stat = {\r\n\t\t\tdx:node.offsetWidth,\r\n\t\t\tdy:node.offsetHeight,\r\n\t\t\tpx:node.parentNode.offsetWidth,\r\n\t\t\tpy:node.parentNode.offsetHeight\r\n\t\t};\r\n\t},\r\n\t_is_scroll:function(locate_mode){\r\n\t\tvar node = t._start_context.target;\r\n\t\tif (!webix.env.touch && !webix.env.transition && !webix.env.transform) return null;\r\n\t\twhile(node && node.tagName!=\"BODY\"){\r\n\t\t\tif(node.getAttribute){\r\n\t\t\t\tvar mode = node.getAttribute(\"touch_scroll\");\r\n\t\t\t\tif (mode && (!locate_mode || mode.indexOf(locate_mode)!=-1))\r\n\t\t\t\t\treturn [node, mode];\r\n\t\t\t}\r\n\t\t\tnode = node.parentNode;\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\t_locate:function(locate_mode){\r\n\t\tvar state = this._is_scroll(locate_mode);\r\n\t\tif (state){\r\n\t\t\tt._scroll_mode = state[1];\r\n\t\t\tt._scroll_node = state[0];\r\n\t\t\tt._get_sizes(state[0]);\r\n\t\t}\r\n\t\treturn state;\r\n\t},\r\n\t_translate_event:function(name){\r\n\t\twebix.callEvent(name, [t._start_context,t._current_context]);\r\n\t\tvar view = t._get_event_view(name);\r\n\t\tif (view)\r\n\t\t\tview.callEvent(name, [t._start_context,t._current_context]);\r\n\t},\r\n\t_get_event_view:function(name, active){\r\n\t\tvar view = webix.$$(active ? t._scroll_node : t._start_context);\r\n\t\tif(!view) return null;\r\n\t\t\r\n\t\twhile (view){\r\n\t\t\tif (view.hasEvent&&view.hasEvent(name))\t\r\n\t\t\t\treturn view;\r\n\t\t\tview = view.getParentView();\r\n\t\t}\r\n\t\t\r\n\t\treturn null;\r\n\t},\t\r\n\t_get_context:function(e){\r\n\t\tif (!e.touches[0]) {\r\n\t\t\tvar temp = t._current_context;\r\n\t\t\ttemp.time = new Date();\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\t\t\r\n\t\treturn {\r\n\t\t\ttarget:e.target,\r\n\t\t\tx:e.touches[0].pageX,\r\n\t\t\ty:e.touches[0].pageY,\r\n\t\t\ttime:new Date()\r\n\t\t};\r\n\t},\r\n\t_get_context_m:function(e){\r\n\t\treturn {\r\n\t\t\ttarget:e.target || e.srcElement,\r\n\t\t\tx:e.pageX,\r\n\t\t\ty:e.pageY,\r\n\t\t\ttime:new Date()\r\n\t\t};\r\n\t}\r\n};\r\n\r\n\r\nwebix.ready(function(){\r\n\tif (webix.env.touch){\r\n\t\tt.$init();\r\n\t\t//not full screen mode\r\n\t\tif (document.body.className.indexOf(\"webix_full_screen\") == -1)\r\n\t\t\tt.limit(true);\r\n\r\n\t\tif (window.MSCSSMatrix)\r\n\t\t\twebix.html.addStyle(\".webix_view{ -ms-touch-action: none; }\");\r\n\t}\r\n});\r\n\r\n\r\nvar mouse = webix.env.mouse = { down:\"mousedown\", up:\"mouseup\", \r\n\t\t\t\t\t\t\t\tmove:\"mousemove\", context:t._get_context_m };\r\n\r\nif (window.navigator.pointerEnabled){\r\n\tmouse.down = \"pointerdown\";\r\n\tmouse.move = \"pointermove\";\r\n\tmouse.up   = \"pointerup\";\r\n} else if (window.navigator.msPointerEnabled){\r\n\tmouse.down = \"MSPointerDown\";\r\n\tmouse.move = \"MSPointerMove\";\r\n\tmouse.up   = \"MSPointerUp\";\r\n} else if (webix.env.touch){\r\n\tmouse.down = \"touchstart\";\r\n\tmouse.move = \"touchmove\";\r\n\tmouse.up   = \"touchend\";\r\n\tmouse.context = t._get_context;\r\n}\r\n\r\n\r\n})();\r\n\r\n\r\n\r\nwebix.attachEvent(\"onDataTable\", function(table, config){\r\n\tif (webix.env.touch){\r\n\t\twebix.Touch.$init();\r\n\t\tconfig.scrollSize = 0;\r\n\t\twebix.extend(table, (config.prerender===true)?table._touchNative:table._touch);\r\n\r\n\t\t// needed to show datatable scroll\r\n\t\tif(webix.Touch._disabled)\r\n\t\t\twebix.Touch.limit();\r\n\r\n\t\ttable.defaults.scrollAlignY = false;\r\n\r\n\t\ttable._body.setAttribute(\"touch_scroll\",\"xy\");\r\n\r\n\t\ttable.$ready.push(function(){\r\n\t\t\tvar scrollMode = \"\";\r\n\t\t\tvar config = this._settings;\r\n\t\t\tif (!config.autowidth && config.scrollX !== false)\r\n\t\t\t\tscrollMode += \"x\";\r\n\t\t\tif (!config.autoheight && config.scrollY !== false)\r\n\t\t\t\tscrollMode += \"y\";\r\n\t\t\tthis._body.setAttribute(\"touch_scroll\", scrollMode);\r\n\t\t});\r\n\t\t\r\n\t\twebix.Touch._init_scroll_node(table._body.childNodes[1].firstChild);\r\n\t\twebix.Touch._set_matrix(table._body.childNodes[1].firstChild, 0,0,\"0ms\");\r\n\t\ttable._sync_scroll(0,0,\"0ms\");\r\n\t}\r\n});\r\n\r\nwebix.extend(webix.ui.datatable, {\r\n\t_touchNative:{\r\n\t\t_scrollTo_touch:function(x,y){\r\n\t\t\twebix.Touch._set_matrix(this._body.childNodes[1].firstChild, 0,0,\"0ms\");\r\n\t\t\tthis._sync_scroll(x,y,\"0ms\");\r\n\t\t},\r\n\t\t_getScrollState_touch:function(){\r\n\t\t\tvar temp = webix.Touch._get_matrix(this._body.childNodes[1].firstChild);\r\n\t\t\treturn { x : -temp.e, y : -temp.f };\r\n\t\t},\r\n\t\t$init:function(){\r\n\t\t\tthis.attachEvent(\"onBeforeScroll\", function(){ \r\n\t\t\t\twebix.Touch._scroll_node = this._body.childNodes[1].firstChild;\r\n\t\t\t\twebix.Touch._get_sizes(webix.Touch._scroll_node);\r\n\t\t\t\twebix.Touch._scroll_master = this;\r\n\t\t\t});\r\n\t\t\tthis.attachEvent(\"onTouchEnd\", function(){\r\n\t\t\t\twebix.Touch._scroll_master = null;\r\n\t\t\t});\r\n\t\t},\r\n\t\t_sync_scroll:function(x,y,t){\r\n\t\t\tif (this._settings.leftSplit)\r\n\t\t\t\twebix.Touch._set_matrix(this._body.childNodes[0].firstChild,0,y,t);\r\n\t\t\tif (this._settings.rightSplit)\r\n\t\t\t\twebix.Touch._set_matrix(this._body.childNodes[2].firstChild,0,y,t);\r\n\t\t\tif (this._settings.header)\r\n\t\t\t\twebix.Touch._set_matrix(this._header.childNodes[1].firstChild,x,0,t);\r\n\t\t\tif (this._settings.footer)\r\n\t\t\t\twebix.Touch._set_matrix(this._footer.childNodes[1].firstChild,x,0,t);\r\n\r\n\t\t\tthis.callEvent(\"onSyncScroll\", [x,y,t]);\r\n\t\t},\r\n\t\t_sync_pos:function(){}\r\n\t},\r\n\t_touch:{\r\n\t\t_scrollTo_touch:function(x,y){\r\n\t\t\twebix.delay(function(){\r\n\t\t\t\tthis.callEvent(\"onAfterScroll\", [{ e: -x, f: -y}]);\t\r\n\t\t\t}, this);\r\n\t\t  \t\r\n\t\t},\r\n\t\t$scroll:{\r\n\t\t\tgravity:0,\r\n\t\t\telastic:false\r\n\t\t},\r\n\t\t$init:function(){\r\n\t\t\tthis.attachEvent(\"onBeforeScroll\", function(){\r\n\t\t\t\tvar t = webix.Touch;\r\n\t\t\t\tt._scroll_node = this._body.childNodes[1].firstChild;\r\n\t\t\t\tt._get_sizes(t._scroll_node);\r\n\t\t\t\tt._scroll_stat.dy = this._dtable_height;\r\n\t\t\t\tt._scroll_master = this;\r\n\r\n\t\t\t});\r\n\t\t\tthis.attachEvent(\"onAfterScroll\", function(result){\r\n\t\t\t\t//onAfterScroll may be triggered by some non-touch related logic\r\n\t\t\t\tif (!result) return;\r\n\r\n\t\t\t\tvar isScrollX = (this._scrollLeft != -result.e);\r\n\t\t\t\tvar isScrollY = (this._scrollTop != -result.f);\r\n\r\n\t\t\t\twebix.Touch._scroll_master = null;\r\n\t\t\t\twebix.Touch._fix_f = null;\r\n\r\n\t\t\t\tthis._scrollTop = 0;\r\n\r\n\t\t\t\t//ipad can delay content rendering if 3d transformation applied\r\n\t\t\t\t//switch back to 2d\r\n\t\t\t\tvar temp = webix.Touch.config.translate;\r\n\t\t\t\twebix.Touch.config.translate = \"translate\";\r\n\t\t\t\tthis._sync_scroll(result.e, 0, \"0ms\");\r\n\t\t\t\twebix.Touch.config.translate = temp;\r\n\r\n\t\t\t\tthis._scrollLeft = - result.e;\r\n\t\t\t\tthis._scrollTop = -result.f;\r\n\r\n\t\t\t\tthis.render();\r\n\r\n\t\t\t\tif(isScrollX)\r\n\t\t\t\t\tthis.callEvent(\"onScrollX\",[]);\r\n\t\t\t\tif(isScrollY)\r\n\t\t\t\t\tthis.callEvent(\"onScrollY\",[]);\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t},\r\n\t\t_sync_scroll:function(x,y,t){\r\n\t\t\ty += this._scrollTop;\r\n\t\t\twebix.Touch._set_matrix(this._body.childNodes[1].firstChild, x, y, t);\r\n\t\t\tif (this._settings.leftSplit)\r\n\t\t\t\twebix.Touch._set_matrix(this._body.childNodes[0].firstChild,0,y,t);\r\n\t\t\tif (this._settings.rightSplit)\r\n\t\t\t\twebix.Touch._set_matrix(this._body.childNodes[2].firstChild,0,y,t);\r\n\t\t\tif (this._settings.header)\r\n\t\t\t\twebix.Touch._set_matrix(this._header.childNodes[1].firstChild,x,0,t);\r\n\t\t\tif (this._settings.footer)\r\n\t\t\t\twebix.Touch._set_matrix(this._footer.childNodes[1].firstChild,x,0,t);\r\n\r\n\t\t\tthis.callEvent(\"onSyncScroll\", [x,y,t]);\r\n\t\t},\r\n\t\t_sync_pos:function(matrix){\r\n\t\t\tmatrix.f -= this._scrollTop;\r\n\r\n\t\t}\r\n\t}\r\n});\r\nwebix.extend(webix.ui.datatable, {\r\n\t$init:function(){\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\", webix.bind(function(id){\r\n\t\t\tif (!id) this._adjustColumns();\r\n\t\t}, this));\r\n\t\tthis.attachEvent(\"onStructureLoad\", this._adjustColumns);\r\n\r\n\t\tthis.attachEvent(\"onStructureUpdate\", this._resizeColumns);\r\n\t\tthis.attachEvent(\"onColumnResize\", function(a,b,c,user){\r\n\t\t\tif (user)\r\n\t\t\t\tthis._resizeColumns();\r\n\t\t});\r\n\t\tthis.attachEvent(\"onResize\", this._resizeColumns);\r\n\t},\r\n\t_adjustColumns:function(){\r\n\t\tif (!this.count()) return;\r\n\r\n\t\tvar resize = false;\r\n\t\tvar cols = this._columns;\r\n\t\tfor (var i = 0; i < cols.length; i++)\r\n\t\t\tif (cols[i].adjust)\r\n\t\t\t\tresize = this._adjustColumn(i, cols[i].adjust, true) || resize;\r\n\r\n\t\tif (resize){\r\n\t\t\tthis._updateColsSizeSettings(true);\r\n\t\t\tthis._resizeColumns();\r\n\t\t}\r\n\t},\r\n\t_resizeColumns:function(){\r\n\t\tvar cols = this._settings.columns;\r\n\t\tvar fill = [];\r\n\t\tvar summ = 0;\r\n\r\n\t\tif (cols && !this._settings.autowidth)\r\n\t\t\tfor (var i = 0; i < cols.length; i++){\r\n\t\t\t\tvar colfil = cols[i].fillspace;\r\n\t\t\t\tif (colfil){\r\n\t\t\t\t\tfill[i] = colfil;\r\n\t\t\t\t\tsumm += colfil*1 || 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\tif (summ)\t\t\t\t\r\n\t\t\tthis._fillColumnSize(fill, summ);\r\n\t},\r\n\t_fillColumnSize:function(fill, summ){\r\n\t\tvar cols = this._settings.columns;\r\n\t\tif (!cols) return;\r\n\r\n\t\tvar width = this._content_width - this._scrollSizeY;\r\n\t\tvar resize = false;\r\n\r\n\t\tif (width>0){\r\n\t\t\tfor (var i=0; i<cols.length; i++)\r\n\t\t\t\tif (!fill[i]) width -= (cols[i].width || this.config.columnWidth);\r\n\r\n\t\t\tfor (var i = 0; i < fill.length; i++)\r\n\t\t\t\tif (fill[i]){\r\n\t\t\t\t\tvar request = Math.min(width, Math.round(width * fill[i]/summ));\r\n\t\t\t\t\tresize = this._setColumnWidth(i, request, true) || resize;\r\n\t\t\t\t\twidth = width - cols[i].width;\r\n\t\t\t\t\tsumm = summ - fill[i];\r\n\t\t\t\t}\r\n\r\n\t\t\tif (resize) \r\n\t\t\t\tthis._updateColsSizeSettings(true);\r\n\t\t}\r\n\t},\r\n\t_getColumnConfigSize:function(ind, headers){\r\n\t\tvar d = webix.html.create(\"DIV\",{\"class\":\"webix_view webix_table_cell webix_measure_size webix_cell\"},\"\");\r\n\t\td.style.cssText = \"width:1px; visibility:hidden; position:absolute; top:0px; left:0px; overflow:hidden;\";\r\n\t\tdocument.body.appendChild(d);\r\n\r\n\t\tvar config = this._settings.columns[ind];\r\n\t\tvar max = -Infinity;\r\n\t\t\r\n\t\t//iterator other all loaded data is required\r\n\t\tif (headers != \"header\")\r\n\t\t\tthis.data.each(function(obj){\r\n\t\t\t\tif (obj){\r\n\t\t\t\t\tvar text = this._getValue(obj, config, 0);\r\n\t\t\t\t\td.innerHTML = text;\r\n\t\t\t\t\tmax = Math.max(d.scrollWidth, max);\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\r\n\t\tif (headers && headers != \"data\"){\r\n\t\t\tfor (var i=0; i<config.header.length; i++){\r\n\t\t\t\tvar header = config.header[i];\r\n\t\t\t\tif (header){\r\n\t\t\t\t\td.innerHTML = header.text;\r\n\t\t\t\t\tmax = Math.max(d.scrollWidth, max);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\td = webix.html.remove(d);\r\n\t\t//1px to compensate scrollWidth rounding\r\n\t\treturn max+1+(webix.env.isIE?webix.skin.$active.layoutPadding.space:0);\t\r\n\t},\r\n\t_adjustColumn:function(ind, headers, ignore){\r\n\t\tif (ind >= 0){\r\n\t\t\tvar width = this._getColumnConfigSize(ind, headers);\r\n\t\t\treturn this._setColumnWidth(ind, width, ignore);\r\n\t\t}\r\n\t},\r\n\tadjustColumn:function(id, headers){\r\n\t\tthis._adjustColumn(this.getColumnIndex(id), headers);\r\n\t},\r\n\tadjustRowHeight:function(id, silent){\r\n\t\tvar config = this.getColumnConfig(id);\r\n\t\tvar count = this.data.count();\r\n\r\n\t\tvar container;\r\n\t\tvar d = webix.html.create(\"DIV\",{\"class\":\"webix_table_cell webix_measure_size webix_cell\"},\"\");\r\n\t\td.style.cssText = \"width:\"+config.width+\"px; height:1px; visibility:hidden; position:absolute; top:0px; left:0px; overflow:hidden;\";\r\n\t\tthis.$view.appendChild(d);\r\n\r\n\t\tif (d.offsetHeight < 1){\r\n\t\t\t//hidden container, height detection is broken\r\n\t\t\t//reattach to the body\r\n\t\t\tcontainer = this.$view.cloneNode(true);\r\n\t\t\tdocument.body.appendChild(container);\r\n\t\t\tcontainer.appendChild(d);\r\n\t\t}\r\n\r\n\t\tthis.data.each(function(obj){\r\n\t\t\t//in case of dyn. mode - this can be undefined \r\n\t\t\tif (obj){\r\n\t\t\t\td.innerHTML = this._getValue(obj, config, 0);\r\n\t\t\t\tobj.$height = Math.max(d.scrollHeight, this._settings.rowHeight);\r\n\t\t\t}\r\n\t\t}, this);\r\n\r\n\t\td = webix.html.remove(d);\r\n\t\tif (container)\r\n\t\t\twebix.html.remove(container);\r\n\r\n\t\tif (!silent)\r\n\t\t\tthis.refresh();\r\n\t}\r\n});\r\nwebix.extend(webix.ui.datatable,{\r\n\r\n\tmath_setter:function(value){\r\n\t\tif (value)\r\n\t\t\tthis._math_init();\r\n\t\treturn value;\r\n\t},\r\n\r\n\t_math_pref: '$',\r\n\r\n\t_math_init: function() {\r\n\t\tif(webix.env.strict) return;\r\n\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\", webix.bind(this._parse_row_math, this));\r\n\t\tthis.data.attachEvent(\"onStoreLoad\", webix.bind(this._parse_math, this));\r\n\t\tthis.attachEvent(\"onStructureLoad\", this._parse_math);\r\n\t},\r\n\t_parse_row_math:function(id, obj, action){\r\n\t\tif (!id || (action==\"delete\" || action==\"paint\")) return;\r\n\r\n\t\tif (action == \"add\")\r\n\t\t\tthis._exprs_by_columns(obj);\r\n\r\n\t\tfor (var i=0; i<this._columns.length; i++)\r\n\t\t\tthis._parse_cell_math(id, this._columns[i].id, action !== \"add\");\r\n\t\tthis._math_recalc = {};\r\n\t},\r\n\t_parse_cell_math: function(row, col, _inner_call) {\r\n\t\tvar item = this.getItem(row);\r\n\t\tvar value;\r\n\r\n\t\t// if it's outer call we should use inputted value otherwise to take formula, not calculated value\r\n\t\tif (_inner_call === true)\r\n\t\t\tvalue = item[this._math_pref + col] || item[col];\r\n\t\telse {\r\n\t\t\tvalue = item[col];\r\n\t\t\tthis._math_recalc = {};\r\n\t\t}\r\n\r\n\t\tif (typeof value === \"undefined\" || value === null) return;\r\n\r\n\t\tif (value.length > 0 && value.substr(0, 1) === '=') {\r\n\t\t\t// calculate math value\r\n\t\t\tif ((typeof(item[this._math_pref + col]) === 'undefined') || (_inner_call !== true))\r\n\t\t\t\titem[this._math_pref + col] = item[col];\r\n\t\t\titem[col] = this._calculate(value, row, col);\r\n\t\t\t//this.updateItem(item);\r\n\t\t} else {\r\n\t\t\t// just a string\r\n\t\t\tif (typeof(item[this._math_pref + col]) !== 'undefined')\r\n\t\t\t\tdelete item[this._math_pref + col];\r\n\t\t\t// remove triggers if they were setted earlier\r\n\t\t\tthis._remove_old_triggers(row, col);\r\n\t\t}\r\n\t\t// recalculate depending cells\r\n\t\tif (typeof(item.depends) !== 'undefined' && typeof(item.depends[col]) !== 'undefined') {\r\n\t\t\tfor (var i in item.depends[col]) {\r\n\t\t\t\tvar name = item.depends[col][i][0] + '__' + item.depends[col][i][1];\r\n\t\t\t\tif (typeof(this._math_recalc[name]) === 'undefined') {\r\n\t\t\t\t\tthis._math_recalc[name] = true;\r\n\t\t\t\t\tthis._parse_cell_math(item.depends[col][i][0], item.depends[col][i][1], true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_set_original_value: function(row, col) {\r\n\t\tvar item = this.getItem(row);\r\n\t\tif (typeof(item[this._math_pref + col]) !== 'undefined')\r\n\t\t\titem[col] = item[this._math_pref + col];\r\n\t},\r\n\r\n\t_parse_math: function(){\r\n\t\tif (!this._columns || !this.count()) return;\r\n\r\n\t\tthis._exprs_by_columns();\r\n\r\n\r\n\t\tfor (var j = 0; j < this._columns.length; j++){\r\n\t\t\tvar col = this.columnId(j);\r\n\t\t\tthis.data.each(function(obj){\r\n\t\t\t\tthis._parse_cell_math(obj.id, col);\r\n\t\t\t}, this);\r\n\t\t}\r\n\r\n\t\tthis._math_recalc = {};\r\n\t},\r\n\r\n\t_exprs_by_columns: function(row) {\r\n\t\tfor (var i = 0; i < this._columns.length; i++){\r\n\t\t\tif (this._columns[i].math) {\r\n\t\t\t\tvar col = this.columnId(i);\r\n\t\t\t\tvar math = '=' + this._columns[i].math;\r\n\t\t\t\tmath = math.replace(/\\$r/g, '#$r#');\r\n\t\t\t\tmath = math.replace(/\\$c/g, '#$c#');\r\n\t\t\t\tif (row)\r\n\t\t\t\t\trow[col] = this._parse_relative_expr(math, row.id, col);\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.data.each(function(obj){\r\n\t\t\t\t\t\tobj[col] = this._parse_relative_expr(math, obj.id, col);\r\n\t\t\t\t\t}, this);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_parse_relative_expr: function(expr, row, col) {\r\n\t\treturn (webix.template(expr))({ '$r': row, '$c': col });\r\n\t},\r\n\r\n\t_get_calc_value: function(row, col) {\r\n\t\tvar item;\r\n\r\n\t\tif (this.exists(row))\r\n\t\t\titem = this.getItem(row);\r\n\t\telse\r\n\t\t\treturn '#out_of_range';\r\n\r\n\t\tvar value = item[this._math_pref + col] || item[col] || 0;\r\n\t\tvalue = value.toString();\r\n\t\tif (value.substring(0, 1) !== '=')\r\n\t\t\t// it's a string\r\n\t\t\treturn value;\r\n\t\telse {\r\n\t\t\t// TODO: check if value shouldn't be recalculated\r\n\t\t\t// and return value calculated earlier\r\n\r\n\t\t\t// calculate math expr value right now\r\n\t\t\tif (typeof(item[this._math_pref + col]) === 'undefined')\r\n\t\t\t\titem[this._math_pref + col] = item[col];\r\n\t\t\titem[col] = this._calculate(value, row, col, true);\r\n\t\t\treturn item[col];\r\n\t\t}\r\n\t},\r\n\r\n\t_calculate: function(value, row, col, _inner_call) {\r\n\t\t// add coord in math trace to detect self-references\r\n\t\tif (_inner_call === true) {\r\n\t\t\tif (this._in_math_trace(row, col))\r\n\t\t\t\treturn '#selfreference';\r\n\t\t} else\r\n\t\t\tthis._start_math_trace();\r\n\t\tthis._to_math_trace(row, col);\r\n\r\n\t\tvar item = this.getItem(row);\r\n\t\tvalue = value.substring(1);\r\n\r\n\t\t// get operations list\r\n\t\tvar operations = this._get_operations(value);\r\n\t\tvar triggers = this._get_refs(value);\r\n\r\n\t\tif (operations) {\r\n\t\t\tvalue = this._replace_refs(value, triggers);\r\n\t\t\tvalue = this._parse_args(value, operations);\r\n\t\t} else {\r\n\t\t\tvalue = this._replace_refs(value, triggers, true);\r\n\t\t}\r\n\r\n\t\tvar exc = this._math_exception(value);\r\n\t\tif (exc !== false)\r\n\t\t\treturn exc;\r\n\r\n\t\t// remove from coord from trace when calculations were finished - it's important!\r\n\t\tthis._from_math_trace(row, col);\r\n\r\n\t\t// process triggers to know which cells should be recalculated when one was changed\r\n\t\tthis._remove_old_triggers(row, col);\r\n\t\tfor (var i = 0; i < triggers.length; i++) {\r\n\t\t\tthis._add_trigger([row, col], triggers[i]);\r\n\t\t}\r\n\t\tvar exc = this._math_exception(value);\r\n\t\tif (exc !== false)\r\n\t\t\treturn exc;\r\n\r\n\t\t// there aren't any operations here. returns number or value of another cell\r\n\t\tif (!value) return value;\r\n\r\n\t\t// process mathematical expression and getting final result\r\n\t\tvalue = this._compute(value);\r\n\t\tvar exc = this._math_exception(value);\r\n\t\tif (exc !== false)\r\n\t\t\treturn exc;\r\n\t\treturn value;\r\n\t},\r\n\r\n\t_get_operations: function(value) {\r\n\t\t// gettings operations list (+-*/)\r\n\t\tvar splitter = /(\\+|\\-|\\*|\\/)/g;\r\n\t\tvar operations = value.replace(/\\[[^)]*?\\]/g,\"\").match(splitter);\r\n\t\treturn operations;\r\n\t},\r\n\r\n\t/*! gets list of referencies in formula\r\n\t **/\r\n\t_get_refs: function(value) {\r\n\t\tvar reg = /\\[([^\\]]+),([^\\]]+)\\]/g;\r\n\t\tvar cells = value.match(reg);\r\n\t\tif (cells === null) cells = [];\r\n\r\n\t\tfor (var i = 0; i < cells.length; i++) {\r\n\t\t\tvar cell = cells[i];\r\n\t\t\tvar tmp = cell;\r\n\t\t\tcell = cell.substr(1, cell.length - 2);\r\n\t\t\tcell = cell.split(',');\r\n\t\t\tcell[0] = this._trim(cell[0]);\r\n\t\t\tcell[1] = this._trim(cell[1]);\r\n\t\t\tif (cell[0].substr(0, 1) === ':')\r\n\t\t\t\tcell[0] = this.getIdByIndex(cell[0].substr(1));\r\n\t\t\tif (cell[1].substr(0, 1) === ':')\r\n\t\t\t\tcell[1] = this.columnId(cell[1].substr(1));\r\n\t\t\tcell[2] = tmp;\r\n\t\t\tcells[i] = cell;\r\n\t\t}\r\n\r\n\t\treturn cells;\r\n\t},\r\n\r\n\t// replace given list of references by their values\r\n\t_replace_refs: function(value, cells, clean) {\r\n\t\tvar dell = \"(\", delr = \")\";\r\n\t\tif (clean) dell = delr = \"\";\r\n\t\tfor (var i = 0; i < cells.length; i++) {\r\n\t\t\tvar cell = cells[i];\r\n\t\t\tvar cell_value = this._get_calc_value(cell[0], cell[1]);\r\n\t\t\tif (isNaN(cell_value))\r\n\t\t\t\tcell_value = '\"'+cell_value+'\"';\r\n\t\t\tvalue = value.replace(cell[2], dell + cell_value + delr);\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\r\n\t_parse_args: function(value, operations) {\r\n\t\tvar args = [];\r\n\t\tfor (var i = 0; i < operations.length; i++) {\r\n\t\t\tvar op = operations[i];\r\n\t\t\tvar temp = this._split_by(value, op);\r\n\t\t\targs.push(temp[0]);\r\n\t\t\tvalue = temp[1];\r\n\t\t}\r\n\t\targs.push(value);\r\n\r\n\t\t//var reg = /^(-?\\d|\\.|\\(|\\))+$/;\r\n\t\tfor (var i = 0; i < args.length; i++) {\r\n\t\t\tvar arg = this._trim(args[i]);\r\n\t\t//\tif (reg.test(arg) === false)\r\n\t\t//\t\treturn ''; //error\r\n\t\t\targs[i] = arg;\r\n\t\t}\r\n\r\n\t\tvar expr = \"\";\r\n\t\tfor (var i = 0; i < args.length - 1; i++) {\r\n\t\t\texpr += args[i] + operations[i];\r\n\t\t}\r\n\t\texpr += args[args.length - 1];\r\n\t\treturn expr;\r\n\t},\r\n\r\n\t_compute: function(expr) {\r\n\t\ttry {\r\n\t\t\twebix.temp_value = '';\r\n\t\t\texpr = 'webix.temp_value = ' + expr;\r\n\t\t\teval(expr);\r\n\t\t} catch(ex) {\r\n\t\t\twebix.assert(false,\"Math error in datatable<br>\"+expr);\r\n\t\t\twebix.temp_value = '';\r\n\t\t}\r\n\t\tvar result = webix.temp_value;\r\n\t\twebix.temp_value = null;\r\n\t\treturn result.toString();\r\n\t},\r\n\r\n\t_split_by: function(value, splitter) {\r\n\t\tvar pos = value.indexOf(splitter);\r\n\t\tvar before = value.substr(0, pos);\r\n\t\tvar after = value.substr(pos + 1);\r\n\t\treturn [before, after];\r\n\t},\r\n\r\n\t_trim: function(value) {\r\n\t\tvalue = value.replace(/^ */g, '');\r\n\t\tvalue = value.replace(/ *$/g, '');\r\n\t\treturn value;\r\n\t},\r\n\r\n\t_start_math_trace: function() {\r\n\t\tthis._math_trace = [];\r\n\t},\r\n\t_to_math_trace: function(row, col) {\r\n\t\tthis._math_trace[row + '__' + col] = true;\r\n\t},\r\n\t_from_math_trace: function(row, col) {\r\n\t\tif (typeof(this._math_trace[row + '__' + col]) !== 'undefined')\r\n\t\t\tdelete this._math_trace[row + '__' + col];\r\n\t},\r\n\t_in_math_trace: function(row, col) {\r\n\t\tif (typeof(this._math_trace[row + '__' + col]) !== 'undefined')\r\n\t\t\treturn true;\r\n\t\telse\r\n\t\t\treturn false;\r\n\t},\r\n\r\n\t_add_trigger: function(depends, from) {\r\n\t\tvar item = this.getItem(from[0]);\r\n\t\tif (typeof(item.depends) === 'undefined')\r\n\t\t\titem.depends = {};\r\n\t\tif (typeof(item.depends[from[1]]) === 'undefined')\r\n\t\t\titem.depends[from[1]] = {};\r\n\t\titem.depends[from[1]][depends[0] + '__' + depends[1]] = depends;\r\n\r\n\t\titem = this.getItem(depends[0]);\r\n\t\tif (typeof(item.triggers) === 'undefined')\r\n\t\t\titem.triggers = {};\r\n\t\tif (typeof(item.triggers[depends[1]]) === 'undefined')\r\n\t\t\titem.triggers[depends[1]] = {};\r\n\t\titem.triggers[depends[1]][from[0] + '__' + from[1]] = from;\r\n\t},\r\n\r\n\t_remove_old_triggers: function(row, col) {\r\n\t\tif (!this.exists(row, col)) return;\r\n\t\tvar item = this.getItem(row, col);\r\n\t\tif (typeof(item.triggers) === 'undefined') return;\r\n\t\tfor (var i in item.triggers[col]) {\r\n\t\t\tvar depend = item.triggers[col][i];\r\n\t\t\tdelete this.getItem(depend[0]).depends[depend[1]][row + '__' + col];\r\n\t\t}\r\n\t},\r\n\r\n\t// check if exception syntax exists and returns exception text or false\r\n\t_math_exception: function(value) {\r\n\t\tvar reg = /#\\w+/;\r\n\t\tvar match = value.match(reg);\r\n\t\tif (match !== null && match.length > 0)\r\n\t\t\treturn match[0];\r\n\t\treturn false;\r\n\t}\r\n\r\n});\r\n\r\n\r\n\r\n\r\nwebix.extend(webix.ui.datatable, {\r\n\r\n\t/////////////////////////\r\n\t//    edit start       //\r\n\t/////////////////////////\r\n\t_get_editor_type:function(id){\r\n\t\treturn this.getColumnConfig(id.column).editor;\r\n\t},\r\n\tgetEditor:function(row, column){\r\n\t\tif (!row)\r\n\t\t\treturn this._last_editor;\r\n\r\n\t\tif (arguments.length == 1){\r\n\t\t\tcolumn = row.column;\r\n\t\t\trow = row.row; \r\n\t\t}\r\n\t\t\r\n\t\treturn ((this._editors[row]||{})[column]);\r\n\t},\r\n\t_for_each_editor:function(handler){\r\n\t\tfor (var row in this._editors){\r\n\t\t\tvar row_editors = this._editors[row];\r\n\t\t\tfor (var column in row_editors)\r\n\t\t\t\tif (column!=\"$count\")\r\n\t\t\t\t\thandler.call(this, row_editors[column]);\r\n\t\t}\r\n\t},\r\n\t_init_editor:function(id, type, show){\r\n\t\tvar row = id.row;\r\n\t\tvar column  = id.column;\r\n\t\tvar col_settings = type.config = this.getColumnConfig(column);\r\n\t\t//show it over cell\r\n\t\tif (show !== false)\r\n\t\t\tthis.showCell(row, column);\r\n\r\n\t\tvar node = type.render();\r\n\r\n\t\tif (type.$inline)\r\n\t\t\tnode = this._locateInput(id);\r\n\t\ttype.node = node;\r\n\t\t\t\r\n\t\tvar item = this.getItem(row);\r\n\t\tvar format = col_settings.editFormat;\r\n\r\n\t\tvar value;\r\n\t\tif (this._settings.editMath)\r\n\t\t\tvalue = item[\"$\"+column];\r\n\t\tvalue = value || item[column];\r\n\r\n\t\tif (webix.isUndefined(value))\r\n\t\t\tvalue=\"\";\r\n\r\n\t\ttype.setValue(format?format(value):value, item);\r\n\t\ttype.value = item[column];\r\n\t\tthis._addEditor(id, type);\r\n\r\n\t\tif (!type.$inline)\r\n\t\t\tthis._sizeToCell(id, node, true);\r\n\r\n\t\tif (type.afterRender)\r\n\t\t\ttype.afterRender();\r\n\t\t\r\n\t\tif (this._settings.liveValidation){\r\n\t\t\tvar evId = \"webix_keyup_edit_\"+this._settings.id+\"_\"+row+\"_\"+column;\r\n\t\t\twebix.event(type.node, \"keyup\", this._bind_live_validation(id, this),{id: evId});\r\n\t\t\tthis.validateEditor(id);\r\n\t\t}\r\n\r\n\t\treturn node;\r\n\t},\r\n\t_bind_live_validation:function(id, that){\r\n\t\treturn function(){\r\n\t\t\tthat.validateEditor(id);\r\n\t\t};\r\n\t},\r\n\t_set_new_value:function(editor, new_value){\r\n\t\tvar parser = this.getColumnConfig(editor.column).editParse;\r\n\t\tvar item = this.getItem(editor.row);\r\n\r\n\t\titem[editor.column] = parser?parser(new_value):new_value;\r\n\t\tif (this._settings.editMath)\r\n\t\t\tdelete item[\"$\"+editor.column];\r\n\t\treturn editor.row;\r\n\t},\r\n\t//register editor in collection\r\n\t_addEditor:function(id, type, node){\r\n\t\tvar row_editors = this._editors[id.row]=this._editors[id.row]||{};\r\n\r\n\t\trow_editors.$count = (row_editors.$count||0)+1;\r\n\r\n\t\ttype.row = id.row; type.column = id.column;\r\n\t\tthis._last_editor = row_editors[id.column] = type;\r\n\r\n\t\tthis._in_edit_mode++;\r\n\t\tthis._last_editor_scroll = this.getScrollState();\r\n\t},\r\n\t_removeEditor:function(editor){\r\n\t\tif (this._last_editor == editor)\r\n\t\t\tthis._last_editor = 0;\r\n\t\t\r\n\t\tif (editor.destroy)\r\n\t\t\teditor.destroy();\r\n\t\t\r\n\t\tvar row = this._editors[editor.row];\r\n\t\tdelete row[editor.column];\r\n\t\trow.$count -- ;\r\n\t\tif (!row.$count)\r\n\t\t\tdelete this._editors[editor.row];\r\n\t\tthis._in_edit_mode--;\r\n\t},\r\n\t_changeEditorId:function(oldid, newid)\t{\r\n\t\tvar editor = this._editors[oldid];\r\n\t\tif (editor){\r\n\t\t\tthis._editors[newid] = editor;\r\n\t\t\tdelete this._editors[oldid];\r\n\t\t\tfor (var key in editor)\r\n\t\t\t\teditor[key].row = newid;\r\n\t\t}\r\n\t},\r\n\t//get html cell by combined id\r\n\t_locate_cell:function(id){\r\n\t\tvar area, i, index, j, node, span,\r\n\t\t\tconfig = this.getColumnConfig(id.column),\r\n\t\t\tcell = 0;\r\n\r\n\t\tif (config && config.node && config.attached){\r\n\t\t\tindex = this.getIndexById(id.row);\r\n\t\t\tif(this._spans_pull){\r\n\t\t\t\tspan = this.getSpan(id.row,id.column);\r\n\t\t\t\tif(span){\r\n\t\t\t\t\tfor (i=0; i<3; i++){\r\n\t\t\t\t\t\tarea = this._spans_areas[i];\r\n\t\t\t\t\t\tfor(j=0; !cell && j < area.childNodes.length; j++){\r\n\t\t\t\t\t\t\tnode = area.childNodes[j];\r\n\t\t\t\t\t\t\tif(node.getAttribute(\"row\") == index && node.getAttribute(\"column\") == this.getColumnIndex(id.column))\r\n\t\t\t\t\t\t\t\tcell = node;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!cell && index >= (config._yr0-this._settings.topSplit) && index< config._yr1)\r\n\t\t\t\tcell = config.node.childNodes[index-config._yr0+this._settings.topSplit];\r\n\t\t}\r\n\t\treturn cell;\r\n\t},\r\n\r\n\t\r\n\t/////////////////////////\r\n\t//    public methods   //\r\n\t/////////////////////////\r\n\teditCell:function(row, column, preserve, show){\r\n\t\tcolumn = column || this._settings.columns[0].id;\r\n\t\treturn webix.EditAbility.edit.call(this, {row:row, column:column}, preserve, show);\r\n\t},\r\n\teditRow:function(id, focus){\r\n\t\tif (id && id.row)\r\n\t\t\tid = id.row;\r\n\r\n\t\tvar next = false;\r\n\t\tthis.eachColumn(function(column){\r\n\t\t\tthis.edit({ row:id, column:column}, next, !next);\r\n\t\t\tnext = true;\r\n\t\t});\r\n\t},\r\n\teditColumn:function(id, focus){\r\n\t\tif (id && id.column)\r\n\t\t\tid = id.column;\r\n\r\n\t\tvar next = false;\r\n\t\tthis.eachRow(function(row){\r\n\t\t\tthis.edit({row:row, column:id}, next, !next);\r\n\t\t\tnext = true;\r\n\t\t});\r\n\t},\r\n\teachRow:function(handler, all){\r\n\t\tvar order = this.data.order;\r\n\t\tif (all) \r\n\t\t\torder = this.data._filter_order || order;\r\n\r\n\t\tfor (var i=0; i<order.length; i++)\r\n\t\t\thandler.call(this, order[i]);\r\n\t},\r\n\teachColumn:function(handler, all){\r\n\t\tfor (var i in this._columns_pull){\r\n\t\t\tvar column = this._columns_pull[i];\r\n\t\t\thandler.call(this, column.id, column);\r\n\t\t}\r\n\t\tif (all){\r\n\t\t\tfor (var i in this._hidden_column_hash){\r\n\t\t\t\tvar column = this._hidden_column_hash[i];\r\n\t\t\t\thandler.call(this, column.id, column);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t////////////////////\r\n\t//    edit next   //\r\n\t////////////////////\r\n\t_after_edit_next:function(editor_next){\r\n\t\tif (this.getSelectedId){\t//select related cell when possible\r\n\t\t\tvar sel = this.getSelectedId(true);\r\n\t\t\tif (sel.length == 1){\r\n\t\t\t\tthis._select(editor_next);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_custom_tab_handler:function(tab, e){\r\n\t\tif (this._settings.editable && !this._in_edit_mode){\r\n\t\t\t//if we have focus in some custom input inside of datatable\r\n\t\t\tif (e.target && e.target.tagName == \"INPUT\") return true;\r\n\r\n\t\t\tvar selection = this.getSelectedId(true);\r\n\t\t\tif (selection.length == 1){\r\n\t\t\t\tthis.editNext(tab, selection[0]);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\r\n\t_find_cell_next:function(start, check, direction){\r\n\t\tvar row = this.getIndexById(start.row);\r\n\t\tvar column = this.getColumnIndex(start.column);\r\n\t\tvar order = this.data.order;\r\n\t\tvar cols = this._columns;\r\n\r\n\t\tif (direction){\r\n\r\n\t\t\tfor (var i=row; i<order.length; i++){\r\n\t\t\t\tfor (var j=column+1; j<cols.length; j++){\r\n\t\t\t\t\tvar id = { row:order[i], column:cols[j].id};\r\n\t\t\t\t\tif (check.call(this, id) && !this._checkCellMerge(start,id)){\r\n\t\t\t\t\t\treturn id;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcolumn = -1;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i=row; i>=0; i--){\r\n\t\t\t\tfor (var j=column-1; j>=0; j--){\r\n\t\t\t\t\tvar id = { row:order[i], column:cols[j].id};\r\n\t\t\t\t\tif (check.call(this, id))\r\n\t\t\t\t\t\treturn id;\r\n\t\t\t\t}\r\n\t\t\t\tcolumn = cols.length;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t},\r\n\r\n\r\n\t/////////////////////////////\r\n\t//    scroll correction    //\r\n\t/////////////////////////////\r\n\t_correct_after_focus_y:function(){\r\n\t\tif (this._in_edit_mode){\r\n\t\t\tif (this._ignore_after_focus_scroll)\r\n\t\t\t\tthis._ignore_after_focus_scroll = false;\r\n\t\t\telse {\r\n\t\t\t\tthis._y_scroll.scrollTo(this.getScrollState().y+this._body.childNodes[1].firstChild.scrollTop);\r\n\t\t\t\tthis._body.childNodes[1].firstChild.scrollTop = 0;\r\n\t\t\t\tthis._ignore_after_focus_scroll = true;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_correct_after_focus_x:function(){\r\n\t\tif (this._in_edit_mode){\r\n\t\t\tthis._x_scroll.scrollTo(this._body.childNodes[1].scrollLeft);\r\n\t\t}\r\n\t},\r\n\t_component_specific_edit_init:function(){\r\n\t\tthis.attachEvent(\"onScrollY\", this._update_editor_y_pos);\r\n\t\tthis.attachEvent(\"onScrollX\", this._update_editor_y_pos);\r\n\t\tthis.attachEvent(\"onScrollY\", this._refocus_inline_editor);\r\n\t\tthis.attachEvent(\"onColumnResize\", function(){ this.editStop(); });\r\n\t\tthis.attachEvent(\"onAfterFilter\", function(){ this.editStop(); });\r\n\t\tthis.attachEvent(\"onRowResize\", function(){ this.editStop(); });\r\n\t\tthis.attachEvent(\"onAfterScroll\", function(){ if(this._settings.topSplit) this.editStop(); });\r\n\t\tthis._body.childNodes[1].firstChild.onscroll = webix.bind(this._correct_after_focus_y, this);\r\n\t\tthis._body.childNodes[1].onscroll = webix.bind(this._correct_after_focus_x, this);\r\n\t},\r\n\t_update_editor_y_pos:function(){\r\n\t\tif (this._in_edit_mode){\r\n\t\t\tvar old  = this._last_editor_scroll;\r\n\t\t\tthis._last_editor_scroll = this.getScrollState();\r\n\r\n\t\t\tvar diff = this._last_editor_scroll.y - old.y;\r\n\t\t\tthis._for_each_editor(function(editor){\r\n\t\t\t\tif (editor.getPopup){\r\n\t\t\t\t\tvar node = this.getItemNode(editor);\r\n\t\t\t\t\tif (node)\r\n\t\t\t\t\t\teditor.getPopup().show(node);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\teditor.getPopup().show({ x:-10000, y:-10000 });\r\n\t\t\t\t} else if (!editor.$inline){\r\n\t\t\t\t\teditor.node.top -= diff;\r\n\t\t\t\t\teditor.node.style.top = editor.node.top + \"px\";\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n});\r\n\r\nwebix.extend(webix.ui.datatable, webix.EditAbility);\r\nwebix.extend(webix.ui.datatable, {\r\n\t$init:function(){\r\n\t\tthis._clear_hidden_state();\t\r\n\t\tthis.attachEvent(\"onStructureLoad\", this._hideInitialColumns);\r\n\t},\r\n\t_clear_hidden_state:function(){\r\n\t\tthis._hidden_column_hash = {};\r\n\t\tthis._hidden_column_order = webix.toArray();\r\n\t\tthis._hidden_split=[0,0];\r\n\t},\r\n\t_hideInitialColumns:function(){\r\n\t\tvar cols = this._columns;\r\n\t\tthis._getInitialSpans(cols);\r\n\r\n\t\tfor (var i = cols.length-1; i>=0; i--){\r\n\t\t\tif (cols[i].hidden)\r\n\t\t\t\tthis.hideColumn(cols[i].id, true, true);\r\n\t\t\telse if (cols[i].batch && this.config.visibleBatch && cols[i].batch!=this.config.visibleBatch){\r\n\t\t\t\tthis.hideColumn(cols[i].id, true, true);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_getInitialSpans:function(cols){\r\n\t\tfor(var i = 0; i<cols.length; i++)\r\n\t\t\tfor(var h = 0; h<cols[i].header.length;h++){\r\n\t\t\t\tvar line = cols[i].header[h];\r\n\t\t\t\tif(line && line.colspan)\r\n\t\t\t\t\tline.$colspan = line.colspan;\r\n\t\t\t}\r\n\t},\r\n\tmoveColumn:function(id, index){\r\n\t\tvar start_index = this.getColumnIndex(id);\r\n\t\tif (start_index == index) return; //already in place\r\n\t\tvar columns = this._settings.columns;\r\n\r\n\t\tvar start = columns.splice(start_index,1);\r\n\t\tvar pos = index - (index>start_index?1:0);\r\n\t\twebix.PowerArray.insertAt.call(columns, start[0], pos);\r\n\r\n\t\t//TODO: split handling\r\n\t\t//we can move split line when column dropped after it\r\n\r\n\t\tthis._refresh_columns();\r\n\t},\r\n\t_init_horder:function(){\r\n\t\tvar horder = this._hidden_column_order;\r\n\t\tvar cols = this._settings.columns;\r\n\t\tif (!horder.length){\r\n\t\t\tfor (var i=0; i<cols.length; i++)\r\n\t\t\t\thorder[i] = cols[i].id;\r\n\t\t\tthis._hidden_split = [this._settings.leftSplit, this._rightSplit];\r\n\t\t}\r\n\t},\r\n\tisColumnVisible:function(id){\r\n\t\treturn !this._hidden_column_hash[id];\r\n\t},\r\n\thideColumn:function(id, mode, silent){\r\n\t\tvar cols = this._settings.columns;\r\n\t\tvar horder = this._hidden_column_order;\r\n\t\tvar hhash = this._hidden_column_hash;\r\n\t\tvar column;\r\n\r\n\t\tif (mode!==false){\r\n\t\t\t\r\n\t\t\tvar index = this.getColumnIndex(id);\r\n\t\t\twebix.assert(index != -1, \"hideColumn: invalid ID or already hidden\");\r\n\t\t\tif(index === -1 || !this.callEvent(\"onBeforeColumnHide\", [id])) return;\r\n\r\n\t\t\t//in case of second call to hide the same column, command will be ignored\r\n\t\t\tif (index == -1) return;\r\n\r\n\t\t\tthis._init_horder();\r\n\r\n\t\t\tif (index<this._settings.leftSplit)\r\n\t\t\t\tthis._settings.leftSplit--;\r\n\t\t\tif (index>=this._rightSplit)\r\n\t\t\t\tthis._settings.rightSplit--;\r\n\t\t\telse \r\n\t\t\t\tthis._rightSplit--;\r\n\r\n\t\t\tthis._hideColumn(index);\r\n\t\t\tcolumn  = hhash[id] = cols.splice(index, 1)[0];\r\n\t\t\tcolumn._yr0 = -1;\r\n\t\t\tdelete this._columns_pull[id];\r\n\t\t\tthis.callEvent(\"onAfterColumnHide\", [id]);\r\n\t\t} else {\r\n\t\t\tcolumn = hhash[id];\r\n\t\t\twebix.assert(column, \"showColumn: invalid ID or already visible\");\r\n\r\n\t\t\t//in case of second show command for already visible column - ignoring\r\n\t\t\tif(!column || !this.callEvent(\"onBeforeColumnShow\", [id])) return;\r\n\r\n\t\t\tvar prev = null;\r\n\t\t\tvar i = 0;\r\n\t\t\tfor (; i<horder.length; i++){\r\n\t\t\t\tif (horder[i] == id)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tif (!hhash[horder[i]])\r\n\t\t\t\t\tprev = horder[i];\r\n\t\t\t}\r\n\t\t\tvar index = prev?this.getColumnIndex(prev)+1:0;\r\n\r\n\t\t\twebix.PowerArray.insertAt.call(cols,column, index);\r\n\t\t\tdelete column.hidden;\r\n\r\n\t\t\tif (i<this._hidden_split[0])\r\n\t\t\t\tthis._settings.leftSplit++;\r\n\t\t\tif (i>=this._hidden_split[1])\t\r\n\t\t\t\tthis._settings.rightSplit++;\r\n\t\t\telse\r\n\t\t\t\tthis._rightSplit++;\r\n\t\t\t\t\t\t\t\r\n\t\t\tdelete hhash[id];\r\n\t\t\tthis._columns_pull[id] = column;\r\n\t\t\tthis.callEvent(\"onAfterColumnShow\", [id]);\r\n\t\t}\r\n\t\tthis._fixColspansHidden(column, mode !== false ? 0 : 1);\r\n\t\tif (!silent)\r\n\t\t\tthis._refresh_columns();\r\n\t},\r\n\t_fixColspansHidden:function(config, mod){\r\n\t\tfor (var i = config.header.length - 1; i >= 0; i--) {\r\n\t\t\tvar ind = this._hidden_column_order;\r\n\t\t\tvar spanSource, isHidden = false, spanSize = 0;\r\n\r\n\t\t\tfor (var j = 0; j < ind.length; j++) {\r\n\t\t\t\tvar config = this.getColumnConfig(ind[j]);\r\n\t\t\t\tvar header = config.header[i];\r\n\t\t\t\tif (!this.isColumnVisible(ind[j])){\r\n\t\t\t\t\t//hidden column\r\n\t\t\t\t\tif (header && header.$colspan && spanSize <= 0){\r\n\t\t\t\t\t\t//start of colspan in hidden\r\n\t\t\t\t\t\tspanSize = header.colspan = header.$colspan;\r\n\t\t\t\t\t\tisHidden = spanSource = header;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (spanSource && spanSize > 0){\r\n\t\t\t\t\t\t//hidden column in colspan, decrease colspan size\r\n\t\t\t\t\t\tspanSource.colspan--;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//visible column\r\n\t\t\t\t\tif (isHidden && spanSize > 0 && spanSource && spanSource.colspan > 0){\r\n\t\t\t\t\t\t//bit start of colspan is hidden\r\n\t\t\t\t\t\theader = config.header[i] = spanSource;\r\n\t\t\t\t\t\tspanSource = header;\r\n\t\t\t\t\t} else if (header && header.$colspan && spanSize <= 0){\r\n\t\t\t\t\t\t//visible start of colspan\r\n\t\t\t\t\t\tspanSize = header.colspan = header.$colspan;\r\n\t\t\t\t\t\tspanSource = header;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tisHidden = null;\r\n\t\t\t\t}\r\n\t\t\t\tspanSize--;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\trefreshColumns:function(columns, reset){\r\n\t\tif ((columns && columns != this.config.columns) || reset){\r\n\t\t\tthis._clear_hidden_state();\r\n\t\t\tthis._filter_elements = [];\r\n\t\t\tif (columns)\r\n\t\t\t\tthis._rightSplit = columns.length - (this.config.rightSplit || 0);\r\n\t\t}\r\n\r\n\t\tthis._columns_pull = {};\r\n\t\t//clear rendered data\r\n\t\tfor (var i=0; i<this._columns.length; i++){\r\n\t\t\tvar col = this._columns[i];\r\n\t\t\tthis._columns_pull[col.id] = col;\r\n\t\t\tcol.attached = col.node = null;\r\n\t\t}\r\n\t\tfor (var i=0; i<3; i++){\r\n\t\t\tthis._header.childNodes[i].innerHTML = \"\";\r\n\t\t\tthis._body.childNodes[i].firstChild.innerHTML = \"\";\r\n\t\t}\r\n\r\n\t\t//render new structure\r\n\t\tthis._columns = this.config.columns = (columns || this.config.columns);\r\n\t\tthis._rightSplit = this._columns.length-this._settings.rightSplit;\r\n\r\n\t\tthis._dtable_fully_ready = 0;\r\n\t\tthis._define_structure();\r\n\r\n\t\tthis.callEvent(\"onStructureUpdate\");\r\n\r\n\t\tthis._update_scroll();\r\n\t\tthis.render();\t\r\n\t},\r\n\t_refresh_columns:function(){\r\n\t\tthis._dtable_fully_ready = 0;\r\n\t\tthis.callEvent(\"onStructureUpdate\");\r\n\t\t\r\n\t\tthis._apply_headers();\r\n\t\tthis.render();\r\n\t},\r\n\tshowColumn:function(id){\r\n\t\treturn this.hideColumn(id, false);\r\n\t},\r\n\tshowColumnBatch:function(batch, mode){\r\n\t\tvar preserve = typeof mode != \"undefined\";\r\n\t\tmode = mode !== false;\r\n\r\n\t\tthis.eachColumn(function(id, col){\r\n\t\t\tif(col.batch){\r\n\t\t\t\tvar hidden = this._hidden_column_hash[col.id];\r\n\t\t\t\tif (!mode) hidden = !hidden;\r\n\r\n\t\t\t\tif(col.batch == batch && hidden)\r\n\t\t\t\t\tthis.hideColumn(col.id, !mode, true);\r\n\t\t\t\telse if(!preserve && col.batch!=batch && !hidden)\r\n\t\t\t\t\tthis.hideColumn(col.id, mode, true);\r\n\t\t\t}\r\n\t\t}, true);\r\n\r\n\t\tthis._refresh_columns();\r\n\t}\r\n});\r\n\r\n\r\n\r\nwebix.extend(webix.ui.datatable, {\r\n\t$init:function(){\r\n        this.attachEvent(\"onAfterRender\", function(){\r\n\r\n            var sel = this.getSelectedId(true);\r\n            if(!sel.length || !this.getItemNode(sel[0])){\r\n                var node =  this._dataobj.querySelector(\".webix_cell\");\r\n                if(node) node.setAttribute(\"tabindex\", \"0\");\r\n            }\r\n        });\r\n    },\r\n\tmoveSelection:function(mode, shift){\r\n\t\tif(this._settings.disabled) return;\r\n\t\t//get existing selection as array\r\n\t\tvar t = this.getSelectedId(true);\r\n\t\tvar index = t.length-1;\r\n\t\t\r\n\t\tif (index < 0){\r\n\t\t\tif (mode == \"down\" || mode == \"right\") mode = \"top\";\r\n\t\t\telse if (mode == \"up\" || mode == \"left\") mode = \"bottom\";\r\n\t\t\telse return;\r\n\t\t\tindex = 0; \r\n\t\t\tt =  [{ row:1, column:1 }];\r\n\t\t}\r\n\r\n\t\tif (index>=0){\r\n\t\t\tvar row = t[index].row;\r\n\t\t\tvar column = t[index].column;\r\n\t\t\tvar preserve = this._settings.multiselect ? shift : false;\r\n\r\n\t\t\tif (mode == \"top\" || mode == \"bottom\") {\r\n\t\t\t\tif (row) {\r\n\t\t\t\t\t// first/last row setting\r\n\t\t\t\t\tif (mode == \"top\") \r\n\t\t\t\t\t\trow = this.data.getFirstId();\r\n\t\t\t\t\telse if (mode == \"bottom\") \r\n\t\t\t\t\t\trow = this.data.getLastId();\r\n\t\t\t\t}\r\n\t\t\t\tif (column) {\r\n\t\t\t\t\t// first/last column setting\r\n\t\t\t\t\tvar index = 0;\r\n\t\t\t\t\tif (mode == \"bottom\") \r\n\t\t\t\t\t\tindex = this.config.columns.length-1;\r\n\t\t\t\t\tcolumn = this.columnId(index);\r\n\t\t\t\t}\r\n\t\t\t} else if (mode == \"up\" || mode== \"down\" || mode == \"pgup\" || mode == \"pgdown\"){\r\n\t\t\t\tif (row){\r\n\t\t\t\t\t//it seems row's can be seleted\r\n\t\t\t\t\tvar index = this.getIndexById(row);\r\n\t\t\t\t\tvar step = (mode == \"pgup\" || mode == \"pgdown\") ? Math.round(this._dtable_offset_height/this._settings.rowHeight) : 1;\r\n\t\t\t\t\t//get new selection row\r\n\t\t\t\t\tif (mode == \"up\" || mode == \"pgup\") index-=step;\r\n\t\t\t\t\telse if (mode == \"down\" || mode == \"pgdown\") index+=step;\r\n\t\t\t\t\t//check that we in valid row range\r\n\t\t\t\t\tif (index <0) index=0;\r\n\t\t\t\t\tif (index >=this.data.order.length) index=this.data.order.length-1;\r\n\r\n\t\t\t\t\trow = this.getIdByIndex(index);\r\n\t\t\t\t\tif (!row && this._settings.pager)\r\n\t\t\t\t\t\tthis.showItemByIndex(index);\r\n\t\t\t\t}\r\n\t\t\t} else if (mode == \"right\" || mode == \"left\"){\r\n\t\t\t\tif (column && this.config.select != \"row\"){\r\n\t\t\t\t\t//it seems column's can be selected\r\n\t\t\t\t\tvar index = this.getColumnIndex(column);\r\n\t\t\t\t\t//get new selected column\r\n\t\t\t\t\tif (mode == \"right\") index++;\r\n\t\t\t\t\telse if (mode == \"left\") index--;\r\n\t\t\t\t\t//check that result column index is in valid range\r\n\t\t\t\t\tif (index<0 || index>=this.config.columns.length) return;\r\n\r\n\t\t\t\t\tcolumn = this.columnId(index);\r\n\t\t\t\t} else if ((this.open || this._subViewStorage) && mode == \"right\"){\r\n\t\t\t\t\treturn this.open ? this.open(row) : this.openSub(row);\r\n\t\t\t\t} else if ((this.close || this._subViewStorage) && mode == \"left\"){\r\n\t\t\t\t\treturn this.close ? this.close(row) : this.closeSub(row);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\twebix.assert(false, \"Not supported selection moving mode\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (row){\r\n\t\t\t\tthis.showCell(row, column);\r\n\r\n\t\t\t\tif(!this.select){ //switch on cell or row selection by default\r\n\t\t\t\t\twebix.extend(this, this._selections._commonselect, true);\r\n\t\t\t\t\tthis._settings.select = (this.open || this._subViewStorage?\"row\":\"cell\");\r\n\t\t\t\t\twebix.extend(this, this._selections[this._settings.select], true);\r\n\t\t\t\t}\r\n\t\t\t\tthis._select({ row:row, column:column }, preserve);\r\n\r\n\t\t\t\tvar node = this.getItemNode({ row:row, column:column });\r\n\t\t\t\tif(node)\r\n\t\t\t\t\tnode.focus();\r\n\t\t\t}\r\n\t\t}\r\n\r\n        return false;\r\n\t}\r\n});\r\nwebix.extend(webix.ui.datatable, webix.KeysNavigation);\r\n\r\n\r\n\r\n\r\nwebix.extend(webix.ui.datatable,webix.DataMove);\r\nwebix.extend(webix.ui.datatable, {\r\n\tdrag_setter:function(value){\r\n\t\t// disable drag-n-drop for frozen rows\r\n\t\tthis.attachEvent(\"onBeforeDrag\", function(context){\r\n\t\t\treturn this._checkDragTopSplit(context.source);\r\n\t\t});\r\n\t\tthis.attachEvent(\"onBeforeDragIn\", function(context){\r\n\t\t\treturn this._checkDragTopSplit(context.target);\r\n\t\t});\r\n\t\tthis.attachEvent(\"onBeforeDropOrder\", function(startId, index){\r\n\t\t\treturn index >= this._settings.topSplit;\r\n\t\t});\r\n\r\n\t\treturn webix.DragItem.drag_setter.call(this,value);\r\n\t},\r\n\t_checkDragTopSplit: function(ids){\r\n\t\tvar i, index,\r\n\t\t\tfrozen = false;\r\n\t\tif(this._settings.topSplit && ids){\r\n\t\t\tif(!webix.isArray(ids))\r\n\t\t\t\tids = [ids];\r\n\t\t\tfor(i=0; !frozen && i< ids.length;i++ ){\r\n\t\t\t\tindex = this.getIndexById(ids[i]);\r\n\t\t\t\tfrozen = index < this._settings.topSplit;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn !frozen;\r\n\t},\r\n\t$dragHTML:function(item, e){\r\n\t\tvar width = this._content_width - this._scrollSizeY;\r\n\t\tvar html=\"<div class='webix_dd_drag' style='width:\"+(width-2)+\"px;'>\";\r\n\t\tvar cols = this._settings.columns;\r\n\t\tfor (var i=0; i<cols.length; i++){\r\n\t\t\tvar value = this._getValue(item, cols[i]);\r\n\t\t\thtml += \"<div style='width:\"+cols[i].width+\"px;'>\"+value+\"</div>\";\r\n\t\t}\r\n\t\treturn html+\"</div>\";\r\n\t},\t\r\n\tgetHeaderNode:function(column_id, row_index){\r\n\t\tvar ind = this.getColumnIndex(column_id);\r\n\t\trow_index = row_index || 0;\r\n\t\tvar nodes = this._header.childNodes[1].getElementsByTagName(\"TR\")[row_index+1].childNodes;\r\n\t\tfor (var i=0; i<nodes.length; i++)\r\n\t\t\tif (nodes[i].getAttribute(\"column\") == ind)\r\n\t\t\t\treturn nodes[i].firstChild;\r\n\t\treturn null;\r\n\t},\r\n\tgetItemNode:function(id, e){\r\n\t\tif (id && !id.header){\r\n\t\t\tvar row = id.row || id;\r\n\t\t\tvar rowindex = this.getIndexById(row);\r\n\t\t\tvar state = this._get_y_range();\r\n\t\t\tvar minRow = state[0]-this._settings.topSplit;\r\n\t\t\t//row not visible\r\n\t\t\tif (rowindex < minRow && rowindex > state[1]) return;\r\n\r\n\t\t\t//get visible column\r\n\t\t\tvar x_range = this._get_x_range();\r\n\t\t\tvar colindex = this._settings.leftSplit ? 0 : x_range[0];\r\n\t\t\tif (id.column){\r\n\t\t\t\tcolindex = this.getColumnIndex(id.column);\r\n\t\t\t\t//column not visible\r\n\t\t\t\tif (colindex < this._rightSplit && colindex >= this._settings.leftSplit && ( colindex<x_range[0] || colindex > x_range[1]))\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar column = this._settings.columns[colindex];\r\n\r\n\t\t\tif (column.attached && column.node){\r\n\t\t\t\tvar nodeIndex = rowindex < this._settings.topSplit?rowindex:(rowindex-minRow);\r\n\t\t\t\treturn column.node.childNodes[nodeIndex];\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t},\r\n\tdragColumn_setter:function(value){\r\n\t\tvar control; //will be defined below\r\n\t\tif (value == \"order\"){\r\n\t\t\tcontrol = {\r\n\t\t\t\t$drag:webix.bind(function(s,e){\r\n\t\t\t\t\tvar id = this.locate(e);\r\n\t\t\t\t\tif (this._rs_process || !id || !this.callEvent(\"onBeforeColumnDrag\", [id.column, e])) return false;\r\n\t\t\t\t\twebix.DragControl._drag_context = { from:control, start:id, custom:\"column_dnd\" };\r\n\r\n\t\t\t\t\tvar column = this.getColumnConfig(id.column);\r\n\r\n\t\t\t\t\tthis._relative_column_drag = webix.html.posRelative(e);\r\n\t\t\t\t\tthis._limit_column_drag = column.width;\r\n\r\n\t\t\t\t\treturn \"<div class='webix_dd_drag_column' style='width:\"+column.width+\"px'>\"+(column.header[0].text||\"&nbsp;\")+\"</div>\";\r\n\t\t\t\t}, this),\r\n\t\t\t\t$dragPos:webix.bind(function(pos, e, node){\r\n\t\t\t\t\tvar context = webix.DragControl.getContext();\r\n\t\t\t\t\tvar box = webix.html.offset(this.$view);\r\n\t\t\t\t\tnode.style.display = 'none';\r\n\t\t\t\t\tvar html = document.elementFromPoint(pos.x, box.y+1);\r\n\r\n\t\t\t\t\tvar id = (html?this.locate(html):null);\r\n\r\n\t\t\t\t\tvar start = webix.DragControl.getContext().start.column;\r\n\r\n\t\t\t\t\tif (id && id.column != start && (!this._column_dnd_temp_block || id.column != this._last_sort_dnd_node )){\r\n\t\t\t\t\t\t//ignore normal dnd , and dnd from other components\r\n\t\t\t\t\t\tif (context.custom == \"column_dnd\" && webix.$$(html) == this){\r\n\r\n\t\t\t\t\t\t\tif (!this.callEvent(\"onBeforeColumnDropOrder\",[start, id.column,e])) return;\r\n\r\n\t\t\t\t\t\t\tvar start_index = this.getColumnIndex(start);\r\n\t\t\t\t\t\t\tvar end_index = this.getColumnIndex(id.column);\r\n\r\n\t\t\t\t\t\t\t//on touch devices we need to preserve drag-start element till the end of dnd\r\n\t\t\t\t\t\t\tif(e.touches){\r\n\t\t\t\t\t\t\t\tthis._dragTarget = e.target;\r\n\t\t\t\t\t\t\t\tthis._dragTarget.style.display = \"none\";\r\n\t\t\t\t\t\t\t\tthis.$view.parentNode.appendChild(this._dragTarget);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tthis.moveColumn(start, end_index+(start_index<end_index?1:0));\r\n\t\t\t\t\t\t\tthis._last_sort_dnd_node = id.column;\r\n\t\t\t\t\t\t\tthis._column_dnd_temp_block = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} if (id && id.column == start){\r\n\t\t\t\t\t\t//flag prevent flickering just after column move\r\n\t\t\t\t\t\tthis._column_dnd_temp_block = false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tnode.style.display = 'block';\r\n\r\n\t\t\t\t\tpos.x = pos.x - this._relative_column_drag.x;\r\n\t\t\t\t\tpos.y = box.y;\r\n\r\n\t\t\t\t\tif (pos.x < box.x)\r\n\t\t\t\t\t\tpos.x = box.x; \r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tvar max = box.x + this.$view.offsetWidth - this._scrollSizeY-this._limit_column_drag;\r\n\t\t\t\t\t\tif (pos.x > max)\r\n\t\t\t\t\t\t\tpos.x = max;\r\n\t\t\t\t\t}\r\n\t\t\t\t\twebix.DragControl._skip = true;\r\n\t\t\t\t\r\n\t\t\t\t}, this),\r\n\t\t\t\t$dragDestroy:webix.bind(function(a, node){\r\n\t\t\t\t\twebix.html.remove(node);\r\n\t\t\t\t\t//clean dnd source element\r\n\t\t\t\t\tif(this._dragTarget)\r\n\t\t\t\t\t\twebix.html.remove(this._dragTarget);\r\n\t\t\t\t\tvar id = webix.DragControl.getContext().start;\r\n\t\t\t\t\tthis.callEvent(\"onAfterColumnDropOrder\",[id.column, this._last_sort_dnd_node, a]);\r\n\t\t\t\t}, this),\r\n\t\t\t\t$drop: function(){}\r\n\t\t\t};\r\n\t\t} else if (value) {\r\n\t\t\tcontrol = {\r\n\t\t\t\t_inner_drag_only:true,\r\n\t\t\t\t$drag:webix.bind(function(s,e){\r\n\t\t\t\t\tvar id = this.locate(e);\r\n\t\t\t\t\tif (this._rs_process || !id || !this.callEvent(\"onBeforeColumnDrag\", [id.column, e])) return false;\r\n\t\t\t\t\twebix.DragControl._drag_context = { from:control, start:id, custom:\"column_dnd\" };\r\n\r\n\t\t\t\t\tvar header = this.getColumnConfig(id.column).header;\r\n\t\t\t\t\tvar text = \"&nbsp;\";\r\n\t\t\t\t\tfor (var i = 0; i < header.length; i++)\r\n\t\t\t\t\t\tif (header[i]){\r\n\t\t\t\t\t\t\ttext = header[i].text;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn \"<div class='webix_dd_drag_column'>\"+text+\"</div>\";\r\n\t\t\t\t}, this),\r\n\t\t\t\t$drop:webix.bind(function(s,t,e){\r\n\t\t\t\t\tvar target = e;\r\n\t\t\t\t\t//on touch devices event doesn't point to the actual drop target\r\n\t\t\t\t\tif(e.touches && this._drag_column_last)\r\n\t\t\t\t\t\ttarget = this._drag_column_last;\r\n\r\n\t\t\t\t\tvar id = this.locate(target);\r\n\r\n\t\t\t\t\tif (!id) return false;\r\n\t\t\t\t\tvar start = webix.DragControl.getContext().start.column;\r\n\t\t\t\t\tif (start != id.column){\r\n\t\t\t\t\t\tif (!this.callEvent(\"onBeforeColumnDrop\",[start, id.column ,e])) return;\r\n\t\t\t\t\t\tvar start_index = this.getColumnIndex(start);\r\n\t\t\t\t\t\tvar end_index = this.getColumnIndex(id.column);\r\n\r\n\t\t\t\t\t\tthis.moveColumn(start, end_index+(start_index<end_index?1:0));\r\n\t\t\t\t\t\tthis.callEvent(\"onAfterColumnDrop\",[start, id.column, e]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this),\r\n\t\t\t\t$dragIn:webix.bind(function(s,t,e){\r\n\t\t\t\t\tvar context = webix.DragControl.getContext();\r\n\t\t\t\t\t//ignore normal dnd , and dnd from other components\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (context.custom != \"column_dnd\" || context.from != control) return false;\r\n\r\n\t\t\t\t\tvar target = (e.target||e.srcElement);\r\n\t\t\t\t\twhile ((target.className||\"\").indexOf(\"webix_hcell\") == -1){\r\n\t\t\t\t\t\ttarget = target.parentNode;\r\n\t\t\t\t\t\tif (!target) return;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (target != this._drag_column_last){\t//new target\r\n\t\t\t\t\t\tif (this._drag_column_last)\r\n\t\t\t\t\t\t\twebix.html.removeCss(this._drag_column_last, \"webix_dd_over_column\");\r\n\t\t\t\t\t\twebix.html.addCss(target, \"webix_dd_over_column\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn (this._drag_column_last = target);\r\n\t\t\t\t}, this),\r\n\t\t\t\t$dragDestroy:webix.bind(function(a,h){\r\n\t\t\t\t\tif (this._drag_column_last)\r\n\t\t\t\t\t\twebix.html.removeCss(this._drag_column_last, \"webix_dd_over_column\");\r\n\t\t\t\t\twebix.html.remove(h);\r\n\t\t\t\t}, this)\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tif (value){\r\n\t\t\twebix.DragControl.addDrag(this._header, control);\r\n\t\t\twebix.DragControl.addDrop(this._header, control, true);\r\n\t\t}\r\n\t}\r\n});\r\nwebix.extend(webix.ui.datatable,webix.DragItem);\r\nwebix.extend(webix.ui.datatable, {\r\n\t_mark_invalid:function(id, details){\r\n\t\tthis._clear_invalid_css(id);\r\n\t\tfor (var key in details)\r\n\t\t\tthis.addCellCss(id, key, \"webix_invalid_cell\");\r\n\r\n\t\tthis.addCss(id, \"webix_invalid\");\r\n\t},\r\n\t_clear_invalid:function(id){\r\n\t\tthis._clear_invalid_css(id);\r\n\t\tthis.removeCss(id, \"webix_invalid\");\r\n\t},\r\n\t_clear_invalid_css:function(id){\r\n\t\tvar item = this.getItem(id);\r\n\t\tvar mark = this.data.getMark(id, \"$cellCss\");\r\n\t\tif (mark){\r\n\t\t\tfor (var key in mark)\r\n\t\t\t\tmark[key] = mark[key].replace(\"webix_invalid_cell\", \"\").replace(\"  \",\" \");\r\n\t\t}\r\n\t},\r\n\r\n\taddRowCss:function(id, css, silent){\r\n\t\tthis.addCss(id, css, silent);\r\n\t},\r\n\tremoveRowCss:function(id, css, silent){\r\n\t\tthis.removeCss(id, css, silent);\r\n\t},\r\n\taddCellCss:function(id, name, css, silent){\r\n\t\tvar mark = this.data.getMark(id, \"$cellCss\");\r\n\t\tvar newmark = mark || {};\r\n\r\n\t\tvar style = newmark[name]||\"\";\r\n\t\tnewmark[name] = style.replace(css, \"\").replace(\"  \",\" \")+\" \"+css;\r\n\r\n\t\tif (!mark) this.data.addMark(id, \"$cellCss\", false, newmark, true);\r\n\t\tif (!silent)\r\n\t\t\tthis.refresh(id);\r\n\t},\r\n\tremoveCellCss:function(id, name, css, silent){\r\n\t\tvar mark = this.data.getMark(id, \"$cellCss\");\r\n\t\tif (mark){\r\n\t\t\tvar style = mark[name]||\"\";\r\n\t\t\tif (style)\r\n\t\t\t\tmark[name] = style.replace(css, \"\").replace(\"  \",\" \");\r\n\t\t\tif (!silent)\r\n\t\t\t\tthis.refresh(id);\r\n\t\t}\r\n\t}\r\n});\r\nwebix.extend(webix.ui.datatable, webix.ValidateCollection);\r\n\r\n(function(){\r\n\tfunction getData(data){\r\n\t\tvar values = [];\r\n\t\tfor (var i = data.length - 1; i >= 0; i--) {\r\n\t\t\tvar value = data[i];\r\n\t\t\tvalues[i] = (typeof value === \"object\" ? value.value : value);\r\n\t\t}\r\n\t\treturn values;\r\n\t}\r\n\r\n\tvar SLines = webix.Sparklines = function(){};\r\n\tSLines.types ={};\r\n\r\n\tSLines.getTemplate = function(customConfig){\r\n\t\tvar config = customConfig||{};\r\n\t\tif(typeof customConfig == \"string\")\r\n\t\t\tconfig = { type: customConfig };\r\n\r\n\t\twebix.extend(config,{ type:\"line\" });\r\n\r\n\t\tvar slConstructor = this.types[config.type];\r\n\t\twebix.assert(slConstructor,\"Unknown sparkline type\");\r\n\t\treturn webix.bind(this._template, new slConstructor(config));\r\n\t};\r\n\r\n\tSLines._template =  function(item, common, data, column){\r\n\t\tif (column)\r\n\t\t\treturn this.draw(getData(data), column.width, 33);\r\n\t\telse\r\n\t\t\treturn this.draw(item.data || item, common.width, common.height);\r\n\t};\r\n})();\r\n\r\n// add \"sparklines\" type\r\nwebix.attachEvent(\"onDataTable\", function(table){\r\n\ttable.type.sparklines = webix.Sparklines.getTemplate();\r\n});\r\n\r\n(function(){\r\n\tfunction setOpacity(color,opacity){\r\n\t\tcolor = webix.color.toRgb(color);\r\n\t\tcolor.push(opacity);\r\n\t\treturn \"rgba(\"+color.join(\",\")+\")\";\r\n\t}\r\n\r\n\tfunction joinAttributes(attrs){\r\n\t\tvar result = ' ';\r\n\t\tif(attrs)\r\n\t\t\tfor(var a in attrs)\r\n\t\t\t\tresult += a+'=\\\"'+attrs[a]+'\\\" ';\r\n\t\treturn result;\r\n\t}\r\n\t// SVG\r\n\tvar SVG = {};\r\n\r\n\tSVG.draw = function(content, width, height, css){\r\n\t\tvar attrs = {\r\n\t\t\txmlns: 'http://www.w3.org/2000/svg',\r\n\t\t\tversion: '1.1',\r\n\t\t\theight: '100%',\r\n\t\t\twidth: '100%',\r\n\t\t\tviewBox: '0 0 '+width+' '+height,\r\n\t\t\t\"class\": css||\"\"\r\n\t\t};\r\n\t\treturn '<svg '+joinAttributes(attrs)+'>'+content+'</svg>';\r\n\t};\r\n\tSVG.styleMap = {\r\n\t\t\"lineColor\": \"stroke\",\r\n\t\t\"color\": \"fill\"\r\n\t};\r\n\tSVG.group = function(path){\r\n\t\treturn \"<g>\"+path+\"</g>\";\r\n\t};\r\n\tSVG._handlers = {\r\n\t\t// MoveTo: {x:px,y:py}\r\n\t\t\"M\": function(p){\r\n\t\t\treturn \" M \"+ p.x+\" \"+ p.y;\r\n\t\t},\r\n\t\t// LineTo: {x:px,y:py}\r\n\t\t\"L\": function(p){\r\n\t\t\treturn \" L \"+ p.x+\" \"+ p.y;\r\n\t\t},\r\n\t\t// Curve: 3 points {x:px,y:py}: two control points and an end point\r\n\t\t\"C\": function(cp0, cp1, p){\r\n\t\t\treturn \" C \"+cp0.x + \" \"+cp0.y+\" \"+cp1.x + \" \"+cp1.y+\" \"+p.x + \" \"+p.y;\r\n\t\t},\r\n\t\t// Arc: center point {x:px,y:py}, radius, angle0, angle1\r\n\t\t\"A\": function(p, radius, angle0, angle1){\r\n\t\t\tvar x = p.x+Math.cos(angle1)*radius;\r\n\t\t\tvar y = p.y+Math.sin(angle1)*radius;\r\n\t\t\treturn  \" A \"+radius+\" \"+radius+\" 0 0 1 \"+x+\" \"+y;\r\n\t\t}\r\n\t};\r\n\t// points is an array of an array with two elements: {string} line type, {array}\r\n\tSVG.definePath = function(points, close){\r\n\t\tvar path = \"\";\r\n\t\tfor(var i =0; i < points.length; i++){\r\n\t\t\twebix.assert(points[i][0]&&typeof points[i][0] == \"string\", \"Path type must be a string\");\r\n\t\t\tvar type = (points[i][0]).toUpperCase();\r\n\t\t\twebix.assert(this._handlers[type], \"Incorrect path type\");\r\n\t\t\tpath += this._handlers[type].apply(this,points[i].slice(1));\r\n\r\n\t\t}\r\n\t\tif(close)\r\n\t\t\tpath += \" Z\";\r\n\r\n\t\treturn path;\r\n\t};\r\n\tSVG._linePoints = function(points){\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i< points.length; i++){\r\n\t\t\tresult.push([i?\"L\":\"M\",points[i]]);\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\tSVG.setOpacity = function(color,opacity){\r\n\t\tcolor = webix.color.toRgb(color);\r\n\t\tcolor.push(opacity);\r\n\t\treturn \"rgba(\"+color.join(\",\")+\")\";\r\n\t};\r\n\tSVG._curvePoints = function(points){\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i< points.length; i++){\r\n\t\t\tvar p = points[i];\r\n\t\t\tif(!i){\r\n\t\t\t\tresult.push([\"M\",p[0]]);\r\n\t\t\t}\r\n\t\t\tresult.push([\"C\",p[1],p[2],p[3]]);\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\tSVG.getPath = function(path, css, attrs){\r\n\t\tattrs = joinAttributes(attrs);\r\n\t\treturn '<path class=\"'+css+'\" vector-effect=\"non-scaling-stroke\" d=\"'+path+'\" '+attrs+'/>';\r\n\t};\r\n\tSVG.getSector = function(p, radius, angle0, angle1, css, attrs){\r\n\t\tattrs = joinAttributes(attrs);\r\n\t\tvar x0 = p.x+Math.cos(angle0)*radius;\r\n\t\tvar y0 = p.y+Math.sin(angle0)*radius;\r\n\t\tvar lines = [\r\n\t\t\t[\"M\",p],\r\n\t\t\t[\"L\",{x:x0, y:y0}],\r\n\t\t\t[\"A\", p,radius,angle0,angle1],\r\n\t\t\t[\"L\",p]\r\n\t\t];\r\n\r\n\r\n\t\treturn '<path class=\"'+css+'\" vector-effect=\"non-scaling-stroke\" d=\"'+SVG.definePath(lines,true)+'\" '+attrs+'/>';\r\n\t};\r\n\tSVG.getCurve = function(points,css, attrs){\r\n\t\tattrs = joinAttributes(attrs);\r\n\t\tvar path = this.definePath(this._curvePoints(points));\r\n\t\treturn '<path fill=\"none\" class=\"'+css+'\" vector-effect=\"non-scaling-stroke\" d=\"'+path+'\" '+attrs+'/>';\r\n\t};\r\n\tSVG.getLine = function(p0,p1,css, attrs){\r\n\t\treturn this.getPath(this.definePath(this._linePoints([p0,p1]),true),css,attrs);\r\n\t};\r\n\tSVG.getCircle = function(p, radius, css, attrs){\r\n\t\tattrs = joinAttributes(attrs);\r\n\t\treturn '<circle class=\"'+css+'\" cx=\"'+ p.x+'\" cy=\"'+ p.y+'\" r=\"'+radius+'\" '+attrs+'/>';\r\n\t};\r\n\tSVG.getRect = function(x, y, width, height, css, attrs){\r\n\t\tattrs = joinAttributes(attrs);\r\n\t\treturn '<rect class=\"'+css+'\" rx=\"0\" ry=\"0\" x=\"'+x+'\" y=\"'+y+'\" width=\"'+width+'\" height=\"'+height+'\" '+attrs+'/>';\r\n\t};\r\n\twebix._SVG = SVG;\r\n})();\r\n(function(){\r\n\tvar defaults = {\r\n\t\tpaddingX: 3,\r\n\t\tpaddingY: 4,\r\n\t\tradius: 1,\r\n\t\tminHeight: 4,\r\n\t\teventRadius: 8\r\n\t};\r\n\r\n\tfunction Area(config){\r\n\t\tthis.config = webix.extend(webix.copy(defaults),config||{},true);\r\n\t}\r\n\r\n\tArea.prototype.draw = function(data, width, height){\r\n\t\tvar eventRadius, graph, path, points, styles,\r\n\t\t\tconfig = this.config,\r\n\t\t\tLine = webix.Sparklines.types.line.prototype,\r\n\t\t\trenderer = webix._SVG;\r\n\r\n\t\t// draw area\r\n\t\tpoints = this.getPoints(data, width, height);\r\n\t\tpath = renderer.definePath(Line._getLinePoints(points),true);\r\n\r\n\t\tif(config.color)\r\n\t\t\tstyles = this._applyColor(renderer,config.color);\r\n\r\n\t\tgraph = renderer.group(renderer.getPath(path,'webix_sparklines_area'+(styles?' '+styles.area:'')));\r\n\t\t// draw line\r\n\t\tpoints.splice(points.length - 3, 3);\r\n\t\tpath = renderer.definePath(Line._getLinePoints(points));\r\n\t\tgraph += renderer.group(renderer.getPath(path,'webix_sparklines_line'+(styles?' '+styles.line:'')));\r\n\t\t// draw items\r\n\t\tgraph += Line._drawItems(renderer, points, config.radius, 'webix_sparklines_item'+(styles?' '+styles.item:''));\r\n\t\t// draw event areas\r\n\t\teventRadius = Math.min(data.length?(width-2*(config.paddingX||0))/data.length:0,config.eventRadius);\r\n\t\tgraph += Line._drawEventItems(renderer, points, eventRadius);\r\n\t\treturn  renderer.draw(graph, width, height, 'webix_sparklines_area_chart'+(config.css?' '+config.css:''));\r\n\t};\r\n\tArea.prototype._applyColor = function(renderer,color){\r\n\t\tvar config = {'area': {}, 'line':{},'item':{}},\r\n\t\t\tmap = renderer.styleMap;\r\n\t\tif(color){\r\n\t\t\tconfig.area[map.color] = renderer.setOpacity(color,0.2);\r\n\t\t\tconfig.line[map.lineColor] = color;\r\n\t\t\tconfig.item[map.color] = color;\r\n\t\t\tfor(var name in config)\r\n\t\t\t\tconfig[name] = webix.html.createCss(config[name]);\r\n\t\t}\r\n\r\n\t\treturn config;\r\n\t};\r\n\tArea.prototype.getPoints = function(data, width, height){\r\n\t\tvar Line = webix.Sparklines.types.line.prototype;\r\n\t\tvar points =Line.getPoints.call(this, data, width, height);\r\n\t\tvar x = this.config.paddingX || 0;\r\n\t\tvar y = this.config.paddingY || 0;\r\n\t\tpoints.push({x: width - x, y: height - y},{x: x, y: height - y},{x: x, y: points[0].y});\r\n\t\treturn points;\r\n\t};\r\n\twebix.Sparklines.types[\"area\"]=Area;\r\n})();\r\n(function(){\r\n\tvar defaults = {\r\n\t\tpaddingX: 3,\r\n\t\tpaddingY: 4,\r\n\t\twidth: 20,\r\n\t\tmargin: 4,\r\n\t\tminHeight: 4,\r\n\t\teventRadius: 8,\r\n\t\torigin:0,\r\n\t\titemCss: function(value){return value < (this.config.origin||0)?\" webix_sparklines_bar_negative\":\"\";}\r\n\t};\r\n\tfunction Bar(config){\r\n\t\tthis.config = webix.extend(webix.copy(defaults),config||{},true);\r\n\t}\r\n\r\n\tBar.prototype.draw = function(data, width, height){\r\n\t\tvar i, css, p, y, padding,\r\n\t\t\tconfig = this.config,\r\n\t\t\tgraph = \"\", items = [],\r\n\t\t\tpoints = this.getPoints(data, width, height),\r\n\t\t\trenderer = webix._SVG;\r\n\r\n\t\t// draw bars\r\n\t\tfor( i = 0; i< points.length; i++){\r\n\t\t\tcss = (typeof config.itemCss == 'function'?config.itemCss.call(this,data[i]):(config.itemCss||''));\r\n\t\t\tif (config.negativeColor && data[i] < config.origin)\r\n\t\t\t\tcss += ' '+this._applyColor(renderer,config.negativeColor);\r\n\t\t\telse if(config.color)\r\n\t\t\t\tcss += ' '+this._applyColor(renderer,config.color);\r\n\t\t\tp = points[i];\r\n\t\t\titems.push(renderer.getRect(p.x, p.y, p.width, p.height,'webix_sparklines_bar '+css));\r\n\t\t}\r\n\t\tgraph += renderer.group(items.join(\"\"));\r\n\t\t// origin)\r\n\t\ty = parseInt(this._getOrigin(data, width, height),10)+0.5;\r\n\t\tpadding = config.paddingX||0;\r\n\t\tgraph += renderer.group(renderer.getLine({x:padding, y: y},{x: width-padding, y: y},'webix_sparklines_origin'));\r\n\r\n\t\t// event areas\r\n\t\tvar evPoints = this._getEventPoints(data, width, height);\r\n\t\tvar evItems = [];\r\n\t\tfor( i = 0; i< evPoints.length; i++){\r\n\t\t\tp = evPoints[i];\r\n\t\t\tevItems.push(renderer.getRect(p.x, p.y, p.width, p.height,'webix_sparklines_event_area ',{\"webix_area\":i}));\r\n\t\t}\r\n\t\tgraph += renderer.group(evItems.join(\"\"));\r\n\t\treturn  renderer.draw(graph, width, height, 'webix_sparklines_bar_chart'+(config.css?' '+config.css:''));\r\n\t};\r\n\tBar.prototype._applyColor = function(renderer,color){\r\n\t\tvar config = {},\r\n\t\t\tmap = renderer.styleMap;\r\n\t\tif(color)\r\n\t\t\tconfig[map.color] = color;\r\n\t\treturn webix.html.createCss(config);\r\n\t};\r\n\tBar.prototype._getOrigin = function(data, width, height){\r\n\t\tvar config = this.config;\r\n\t\tvar y = config.paddingY||0;\r\n\t\theight = (height||100)-y*2;\r\n\t\tvar pos = y+height;\r\n\t\tif(config.origin !== false){\r\n\t\t\tvar minValue = Math.min.apply(null,data);\r\n\t\t\tvar maxValue = Math.max.apply(null,data);\r\n\t\t\tvar origin = config.origin||0;\r\n\t\t\tif(origin >= maxValue){\r\n\t\t\t\tpos = y;\r\n\t\t\t}\r\n\t\t\telse if(origin > minValue){\r\n\t\t\t\tvar unitY = height/(maxValue - minValue);\r\n\t\t\t\tpos -= unitY*(origin-minValue);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn pos;\r\n\t};\r\n\tBar.prototype._getEventPoints = function(data, width, height){\r\n\t\tvar result = [];\r\n\t\tvar x = this.config.paddingX||0;\r\n\t\tvar y = this.config.paddingY||0;\r\n\t\twidth = (width||100)-x*2;\r\n\t\theight = (height||100)-y*2;\r\n\t\tif(data.length){\r\n\t\t\tvar unitX = width/data.length;\r\n\t\t\tfor(var i=0; i < data.length; i++)\r\n\t\t\t\tresult.push({x: Math.ceil(unitX*i)+x, y: y, height: height, width: unitX});\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\tBar.prototype.getPoints = function(data, width, height){\r\n\t\tvar config = this.config;\r\n\t\tvar minValue = Math.min.apply(null,data);\r\n\t\tvar maxValue = Math.max.apply(null,data);\r\n\t\tvar result = [];\r\n\t\tvar x = config.paddingX;\r\n\t\tvar y = config.paddingY;\r\n\t\tvar margin = config.margin;\r\n\t\tvar barWidth = config.width||20;\r\n\t\tvar originY = this._getOrigin(data,width,height);\r\n\t\twidth = (width||100)-x*2;\r\n\t\theight = (height||100)-y*2;\r\n\t\tif(data.length){\r\n\t\t\tvar unitX = width/data.length;\r\n\t\t\tvar yNum = maxValue - minValue;\r\n\t\t\tbarWidth = Math.min(unitX-margin,barWidth);\r\n\t\t\tmargin = unitX-barWidth;\r\n\t\t\tvar minHeight = 0;\r\n\t\t\tvar origin = minValue;\r\n\r\n\t\t\tif(config.origin !== false && config.origin > minValue)\r\n\t\t\t\torigin = config.origin||0;\r\n\t\t\telse\r\n\t\t\t\tminHeight = config.minHeight;\r\n\r\n\t\t\tvar unitY = (height-minHeight)/(yNum?yNum:1);\r\n\r\n\t\t\tfor(var i=0; i < data.length; i++){\r\n\t\t\t\tvar h = Math.ceil(unitY*(data[i]-origin));\r\n\t\t\t\tresult.push({x: Math.ceil(unitX*i)+x+margin/2, y: originY-(data[i]>=origin?h:0)-minHeight, height: Math.abs(h)+minHeight, width: barWidth});\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\twebix.Sparklines.types[\"bar\"]=Bar;\r\n})();\r\n(function(){\r\n\tvar defaults = {\r\n\t\tpaddingX: 6,\r\n\t\tpaddingY: 6,\r\n\t\tradius: 2,\r\n\t\tminHeight: 4,\r\n\t\teventRadius: 8\r\n\t};\r\n\tfunction Line(config){\r\n\t\tthis.config = webix.extend(webix.copy(defaults),config||{},true);\r\n\t}\r\n\r\n\tLine.prototype.draw = function(data, width, height){\r\n\t\tvar points = this.getPoints(data, width, height);\r\n\t\tvar config = this.config;\r\n\t\tvar renderer = webix._SVG;\r\n\t\tvar styles = config.color?this._applyColor(renderer,config.color):null;\r\n\t\t// draw line\r\n\t\tvar path = renderer.definePath(this._getLinePoints(points));\r\n\t\tvar graph = renderer.group(renderer.getPath(path,'webix_sparklines_line'+(styles?' '+styles.line:'')));\r\n\t\t// draw items\r\n\t\tgraph += this._drawItems(renderer, points, config.radius, 'webix_sparklines_item'+(styles?' '+styles.item:''));\r\n\t\t// draw event items\r\n\t\tvar eventRadius = Math.min(data.length?(width-2*(config.paddingX||0))/data.length:0,config.eventRadius);\r\n\t\tgraph += this._drawEventItems(renderer, points, eventRadius);\r\n\t\treturn  renderer.draw(graph, width, height, \"webix_sparklines_line_chart\"+(config.css?' '+config.css:''));\r\n\t};\r\n\tLine.prototype._applyColor = function(renderer,color){\r\n\t\tvar config = {'line':{},'item':{}},\r\n\t\t\tmap = renderer.styleMap;\r\n\t\tif(color){\r\n\t\t\tconfig.line[map.lineColor] = color;\r\n\t\t\tconfig.item[map.color] = color;\r\n\t\t\tfor(var name in config)\r\n\t\t\t\tconfig[name] = webix.html.createCss(config[name]);\r\n\t\t}\r\n\t\treturn config;\r\n\t};\r\n\tLine.prototype._drawItems = function(renderer,points,radius,css,attrs){\r\n\t\tvar items = [];\r\n\t\tfor(var i = 0; i< points.length; i++){\r\n\t\t\titems.push(renderer.getCircle(points[i], radius, css,attrs));\r\n\t\t}\r\n\t\treturn renderer.group(items.join(\"\"));\r\n\t};\r\n\tLine.prototype._drawEventItems = function(renderer,points,radius){\r\n\t\tvar items = [];\r\n\t\tfor(var i = 0; i< points.length; i++){\r\n\t\t\titems.push(renderer.getCircle(points[i], radius, 'webix_sparklines_event_area', {webix_area:i}));\r\n\t\t}\r\n\t\treturn renderer.group(items.join(\"\"));\r\n\t};\r\n\r\n\tLine.prototype._getLinePoints = function(points){\r\n\t\tvar i, type, result =[];\r\n\t\tfor( i =0; i< points.length; i++){\r\n\t\t\ttype = i?\"L\":\"M\";\r\n\t\t\tresult.push([type,points[i]]);\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\tLine.prototype.getPoints = function(data, width, height) {\r\n\t\tvar config = this.config;\r\n\t\tvar minValue = Math.min.apply(null,data);\r\n\t\tvar maxValue = Math.max.apply(null,data);\r\n\t\tvar result = [];\r\n\t\tvar x = config.paddingX||0;\r\n\t\tvar y = config.paddingY||0;\r\n\t\twidth = (width||100)-x*2;\r\n\t\tvar minHeight = config.minHeight||0;\r\n\t\theight = (height||100)-y*2;\r\n\t\tif(data.length){\r\n\t\t\tif(data.length==1)\r\n\t\t\t\tresult.push({x: width/2+x, y: height/2+x});\r\n\t\t\telse{\r\n\t\t\t\tvar unitX = width/(data.length-1);\r\n\t\t\t\tvar yNum = maxValue - minValue;\r\n\t\t\t\tvar unitY = (height- minHeight)/(yNum?yNum:1);\r\n\t\t\t\tif(!yNum)\r\n\t\t\t\t\theight /= 2;\r\n\t\t\t\tfor(var i=0; i < data.length; i++){\r\n\t\t\t\t\tresult.push({x: Math.ceil(unitX*i)+x, y: height-Math.ceil(unitY*(data[i]-minValue))+y-minHeight});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\twebix.Sparklines.types[\"line\"] = Line;\r\n})();\r\n(function(){\r\n\tvar defaults = {\r\n\t\tpaddingY: 2\r\n\t};\r\n\r\n\tfunction Pie(config){\r\n\t\tthis.config = webix.extend(defaults,config||{},true);\r\n\t}\r\n\tPie.prototype._defColorsCursor = 0;\r\n\tPie.prototype._defColors  = [\r\n\t\t\"#f55b50\",\"#ff6d3f\",\"#ffa521\",\"#ffc927\",\"#ffee54\",\"#d3e153\",\"#9acb61\",\"#63b967\",\r\n\t\t\"#21a497\",\"#21c5da\",\"#3ea4f5\",\"#5868bf\",\"#7b53c0\",\"#a943ba\",\"#ec3b77\",\"#9eb0b8\"\r\n\t];\r\n\tPie.prototype._getColor = function(i,data){\r\n\t\tvar count = data.length;\r\n\t\tvar colorsCount = this._defColors.length;\r\n\t\tif(colorsCount > count){\r\n\t\t\tif(i){\r\n\t\t\t\tif(i < colorsCount - count)\r\n\t\t\t\t\ti = this._defColorsCursor +2;\r\n\t\t\t\telse\r\n\t\t\t\t\ti = this._defColorsCursor+1;\r\n\t\t\t}\r\n\t\t\tthis._defColorsCursor = i;\r\n\t\t}\r\n\t\telse\r\n\t\t\ti = i%colorsCount;\r\n\t\treturn this._defColors[i];\r\n\t};\r\n\tPie.prototype.draw = function(data, width, height){\r\n\t\tvar attrs, graph, i, sectors,\r\n\t\t\tconfig = this.config,\r\n\t\t\tcolor = config.color||this._getColor,\r\n\t\t\tpoints = this.getAngles(data),\r\n\t\t\trenderer = webix._SVG,\r\n\t\t\ty = config.paddingY|| 0,\r\n\t\t\t// radius\r\n\t\t\tr = height/2 - y,\r\n\t\t\t// center\r\n\t\t\tx0 = width/2, y0 = height/2;\r\n\r\n\t\t// draw sectors\r\n\t\tif(typeof color != \"function\")\r\n\t\t\tcolor = function(){return color;};\r\n\t\tsectors = \"\";\r\n\t\tfor( i =0; i < points.length; i++){\r\n\t\t\tattrs = {};\r\n\t\t\tattrs[renderer.styleMap['color']] = color.call(this,i,data,this._context);\r\n\t\t\tsectors += renderer.getSector({x:x0,y:y0},r,points[i][0],points[i][1],'webix_sparklines_sector', attrs);\r\n\t\t}\r\n\t\tgraph = renderer.group(sectors);\r\n\r\n\t\t// draw event areas\r\n\t\tsectors = \"\";\r\n\t\tfor(i =0; i < points.length; i++){\r\n\t\t\tsectors += renderer.getSector({x:x0,y:y0},r,points[i][0],points[i][1],'webix_sparklines_event_area',{\"webix_area\":i});\r\n\t\t}\r\n\t\tgraph += renderer.group(sectors);\r\n\r\n\t\treturn  renderer.draw(graph, width, height, 'webix_sparklines_pie_chart'+(config.css?' '+config.css:''));\r\n\t};\r\n\tPie.prototype.getAngles = function(data){\r\n\t\tvar a0 = -Math.PI/ 2, a1,\r\n\t\t\ti, result = [];\r\n\r\n\t\tvar ratios = this._getRatios(data);\r\n\r\n\t\tfor( i =0; i < data.length; i++){\r\n\t\t\ta1= -Math.PI/2+ratios[i]-0.0001;\r\n\t\t\tresult.push([a0,a1]);\r\n\t\t\ta0 = a1;\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\tPie.prototype._getTotalValue = function(data){\r\n\t\tvar t=0;\r\n\t\tfor(var i = 0; i < data.length;i++)\r\n\t\t\tt += data[i];\r\n\t\treturn  t;\r\n\t};\r\n\tPie.prototype._getRatios = function(data){\r\n\t\tvar i, value,\r\n\t\t\tratios = [],\r\n\t\t\tprevSum = 0,\r\n\t\t\ttotalValue = this._getTotalValue(data);\r\n\t\tfor(i = 0; i < data.length;i++){\r\n\t\t\tvalue = data[i];\r\n\t\t\tratios[i] = Math.PI*2*(totalValue?((value+prevSum)/totalValue):(1/data.length));\r\n\t\t\tprevSum += value;\r\n\t\t}\r\n\r\n\t\treturn ratios;\r\n\t};\r\n\r\n\twebix.Sparklines.types[\"pie\"]=Pie;\r\n})();\r\n(function(){\r\n\tvar defaults = {\r\n\t\tpaddingX: 3,\r\n\t\tpaddingY: 6,\r\n\t\tradius: 2,\r\n\t\tminHeight: 4,\r\n\t\teventRadius: 8\r\n\t};\r\n\r\n\tfunction Spline(config){\r\n\t\tthis.config = webix.extend(webix.copy(defaults),config||{},true);\r\n\t}\r\n\r\n\tSpline.prototype.draw = function(data, width, height){\r\n\t\tvar config = this.config,\r\n\t\t\tgraph = \"\",\r\n\t\t \tLine = webix.Sparklines.types.line.prototype,\r\n\t\t\tpoints = this.getPoints(data, width, height),\r\n\t\t\trenderer = webix._SVG,\r\n\t\t\tstyles = config.color?this._applyColor(renderer,config.color):null;\r\n\r\n\t\t// draw spline\r\n\t\tgraph += renderer.group(renderer.getCurve(points, 'webix_sparklines_line'+(styles?' '+styles.line:'')));\r\n\r\n\t\tvar linePoints = Line.getPoints.call(this,data, width, height);\r\n\t\t// draw items\r\n\t\tgraph += Line._drawItems(renderer, linePoints, config.radius, 'webix_sparklines_item'+(styles?' '+styles.item:''));\r\n\t\t// draw event items\r\n\t\tvar eventRadius = Math.min(data.length?(width-2*(config.paddingX||0))/data.length:0,config.eventRadius);\r\n\t\tgraph += Line._drawEventItems(renderer, linePoints, eventRadius);\r\n\t\treturn  renderer.draw(graph, width, height,\"webix_sparklines_line_chart\"+(config.css?' '+config.css:''));\r\n\t};\r\n\tSpline.prototype._applyColor = function(renderer,color){\r\n\t\tvar config = {'line':{},'item':{}},\r\n\t\t\tmap = renderer.styleMap;\r\n\t\tif(color){\r\n\t\t\tconfig.line[map.lineColor] = color;\r\n\t\t\tconfig.item[map.color] = color;\r\n\t\t\tfor(var name in config)\r\n\t\t\t\tconfig[name] = webix.html.createCss(config[name]);\r\n\t\t}\r\n\t\treturn config;\r\n\t};\r\n\tSpline.prototype.getPoints = function(data, width, height){\r\n\t\tvar i, points, px, py,\r\n\t\t\tresult = [], x = [], y =[],\r\n\t\t\tLine = webix.Sparklines.types.line.prototype;\r\n\r\n\t\tpoints = Line.getPoints.call(this, data, width, height);\r\n\r\n\t\tfor(i = 0; i< points.length; i++){\r\n\t\t\tx.push(points[i].x);\r\n\t\t\ty.push(points[i].y);\r\n\t\t}\r\n\t\tpx = this._getControlPoints(x);\r\n\t\tpy = this._getControlPoints(y);\r\n\t\t/*updates path settings, the browser will draw the new spline*/\r\n\t\tfor ( i=0;i<points.length-1;i++){\r\n\t\t\tresult.push([points[i],{x:px[0][i],y:py[0][i]},{x:px[1][i],y:py[1][i]},points[i+1]]);\r\n\t\t}\r\n\t\treturn result;\r\n\r\n\t};\r\n\t/* code from https://www.particleincell.com/2012/bezier-splines/ */\r\n\tSpline.prototype._getControlPoints = function(points){\r\n\t\tvar a=[], b=[], c=[], r=[], p1=[], p2=[],\r\n\t\t\ti, m, n = points.length-1;\r\n\r\n\t\ta[0]=0;\r\n\t\tb[0]=2;\r\n\t\tc[0]=1;\r\n\t\tr[0] = points[0] + 2*points[1];\r\n\r\n\t\tfor (i = 1; i < n - 1; i++){\r\n\t\t\ta[i]=1;\r\n\t\t\tb[i]=4;\r\n\t\t\tc[i]=1;\r\n\t\t\tr[i] = 4 * points[i] + 2 * points[i+1];\r\n\t\t}\r\n\r\n\t\ta[n-1]=2;\r\n\t\tb[n-1]=7;\r\n\t\tc[n-1]=0;\r\n\t\tr[n-1] = 8*points[n-1]+points[n];\r\n\r\n\t\tfor (i = 1; i < n; i++){\r\n\t\t\tm = a[i]/b[i-1];\r\n\t\t\tb[i] = b[i] - m * c[i - 1];\r\n\t\t\tr[i] = r[i] - m*r[i-1];\r\n\t\t}\r\n\r\n\t\tp1[n-1] = r[n-1]/b[n-1];\r\n\t\tfor (i = n - 2; i >= 0; --i)\r\n\t\t\tp1[i] = (r[i] - c[i] * p1[i+1]) / b[i];\r\n\r\n\t\tfor (i=0;i<n-1;i++)\r\n\t\t\tp2[i]=2*points[i+1]-p1[i+1];\r\n\r\n\t\tp2[n-1]=0.5*(points[n]+p1[n-1]);\r\n\r\n\t\treturn [p1, p2];\r\n\t};\r\n\r\n\twebix.Sparklines.types[\"spline\"] = Spline;\r\n\r\n\tvar defaultsArea = {\r\n\t\tpaddingX: 3,\r\n\t\tpaddingY: 6,\r\n\t\tradius: 1,\r\n\t\tminHeight: 4,\r\n\t\teventRadius: 8\r\n\t};\r\n\t// spline area\r\n\tfunction SplineArea(config){\r\n\t\tthis.config = webix.extend(webix.copy(defaultsArea),config||{},true);\r\n\t}\r\n\tSplineArea.prototype = webix.copy(Spline.prototype);\r\n\tSplineArea.prototype.draw = function(data, width, height){\r\n\t\tvar config = this.config,\r\n\t\t\tLine = webix.Sparklines.types.line.prototype,\r\n\t\t\trenderer = webix._SVG,\r\n\t\t\tstyles = config.color?this._applyColor(renderer,config.color):null;\r\n\r\n\t\tvar points = this.getPoints(data, width, height);\r\n\t\t// draw area\r\n\t\tvar linePoints = points.splice(points.length - 3, 3);\r\n\t\tvar linePath = renderer._linePoints(linePoints);\r\n\t\tlinePath[0][0] = \"L\";\r\n\t\tvar areaPoints = renderer._curvePoints(points).concat(linePath);\r\n\t\tvar graph = renderer.group(renderer.getPath(renderer.definePath(areaPoints),'webix_sparklines_area'+(styles?' '+styles.area:''), true));\r\n\t\t// draw line\r\n\t\tgraph += renderer.group(renderer.getPath(renderer.definePath(renderer._curvePoints(points)),'webix_sparklines_line'+(styles?' '+styles.line:'')));\r\n\r\n\t\tvar itemPoints = Line.getPoints.call(this,data, width, height);\r\n\t\t// draw items\r\n\t\tgraph += Line._drawItems(renderer, itemPoints, config.radius, 'webix_sparklines_item'+(styles?' '+styles.item:''));\r\n\t\t// draw event items\r\n\t\tvar eventRadius = Math.min(data.length?(width-2*(config.paddingX||0))/data.length:0,config.eventRadius);\r\n\t\tgraph += Line._drawEventItems(renderer, itemPoints, eventRadius);\r\n\t\treturn  renderer.draw(graph, width, height, \"webix_sparklines_splinearea_chart\"+(config.css?' '+config.css:''));\r\n\t};\r\n\tSplineArea.prototype._applyColor = function(renderer,color){\r\n\t\tvar config = {'area': {}, 'line':{},'item':{}},\r\n\t\t\tmap = renderer.styleMap;\r\n\t\tif(color){\r\n\t\t\tconfig.area[map.color] = renderer.setOpacity(color,0.2);\r\n\t\t\tconfig.line[map.lineColor] = color;\r\n\t\t\tconfig.item[map.color] = color;\r\n\t\t\tfor(var name in config)\r\n\t\t\t\tconfig[name] = webix.html.createCss(config[name]);\r\n\t\t}\r\n\t\treturn config;\r\n\t};\r\n\tSplineArea.prototype.getPoints = function(data, width, height){\r\n\t\tvar points = Spline.prototype.getPoints.call(this, data, width, height);\r\n\t\tvar x = this.config.paddingX || 0;\r\n\t\tvar y = this.config.paddingY || 0;\r\n\t\tpoints.push({x: width - x, y: height - y},{x: x, y: height - y},{x: x, y: points[0][0].y});\r\n\t\treturn points;\r\n\t};\r\n\twebix.Sparklines.types[\"splineArea\"] = SplineArea;\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.TreeTableClick = {};\r\n\r\nwebix.TreeTablePaste = {\r\n\tinsert: function(data) {\r\n\t\tvar parent = this.getSelectedId(true, true);\r\n\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\tvar item = {};\r\n\t\t\tfor (var j = 0; j < this._settings.columns.length; j++) {\r\n\t\t\t\titem[this._settings.columns[j].id] = data[i][j] || \"\";\r\n\t\t\t}\r\n\t\t\tif (!webix.isUndefined(item.id) && this.exists(item.id))\r\n\t\t\t\titem.id = webix.uid();\r\n\t\t\tthis.add(item, null, parent[0]);\r\n\t\t}\r\n\t}\r\n};\r\n\r\nwebix.protoUI({\r\n\tname:\"treetable\",\r\n\t$init:function(){\r\n\t\twebix.extend(this.data, webix.TreeStore, true);\r\n\t\twebix.extend(this.type, webix.TreeType);\r\n\t\twebix.extend(this,  webix.TreeDataMove, true);\r\n\r\n\t\tfor (var key in webix.TreeClick)\r\n\t\t\tif (!this.on_click[key])\r\n\t\t\t\tthis.on_click[key] = this._unwrap_id(webix.TreeClick[key]);\r\n\t\t\r\n\t\tthis.type.treetable = webix.template(\"{common.space()}{common.icon()} {common.folder()}\");\r\n\t\tthis.type.treecheckbox = function(obj, common){\r\n\t\t\tif (obj.indeterminate && !obj.nocheckbox)\r\n\t\t\t\treturn \"<div class='webix_tree_checkbox webix_indeterminate'></div>\";\r\n\t\t\telse\r\n\t\t\t\treturn webix.TreeType.checkbox.apply(this, arguments);\r\n\t\t};\r\n\t\r\n\t\tthis.data.provideApi(this,true);\r\n\r\n\t\tthis._viewobj.setAttribute(\"role\", \"treegrid\");\r\n\r\n\t},\r\n\t$exportView:function(options){\r\n\t\twebix.extend(options, { filterHTML: true });\r\n\t\treturn this;\r\n\t},\r\n\t_drag_order_complex:false,\r\n\t_unwrap_id:function(original){\r\n\t\treturn function (e,id){\r\n\t\t\tid = id.row;\r\n\t\t\treturn original.call(this,e,id);\r\n\t\t};\r\n\t},\r\n\tgetState:function(){\r\n\t\tvar state = webix.DataState.getState.call(this);\r\n\t\twebix.extend(state, webix.TreeAPI.getState.call(this));\r\n\t\treturn state;\r\n\t},\r\n\tsetState:function(state){\r\n\t\tif (webix.TreeAPI.setState.call(this, state)){\r\n\t\t\t//run grid-state only when tree component was fully loaded \r\n\t\t\twebix.DataState.setState.call(this, state);\t\r\n\t\t}\r\n\t},\r\n\tclipboard_setter: function(value) {\r\n\t\twebix.extend(this._paste, webix.TreeTablePaste);\r\n\t\treturn webix.TablePaste.clipboard_setter.call(this, value);\r\n\t},\r\n\t_run_load_next:function(conf, direction){\r\n\t\tfor (var i=0; i<conf.start; i++){\r\n\t\t\tvar id = this.data.order[i];\r\n\t\t\tif (id && this.getItem(id).$level != 1)\r\n\t\t\t\tconf.start--;\r\n\t\t}\r\n\t\treturn webix.ui.datatable.prototype._run_load_next.call(this, conf, direction);\r\n\t},\r\n}, webix.TreeAPI, webix.TreeStateCheckbox, webix.TreeDataLoader, webix.ui.datatable);\r\n\r\n\r\n\r\n\r\n\r\nwebix.Canvas = webix.proto({\r\n\t$init:function(container){\r\n\t\tthis._canvas_labels = [];\r\n\t\tthis._canvas_name =  container.name;\r\n\t\tthis._obj = webix.toNode(container.container||container);\r\n\t\tvar width = container.width*(window.devicePixelRatio||1);\r\n\t\tvar height = container.height*(window.devicePixelRatio||1);\r\n\t\tvar style = container.style||\"\";\r\n\t\tstyle += \";width:\"+container.width+\"px;height:\"+container.height+\"px;\";\r\n\t\tthis._prepareCanvas(container.name, style ,width, height);\r\n\t},\r\n\t_prepareCanvas:function(name,style,x,y){\r\n\t\t//canvas has the same size as master object\r\n\t\tthis._canvas = webix.html.create(\"canvas\",{ title:name, width:x, height:y, canvas_id:name, style:(style||\"\")});\r\n\t\tthis._obj.appendChild(this._canvas);\r\n\t\t//use excanvas in IE\r\n\t\tif (!this._canvas.getContext){\r\n\t\t\tif (webix.env.isIE){\r\n\t\t\t\twebix.require(\"legacy/excanvas/excanvas.js\", true);\t//sync loading\r\n\t\t\t\tG_vmlCanvasManager.init_(document);\r\n\t\t\t\tG_vmlCanvasManager.initElement(this._canvas);\r\n\t\t\t} else\t//some other not supported browser\r\n\t\t\t\twebix.assert(this._canvas.getContext,\"Canvas is not supported in the browser\");\r\n\t\t}\r\n\t\treturn this._canvas;\r\n\t}, \r\n\tgetCanvas:function(context){\r\n\t\tvar ctx = (this._canvas||this._prepareCanvas(this._contentobj)).getContext(context||\"2d\");\r\n\t\tif(!this._webixDevicePixelRatio){\r\n\t\t\tthis._webixDevicePixelRatio = true;\r\n\t\t\tctx.scale(window.devicePixelRatio||1, window.devicePixelRatio||1);\r\n\t\t}\r\n\t\treturn ctx;\r\n\t},\r\n\t_resizeCanvas:function(x, y){\r\n\t\tif (this._canvas){\r\n\t\t\tthis._canvas.setAttribute(\"width\", x*(window.devicePixelRatio||1));\r\n\t\t\tthis._canvas.setAttribute(\"height\", y*(window.devicePixelRatio||1));\r\n\t\t\tthis._canvas.style.width = x+\"px\";\r\n\t\t\tthis._canvas.style.height = y+\"px\";\r\n\t\t\tthis._webixDevicePixelRatio = false;\r\n\t\t}\r\n\t},\r\n\trenderText:function(x,y,text,css,w){\r\n\t\tif (!text) return; //ignore empty text\r\n\t\tif (w) w = Math.max(w,0);\r\n\t\tif (y) y = Math.max(y,0);\r\n\t\tvar t = webix.html.create(\"DIV\",{\r\n\t\t\t\"class\":\"webix_canvas_text\"+(css?(\" \"+css):\"\"),\r\n\t\t\t\"style\":\"left:\"+x+\"px; top:\"+y+\"px;\",\r\n\t\t\t\"aria-hidden\":\"true\"\r\n\t\t},text);\r\n\t\tthis._obj.appendChild(t);\r\n\t\tthis._canvas_labels.push(t); //destructor?\r\n\t\tif (w)\r\n\t\t\tt.style.width = w+\"px\";\r\n\t\treturn t;\r\n\t},\r\n\trenderTextAt:function(valign,align, x,y,t,c,w){\r\n\t\tvar text=this.renderText.call(this,x,y,t,c,w);\r\n\t\tif (text){\r\n\t\t\tif (valign){\r\n\t\t\t\tif(valign == \"middle\")\r\n\t\t\t\t\ttext.style.top = parseInt(y-text.offsetHeight/2,10) + \"px\";\r\n\t\t\t\telse\r\n\t\t\t\t\ttext.style.top = y-text.offsetHeight + \"px\";\r\n\t\t\t}\r\n\t\t\tif (align){\r\n\t\t\t\tif(align == \"left\")\r\n\t\t\t\t\ttext.style.left = x-text.offsetWidth + \"px\";\r\n\t\t\t\telse\r\n\t\t\t\t\ttext.style.left = parseInt(x-text.offsetWidth/2,10) + \"px\";\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn text;\r\n\t},\r\n\tclearCanvas:function(skipMap){\r\n\t\tvar areas=[], i;\r\n\r\n\t\tfor(i=0; i < this._canvas_labels.length;i++)\r\n\t\t\tthis._obj.removeChild(this._canvas_labels[i]);\r\n\t\tthis._canvas_labels = [];\r\n\r\n\t\tif (!skipMap&&this._obj._htmlmap){\r\n\r\n\t\t\t//areas that correspond this canvas layer\r\n\t\t\tareas = this._getMapAreas();\r\n\r\n\t\t\t//removes areas of this canvas\r\n\t\t\twhile(areas.length){\r\n\t\t\t\tareas[0].parentNode.removeChild(areas[0]);\r\n\t\t\t\tareas.splice(0,1);\r\n\t\t\t}\r\n\t\t\tareas = null;\r\n\r\n\t\t\t//removes _htmlmap object if all its child nodes are removed\r\n\t\t\tif(!this._obj._htmlmap.getElementsByTagName(\"AREA\").length){\r\n\t\t\t\tthis._obj._htmlmap.parentNode.removeChild(this._obj._htmlmap);\r\n\t\t\t\tthis._obj._htmlmap = null;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t//FF breaks, when we are using clear canvas and call clearRect without parameters\r\n\t\tthis.getCanvas().clearRect(0,0,this._canvas.offsetWidth, this._canvas.offsetHeight);\r\n\t},\r\n\ttoggleCanvas:function(){\r\n\t\tthis._toggleCanvas(this._canvas.style.display==\"none\");\r\n\t},\r\n\tshowCanvas:function(){\r\n\t\tthis._toggleCanvas(true);\r\n\t},\r\n\thideCanvas:function(){\r\n\t\tthis._toggleCanvas(false);\r\n\t},\r\n\t_toggleCanvas:function(show){\r\n\t\tvar areas, i;\r\n\r\n\t\tfor(i=0; i < this._canvas_labels.length;i++)\r\n\t\t\tthis._canvas_labels[i].style.display = (show?\"\":\"none\");\r\n\r\n\t\tif (this._obj._htmlmap){\r\n\t\t\tareas = this._getMapAreas();\r\n\t\t\tfor( i = 0; i < areas.length; i++){\r\n\t\t\t\tif(show)\r\n\t\t\t\t\tareas[i].removeAttribute(\"disabled\");\r\n\t\t\t\telse\r\n\t\t\t\t\tareas[i].setAttribute(\"disabled\",\"true\");\r\n\t\t\t}\r\n\t\t}\r\n\t\t//FF breaks, when we are using clear canvas and call clearRect without parameters\r\n\t\tthis._canvas.style.display = (show?\"\":\"none\");\r\n\t},\r\n\t_getMapAreas:function(){\r\n\t\tvar res = [], areas, i;\r\n\r\n\t\tareas = this._obj._htmlmap.getElementsByTagName(\"AREA\");\r\n\r\n\t\tfor(i = 0; i < areas.length; i++){\r\n\t\t\tif(areas[i].getAttribute(\"userdata\") == this._canvas_name){\r\n\t\t\t\tres.push(areas[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn res;\r\n\t}\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.color = {\r\n\t_toHex:[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\"],\r\n\ttoHex:function(number, length){\r\n\t\tnumber=parseInt(number,10);\r\n\t\tvar str = \"\";\r\n\t\t\twhile (number>0){\r\n\t\t\t\tstr=this._toHex[number%16]+str;\r\n\t\t\t\tnumber=Math.floor(number/16);\r\n\t\t\t}\r\n\t\t\twhile (str.length <length)\r\n\t\t\t\tstr = \"0\"+str;\r\n\t\treturn str;\r\n\t},\r\n\thexToDec:function(hex){\r\n\t\treturn parseInt(hex, 16);\r\n\t},\r\n\ttoRgb:function(rgb){\r\n\t\tvar r,g,b,rgbArr;\r\n\t\tif (typeof(rgb) != 'string') {\r\n\t\t\tr = rgb[0];\r\n\t\t\tg = rgb[1];\r\n\t\t\tb = rgb[2];\r\n\t\t} else if (rgb.indexOf('rgb')!=-1) {\r\n\t\t\trgbArr = rgb.substr(rgb.indexOf(\"(\")+1,rgb.lastIndexOf(\")\")-rgb.indexOf(\"(\")-1).split(\",\");\r\n\t\t\tr = rgbArr[0];\r\n\t\t\tg = rgbArr[1];\r\n\t\t\tb = rgbArr[2];\r\n\t\t} else {\r\n\t\t\tif (rgb.substr(0, 1) == '#') {\r\n\t\t\t\trgb = rgb.substr(1);\r\n\t\t\t}\r\n\t\t\tr = this.hexToDec(rgb.substr(0, 2));\r\n\t\t\tg = this.hexToDec(rgb.substr(2, 2));\r\n\t\t\tb = this.hexToDec(rgb.substr(4, 2));\r\n\t\t}\r\n\t\tr = (parseInt(r,10)||0);\r\n\t\tg = (parseInt(g,10)||0);\r\n\t\tb = (parseInt(b,10)||0);\r\n\t\tif (r < 0 || r > 255)\r\n\t\t\tr = 0;\r\n\t\tif (g < 0 || g > 255)\r\n\t\t\tg = 0;\r\n\t\tif (b < 0 || b > 255)\r\n\t\t\tb = 0;\r\n\t\treturn [r,g,b];\r\n\t},\r\n\thsvToRgb:function(h, s, v){\r\n\t\tvar hi,f,p,q,t,r,g,b;\r\n\t\thi = Math.floor((h/60))%6;\r\n\t\tf = h/60-hi;\r\n\t\tp = v*(1-s);\r\n\t\tq = v*(1-f*s);\r\n\t\tt = v*(1-(1-f)*s);\r\n\t\tr = 0;\r\n\t\tg = 0;\r\n\t\tb = 0;\r\n\t\tswitch(hi) {\r\n\t\t\tcase 0:\r\n\t\t\t\tr = v; g = t; b = p;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tr = q; g = v; b = p;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tr = p; g = v; b = t;\r\n\t\t\t\t break;\r\n\t\t\tcase 3:\r\n\t\t\t\tr = p; g = q; b = v;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tr = t; g = p; b = v;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tr = v; g = p; b = q;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tr = Math.floor(r*255);\r\n\t\tg = Math.floor(g*255);\r\n\t\tb = Math.floor(b*255);\r\n\t\treturn [r, g, b];\r\n\t},\r\n\trgbToHsv:function(r, g, b){\r\n\t\tvar r0,g0,b0,min0,max0,s,h,v;\r\n\t\tr0 = r/255;\r\n\t\tg0 = g/255;\r\n\t\tb0 = b/255;\r\n\t\tmin0 = Math.min(r0, g0, b0);\r\n\t\tmax0 = Math.max(r0, g0, b0);\r\n\t\th = 0;\r\n\t\ts = max0===0?0:(1-min0/max0);\r\n\t\tv = max0;\r\n\t\tif (max0 == min0) {\r\n\t\t\th = 0;\r\n\t\t} else if (max0 == r0 && g0>=b0) {\r\n\t\t\th = 60*(g0 - b0)/(max0 - min0)+0;\r\n\t\t} else if (max0 == r0 && g0 < b0) {\r\n\t\t\th = 60*(g0 - b0)/(max0 - min0)+360;\r\n\t\t} else if (max0 == g0) {\r\n\t\t\th = 60*(b0 - r0)/(max0-min0)+120;\r\n\t\t} else if (max0 == b0) {\r\n\t\t\th = 60*(r0 - g0)/(max0 - min0)+240;\r\n\t\t}\r\n\t\treturn [h, s, v];\r\n\t}\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.HtmlMap = webix.proto({\r\n\t$init:function(key){\r\n\t\tthis._id = \"map_\"+webix.uid();\r\n\t\tthis._key = key;\r\n\t\tthis._map = [];\r\n\t\tthis._areas = [];\r\n\t},\r\n\taddRect: function(id,points,userdata) {\r\n\t\tthis._createMapArea(id,\"RECT\",points,userdata);\r\n\t},\r\n\taddPoly: function(id,points,userdata) {\r\n\t\tthis._createMapArea(id,\"POLY\",points,userdata);\r\n\t},\r\n\t_createMapArea:function(id,shape,coords,userdata){\r\n\t\tvar extra_data = \"\";\r\n\t\tif(arguments.length==4) \r\n\t\t\textra_data = \"userdata='\"+userdata+\"'\";\r\n\t\tthis._map.push(\"<area \"+this._key+\"='\"+id+\"' shape='\"+shape+\"' coords='\"+coords.join()+\"' \"+extra_data+\"></area>\");\r\n\t\tthis._areas.push({index: userdata, points:coords});\r\n\r\n\t},\r\n\taddSector:function(id,alpha0,alpha1,x,y,R,ky,userdata){\r\n\t\tvar points = [];\r\n\t\tpoints.push(x);\r\n\t\tpoints.push(Math.floor(y*ky)); \r\n\t\tfor(var i = alpha0; i < alpha1; i+=Math.PI/18){\r\n\t\t\tpoints.push(Math.floor(x+R*Math.cos(i)));\r\n\t\t\tpoints.push(Math.floor((y+R*Math.sin(i))*ky));\r\n\t\t}\r\n\t\tpoints.push(Math.floor(x+R*Math.cos(alpha1)));\r\n\t\tpoints.push(Math.floor((y+R*Math.sin(alpha1))*ky));\r\n\t\tpoints.push(x);\r\n\t\tpoints.push(Math.floor(y*ky)); \r\n\t\t\r\n\t\treturn this.addPoly(id,points,userdata);\r\n\t},\r\n\trender:function(obj){\r\n\t\tvar d = webix.html.create(\"DIV\");\r\n\t\td.style.cssText=\"position:absolute; width:100%; height:100%; top:0px; left:0px;\";\r\n\t\tobj.appendChild(d);\r\n\t\tvar src = webix.env.isIE?\"\":\"src='data:image/gif;base64,R0lGODlhEgASAIAAAP///////yH5BAUUAAEALAAAAAASABIAAAIPjI+py+0Po5y02ouz3pwXADs='\";\r\n\t\td.innerHTML=\"<map id='\"+this._id+\"' name='\"+this._id+\"'>\"+this._map.join(\"\\n\")+\"</map><img \"+src+\" class='webix_map_img' usemap='#\"+this._id+\"'>\";\r\n\t\t\r\n\t\tobj._htmlmap = d; //for clearing routine\r\n\t\t\r\n\t\tthis._map = [];\r\n\t}\r\n});\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"chart\",\r\n\t$init:function(config){\r\n\t\tthis._series = [this._settings];\r\n\t\tthis._legend_labels = [];\r\n\t\tthis._contentobj.className += \" webix_chart\";\r\n\t\tthis.$ready.push(this._after_init_call);\r\n\t\t/*preset*/\r\n\t\tif(config.preset){\r\n\t\t\tthis._definePreset(config);\r\n\t\t}\r\n\r\n\t\t// move series to end of configuration properties hash\r\n\t\t// so it will be parsed after other settings\r\n\t\tif(config.series){\r\n\t\t\tvar series = config.series;\r\n\t\t\tdelete config.series;\r\n\t\t\tconfig.series = series;\r\n\t\t}\r\n\r\n\t\tthis.attachEvent(\"onMouseMove\",this._switchSeries);\r\n\r\n\t\tthis.data.provideApi(this, true);\r\n\t},\r\n\t_after_init_call:function(){\r\n\t\tthis.data.attachEvent(\"onStoreUpdated\",webix.bind(function(){\r\n\t\t\tthis.render();\r\n\t\t},this));\r\n\t},\r\n\tdefaults:{\r\n\t\tariaLabel:\"chart\",\r\n        color:\"default\",\r\n\t\talpha:\"1\",\r\n\t\tlabel:false,\r\n\t\tvalue:\"{obj.value}\",\r\n\t\tpadding:{},\r\n\t\ttype:\"pie\",\r\n\t\tlineColor:\"#ffffff\",\r\n\t\tcant:0.5,\r\n\t\tbarWidth: 30,\r\n\t\tline:{\r\n            width:2,\r\n\t\t\tcolor:\"#1293f8\"\r\n        },\r\n\t\titem:{\r\n\t\t\tradius:3,\r\n\t\t\tborderColor:\"#636363\",\r\n            borderWidth:1,\r\n            color: \"#ffffff\",\r\n            alpha:1,\r\n            type:\"r\",\r\n            shadow:false\r\n\t\t},\r\n\t\tshadow:true,\r\n\t\tgradient:false,\r\n\t\tborder:true,\r\n\t\tlabelOffset: 20,\r\n\t\torigin:\"auto\",\r\n\t\tscale: \"linear\"\r\n    },\r\n\t_id:\"webix_area_id\",\r\n\ton_click:{\r\n\t\twebix_chart_legend_item: function(e,id,obj){\r\n\t\t\tvar series = obj.getAttribute(\"series_id\");\r\n\t\t\tif(this.callEvent(\"onLegendClick\",[e,series,obj])){\r\n\t\t\t\tvar config = this._settings;\r\n\t\t\t\tvar values = config.legend.values;\r\n\t\t\t\tvar toggle = (values&&values[series].toggle)||config.legend.toggle;\r\n\t\t\t\tif((typeof series != \"undefined\")&&this._series.length>1){\r\n\t\t\t\t\t// hide action\r\n\t\t\t\t\tif(toggle){\r\n\t\t\t\t\t\tif(obj.className.indexOf(\"hidden\")!=-1){\r\n\t\t\t\t\t\t\tthis.showSeries(series);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tthis.hideSeries(series);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\ton_dblclick:{\r\n\t},\r\n\ton_mouse_move:{\r\n\t},\r\n\tlocate: function(e){\r\n\t\treturn webix.html.locate(e,this._id);\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tif(webix.ui.view.prototype.$setSize.call(this,x,y)){\r\n\t\t\tfor(var c in this.canvases){\r\n\t\t\t\tthis.canvases[c]._resizeCanvas(this._content_width, this._content_height);\r\n\t\t\t}\r\n\t\t\tthis.render();\r\n\t\t}\r\n\t},\r\n\ttype_setter:function(val){\r\n\t\twebix.assert(this[\"$render_\"+val], \"Chart type is not supported, or extension is not loaded: \"+val);\r\n\t\t\r\n\t\tif (typeof this._settings.offset == \"undefined\"){\r\n\t\t\tthis._settings.offset = !(val == \"area\" || val == \"stackedArea\");\r\n\t\t}\r\n\r\n        if(val==\"radar\"&&!this._settings.yAxis)\r\n\t\t    this.define(\"yAxis\",{});\r\n        if(val==\"scatter\"){\r\n            if(!this._settings.yAxis)\r\n                this.define(\"yAxis\",{});\r\n            if(!this._settings.xAxis)\r\n                this.define(\"xAxis\",{});\r\n        }\r\n\t\t\t\r\n\t\t\t\r\n\t\treturn val;\r\n\t},\r\n\tdestructor: function(){\r\n\t\tthis.removeAllSeries();\r\n\t\twebix.Destruction.destructor.apply(this,arguments);\r\n\t},\r\n\tremoveAllSeries: function(){\r\n\t\tthis.clearCanvas();\r\n\t\tif(this._legendObj){\r\n\t\t\tthis._legendObj.innerHTML = \"\";\r\n\t\t\tthis._legendObj.parentNode.removeChild(this._legendObj);\r\n\t\t\tthis._legendObj = null;\r\n\t\t}\r\n\t\tif(this.canvases){\r\n\t\t\tthis.canvases = {};\r\n\t\t}\r\n\t\tthis._contentobj.innerHTML=\"\";\r\n\t\tfor(var i = 0; i < this._series.length; i++){\r\n\t\t\tif(this._series[i].tooltip)\r\n\t\t\t\tthis._series[i].tooltip.destructor();\r\n\t\t}\r\n\t//\tthis.callEvent(\"onDestruct\",[]);\r\n\t\tthis._series = [];\r\n\t},\r\n\tclearCanvas:function(){\r\n\t\tif(this.canvases&&typeof this.canvases == \"object\")\r\n\t\t\tfor(var c in this.canvases){\r\n\t\t\t\tthis.canvases[c].clearCanvas();\r\n\t\t\t}\r\n\t},\r\n\trender:function(){\r\n\t\tvar bounds, i, data, map, temp;\r\n\t\tif (!this.isVisible(this._settings.id))\r\n\t\t\treturn;\r\n\r\n\t\tif (!this.callEvent(\"onBeforeRender\",[this.data]))\r\n\t\t\treturn;\r\n\t\tif(this.canvases&&typeof this.canvases == \"object\"){\r\n\t\t\tfor(i in this.canvases){\r\n\t\t\t\tthis.canvases[i].clearCanvas();\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis.canvases = {};\r\n\t\t/*if(this._legendObj){\r\n\t\t\tfor(i=0; i < this._legend_labels.length;i++)\r\n\t\t\t\tthis._legendObj.removeChild(this._legend_labels[i]);\r\n\t\t}\r\n\t\tthis._legend_labels = [];\r\n\t\t*/\r\n\t\t\r\n\t\tif(this._settings.legend){\r\n\t\t\tif(!this.canvases[\"legend\"])\r\n\t\t\t\tthis.canvases[\"legend\"] =  this._createCanvas(\"legend\");\r\n\t\t\tthis._drawLegend(\r\n\t\t\t\tthis.data.getRange(),\r\n\t\t\t\tthis._content_width,\r\n\t\t\t\tthis._content_height\r\n\t\t\t);\r\n\t\t}\r\n\t\tbounds = this._getChartBounds(this._content_width,this._content_height);\r\n\t\tthis._map = map = new webix.HtmlMap(this._id);\r\n\t\ttemp = this._settings;\r\n\r\n\t\tif(this._series){\r\n\t\t\tdata = this._getChartData();\r\n\r\n\t\t\tfor(i=0; i < this._series.length;i++){\r\n\t\t\t\tthis._settings = this._series[i];\r\n\t\t\t\tif(!this.canvases[i])\r\n\t\t\t\t\tthis.canvases[i] = this._createCanvas(this._settings.ariaLabel+\" \"+i,\"z-index:\"+(2+i));\r\n\t\t\t\tthis[\"$render_\"+this._settings.type](\r\n\t\t\t\t\tthis.canvases[i].getCanvas(),\r\n\t\t\t\t\tdata,\r\n\t\t\t\t\tbounds.start,\r\n\t\t\t\t\tbounds.end,\r\n\t\t\t\t\ti,\r\n\t\t\t\t\tmap\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tmap.render(this._contentobj);\r\n\t\tthis._contentobj.lastChild.style.zIndex = 100;\r\n\t\tthis._applyBounds(this._contentobj.lastChild,bounds);\r\n\t\tthis.callEvent(\"onAfterRender\",[]);\r\n\t\tthis._settings = temp;\r\n\t},\r\n\t_applyBounds: function(elem,bounds){\r\n\t\tvar style = {};\r\n\t\tstyle.left = bounds.start.x;\r\n\t\tstyle.top = bounds.start.y;\r\n\t\tstyle.width = bounds.end.x-bounds.start.x;\r\n\t\tstyle.height = bounds.end.y - bounds.start.y;\r\n\t\tfor(var prop in style){\r\n\t\t\telem.style[prop] = style[prop]+\"px\";\r\n\t\t}\r\n\t},\r\n\t_getChartData: function(){\r\n\t\tvar axis, axisConfig ,config, data, i, newData,\r\n\t\t\tstart, units, value, valuesHash;\r\n\t\tdata = this.data.getRange();\r\n\t\taxis = (this._settings.type.toLowerCase().indexOf(\"barh\")!=-1?\"yAxis\":\"xAxis\");\r\n\t\taxisConfig = this._settings[axis];\r\n\t\tif(axisConfig&&axisConfig.units&&(typeof axisConfig.units == \"object\")){\r\n\t\t\tconfig = axisConfig.units;\r\n\t\t\tunits = [];\r\n\t\t\tif(typeof config.start != \"undefined\"&&typeof config.end != \"undefined\" && typeof config.next != \"undefined\"){\r\n\t\t\t\tstart = config.start;\r\n\t\t\t\twhile(start<=config.end){\r\n\t\t\t\t\tunits.push(start);\r\n\t\t\t\t\tstart = config.next.call(this,start);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if(Object.prototype.toString.call(config) === '[object Array]'){\r\n\t\t\t\tunits = config;\r\n\t\t\t}\r\n\t\t\tnewData = [];\r\n\t\t\tif(units.length){\r\n\t\t\t\tvalue = axisConfig.value;\r\n\t\t\t\tvaluesHash = {};\r\n\t\t\t\tfor(i=0;i < data.length;i++){\r\n\t\t\t\t\tvaluesHash[value(data[i])] = i;\r\n\t\t\t\t}\r\n\t\t\t\tfor(i=0;i< units.length;i++){\r\n\t\t\t\t\tif(typeof valuesHash[units[i]]!= \"undefined\"){\r\n\t\t\t\t\t\tdata[valuesHash[units[i]]].$unit = units[i];\r\n\t\t\t\t\t\tnewData.push(data[valuesHash[units[i]]]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tnewData.push({$unit:units[i]});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn newData;\r\n\t\t}\r\n\t\treturn data;\r\n\t},\r\n\tseries_setter:function(config){\r\n\t\tif(typeof config!=\"object\"){\r\n\t\t\twebix.assert(config,\"Chart :: Series must be an array or object\");\t\r\n\t\t}\r\n\t\telse{\r\n\r\n\t\t\tthis._parseSettings(!config.length?config:config[0]);\r\n\t\t\tthis._series = [this._settings];\r\n\r\n\r\n\t\t\tfor(var i=1;i< config.length;i++)\r\n\t\t\t\tthis.addSeries(config[i]);\r\n\t\t}\r\n\t\treturn config;\r\n\t},\r\n\tvalue_setter:webix.template,\r\n    xValue_setter:webix.template,\r\n    yValue_setter:function(config){\r\n        this.define(\"value\",config);\r\n    },\r\n\talpha_setter:webix.template,\r\n\tlabel_setter:webix.template,\r\n\tlineColor_setter:webix.template,\r\n\tborderColor_setter:webix.template,\r\n\tpieInnerText_setter:webix.template,\r\n\tgradient_setter:function(config){\r\n\t\tif((typeof(config)!=\"function\")&&config&&(config === true))\r\n\t\t\tconfig = \"light\";\r\n\t\treturn config;\r\n\t},\r\n\tcolormap:{\r\n\t\t\"RAINBOW\":function(obj){\r\n            var pos = Math.floor(this.getIndexById(obj.id)/this.count()*1536);\r\n\t\t\tif (pos==1536) pos-=1;\r\n\t\t\treturn this._rainbow[Math.floor(pos/256)](pos%256);\r\n\t\t},\r\n\r\n\t\t\"default\": function(obj){\r\n\t\t\tvar count = this.count();\r\n\t\t\tvar colorsCount = this._defColors.length;\r\n\t\t\tvar i = this.getIndexById(obj.id);\r\n\t\t\tif(colorsCount > count){\r\n\t\t\t\tif(i){\r\n\t\t\t\t\tif(i < colorsCount - count)\r\n\t\t\t\t\t\ti = this._defColorsCursor +2;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\ti = this._defColorsCursor+1;\r\n\t\t\t\t}\r\n\t\t\t\tthis._defColorsCursor = i;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\ti = i%colorsCount;\r\n\t\t\treturn this._defColors[i];\r\n\t\t}\r\n\t},\r\n\tcolor_setter:function(value){\r\n\t\treturn this.colormap[value]||webix.template( value);\r\n\t},\r\n    fill_setter:function(value){\r\n        return ((!value||value==\"0\")?false:webix.template( value));\r\n    },\r\n    _definePreset:function(obj){\r\n        this.define(\"preset\",obj.preset);\r\n        delete obj.preset;\r\n    },\r\n\tpreset_setter:function(value){\r\n        var a, b, preset;\r\n        this.defaults = webix.extend({},this.defaults);\r\n        preset =  this.presets[value];\r\n\r\n        if(typeof preset == \"object\"){\r\n\r\n            for(a in preset){\r\n\r\n                if(typeof preset[a]==\"object\"){\r\n                    if(!this.defaults[a]||typeof this.defaults[a]!=\"object\"){\r\n                         this.defaults[a] = webix.extend({},preset[a]);\r\n                    }\r\n                    else{\r\n                        this.defaults[a] = webix.extend({},this.defaults[a]);\r\n                        for(b in preset[a]){\r\n                            this.defaults[a][b] = preset[a][b];\r\n                        }\r\n                    }\r\n                }else{\r\n                     this.defaults[a] = preset[a];\r\n                }\r\n            }\r\n            return value;\r\n        }\r\n\t\treturn false;\r\n\t},\r\n\tlegend_setter:function( config){\r\n\t\tif(!config){\r\n\t\t\tif(this._legendObj){\r\n\t\t\t\tthis._legendObj.innerHTML = \"\";\r\n\t\t\t\tthis._legendObj = null;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif(typeof(config)!=\"object\")\t//allow to use template string instead of object\r\n\t\t\tconfig={template:config};\r\n\r\n\t\tthis._mergeSettings(config,{\r\n\t\t\twidth:150,\r\n\t\t\theight:18,\r\n\t\t\tlayout:\"y\",\r\n\t\t\talign:\"left\",\r\n\t\t\tvalign:\"bottom\",\r\n\t\t\ttemplate:\"\",\r\n\t\t\ttoggle:(this._settings.type.toLowerCase().indexOf(\"stacked\")!=-1?\"\":\"hide\"),\r\n\t\t\tmarker:{\r\n\t\t\t\ttype:\"square\",\r\n\t\t\t\twidth:15,\r\n\t\t\t\theight:15,\r\n                radius:3\r\n\t\t\t},\r\n            margin: 4,\r\n            padding: 3\r\n\t\t});\r\n\r\n\t\tconfig.template = webix.template(config.template);\r\n\t\treturn config;\r\n\t},\r\n\titem_setter:function( config){\r\n\t\tif(typeof(config)!=\"object\")\r\n\t\t\tconfig={color:config, borderColor:config};\r\n        this._mergeSettings(config,webix.extend({},this.defaults.item));\r\n\t\tvar settings = [\"alpha\",\"borderColor\",\"color\",\"radius\"];\r\n\t\tthis._converToTemplate(settings,config);\r\n\t\treturn config;\r\n\t},\r\n\tline_setter:function( config){\r\n\t\tif(typeof(config)!=\"object\")\r\n\t\t\tconfig={color:config};\r\n\r\n        config = webix.extend(config,this.defaults.line);\r\n\t\tconfig.color = webix.template(config.color);\r\n\t\treturn config;\r\n\t},\r\n\tpadding_setter:function( config){\r\n\t\tif(typeof(config)!=\"object\")\r\n\t\t\tconfig={left:config, right:config, top:config, bottom:config};\r\n\t\tthis._mergeSettings(config,{\r\n\t\t\tleft:50,\r\n\t\t\tright:20,\r\n\t\t\ttop:35,\r\n\t\t\tbottom:40\r\n\t\t});\r\n\t\treturn config;\r\n\t},\r\n\txAxis_setter:function( config){\r\n\t\tif(!config) return false;\r\n\t\tif(typeof(config)!=\"object\")\r\n\t\t\tconfig={ template:config };\r\n\r\n\t\tthis._mergeSettings(config,{\r\n\t\t\ttitle:\"\",\r\n\t\t\tcolor:\"#000000\",\r\n\t\t\tlineColor:\"#cfcfcf\",\r\n\t\t\ttemplate:\"{obj}\",\r\n\t\t\tlines:true\r\n\t\t});\r\n\t\tvar templates = [\"lineColor\",\"template\",\"lines\"];\r\n        this._converToTemplate(templates,config);\r\n\t\tthis._configXAxis = webix.extend({},config);\r\n\t\treturn config;\r\n\t},\r\n    yAxis_setter:function( config){\r\n\t    this._mergeSettings(config,{\r\n\t\t\ttitle:\"\",\r\n\t\t\tcolor:\"#000000\",\r\n\t\t\tlineColor:\"#cfcfcf\",\r\n\t\t\ttemplate:\"{obj}\",\r\n\t\t\tlines:true,\r\n            bg:\"#ffffff\"\r\n\t\t});\r\n\t\tvar templates = [\"lineColor\",\"template\",\"lines\",\"bg\"];\r\n        this._converToTemplate(templates,config);\r\n\t\tthis._configYAxis = webix.extend({},config);\r\n\t\treturn config;\r\n\t},\r\n    _converToTemplate:function(arr,config){\r\n        for(var i=0;i< arr.length;i++){\r\n            config[arr[i]] = webix.template(config[arr[i]]);\r\n        }\r\n    },\r\n\t_createCanvas: function(name,style,container){\r\n\t\treturn new webix.Canvas({container:(container||this._contentobj),name:name,style:(style||\"\"), width: this._content_width, height:this._content_height });\r\n\t},\r\n    _drawScales:function(data,point0,point1,start,end,cellWidth){\r\n\t    var y = 0;\r\n\t    if(this._settings.yAxis){\r\n\t\t    if(!this.canvases[\"y\"])\r\n\t\t        this.canvases[\"y\"] =  this._createCanvas(\"axis_y\");\r\n\r\n\t\t    y = this._drawYAxis(this.canvases[\"y\"].getCanvas(),data,point0,point1,start,end);\r\n\t    }\r\n\t    if (this._settings.xAxis){\r\n\t\t    if(!this.canvases[\"x\"])\r\n\t\t        this.canvases[\"x\"] =  this._createCanvas(\"axis_x\");\r\n\t\t    this._drawXAxis(this.canvases[\"x\"].getCanvas(),data,point0,point1,cellWidth,y);\r\n\t    }\r\n\t    return y;\r\n\t},\r\n\t_drawXAxis:function(ctx,data,point0,point1,cellWidth,y){\r\n\t\tvar x0 = point0.x-0.5;\r\n\t\tvar y0 = parseInt((y?y:point1.y),10)+0.5;\r\n\t\tvar x1 = point1.x;\r\n\t\tvar unitPos;\r\n\t\tvar center = true;\r\n\t\tvar labelY = this._settings.type == \"stackedBar\"?(point1.y+0.5):y0;\r\n\r\n\t\tfor(var i=0; i < data.length;i ++){\r\n\r\n\t\t\tif(this._settings.offset === true)\r\n\t\t\t\tunitPos = x0+cellWidth/2+i*cellWidth;\r\n\t\t\telse{\r\n\t\t\t\tunitPos = (i==data.length-1)?point1.x:x0+i*cellWidth;\r\n\t\t\t\tcenter = !!i;\r\n\t\t\t}\r\n\t\t\tunitPos = Math.ceil(unitPos)-0.5;\r\n\t\t\t/*scale labels*/\r\n\t\t\tvar top = ((this._settings.origin!=\"auto\")&&(this._settings.type==\"bar\")&&(parseFloat(this._settings.value(data[i]))<this._settings.origin));\r\n\t\t\tthis._drawXAxisLabel(unitPos,labelY,data[i],center,top);\r\n\t\t\t/*draws a vertical line for the horizontal scale*/\r\n\r\n\t\t\tif((this._settings.offset||i)&&this._settings.xAxis.lines.call(this,data[i]))\r\n\t\t\t\tthis._drawXAxisLine(ctx,unitPos,point1.y,point0.y,data[i]);\r\n\t\t}\r\n\r\n\t\tthis.canvases[\"x\"].renderTextAt(true, false, x0,point1.y+this._settings.padding.bottom-3,\r\n\t\t\tthis._settings.xAxis.title,\r\n\t\t\t\"webix_axis_title_x\",\r\n\t\t\tpoint1.x - point0.x\r\n\t\t);\r\n\t\tthis._drawLine(ctx,x0,y0,x1,y0,this._settings.xAxis.color,1);\r\n\t\t/*the right border in lines in scale are enabled*/\r\n\t\tif (!this._settings.xAxis.lines.call(this,{}) || !this._settings.offset) return;\r\n\t\tthis._drawLine(ctx,x1+0.5,point1.y,x1+0.5,point0.y+0.5,this._settings.xAxis.color,0.2);\r\n\t},\r\n\t_drawYAxis:function(ctx,data,point0,point1,start,end){\r\n\t\tvar step;\r\n\t\tvar scaleParam= {};\r\n\t\tif (!this._settings.yAxis) return;\r\n\r\n\t\tvar x0 = point0.x - 0.5;\r\n\t\tvar y0 = point1.y;\r\n\t\tvar y1 = point0.y;\r\n\t\tvar lineX = point1.y+0.5;\r\n\r\n\t\t//this._drawLine(ctx,x0,y0,x0,y1,this._settings.yAxis.color,1);\r\n\r\n\t\tif(this._settings.yAxis.step)\r\n\t\t\tstep = parseFloat(this._settings.yAxis.step);\r\n\r\n\t\tif(typeof this._configYAxis.step ==\"undefined\"||typeof this._configYAxis.start==\"undefined\"||typeof this._configYAxis.end ==\"undefined\"){\r\n\t\t\tscaleParam = this._calculateScale(start,end);\r\n\t\t\tstart = scaleParam.start;\r\n\t\t\tend = scaleParam.end;\r\n\t\t\tstep = scaleParam.step;\r\n\r\n\t\t\tthis._settings.yAxis.end = end;\r\n\t\t\tthis._settings.yAxis.start = start;\r\n\t\t}\r\n\t\telse if(this.config.scale == \"logarithmic\")\r\n\t\t\tthis._logScaleCalc = true;\r\n\r\n\t\tthis._setYAxisTitle(point0,point1);\r\n\t\tif(step===0) return;\r\n\t\tif(end==start){\r\n\t\t\treturn y0;\r\n\t\t}\r\n\t\tvar stepHeight = (y0-y1)*step/(end-start);\r\n\t\tvar c = 0;\r\n\t\tfor(var i = start; i<=end; i += step){\r\n\t\t\tvar value = this._logScaleCalc?Math.pow(10,i):i;\r\n\t\t\tif (scaleParam.fixNum)  value = parseFloat(value).toFixed(scaleParam.fixNum);\r\n\t\t\tvar yi = Math.floor(y0-c*stepHeight)+ 0.5;/*canvas line fix*/\r\n\t\t\tif(!(i==start&&this._settings.origin==\"auto\") &&this._settings.yAxis.lines.call(this,i))\r\n\t\t\t\tthis._drawLine(ctx,x0,yi,point1.x,yi,this._settings.yAxis.lineColor.call(this,i),1);\r\n\t\t\tif(i == this._settings.origin) lineX = yi;\r\n\t\t\t/*correction for JS float calculation*/\r\n\t\t\tif(step<1 && !this._logScaleCalc){\r\n\t\t\t\tvar power = Math.min(Math.floor(this._log10(step)),(start<=0?0:Math.floor(this._log10(start))));\r\n\t\t\t\tvar corr = Math.pow(10,-power);\r\n\t\t\t\tvalue = Math.round(value*corr)/corr;\r\n\t\t\t\ti = value;\r\n\t\t\t}\r\n\t\t\tthis.canvases[\"y\"].renderText(0,yi-5,\r\n\t\t\t\tthis._settings.yAxis.template(value.toString()),\r\n\t\t\t\t\"webix_axis_item_y\",\r\n\t\t\t\tpoint0.x-5\r\n\t\t\t);\r\n\t\t\tc++;\r\n\t\t}\r\n\t\tthis._drawLine(ctx,x0,y0+1,x0,y1,this._settings.yAxis.color,1);\r\n\t\treturn lineX;\r\n\t},\r\n\r\n\t_setYAxisTitle:function(point0,point1){\r\n        var className = \"webix_axis_title_y\"+(webix._isIE&&webix._isIE !=9?\" webix_ie_filter\":\"\");\r\n\t\tvar text=this.canvases[\"y\"].renderTextAt(\"middle\",false,0,parseInt((point1.y-point0.y)/2+point0.y,10),this._settings.yAxis.title,className);\r\n        if (text)\r\n\t\t\ttext.style.left = (webix.env.transform?(text.offsetHeight-text.offsetWidth)/2:0)+\"px\";\r\n\t},\r\n\t_calculateLogScale: function(nmin,nmax){\r\n\t\tvar startPower = Math.floor(this._log10(nmin));\r\n\t\tvar endPower = Math.ceil(this._log10(nmax));\r\n\t\treturn {start: startPower, step: 1, end: endPower};\r\n\t},\r\n\t_calculateScale:function(nmin,nmax){\r\n\t\tthis._logScaleCalc = false;\r\n\t\tif(this._settings.scale == \"logarithmic\"){\r\n\t\t\tvar logMin = Math.floor(this._log10(nmin));\r\n\t\t\tvar logMax = Math.ceil(this._log10(nmax));\r\n\t\t\tif(nmin>0 && nmax > 0 && (logMax-logMin>1) ){\r\n\t\t\t\tthis._logScaleCalc = true;\r\n\t\t\t\treturn this._calculateLogScale(nmin,nmax);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t    if(this._settings.origin!=\"auto\"&&this._settings.origin<nmin)\r\n\t\t\tnmin = this._settings.origin;\r\n\t\tvar step,start,end;\r\n\t   \tstep = ((nmax-nmin)/8)||1;\r\n\t\tvar power = Math.floor(this._log10(step));\r\n\t\tvar calculStep = Math.pow(10,power);\r\n\t\tvar stepVal = step/calculStep;\r\n\t\tstepVal = (stepVal>5?10:5);\r\n\t\tstep = parseInt(stepVal,10)*calculStep;\r\n\r\n\t\tif(step>Math.abs(nmin))\r\n\t\t\tstart = (nmin<0?-step:0);\r\n\t\telse{\r\n\t\t\tvar absNmin = Math.abs(nmin);\r\n\t\t\tvar powerStart = Math.floor(this._log10(absNmin));\r\n\t\t\tvar nminVal = absNmin/Math.pow(10,powerStart);\r\n\t\t\tstart = Math.ceil(nminVal*10)/10*Math.pow(10,powerStart)-step;\r\n\t\t\tif(absNmin>1&&step>0.1){\r\n\t\t\t\tstart = Math.ceil(start);\r\n\t\t\t}\r\n\t\t\twhile(nmin<0?start<=nmin:start>=nmin)\r\n\t\t\t\tstart -= step;\r\n\t\t\tif(nmin<0) start =-start-2*step;\r\n\t\t\t\r\n\t\t}\r\n\t     end = start;\r\n\t\twhile(end<nmax){\r\n\t\t\tend += step;\r\n\t\t\tend = parseFloat((end*1.0).toFixed(Math.abs(power)));\r\n\t\t}\r\n\t\treturn { start:start,end:end,step:step,fixNum:power<0?Math.abs(power):0 };\r\n\t},\r\n\t_getLimits:function(orientation,value){\r\n\t\tvar data = this.data._obj_array();\r\n\r\n\t\tvar maxValue, minValue;\r\n\t\tvar axis = ((arguments.length && orientation==\"h\")?this._configXAxis:this._configYAxis);\r\n\t\tvalue = value||\"value\";\r\n\t\tif(axis&&(typeof axis.end!=\"undefined\")&&(typeof axis.start!=\"undefined\")&&axis.step){\r\n\t\t    maxValue = parseFloat(axis.end);\r\n\t\t\tminValue = parseFloat(axis.start);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tmaxValue = webix.GroupMethods.max(this._series[0][value], data);\r\n\t\t\tminValue = (axis&&(typeof axis.start!=\"undefined\"))?parseFloat(axis.start):webix.GroupMethods.min(this._series[0][value], data);\r\n\t\t\tif(this._series.length>1)\r\n\t\t\tfor(var i=1; i < this._series.length;i++){\r\n\t\t\t\tvar maxI = webix.GroupMethods.max(this._series[i][value], data);\r\n\t\t\t\tvar minI = webix.GroupMethods.min(this._series[i][value], data);\r\n\t\t\t\tif (maxI > maxValue) maxValue = maxI;\r\n\t\t    \tif (minI < minValue) minValue = minI;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {max:maxValue,min:minValue};\r\n\t},\r\n\t_log10:function(n){\r\n        var method_name=\"log\";\r\n        return Math[method_name](n)/Math.LN10;\r\n    },\r\n\t_drawXAxisLabel:function(x,y,obj,center,top){\r\n\t\tif (!this._settings.xAxis) return;\r\n\t\tvar elem = this.canvases[\"x\"].renderTextAt(top, center, x,y-(top?2:0),this._settings.xAxis.template(obj));\r\n\t\tif (elem)\r\n\t\t\telem.className += \" webix_axis_item_x\";\r\n\t},\r\n\t_drawXAxisLine:function(ctx,x,y1,y2,obj){\r\n\t\tif (!this._settings.xAxis||!this._settings.xAxis.lines) return;\r\n\t\tthis._drawLine(ctx,x,y1,x,y2,this._settings.xAxis.lineColor.call(this,obj),1);\r\n\t},\r\n\t_drawLine:function(ctx,x1,y1,x2,y2,color,width){\r\n\t\tctx.strokeStyle = color;\r\n\t\tctx.lineWidth = width;\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(x1,y1);\r\n\t\tctx.lineTo(x2,y2);\r\n\t\tctx.stroke();\r\n        ctx.lineWidth = 1;\r\n\t},\r\n\t_getRelativeValue:function(minValue,maxValue){\r\n\t    var relValue, origRelValue;\r\n\t\tvar valueFactor = 1;\r\n\t\tif(maxValue != minValue){\r\n\t\t\trelValue = maxValue - minValue;\r\n\t\t}\r\n\t\telse relValue = minValue;\r\n\t\treturn [relValue,valueFactor];\r\n\t},\r\n\t_rainbow : [\r\n\t\tfunction(pos){ return \"#FF\"+webix.color.toHex(pos/2,2)+\"00\";},\r\n\t\tfunction(pos){ return \"#FF\"+webix.color.toHex(pos/2+128,2)+\"00\";},\r\n\t\tfunction(pos){ return \"#\"+webix.color.toHex(255-pos,2)+\"FF00\";},\r\n\t\tfunction(pos){ return \"#00FF\"+webix.color.toHex(pos,2);},\r\n\t\tfunction(pos){ return \"#00\"+webix.color.toHex(255-pos,2)+\"FF\";},\r\n\t\tfunction(pos){ return \"#\"+webix.color.toHex(pos,2)+\"00FF\";}\t\t\r\n\t],\r\n\t_defColors : [\r\n\t\t\"#f55b50\",\"#ff6d3f\",\"#ffa521\",\"#ffc927\",\"#ffee54\",\"#d3e153\",\"#9acb61\",\"#63b967\",\r\n\t\t\"#21a497\",\"#21c5da\",\"#3ea4f5\",\"#5868bf\",\"#7b53c0\",\"#a943ba\",\"#ec3b77\",\"#9eb0b8\"\r\n\t],\r\n\t_defColorsCursor: 0,\r\n\t/**\r\n\t*   adds series to the chart (value and color properties)\r\n\t*   @param: obj - obj with configuration properties\r\n\t*/\r\n\taddSeries:function(obj){\r\n\t\tvar temp = webix.extend({},this._settings);\r\n\t\tthis._settings = webix.extend({},temp);\r\n\t\tthis._parseSettings(obj,{});\r\n\t    this._series.push(this._settings);\r\n\t\tthis._settings = temp;\r\n    },\r\n    /*switch global settings to serit in question*/\r\n    _switchSeries:function(id, e, tag) {\r\n\t    var tip;\r\n\r\n\t    if(!tag.getAttribute(\"userdata\"))\r\n\t        return;\r\n\r\n\t    this._active_serie = this._series.length==1?tag.getAttribute(\"userdata\"):this._getActiveSeries(e);\r\n\t    if (!this._series[this._active_serie]) return;\r\n\t    for (var i=0; i < this._series.length; i++) {\r\n\t\t    tip = this._series[i].tooltip;\r\n\r\n\t\t    if (tip)\r\n\t\t\t    tip.disable();\r\n\t    }\r\n\t    if(!tag.getAttribute(\"disabled\")){\r\n\t\t    tip = this._series[this._active_serie].tooltip;\r\n\t\t    if (tip)\r\n\t\t\t    tip.enable();\r\n\t    }\r\n    },\r\n\t_getActiveSeries: function(e){\r\n\t\tvar a, areas, i, offset, pos, selection,  x, y;\r\n\r\n\t\tareas = this._map._areas;\r\n\t\toffset = webix.html.offset(this._contentobj._htmlmap);\r\n\t\tpos = webix.html.pos(e);\r\n\t\tx = pos.x - offset.x;\r\n\t\ty = pos.y - offset.y;\r\n\r\n\t\tfor( i = 0; i < areas.length; i++){\r\n\t\t\ta = areas[i].points;\r\n\t\t\tif(x <= a[2] && x >= a[0] && y <= a[3] && y >= a[1]){\r\n\t\t\t\tif(selection){\r\n\t\t\t\t\tif(areas[i].index > selection.index)\r\n\t\t\t\t\t\tselection = areas[i];\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\tselection = areas[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn selection?selection.index:0;\r\n\t},\r\n\thideSeries:function(series){\r\n\t\tthis.canvases[series].hideCanvas();\r\n\t\tvar legend = this._settings.legend;\r\n\t\tif(legend && legend.values && legend.values[series]){\r\n\t\t\tlegend.values[series].$hidden = true;\r\n\t\t\tthis._drawLegend();\r\n\t\t}\r\n\t},\r\n\tshowSeries:function(series){\r\n\t\tthis.canvases[series].showCanvas();\r\n\t\tvar legend = this._settings.legend;\r\n\t\tif(legend && legend.values && legend.values[series]){\r\n\t\t\tdelete legend.values[series].$hidden;\r\n\t\t\tthis._drawLegend();\r\n\t\t}\r\n\t},\r\n\t/**\r\n\t*   renders legend block\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: data - object those need to be displayed\r\n\t*   @param: width - the width of the container\r\n\t*   @param: height - the height of the container\r\n\t*/\r\n\t_drawLegend:function(data,width){\r\n\t\t/*position of the legend block*/\r\n\t\tvar i, legend, legendContainer, legendHeight, legendItems, legendWidth, style,\r\n\t\t\tx=0, y= 0, ctx, itemColor, disabled, item;\r\n\r\n\t\tdata = data||[];\r\n\t\twidth = width||this._content_width;\r\n\t\tctx = this.canvases[\"legend\"].getCanvas();\r\n\t\t/*legend config*/\r\n\t\tlegend = this._settings.legend;\r\n\t\t /*the legend sizes*/\r\n\r\n\t\tstyle = (this._settings.legend.layout!=\"x\"?\"width:\"+legend.width+\"px\":\"\");\r\n\t\t/*creation of legend container*/\r\n\r\n\t\tif(this._legendObj){\r\n\r\n\t\t\tthis._legendObj.innerHTML = \"\";\r\n\t\t\tthis._legendObj.parentNode.removeChild(this._legendObj);\r\n\t\t}\r\n\t\tthis.canvases[\"legend\"].clearCanvas(true);\r\n\r\n\t\tlegendContainer = webix.html.create(\"DIV\",{\r\n\t\t\t\"class\":\"webix_chart_legend\",\r\n\t\t\t\"style\":\"left:\"+x+\"px; top:\"+y+\"px;\"+style\r\n\t\t},\"\");\r\n\t\tif(legend.padding){\r\n\t\t\tlegendContainer.style.padding =  legend.padding+\"px\";\r\n\t\t}\r\n\t\tthis._legendObj = legendContainer;\r\n\t\tthis._contentobj.appendChild(legendContainer);\r\n\r\n\t\t/*rendering legend text items*/\r\n\t\tlegendItems = [];\r\n\t\tif(!legend.values)\r\n\t\t\tfor(i = 0; i < data.length; i++){\r\n\t\t\t\tlegendItems.push(this._drawLegendText(legendContainer,legend.template(data[i])));\r\n\t\t\t}\r\n\t\telse\r\n\t\t\tfor(i = 0; i < legend.values.length; i++){\r\n\t\t\t\tlegendItems.push(this._drawLegendText(legendContainer,legend.values[i].text,(typeof legend.values[i].id!=\"undefined\"?typeof legend.values[i].id:i),legend.values[i].$hidden));\r\n\t\t\t}\r\n\t\tif (legendContainer.offsetWidth === 0)\r\n\t\t\tlegendContainer.style.width = \"auto\"; \r\n\t   \tlegendWidth = legendContainer.offsetWidth;\r\n\t    legendHeight = legendContainer.offsetHeight;\r\n\r\n\t\t/*this._settings.legend.width = legendWidth;\r\n\t\tthis._settings.legend.height = legendHeight;*/\r\n\t\t/*setting legend position*/\r\n\t\tif(legendWidth<width){\r\n\t\t\tif(legend.layout == \"x\"&&legend.align == \"center\"){\r\n\t\t\t    x = (width-legendWidth)/2;\r\n            }\r\n\t\t\tif(legend.align == \"right\"){\r\n\t\t\t\tx = width-legendWidth;\r\n\t\t\t}\r\n            if(legend.margin&&legend.align != \"center\"){\r\n                x += (legend.align == \"left\"?1:-1)*legend.margin;\r\n            }\r\n        }\r\n\r\n\t\tif(legendHeight<this._content_height){\r\n\t\t\tif(legend.valign == \"middle\"&&legend.align != \"center\"&&legend.layout != \"x\")\r\n\t\t\t\ty = (this._content_height-legendHeight)/2;\r\n\t\t\telse if(legend.valign == \"bottom\")\r\n\t\t\t\ty = this._content_height-legendHeight;\r\n            if(legend.margin&&legend.valign != \"middle\"){\r\n                y += (legend.valign == \"top\"?1:-1)*legend.margin;\r\n            }\r\n\t\t}\r\n\t\tlegendContainer.style.left = x+\"px\";\r\n\t\tlegendContainer.style.top = y+\"px\";\r\n\r\n\t\t/*drawing colorful markers*/\r\n\t\tctx.save();\r\n\t\tfor(i = 0; i < legendItems.length; i++){\r\n\t\t\titem = legendItems[i];\r\n\t\t\tif(legend.values&&legend.values[i].$hidden){\r\n\t\t\t\tdisabled = true;\r\n\t\t\t\titemColor = (legend.values[i].disableColor?legend.values[i].disableColor:\"#d9d9d9\");\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tdisabled = false;\r\n\t\t\t\titemColor = (legend.values?legend.values[i].color:this._settings.color.call(this,data[i]));\r\n\t\t\t}\r\n\t\t\tthis._drawLegendMarker(ctx,item.offsetLeft+x,item.offsetTop+y,itemColor,item.offsetHeight,disabled,i);\r\n\t\t}\r\n\t\tctx.restore();\r\n\t\tlegendItems = null;\r\n\t},\r\n\t/**\r\n\t*   appends legend item to legend block\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: obj - data object that needs being represented\r\n\t*/\r\n\t_drawLegendText:function(cont,value,series,disabled){\r\n\t\tvar style = \"\";\r\n\t\tif(this._settings.legend.layout==\"x\")\r\n\t\t\tstyle = \"float:left;\";\r\n\t\t/*the text of the legend item*/\r\n\t\tvar text = webix.html.create(\"DIV\",{\r\n\t\t\t\"style\":style+\"padding-left:\"+(10+this._settings.legend.marker.width)+\"px\",\r\n\t\t\t\"class\":\"webix_chart_legend_item\"+(disabled?\" hidden\":\"\"),\r\n\t\t\t\"role\":\"button\",\r\n\t\t\t\"tabindex\":\"0\",\r\n\t\t\t\"aria-label\":(webix.i18n.aria[(disabled?\"show\":\"hide\")+\"Chart\"])+\" \"+value\r\n\t\t},value);\r\n\t\tif(arguments.length>2)\r\n\t\t\ttext.setAttribute(\"series_id\",series);\r\n\t\tcont.appendChild(text);\r\n\t\treturn text;\r\n\t},\r\n\t/**\r\n\t*   draw legend colorful marder\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: x - the horizontal position of the marker\r\n\t*   @param: y - the vertical position of the marker\r\n\t*   @param: obj - data object which color needs being used\r\n\t*/\r\n\t_drawLegendMarker:function(ctx,x,y,color,height,disabled,i){\r\n\t\tvar p = [];\r\n\t\tvar marker = this._settings.legend.marker;\r\n\t\tvar values = this._settings.legend.values;\r\n\t\tvar type = (values&&values[i].markerType?values[i].markerType:marker.type);\r\n\t\tif(color){\r\n\t\t\tctx.strokeStyle = ctx.fillStyle = color;\r\n\t\t}\r\n\r\n\t\tif(type==\"round\"||!marker.radius){\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.lineWidth = marker.height;\r\n\t\t\tctx.lineCap = marker.type;\r\n\t\t\t/*start of marker*/\r\n\t\t\tx += ctx.lineWidth/2+5;\r\n\t\t\ty += height/2;\r\n\t\t\tctx.moveTo(x,y);\r\n\t\t\tvar x1 = x + marker.width-marker.height +1;\r\n\t\t\tctx.lineTo(x1,y);\r\n\t\t\tctx.stroke();\r\n\t\t\tctx.fill();\r\n\r\n\t\t}\r\n\t\telse if(type==\"item\"){\r\n\t\t\t/*copy of line*/\r\n\t\t\tif(this._settings.line&&this._settings.type != \"scatter\" && !this._settings.disableLines){\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.lineWidth = this._series[i].line.width;\r\n\t\t\t\tctx.strokeStyle = disabled?color:this._series[i].line.color.call(this,{});\r\n\t\t\t\tvar x0 = x + 5;\r\n\t\t\t\tvar y0 = y + height/2;\r\n\t\t\t\tctx.moveTo(x0,y0);\r\n\t\t\t\tvar x1 = x0 + marker.width;\r\n\t\t\t\tctx.lineTo(x1,y0);\r\n\t\t\t\tctx.stroke();\r\n\t\t\t}\r\n\t\t\t/*item copy*/\r\n\t\t\tvar config = this._series[i].item;\r\n\t\t\tvar radius = parseInt(config.radius.call(this,{}),10)||0;\r\n\t\t\tif(radius){\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tif(disabled){\r\n\t\t\t\t\tctx.lineWidth = config.borderWidth;\r\n\t\t\t\t\tctx.strokeStyle = color;\r\n\t\t\t\t\tctx.fillStyle = color;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tctx.lineWidth = config.borderWidth;\r\n\t\t\t\t\tctx.fillStyle = config.color.call(this,{});\r\n\t\t\t\t\tctx.strokeStyle = config.borderColor.call(this,{});\r\n\t\t\t\t\tctx.globalAlpha = config.alpha.call(this,{});\r\n\t\t\t\t}\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tx += marker.width/2+5;\r\n\t\t\t\ty += height/2;\r\n\t\t\t\tthis._strokeChartItem(ctx,x,y,radius+1,config.type);\r\n\t\t\t\tctx.fill();\r\n\t\t\t\tctx.stroke();\r\n\t\t\t}\r\n\t\t\tctx.globalAlpha = 1;\r\n\t\t}else{\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.lineWidth = 1;\r\n\t\t\tx += 5;\r\n\t\t\ty += height/2-marker.height/2;\r\n\t\t\tp = [\r\n\t\t\t\t[x+marker.radius,y+marker.radius,marker.radius,Math.PI,3*Math.PI/2,false],\r\n\t\t\t\t[x+marker.width-marker.radius,y],\r\n\t\t\t\t[x+marker.width-marker.radius,y+marker.radius,marker.radius,-Math.PI/2,0,false],\r\n\t\t\t\t[x+marker.width,y+marker.height-marker.radius],\r\n\t\t\t\t[x+marker.width-marker.radius,y+marker.height-marker.radius,marker.radius,0,Math.PI/2,false],\r\n\t\t\t\t[x+marker.radius,y+marker.height],\r\n\t\t\t\t[x+marker.radius,y+marker.height-marker.radius,marker.radius,Math.PI/2,Math.PI,false],\r\n\t\t\t\t[x,y+marker.radius]\r\n\t\t\t];\r\n\t\t\tthis._path(ctx,p);\r\n\t\t\tctx.stroke();\r\n\t\t\tctx.fill();\r\n\t\t}\r\n\r\n\t},\r\n\t/**\r\n\t*   gets the points those represent chart left top and right bottom bounds\r\n\t*   @param: width - the width of the chart container\r\n\t*   @param: height - the height of the chart container\r\n\t*/\r\n\t_getChartBounds:function(width,height){\r\n\t\tvar chartX0, chartY0, chartX1, chartY1;\r\n\t\t\r\n\t\tchartX0 = this._settings.padding.left;\r\n\t\tchartY0 = this._settings.padding.top;\r\n\t\tchartX1 = width - this._settings.padding.right;\r\n\t\tchartY1 = height - this._settings.padding.bottom;\t\r\n\t\t\r\n\t\tif(this._settings.legend){\r\n\t\t\tvar legend = this._settings.legend;\r\n\t\t\t/*legend size*/\r\n\t\t\tvar legendWidth = this._settings.legend.width;\r\n\t\t\tvar legendHeight = this._settings.legend.height;\r\n\t\t\r\n\t\t\t/*if legend is horizontal*/\r\n\t\t\tif(legend.layout == \"x\"){\r\n\t\t\t\tif(legend.valign == \"center\"){\r\n\t\t\t\t\tif(legend.align == \"right\")\r\n\t\t\t\t\t\tchartX1 -= legendWidth;\r\n\t\t\t\t\telse if(legend.align == \"left\")\r\n\t\t\t\t \t\tchartX0 += legendWidth;\r\n\t\t\t \t}\r\n\t\t\t \telse if(legend.valign == \"bottom\"){\r\n\t\t\t    \tchartY1 -= legendHeight;\r\n\t\t\t \t}\r\n\t\t\t \telse{\r\n\t\t\t    \tchartY0 += legendHeight;\r\n\t\t\t \t}\r\n\t\t\t}\r\n\t\t\t/*vertical scale*/\r\n\t\t\telse{\r\n\t\t\t\tif(legend.align == \"right\")\r\n\t\t\t\t\tchartX1 -= legendWidth;\r\n\t\t\t \telse if(legend.align == \"left\")\r\n\t\t\t\t\tchartX0 += legendWidth;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {start:{x:chartX0,y:chartY0},end:{x:chartX1,y:chartY1}};\r\n\t},\r\n\t/**\r\n\t*   gets the maximum and minimum values for the stacked chart\r\n\t*   @param: data - data set\r\n\t*/\r\n\t_getStackedLimits:function(data){\r\n\t\tvar i, j, maxValue, minValue, value;\r\n\t\tif(this._settings.yAxis&&(typeof this._settings.yAxis.end!=\"undefined\")&&(typeof this._settings.yAxis.start!=\"undefined\")&&this._settings.yAxis.step){\r\n\t\t\tmaxValue = parseFloat(this._settings.yAxis.end);\r\n\t\t\tminValue = parseFloat(this._settings.yAxis.start);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tfor(i=0; i < data.length; i++){\r\n\t\t\t\tdata[i].$sum = 0 ;\r\n\t\t\t\tdata[i].$min = Infinity;\r\n\t\t\t\tfor(j =0; j < this._series.length;j++){\r\n\t\t\t\t\tvalue = parseFloat(this._series[j].value(data[i])||0);\r\n\t\t\t\t\tif(isNaN(value)) continue;\r\n\t\t\t\t\tif(this._series[j].type.toLowerCase().indexOf(\"stacked\")!=-1)\r\n\t\t\t\t\t\tdata[i].$sum += value;\r\n\t\t\t\t\tif(value < data[i].$min) data[i].$min = value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tmaxValue = -Infinity;\r\n\t\t\tminValue = Infinity;\r\n\t\t\tfor(i=0; i < data.length; i++){\r\n\t\t\t\tif (data[i].$sum > maxValue) maxValue = data[i].$sum ;\r\n\t\t\t\tif (data[i].$min < minValue) minValue = data[i].$min ;\r\n\t\t\t}\r\n\t\t\tif(minValue>0) minValue =0;\r\n\t\t}\r\n\t\treturn {max: maxValue, min: minValue};\r\n\t},\r\n\t/*adds colors to the gradient object*/\r\n\t_setBarGradient:function(ctx,x1,y1,x2,y2,type,color,axis){\r\n\t\tvar gradient, offset, rgb, hsv, color0, stops;\r\n\t\tif(type == \"light\"){\r\n\t\t\tif(axis == \"x\")\r\n\t\t\t\tgradient = ctx.createLinearGradient(x1,y1,x2,y1);\r\n\t\t\telse\r\n\t\t\t\tgradient = ctx.createLinearGradient(x1,y1,x1,y2);\r\n\t\t\tstops = [[0,\"#FFFFFF\"],[0.9,color],[1,color]];\r\n\t\t\toffset = 2;\r\n\t\t}\r\n\t\telse if(type == \"falling\"||type == \"rising\"){\r\n\t\t\tif(axis == \"x\")\r\n\t\t\t\tgradient = ctx.createLinearGradient(x1,y1,x2,y1);\r\n\t\t\telse\r\n\t\t\t\tgradient = ctx.createLinearGradient(x1,y1,x1,y2);\r\n\t\t\trgb = webix.color.toRgb(color);\r\n\t\t\thsv = webix.color.rgbToHsv(rgb[0],rgb[1],rgb[2]);\r\n\t\t\thsv[1] *= 1/2;\r\n\t\t\tcolor0 = \"rgb(\"+webix.color.hsvToRgb(hsv[0],hsv[1],hsv[2])+\")\";\r\n\t\t\tif(type == \"falling\"){\r\n\t\t\t\tstops = [[0,color0],[0.7,color],[1,color]];\r\n\t\t\t}\r\n\t\t\telse if(type == \"rising\"){\r\n\t\t\t\tstops = [[0,color],[0.3,color],[1,color0]];\r\n\t\t\t}\r\n\t\t\toffset = 0;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tctx.globalAlpha = 0.37;\r\n\t\t\toffset = 0;\r\n\t\t\tif(axis == \"x\")\r\n\t\t\t\tgradient = ctx.createLinearGradient(x1,y2,x1,y1);\r\n\t\t\telse\r\n\t\t\t\tgradient = ctx.createLinearGradient(x1,y1,x2,y1);\r\n\t\t\tstops = [[0,\"#9d9d9d\"],[0.3,\"#e8e8e8\"],[0.45,\"#ffffff\"],[0.55,\"#ffffff\"],[0.7,\"#e8e8e8\"],[1,\"#9d9d9d\"]];\r\n\t\t}\r\n\t\tthis._gradient(gradient,stops);\r\n\t\treturn {gradient: gradient,offset: offset};\r\n\t},\r\n\t/**\r\n\t*   returns the x and y position\r\n    *   @param: a - angle\r\n    *   @param: x - start x position\r\n    *   @param: y - start y position\r\n\t*   @param: r - destination to the point\r\n\t*/\r\n     _getPositionByAngle:function(a,x,y,r){\r\n         a *= (-1);\r\n         x = x+Math.cos(a)*r;\r\n         y = y-Math.sin(a)*r;\r\n         return {x:x,y:y};\r\n    },\r\n\t_gradient:function(gradient,stops){\r\n\t\tfor(var i=0; i< stops.length; i++){\r\n\t\t\tgradient.addColorStop(stops[i][0],stops[i][1]);\r\n\t\t}\r\n\t},\r\n\t_path: function(ctx,points){\r\n\t\tvar i, method;\r\n\t\tfor(i = 0; i< points.length; i++){\r\n\t\t\tmethod = (i?\"lineTo\":\"moveTo\");\r\n\t\t\tif(points[i].length>2)\r\n\t\t\t\tmethod = \"arc\";\r\n\t\t\tctx[method].apply(ctx,points[i]);\r\n\t\t}\r\n\t},\r\n\t_addMapRect:function(map,id,points,bounds,sIndex){\r\n\t\tmap.addRect(id,[points[0].x-bounds.x,points[0].y-bounds.y,points[1].x-bounds.x,points[1].y-bounds.y],sIndex);\r\n\t}\r\n}, webix.Group, webix.AutoTooltip, webix.DataLoader, webix.MouseEvents,  webix.EventSystem , webix.ui.view);\r\n\r\n\r\nwebix.extend(webix.ui.chart, {\r\n\t$render_pie:function(ctx,data,x,y,sIndex,map){\r\n\t\tthis._renderPie(ctx,data,x,y,1,map,sIndex);\r\n\t\t\r\n\t},\r\n\t/**\r\n\t *   renders a pie chart\r\n\t *   @param: ctx - canvas object\r\n\t *   @param: data - object those need to be displayed\r\n\t *   @param: x - the width of the container\r\n\t *   @param: y - the height of the container\r\n\t *   @param: ky - value from 0 to 1 that defines an angle of inclination (0<ky<1 - 3D chart)\r\n\t */\r\n\t_renderPie:function(ctx,data,point0,point1,ky,map,sIndex){\r\n\t\tif(!data.length)\r\n\t\t\treturn;\r\n\t\tvar coord = this._getPieParameters(point0,point1);\r\n\t\t/*pie radius*/\r\n\t\tvar radius = (this._settings.radius?this._settings.radius:coord.radius);\r\n\t\tif(radius<0)\r\n\t\t\treturn;\r\n\r\n\t\t/*real values*/\r\n\t\tvar values = this._getValues(data);\r\n\r\n\t\tvar totalValue = this._getTotalValue(values);\r\n\r\n\t\t/*weighed values (the ratio of object value to total value)*/\r\n\t\tvar ratios = this._getRatios(values,totalValue);\r\n\r\n\t\t/*pie center*/\r\n\t\tvar x0 = (this._settings.x?this._settings.x:coord.x);\r\n\t\tvar y0 = (this._settings.y?this._settings.y:coord.y);\r\n\t\t/*adds shadow to the 2D pie*/\r\n\t\tif(ky==1&&this._settings.shadow)\r\n\t\t\tthis._addShadow(ctx,x0,y0,radius);\r\n\r\n\t\t/*changes vertical position of the center according to 3Dpie cant*/\r\n\t\ty0 = y0/ky;\r\n\t\t/*the angle defines the 1st edge of the sector*/\r\n\t\tvar alpha0 = -Math.PI/2;\r\n\t\tvar angles = [];\r\n\t\t/*changes Canvas vertical scale*/\r\n\t\tctx.scale(1,ky);\r\n\t\t/*adds radial gradient to a pie*/\r\n\t\tif (this._settings.gradient){\r\n\t\t\tvar x1 = (ky!=1?x0+radius/3:x0);\r\n\t\t\tvar y1 = (ky!=1?y0+radius/3:y0);\r\n\t\t\tthis._showRadialGradient(ctx,x0,y0,radius,x1,y1);\r\n\t\t}\r\n\t\tfor(var i = 0; i < data.length;i++){\r\n\t\t\tif (!values[i]) continue;\r\n\t\t\t/*drawing sector*/\r\n\t\t\t//ctx.lineWidth = 2;\r\n\t\t\tctx.strokeStyle = this._settings.lineColor.call(this,data[i]);\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.moveTo(x0,y0);\r\n\t\t\tangles.push(alpha0);\r\n\t\t\t/*the angle defines the 2nd edge of the sector*/\r\n\t\t\tvar alpha1 = -Math.PI/2+ratios[i]-0.0001;\r\n\t\t\tctx.arc(x0,y0,radius,alpha0,alpha1,false);\r\n\t\t\tctx.lineTo(x0,y0);\r\n\r\n\t\t\tvar color = this._settings.color.call(this,data[i]);\r\n\t\t\tctx.fillStyle = color;\r\n\t\t\tctx.fill();\r\n\r\n\t\t\t/*text that needs being displayed inside the sector*/\r\n\t\t\tif(this._settings.pieInnerText)\r\n\t\t\t\tthis._drawSectorLabel(x0,y0,5*radius/6,alpha0,alpha1,ky,this._settings.pieInnerText(data[i],totalValue),true);\r\n\t\t\t/*label outside the sector*/\r\n\t\t\tif(this._settings.label)\r\n\t\t\t\tthis._drawSectorLabel(x0,y0,radius+this._settings.labelOffset,alpha0,alpha1,ky,this._settings.label(data[i]));\r\n\t\t\t/*drawing lower part for 3D pie*/\r\n\t\t\tif(ky!=1){\r\n\t\t\t\tthis._createLowerSector(ctx,x0,y0,alpha0,alpha1,radius,true);\r\n\t\t\t\tctx.fillStyle = \"#000000\";\r\n\t\t\t\tctx.globalAlpha = 0.2;\r\n\t\t\t\tthis._createLowerSector(ctx,x0,y0,alpha0,alpha1,radius,false);\r\n\t\t\t\tctx.globalAlpha = 1;\r\n\t\t\t\tctx.fillStyle = color;\r\n\t\t\t}\r\n\t\t\t/*creats map area (needed for events)*/\r\n\t\t\tmap.addSector(data[i].id,alpha0,alpha1,x0-point0.x,y0-point0.y/ky,radius,ky,sIndex);\r\n\r\n\t\t\talpha0 = alpha1;\r\n\t\t}\r\n\t\t/*renders radius lines and labels*/\r\n\t\tctx.globalAlpha = 0.8;\r\n\t\tvar p;\r\n\t\tfor(i=0;i< angles.length;i++){\r\n\t\t\tp = this._getPositionByAngle(angles[i],x0,y0,radius);\r\n\t\t\tthis._drawLine(ctx,x0,y0,p.x,p.y,this._settings.lineColor.call(this,data[i]),2);\r\n\t\t}\r\n\t\tif(ky==1){\r\n\t\t\tctx.lineWidth = 2;\r\n\t\t\tctx.strokeStyle = \"#ffffff\";\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.arc(x0,y0,radius+1,0,2*Math.PI,false);\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t\tctx.globalAlpha =1;\r\n\r\n\t\tctx.scale(1,1/ky);\r\n\t},\r\n\t/**\r\n\t *   returns list of values\r\n\t *   @param: data array\r\n\t */\r\n\t_getValues:function(data){\r\n\t\tvar v = [];\r\n\t\tfor(var i = 0; i < data.length;i++)\r\n\t\t\tv.push(parseFloat(this._settings.value(data[i])||0));\r\n\t\treturn v;\r\n\t},\r\n\t/**\r\n\t *   returns total value\r\n\t *   @param: the array of values\r\n\t */\r\n\t_getTotalValue:function(values){\r\n\t\tvar t=0;\r\n\t\tfor(var i = 0; i < values.length;i++)\r\n\t\t\tt += values[i];\r\n\t\treturn  t;\r\n\t},\r\n\t/**\r\n\t *   gets angles for all values\r\n\t *   @param: the array of values\r\n\t *   @param: total value (optional)\r\n\t */\r\n\t_getRatios:function(values,totalValue){\r\n\t\tvar value;\r\n\t\tvar ratios = [];\r\n\t\tvar prevSum = 0;\r\n\t\ttotalValue = totalValue||this._getTotalValue(values);\r\n\t\tfor(var i = 0; i < values.length;i++){\r\n\t\t\tvalue = values[i];\r\n\r\n\t\t\tratios[i] = Math.PI*2*(totalValue?((value+prevSum)/totalValue):(1/values.length));\r\n\t\t\tprevSum += value;\r\n\t\t}\r\n\t\treturn ratios;\r\n\t},\r\n\t/**\r\n\t *   returns calculated pie parameters: center position and radius\r\n\t *   @param: x - the width of a container\r\n\t *   @param: y - the height of a container\r\n\t */\r\n\t_getPieParameters:function(point0,point1){\r\n\t\t/*var offsetX = 0;\r\n\t\t var offsetY = 0;\r\n\t\t if(this._settings.legend &&this._settings.legend.layout!=\"x\")\r\n\t\t offsetX = this._settings.legend.width*(this._settings.legend.align==\"right\"?-1:1);\r\n\t\t var x0 = (x + offsetX)/2;\r\n\t\t if(this._settings.legend &&this._settings.legend.layout==\"x\")\r\n\t\t offsetY = this._settings.legend.height*(this._settings.legend.valign==\"bottom\"?-1:1);\r\n\t\t var y0 = (y+offsetY)/2;*/\r\n\t\tvar width = point1.x-point0.x;\r\n\t\tvar height = point1.y-point0.y;\r\n\t\tvar x0 = point0.x+width/2;\r\n\t\tvar y0 = point0.y+height/2;\r\n\t\tvar radius = Math.min(width/2,height/2);\r\n\t\treturn {\"x\":x0,\"y\":y0,\"radius\":radius};\r\n\t},\r\n\t/**\r\n\t *   creates lower part of sector in 3Dpie\r\n\t *   @param: ctx - canvas object\r\n\t *   @param: x0 - the horizontal position of the pie center\r\n\t *   @param: y0 - the vertical position of the pie center\r\n\t *   @param: a0 - the angle that defines the first edge of a sector\r\n\t *   @param: a1 - the angle that defines the second edge of a sector\r\n\t *   @param: R - pie radius\r\n\t *   @param: line (boolean) - if the sector needs a border\r\n\t */\r\n\t_createLowerSector:function(ctx,x0,y0,a1,a2,R,line){\r\n\t\tctx.lineWidth = 1;\r\n\t\t/*checks if the lower sector needs being displayed*/\r\n\t\tif(!((a1<=0 && a2>=0)||(a1>=0 && a2<=Math.PI)||(Math.abs(a1-Math.PI)>0.003&&a1<=Math.PI && a2>=Math.PI))) return;\r\n\r\n\t\tif(a1<=0 && a2>=0){\r\n\t\t\ta1 = 0;\r\n\t\t\tline = false;\r\n\t\t\tthis._drawSectorLine(ctx,x0,y0,R,a1,a2);\r\n\t\t}\r\n\t\tif(a1<=Math.PI && a2>=Math.PI){\r\n\t\t\ta2 = Math.PI;\r\n\t\t\tline = false;\r\n\t\t\tthis._drawSectorLine(ctx,x0,y0,R,a1,a2);\r\n\t\t}\r\n\t\t/*the height of 3D pie*/\r\n\t\tvar offset = (this._settings.pieHeight||Math.floor(R/4))/this._settings.cant;\r\n\t\tctx.beginPath();\r\n\t\tctx.arc(x0,y0,R,a1,a2,false);\r\n\t\tctx.lineTo(x0+R*Math.cos(a2),y0+R*Math.sin(a2)+offset);\r\n\t\tctx.arc(x0,y0+offset,R,a2,a1,true);\r\n\t\tctx.lineTo(x0+R*Math.cos(a1),y0+R*Math.sin(a1));\r\n\t\tctx.fill();\r\n\t\tif(line)\r\n\t\t\tctx.stroke();\r\n\t},\r\n\t/**\r\n\t *   draws a serctor arc\r\n\t */\r\n\t_drawSectorLine:function(ctx,x0,y0,R,a1,a2){\r\n\t\tctx.beginPath();\r\n\t\tctx.arc(x0,y0,R,a1,a2,false);\r\n\t\tctx.stroke();\r\n\t},\r\n\t/**\r\n\t *   adds a shadow to pie\r\n\t *   @param: ctx - canvas object\r\n\t *   @param: x - the horizontal position of the pie center\r\n\t *   @param: y - the vertical position of the pie center\r\n\t *   @param: R - pie radius\r\n\t */\r\n\t_addShadow:function(ctx,x,y,R){\r\n\t\tctx.globalAlpha = 0.5;\r\n\t\tvar shadows = [\"#c4c4c4\",\"#c6c6c6\",\"#cacaca\",\"#dcdcdc\",\"#dddddd\",\"#e0e0e0\",\"#eeeeee\",\"#f5f5f5\",\"#f8f8f8\"];\r\n\t\tfor(var i = shadows.length-1;i>-1;i--){\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.fillStyle = shadows[i];\r\n\t\t\tctx.arc(x+1,y+1,R+i,0,Math.PI*2,true);\r\n\t\t\tctx.fill();\r\n\t\t}\r\n\t\tctx.globalAlpha = 1;\r\n\t},\r\n\t/**\r\n\t *   returns a gray gradient\r\n\t *   @param: gradient - gradient object\r\n\t */\r\n\t_getGrayGradient:function(gradient){\r\n\t\tgradient.addColorStop(0.0,\"#ffffff\");\r\n\t\tgradient.addColorStop(0.7,\"#7a7a7a\");\r\n\t\tgradient.addColorStop(1.0,\"#000000\");\r\n\t\treturn gradient;\r\n\t},\r\n\t/**\r\n\t *   adds gray radial gradient\r\n\t *   @param: ctx - canvas object\r\n\t *   @param: x - the horizontal position of the pie center\r\n\t *   @param: y - the vertical position of the pie center\r\n\t *   @param: radius - pie radius\r\n\t *   @param: x0 - the horizontal position of a gradient center\r\n\t *   @param: y0 - the vertical position of a gradient center\r\n\t */\r\n\t_showRadialGradient:function(ctx,x,y,radius,x0,y0){\r\n\t\t//ctx.globalAlpha = 0.3;\r\n\t\tctx.beginPath();\r\n\t\tvar gradient;\r\n\t\tif(typeof this._settings.gradient!= \"function\"){\r\n\t\t\tgradient = ctx.createRadialGradient(x0,y0,radius/4,x,y,radius);\r\n\t\t\tgradient = this._getGrayGradient(gradient);\r\n\t\t}\r\n\t\telse gradient = this._settings.gradient(gradient);\r\n\t\tctx.fillStyle = gradient;\r\n\t\tctx.arc(x,y,radius,0,Math.PI*2,true);\r\n\t\tctx.fill();\r\n\t\t//ctx.globalAlpha = 1;\r\n\t\tctx.globalAlpha = 0.7;\r\n\t},\r\n\t/**\r\n\t *   returns the calculates pie parameters: center position and radius\r\n\t *   @param: ctx - canvas object\r\n\t *   @param: x0 - the horizontal position of the pie center\r\n\t *   @param: y0 - the vertical position of the pie center\r\n\t *   @param: R - pie radius\r\n\t *   @param: alpha1 - the angle that defines the 1st edge of a sector\r\n\t *   @param: alpha2 - the angle that defines the 2nd edge of a sector\r\n\t *   @param: ky - the value that defines an angle of inclination\r\n\t *   @param: text - label text\r\n\t *   @param: in_width (boolean) - if label needs being displayed inside a pie\r\n\t */\r\n\t_drawSectorLabel:function(x0,y0,R,alpha1,alpha2,ky,text,in_width){\r\n\t\tvar t = this.canvases[0].renderText(0,0,text,0,1);\r\n\t\tif (!t) return;\r\n\r\n\t\t//get existing width of text\r\n\t\tvar labelWidth = t.scrollWidth;\r\n\t\tt.style.width = labelWidth+\"px\";\t//adjust text label to fit all text\r\n\t\tif (labelWidth>x0) labelWidth = x0;\t//the text can't be greater than half of view\r\n\r\n\t\t//calculate expected correction based on default font metrics\r\n\t\tvar width = (alpha2-alpha1<0.2?4:8);\r\n\t\tif (in_width) width = labelWidth/1.8;\r\n\t\tvar alpha = alpha1+(alpha2-alpha1)/2;\r\n\r\n\t\t//position and its correction\r\n\t\tR = R-(width-8)/2;\r\n\t\tvar corr_x = - width;\r\n\t\tvar corr_y = -8;\r\n\t\tvar align = \"right\";\r\n\r\n\t\t//for items in left upper and lower sector\r\n\t\tif(alpha>=Math.PI/2 && alpha<Math.PI || alpha<=3*Math.PI/2 && alpha>=Math.PI){\r\n\t\t\tcorr_x = -labelWidth-corr_x+1;/*correction for label width*/\r\n\t\t\talign = \"left\";\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\t   calculate position of text\r\n\t\t   basically get point at center of pie sector\r\n\t\t*/\r\n\t\tvar offset = 0;\r\n\r\n\t\tif(!in_width&&ky<1&&(alpha>0&&alpha<Math.PI))\r\n\t\t\toffset = (this._settings.height||Math.floor(R/4))/ky;\r\n\r\n\t\tvar y = (y0+Math.floor((R+offset)*Math.sin(alpha)))*ky+corr_y;\r\n\t\tvar x = x0+Math.floor((R+width/2)*Math.cos(alpha))+corr_x;\r\n\r\n\t\t/*\r\n\t\t   if pie sector starts in left of right part pie,\r\n\t\t   related text\tmust be placed to the left of to the right of pie as well\r\n\t\t*/\r\n\t\tvar left_end = (alpha2 < Math.PI/2+0.01);\r\n\t\tvar left_start = (alpha1 < Math.PI/2);\r\n\t\tif (left_start && left_end){\r\n\t\t\tx = Math.max(x,x0+3);\t//right part of pie\r\n\t\t\t/*if(alpha2-alpha1<0.2)\r\n\t\t\t\tx = x0;*/\r\n\t\t}\r\n\t\telse if (!left_start && !left_end)\r\n\t\t\tx = Math.min(x,x0-labelWidth);\t//left part of pie\r\n\t\telse if (!in_width&&(alpha>=Math.PI/2 && alpha<Math.PI || alpha<=3*Math.PI/2 && alpha>=Math.PI)){\r\n\t\t\tx += labelWidth/3;\r\n\t\t}\r\n\r\n\r\n\t\t//we need to set position of text manually, based on above calculations\r\n\t\tt.style.top  = y+\"px\";\r\n\t\tt.style.left = x+\"px\";\r\n\t\tt.style.width = labelWidth+\"px\";\r\n\t\tt.style.textAlign = align;\r\n\t\tt.style.whiteSpace = \"nowrap\";\r\n\t},\r\n\t$render_pie3D:function(ctx,data,x,y,sIndex,map){\r\n\t\tthis._renderPie(ctx,data,x,y,this._settings.cant,map);\r\n\t},\r\n\t$render_donut:function(ctx,data,point0,point1,sIndex,map){\r\n        if(!data.length)\r\n\t\t\treturn;\r\n\t\tthis._renderPie(ctx,data,point0,point1,1,map,sIndex);\r\n        var config = this._settings;\r\n\t\tvar coord = this._getPieParameters(point0,point1);\r\n\t\tvar pieRadius = (config.radius?config.radius:coord.radius);\r\n\t    var innerRadius = ((config.innerRadius&&(config.innerRadius<pieRadius))?config.innerRadius:pieRadius/3);\r\n        var x0 = (config.x?config.x:coord.x);\r\n\t\tvar y0 = (config.y?config.y:coord.y);\r\n        ctx.fillStyle = \"#ffffff\";\r\n        ctx.beginPath();\r\n\t\tctx.arc(x0,y0,innerRadius,0,Math.PI*2,true);\r\n\t\tctx.fill();\r\n    }\r\n});\r\n\t\t//+pie3d\r\nwebix.extend(webix.ui.chart, {\r\n\t/**\r\n\t*   renders a bar chart\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: data - object those need to be displayed\r\n\t*   @param: x - the width of the container\r\n\t*   @param: y - the height of the container\r\n\t*   @param: sIndex - index of drawing chart\r\n\t*/\r\n\t$render_bar:function(ctx, data, point0, point1, sIndex, map){\r\n\t\tvar barWidth, cellWidth,\r\n\t\t\ti,\r\n\t\t\tlimits, maxValue, minValue,\r\n\t\t\trelValue, valueFactor, relativeValues,\r\n\t\t\tstartValue, unit,\r\n\t\t\txax, yax,\r\n\t\t\ttotalHeight = point1.y-point0.y;\r\n\r\n\t\tyax = !!this._settings.yAxis;\r\n\t\txax = !!this._settings.xAxis;\r\n\r\n\t\tlimits = this._getLimits();\r\n\t\tmaxValue = limits.max;\r\n\t\tminValue = limits.min;\r\n\r\n\t\t/*an available width for one bar*/\r\n\t\tcellWidth = (point1.x-point0.x)/data.length;\r\n\r\n\r\n\t\t/*draws x and y scales*/\r\n\t\tif(!sIndex&&!(this._settings.origin!=\"auto\"&&!yax)){\r\n\t\t\tthis._drawScales(data,point0, point1,minValue,maxValue,cellWidth);\r\n\t\t}\r\n\r\n\t\t/*necessary for automatic scale*/\r\n\t\tif(yax){\r\n\t\t\tmaxValue = parseFloat(this._settings.yAxis.end);\r\n\t\t\tminValue = parseFloat(this._settings.yAxis.start);\r\n\t\t}\r\n\r\n\t\t/*unit calculation (bar_height = value*unit)*/\r\n\t\trelativeValues = this._getRelativeValue(minValue,maxValue);\r\n\t\trelValue = relativeValues[0];\r\n\t\tvalueFactor = relativeValues[1];\r\n\r\n\t\tunit = (relValue?totalHeight/relValue:relValue);\r\n\r\n\t\tif(!yax&&!(this._settings.origin!=\"auto\"&&xax)){\r\n\t\t\t/*defines start value for better representation of small values*/\r\n\t\t\tstartValue = 10;\r\n\t\t\tunit = (relValue?(totalHeight-startValue)/relValue:startValue);\r\n\t\t}\r\n\t\t/*if yAxis isn't set, but with custom origin */\r\n\t\tif(!sIndex&&(this._settings.origin!=\"auto\"&&!yax)&&this._settings.origin>minValue){\r\n\t\t\tthis._drawXAxis(ctx,data,point0,point1,cellWidth,point1.y-unit*(this._settings.origin-minValue));\r\n\t\t}\r\n\r\n\t\t/*a real bar width */\r\n\t\tbarWidth = parseInt(this._settings.barWidth,10);\r\n\t\tvar seriesNumber = 0;\r\n\t\tvar seriesIndex = 0;\r\n\t\tfor(i=0; i<this._series.length; i++ ){\r\n\t\t\tif(i == sIndex){\r\n\t\t\t\tseriesIndex  = seriesNumber;\r\n\t\t\t}\r\n\t\t\tif(this._series[i].type == \"bar\")\r\n\t\t\t\tseriesNumber++;\r\n\t\t}\r\n\t\tif(this._series&&(barWidth*seriesNumber+4)>cellWidth) barWidth = parseInt(cellWidth/seriesNumber-4,10);\r\n\r\n\t\t/*the half of distance between bars*/\r\n\t\tvar barOffset = (cellWidth - barWidth*seriesNumber)/2;\r\n\r\n\t\t/*the radius of rounding in the top part of each bar*/\r\n\t\tvar radius = (typeof this._settings.radius!=\"undefined\"?parseInt(this._settings.radius,10):Math.round(barWidth/5));\r\n\r\n\t\tvar inner_gradient = false;\r\n\t\tvar gradient = this._settings.gradient;\r\n\r\n\t\tif(gradient && typeof(gradient) != \"function\"){\r\n\t\t\tinner_gradient = gradient;\r\n\t\t\tgradient = false;\r\n\t\t} else if (gradient){\r\n\t\t\tgradient = ctx.createLinearGradient(0,point1.y,0,point0.y);\r\n\t\t\tthis._settings.gradient(gradient);\r\n\t\t}\r\n\t\t/*draws a black line if the horizontal scale isn't defined*/\r\n\t\tif(!xax){\r\n\t\t\tthis._drawLine(ctx,point0.x,point1.y+0.5,point1.x,point1.y+0.5,\"#000000\",1); //hardcoded color!\r\n\t\t}\r\n\r\n\t\tfor(i=0; i < data.length;i ++){\r\n\r\n\t\t\tvar value =  parseFloat(this._settings.value(data[i])||0);\r\n\t\t\tif(this._logScaleCalc)\r\n\t\t\t\tvalue = this._log10(value);\r\n\r\n\t\t\tif(isNaN(value))\r\n\t\t\t\tcontinue;\r\n\t\t\tif(value>maxValue) value = maxValue;\r\n\t\t\tvalue -= minValue;\r\n\t\t\tvalue *= valueFactor;\r\n\r\n\t\t\t/*start point (bottom left)*/\r\n\t\t\tvar x0 = point0.x + barOffset + i*cellWidth+(barWidth+1)*seriesIndex;\r\n\t\t\tvar y0 = point1.y;\r\n\r\n\t\t\tif(value<0||(this._settings.yAxis&&value===0&&!(this._settings.origin!=\"auto\"&&this._settings.origin>minValue))){\r\n\t\t\t\tthis.canvases[sIndex].renderTextAt(true, true, x0+Math.floor(barWidth/2),y0,this._settings.label(data[i]));\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t/*takes start value into consideration*/\r\n\t\t\tif(!yax&&!(this._settings.origin!=\"auto\"&&xax)) value += startValue/unit;\r\n\r\n\t\t\tvar color = gradient||this._settings.color.call(this,data[i]);\r\n\r\n\r\n\t\t\t/*drawing bar body*/\r\n\t\t\tctx.globalAlpha = this._settings.alpha.call(this,data[i]);\r\n\t\t\tvar points = this._drawBar(ctx,point0,x0,y0,barWidth,minValue,radius,unit,value,color,gradient,inner_gradient);\r\n\t\t\tif (inner_gradient){\r\n\t\t\t\tthis._drawBarGradient(ctx,x0,y0,barWidth,minValue,radius,unit,value,color,inner_gradient);\r\n\t\t\t}\r\n\t\t\t/*drawing the gradient border of a bar*/\r\n\t\t\tif(this._settings.border)\r\n\t\t\t\tthis._drawBarBorder(ctx,x0,y0,barWidth,minValue,radius,unit,value,color);\r\n\r\n\t\t\tctx.globalAlpha = 1;\r\n\r\n\t\t\t/*sets a bar label*/\r\n\t\t\tif(points[0]!=x0)\r\n\t\t\t\tthis.canvases[sIndex].renderTextAt(false, true, x0+Math.floor(barWidth/2),points[1],this._settings.label(data[i]));\r\n\t\t\telse\r\n\t\t\t\tthis.canvases[sIndex].renderTextAt(true, true, x0+Math.floor(barWidth/2),points[3],this._settings.label(data[i]));\r\n\t\t\t/*defines a map area for a bar*/\r\n\t\t\tmap.addRect(data[i].id,[x0-point0.x,points[3]-point0.y,points[2]-point0.x,points[1]-point0.y],sIndex);\r\n\t\t\t//this._addMapRect(map,data[i].id,[{x:x0,y:points[3]},{x:points[2],y:points[1]}],point0,sIndex);\r\n\t\t}\r\n\t},\r\n\t_correctBarParams:function(ctx,x,y,value,unit,barWidth,minValue){\r\n\t\tvar xax = this._settings.xAxis;\r\n\t\tvar axisStart = y;\r\n\t\tif(!!xax&&this._settings.origin!=\"auto\" && (this._settings.origin>minValue)){\r\n\t\t\ty -= (this._settings.origin-minValue)*unit;\r\n\t\t\taxisStart = y;\r\n\t\t\tvalue = value-(this._settings.origin-minValue);\r\n\t\t\tif(value < 0){\r\n\t\t\t\tvalue *= (-1);\r\n\t\t\t\tctx.translate(x+barWidth,y);\r\n\t\t\t\tctx.rotate(Math.PI);\r\n\t\t\t\tx = 0;\r\n\t\t\t\ty = 0;\r\n\t\t\t}\r\n\t\t\ty -= 0.5;\r\n\t\t}\r\n\r\n\t\treturn {value:value,x0:x,y0:y,start:axisStart};\r\n\t},\r\n\t_drawBar:function(ctx,point0,x0,y0,barWidth,minValue,radius,unit,value,color,gradient,inner_gradient){\r\n\t\tctx.save();\r\n\t\tctx.fillStyle = color;\r\n\t\tvar p = this._correctBarParams(ctx,x0,y0,value,unit,barWidth,minValue);\r\n\t\tvar points = this._setBarPoints(ctx,p.x0,p.y0,barWidth,radius,unit,p.value,(this._settings.border?1:0));\r\n\t\tif (gradient&&!inner_gradient) ctx.lineTo(p.x0+(this._settings.border?1:0),point0.y); //fix gradient sphreading\r\n\t\tctx.fill();\r\n\t\tctx.restore();\r\n\t\tvar x1 = p.x0;\r\n\t\tvar x2 = (p.x0!=x0?x0+points[0]:points[0]);\r\n\t\tvar y1 = (p.x0!=x0?(p.start-points[1]-p.y0):p.y0);\r\n\t\tvar y2 = (p.x0!=x0?p.start-p.y0:points[1]);\r\n\r\n\t\treturn [x1,y1,x2,y2];\r\n\t},\r\n\t_setBorderStyles:function(ctx,color){\r\n\t\tvar hsv,rgb;\r\n\t\trgb = webix.color.toRgb(color);\r\n\t\thsv = webix.color.rgbToHsv(rgb[0],rgb[1],rgb[2]);\r\n\t\thsv[2] /= 1.4;\r\n\t\tcolor = \"rgb(\"+webix.color.hsvToRgb(hsv[0],hsv[1],hsv[2])+\")\";\r\n\t\tctx.strokeStyle = color;\r\n\t\tif(ctx.globalAlpha==1)\r\n\t\t\tctx.globalAlpha = 0.9;\r\n\t},\r\n\t_drawBarBorder:function(ctx,x0,y0,barWidth,minValue,radius,unit,value,color){\r\n\t\tvar p;\r\n\t\tctx.save();\r\n\t\tp = this._correctBarParams(ctx,x0,y0,value,unit,barWidth,minValue);\r\n\t\tthis._setBorderStyles(ctx,color);\r\n\t\tthis._setBarPoints(ctx,p.x0,p.y0,barWidth,radius,unit,p.value,ctx.lineWidth/2,1);\r\n\t\tctx.stroke();\r\n\t\t/*ctx.fillStyle = color;\r\n\t\t this._setBarPoints(ctx,p.x0,p.y0,barWidth,radius,unit,p.value,0);\r\n\t\t ctx.lineTo(p.x0,0);\r\n\t\t ctx.fill()\r\n\r\n\r\n\t\t ctx.fillStyle = \"#000000\";\r\n\t\t ctx.globalAlpha = 0.37;\r\n\r\n\t\t this._setBarPoints(ctx,p.x0,p.y0,barWidth,radius,unit,p.value,0);\r\n\t\t ctx.fill()\r\n\t\t */\r\n\t\tctx.restore();\r\n\t},\r\n\t_drawBarGradient:function(ctx,x0,y0,barWidth,minValue,radius,unit,value,color,inner_gradient){\r\n\t\tctx.save();\r\n\t\tvar p = this._correctBarParams(ctx,x0,y0,value,unit,barWidth,minValue);\r\n\t\tvar gradParam = this._setBarGradient(ctx,p.x0,p.y0,p.x0+barWidth,p.y0-unit*p.value+2,inner_gradient,color,\"y\");\r\n\t\tvar borderOffset = this._settings.border?1:0;\r\n\t\tctx.fillStyle = gradParam.gradient;\r\n\t\tthis._setBarPoints(ctx,p.x0+gradParam.offset,p.y0,barWidth-gradParam.offset*2,radius,unit,p.value,gradParam.offset+borderOffset);\r\n\t\tctx.fill();\r\n\t\tctx.restore();\r\n\t},\r\n\t/**\r\n\t *   sets points for bar and returns the position of the bottom right point\r\n\t *   @param: ctx - canvas object\r\n\t *   @param: x0 - the x position of start point\r\n\t *   @param: y0 - the y position of start point\r\n\t *   @param: barWidth - bar width\r\n\t *   @param: radius - the rounding radius of the top\r\n\t *   @param: unit - the value defines the correspondence between item value and bar height\r\n\t *   @param: value - item value\r\n\t *   @param: offset - the offset from expected bar edge (necessary for drawing border)\r\n\t */\r\n\t_setBarPoints:function(ctx,x0,y0,barWidth,radius,unit,value,offset,skipBottom){\r\n\t\t/*correction for displaing small values (when rounding radius is bigger than bar height)*/\r\n\t\tctx.beginPath();\r\n\t\t//y0 = 0.5;\r\n\t\tvar angle_corr = 0;\r\n\t\tif(radius>unit*value){\r\n\t\t\tvar cosA = (radius-unit*value)/radius;\r\n\t\t\tif(cosA<=1&&cosA>=-1)\r\n\t\t\t\tangle_corr = -Math.acos(cosA)+Math.PI/2;\r\n\t\t}\r\n\t\t/*start*/\r\n\t\tctx.moveTo(x0+offset,y0);\r\n\t\t/*start of left rounding*/\r\n\t\tvar y1 = y0 - Math.floor(unit*value) + radius + (radius?0:offset);\r\n\t\tif(radius<unit*value)\r\n\t\t\tctx.lineTo(x0+offset,y1);\r\n\t\t/*left rounding*/\r\n\t\tvar x2 = x0 + radius;\r\n\r\n\t\tif (radius&&radius>0)\r\n\t\t\tctx.arc(x2,y1,Math.max(radius-offset,0),-Math.PI+angle_corr,-Math.PI/2,false);\r\n\t\t/*start of right rounding*/\r\n\t\tvar x3 = x0 + barWidth - radius - offset;\r\n\t\tvar y3 = y1 - radius + (radius?offset:0);\r\n\t\tctx.lineTo(x3,y3);\r\n\t\t/*right rounding*/\r\n\t\tif (radius&&radius>0)\r\n\t\t\tctx.arc(x3+offset,y1,Math.max(radius-offset,0),-Math.PI/2,0-angle_corr,false);\r\n\t\t/*bottom right point*/\r\n\t\tvar x5 = x0 + barWidth-offset;\r\n\t\tctx.lineTo(x5,y0);\r\n\t\t/*line to the start point*/\r\n\t\tif(!skipBottom){\r\n\t\t\tctx.lineTo(x0+offset,y0);\r\n\t\t}\r\n\t\t//\tctx.lineTo(x0,0); //IE fix!\r\n\t\treturn [x5,y3];\r\n\t}\r\n});\t\r\nwebix.extend(webix.ui.chart, {\r\n\t/**\r\n\t*   renders a graphic\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: data - object those need to be displayed\r\n\t*   @param: width - the width of the container\r\n\t*   @param: height - the height of the container\r\n\t*   @param: sIndex - index of drawing chart\r\n\t*/\r\n\t$render_line:function(ctx, data, point0, point1, sIndex, map){\r\n\t\tvar config,i,items,params,x0,x1,x2,y1,y2,y0,res1,res2;\r\n\t\tparams = this._calculateLineParams(ctx,data,point0,point1,sIndex);\r\n\t\tconfig = this._settings;\r\n\t\tif (data.length) {\r\n\t\t\tx0 = (config.offset?point0.x+params.cellWidth*0.5:point0.x);\r\n\t\t\t//finds items with data (excludes scale units)\r\n\t\t\titems= [];\r\n\t\t\tfor(i=0; i < data.length;i++){\r\n\t\t\t\tres2 = this._getPointY(data[i],point0,point1,params);\r\n\t\t\t\tif(res2){\r\n\t\t\t\t\tx2 = ((!i)?x0:params.cellWidth*i - 0.5 + x0);\r\n\t\t\t\t\ty2 = (typeof res2 == \"object\"?res2.y0:res2);\r\n\t\t\t\t\tif(i && this._settings.fixOverflow){\r\n\t\t\t\t\t\tres1 = this._getPointY(data[i-1],point0,point1,params);\r\n\t\t\t\t\t\tif(res1.out && res1.out == res2.out){\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tx1 = params.cellWidth*(i-1) - 0.5 + x0;\r\n\t\t\t\t\t\ty1 = (typeof res1 == \"object\"?res1.y0:res1);\r\n\r\n\t\t\t\t\t\tif(res1.out){\r\n\t\t\t\t\t\t\ty0 = (res1.out == \"min\"?point1.y:point0.y);\r\n\t\t\t\t\t\t\titems.push({x:this._calcOverflowX(x1,x2,y1,y2,y0),y:y0});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(res2.out){\r\n\t\t\t\t\t\t\ty0 = (res2.out == \"min\"?point1.y:point0.y);\r\n\t\t\t\t\t\t\titems.push({x:this._calcOverflowX(x1,x2,y1,y2,y0),y:y0});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!res2.out)\r\n\t\t\t\t\t\titems.push({x:x2, y: res2, index: i});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._mapStart = point0;\r\n\t\t\tfor(i = 1; i <= items.length; i++){\r\n\t\t\t\t//line start position\r\n\t\t\t\tx1 = items[i-1].x;\r\n\t\t\t\ty1 = items[i-1].y;\r\n\t\t\t\tif(i<items.length){\r\n\t\t\t\t\t//line end position\r\n\t\t\t\t\tx2 = items[i].x;\r\n\t\t\t\t\ty2 = items[i].y;\r\n\t\t\t\t\t//line\r\n\t\t\t\t\tthis._drawLine(ctx,x1,y1,x2,y2,config.line.color.call(this,data[i-1]),config.line.width);\r\n\t\t\t\t\t//line shadow\r\n\t\t\t\t\tif(config.line&&config.line.shadow){\r\n\t\t\t\t\t\tctx.globalAlpha = 0.3;\r\n\t\t\t\t\t\tthis._drawLine(ctx,x1+2,y1+config.line.width+8,x2+2,y2+config.line.width+8,\"#eeeeee\",config.line.width+3);\r\n\t\t\t\t\t\tctx.globalAlpha = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//item\r\n\t\t\t\tif(typeof items[i-1].index != \"undefined\")\r\n\t\t\t\t\tthis._drawItem(ctx,x1,y1,data[items[i-1].index],config.label(data[items[i-1].index]), sIndex, map, point0);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t},\r\n\t_calcOverflowX: function(x1,x2,y1,y2,y){\r\n\t\treturn  x1 + ( y - y1 )*( x2 - x1 )/( y2 - y1 );\r\n\t},\r\n\t/**\r\n\t*   draws an item and its label\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: x0 - the x position of a circle\r\n\t*   @param: y0 - the y position of a circle\r\n\t*   @param: obj - data object\r\n\t*   @param: label - (boolean) defines wherether label needs being drawn\r\n\t*/\r\n\t_drawItem:function(ctx,x0,y0,obj,label,sIndex,map){\r\n\t\tvar config = this._settings.item;\r\n\r\n\t\tvar R = parseInt(config.radius.call(this,obj),10)||0;\r\n\t\tvar mapStart = this._mapStart;\r\n\t\tif(R){\r\n\t\t\tctx.save();\r\n\t\t\tif(config.shadow){\r\n\t\t\t\tctx.lineWidth = 1;\r\n\t\t\t\tctx.strokeStyle = \"#bdbdbd\";\r\n\t\t\t\tctx.fillStyle = \"#bdbdbd\";\r\n\t\t\t\tvar alphas = [0.1,0.2,0.3];\r\n\t\t\t\tfor(var i=(alphas.length-1);i>=0;i--){\r\n\t\t\t\t\tctx.globalAlpha = alphas[i];\r\n\t\t\t\t\tctx.strokeStyle = \"#d0d0d0\";\r\n\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\tthis._strokeChartItem(ctx,x0,y0+2*R/3,R+i+1,config.type);\r\n\t\t\t\t\tctx.stroke();\r\n\t\t\t\t}\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.globalAlpha = 0.3;\r\n\t\t\t\tctx.fillStyle = \"#bdbdbd\";\r\n\t\t\t\tthis._strokeChartItem(ctx,x0,y0+2*R/3,R+1,config.type);\r\n\t\t\t\tctx.fill();\r\n\t\t\t}\r\n\t\t\tctx.restore();\r\n\t\t\tctx.lineWidth = config.borderWidth;\r\n\t\t\tctx.fillStyle = config.color.call(this,obj);\r\n\t\t\tctx.strokeStyle = config.borderColor.call(this,obj);\r\n\t\t\tctx.globalAlpha = config.alpha.call(this,obj);\r\n\t\t\tctx.beginPath();\r\n\t\t\tthis._strokeChartItem(ctx,x0,y0,R+1,config.type);\r\n\t\t\tctx.fill();\r\n\t\t\tctx.stroke();\r\n\t\t\tctx.globalAlpha = 1;\r\n\t\t}\r\n\t\t/*item label*/\r\n\t\tif(label){\r\n\t\t\tthis.canvases[sIndex].renderTextAt(false, true, x0,y0-R-this._settings.labelOffset,this._settings.label.call(this,obj));\r\n\t\t}\r\n\t\tif(map){\r\n\t\t\tvar areaPos = (this._settings.eventRadius||R+1);\r\n\t\t\t//this._addMapRect(map,obj.id,[{x:x0-areaPos,y:y0-areaPos},{x0+areaPos,y:y0+areaPos}],point0,sIndex);\r\n\t\t\tmap.addRect(obj.id,[x0-areaPos-mapStart.x,y0-areaPos-mapStart.y,x0+areaPos-mapStart.x,y0+areaPos-mapStart.y],sIndex);\r\n\t\t}\r\n\r\n\t},\r\n\t_strokeChartItem:function(ctx,x0,y0,R,type){\r\n\t\tvar p=[];\r\n\t\tif(type && (type==\"square\" || type==\"s\")){\r\n\t\t\tR *= Math.sqrt(2)/2;\r\n\t\t\tp = [\r\n\t\t\t\t[x0-R-ctx.lineWidth/2,y0-R],\r\n\t\t\t\t[x0+R,y0-R],\r\n\t\t\t\t[x0+R,y0+R],\r\n\t\t\t\t[x0-R,y0+R],\r\n\t\t\t\t[x0-R,y0-R]\r\n\t\t\t];\r\n\t\t}\r\n\t\telse if(type && (type==\"diamond\" || type==\"d\")){\r\n\t\t\tvar corr = (ctx.lineWidth>1?ctx.lineWidth*Math.sqrt(2)/4:0);\r\n\t\t\tp = [\r\n\t\t\t\t[x0,y0-R],\r\n\t\t\t\t[x0+R,y0],\r\n\t\t\t\t[x0,y0+R],\r\n\t\t\t\t[x0-R,y0],\r\n\t\t\t\t[x0+corr,y0-R-corr]\r\n\t\t\t];\r\n\t\t}\r\n\t\telse if(type && (type==\"triangle\" || type==\"t\")){\r\n\t\t\tp = [\r\n\t\t\t\t[x0,y0-R],\r\n\t\t\t\t[x0+Math.sqrt(3)*R/2,y0+R/2],\r\n\t\t\t\t[x0-Math.sqrt(3)*R/2,y0+R/2],\r\n\t\t\t\t[x0,y0-R]\r\n\t\t\t];\r\n\t\t}\r\n\t\telse\r\n\t\t\tp = [\r\n\t\t\t\t[x0,y0,R,0,Math.PI*2,true]\r\n\t\t\t];\r\n\t\tthis._path(ctx,p);\r\n\t},\r\n\t/**\r\n\t*   gets the vertical position of the item\r\n\t*   @param: data - data object\r\n\t*   @param: y0 - the y position of chart start\r\n\t*   @param: y1 - the y position of chart end\r\n\t*   @param: params - the object with elements: minValue, maxValue, unit, valueFactor (the value multiple of 10)\r\n\t*/\r\n\t_getPointY: function(data,point0,point1,params){\r\n\t\tvar minValue = params.minValue;\r\n\t\tvar maxValue = params.maxValue;\r\n\t\tvar unit = params.unit;\r\n\t\tvar valueFactor = params.valueFactor;\r\n\t\t/*the real value of an object*/\r\n\t\tvar value = this._settings.value(data);\r\n\t\tif(this._logScaleCalc){\r\n\t\t\tvalue = this._log10(value);\r\n\t\t}\r\n\t\t/*a relative value*/\r\n\t\tvar v = (parseFloat(value||0) - minValue)*valueFactor;\r\n\t\tif(!this._settings.yAxis)\r\n\t\t\tv += params.startValue/unit;\r\n\t\t/*a vertical coordinate*/\r\n\t\tvar y = point1.y - unit*v;\r\n\t\t/*the limit of the max and min values*/\r\n\t\tif(this._settings.fixOverflow && ( this._settings.type == \"line\" || this._settings.type == \"area\")){\r\n\t\t\tif(value > maxValue)\r\n\t\t\t\ty = {y: point0.y, y0:  y, out: \"max\"};\r\n\t\t\telse if(v<0 || value < minValue)\r\n\t\t\t\ty = {y: point1.y, y0:  y, out: \"min\"};\r\n\t\t}\r\n\t\telse{\r\n\t\t\tif(value > maxValue)\r\n\t\t\t\ty =  point0.y;\r\n\t\t\tif(v<0 || value < minValue)\r\n\t\t\t\ty =  point1.y;\r\n\t\t}\r\n\t\treturn y;\r\n\t},\r\n\t_calculateLineParams: function(ctx,data,point0,point1,sIndex){\r\n\t\tvar params = {};\r\n\r\n\t\t/*maxValue - minValue*/\r\n\t\tvar relValue;\r\n\r\n\t\t/*available height*/\r\n\t\tparams.totalHeight = point1.y-point0.y;\r\n\r\n\t\t/*a space available for a single item*/\r\n\t\t//params.cellWidth = Math.round((point1.x-point0.x)/((!this._settings.offset&&this._settings.yAxis)?(data.length-1):data.length));\r\n\t\tparams.cellWidth =(point1.x-point0.x)/((!this._settings.offset)?(data.length-1):data.length);\r\n\t\t/*scales*/\r\n\t\tvar yax = !!this._settings.yAxis;\r\n\r\n\t\tvar limits = (this._settings.type.indexOf(\"stacked\")!=-1?this._getStackedLimits(data):this._getLimits());\r\n\t\tparams.maxValue = limits.max;\r\n\t\tparams.minValue = limits.min;\r\n\r\n\t\t/*draws x and y scales*/\r\n\t\tif(!sIndex)\r\n\t\t\tthis._drawScales(data, point0, point1,params.minValue,params.maxValue,params.cellWidth);\r\n\r\n\t\t/*necessary for automatic scale*/\r\n\t\tif(yax){\r\n\t\t    params.maxValue = parseFloat(this._settings.yAxis.end);\r\n\t\t\tparams.minValue = parseFloat(this._settings.yAxis.start);\r\n\t\t}\r\n\r\n\t\t/*unit calculation (y_position = value*unit)*/\r\n\t\tvar relativeValues = this._getRelativeValue(params.minValue,params.maxValue);\r\n\t\trelValue = relativeValues[0];\r\n\t\tparams.valueFactor = relativeValues[1];\r\n\t\tparams.unit = (relValue?params.totalHeight/relValue:10);\r\n\r\n\t\tparams.startValue = 0;\r\n\t\tif(!yax){\r\n\t\t\t/*defines start value for better representation of small values*/\r\n\t\t\tparams.startValue = 10;\r\n\t\t\tif(params.unit!=params.totalHeight)\r\n\t\t\t\tparams.unit = (relValue?(params.totalHeight - params.startValue)/relValue:10);\r\n\t\t}\r\n\t\treturn params;\r\n\t}\r\n});\r\n\r\n\r\nwebix.extend(webix.ui.chart, {\r\n\t/**\r\n\t*   renders a bar chart\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: data - object those need to be displayed\r\n\t*   @param: x - the width of the container\r\n\t*   @param: y - the height of the container\r\n\t*   @param: sIndex - index of drawing chart\r\n\t*/\r\n\t$render_barH:function(ctx, data, point0, point1, sIndex, map){\r\n\t\tvar barOffset, barWidth, cellWidth, color, gradient, i, limits, maxValue, minValue,\r\n\t\t\tinnerGradient, valueFactor, relValue, radius, relativeValues,\r\n\t\t\tstartValue, totalWidth,value,  unit, x0, y0, xax;\r\n\r\n\t\t/*an available width for one bar*/\r\n\t\tcellWidth = (point1.y-point0.y)/data.length;\r\n\r\n\t\tlimits = this._getLimits(\"h\");\r\n\r\n\t\tmaxValue = limits.max;\r\n\t\tminValue = limits.min;\r\n\r\n\t\ttotalWidth = point1.x-point0.x;\r\n\r\n\t\txax = !!this._settings.xAxis;\r\n\r\n\t\t/*draws x and y scales*/\r\n\t\tif(!sIndex )\r\n\t\t\tthis._drawHScales(ctx,data,point0, point1,minValue,maxValue,cellWidth);\r\n\r\n\t\t/*necessary for automatic scale*/\r\n\t\tif(xax ){\r\n\t\t\tmaxValue = parseFloat(this._settings.xAxis.end);\r\n\t\t\tminValue = parseFloat(this._settings.xAxis.start);\r\n\t\t}\r\n\r\n\t\t/*unit calculation (bar_height = value*unit)*/\r\n\t\trelativeValues = this._getRelativeValue(minValue,maxValue);\r\n\t\trelValue = relativeValues[0];\r\n\t\tvalueFactor = relativeValues[1];\r\n\r\n\t\tunit = (relValue?totalWidth/relValue:10);\r\n\t\tif(!xax){\r\n\t\t\t/*defines start value for better representation of small values*/\r\n\t\t\tstartValue = 10;\r\n\t\t\tunit = (relValue?(totalWidth-startValue)/relValue:10);\r\n\t\t}\r\n\r\n\r\n\t\t/*a real bar width */\r\n\t\tbarWidth = parseInt(this._settings.barWidth,10);\r\n\t\tif((barWidth*this._series.length+4)>cellWidth) barWidth = cellWidth/this._series.length-4;\r\n\t\t/*the half of distance between bars*/\r\n\t\tbarOffset = Math.floor((cellWidth - barWidth*this._series.length)/2);\r\n\t\t/*the radius of rounding in the top part of each bar*/\r\n\t\tradius = (typeof this._settings.radius!=\"undefined\"?parseInt(this._settings.radius,10):Math.round(barWidth/5));\r\n\r\n\t\tinnerGradient = false;\r\n\t\tgradient = this._settings.gradient;\r\n\r\n\t\tif (gradient&&typeof(gradient) != \"function\"){\r\n\t\t\tinnerGradient = gradient;\r\n\t\t\tgradient = false;\r\n\t\t} else if (gradient){\r\n\t\t\tgradient = ctx.createLinearGradient(point0.x,point0.y,point1.x,point0.y);\r\n\t\t\tthis._settings.gradient(gradient);\r\n\t\t}\r\n\t\t/*draws a black line if the horizontal scale isn't defined*/\r\n\t\tif(!xax){\r\n\t\t\tthis._drawLine(ctx,point0.x-0.5,point0.y,point0.x-0.5,point1.y,\"#000000\",1); //hardcoded color!\r\n\t\t}\r\n\r\n\r\n\r\n\t\tfor(i=0; i < data.length;i ++){\r\n\r\n\r\n\t\t\tvalue =  parseFloat(this._settings.value(data[i]||0));\r\n\t\t\tif(this._logScaleCalc)\r\n\t\t\t\tvalue = this._log10(value);\r\n\r\n\t\t\tif(value>maxValue) value = maxValue;\r\n\t\t\tvalue -= minValue;\r\n\t\t\tvalue *= valueFactor;\r\n\r\n\t\t\t/*start point (bottom left)*/\r\n\t\t\tx0 = point0.x;\r\n\t\t\ty0 = point0.y+ barOffset + i*cellWidth+(barWidth+1)*sIndex;\r\n\r\n\t\t\tif((value<0&&this._settings.origin==\"auto\")||(this._settings.xAxis&&value===0&&!(this._settings.origin!=\"auto\"&&this._settings.origin>minValue))){\r\n\t\t\t\tthis.canvases[sIndex].renderTextAt(\"middle\", \"right\", x0+10,y0+barWidth/2+barOffset,this._settings.label(data[i]));\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif(value<0&&this._settings.origin!=\"auto\"&&this._settings.origin>minValue){\r\n\t\t\t\tvalue = 0;\r\n\t\t\t}\r\n\r\n\t\t\t/*takes start value into consideration*/\r\n\t\t\tif(!xax) value += startValue/unit;\r\n\t\t\tcolor = gradient||this._settings.color.call(this,data[i]);\r\n\r\n\t\t\t/*drawing the gradient border of a bar*/\r\n\t\t\tif(this._settings.border){\r\n\t\t\t\tthis._drawBarHBorder(ctx,x0,y0,barWidth,minValue,radius,unit,value,color);\r\n\t\t\t}\r\n\r\n\t\t\t/*drawing bar body*/\r\n\t\t\tctx.globalAlpha = this._settings.alpha.call(this,data[i]);\r\n\t\t\tvar points = this._drawBarH(ctx,point1,x0,y0,barWidth,minValue,radius,unit,value,color,gradient,innerGradient);\r\n\t\t\tif (innerGradient){\r\n\t\t\t\tthis._drawBarHGradient(ctx,x0,y0,barWidth,minValue,radius,unit,value,color,innerGradient);\r\n\r\n\t\t\t}\r\n\t\t\tctx.globalAlpha = 1;\r\n\r\n\r\n\t\t\t/*sets a bar label and map area*/\r\n\r\n\t\t\tif(points[3]==y0){\r\n\t\t\t\tthis.canvases[sIndex].renderTextAt(\"middle\", \"left\", points[0]-5,points[3]+Math.floor(barWidth/2),this._settings.label(data[i]));\r\n\t\t\t\tmap.addRect(data[i].id,[points[0]-point0.x,points[3]-point0.y,points[2]-point0.x,points[3]+barWidth-point0.y],sIndex);\r\n\r\n\t\t\t}else{\r\n\t\t\t\tthis.canvases[sIndex].renderTextAt(\"middle\", false, points[2]+5,points[1]+Math.floor(barWidth/2),this._settings.label(data[i]));\r\n\t\t\t\tmap.addRect(data[i].id,[points[0]-point0.x,y0-point0.y,points[2]-point0.x,points[3]-point0.y],sIndex);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t},\r\n\t/**\r\n\t *   sets points for bar and returns the position of the bottom right point\r\n\t *   @param: ctx - canvas object\r\n\t *   @param: x0 - the x position of start point\r\n\t *   @param: y0 - the y position of start point\r\n\t *   @param: barWidth - bar width\r\n\t *   @param: radius - the rounding radius of the top\r\n\t *   @param: unit - the value defines the correspondence between item value and bar height\r\n\t *   @param: value - item value\r\n\t *   @param: offset - the offset from expected bar edge (necessary for drawing border)\r\n\t */\r\n\t_setBarHPoints:function(ctx,x0,y0,barWidth,radius,unit,value,offset,skipLeft){\r\n\t\t/*correction for displaing small values (when rounding radius is bigger than bar height)*/\r\n\t\tvar angle_corr = 0;\r\n\r\n\t\tif(radius>unit*value){\r\n\t\t\tvar sinA = (radius-unit*value)/radius;\r\n\t\t\tangle_corr = -Math.asin(sinA)+Math.PI/2;\r\n\t\t}\r\n\t\t/*start*/\r\n\t\tctx.moveTo(x0,y0+offset);\r\n\t\t/*start of left rounding*/\r\n\t\tvar x1 = x0 + unit*value - radius - (radius?0:offset);\r\n\t\tx1 = Math.max(x0,x1);\r\n\t\tif(radius<unit*value)\r\n\t\t\tctx.lineTo(x1,y0+offset);\r\n\t\t/*left rounding*/\r\n\t\tvar y2 = y0 + radius;\r\n\t\tif (radius&&radius>0)\r\n\t\t\tctx.arc(x1,y2,radius-offset,-Math.PI/2+angle_corr,0,false);\r\n\t\t/*start of right rounding*/\r\n\t\tvar y3 = y0 + barWidth - radius - (radius?0:offset);\r\n\t\tvar x3 = x1 + radius - (radius?offset:0);\r\n\t\tctx.lineTo(x3,y3);\r\n\t\t/*right rounding*/\r\n\t\tif (radius&&radius>0)\r\n\t\t\tctx.arc(x1,y3,radius-offset,0,Math.PI/2-angle_corr,false);\r\n\t\t/*bottom right point*/\r\n\t\tvar y5 = y0 + barWidth-offset;\r\n\t\tctx.lineTo(x0,y5);\r\n\t\t/*line to the start point*/\r\n\t\tif(!skipLeft){\r\n\t\t\tctx.lineTo(x0,y0+offset);\r\n\t\t}\r\n\t\t//\tctx.lineTo(x0,0); //IE fix!\r\n\t\treturn [x3,y5];\r\n\t},\r\n\t_drawHScales:function(ctx,data,point0,point1,start,end,cellWidth){\r\n\t\tvar x = 0;\r\n\t\tif(this._settings.xAxis){\r\n\t\t\tif(!this.canvases[\"x\"])\r\n\t\t\t\tthis.canvases[\"x\"] =  this._createCanvas(\"axis_x\");\r\n\t\t\tx = this._drawHXAxis(this.canvases[\"x\"].getCanvas(),data,point0,point1,start,end);\r\n\t\t}\r\n\t\tif (this._settings.yAxis){\r\n\t\t\tif(!this.canvases[\"y\"])\r\n\t\t\t\tthis.canvases[\"y\"] =  this._createCanvas(\"axis_y\");\r\n\t\t\tthis._drawHYAxis(this.canvases[\"y\"].getCanvas(),data,point0,point1,cellWidth,x);\r\n\t\t}\r\n\t},\r\n\t_drawHYAxis:function(ctx,data,point0,point1,cellWidth,yAxisX){\r\n\t\tif (!this._settings.yAxis) return;\r\n\t\tvar unitPos;\r\n\t\tvar x0 = parseInt((yAxisX?yAxisX:point0.x),10)-0.5;\r\n\t\tvar y0 = point1.y+0.5;\r\n\t\tvar y1 = point0.y;\r\n\t\tthis._drawLine(ctx,x0,y0,x0,y1,this._settings.yAxis.color,1);\r\n\r\n\r\n\r\n\t\tfor(var i=0; i < data.length;i ++){\r\n\r\n\t\t\t/*scale labels*/\r\n\t\t\tvar right = ((this._settings.origin!=\"auto\")&&(this._settings.type==\"barH\")&&(parseFloat(this._settings.value(data[i]))<this._settings.origin));\r\n\t\t\tunitPos = y1+cellWidth/2+i*cellWidth;\r\n\t\t\tthis.canvases[\"y\"].renderTextAt(\"middle\",(right?false:\"left\"),(right?x0+5:x0-5),unitPos,\r\n\t\t\t\tthis._settings.yAxis.template(data[i]),\r\n\t\t\t\t\"webix_axis_item_y\",(right?0:x0-10)\r\n\t\t\t);\r\n\t\t\tif(this._settings.yAxis.lines.call(this,data[i]))\r\n\t\t\t\tthis._drawLine(ctx,point0.x,unitPos,point1.x,unitPos,this._settings.yAxis.lineColor.call(this,data[i]),1);\r\n\t\t}\r\n\r\n\t\tif(this._settings.yAxis.lines.call(this,{}))\r\n\t\t\tthis._drawLine(ctx,point0.x+0.5,y1+0.5,point1.x,y1+0.5,this._settings.yAxis.lineColor.call(this,{}),1);\r\n\t\tthis._setYAxisTitle(point0,point1);\r\n\t},\r\n\t_drawHXAxis:function(ctx,data,point0,point1,start,end){\r\n\t\tvar step;\r\n\t\tvar scaleParam= {};\r\n\t\tvar axis = this._settings.xAxis;\r\n\t\tif (!axis) return;\r\n\r\n\t\tvar y0 = point1.y+0.5;\r\n\t\tvar x0 = point0.x-0.5;\r\n\t\tvar x1 = point1.x-0.5;\r\n\t\tvar yAxisStart = point0.x;\r\n\t\tthis._drawLine(ctx,x0,y0,x1,y0,axis.color,1);\r\n\r\n\t\tif(axis.step)\r\n\t\t\tstep = parseFloat(axis.step);\r\n\r\n\t\tif(typeof this._configXAxis.step ==\"undefined\"||typeof this._configXAxis.start==\"undefined\"||typeof this._configXAxis.end ==\"undefined\"){\r\n\t\t\tscaleParam = this._calculateScale(start,end);\r\n\t\t\tstart = scaleParam.start;\r\n\t\t\tend = scaleParam.end;\r\n\t\t\tstep = scaleParam.step;\r\n\t\t\tthis._settings.xAxis.end = end;\r\n\t\t\tthis._settings.xAxis.start = start;\r\n\t\t\tthis._settings.xAxis.step = step;\r\n\t\t}\r\n\r\n\t\tif(step===0) return;\r\n\t\tvar stepHeight = (x1-x0)*step/(end-start);\r\n\t\tvar c = 0;\r\n\t\tfor(var i = start; i<=end; i += step){\r\n\t\t\tvar value = this._logScaleCalc?Math.pow(10,i):i;\r\n\t\t\tif(scaleParam.fixNum)  value = parseFloat(value).toFixed(scaleParam.fixNum);\r\n\t\t\tvar xi = Math.floor(x0+c*stepHeight)+ 0.5;/*canvas line fix*/\r\n\r\n\t\t\tif(!(i==start&&this._settings.origin==\"auto\") &&axis.lines.call(this,i))\r\n\t\t\t\tthis._drawLine(ctx,xi,y0,xi,point0.y,this._settings.xAxis.lineColor.call(this,i),1);\r\n\t\t\tif(i == this._settings.origin) yAxisStart = xi+1;\r\n\t\t\t/*correction for JS float calculation*/\r\n\t\t\tif(step<1 && !this._logScaleCalc){\r\n\t\t\t\tvar power = Math.min(Math.floor(this._log10(step)),(start<=0?0:Math.floor(this._log10(start))));\r\n\t\t\t\tvar corr = Math.pow(10,-power);\r\n\t\t\t\tvalue = Math.round(value*corr)/corr;\r\n\t\t\t\ti = value;\r\n\t\t\t}\r\n\t\t\tthis.canvases[\"x\"].renderTextAt(false, true,xi,y0+2,axis.template(value.toString()),\"webix_axis_item_x\");\r\n\t\t\tc++;\r\n\t\t}\r\n\t\tthis.canvases[\"x\"].renderTextAt(true, false, x0,point1.y+this._settings.padding.bottom-3,\r\n\t\t\tthis._settings.xAxis.title,\r\n\t\t\t\"webix_axis_title_x\",\r\n\t\t\tpoint1.x - point0.x\r\n\t\t);\r\n\t\t/*the right border in lines in scale are enabled*/\r\n\t\tif (!axis.lines.call(this,{})){\r\n\t\t\tthis._drawLine(ctx,x0,point0.y-0.5,x1,point0.y-0.5,this._settings.xAxis.color,0.2);\r\n\t\t}\r\n\t\treturn yAxisStart;\r\n\t},\r\n\t_correctBarHParams:function(ctx,x,y,value,unit,barWidth,minValue){\r\n\t\tvar yax = this._settings.yAxis;\r\n\t\tvar axisStart = x;\r\n\t\tif(!!yax&&this._settings.origin!=\"auto\" && (this._settings.origin>minValue)){\r\n\t\t\tx += (this._settings.origin-minValue)*unit;\r\n\t\t\taxisStart = x;\r\n\t\t\tvalue = value-(this._settings.origin-minValue);\r\n\t\t\tif(value < 0){\r\n\t\t\t\tvalue *= (-1);\r\n\t\t\t\tctx.translate(x,y+barWidth);\r\n\t\t\t\tctx.rotate(Math.PI);\r\n\t\t\t\tx = 0.5;\r\n\t\t\t\ty = 0;\r\n\t\t\t}\r\n\t\t\tx += 0.5;\r\n\t\t}\r\n\r\n\t\treturn {value:value,x0:x,y0:y,start:axisStart};\r\n\t},\r\n\t_drawBarH:function(ctx,point1,x0,y0,barWidth,minValue,radius,unit,value,color,gradient,inner_gradient){\r\n\t\tctx.save();\r\n\t\tvar p = this._correctBarHParams(ctx,x0,y0,value,unit,barWidth,minValue);\r\n\t\tctx.fillStyle = color;\r\n\t\tctx.beginPath();\r\n\t\tvar points = this._setBarHPoints(ctx,p.x0,p.y0,barWidth,radius,unit,p.value,(this._settings.border?1:0));\r\n\t\tif (gradient&&!inner_gradient) ctx.lineTo(point1.x,p.y0+(this._settings.border?1:0)); //fix gradient sphreading\r\n\t\tctx.fill();\r\n\t\tctx.restore();\r\n\t\tvar y1 = p.y0;\r\n\t\tvar y2 = (p.y0!=y0?y0:points[1]);\r\n\t\tvar x1 = (p.y0!=y0?(p.start-points[0]):p.start);\r\n\t\tvar x2 = (p.y0!=y0?p.start:points[0]);\r\n\r\n\t\treturn [x1,y1,x2,y2];\r\n\t},\r\n\t_drawBarHBorder:function(ctx,x0,y0,barWidth,minValue,radius,unit,value,color){\r\n\t\tctx.save();\r\n\t\tvar p = this._correctBarHParams(ctx,x0,y0,value,unit,barWidth,minValue);\r\n\r\n\t\tctx.beginPath();\r\n\t\tthis._setBorderStyles(ctx,color);\r\n\t\tctx.globalAlpha =0.9;\r\n\t\tthis._setBarHPoints(ctx,p.x0,p.y0,barWidth,radius,unit,p.value,ctx.lineWidth/2,1);\r\n\r\n\t\tctx.stroke();\r\n\t\tctx.restore();\r\n\t},\r\n\t_drawBarHGradient:function(ctx,x0,y0,barWidth,minValue,radius,unit,value,color,inner_gradient){\r\n\t\tctx.save();\r\n\t\t//y0 -= (webix.env.isIE?0:0.5);\r\n\t\tvar p = this._correctBarHParams(ctx,x0,y0,value,unit,barWidth,minValue);\r\n\t\tvar gradParam = this._setBarGradient(ctx,p.x0,p.y0+barWidth,p.x0+unit*p.value,p.y0,inner_gradient,color,\"x\");\r\n\t\tctx.fillStyle = gradParam.gradient;\r\n\t\tctx.beginPath();\r\n\t\tthis._setBarHPoints(ctx,p.x0,p.y0+gradParam.offset,barWidth-gradParam.offset*2,radius,unit,p.value,gradParam.offset);\r\n\t\tctx.fill();\r\n\t\tctx.globalAlpha = 1;\r\n\t\tctx.restore();\r\n\t}\r\n});\r\n\t\t\r\nwebix.extend(webix.ui.chart, {\r\n\t/**\r\n\t*   renders a bar chart\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: data - object those need to be displayed\r\n\t*   @param: x - the width of the container\r\n\t*   @param: y - the height of the container\r\n\t*   @param: sIndex - index of drawing chart\r\n\t*/\r\n\t$render_stackedBar:function(ctx, data, point0, point1, sIndex, map){\r\n\t\tvar maxValue,minValue, xAxisY, x0, y0;\r\n\t\t/*necessary if maxValue - minValue < 0*/\r\n\t\tvar valueFactor;\r\n\t\t/*maxValue - minValue*/\r\n\t\tvar relValue;\r\n\t\tvar config = this._settings;\r\n\t\tvar total_height = point1.y-point0.y;\r\n\r\n\t\tvar yax = !!config.yAxis;\r\n\t\tvar xax = !!config.xAxis;\r\n\r\n\t\tvar limits = this._getStackedLimits(data);\r\n\r\n\t\tvar origin = (config.origin === 0);\r\n\r\n\t\tmaxValue = limits.max;\r\n\t\tminValue = limits.min;\r\n\r\n\t\t/*an available width for one bar*/\r\n\t\tvar cellWidth = Math.floor((point1.x-point0.x)/data.length);\r\n\r\n\t\t/*draws x and y scales*/\r\n\t\tif(!sIndex){\r\n\t\t\txAxisY = this._drawScales(data,point0, point1,minValue,maxValue,cellWidth);\r\n\t\t}\r\n\r\n\t\t/*necessary for automatic scale*/\r\n\t\tif(yax){\r\n\t\t\tmaxValue = parseFloat(config.yAxis.end);\r\n\t\t\tminValue = parseFloat(config.yAxis.start);\r\n\t\t}\r\n\r\n\t\t/*unit calculation (bar_height = value*unit)*/\r\n\t\tvar relativeValues = this._getRelativeValue(minValue,maxValue);\r\n\t\trelValue = relativeValues[0];\r\n\t\tvalueFactor = relativeValues[1];\r\n\r\n\t\tvar unit = (relValue?total_height/relValue:10);\r\n\r\n\t\t/*a real bar width */\r\n\t\tvar barWidth = parseInt(config.barWidth,10);\r\n\t\tif(barWidth+4 > cellWidth) barWidth = cellWidth-4;\r\n\t\t/*the half of distance between bars*/\r\n\t\tvar barOffset = Math.floor((cellWidth - barWidth)/2);\r\n\r\n\r\n\t\tvar inner_gradient = (config.gradient?config.gradient:false);\r\n\r\n\t\t/*draws a black line if the horizontal scale isn't defined*/\r\n\t\tif(!xax){\r\n\t\t\t//scaleY = y-bottomPadding;\r\n\t\t\tthis._drawLine(ctx,point0.x,point1.y+0.5,point1.x,point1.y+0.5,\"#000000\",1); //hardcoded color!\r\n\t\t}\r\n\r\n\t\tfor(var i=0; i < data.length;i ++){\r\n\t\t\tvar value =  parseFloat(config.value(data[i]||0));\r\n\r\n\t\t\tif(this._logScaleCalc)\r\n\t\t\t\tvalue = this._log10(value);\r\n\r\n\t\t\t/*start point (bottom left)*/\r\n\t\t\tx0 = point0.x + barOffset + i*cellWidth;\r\n\r\n\r\n\t\t\tvar negValue = origin&&value<0;\r\n\t\t\tif(!sIndex){\r\n\t\t\t\ty0 = xAxisY-1;\r\n\t\t\t\tdata[i].$startY = y0;\r\n\t\t\t\tif(origin){\r\n\t\t\t\t\tif(negValue)\r\n\t\t\t\t\t\ty0 = xAxisY+1;\r\n\t\t\t\t\tdata[i].$startYN = xAxisY+1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\ty0 = negValue?data[i].$startYN:data[i].$startY;\r\n\t\t\t}\r\n\r\n\t\t\tif(!value)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t/*adjusts the first tab to the scale*/\r\n\t\t\tif(!sIndex && !origin)\r\n\t\t\t\tvalue -= minValue;\r\n\r\n\t\t\tvalue *= valueFactor;\r\n\r\n\t\t\t/*the max height limit*/\r\n\t\t\tif(y0 < (point0.y+1)) continue;\r\n\r\n\t\t\tif(config.yAxis&&value===0){\r\n\t\t\t\tthis.canvases[\"y\"].renderTextAt(true, true, x0+Math.floor(barWidth/2),y0,this._settings.label(data[i]));\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tvar color = this._settings.color.call(this,data[i]);\r\n\r\n\t\t\tvar firstSector =  Math.abs(y0-(origin?(point1.y+minValue*unit):point1.y))<3;\r\n\r\n\t\t\t/*drawing bar body*/\r\n\t\t\tctx.globalAlpha = config.alpha.call(this,data[i]);\r\n\t\t\tctx.fillStyle = ctx.strokeStyle = config.color.call(this,data[i]);\r\n\t\t\tctx.beginPath();\r\n\r\n\t\t\tvar y1 = y0 - unit*value + (firstSector?(negValue?-1:1):0);\r\n\r\n\t\t\tvar points = this._setStakedBarPoints(ctx,x0-(config.border?0.5:0),y0,barWidth+(config.border?0.5:0),y1, 0,point0.y);\r\n\t\t\tctx.fill();\r\n\t\t\tctx.stroke();\r\n\r\n\t\t\t/*gradient*/\r\n\t\t\tif (inner_gradient){\r\n\t\t\t\tctx.save();\r\n\t\t\t\tvar gradParam = this._setBarGradient(ctx,x0,y0,x0+barWidth,points[1],inner_gradient,color,\"y\");\r\n\t\t\t\tctx.fillStyle = gradParam.gradient;\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tpoints = this._setStakedBarPoints(ctx,x0+gradParam.offset,y0,barWidth-gradParam.offset*2,y1,(config.border?1:0),point0.y);\r\n\t\t\t\tctx.fill();\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t\t/*drawing the gradient border of a bar*/\r\n\t\t\tif(config.border){\r\n\t\t\t\tctx.save();\r\n\t\t\t\tif(typeof config.border == \"string\")\r\n\t\t\t\t\tctx.strokeStyle = config.border;\r\n\t\t\t\telse\r\n\t\t\t\t\tthis._setBorderStyles(ctx,color);\r\n\t\t\t\tctx.beginPath();\r\n\r\n\t\t\t\tthis._setStakedBarPoints(ctx,x0-0.5,parseInt(y0,10)+0.5,barWidth+1,parseInt(y1,10)+0.5,0,point0.y, firstSector);\r\n\t\t\t\tctx.stroke();\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t\tctx.globalAlpha = 1;\r\n\r\n\t\t\t/*sets a bar label*/\r\n\t\t\tthis.canvases[sIndex].renderTextAt(false, true, x0+Math.floor(barWidth/2),(points[1]+(y0-points[1])/2)-7,this._settings.label(data[i]));\r\n\t\t\t/*defines a map area for a bar*/\r\n\t\t\tmap.addRect(data[i].id,[x0-point0.x,points[1]-point0.y,points[0]-point0.x,data[i][negValue?\"$startYN\":\"$startY\"]-point0.y],sIndex);\r\n\r\n\t\t\t/*the start position for the next series*/\r\n\r\n\t\t\tdata[i][negValue?\"$startYN\":\"$startY\"] = points[1];\r\n\r\n\t\t}\r\n\t},\r\n\t/**\r\n\t *   sets points for bar and returns the position of the bottom right point\r\n\t *   @param: ctx - canvas object\r\n\t *   @param: x0 - the x position of start point\r\n\t *   @param: y0 - the y position of start point\r\n\t *   @param: barWidth - bar width\r\n\t *   @param: radius - the rounding radius of the top\r\n\t *   @param: unit - the value defines the correspondence between item value and bar height\r\n\t *   @param: value - item value\r\n\t *   @param: offset - the offset from expected bar edge (necessary for drawing border)\r\n\t *   @param: minY - the minimum y position for the bars ()\r\n\t */\r\n\t_setStakedBarPoints:function(ctx,x0,y0,barWidth,y1,offset,minY,skipBottom){\r\n\t\t/*start*/\r\n\t\tctx.moveTo(x0,y0);\r\n\t\t/*maximum height limit*/\r\n\r\n\t\tif(y1<minY)\r\n\t\t\ty1 = minY;\r\n\t\tctx.lineTo(x0,y1);\r\n\t\tvar x3 = x0 + barWidth;\r\n\t\tvar y3 = y1;\r\n\t\tctx.lineTo(x3,y3);\r\n\t\t/*right rounding*/\r\n\t\t/*bottom right point*/\r\n\t\tvar x5 = x0 + barWidth;\r\n\t\tctx.lineTo(x5,y0);\r\n\t\t/*line to the start point*/\r\n\t\tif(!skipBottom){\r\n\t\t\tctx.lineTo(x0,y0);\r\n\t\t}\r\n\t\t//\tctx.lineTo(x0,0); //IE fix!\r\n\t\treturn [x5,y3];\r\n\t}\r\n});\t\r\n\r\nwebix.extend(webix.ui.chart, {\r\n/**\r\n\t*   renders a bar chart\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: data - object those need to be displayed\r\n\t*   @param: x - the width of the container\r\n\t*   @param: y - the height of the container\r\n\t*   @param: sIndex - index of drawing chart\r\n\t*   @param: map - map object\r\n\t*/\r\n\t$render_stackedBarH:function(ctx, data, point0, point1, sIndex, map){\r\n\t\tvar maxValue,minValue;\r\n\t\t/*necessary if maxValue - minValue < 0*/\r\n\t\tvar valueFactor;\r\n\t\t/*maxValue - minValue*/\r\n\t\tvar relValue;\r\n\r\n\t\tvar total_width = point1.x-point0.x;\r\n\r\n\t\tvar yax = !!this._settings.yAxis;\r\n\r\n\t\tvar limits = this._getStackedLimits(data);\r\n\t\tmaxValue = limits.max;\r\n\t\tminValue = limits.min;\r\n\r\n\t\t/*an available width for one bar*/\r\n\t\tvar cellWidth = Math.floor((point1.y-point0.y)/data.length);\r\n\r\n\t\t/*draws x and y scales*/\r\n\t\tif(!sIndex)\r\n\t\t\tthis._drawHScales(ctx,data,point0, point1,minValue,maxValue,cellWidth);\r\n\r\n\t\t/*necessary for automatic scale*/\r\n\t\tif(yax){\r\n\t\t\tmaxValue = parseFloat(this._settings.xAxis.end);\r\n\t\t\tminValue = parseFloat(this._settings.xAxis.start);\r\n\t\t}\r\n\r\n\t\t/*unit calculation (bar_height = value*unit)*/\r\n\t\tvar relativeValues = this._getRelativeValue(minValue,maxValue);\r\n\t\trelValue = relativeValues[0];\r\n\t\tvalueFactor = relativeValues[1];\r\n\r\n\t\tvar unit = (relValue?total_width/relValue:10);\r\n\t\tvar startValue = 0;\r\n\t\tif(!yax){\r\n\t\t\t/*defines start value for better representation of small values*/\r\n\t\t\tstartValue = 10;\r\n\t\t\tunit = (relValue?(total_width-startValue)/relValue:10);\r\n\t\t}\r\n\r\n\t\t/*a real bar width */\r\n\t\tvar barWidth = parseInt(this._settings.barWidth,10);\r\n\t\tif((barWidth+4)>cellWidth) barWidth = cellWidth-4;\r\n\t\t/*the half of distance between bars*/\r\n\t\tvar barOffset = (cellWidth - barWidth)/2;\r\n\t\t/*the radius of rounding in the top part of each bar*/\r\n\t\tvar radius = 0;\r\n\r\n\t\tvar inner_gradient = false;\r\n\t\tvar gradient = this._settings.gradient;\r\n\t\tif (gradient){\r\n\t\t\tinner_gradient = true;\r\n\t\t}\r\n\t\t/*draws a black line if the horizontal scale isn't defined*/\r\n\t\tif(!yax){\r\n\t\t\tthis._drawLine(ctx,point0.x-0.5,point0.y,point0.x-0.5,point1.y,\"#000000\",1); //hardcoded color!\r\n\t\t}\r\n\r\n\t\tvar seriesNumber = 0;\r\n\t\tvar seriesIndex = 0;\r\n\t\tfor(i=0; i<this._series.length; i++ ){\r\n\t\t\tif(i == sIndex){\r\n\t\t\t\tseriesIndex  = seriesNumber;\r\n\t\t\t}\r\n\t\t\tif(this._series[i].type == \"stackedBarH\")\r\n\t\t\t\tseriesNumber++;\r\n\t\t}\r\n\r\n\t\tfor(var i=0; i < data.length;i ++){\r\n\r\n\t\t\tif(!seriesIndex)\r\n\t\t\t\tdata[i].$startX = point0.x;\r\n\r\n\t\t\tvar value =  parseFloat(this._settings.value(data[i]||0));\r\n\t\t\tif(value>maxValue) value = maxValue;\r\n\t\t\tvalue -= minValue;\r\n\t\t\tvalue *= valueFactor;\r\n\r\n\t\t\t/*start point (bottom left)*/\r\n\t\t\tvar x0 = point0.x;\r\n\t\t\tvar y0 = point0.y+ barOffset + i*cellWidth;\r\n\r\n\t\t\tif(!seriesIndex)\r\n\t\t\t\tdata[i].$startX = x0;\r\n\t\t\telse\r\n\t\t\t\tx0 = data[i].$startX;\r\n\r\n\t\t\tif(value<0||(this._settings.yAxis&&value===0)){\r\n\t\t\t\tthis.canvases[\"y\"].renderTextAt(\"middle\", true, x0+10,y0+barWidth/2,this._settings.label(data[i]));\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t/*takes start value into consideration*/\r\n\t\t\tif(!yax) value += startValue/unit;\r\n\t\t\tvar color = this._settings.color.call(this,data[i]);\r\n\r\n\r\n\t\t\t/*drawing bar body*/\r\n\t\t\tctx.globalAlpha = this._settings.alpha.call(this,data[i]);\r\n\t\t\tctx.fillStyle = this._settings.color.call(this,data[i]);\r\n\t\t\tctx.beginPath();\r\n\t\t\tvar points = this._setBarHPoints(ctx,x0,y0,barWidth,radius,unit,value,0);\r\n\t\t\tif (gradient&&!inner_gradient) ctx.lineTo(point0.x+total_width,y0+(this._settings.border?1:0)); //fix gradient sphreading\r\n\t\t\tctx.fill();\r\n\r\n\t\t\tif (inner_gradient){\r\n\t\t\t\tvar gradParam = this._setBarGradient(ctx,x0,y0+barWidth,x0,y0,inner_gradient,color,\"x\");\r\n\t\t\t\tctx.fillStyle = gradParam.gradient;\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tpoints = this._setBarHPoints(ctx,x0,y0, barWidth,radius,unit,value,0);\r\n\t\t\t\tctx.fill();\r\n\t\t\t}\r\n\t\t\t/*drawing the gradient border of a bar*/\r\n\t\t\tif(this._settings.border){\r\n\t\t\t\tthis._drawBarHBorder(ctx,x0,y0,barWidth,minValue,radius,unit,value,color);\r\n\t\t\t}\r\n\r\n\t\t\tctx.globalAlpha = 1;\r\n\r\n\t\t\t/*sets a bar label*/\r\n\t\t\tthis.canvases[sIndex].renderTextAt(\"middle\",true,data[i].$startX+(points[0]-data[i].$startX)/2-1, y0+(points[1]-y0)/2, this._settings.label(data[i]));\r\n\t\t\t/*defines a map area for a bar*/\r\n\t\t\tmap.addRect(data[i].id,[data[i].$startX-point0.x,y0-point0.y,points[0]-point0.x,points[1]-point0.y],sIndex);\r\n\t\t\t/*the start position for the next series*/\r\n\t\t\tdata[i].$startX = points[0];\r\n\t\t}\r\n\t}\r\n});\r\nwebix.extend(webix.ui.chart, {\r\n\t/**\r\n\t*   renders a spline chart\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: data - object those need to be displayed\r\n\t*   @param: width - the width of the container\r\n\t*   @param: height - the height of the container\r\n\t*   @param: sIndex - index of drawing chart\r\n\t*/\r\n\t$render_spline:function(ctx, data, point0, point1, sIndex, map){\r\n\t\tvar config,i,items,j,params,sparam,x,x0,x1,x2,y,y1,y2;\r\n\t\tparams = this._calculateLineParams(ctx,data,point0,point1,sIndex);\r\n\t\tconfig = this._settings;\r\n\t\tthis._mapStart = point0;\r\n\r\n\t\t/*array of all points*/\r\n\t\titems = [];\r\n\r\n\t\t/*drawing all items*/\r\n\t\tif (data.length) {\r\n\r\n\t\t\t/*getting all points*/\r\n\t\t\tx0 = (config.offset?point0.x+params.cellWidth*0.5:point0.x);\r\n\t\t\tfor(i=0; i < data.length;i ++){\r\n\t\t\t\ty = this._getPointY(data[i],point0,point1,params);\r\n\t\t\t\tif(y){\r\n\t\t\t\t\tx = ((!i)?x0:params.cellWidth*i - 0.5 + x0);\r\n\t\t\t\t\titems.push({x:x,y:y,index:i});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tsparam = this._getSplineParameters(items);\r\n\r\n\t\t\tfor(i =0; i< items.length; i++){\r\n\t\t\t\tx1 = items[i].x;\r\n\t\t\t\ty1 = items[i].y;\r\n\t\t\t\tif(i<items.length-1){\r\n\t\t\t\t\tx2 = items[i+1].x;\r\n\t\t\t\t\ty2 = items[i+1].y;\r\n\t\t\t\t\tfor(j = x1; j < x2; j++){\r\n\t\t\t\t\t\tvar sY1 = this._getSplineYPoint(j,x1,i,sparam.a,sparam.b,sparam.c,sparam.d);\r\n\t\t\t\t\t\tif(sY1<point0.y)\r\n\t\t\t\t\t\t\tsY1=point0.y;\r\n\t\t\t\t\t\tif(sY1>point1.y)\r\n\t\t\t\t\t\t\tsY1=point1.y;\r\n\t\t\t\t\t\tvar sY2 = this._getSplineYPoint(j+1,x1,i,sparam.a,sparam.b,sparam.c,sparam.d);\r\n\t\t\t\t\t\tif(sY2<point0.y)\r\n\t\t\t\t\t\t\tsY2=point0.y;\r\n\t\t\t\t\t\tif(sY2>point1.y)\r\n\t\t\t\t\t\t\tsY2=point1.y;\r\n\t\t\t\t\t\tthis._drawLine(ctx,j,sY1,j+1,sY2,config.line.color(data[i]),config.line.width);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._drawLine(ctx,x2-1,this._getSplineYPoint(j,x1,i,sparam.a,sparam.b,sparam.c,sparam.d),x2,y2,config.line.color(data[i]),config.line.width);\r\n\t\t\t\t}\r\n\t\t\t\tthis._drawItem(ctx,x1,y1,data[items[i].index],config.label(data[items[i].index]), sIndex, map);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t/*gets spline parameter*/\r\n\t_getSplineParameters:function(points){\r\n\t\tvar a ,b, c, d, i, s, u, v,\r\n\t\t\th = [],\r\n\t\t\tm = [],\r\n\t\t\tn = points.length;\r\n\r\n\t\tfor(i =0; i<n-1;i++){\r\n\t\t\th[i] = points[i+1].x - points[i].x;\r\n\t\t\tm[i] = (points[i+1].y - points[i].y)/h[i];\r\n\t\t}\r\n\t\tu = [];\tv = [];\r\n\t\tu[0] = 0;\r\n\t\tu[1] = 2*(h[0] + h[1]);\r\n\t\tv[0] = 0;\r\n\t\tv[1] = 6*(m[1] - m[0]);\r\n\t\tfor(i =2; i < n-1; i++){\r\n\t\t\tu[i] = 2*(h[i-1]+h[i]) - h[i-1]*h[i-1]/u[i-1];\r\n\t\t\tv[i] = 6*(m[i]-m[i-1]) - h[i-1]*v[i-1]/u[i-1];\r\n\t\t}\r\n\r\n\t\ts = [];\r\n\t\ts[n-1] = s[0] = 0;\r\n\t\tfor(i = n -2; i>=1; i--)\r\n\t\t\ts[i] = (v[i] - h[i]*s[i+1])/u[i];\r\n\r\n\t\ta = []; b = []; c = [];\td = [];\r\n\r\n\t\tfor(i =0; i<n-1;i++){\r\n\t\t\ta[i] = points[i].y;\r\n\t\t\tb[i] = - h[i]*s[i+1]/6 - h[i]*s[i]/3 + (points[i+1].y-points[i].y)/h[i];\r\n\t\t\tc[i] = s[i]/2;\r\n\t\t\td[i] = (s[i+1] - s[i])/(6*h[i]);\r\n\t\t}\r\n\t\treturn {a:a,b:b,c:c,d:d};\r\n\t},\r\n\t/*returns the y position of the spline point */\r\n\t_getSplineYPoint:function(x,xi,i,a,b,c,d){\r\n\t\treturn a[i] + (x - xi)*(b[i] + (x-xi)*(c[i]+(x-xi)*d[i]));\r\n\t}\r\n});\t\r\nwebix.extend(webix.ui.chart,{\r\n\t/**\r\n\t*   renders an area chart\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: data - object those need to be displayed\r\n\t*   @param: width - the width of the container\r\n\t*   @param: height - the height of the container\r\n\t*   @param: sIndex - index of drawing chart\r\n\t*/\r\n\t$render_area:function(ctx, data, point0, point1, sIndex, map){\r\n\r\n\t\tvar align, config, i, mapRect, obj, params, path,\r\n\t\t\tres1, res2, x0, x1, y1, x2, y2, y0;\r\n\r\n\t\tparams = this._calculateLineParams(ctx,data,point0,point1,sIndex);\r\n\t\tconfig = this._settings;\r\n\r\n\t\t//the size of map area\r\n\t\tmapRect = (config.eventRadius||Math.floor(params.cellWidth/2));\r\n\r\n\t\tif (data.length) {\r\n\r\n\t\t\t// area points\r\n\t\t\tpath = [];\r\n\r\n\t\t\t//the x position of the first item\r\n\t\t\tx0 = (!config.offset?point0.x:point0.x+params.cellWidth*0.5);\r\n\r\n\t\t\t/*\r\n\t\t\t iterates over all data items:\r\n\t\t\t calculates [x,y] for area path, adds rect to chart map and renders labels\r\n\t\t\t */\r\n\t\t\tfor(i=0; i < data.length;i ++){\r\n\t\t\t\tobj = data[i];\r\n\r\n\t\t\t\tres2 = this._getPointY(obj,point0,point1,params);\r\n\t\t\t\tx2 = x0 + params.cellWidth*i ;\r\n\t\t\t\tif(res2){\r\n\t\t\t\t\ty2 = (typeof res2 == \"object\"?res2.y0:res2);\r\n\t\t\t\t\tif(i && this._settings.fixOverflow){\r\n\t\t\t\t\t\tres1 = this._getPointY(data[i-1],point0,point1,params);\r\n\t\t\t\t\t\tif(res1.out && res1.out == res2.out){\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tx1 = params.cellWidth*(i-1) - 0.5 + x0;\r\n\t\t\t\t\t\ty1 = (typeof res1 == \"object\"?res1.y0:res1);\r\n\t\t\t\t\t\tif(res1.out){\r\n\t\t\t\t\t\t\ty0 = (res1.out == \"min\"?point1.y:point0.y);\r\n\t\t\t\t\t\t\tpath.push([this._calcOverflowX(x1,x2,y1,y2,y0),y0]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(res2.out){\r\n\t\t\t\t\t\t\ty0 = (res2.out == \"min\"?point1.y:point0.y);\r\n\t\t\t\t\t\t\tpath.push([this._calcOverflowX(x1,x2,y1,y2,y0),y0]);\r\n\t\t\t\t\t\t\tif(i == (data.length-1) && y0 == point0.y)\r\n\t\t\t\t\t\t\t\tpath.push([x2,point0.y]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!res2.out){\r\n\t\t\t\t\t\tpath.push([x2,y2]);\r\n\t\t\t\t\t\t//map\r\n\t\t\t\t\t\tmap.addRect(obj.id,[x2-mapRect-point0.x,y2-mapRect-point0.y,x2+mapRect-point0.x,y2+mapRect-point0.y],sIndex);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//labels\r\n\t\t\t\t\tif(!config.yAxis){\r\n\t\t\t\t\t\talign = (!config.offset&&(i == data.length-1)?\"left\":\"center\");\r\n\t\t\t\t\t\tthis.canvases[sIndex].renderTextAt(false, align, x2, y2-config.labelOffset,config.label(obj));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tif(path.length){\r\n\t\t\t\tpath.push([x2,point1.y]);\r\n\t\t\t\tpath.push([path[0][0],point1.y]);\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\t//filling area\r\n\t\t\tctx.globalAlpha = this._settings.alpha.call(this,data[0]);\r\n\t\t\tctx.fillStyle = this._settings.color.call(this,data[0]);\r\n\t\t\tctx.beginPath();\r\n\t\t\tthis._path(ctx,path);\r\n\t\t\tctx.fill();\r\n\r\n\t\t\t//border\r\n\t\t\tif(config.border){\r\n\t\t\t\tctx.lineWidth = config.borderWidth||1;\r\n\t\t\t\tif(config.borderColor)\r\n\t\t\t\t\tctx.strokeStyle =  config.borderColor.call(this,data[0]);\r\n\t\t\t\telse\r\n\t\t\t\t\tthis._setBorderStyles(ctx,ctx.fillStyle);\r\n\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tthis._path(ctx,path);\r\n\t\t\t\tctx.stroke();\r\n\r\n\t\t\t}\r\n\t\t\tctx.lineWidth = 1;\r\n\t\t\tctx.globalAlpha =1;\r\n\r\n\t\t}\r\n\t},\r\n\t\r\n\t/**\r\n\t*   renders an area chart\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: data - object those need to be displayed\r\n\t*   @param: width - the width of the container\r\n\t*   @param: height - the height of the container\r\n\t*   @param: sIndex - index of drawing chart\r\n\t*/\r\n\t$render_stackedArea:function(ctx, data, point0, point1, sIndex, map){\r\n\r\n\t\tvar a0, a1, align, config, i, j, lastItem, mapRect, obj, params, path, x, y, yPos;\r\n\r\n\t\tparams = this._calculateLineParams(ctx,data,point0,point1,sIndex);\r\n\r\n\t\tconfig = this._settings;\r\n\r\n\t\t/*the value that defines the map area position*/\r\n\t\tmapRect = (config.eventRadius||Math.floor(params.cellWidth/2));\r\n\r\n\r\n\t\t/*drawing all items*/\r\n\t\tif (data.length) {\r\n\r\n\t\t\t// area points\r\n\t\t\tpath = [];\r\n\r\n\t\t\t// y item positions\r\n\t\t\tyPos = [];\r\n\r\n\t\t\t//the x position of the first item\r\n\t\t\tx = (!config.offset?point0.x:point0.x+params.cellWidth*0.5);\r\n\r\n\r\n\t\t\tvar setOffset = function(i,y){\r\n\t\t\t\treturn sIndex?(data[i].$startY?y-point1.y+data[i].$startY:0):y;\r\n\t\t\t};\r\n\r\n\t\t\tvar solveEquation  = function(x,p0,p1){\r\n\t\t\t\tvar k = (p1.y - p0.y)/(p1.x - p0.x);\r\n\t\t\t\treturn  k*x + p0.y - k*p0.x;\r\n\t\t\t};\r\n\r\n\t\t\t/*\r\n\t\t\t iterates over all data items:\r\n\t\t\t calculates [x,y] for area path, adds rect to chart map and renders labels\r\n\t\t\t */\r\n\r\n\t\t\tfor(i=0; i < data.length;i ++){\r\n\t\t\t\tobj = data[i];\r\n\r\n\t\t\t\tif(!i){\r\n\t\t\t\t\ty =  setOffset(i,point1.y);\r\n\t\t\t\t\tpath.push([x,y]);\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tx += params.cellWidth ;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ty = setOffset(i,this._getPointY(obj,point0,point1,params));\r\n\r\n\t\t\t\tyPos.push((isNaN(y)&&!i)?(data[i].$startY||point1.y):y);\r\n\r\n\t\t\t\tif(y){\r\n\t\t\t\t\tpath.push([x,y]);\r\n\r\n\t\t\t\t\t//map\r\n\t\t\t\t\tmap.addRect(obj.id,[x-mapRect-point0.x,y-mapRect-point0.y,x+mapRect-point0.x,y+mapRect-point0.y],sIndex);\r\n\r\n\t\t\t\t\t//labels\r\n\t\t\t\t\tif(!config.yAxis){\r\n\t\t\t\t\t\talign = (!config.offset&&lastItem?\"left\":\"center\");\r\n\t\t\t\t\t\tthis.canvases[sIndex].renderTextAt(false, align, x, y-config.labelOffset,config.label(obj));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// bottom right point\r\n\t\t\tpath.push([x,setOffset(i-1,point1.y)]);\r\n\r\n\t\t\t// lower border from the end to start\r\n\t\t\tif(sIndex){\r\n\t\t\t\tfor(i=data.length-2; i > 0; i --){\r\n\t\t\t\t\tx -= params.cellWidth ;\r\n\t\t\t\t\ty =  data[i].$startY;\r\n\t\t\t\t\tif(y)\r\n\t\t\t\t\t\tpath.push([x,y]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// go to start point\r\n\t\t\tpath.push([path[0][0],path[0][1]]);\r\n\r\n\t\t\t// filling path\r\n\t\t\tctx.globalAlpha = this._settings.alpha.call(this,data[0]);\r\n\t\t\tctx.fillStyle = this._settings.color.call(this,data[0]);\r\n\t\t\tctx.beginPath();\r\n\t\t\tthis._path(ctx,path);\r\n\t\t\tctx.fill();\r\n\r\n\t\t\t// set y positions of the next series\r\n\t\t\tfor(i=0; i < data.length;i ++){\r\n\t\t\t\ty =  yPos[i];\r\n\r\n\t\t\t\tif(!y){\r\n\t\t\t\t\tif(i == data.length-1){\r\n\t\t\t\t\t\ty = data[i].$startY;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(j =i+1; j< data.length; j++){\r\n\t\t\t\t\t\tif(yPos[j]){\r\n\t\t\t\t\t\t\ta0 =  {x:point0.x,y:yPos[0]};\r\n\t\t\t\t\t\t\ta1 =  {x:(point0.x+params.cellWidth*j),y:yPos[j]};\r\n\t\t\t\t\t\t\ty = solveEquation(point0.x+params.cellWidth*i,a0,a1);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdata[i].$startY = y;\r\n\t\t\t}\r\n\r\n\r\n\t\t}\r\n\t}\r\n});\r\n\t \t//+stackedArea\r\nwebix.extend(webix.ui.chart, {\r\n\t$render_radar:function(ctx,data,x,y,sIndex,map){\r\n\t\tthis._renderRadarChart(ctx,data,x,y,sIndex,map);\r\n\t\t\r\n\t}, \r\n\t/**\r\n\t*   renders a pie chart\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: data - object those need to be displayed\r\n\t*   @param: x - the width of the container\r\n\t*   @param: y - the height of the container\r\n\t*   @param: ky - value from 0 to 1 that defines an angle of inclination (0<ky<1 - 3D chart)\r\n\t*/\r\n\t_renderRadarChart:function(ctx,data,point0,point1,sIndex,map){\r\n\t\tif(!data.length)\r\n\t\t\treturn;\r\n\t\tvar coord = this._getPieParameters(point0,point1);\r\n\t\t/*scale radius*/\r\n\t\tvar radius = (this._settings.radius?this._settings.radius:coord.radius);\r\n\t\t/*scale center*/\r\n\t\tvar x0 = (this._settings.x?this._settings.x:coord.x);\r\n\t\tvar y0 = (this._settings.y?this._settings.y:coord.y);\r\n\t\t/*angles for each unit*/\r\n\t\tvar ratioUnits = [];\r\n\t\tfor(var i=0;i<data.length;i++)\r\n\t\t\tratioUnits.push(1);\r\n\t\tvar ratios = this._getRatios(ratioUnits,data.length);\r\n\t\tthis._mapStart = point0;\r\n\t\tif(!sIndex)\r\n\t\t\tthis._drawRadarAxises(ratios,x0,y0,radius,data);\r\n\t\tthis._drawRadarData(ctx,ratios,x0,y0,radius,data,sIndex,map);\r\n\t},\r\n\t_drawRadarData:function(ctx,ratios,x,y,radius,data,sIndex,map){\r\n\t\tvar alpha0 ,alpha1, config, i, min, max, pos0, pos1, posArr,\r\n\t\t\tr0, r1, relValue, startAlpha, value, value0, value1, valueFactor,\r\n\t\t\tunit, unitArr;\r\n\t\tconfig = this._settings;\r\n\t\t/*unit calculation (item_radius_pos = value*unit)*/\r\n\t\tmin = config.yAxis.start;\r\n\t\tmax = config.yAxis.end;\r\n\t\tunitArr = this._getRelativeValue(min,max);\r\n\t\trelValue = unitArr[0];\r\n\t\tunit = (relValue?radius/relValue:radius/2);\r\n\t\tvalueFactor = unitArr[1];\r\n\r\n\t\tstartAlpha = -Math.PI/2;\r\n\t\talpha0 =  alpha1 = startAlpha;\r\n\t\tposArr = [];\r\n\t\tpos1 = 0;\r\n\t\tfor(i=0;i<data.length;i++){\r\n\t\t\tif(!value1){\r\n\t\t\t\tvalue = config.value(data[i]);\r\n\t\t\t\tif(this._logScaleCalc)\r\n\t\t\t\t\tvalue = this._log10(value);\r\n\t\t\t\t/*a relative value*/\r\n\t\t\t\tvalue0 = (parseFloat(value||0) - min)*valueFactor;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tvalue0 = value1;\r\n\t\t\tr0 = Math.floor(unit*value0);\r\n\r\n\t\t\tvalue = config.value((i!=(data.length-1))?data[i+1]:data[0]);\r\n\t\t\tif(this._logScaleCalc)\r\n\t\t\t\tvalue = this._log10(value);\r\n\r\n\t\t\tvalue1 = (parseFloat(value||0) - min)*valueFactor;\r\n\t\t\tr1 = Math.floor(unit*value1);\r\n\t\t\talpha0 = alpha1;\r\n\t\t\talpha1 = ((i!=(data.length-1))?(startAlpha+ratios[i]-0.0001):startAlpha);\r\n\t\t\tpos0 = (pos1||this._getPositionByAngle(alpha0,x,y,r0));\r\n\t\t\tpos1 = this._getPositionByAngle(alpha1,x,y,r1);\r\n\t\t\t/*creates map area*/\r\n\t\t\t/*areaWidth  = (config.eventRadius||(parseInt(config.item.radius.call(this,data[i]),10)+config.item.borderWidth));\r\n\t\t\t map.addRect(data[i].id,[pos0.x-areaWidth,pos0.y-areaWidth,pos0.x+areaWidth,pos0.y+areaWidth],sIndex);*/\r\n\t\t\t//this._drawLine(ctx,pos0.x,pos0.y,pos1.x,pos1.y,config.line.color.call(this,data[i]),config.line.width)\r\n\t\t\tposArr.push(pos0);\r\n\t\t}\r\n\t\tif(config.fill)\r\n\t\t\tthis._fillRadarChart(ctx,posArr,data);\r\n\t\tif(!config.disableLines && data.length>2)\r\n\t\t\tthis._strokeRadarChart(ctx,posArr,data);\r\n\t\tif(!config.disableItems || data.length<3)\r\n\t\t\tthis._drawRadarItemMarkers(ctx,posArr,data,sIndex,map);\r\n\t\tposArr = null;\r\n\t},\r\n\t_drawRadarItemMarkers:function(ctx,points,data,sIndex,map){\r\n\t\tfor(var i=0;i < points.length;i++){\r\n\t\t\tthis._drawItem(ctx,points[i].x,points[i].y,data[i],this._settings.label.call(this,data),sIndex,map);\r\n\t\t}\r\n\t},\r\n\t_fillRadarChart:function(ctx,points,data){\r\n\t\tvar pos0,pos1;\r\n\t\tctx.globalAlpha= this._settings.alpha.call(this,{});\r\n\r\n\t\tctx.beginPath();\r\n\t\tfor(var i=0;i < points.length;i++){\r\n\t\t\tctx.fillStyle = this._settings.fill.call(this,data[i]);\r\n\t\t\tpos0 = points[i];\r\n\t\t\tpos1 = (points[i+1]|| points[0]);\r\n\t\t\tif(!i){\r\n\r\n\t\t\t\tctx.moveTo(pos0.x,pos0.y);\r\n\t\t\t}\r\n\t\t\tctx.lineTo(pos1.x,pos1.y);\r\n\t\t}\r\n\t\tctx.fill();\r\n\t\tctx.globalAlpha=1;\r\n\t},\r\n\t_strokeRadarChart:function(ctx,points,data){\r\n\t\tvar pos0,pos1;\r\n\t\tfor(var i=0;i < points.length;i++){\r\n\t\t\tpos0 = points[i];\r\n\t\t\tpos1 = (points[i+1]|| points[0]);\r\n\t\t\tthis._drawLine(ctx,pos0.x,pos0.y,pos1.x,pos1.y,this._settings.line.color.call(this,data[i]),this._settings.line.width);\r\n\t\t}\r\n\t},\r\n\t_drawRadarAxises:function(ratios,x,y,radius,data){\r\n\t\tvar configY = this._settings.yAxis;\r\n\t\tvar configX = this._settings.xAxis;\r\n\t\tvar start = configY.start;\r\n\t\tvar end = configY.end;\r\n\t\tvar step = configY.step;\r\n\t\tvar scaleParam= {};\r\n\t\tvar config = this._configYAxis;\r\n\t\tif(typeof config.step ==\"undefined\"||typeof config.start==\"undefined\"||typeof config.end ==\"undefined\"){\r\n\t\t\tvar limits = this._getLimits();\r\n\t\t\tscaleParam = this._calculateScale(limits.min,limits.max);\r\n\t\t\tstart = scaleParam.start;\r\n\t\t\tend = scaleParam.end;\r\n\t\t\tstep = scaleParam.step;\r\n\t\t\tconfigY.end = end;\r\n\t\t\tconfigY.start = start;\r\n\t\t}\r\n\t\tvar units = [];\r\n\t\tvar i,j,p;\r\n\t\tvar c=0;\r\n\t\tvar stepHeight = radius*step/(end-start);\r\n\t\t/*correction for small step*/\r\n\t\tvar power,corr;\r\n\t\tif(step<1){\r\n\t\t\tpower = Math.min(this._log10(step),(start<=0?0:this._log10(start)));\r\n\t\t\tcorr = Math.pow(10,-power);\r\n\t\t}\r\n\t\tvar angles = [];\r\n\t\tif(!this.canvases[\"scale\"])\r\n\t\t\tthis.canvases[\"scale\"] =  this._createCanvas(\"radar_scale\");\r\n\t\tvar ctx = this.canvases[\"scale\"].getCanvas();\r\n\t\tfor(i = end; i>=start; i -=step){\r\n\t\t\tvar value = this._logScaleCalc?Math.pow(10,i):i;\r\n\t\t\tif(scaleParam.fixNum)  value = parseFloat(i).toFixed(scaleParam.fixNum);\r\n\r\n\t\t\tunits.push(Math.floor(c*stepHeight)+ 0.5);\r\n\t\t\tif(corr && !this._logScaleCalc){\r\n\t\t\t\tvalue = Math.round(value*corr)/corr;\r\n\t\t\t\ti = value;\r\n\t\t\t}\r\n\t\t\tvar unitY = y-radius+units[units.length-1];\r\n\r\n\t\t\tthis.canvases[\"scale\"].renderTextAt(\"middle\",\"left\",x,unitY,\r\n\t\t\t\tconfigY.template(value.toString()),\r\n\t\t\t\t\"webix_axis_item_y webix_radar\"\r\n\t\t\t);\r\n\t\t\tif(ratios.length<2){\r\n\t\t\t\tthis._drawScaleSector(ctx,\"arc\",x,y,radius-units[units.length-1],-Math.PI/2,3*Math.PI/2,i);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar startAlpha = -Math.PI/2;/*possibly need  to moved in config*/\r\n\t\t\tvar alpha0 = startAlpha;\r\n\t\t\tvar alpha1;\r\n\r\n\t\t\tfor(j=0;j< ratios.length;j++){\r\n\t\t\t\tif(!c)\r\n\t\t\t\t\tangles.push(alpha0);\r\n\t\t\t\talpha1 = startAlpha+ratios[j]-0.0001;\r\n\t\t\t\tthis._drawScaleSector(ctx,(ratios.length>2?(config.lineShape||\"line\"):\"arc\"),x,y,radius-units[units.length-1],alpha0,alpha1,i,j,data[i]);\r\n\t\t\t\talpha0 = alpha1;\r\n\t\t\t}\r\n\t\t\tc++;\r\n\t\t}\r\n\t\t/*renders radius lines and labels*/\r\n\t\tfor(i=0;i< angles.length;i++){\r\n\t\t\tp = this._getPositionByAngle(angles[i],x,y,radius);\r\n\t\t\tif(configX.lines.call(this,data[i],i))\r\n\t\t\t\tthis._drawLine(ctx,x,y,p.x,p.y,(configX?configX.lineColor.call(this,data[i]):\"#cfcfcf\"),1);\r\n\t\t\tthis._drawRadarScaleLabel(ctx,x,y,radius,angles[i],(configX?configX.template.call(this,data[i]):\"&nbsp;\"));\r\n\t\t}\r\n\r\n\t},\r\n\t_drawScaleSector:function(ctx,shape,x,y,radius,a1,a2,i,j){\r\n\t\tvar pos1, pos2;\r\n\t\tif(radius<0)\r\n\t\t\treturn false;\r\n\t\tpos1 = this._getPositionByAngle(a1,x,y,radius);\r\n\t\tpos2 = this._getPositionByAngle(a2,x,y,radius);\r\n\t\tvar configY = this._settings.yAxis;\r\n\t\tif(configY.bg){\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.moveTo(x,y);\r\n\t\t\tif(shape==\"arc\")\r\n\t\t\t\tctx.arc(x,y,radius,a1,a2,false);\r\n\t\t\telse{\r\n\t\t\t\tctx.lineTo(pos1.x,pos1.y);\r\n\t\t\t\tctx.lineTo(pos2.x,pos2.y);\r\n\t\t\t}\r\n\t\t\tctx.fillStyle =  configY.bg(i,j);\r\n\t\t\tctx.moveTo(x,y);\r\n\t\t\tctx.fill();\r\n\t\t\tctx.closePath();\r\n\t\t}\r\n\t\tif(configY.lines.call(this,i)){\r\n\t\t\tctx.lineWidth = 1;\r\n\t\t\tctx.beginPath();\r\n\t\t\tif(shape==\"arc\")\r\n\t\t\t\tctx.arc(x,y,radius,a1,a2,false);\r\n\t\t\telse{\r\n\t\t\t\tctx.moveTo(pos1.x,pos1.y);\r\n\t\t\t\tctx.lineTo(pos2.x,pos2.y);\r\n\t\t\t}\r\n\t\t\tctx.strokeStyle = configY.lineColor.call(this,i);\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t},\r\n\t_drawRadarScaleLabel:function(ctx,x,y,r,a,text){\r\n\t\tif(!text)\r\n\t\t\treturn false;\r\n\t\tvar t = this.canvases[\"scale\"].renderText(0,0,text,\"webix_axis_radar_title\",1);\r\n\t\tvar width = t.scrollWidth;\r\n\t\tvar height = t.offsetHeight;\r\n\t\tvar delta = 0.001;\r\n\t\tvar pos =  this._getPositionByAngle(a,x,y,r+5);\r\n\t\tvar corr_x=0,corr_y=0;\r\n\t\tif(a<0||a>Math.PI){\r\n\t\t\tcorr_y = -height;\r\n\t\t}\r\n\t\tif(a>Math.PI/2){\r\n\t\t\tcorr_x = -width;\r\n\t\t}\r\n\t\tif(Math.abs(a+Math.PI/2)<delta||Math.abs(a-Math.PI/2)<delta){\r\n\t\t\tcorr_x = -width/2;\r\n\t\t}\r\n\t\telse if(Math.abs(a)<delta||Math.abs(a-Math.PI)<delta){\r\n\t\t\tcorr_y = -height/2;\r\n\t\t}\r\n\t\tt.style.top  = pos.y+corr_y+\"px\";\r\n\t\tt.style.left = pos.x+corr_x+\"px\";\r\n\t\tt.style.width = width+\"px\";\r\n\t\tt.style.whiteSpace = \"nowrap\";\r\n\t}\r\n});\r\nwebix.extend(webix.ui.chart, {\r\n\r\n\t/**\r\n\t*   renders a graphic\r\n\t*   @param: ctx - canvas object\r\n\t*   @param: data - object those need to be displayed\r\n\t*   @param: point0  - top left point of a chart\r\n\t*   @param: point1  - right bottom point of a chart\r\n\t*   @param: sIndex - index of drawing chart\r\n    *   @param: map - map object\r\n\t*/\r\n\t$render_scatter:function(ctx, data, point0, point1, sIndex, map){\r\n\t\tif(!this._settings.xValue)\r\n\t\t\treturn webix.log(\"warning\",\"Undefined propery: xValue\");\r\n\t\t/*max in min values*/\r\n\t\tvar limitsY = this._getLimits();\r\n\t\tvar limitsX = this._getLimits(\"h\",\"xValue\");\r\n\t\t/*render scale*/\r\n\t\tif(!sIndex){\r\n\t\t\tif(!this.canvases[\"x\"])\r\n\t\t\t\tthis.canvases[\"x\"] = this._createCanvas(\"axis_x\");\r\n\t\t\tif(!this.canvases[\"y\"])\r\n\t\t\t\tthis.canvases[\"y\"] = this._createCanvas(\"axis_y\");\r\n\t\t\tthis._drawYAxis(this.canvases[\"y\"].getCanvas(),data,point0,point1,limitsY.min,limitsY.max);\r\n\t\t\tthis._drawHXAxis(this.canvases[\"x\"].getCanvas(),data,point0,point1,limitsX.min,limitsX.max);\r\n\t\t}\r\n\t\tlimitsY = {min:this._settings.yAxis.start,max:this._settings.yAxis.end};\r\n\t\tlimitsX = {min:this._settings.xAxis.start,max:this._settings.xAxis.end};\r\n\t\tvar params = this._getScatterParams(ctx,data,point0,point1,limitsX,limitsY);\r\n\t\tthis._mapStart = point0;\r\n\t\tfor(var i=0;i<data.length;i++){\r\n\t\t\tthis._drawScatterItem(ctx,map,point0, point1, params,limitsX,limitsY,data[i],sIndex);\r\n\t\t}\r\n\t},\r\n\t_getScatterParams:function(ctx, data, point0, point1,limitsX,limitsY){\r\n\t\tvar params = {};\r\n\t\t/*available space*/\r\n\t\tparams.totalHeight = point1.y-point0.y;\r\n\t\t/*available width*/\r\n\t\tparams.totalWidth = point1.x-point0.x;\r\n\t\t/*unit calculation (y_position = value*unit)*/\r\n\t\tthis._calcScatterUnit(params,limitsX.min,limitsX.max,params.totalWidth,\"X\");\r\n\t\tthis._calcScatterUnit(params,limitsY.min,limitsY.max,params.totalHeight,\"Y\");\r\n\t\treturn params;\r\n\t},\r\n\t_drawScatterItem:function(ctx,map,point0, point1,params,limitsX,limitsY,obj,sIndex){\r\n\t\tvar x0 = this._calculateScatterItemPosition(params, point1, point0, limitsX, obj, \"X\");\r\n\t\tvar y0 = this._calculateScatterItemPosition(params, point0, point1, limitsY, obj, \"Y\");\r\n\t\tthis. _drawItem(ctx,x0,y0,obj,this._settings.label.call(this,obj),sIndex,map);\r\n\t},\r\n\t_calculateScatterItemPosition:function(params, point0, point1, limits, obj, axis){\r\n\t\t/*the real value of an object*/\r\n\t\tvar value = this._settings[axis==\"X\"?\"xValue\":\"value\"].call(this,obj);\r\n\t\t/*a relative value*/\r\n\t\tvar valueFactor = params[\"valueFactor\"+axis];\r\n\t\tvar v = (parseFloat(value||0) - limits.min)*valueFactor;\r\n\t\t/*a vertical coordinate*/\r\n\t\tvar unit = params[\"unit\"+axis];\r\n\t\tvar pos = point1[axis.toLowerCase()] - (axis==\"X\"?(-1):1)*Math.floor(unit*v);\r\n\t\t/*the limit of the minimum value is  the minimum visible value*/\r\n\t\tif(v<0)\r\n\t\t\tpos = point1[axis.toLowerCase()];\r\n\t\t/*the limit of the maximum value*/\r\n\t\tif(value > limits.max)\r\n\t\t\tpos = point0[axis.toLowerCase()];\r\n\t\t/*the limit of the minimum value*/\r\n\t\tif(value < limits.min)\r\n\t\t\tpos = point1[axis.toLowerCase()];\r\n\t\treturn pos;\r\n\t},\r\n\t_calcScatterUnit:function(p,min,max,size,axis){\r\n\t\tvar relativeValues = this._getRelativeValue(min,max);\r\n\t\taxis = (axis||\"\");\r\n\t\tp[\"relValue\"+axis] = relativeValues[0];\r\n\t\tp[\"valueFactor\"+axis] = relativeValues[1];\r\n\t\tp[\"unit\"+axis] = (p[\"relValue\"+axis]?size/p[\"relValue\"+axis]:10);\r\n\t}\r\n});\r\n/*chart presents*/\r\nwebix.extend(webix.ui.chart, {\r\n    presets:{\r\n        \"simple\":{\r\n            item:{\r\n                borderColor: \"#ffffff\",\r\n                color: \"#2b7100\",\r\n                shadow: false,\r\n                borderWidth:2\r\n            },\r\n    \t\tline:{\r\n    \t\t\tcolor:\"#8ecf03\",\r\n                width:2\r\n    \t\t}\r\n        },\r\n        \"plot\":{\r\n            color:\"#1293f8\",\r\n            item:{\r\n                borderColor:\"#636363\",\r\n                borderWidth:1,\r\n                color: \"#ffffff\",\r\n                type:\"r\",\r\n                shadow: false\r\n            },\r\n    \t    line:{\r\n    \t\t\tcolor:\"#1293f8\",\r\n                width:2\r\n    \t    }\r\n        },\r\n        \"diamond\":{\r\n            color:\"#b64040\",\r\n            item:{\r\n    \t\t\tborderColor:\"#b64040\",\r\n    \t\t\tcolor: \"#b64040\",\r\n                type:\"d\",\r\n                radius:3,\r\n                shadow:true\r\n            },\r\n    \t\tline:{\r\n    \t\t\tcolor:\"#ff9000\",\r\n                width:2\r\n    \t\t}\r\n        },\r\n        \"point\":{\r\n            color:\"#fe5916\",\r\n    \t\tdisableLines:true,\r\n            fill:false,\r\n            disableItems:false,\r\n            item:{\r\n                color:\"#feb916\",\r\n                borderColor:\"#fe5916\",\r\n                radius:2,\r\n                borderWidth:1,\r\n                type:\"r\"\r\n    \t    },\r\n            alpha:1\r\n        },\r\n        \"line\":{\r\n            line:{\r\n                color:\"#3399ff\",\r\n                width:2\r\n            },\r\n            item:{\r\n                color:\"#ffffff\",\r\n                borderColor:\"#3399ff\",\r\n                radius:2,\r\n                borderWidth:2,\r\n                type:\"d\"\r\n            },\r\n            fill:false,\r\n            disableItems:false,\r\n            disableLines:false,\r\n            alpha:1\r\n        },\r\n        \"area\":{\r\n            fill:\"#3399ff\",\r\n            line:{\r\n                color:\"#3399ff\",\r\n                width:1\r\n            },\r\n            disableItems:true,\r\n            alpha: 0.2,\r\n            disableLines:false\r\n        },\r\n        \"round\":{\r\n            item:{\r\n                radius:3,\r\n                borderColor:\"#3f83ff\",\r\n                borderWidth:1,\r\n                color:\"#3f83ff\",\r\n                type:\"r\",\r\n                shadow:false,\r\n                alpha:0.6\r\n            }\r\n        },\r\n        \"square\":{\r\n             item:{\r\n                radius:3,\r\n                borderColor:\"#447900\",\r\n                borderWidth:2,\r\n                color:\"#69ba00\",\r\n                type:\"s\",\r\n                shadow:false,\r\n                alpha:1\r\n            }\r\n        },\r\n        /*bar*/\r\n        \"column\":{\r\n            color:\"RAINBOW\",\r\n            gradient:false,\r\n            barWidth:45,\r\n            radius:0,\r\n            alpha:1,\r\n            border:true\r\n        },\r\n        \"stick\":{\r\n            barWidth:5,\r\n            gradient:false,\r\n    \t\tcolor:\"#67b5c9\",\r\n            radius:2,\r\n            alpha:1,\r\n            border:false\r\n        },\r\n        \"alpha\":{\r\n            color:\"#b9a8f9\",\r\n            barWidth:70,\r\n            gradient:\"falling\",\r\n            radius:0,\r\n            alpha:0.5,\r\n            border:true\r\n        }\r\n    }\r\n});\r\n\r\n\r\n/*\r\n\tUI:Calendar\r\n*/\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"calendar\",\r\n\r\n\tdefaults:{\r\n\t\tdate: new Date(), //selected date, not selected by default\r\n\t\tselect: false,\r\n\t\tnavigation: true,\r\n\t\tmonthSelect: true,\r\n\t\tweekHeader: true,\r\n\t\tweekNumber: false,\r\n\t\tskipEmptyWeeks: false,\r\n\r\n\t\tcalendarHeader: \"%F %Y\",\r\n\t\tcalendarWeekHeader: \"W#\",\r\n\t\t//calendarTime: \"%H:%i\",\r\n\t\tevents:webix.Date.isHoliday,\r\n\t\tminuteStep: 5,\r\n\t\ticons: false,\r\n\t\ttimepickerHeight: 30,\r\n\t\theaderHeight: 70,\r\n\t\tdayTemplate: function(d){\r\n\t\t\treturn d.getDate();\r\n\t\t},\r\n\t\twidth: 260,\r\n\t\theight: 250\r\n\t},\r\n\r\n\tdayTemplate_setter: webix.template,\r\n\tcalendarHeader_setter:webix.Date.dateToStr,\r\n\tcalendarWeekHeader_setter:webix.Date.dateToStr,\r\n\tcalendarTime_setter:function(format){\r\n\t\tthis._calendarTime = format;\r\n\t\treturn webix.Date.dateToStr(format);\r\n\t},\r\n\tdate_setter:function(date){\r\n\t\treturn this._string_to_date(date);\r\n\t},\r\n\tmaxDate_setter:function(date){\r\n\t\treturn this._string_to_date(date);\r\n\t},\r\n\tminDate_setter:function(date){\r\n\t\treturn this._string_to_date(date);\r\n\t},\r\n\tminTime_setter:function(time){\r\n\t\tif(typeof(time) == \"string\"){\r\n\t\t\ttime = webix.i18n.parseTimeFormatDate(time);\r\n\t\t\ttime = [time.getHours(),time.getMinutes()];\r\n\r\n\t\t}\r\n\r\n\t\treturn time;\r\n\t},\r\n\tmaxTime_setter:function(time){\r\n\t\tif(typeof(time) == \"string\"){\r\n\t\t\ttime = webix.i18n.parseTimeFormatDate(time);\r\n\t\t\ttime = [time.getHours(),time.getMinutes()];\r\n\r\n\t\t}\r\n\t\treturn time;\r\n\t},\r\n\t$init: function() {\r\n\t\tthis._viewobj.className += \" webix_calendar\";\r\n\t\tthis._viewobj.setAttribute(\"role\", \"grid\");\r\n\t\tthis._viewobj.setAttribute(\"aria-readonly\", \"true\");\r\n\r\n\t\t//special dates\r\n\t\tthis._special_dates = {};\r\n\t\tthis._selected_date_part = this._selected_date = null;\r\n\t\tthis._zoom_level = 0;\r\n\r\n\t\tthis.attachEvent(\"onKeyPress\", this._onKeyPress);\r\n\t},\r\n\ttype_setter: function(value){\r\n\t\tif(value == \"time\"){\r\n\t\t\tthis._zoom_in = true;\r\n\t\t\tthis._zoom_level = -1;\r\n\t\t}\r\n\t\telse if(value == \"year\"){\r\n\t\t\tthis._fixed = true;\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\r\n\t\tif(webix.ui.view.prototype.$setSize.call(this,x,y)){\r\n\t\t\t//repaint calendar when size changed\r\n\t\t\tthis.render();\r\n\t\t}\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tif (this._settings.cellHeight){\r\n\t\t\tvar state = this._getDateBoundaries(this._settings.date);\r\n\t\t\tthis._settings.height = this._settings.cellHeight * state._rows + (webix.skin.$active.calendarHeight||70);\r\n\t\t}\r\n\t\treturn webix.ui.view.prototype.$getSize.call(this, dx,dy);\r\n\t},\r\n\tmoveSelection:function(mode){\r\n\t\tvar date = webix.Date.copy(this.getSelectedDate() || this.getVisibleDate());\r\n\t\tvar css = this._zoom_logic[this._zoom_level]._keyshift(date, mode, this);\r\n\t\t\r\n\t\tvar sel = this._viewobj.querySelector(\".\"+css+\"[tabindex='0']\");\r\n\t\tif(sel)  sel.focus();\r\n\t},\r\n\t_getDateBoundaries: function(date, reset) {\r\n\t\t// addition information about rendering event:\r\n\t\t// how many days from the previous month,\r\n\t\t// next,\r\n\t\t// number of weeks to display and so on\r\n\t\t\r\n\t\tif (!this._set_date_bounds || reset){\r\n\t\t\tvar month = date.getMonth();\r\n\t\t\tvar year = date.getFullYear();\r\n\r\n\t\t\tvar next = new Date(year, month+1, 1);\r\n\t\t\tvar start = webix.Date.weekStart(new Date(year, month, 1));\r\n\r\n\t\t\tvar days = Math.round((next.valueOf() - start.valueOf())/(60*1000*60*24));\r\n\t\t\tvar rows = this._settings.skipEmptyWeeks?Math.ceil(days/7):6;\r\n\r\n\t\t\tthis._set_date_bounds = { _month: month, _start:start, _next:next, _rows: rows};\r\n\t\t}\r\n\r\n\t\treturn this._set_date_bounds;\r\n\t},\r\n\t$skin:function(){\r\n\t\tif(webix.skin.$active.calendar){\r\n\t\t\tif( webix.skin.$active.calendar.width)\r\n\t\t\t\tthis.defaults.width = webix.skin.$active.calendar.width;\r\n\t\t\tif( webix.skin.$active.calendar.height)\r\n\t\t\t\tthis.defaults.height = webix.skin.$active.calendar.height;\r\n\t\t\tif( webix.skin.$active.calendar.headerHeight)\r\n\t\t\t\tthis.defaults.headerHeight = webix.skin.$active.calendar.headerHeight;\r\n\t\t\tif( webix.skin.$active.calendar.timepickerHeight)\r\n\t\t\t\tthis.defaults.timepickerHeight = webix.skin.$active.calendar.timepickerHeight;\r\n\t\t}\r\n\r\n\t},\r\n\t_getColumnConfigSizes: function(date){ \r\n\t\tvar bounds = this._getDateBoundaries(date);\r\n\r\n\t\tvar s = this._settings;\r\n\t\tvar _columnsHeight = [];\r\n\t\tvar _columnsWidth = [];\r\n\r\n\t\tvar containerWidth = this._content_width - 36;\r\n\r\n\t\tvar containerHeight = this._content_height - this._settings.headerHeight - 10 - (this._settings.timepicker||this._icons?this._settings.timepickerHeight:0);\r\n\r\n\t\tvar columnsNumber = (s.weekNumber)?8:7;\r\n\t\tfor(var i=0; i<columnsNumber; i++) {\r\n\t\t\t_columnsWidth[i] = Math.ceil(containerWidth/(columnsNumber-i));\r\n\t\t\tcontainerWidth -= _columnsWidth[i];\r\n\t\t}\r\n\r\n\t\tvar rowsNumber = bounds._rows;\r\n\t\tfor (var k = 0; k < rowsNumber; k++) {\r\n\t\t\t_columnsHeight[k] = Math.ceil(containerHeight/(rowsNumber-k) );\r\n\t\t\tcontainerHeight -= _columnsHeight[k];\r\n\t\t}\r\n\t\treturn [_columnsWidth, _columnsHeight];\r\n\t},\r\n\ticons_setter: function(value){\r\n\t\tif(!value)\r\n\t\t\tthis._icons = null;\r\n\t\telse if(typeof value == \"object\")\r\n\t\t\tthis._icons = value;\r\n\t\telse\r\n\t\t\tthis._icons = this._icons2;\r\n\t},\r\n\t_icons: [],\r\n\t_icons2: [\r\n\r\n\t\t{\r\n\t\t\ttemplate: function(){\r\n\t\t\t\treturn \"<span role='button' tabindex='0' class='webix_cal_icon_today webix_cal_icon'>\"+webix.i18n.calendar.today+\"</span>\";\r\n\t\t\t},\r\n\t\t\ton_click:{\r\n\t\t\t\t\"webix_cal_icon_today\": function(){\r\n\t\t\t\t\tthis.setValue(new Date());\r\n\t\t\t\t\tthis.callEvent(\"onTodaySet\",[this.getSelectedDate()]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttemplate: function(){\r\n\t\t\t\treturn \"<span role='button' tabindex='0' class='webix_cal_icon_clear webix_cal_icon'>\"+webix.i18n.calendar.clear+\"</span>\";\r\n\t\t\t},\r\n\t\t\ton_click:{\r\n\t\t\t\t\"webix_cal_icon_clear\": function(){\r\n\t\t\t\t\tthis.setValue(\"\");\r\n\t\t\t\t\tthis.callEvent(\"onDateClear\",[this.getSelectedDate()]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t],\r\n\trefresh:function(){ this.render(); },\r\n\trender: function() {\r\n\t\t//reset zoom level\r\n\t\tthis._zoom_level = 0;\r\n\t\tthis._zoom_size = false;\r\n\r\n\t\tvar s = this._settings;\r\n\r\n\t\tif (!this.isVisible(s.id)) return;\r\n\t\tthis._current_time = webix.Date.datePart(new Date());\r\n\r\n\t\tif (webix.debug_render)\r\n\t\t\twebix.log(\"Render: \"+this.name+\"@\"+s.id);\r\n\t\tthis.callEvent(\"onBeforeRender\",[]);\r\n\r\n\t\tvar date = this._settings.date;\r\n\r\n\t\tvar bounds = this._getDateBoundaries(date, true);\r\n\t\tvar sizes = this._getColumnConfigSizes(date);\r\n\t\tvar width = sizes[0];\r\n\t\tvar height = sizes[1];\r\n\r\n\t\tvar html = \"<div class='webix_cal_month'><span role='heading' tabindex='0' aria-live='assertive' aria-atomic='true' class='webix_cal_month_name\"+(!this._settings.monthSelect?\" webix_readonly\":\"\")+\"'>\"+s.calendarHeader(date)+'</span>';\r\n\t\tif (s.navigation)\r\n\t\t\thtml += \"<div role='button' tabindex='0' aria-label='\"+webix.i18n.aria.navMonth[0]+\"' class='webix_cal_prev_button'></div><div role='button' tabindex='0' aria-label='\"+webix.i18n.aria.navMonth[1]+\"' class='webix_cal_next_button'></div>\";\r\n\t\thtml += \"</div>\";\r\n\r\n\t\tif(s.weekHeader)\r\n\t\t\thtml += \"<div class='webix_cal_header' role='row'>\"+this._week_template(width)+\"</div>\";\r\n\t\thtml += \"<div class='webix_cal_body' role='rowgroup'>\"+this._body_template(width, height, bounds)+\"</div>\";\r\n\r\n\t\tif (this._settings.timepicker || this._icons){\r\n\t\t\thtml += \"<div class='webix_cal_footer'>\";\r\n\t\t\tif(this._settings.timepicker)\r\n\t\t\t\thtml += this._timepicker_template(date);\r\n\r\n\t\t\tif(this._icons)\r\n\t\t\t\thtml += this._icons_template();\r\n\t\t\thtml += \"</div>\";\r\n\t\t}\r\n\r\n\r\n\t\tthis._contentobj.innerHTML = html;\r\n\r\n\t\tif(this._settings.type == \"time\"){\r\n\t\t\tvar time = this._settings.date;\r\n\t\t\tif(time){\r\n\t\t\t\tif(typeof(time) == \"string\"){\r\n\t\t\t\t\tdate = webix.i18n.parseTimeFormatDate(time);\r\n\t\t\t\t}\r\n\t\t\t\telse if(webix.isArray(time)){\r\n\t\t\t\t\tdate.setHours(time[0]);\r\n\t\t\t\t\tdate.setMinutes(time[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._changeZoomLevel(-1,date);\r\n\t\t}\r\n\t\telse if(this._settings.type == \"month\"){\r\n\t\t\tthis._changeZoomLevel(1,date);\r\n\t\t}\r\n\t\telse if(this._settings.type == \"year\"){\r\n\t\t\tthis._changeZoomLevel(2,date);\r\n\t\t}\r\n\t\tthis.callEvent(\"onAfterRender\",[]);\r\n\t},\r\n\t_icons_template: function(date){\r\n\t\tvar html =\t\"<div class='webix_cal_icons'>\";\r\n\t\tvar icons = this._icons;\r\n\r\n\t\tfor(var i=0; i < icons.length; i++){\r\n\t\t\tif(icons[i].template){\r\n\t\t\t\tvar template = (typeof(icons[i].template) == \"function\"?icons[i].template: webix.template(icons[i].template));\r\n\t\t\t\thtml += template.call(this,date);\r\n\t\t\t}\r\n\t\t\tif(icons[i].on_click){\r\n\t\t\t\twebix.extend(this.on_click,icons[i].on_click);\r\n\t\t\t}\r\n\t\t}\r\n\t\thtml += \"</div>\";\r\n\t\treturn html;\r\n\t},\r\n\t_timepicker_template:function(date){\r\n\t\tvar timeFormat = this._settings.calendarTime||webix.i18n.timeFormatStr;\r\n\t\tvar tpl = \"\";\r\n\r\n\t\tif(!this._settings.master)\r\n\t\t\ttpl = \"<div role='button' tabindex='0' class='webix_cal_time\"+(this._icons?\" webix_cal_time_icons\":\"\")+\"'><span class='webix_icon fa-clock-o'></span> \"+timeFormat(date)+\"</div>\";\r\n\t\telse{\r\n\t\t\t//daterange needs two clocks\r\n\t\t\tvar range_date = webix.copy(webix.$$(this._settings.master)._settings.value);\r\n\t\t\tif(webix.Date.equal(range_date.end, date))\r\n\t\t\t\trange_date.start = range_date.end;\r\n\t\t\t\t\r\n\t\t\tfor(var i in range_date){\r\n\t\t\t\ttpl += \"<div role='button' tabindex='0' class='webix_range_time_\"+i+\" webix_cal_time'><span class='webix_icon fa-clock-o'></span> \"+timeFormat(range_date[i])+\"</div>\";\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn tpl;\r\n\t},\r\n\t_week_template: function(widths){\r\n\t\tvar s = this._settings;\r\n\t\tvar week_template = '';\r\n\t\tvar correction = 0;\r\n\r\n\t\tif(s.weekNumber) {\r\n\t\t\tcorrection = 1;\r\n\t\t\tweek_template += \"<div class='webix_cal_week_header' role='columnheader' style='width: \"+widths[0]+\"px;' >\"+s.calendarWeekHeader()+\"</div>\";\r\n\t\t}\r\n\t\t\r\n\t\tvar k = (webix.Date.startOnMonday)?1:0;\r\n\t\tfor (var i=0; i<7; i++){ // 7 days total\r\n\t\t\tvar day_index = (k + i) % 7; // 0 - Sun, 6 - Sat as in Locale.date.day_short\r\n\t\t\tvar day = webix.i18n.calendar.dayShort[day_index]; // 01, 02 .. 31\r\n\t\t\tweek_template += \"<div role='columnheader' day='\"+day_index+\"' style='width: \"+widths[i+correction]+\"px;' >\"+day+\"</div>\";\r\n\t\t}\r\n\t\t\r\n\t\treturn week_template;\r\n\t},\r\n    blockDates_setter:function(value){\r\n        return webix.toFunctor(value, this.$scope);\r\n    },\r\n    _day_css:function(day, bounds){\r\n\t\tvar css = \"\";\r\n\t\tif (webix.Date.equal(day, this._current_time))\r\n\t\t\tcss += \" webix_cal_today\";\r\n\t\tif (!this._checkDate(day))\r\n\t\t\tcss+= \" webix_cal_day_disabled\";\r\n\t\tif (webix.Date.equal(day, this._selected_date_part))\r\n\t\t\tcss += \" webix_cal_select\";\r\n\t\tif (day.getMonth() != bounds._month)\r\n\t\t\tcss += \" webix_cal_outside\";\r\n\t\tif (this._settings.events)\r\n\t\t\tcss+=\" \"+(this._settings.events(day) || \"\");\r\n\t\tcss += \" webix_cal_day\";\r\n\t\treturn css;\r\n\t},\r\n\t_body_template: function(widths, heights, bounds){\r\n\t\tvar s = this._settings;\r\n\t\tvar html = \"\";\r\n\t\tvar day = webix.Date.datePart(webix.Date.copy(bounds._start));\r\n\t\tvar start = s.weekNumber?1:0;\r\n\t\tvar weekNumber = webix.Date.getISOWeek(webix.Date.add(day,2,\"day\", true));\r\n\t\tvar min = this._settings.minDate || new Date(1,1,1);\r\n        var max = this._settings.maxDate || new Date(9999,1,1);\r\n\r\n\t\tfor (var y=0; y<heights.length; y++){\r\n\t\t\thtml += \"<div class='webix_cal_row' role='row' style='height:\"+heights[y]+\"px;line-height:\"+heights[y]+\"px'>\";\r\n\r\n\t\t\tif (start){\r\n\t\t\t\t// recalculate week number for the first week of a year\r\n\t\t\t\tif(!day.getMonth() && day.getDate()<7)\r\n\t\t\t\t\tweekNumber =  webix.Date.getISOWeek(webix.Date.add(day,2,\"day\", true));\r\n\t\t\t\thtml += \"<div class='webix_cal_week_num' role='rowheader' style='width:\"+widths[0]+\"px'>\"+weekNumber+\"</div>\";\r\n\t\t\t}\r\n\r\n\t\t\tfor (var x=start; x<widths.length; x++){\r\n\t\t\t\tvar css = this._day_css(day, bounds);\r\n\t\t\t\tvar d = this._settings.dayTemplate.call(this,day);\r\n\t\t\t\tvar sel = webix.Date.equal(day, this._selected_date_part);\r\n\t\t\t\thtml += \"<div day='\"+x+\"' role='gridcell' tabindex='\"+(sel?\"0\":\"-1\")+\"' aria-selected='\"+(sel?\"true\":\"false\")+\"' class='\"+css+\"' style='width:\"+widths[x]+\"px'><span class='webix_cal_day_inner'>\"+d+\"</span></div>\";\r\n\t\t\t\tday = webix.Date.add(day, 1, \"day\");\r\n\t\t\t\tif(day.getHours()){\r\n\t\t\t\t\tday = webix.Date.datePart(day);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\thtml += \"</div>\";\r\n\t\t\tweekNumber++;\r\n\t\t}\r\n\t\treturn html;\r\n\t},\r\n\t_changeDate:function(dir, step, notset){\r\n\t\tvar now = this._settings.date;\r\n\t\tif(!step) { step = this._zoom_logic[this._zoom_level]._changeStep; }\r\n\t\tif(!this._zoom_level){\r\n\t\t\tnow = webix.Date.copy(now);\r\n\t\t\tnow.setDate(1);\r\n\t\t}\r\n\t\tvar next = webix.Date.add(now, dir*step, \"month\", true);\r\n\t\tthis._changeDateInternal(now, next);\r\n\t},\r\n\t_changeDateInternal:function(now, next){\r\n\t\tif(this.callEvent(\"onBeforeMonthChange\", [now, next])){\r\n\t\t\tif (this._zoom_level){\r\n\t\t\t\tthis._update_zoom_level(next);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.showCalendar(next);\r\n\t\t\t}\r\n\t\t\tthis.callEvent(\"onAfterMonthChange\", [next, now]);\r\n\t\t}\r\n\t},\r\n\t_zoom_logic:{\r\n\t\t\"-2\":{\r\n\t\t\t_isBlocked: function(i){\r\n\t\t\t\tvar config = this._settings,\r\n\t\t\t\t\tdate = config.date,\r\n\t\t\t\t\tisBlocked = false;\r\n\r\n\t\t\t\tvar minHour = (config.minTime ? config.minTime[0] : 0);\r\n\t\t\t\tvar maxHour = (config.maxTime ? (config.maxTime[0] + ( config.maxTime[1] ? 1 : 0 )) : 24);\r\n\r\n\t\t\t\tvar minMinute = (config.minTime && (date.getHours()==minHour) ? config.minTime[1] : 0);\r\n\t\t\t\tvar maxMinute = (config.maxTime && config.maxTime[1] && (date.getHours()==(maxHour-1)) ? config.maxTime[1] : 60);\r\n\r\n\t\t\t\tif(this._settings.blockTime){\r\n\t\t\t\t\tvar d = webix.Date.copy(date);\r\n\t\t\t\t\td.setMinutes(i);\r\n\t\t\t\t\tisBlocked = this._settings.blockTime(d);\r\n\t\t\t\t}\r\n\t\t\t\treturn (i < minMinute || i >= maxMinute || isBlocked);\r\n\r\n\t\t\t},\r\n\t\t\t_setContent:function(next, i){ next.setMinutes(i); },\r\n\t\t\t_findActive:function(date, mode, calendar){\r\n\t\t\t\tif(!this._isBlocked.call(calendar, date.getMinutes()))\r\n\t\t\t\t\treturn date;\r\n\t\t\t\telse{\r\n\t\t\t\t\tvar step = calendar._settings.minuteStep;\r\n\t\t\t\t\tvar newdate = webix.Date.add(date, mode ==\"right\"?step:-step, \"minute\", true);\r\n\t\t\t\t\tif(date.getHours() === newdate.getHours())\r\n\t\t\t\t\t\treturn  this._findActive(newdate, mode, calendar);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"-1\":{\r\n\t\t\t_isBlocked: function(i){\r\n\t\t\t\tvar config = this._settings,\r\n\t\t\t\t\tdate = config.date;\r\n\r\n\t\t\t\tvar minHour = (config.minTime? config.minTime[0]:0);\r\n\t\t\t\tvar maxHour = (config.maxTime? config.maxTime[0]+(config.maxTime[1]?1:0):24);\r\n\r\n\t\t\t\tif (i < minHour || i >= maxHour) return true;\r\n\r\n\t\t\t\tif(config.blockTime){\r\n\t\t\t\t\tvar d = webix.Date.copy(date);\r\n\t\t\t\t\td.setHours(i);\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar minMinute = (config.minTime && (i==minHour) ? config.minTime[1] : 0);\r\n\t\t\t\t\tvar maxMinute = (config.maxTime && config.maxTime[1] && (i==(maxHour-1)) ? config.maxTime[1] : 60);\r\n\r\n\t\t\t\t\tfor (var j=minMinute; j<maxMinute; j+= config.minuteStep){\r\n\t\t\t\t\t\td.setMinutes(j);\r\n\t\t\t\t\t\tif (!config.blockTime(d))\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_setContent:function(next, i){ next.setHours(i); },\r\n\t\t\t_keyshift:function(date, mode, calendar){\r\n\t\t\t\tvar newdate, inc, step = calendar._settings.minuteStep;\r\n\t\t\t\t\r\n\t\t\t\tif(mode === \"bottom\" || mode === \"top\"){\r\n\t\t\t\t\tdate.setHours(mode===\"bottom\"?23:0);\r\n\t\t\t\t\tdate.setMinutes(mode===\"bottom\"?55:0);\r\n\t\t\t\t\tdate.setSeconds(0);\r\n\t\t\t\t\tdate.setMilliseconds(0);\r\n\t\t\t\t\tnewdate = date;\r\n\t\t\t\t}\r\n\t\t\t\telse if(mode === \"left\" || mode === \"right\"){//minutes\r\n\r\n\t\t\t\t\tinc = (mode===\"right\"?step:-step);\r\n\t\t\t\t\tif(mode === \"left\" && date.getMinutes() < step ) inc = 60-step;\r\n\t\t\t\t\tif(mode === \"right\" && date.getMinutes() >= (60-step)) inc = step-60;\r\n\t\t\t\t\tinc -= date.getMinutes()%step;\r\n\t\t\t\t\tnewdate = calendar._zoom_logic[\"-2\"]._findActive(webix.Date.add(date, inc, \"minute\"), mode, calendar);\r\n\t\t\t\t}\r\n\t\t\t\telse if(mode === \"up\" || mode === \"down\"){ //hours\r\n\t\t\t\t\tinc = mode===\"down\"?1:-1;\r\n\t\t\t\t\tif(mode === \"down\" && date.getHours() === 23) inc = -23;\r\n\t\t\t\t\tif(mode === \"up\" && date.getHours() === 0) inc = 23;\r\n\t\t\t\t\tnewdate = this._findActive(webix.Date.add(date, inc, \"hour\"), mode, calendar);\r\n\t\t\t\t}\r\n\t\t\t\tcalendar.selectDate(newdate, false);\r\n\r\n\t\t\t\tif(newdate){\r\n\t\t\t\t\tcalendar._update_zoom_level(newdate);\r\n\t\t\t\t\tcalendar.selectDate(newdate, false);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn \"webix_cal_block\"+(mode === \"left\" || mode === \"right\"?\"_min\":\"\");\r\n\t\t\t},\r\n\t\t\t_findActive:function(date, mode, calendar){\r\n\t\t\t\tif(!this._isBlocked.call(calendar, date.getHours()))\r\n\t\t\t\t\treturn date;\r\n\t\t\t\telse{\r\n\t\t\t\t\tvar newdate = webix.Date.add(date, mode ==\"down\"?1:-1, \"hour\", true);\r\n\t\t\t\t\tif(date.getDate() === newdate.getDate())\r\n\t\t\t\t\t\treturn  this._findActive(newdate, mode, calendar);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"0\":{//days\r\n\t\t\t_changeStep:1,\r\n\t\t\t_keyshift:function(date, mode, calendar){\r\n\t\t\t\tvar newdate;\r\n\t\t\t\tif(mode === \"pgup\" || mode === \"pgdown\")\r\n\t\t\t\t\tnewdate = webix.Date.add(date, (mode===\"pgdown\"?1:-1), \"month\");\r\n\t\t\t\telse if(mode === \"bottom\")\r\n\t\t\t\t\tnewdate = new Date(date.getFullYear(), date.getMonth()+1, 0);\r\n\t\t\t\telse if(mode === \"top\")\r\n\t\t\t\t\tnewdate = new Date(date.setDate(1));\r\n\t\t\t\telse if(mode === \"left\" || mode === \"right\")\r\n\t\t\t\t\tnewdate = webix.Date.add(date, (mode===\"right\"?1:-1), \"day\");\r\n\t\t\t\telse if(mode === \"up\" || mode === \"down\")\r\n\t\t\t\t\tnewdate = webix.Date.add(date, (mode===\"down\"?1:-1), \"week\");\r\n\t\t\t\t\r\n\t\t\t\tif(!calendar._checkDate(newdate))\r\n\t\t\t\t\tnewdate = calendar._findActive(date, mode);\r\n\t\t\t\t\r\n\t\t\t\tif(newdate)\r\n\t\t\t\t\tcalendar.selectDate(newdate, true);\r\n\t\t\t\treturn \"webix_cal_day\";\r\n\t\t\t},\r\n\t\t\t\r\n\t\t},\r\n\t\t\"1\":{\t//months\r\n\t\t\t_isBlocked: function(i,calendar){\r\n\t\t\t\tvar blocked = false, minYear, maxYear,\r\n\t\t\t\t    min = calendar._settings.minDate||null,\r\n\t\t\t\t    max = calendar._settings.maxDate||null,\r\n                    year = calendar._settings.date.getFullYear();\r\n\r\n\t\t\t\tif(min && max){\r\n                    minYear = min.getFullYear();\r\n                    maxYear = max.getFullYear();\r\n                    if(year<minYear||year==minYear&&min.getMonth()>i || year>maxYear||year==maxYear&&max.getMonth()<i)\r\n\t\t\t\t\t    blocked = true;\r\n\t\t\t\t}\r\n\t\t\t\treturn blocked;\r\n\t\t\t},\r\n\t\t\t_correctDate: function(date,calendar){\r\n\t\t\t\tif(date < calendar._settings.minDate){\r\n\t\t\t\t\tdate = webix.Date.copy(calendar._settings.minDate);\r\n\t\t\t\t}\r\n\t\t\t\telse if(date > calendar._settings.maxDate){\r\n\t\t\t\t\tdate = webix.Date.copy(calendar._settings.maxDate);\r\n\t\t\t\t}\r\n\t\t\t\treturn date;\r\n\t\t\t},\r\n\t\t\t_getTitle:function(date){ return date.getFullYear(); },\r\n\t\t\t_getContent:function(i){ return webix.i18n.calendar.monthShort[i]; },\r\n\t\t\t_setContent:function(next, i){ if(i!=next.getMonth()) next.setDate(1);next.setMonth(i); },\r\n\t\t\t_changeStep:12,\r\n\t\t\t_keyshift:function(date, mode, calendar){\r\n\t\t\t\tvar newdate;\r\n\t\t\t\tif(mode === \"pgup\" || mode === \"pgdown\")\r\n\t\t\t\t\tnewdate = webix.Date.add(date, (mode===\"pgdown\"?1:-1), \"year\");\r\n\t\t\t\telse if(mode === \"bottom\")\r\n\t\t\t\t\tnewdate = new Date(date.setMonth(11));\r\n\t\t\t\telse if(mode === \"top\")\r\n\t\t\t\t\tnewdate = new Date(date.setMonth(0));\r\n\t\t\t\telse if(mode === \"left\" || mode === \"right\")\r\n\t\t\t\t\tnewdate = webix.Date.add(date, (mode===\"right\"?1:-1), \"month\");\r\n\t\t\t\telse if(mode === \"up\" || mode === \"down\")\r\n\t\t\t\t\tnewdate = webix.Date.add(date, (mode===\"down\"?4:-4), \"month\");\r\n\r\n\t\t\t\tif(!calendar._checkDate(newdate))\r\n\t\t\t\t\tnewdate = calendar._findActive(date, mode);\r\n\t\t\t\t\r\n\t\t\t\tif(newdate){\r\n\t\t\t\t\tcalendar._update_zoom_level(newdate);\r\n\t\t\t\t\tcalendar.selectDate(newdate, false);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn \"webix_cal_block\";\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"2\":{\t//years\r\n\t\t\t_isBlocked: function(i,calendar){\r\n\t\t\t\ti += calendar._zoom_start_date;\r\n\t\t\t\tvar blocked = false;\r\n\t\t\t\tvar min = calendar._settings.minDate;\r\n\t\t\t\tvar max = calendar._settings.maxDate;\r\n\r\n\t\t\t\tif( min && max && (min.getFullYear()>i || max.getFullYear()<i)){\r\n\t\t\t\t\tblocked = true;\r\n\t\t\t\t}\r\n\t\t\t\treturn blocked;\r\n\t\t\t},\r\n\t\t\t_correctDate: function(date,calendar){\r\n\t\t\t\tif(date < calendar._settings.minDate){\r\n\t\t\t\t\tdate = webix.Date.copy(calendar._settings.minDate);\r\n\t\t\t\t}\r\n\t\t\t\telse if(date > calendar._settings.maxDate){\r\n\t\t\t\t\tdate = webix.Date.copy(calendar._settings.maxDate);\r\n\t\t\t\t}\r\n\t\t\t\treturn date;\r\n\t\t\t},\r\n\t\t\t_getTitle:function(date, calendar){\r\n\t\t\t\tvar start = date.getFullYear();\r\n\t\t\t\tcalendar._zoom_start_date = start = start - start%10 - 1;\r\n\t\t\t\treturn start+\" - \"+(start+10);\r\n\t\t\t},\r\n\t\t\t_getContent:function(i, calendar){ return calendar._zoom_start_date+i; },\r\n\t\t\t_setContent:function(next, i, calendar){ next.setFullYear(calendar._zoom_start_date+i); },\r\n\t\t\t_changeStep:12*10,\r\n\t\t\t_keyshift:function(date, mode, calendar){\r\n\t\t\t\tvar newdate;\r\n\t\t\t\tif(mode === \"pgup\" || mode === \"pgdown\")\r\n\t\t\t\t\tnewdate = webix.Date.add(date, (mode===\"pgdown\"?10:-10), \"year\");\r\n\t\t\t\telse if(mode === \"bottom\")\r\n\t\t\t\t\tnewdate = new Date(date.setYear(calendar._zoom_start_date+10));\r\n\t\t\t\telse if(mode === \"top\")\r\n\t\t\t\t\tnewdate = new Date(date.setYear(calendar._zoom_start_date));\r\n\t\t\t\telse if(mode === \"left\" || mode === \"right\")\r\n\t\t\t\t\tnewdate = webix.Date.add(date, (mode===\"right\"?1:-1), \"year\");\r\n\t\t\t\telse if(mode === \"up\" || mode === \"down\")\r\n\t\t\t\t\tnewdate = webix.Date.add(date, (mode===\"down\"?4:-4), \"year\");\r\n\r\n\t\t\t\tif(!calendar._checkDate(newdate))\r\n\t\t\t\t\tnewdate = calendar._findActive(date, mode);\r\n\t\t\t\t\r\n\t\t\t\tif(newdate){\r\n\t\t\t\t\tcalendar._update_zoom_level(newdate);\r\n\t\t\t\t\tcalendar.selectDate(newdate, false);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn \"webix_cal_block\";\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_correctBlockedTime: function(){\r\n\t\tvar i, isDisabledHour, isDisabledMinutes;\r\n\t\tisDisabledHour = this._zoom_logic[-1]._isBlocked.call(this,this._settings.date.getHours());\r\n\t\tif(isDisabledHour){\r\n\t\t\tfor (i= 0; i< 24; i++){\r\n\t\t\t\tif(!this._zoom_logic[-1]._isBlocked.call(this,i)){\r\n\t\t\t\t\tthis._settings.date.setHours(i);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tisDisabledMinutes = this._zoom_logic[-2]._isBlocked.call(this,this._settings.date.getMinutes());\r\n\t\tif(isDisabledMinutes){\r\n\t\t\tfor (i=0; i<60; i+=this._settings.minuteStep){\r\n\t\t\t\tif(!this._zoom_logic[-2]._isBlocked.call(this,i)){\r\n\t\t\t\t\tthis._settings.date.setMinutes(i);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_update_zoom_level:function(date){\r\n\t\tvar config, css, height, i, index,  sections, selected, type, width, zlogic;\r\n\t\tvar html = \"\";\r\n\r\n\t\tconfig = this._settings;\r\n\t\tindex = config.weekHeader?2: 1;\r\n\t\tzlogic = this._zoom_logic[this._zoom_level];\r\n\t\tsections  = this._contentobj.childNodes;\r\n\r\n\t\tif (date){\r\n\t\t\tconfig.date = date;\r\n\t\t}\r\n\r\n\t\ttype = config.type;\r\n\r\n\r\n\r\n\t\t//store width and height of draw area\r\n\t\tif (!this._zoom_size){\r\n\t\t\t/*this._reserve_box_height = sections[index].offsetHeight +(index==2?sections[1].offsetHeight:0);*/\r\n\r\n\t\t\tthis._reserve_box_height = this._contentobj.offsetHeight - config.headerHeight ;\r\n\t\t\tif(type != \"year\" && type != \"month\")\r\n\t\t\t\tthis._reserve_box_height -= config.timepickerHeight;\r\n\t\t\telse if(this._icons){\r\n\t\t\t\tthis._reserve_box_height -= 10;\r\n\t\t\t}\r\n\t\t\tthis._reserve_box_width = sections[index].offsetWidth;\r\n\t\t\tthis._zoom_size = 1;\r\n\t\t}\r\n\r\n\t\t//main section\r\n\t\tif (this._zoom_in){\r\n\t\t\t//hours and minutes\r\n\t\t\theight = this._reserve_box_height/6;\r\n\t\t\tvar timeColNum = 6;\r\n\t\t\tvar timeFormat = this._calendarTime||webix.i18n.timeFormat;\r\n\t\t\tvar enLocale = timeFormat.match(/%([a,A])/);\r\n\t\t\tif(enLocale)\r\n\t\t\t\ttimeColNum++;\r\n\t\t\twidth = parseInt((this._reserve_box_width-3)/timeColNum,10);\r\n\r\n\t\t\thtml += \"<div class='webix_time_header' role='row'>\"+this._timeHeaderTemplate(width,enLocale)+\"</div>\";\r\n\t\t\thtml += \"<div  class='webix_cal_body' role='rowgroup' style='height:\"+this._reserve_box_height+\"px'>\";\r\n\r\n\t\t\t// check and change blocked selected time\r\n\t\t\tthis._correctBlockedTime();\r\n\r\n\t\t\thtml += \"<div class='webix_hours' role='row'>\";\r\n\t\t\tselected = config.date.getHours();\r\n\t\t\tfor (i= 0; i< 24; i++){\r\n\t\t\t\tcss=\"\";\r\n\t\t\t\tif(enLocale){\r\n\t\t\t\t\tif(i%4===0){\r\n\t\t\t\t\t\tvar label = (!i?\"am\":(i==12?\"pm\":\"\"));\r\n\t\t\t\t\t\thtml += \"<div \"+(label?\"role='row'\":\"\")+\"class='webix_cal_block_empty\"+css+\"' style='\"+this._getCalSizesString(width,height)+\"clear:both;\"+\"'>\"+label+\"</div>\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(this._zoom_logic[-1]._isBlocked.call(this,i)){\r\n\t\t\t\t\tcss += \" webix_cal_day_disabled\";\r\n\t\t\t\t}\r\n\t\t\t\telse if(selected ==  i)\r\n\t\t\t\t\tcss += \" webix_selected\";\r\n\t\t\t\tvar value = webix.Date.toFixed(enLocale&& i>12?i-12:i);\r\n\t\t\t\thtml += \"<div aria-label='\"+(value+(enLocale?(i<12?\" am\":\" pm\"):\"\"))+\"' role='gridcell'\"+(!i?\" colspan='24'\":\"\")+\" rowindex='1' tabindex='\"+(selected==i?\"0\":\"-1\")+\"' aria-selected='\"+(selected==i?\"true\":\"false\")+\"' class='webix_cal_block\"+css+\"' data-value='\"+i+\"' style='\"+this._getCalSizesString(width,height)+(i%4===0&&!enLocale?\"clear:both;\":\"\")+\"'>\"+value+\"</div>\";\r\n\t\t\t}\r\n\t\t\thtml += \"</div>\";\r\n\r\n\t\t\thtml += \"<div class='webix_minutes' role='row'>\";\r\n\t\t\tselected = config.date.getMinutes();\r\n\t\t\tfor (i=0; i<60; i+=config.minuteStep){\r\n\t\t\t\tcss = \"\";\r\n\t\t\t\tif(this._zoom_logic[-2]._isBlocked.call(this,i)){\r\n\t\t\t\t\tcss = \" webix_cal_day_disabled\";\r\n\t\t\t\t}\r\n\t\t\t\telse if(selected ==  i)\r\n\t\t\t\t\tcss = \" webix_selected\";\r\n\t\t\t\thtml += \"<div role='gridcell'\"+(!i?\" colspan='12'\":\"\")+\" rowindex='1' tabindex='\"+(selected==i?\"0\":\"-1\")+\"' aria-selected='\"+(selected==i?\"true\":\"false\")+\"' class='webix_cal_block webix_cal_block_min\"+css+\"' data-value='\"+i+\"' style='\"+this._getCalSizesString(width,height)+(i%2===0?\"clear:both;\":\"\")+\"'>\"+webix.Date.toFixed(i)+\"</div>\";\r\n\t\t\t}\r\n\t\t\thtml += \"</div>\";\r\n\r\n\t\t\thtml += \"</div>\";\r\n\t\t\thtml += \"<div  class='webix_time_footer'>\"+this._timeButtonsTemplate()+\"</div>\";\r\n\t\t\tthis._contentobj.innerHTML = html;\r\n\t\t} else {\r\n\t\t\t//years and months\r\n\t\t\t\r\n\t\t\t//reset header\r\n\t\t\tvar header = sections[0].childNodes;\r\n\t\t\tvar labels = webix.i18n.aria[\"nav\"+(this._zoom_level==1?\"Year\":\"Decade\")];\r\n\t\t\theader[0].innerHTML = zlogic._getTitle(config.date, this);\r\n\t\t\theader[1].setAttribute(\"aria-label\", labels[0]);\r\n\t\t\theader[2].setAttribute(\"aria-label\", labels[1]);\r\n\r\n\r\n\r\n\t\t\theight = this._reserve_box_height/3;\r\n\t\t\twidth = this._reserve_box_width/4;\r\n            if(this._checkDate(config.date))\r\n\t\t\t\tselected = (this._zoom_level==1?config.date.getMonth():config.date.getFullYear());\r\n\t\t\tfor (i=0; i<12; i++){\r\n\t\t\t\tcss = (selected == (this._zoom_level==1?i:zlogic._getContent(i, this)) ? \" webix_selected\" : \"\");\r\n\t\t\t\tif(zlogic._isBlocked(i,this)){\r\n\t\t\t\t\tcss += \" webix_cal_day_disabled\";\r\n\t\t\t\t}\r\n\t\t\t\thtml+=\"<div role='gridcell' tabindex='\"+(css.indexOf(\"selected\")!==-1?\"0\":\"-1\")+\"' aria-selected='\"+(css.indexOf(\"selected\")!==-1?\"true\":\"false\")+\"' class='webix_cal_block\"+css+\"' data-value='\"+i+\"' style='\"+this._getCalSizesString(width,height)+\"'>\"+zlogic._getContent(i, this)+\"</div>\";\r\n\t\t\t}\r\n\t\t\tif(index-1){\r\n\t\t\t\tsections[index-1].style.display = \"none\";\r\n\t\t\t}\r\n\t\t\tsections[index].innerHTML = html;\r\n\t\t\tif(type != \"year\" && type != \"month\"){\r\n\t\t\t\tif(!sections[index+1])\r\n\t\t\t\t\tthis._contentobj.innerHTML += \"<div  class='webix_time_footer'>\"+this._timeButtonsTemplate()+\"</div>\";\r\n\t\t\t\telse\r\n\t\t\t\t\tsections[index+1].innerHTML=this._timeButtonsTemplate();\r\n\t\t\t}\r\n\t\t\tsections[index].style.height = this._reserve_box_height+\"px\";\r\n\t\t\tsections[index].setAttribute(\"role\", \"row\");\r\n\t\t}\r\n\t},\r\n\t_getCalSizesString: function(width,height){\r\n\t\treturn \"width:\"+width+\"px; height:\"+height+\"px; line-height:\"+height+\"px;\";\r\n\t},\r\n\t_timeButtonsTemplate: function(){\r\n\t\treturn \"<input type='button' style='width:100%' class='webix_cal_done' value='\"+webix.i18n.calendar.done+\"'>\";\r\n\t},\r\n\t_timeHeaderTemplate: function(width,enLocale){\r\n\t\tvar w1 = width*(enLocale?5:4);\r\n\t\tvar w2 = width*2;\r\n\t\treturn \"<div class='webix_cal_hours' role='columnheader' style='width:\"+w1+\"px'>\"+webix.i18n.calendar.hours+\"</div><div class='webix_cal_minutes' role='columnheader' style='width:\"+w2+\"px'>\"+webix.i18n.calendar.minutes+\"</div>\";\r\n\t},\r\n\t_changeZoomLevel: function(zoom,date){\r\n\t\tvar oldzoom = this._zoom_level;\r\n\t\tif(this.callEvent(\"onBeforeZoom\",[zoom, oldzoom])){\r\n\t\t\tthis._zoom_level = zoom;\r\n\r\n\t\t\tif(zoom)\r\n\t\t\t\tthis._update_zoom_level(date);\r\n\t\t\telse\r\n\t\t\t\tthis.showCalendar(date);\r\n\t\t\tthis.callEvent(\"onAfterZoom\",[zoom, oldzoom]);\r\n\t\t}\r\n\t},\r\n\t_correctDate:function(date){\r\n\t\tif(!this._checkDate(date) && this._zoom_logic[this._zoom_level]._correctDate)\r\n\t\t\tdate = this._zoom_logic[this._zoom_level]._correctDate(date,this);\r\n\t\treturn date;\r\n\t},\r\n\t_mode_selected:function(value){\r\n\r\n\t\tvar now = this._settings.date;\r\n\t\tvar next = webix.Date.copy(now);\r\n\r\n\t\tthis._zoom_logic[this._zoom_level]._setContent(next, value, this);\r\n\r\n\t\tvar zoom = this._zoom_level-(this._fixed?0:1);\r\n\t\tvar prevZoom = this._zoom_level;\r\n        next = this._correctDate(next);\r\n        if(this._checkDate(next)){\r\n\t\t\tthis._changeZoomLevel(zoom, next);\r\n\t\t\tvar type = this._settings.type;\r\n\t\t\tif(type == \"month\" && prevZoom !=2 || type == \"year\")\r\n\t\t\t\tthis._selectDate(next);\r\n\t\t}\r\n\t},\r\n\t// selects date and redraw calendar\r\n\t_selectDate: function(date){\r\n\t\tif(this.callEvent(\"onBeforeDateSelect\", [date])){\r\n\t\t\tthis.selectDate(date, true);\r\n\t\t\tthis.callEvent(\"onDateSelect\", [date]);       // should be deleted in a future version\r\n\t\t\tthis.callEvent(\"onAfterDateSelect\", [date]);\r\n\t\t}\r\n\t},\r\n\ton_click:{\r\n\t\twebix_cal_prev_button: function(e, id, target){\r\n\t\t\tthis._changeDate(-1);\r\n\t\t},\r\n\t\twebix_cal_next_button: function(e, id, target){\r\n\t\t\tthis._changeDate(1);\r\n\t\t},\r\n\t\twebix_cal_day_disabled: function(){\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\twebix_cal_outside: function(){\r\n\t\t\tif(!this._settings.navigation)\r\n\t\t\t\treturn false;\r\n\t\t},\r\n\t\twebix_cal_day: function(e, id, target){\r\n\t\t\tvar cind = webix.html.index(target) - (this._settings.weekNumber?1:0);\r\n\t\t\tvar rind = webix.html.index(target.parentNode);\r\n\t\t\tvar date = webix.Date.add(this._getDateBoundaries()._start, cind + rind*7, \"day\", true);\r\n\t\t\tif (this._settings.timepicker){\r\n\t\t\t\tdate.setHours(this._settings.date.getHours());\r\n\t\t\t\tdate.setMinutes(this._settings.date.getMinutes());\r\n\t\t\t}\r\n\t\t\tthis._selectDate(date);\r\n\t\t},\r\n\t\twebix_cal_time:function(e){\r\n\t\t\tif(this._zoom_logic[this._zoom_level-1]){\r\n\t\t\t\tthis._zoom_in = true;\r\n\t\t\t\tvar zoom = this._zoom_level - 1;\r\n\t\t\t\tthis._changeZoomLevel(zoom);\r\n\t\t\t}\r\n\t\t},\r\n\t\twebix_range_time_start:function(){\r\n\t\t\twebix.$$(this._settings.master)._time_mode = \"start\";\r\n\t\t},\r\n\t\twebix_range_time_end:function(){\r\n\t\t\twebix.$$(this._settings.master)._time_mode = \"end\";\r\n\t\t},\r\n\t\twebix_cal_done:function(e){\r\n\t\t\tvar date = webix.Date.copy(this._settings.date);\r\n\t\t\tdate = this._correctDate(date);\r\n\t\t\tthis._selectDate(date);\r\n\t\t},\r\n\t\twebix_cal_month_name:function(e){\r\n\t\t\tthis._zoom_in = false;\r\n\t\t\t//maximum zoom reached\r\n\t\t\tif (this._zoom_level == 2 || !this._settings.monthSelect) return;\r\n\r\n\t\t\tvar zoom = Math.max(this._zoom_level, 0) + 1;\r\n\t\t\tthis._changeZoomLevel(zoom);\r\n\t\t},\r\n\t\twebix_cal_block:function(e, id, trg){\r\n\t\t\tif(this._zoom_in){\r\n\r\n\t\t\t\tif(trg.className.indexOf('webix_cal_day_disabled')!==-1)\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tvar level = (trg.className.indexOf(\"webix_cal_block_min\")!=-1?this._zoom_level-1:this._zoom_level);\r\n\t\t\t\tvar now = this._settings.date;\r\n\t\t\t\tvar next = webix.Date.copy(now);\r\n\t\t\t\tthis._zoom_logic[level]._setContent(next, trg.getAttribute(\"data-value\")*1, this);\r\n\t\t\t\tthis._update_zoom_level(next);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tif(trg.className.indexOf('webix_cal_day_disabled')==-1)\r\n\t\t\t\t\tthis._mode_selected(trg.getAttribute(\"data-value\")*1);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_string_to_date: function(date, format){\r\n\t\tif (!date){\r\n\t\t\treturn webix.Date.datePart(new Date());\r\n\t\t}\r\n\t\tif(typeof date == \"string\"){\r\n\t\t\tif (format)\r\n\t\t\t\tdate = webix.Date.strToDate(format)(date);\r\n\t\t\telse\r\n\t\t\t\tdate=webix.i18n.parseFormatDate(date);\r\n\t\t}\r\n\r\n\t\treturn date;\r\n\t},\r\n\t_checkDate: function(date){\r\n\t\tvar blockedDate = (this._settings.blockDates && this._settings.blockDates.call(this,date));\r\n\t\tvar minDate = this._settings.minDate;\r\n\t\tvar maxDate = this._settings.maxDate;\r\n\t\tvar outOfRange = (date < minDate || date > maxDate);\r\n\t\treturn !blockedDate &&!outOfRange;\r\n\t},\r\n\t_findActive:function(date, mode){\r\n\t\tvar dir = (mode === \"top\" || mode ===\"left\" || mode === \"pgup\" || mode === \"up\") ? -1 : 1;\r\n\t\tvar newdate = webix.Date.add(date, dir, \"day\", true);\r\n\t\tif(this._checkDate(newdate))\r\n\t\t\treturn newdate;\r\n\t\telse{\r\n\t\t\tvar compare;\r\n\t\t\tif(this._zoom_level === 0) compare = (date.getMonth() === newdate.getMonth());\r\n\t\t\telse if(this._zoom_level === 1 ) compare = (date.getFullYear() === newdate.getFullYear());\r\n\t\t\telse if(this._zoom_level === 2) compare = (newdate.getFullYear() > this._zoom_start_date && newdate.getFullYear() < this._zoom_start_date+10);\r\n\r\n\t\t\tif(compare)\r\n\t\t\t\treturn this._findActive(newdate, mode);\r\n\t\t}\r\n\t},\r\n\tshowCalendar: function(date) {\r\n\t\tdate = this._string_to_date(date);\r\n\t\tthis._settings.date = date;\r\n\t\tthis.render();\r\n\t\tthis.resize();\r\n\t},\r\n\tgetSelectedDate: function() {\r\n        return (this._selected_date)?webix.Date.copy(this._selected_date):this._selected_date;\r\n\r\n\t},\r\n\tgetVisibleDate: function() {\r\n\t\treturn webix.Date.copy(this._settings.date);\r\n\t},\r\n\tsetValue: function(date, format){\r\n        this.selectDate(date, true);\r\n\t},\r\n\tgetValue: function(format){\r\n\t\tvar date = this.getSelectedDate();\r\n\t\tif (format)\r\n\t\t\tdate = webix.Date.dateToStr(format)(date);\r\n\t\treturn date;\r\n\t},\r\n\tselectDate: function(date, show){\r\n        if(date){\r\n            date = this._string_to_date(date);\r\n            this._selected_date = date;\r\n            this._selected_date_part = webix.Date.datePart(webix.Date.copy(date));\r\n        }\r\n        else{ //deselect\r\n            this._selected_date = null;\r\n            this._selected_date_part = null;\r\n\t        if(this._settings.date){\r\n\t\t        webix.Date.datePart(this._settings.date);\r\n\t        }\r\n        }\r\n\r\n\t\tif (show)\r\n\t\t\tthis.showCalendar(date);\r\n\t\telse if(show !==false)\r\n\t\t\tthis.render();\r\n\r\n\t\tthis.callEvent(\"onChange\",[date]);\r\n\t}, \r\n\tlocate:function(){ return null; }\r\n\t\r\n}, webix.MouseEvents, webix.ui.view, webix.EventSystem);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"property\",\r\n\t$init:function(){\r\n\t\tthis._contentobj.className+=\" webix_property\";\r\n\t\tthis._contentobj.setAttribute(\"role\", \"listbox\");\r\n        this._destroy_with_me = [];\r\n\t},\r\n\tdefaults:{\r\n\t\tnameWidth:100,\r\n\t\teditable:true\r\n\t},\r\n\ton_render:{\r\n\t\tcheckbox:function(value, config){\r\n\t\t\treturn  \"<input type='checkbox' class='webix_property_check' \"+(value?\"checked\":\"\")+\">\";\r\n\t\t},\r\n\t\tcolor:function(value, config){\r\n\t\t\treturn  \"<div class=\\\"webix_property_col_val\\\"><div class='webix_property_col_ind' style=\\\"background-color:\"+(value||\"#FFFFFF\")+\";\\\"></div><span>\" +value+\"</span></div>\";\r\n\t\t}\r\n\t},\r\n\ton_edit:{\r\n\t\tlabel:false\r\n\t},\r\n\t_id:\"webix_f_id\",\r\n\ton_click:{\r\n\t\twebix_property_check:function(ev){\r\n\t\t\tvar id = this.locate(ev);\r\n\t\t\tthis.getItem(id).value = !this.getItem(id).value;\r\n\t\t\tthis.callEvent(\"onCheck\",[id, this.getItem(id).value]);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t},\r\n\ton_dblclick:{\r\n\t},\r\n\tregisterType:function(name, data){\r\n\t\tif (data.template)\r\n\t\t\tthis.on_render[name] = data.template;\r\n\t\tif (data.editor)\r\n\t\t\tthis.on_edit[name] = data.editor;\r\n\t\tif (data.click)\r\n\t\t\tfor (var key in data.click)\r\n\t\t\t\tthis.on_click[key] = data.click[key];\r\n\t},\r\n    elements_setter:function(data){\r\n        this._idToLine = {};\r\n        for(var i =0; i < data.length; i++){\r\n            var line = data[i];\r\n            if (line.type == \"multiselect\")\r\n            \tline.optionslist = true;\r\n\r\n            //line.type \t= \tline.type||\"label\";\r\n            line.id \t=\tline.id||webix.uid();\r\n            line.label \t=\tline.label||\"\";\r\n            line.value \t=\tline.value||\"\";\r\n            this._idToLine[line.id] = i;\r\n            this.template = this._map_options(data[i]);\r\n        }\r\n        return data;\r\n    },\r\n\tshowItem:function(id){\r\n\t\twebix.RenderStack.showItem.call(this, id);\r\n\t},\r\n\tlocate:function(e){\r\n\t\treturn webix.html.locate(arguments[0], this._id);\r\n\t},\r\n\tgetItemNode:function(id){\r\n\t\treturn this._dataobj.childNodes[this._idToLine[id]];\r\n\t},\r\n\tgetItem:function(id){\r\n\t\treturn this._settings.elements[this._idToLine[id]];\r\n\t},\r\n\t_get_editor_type:function(id){\r\n\t\tvar type = this.getItem(id).type;\r\n\t\tif (type == \"checkbox\") return \"inline-checkbox\";\r\n\t\tvar alter_type = this.on_edit[type];\r\n\t\treturn (alter_type === false)?false:(alter_type||type);\r\n\t},\r\n\t_get_edit_config:function(id){\r\n\t\treturn this.getItem(id);\r\n\t},\r\n\t_find_cell_next:function(start, check , direction){\r\n\t\tvar row = this._idToLine[start.id];\r\n\t\tvar order = this._settings.elements;\r\n\t\t\r\n\t\tif (direction){\r\n\t\t\tfor (var i=row+1; i<order.length; i++){\r\n\t\t\t\tif (check.call(this, order[i].id))\r\n\t\t\t\t\treturn order[i].id;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i=row-1; i>=0; i--){\r\n\t\t\t\tif (check.call(this, order[i].id))\r\n\t\t\t\t\treturn order[i].id;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t},\r\n\tupdateItem:function(){\r\n\t\tthis.refresh();\r\n\t},\r\n\t_cellPosition:function(id){\r\n\t\tvar html = this.getItemNode(id);\r\n\t\treturn {\r\n\t\t\tleft:html.offsetLeft+this._settings.nameWidth, \r\n\t\t\ttop:html.offsetTop,\r\n\t\t\theight:html.firstChild.offsetHeight,\r\n\t\t\twidth:this._data_width,\r\n\t\t\tparent:this._contentobj\r\n\t\t};\r\n\t},\r\n\tsetValues:function(data, update){\r\n\t\tif (this._settings.complexData)\r\n\t\t\tdata = webix.CodeParser.collapseNames(data);\r\n\r\n\t\tif(!update) this._clear();\r\n\t\tfor(var key in data){\r\n\t\t\tvar line = this.getItem(key);\r\n\t\t\tif (line)\r\n\t\t\t\tline.value = data[key];\r\n\t\t}\r\n\t\t\r\n\t\tthis._props_dataset = data;\r\n\t\tthis.refresh();\r\n\t},\r\n\t_clear:function(){\r\n\t\tvar lines = this._settings.elements;\r\n\t\tfor (var i=0; i<lines.length; i++)\r\n\t\t\tlines[i].value = \"\";\r\n\t},\r\n\tgetValues:function(){\r\n\t\tvar data = webix.clone(this._props_dataset||{});\r\n\t\tfor (var i = 0; i < this._settings.elements.length; i++) {\r\n\t\t\tvar line = this._settings.elements[i];\r\n\t\t\tif (line.type != \"label\")\r\n\t\t\t\tdata[line.id] = line.value;\r\n\t\t}\r\n\r\n\t\tif (this._settings.complexData)\r\n\t\t\tdata = webix.CodeParser.expandNames(data);\r\n\r\n\t\treturn data;\r\n\t},\r\n\trefresh:function(){\r\n\t\tthis.render();\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tif (webix.ui.view.prototype.$setSize.call(this, x, y)){\r\n\t\t\tthis._data_width = this._content_width - this._settings.nameWidth;\r\n\t\t\tthis.render();\r\n\t\t}\r\n\t},\r\n\t$getSize:function(dx,dy){\r\n\t\tif (this._settings.autoheight){\r\n\t\t\tvar count = this._settings.elements.length;\r\n\t\t\tthis._settings.height = Math.max(this.type.height * count,this._settings.minHeight||0);\r\n\t\t}\r\n\t\treturn webix.ui.view.prototype.$getSize.call(this, dx, dy);\r\n\t},\r\n\t_toHTML:function(){\r\n\t\tvar html = [];\r\n\t\tvar els = this._settings.elements;\r\n\t\tif (els)\r\n\t\t\tfor (var i=0; i<els.length; i++){\r\n\t\t\t\tvar data = els[i];\r\n\t\t\t\tif (data.css && typeof data.css == \"object\")\r\n\t\t\t\t\tdata.css = webix.html.createCss(data.css);\r\n\r\n\t\t\t\tvar pre = '<div webix_f_id=\"'+data.id+'\"'+(data.type!=='label'?'role=\"option\" tabindex=\"0\"':'')+' class=\"webix_property_line '+(data.css||'')+'\">';\r\n\t\t\t\tif (data.type == \"label\")\r\n\t\t\t\t\thtml[i] = pre+\"<div class='webix_property_label_line'>\"+data.label+\"</div></div>\";\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar render = this.on_render[data.type],\r\n                        content;\r\n\t\t\t\t\tvar post = \"<div class='webix_property_label' style='width:\"+this._settings.nameWidth+\"px'>\"+data.label+\"</div><div class='webix_property_value' style='width:\"+this._data_width+\"px'>\";\r\n                    if(data.collection || data.options){\r\n                        content = data.template(data, data.value);\r\n                    }else if(data.format)\r\n                        content = data.format(data.value);\r\n                    else\r\n                        content = data.value;\r\n\t\t\t\t\tif (render)\r\n\t\t\t\t\t\tcontent = render.call(this, data.value, data);\r\n\t\t\t\t\thtml[i] = pre+post+content+\"</div></div>\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\treturn html.join(\"\");\r\n\t},\r\n\ttype:{\r\n\t\theight:24,\r\n\t\ttemplateStart:webix.template(\"\"),\r\n\t\ttemplateEnd:webix.template(\"</div>\")\r\n\t},\r\n\t$skin: function(){\r\n\t\tthis.type.height = webix.skin.$active.propertyItemHeight||24;\r\n\t}\r\n}, webix.AutoTooltip, webix.EditAbility, webix.MapCollection, webix.MouseEvents, webix.Scrollable, webix.SingleRender, webix.AtomDataLoader, webix.EventSystem, webix.ui.view);\r\n\r\n\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"colorboard\",\r\n\tdefaults:{\r\n\t\ttemplate:\"<div style=\\\"width:100%;height:100%;background-color:{obj.val}\\\"></div>\",\r\n\t\tpalette:null,\r\n\t\theight:220,\r\n\t\twidth:220,\r\n\t\tcols:12,\r\n\t\trows:10,\r\n\t\tminLightness:0.15,\r\n\t\tmaxLightness:1,\r\n\t\tnavigation:true\r\n\t},\r\n\t$init:function(config){\r\n\t\twebix.event(this._viewobj, \"click\", webix.bind(function(e){\r\n\t\t\tvar value = webix.html.locate(e, \"webix_val\");\r\n\t\t\tthis.setValue(value);\r\n\t\t\tthis.callEvent(\"onSelect\", [this._settings.value, e]);\r\n\t\t}, this));\r\n\r\n\t\tthis.$view.setAttribute(\"role\", \"grid\");\r\n\t\tthis._viewobj.setAttribute(\"aria-readonly\", \"true\");\r\n\t},\r\n\t_findIndex:function(value){\r\n\t\tvar pal = this._settings.palette;\r\n\t\tvalue = value.toUpperCase();\r\n\t\tfor(var r= 0, rows= pal.length; r < rows; r++)\r\n\t\t\tfor(var c= 0, cols = pal[r].length; c < cols; c++){\r\n\t\t\t\tif(pal[r][c].toUpperCase() == value){\r\n\t\t\t\t\treturn {row:r, col:c};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\treturn null;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tif(webix.ui.view.prototype.$setSize.call(this,x,y)){\r\n\t\t\tthis.render();\r\n\t\t}\r\n\t},\r\n\tgetValue:function(){\r\n\t\treturn this._settings.value;\r\n\t},\r\n\t_getBox:function(){\r\n\t\treturn this._viewobj.firstChild;\r\n\t},\r\n\tsetValue:function(value){\r\n\t\tif(!value)\r\n\t\t\treturn;\r\n\t\tif(value.charAt(0) != \"#\")\r\n\t\t\tvalue = '#' + value;\r\n\r\n\t\tvar oldvalue = this._settings.value;\r\n\r\n\t\tthis._settings.value = value;\r\n\t\tthis.$setValue(value, oldvalue);\r\n\r\n\t\treturn value;\r\n\t},\r\n\t_selectBox:null,\r\n\t_getSelectBox:function(){\r\n\t\tif( this._selectBox && this._selectBox.parentNode ){\r\n\t\t\treturn this._selectBox;\r\n\t\t}else{\r\n\t\t\tvar div = this._selectBox = document.createElement(\"div\");\r\n\t\t\tdiv.className = \"webix_color_selector\";\r\n\t\t\tthis._viewobj.lastChild.appendChild(div);\r\n\t\t\treturn div;\r\n\t\t}\r\n\t},\r\n\t$setValue:function(value, oldvalue){\r\n\t\tif(this.isVisible(this._settings.id)){\r\n\t\t\tvar cell, div, ind, parent, style,\r\n\t\t\t\tleft = 0, top = 0;\r\n\r\n\t\t\t//remove tabindex for previous selection\r\n\t\t\tif(oldvalue) ind = this._findIndex(oldvalue);\r\n\t\t\tif(!ind) ind = {row:0, col:0};\r\n\t\t\tthis._viewobj.lastChild.childNodes[ind.row].childNodes[ind.col].setAttribute(\"tabindex\", \"-1\");\r\n\r\n\t\t\tind = this._findIndex(value);\r\n\t\t\tif(ind){\r\n\t\t\t\tcell = this._viewobj.lastChild.childNodes[ind.row].childNodes[ind.col];\r\n\t\t\t}\r\n\r\n\t\t\tif(cell && cell.parentNode && cell.parentNode.parentNode){\r\n\t\t\t\tparent = cell.parentNode;\r\n\t\t\t\tleft = cell.offsetLeft - parent.offsetLeft ;\r\n\t\t\t\ttop = - (this.$height - (cell.offsetTop -parent.parentNode.offsetTop ));\r\n\r\n\t\t\t\tcell.setAttribute(\"tabindex\", \"0\");\r\n\t\t\t\tcell.setAttribute(\"aria-selected\", \"true\");\r\n\t\t\t\tcell.setAttribute(\"tabindex\", \"0\");\r\n\t\t\t\tcell.setAttribute(\"aria-selected\", \"true\");\r\n\t\t\t}else{\r\n\t\t\t\tif (this._selectBox)\r\n\t\t\t\t\tthis._selectBox.style.left = \"-100px\";\r\n\t\t\t\tthis._viewobj.lastChild.childNodes[0].childNodes[0].setAttribute(\"tabindex\", \"0\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tdiv = this._getSelectBox();\r\n\t\t\tstyle =  [\r\n\t\t\t\t\"left:\" + left + \"px\",\r\n\t\t\t\t\"top:\" + top+\"px\",\r\n\t\t\t\t\"width:\" + cell.style.width,\r\n\t\t\t\t\"height:\" + cell.style.height\r\n\t\t\t].join(\";\");\r\n\r\n\t\t\tif( typeof( div.style.cssText ) !== 'undefined' ) {\r\n\t\t\t\tdiv.style.cssText = style;\r\n\t\t\t} else {\r\n\t\t\t\tdiv.setAttribute('style',style);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t_initPalette:function(config){\r\n\t\tfunction numToHex(n){\r\n\t\t\treturn webix.color.toHex(n, 2);\r\n\t\t}\r\n\t\tfunction rgbToHex(r,g,b){\r\n\t\t\treturn \"#\"+numToHex( Math.floor(r)) +numToHex( Math.floor(g)) + numToHex(Math.floor(b));\r\n\t\t}\r\n\t\tfunction hslToRgb(h, s, l){\r\n\t\t\tvar r, g, b;\r\n\t\t\tif(!s){\r\n\t\t\t\tr = g = b = l; // achromatic\r\n\t\t\t}else{\r\n\t\t\t\tvar q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n\t\t\t\tvar p = 2 * l - q;\r\n\t\t\t\tr = hue2rgb(p, q, h + 1/3);\r\n\t\t\t\tg = hue2rgb(p, q, h);\r\n\t\t\t\tb = hue2rgb(p, q, h - 1/3);\r\n\t\t\t}\r\n\r\n\t\t\treturn {r:r * 255, g:g * 255, b:b * 255};\r\n\t\t}\r\n\t\tfunction hue2rgb(p, q, t){\r\n\t\t\tif(t < 0) t += 1;\r\n\t\t\tif(t > 1) t -= 1;\r\n\t\t\tif (t < 1/6)\r\n\t\t\t\treturn p + (q - p) * 6 * t; \r\n\t\t\telse if (t <= 1/2)\r\n\t\t\t\treturn q;\r\n\t\t\telse if (t < 2/3) \r\n\t\t\t\treturn p + (q - p) * (2/3 - t) * 6;\r\n\t\t\telse\r\n\t\t\t\treturn p;\r\n\t\t}\r\n\r\n\t\tfunction renderGrayBar(colCount){\r\n\t\t\tvar gray = [],\r\n\t\t\t\tval = 255,\r\n\t\t\t\tstep = val / colCount;\r\n\r\n\t\t\tfor(var i=0; i < colCount; i++){\r\n\t\t\t\tval = Math.round(val > 0 ? val : 0);\r\n\t\t\t\tgray.push(rgbToHex(val, val, val));\r\n\t\t\t\tval -= step;\r\n\t\t\t}\r\n\t\t\tgray[gray.length - 1] = \"#000000\";\r\n\t\t\treturn gray;\r\n\t\t}\r\n\r\n\t\tvar colors = [];\r\n\t\tvar colorRows = config.rows - 1;\r\n\t\tvar colorStep = 1/config.cols;\r\n\t\tvar lightStep = (config.maxLightness - config.minLightness)/colorRows;\r\n\t\tvar colorRange = null;\r\n\r\n\t\tcolors.push(renderGrayBar(config.cols));\r\n\r\n\t\tfor(var step = 0, lt = config.minLightness; step < colorRows; step++){\r\n\t\t\tcolorRange = [];\r\n\t\t\tfor(var c = 0, col = 0; c < config.cols; c++ ){\r\n\t\t\t\tvar val = hslToRgb(col, 1, lt );\r\n\t\t\t\tcolorRange.push(rgbToHex(val.r, val.g, val.b));\r\n\t\t\t\tcol += colorStep;\r\n\t\t\t}\r\n\t\t\tcolors.push(colorRange);\r\n\t\t\tlt+=lightStep;\r\n\t\t}\r\n\r\n\t\tthis._settings.palette = colors;\r\n\t},\r\n\tmoveSelection:function(mode){\r\n\t\tvar value = this.getValue(), ind, cell;\r\n\r\n\t\tif(value) ind = this._findIndex(value);\r\n\t\tif(!ind) ind = {row:0, col:0};\r\n\r\n\t\tif(ind){\r\n\t\t\tif(mode == \"up\" || mode == \"down\")\r\n\t\t\t\tind.row = ind.row + (mode == \"up\"?-1:1);\r\n\t\t\telse if(mode == \"right\" || mode == \"left\")\r\n\t\t\t\tind.col = ind.col +(mode == \"right\"?1:-1);\r\n\t\t\telse if(mode == \"top\" )\r\n\t\t\t\tind.row = ind.col = 0;\r\n\t\t\telse if(mode == \"bottom\"){\r\n\t\t\t\tind.row = this._viewobj.lastChild.querySelectorAll(\".webix_color_row\").length-1;\r\n\t\t\t\tind.col = this._viewobj.lastChild.childNodes[ind.row].childNodes.length-1;\r\n\t\t\t}\r\n\r\n\t\t\tif(ind.row>=0)\r\n\t\t\t\tcell = this._viewobj.lastChild.childNodes[ind.row].childNodes[ind.col];\r\n\t\t\tif(cell){\r\n\t\t\t\tvalue =  cell.getAttribute(\"webix_val\");\r\n\t\t\t\tthis.setValue(value);\r\n\r\n\t\t\t\tvar sel = this._viewobj.querySelector(\"div[tabindex='0']\");\r\n\t\t\t\tif(sel)  sel.focus();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\trender:function(){\r\n\t\tif(!this.isVisible(this._settings.id))\r\n\t\t\treturn;\r\n\r\n\t\tif(!this._settings.palette)\r\n\t\t\tthis._initPalette(this._settings);\r\n\t\tvar palette = this._settings.palette;\r\n\r\n\t\tthis.callEvent(\"onBeforeRender\",[]);\r\n\t\tvar config = this._settings,\r\n\t\t\titemTpl = webix.template(\"<div role='gridcell' tabindex='-1' aria-label=\\\"{obj.val}\\\" style=\\\"width:{obj.width}px;height:{obj.height}px;\\\" webix_val=\\\"{obj.val}\\\">\" + (config.template||\"\") + \"</div>\"),\r\n\t\t\tdata = {width: 0, height:0, val:0},\r\n\t\t\twidth = this.$width,\r\n\t\t\theight =  this.$height,\r\n\t\t\twidths = [];\r\n\r\n\t\tvar html = \"<div class=\\\"webix_color_palette\\\"role=\\\"rowgroup\\\">\";\r\n\r\n\t\tvar firstRow = (typeof palette[0] == \"object\") ? palette[0] : palette;\r\n\t\tfor(var i=0; i < firstRow.length; i++){\r\n\t\t\twidths[i] = Math.floor(width/(firstRow.length - i));\r\n\t\t\twidth -= widths[i];\r\n\t\t}\r\n\r\n\t\tif(typeof palette[0] == \"object\"){\r\n\t\t\tfor(var r=0; r < palette.length; r++){\r\n\t\t\t\tvar cellHeight = Math.floor(height/(palette.length - r));\r\n\t\t\t\theight -= cellHeight;\r\n\t\t\t\tvar row = palette[r];\r\n\t\t\t\thtml += renderRow(row, widths, cellHeight);\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\thtml+= renderRow(palette, widths, height);\r\n\t\t}\r\n\r\n\t\thtml += \"</div>\";\r\n\t\tthis._viewobj.innerHTML = html;\r\n\r\n\t\tfunction renderRow(row, widths, height){\r\n\t\t\tvar rowHtml = \"<div class=\\\"webix_color_row\\\" role=\\\"row\\\">\";\r\n\t\t\tfor(var cell = 0; cell < row.length; cell++){\r\n\t\t\t\tdata.width = widths[cell];\r\n\t\t\t\tdata.height = height;\r\n\t\t\t\tdata.val = row[cell];\r\n\t\t\t\trowHtml += itemTpl(data);\r\n\t\t\t}\r\n\t\t\trowHtml += \"</div>\";\r\n\t\t\treturn rowHtml;\r\n\t\t}\r\n\t\tthis._selectBox = null;\r\n\t\tif(this._settings.value)\r\n\t\t\tthis.$setValue(this._settings.value);\r\n\t\telse\r\n\t\t\tthis._viewobj.lastChild.childNodes[0].childNodes[0].setAttribute(\"tabindex\", \"0\");\r\n\t\tthis.callEvent(\"onAfterRender\",[]);\r\n\t},\r\n\trefresh:function(){ this.render(); }\r\n}, webix.ui.view, webix.EventSystem);\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"resizer\",\r\n\tdefaults:{\r\n\t\twidth:7, height:7\r\n\t},\r\n\t$init:function(config){\r\n\t\twebix.assert(this.getParentView(), \"Resizer can't be initialized outside a layout\");\r\n\t\tthis._viewobj.className += \" webix_resizer\";\r\n\t\tvar space = this.getParentView()._margin;\r\n\t\t\r\n\t\twebix.event(this._viewobj, webix.env.mouse.down, this._rsDown, {bind:this});\r\n\t\twebix.event(document.body, webix.env.mouse.up, this._rsUp, {bind:this});\r\n\r\n\t\tvar dir = this._getResizeDir();\r\n\r\n\t\tthis._rs_started = false;\r\n\t\tthis._resizer_dir = dir;\r\n\r\n\t\tthis._resizer_dim = (dir==\"x\"?\"width\":\"height\");\r\n\t\t\r\n\t\tif (dir==\"x\")\r\n\t\t\tconfig.height = 0;\r\n\t\telse \r\n\t\t\tconfig.width = 0;\r\n\r\n\t\tif (space>0){\r\n\t\t\tthis._viewobj.className += \" webix_resizer_v\"+dir;\r\n\t\t\tthis._viewobj.style.marginRight = \"-\"+space+\"px\";\r\n\t\t\tif (dir == \"x\")\t\r\n\t\t\t\tconfig.width = space;\r\n\t\t\telse\r\n\t\t\t\tconfig.height = space;\r\n\t\t\tthis.$nospace = true;\r\n\t\t} else\r\n\t\t\tthis._viewobj.className += \" webix_resizer_\"+dir;\r\n\t\t\r\n\t\tthis._viewobj.innerHTML = \"<div class='webix_resizer_content'></div>\";\r\n\t\tif (dir == \"y\" && space>0) this._viewobj.style.marginBottom = \"-\"+(config.height||this.defaults.height)+\"px\";\r\n\r\n\t\tthis._viewobj.setAttribute(\"tabindex\", \"-1\");\r\n\t\tthis._viewobj.setAttribute(\"aria-grabbed\", \"false\");\r\n\r\n\t},\r\n\t_rsDown:function(e){\r\n\t\tvar cells = this._getResizerCells();\r\n\t\t//some sibling can block resize\r\n\t\tif(cells && !this._settings.disabled){\r\n\t\t\te = e||event;\r\n\t\t\tthis._rs_started = true;\r\n\t\t\tthis._rs_process = webix.html.pos(e);\r\n\t\t\tthis._rsLimit = [];\r\n\t\t\tthis._viewobj.setAttribute(\"aria-grabbed\", \"true\");\r\n\t\t\t\r\n\t\t\tfor(var i=0; i<2; i++)\r\n\t\t\t\tcells[i].$view.setAttribute(\"aria-dropeffect\", \"move\");\r\n\t\t\tthis._viewobj.setAttribute(\"aria-dropeffect\", \"move\");\r\n\t\t\t\r\n\t\t\tthis._rsStart(e, cells[0]);\r\n\t\t}\r\n\t},\r\n\t_rsUp:function(){\r\n\t\tthis._rs_started = false;\r\n\t\tthis._rs_process = false;\r\n\t},\r\n\t_rsStart:function(e, cell){\r\n\r\n\t\tvar dir,offset, pos,posParent,start;\r\n\t\te = e||event;\r\n\t\tdir = this._resizer_dir;\r\n\r\n\t\t/*layout position:relative to place absolutely positioned elements in it*/\r\n\t\tthis.getParentView()._viewobj.style.position = \"relative\";\r\n\t\tpos = webix.html.offset(this._viewobj);\r\n\t\tposParent = webix.html.offset(this.getParentView()._viewobj);\r\n\t\tstart = pos[dir]-posParent[dir];\r\n\t\toffset = webix.html.offset(cell.$view)[dir]- webix.html.offset(this.getParentView().$view)[dir];\r\n\r\n\t\tthis._rs_progress = [dir,cell, start, offset];\r\n\t\t/*resizer stick (resizerea ext)*/\r\n\r\n\t\tthis._resizeStick = new webix.ui.resizearea({\r\n\t\t\tcontainer:this.getParentView()._viewobj,\r\n\t\t\tdir:dir,\r\n\t\t\teventPos:this._rs_process[dir],\r\n\t\t\tstart:start-1,\r\n\t\t\theight: this.$height,\r\n\t\t\twidth: this.$width,\r\n\t\t\tborder: 1,\r\n\t\t\tmargin: this.getParentView()[\"_padding\"+dir.toUpperCase()]\r\n\t\t});\r\n\r\n\t\t/*stops resizing on stick mouseup*/\r\n\t\tthis._resizeStick.attachEvent(\"onResizeEnd\", webix.bind(this._rsEnd, this));\r\n\t\t/*needed to stop stick moving when the limit for dimension is reached*/\r\n\t\tthis._resizeStick.attachEvent(\"onResize\", webix.bind(this._rsResizeHandler, this));\r\n\r\n\t\twebix.html.addCss(document.body,\"webix_noselect\",1);\r\n\t},\r\n\t_getResizeDir: function(){\r\n\t\treturn this.getParentView()._vertical_orientation?\"y\":\"x\";\r\n\t},\r\n\t_rsResizeHandler:function(){\r\n\t\tvar cells,config,cDiff,diff,dir,i,limits,limitSizes,sizes,totalSize;\r\n\t\tif(this._rs_progress){\r\n\t\t\tcells = this._getResizerCells();\r\n\t\t\tdir = this._rs_progress[0];\r\n\t\t\t/*vector distance between resizer and stick*/\r\n\t\t\tdiff = this._resizeStick._last_result -this._rs_progress[2];\r\n\t\t\t/*new sizes for the resized cells, taking into account the stick position*/\r\n\t\t\tsizes = this._rsGetDiffCellSizes(cells,dir,diff);\r\n\t\t\t/*sum of cells dimensions*/\r\n\t\t\ttotalSize = cells[0][\"$\"+this._resizer_dim]+cells[1][\"$\"+this._resizer_dim];\r\n\t\t\t/*max and min limits if they're set*/\r\n\t\t\tlimits = (dir==\"y\"?[\"minHeight\",\"maxHeight\"]:[\"minWidth\",\"maxWidth\"]);\r\n\t\t\tfor(i=0;i<2;i++){\r\n\t\t\t\tconfig = cells[i]._settings;\r\n\t\t\t\tcDiff = (i?-diff:diff);/*if cDiff is positive, the size of i cell is increased*/\r\n\t\t\t\t/*if size is bigger than max limit or size is smaller than min limit*/\r\n\t\t\t\tvar min = config[limits[0]];\r\n\t\t\t\tvar max = config[limits[1]];\r\n\r\n\t\t\t\tif(cDiff>0&&max&&max<=sizes[i] || cDiff<0&&(min||3)>=sizes[i]){\r\n\t\t\t\t\tthis._rsLimit[i] = (cDiff>0?max:(min||3));\r\n\t\t\t\t\t/*new sizes, taking into account max and min limits*/\r\n\t\t\t\t\tlimitSizes = this._rsGetLimitCellSizes(cells,dir);\r\n\t\t\t\t\t/*stick position*/\r\n\t\t\t\t\tthis._resizeStick._dragobj.style[(dir==\"y\"?\"top\":\"left\")] = this._rs_progress[3] + limitSizes[0]+\"px\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}else if(sizes[i]<3){/*cells size can not be less than 1*/\r\n\t\t\t\t\tthis._resizeStick._dragobj.style[(dir==\"y\"?\"top\":\"left\")] = this._rs_progress[3] + i*totalSize+1+\"px\";\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis._rsLimit[i] = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_getResizerCells:function(){\r\n\t\tvar cells,i;\r\n\t\tcells = this.getParentView()._cells;\r\n\t\tfor(i=0; i< cells.length;i++){\r\n\t\t\tif(cells[i]==this){\r\n\t\t\t\tif (!cells[i-1] || cells[i-1]._settings.$noresize) return null;\r\n\t\t\t\tif (!cells[i+1] || cells[i+1]._settings.$noresize) return null;\r\n\t\t\t\treturn [cells[i-1],cells[i+1]];\r\n\t\t\t}\r\n\t\t}\r\n\t },\r\n\t_rsEnd:function(result){\r\n\t\tif (typeof result == \"undefined\") return;\r\n\r\n\t\tvar cells,dir,diff,i,size;\r\n\t\tvar vertical = this.getParentView()._vertical_orientation;\r\n\t\tthis._resizerStick = null;\r\n\t\tif (this._rs_progress){\r\n\t\t\tdir = this._rs_progress[0];\r\n\t\t\tdiff = result-this._rs_progress[2];\r\n\t\t\tcells = this._getResizerCells();\r\n\t\t\tif(cells[0]&&cells[1]){\r\n\t\t\t\t/*new cell sizes*/\r\n\t\t\t\tsize = this._rsGetCellSizes(cells,dir,diff);\r\n\r\n\t\t\t\tfor (var i=0; i<2; i++){\r\n\t\t\t\t\t//cell has not fixed size, of fully fixed layout\r\n\t\t\t\t\tvar cell_size = cells[i].$getSize(0,0);\r\n\t\t\t\t\tif (vertical?(cell_size[2] == cell_size[3]):(Math.abs(cell_size[1]-cell_size[0])<3)){\r\n\t\t\t\t\t\t/*set fixed sizes for both cells*/\r\n\t\t\t\t\t\tcells[i]._settings[this._resizer_dim]=size[i];\r\n\t\t\t\t\t\tif (cells[i]._bubble_size)\r\n\t\t\t\t\t\t\tcells[i]._bubble_size(this._resizer_dim, size[i], vertical);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar actualSize = cells[i].$view[vertical?\"offsetHeight\":\"offsetWidth\"];//cells[i][\"$\"+this._resizer_dim];\r\n\t\t\t\t\t\tcells[i]._settings.gravity = size[i]/actualSize*cells[i]._settings.gravity;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcells[0].resize();\r\n\r\n\t\t\t\tfor (var i = 0; i < 2; i++){\r\n\t\t\t\t\tif (cells[i].callEvent)\r\n\t\t\t\t\t\tcells[i].callEvent(\"onViewResize\",[]);\r\n\t\t\t\t\tcells[i].$view.removeAttribute(\"aria-dropeffect\");\r\n\t\t\t\t}\r\n\t\t\t\twebix.callEvent(\"onLayoutResize\", [cells]);\r\n\t\t\t}\r\n\t\t\tthis._rs_progress = false;\r\n\t\t}\r\n\t\tthis._rs_progress = false;\r\n\t\tthis._rs_started = false;\r\n\t\tthis._rsLimit = null;\r\n\t\twebix.html.removeCss(document.body,\"webix_noselect\");\r\n\r\n\t\tthis._viewobj.setAttribute(\"aria-grabbed\", \"false\");\r\n\t\tthis._viewobj.removeAttribute(\"aria-dropeffect\");\r\n\t},\r\n\t_rsGetLimitCellSizes: function(cells){\r\n\t\tvar size1,size2,totalSize;\r\n\t\ttotalSize = cells[0][\"$\"+this._resizer_dim]+cells[1][\"$\"+this._resizer_dim];\r\n\t\tif(this._rsLimit[0]){\r\n\t\t\tsize1 = this._rsLimit[0];\r\n\t\t\tsize2 = totalSize-size1;\r\n\t\t}\r\n\t\telse if(this._rsLimit[1]){\r\n\t\t\tsize2 = this._rsLimit[1];\r\n\t\t\tsize1 = totalSize-size2;\r\n\t\t}\r\n\t\treturn [size1,size2];\r\n\t},\r\n\t_rsGetDiffCellSizes:function(cells,dir,diff){\r\n\t\tvar sizes =[];\r\n\t\tvar styleDim = this._resizer_dim==\"height\"?\"offsetHeight\":\"offsetWidth\";\r\n\t\tfor(var i=0;i<2;i++)\r\n\t\t\tsizes[i] = cells[i].$view[styleDim]+(i?-1:1)*diff;\r\n\t\treturn sizes;\r\n\t},\r\n\t_rsGetCellSizes:function(cells,dir,diff){\r\n\t\tvar i,sizes,totalSize;\r\n\t\t/*if max or min dimentsions are set*/\r\n\t\tif(this._rsLimit[0]||this._rsLimit[1]){\r\n\t\t\tsizes = this._rsGetLimitCellSizes(cells,dir);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tsizes = this._rsGetDiffCellSizes(cells,dir,diff);\r\n\t\t\tfor(i =0; i<2;i++ ){\r\n\t\t\t\t/*if stick moving is stopped outsize cells borders*/\r\n\t\t\t\tif(sizes[i]<0){\r\n\t\t\t\t\ttotalSize = sizes[0]+sizes[1];\r\n\t\t\t\t\tsizes[i] =1;\r\n\t\t\t\t\tsizes[1-i] = totalSize-1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn sizes;\r\n\t}\r\n}, webix.MouseEvents, webix.ui.view);\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"multiview\",\r\n\tdefaults:{\r\n\t\tanimate:{\r\n\t\t}\r\n\t},\r\n\tsetValue:function(val){\r\n\t\twebix.$$(val).show();\r\n\t},\r\n\tgetValue:function(){\r\n\t\treturn this.getActiveId();\r\n\t},\r\n\t$init:function(){\r\n\t\tthis._active_cell = 0;\r\n\t\tthis._vertical_orientation = 1;\r\n\t\tthis._viewobj.style.position = \"relative\";\r\n\t\tthis._viewobj.className += \" webix_multiview\";\r\n\t\tthis._back_queue = [];\r\n\t},\r\n\t_ask_render:function(cell_id, view_id){\r\n\t\tvar cell = webix.$$(cell_id);\r\n\t\tif (!cell._render_hash){\r\n\t\t\tcell._render_queue = [];\r\n\t\t\tcell._render_hash = {};\t\t\t\r\n\t\t}\r\n\t\tif (!cell._render_hash[view_id]){\r\n\t\t\tcell._render_hash[view_id]=true;\r\n\t\t\tcell._render_queue.push(view_id);\r\n\t\t}\r\n\t},\r\n\t_render_activation:function(cell_id){ \r\n\t\tvar cell = webix.$$(cell_id);\r\n\t\tif(this._settings.keepViews)\r\n\t\t\tcell._viewobj.style.display = \"\";\r\n\t\t/*back array*/\r\n\t\tif(this._back_queue[this._back_queue.length-2]!=cell_id){\r\n\t\t\tif(this._back_queue.length==10)\r\n\t\t\t\tthis._back_queue.splice(0,1);\r\n\t\t\tthis._back_queue.push(cell_id);\r\n\t\t}\r\n\t\telse \r\n\t\t\tthis._back_queue.splice(this._back_queue.length-1,1);\t\r\n\t\t\r\n\t\tif (cell._render_hash){\r\n\t\t\tfor (var i=0; i < cell._render_queue.length; i++)\r\n\t\t\t\twebix.$$(cell._render_queue[i]).render();\r\n\t\t\t\t\r\n\t\t\tcell._render_queue = [];\r\n\t\t\tcell._render_hash = {};\t\t\t\r\n\t\t}\r\n\t},\r\n\taddView:function(){\r\n\t\tvar id = webix.ui.baselayout.prototype.addView.apply(this, arguments);\r\n\t\tif(this._settings.keepViews)\r\n\t\t\twebix.$$(id)._viewobj.style.display = \"none\";\r\n\t\telse\r\n\t\t\twebix.html.remove(webix.$$(id)._viewobj);\r\n\t\treturn id;\r\n\t},\r\n\t_beforeRemoveView:function(index, view){\r\n\t\t//removing current view\r\n\t\tif (index == this._active_cell){\r\n\t\t\tvar next = Math.max(index-1, 0);\r\n\t\t\tif (this._cells[next]){\r\n\t\t\t\tthis._in_animation = false;\r\n\t\t\t\tthis._show(this._cells[next], false);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (index < this._active_cell)\r\n\t\t\tthis._active_cell--;\r\n\t},\r\n\t//necessary, as we want to ignore hide calls for elements in multiview\r\n\t_hide:function(){},\r\n\t_parse_cells:function(collection){\r\n\t\tcollection = collection || this._collection; \r\n\r\n\t\tfor (var i=0; i < collection.length; i++)\r\n\t\t\tcollection[i]._inner = this._settings.borderless?{top:1, left:1, right:1, bottom:1}:(this._settings._inner||{});\r\n\t\t\t\r\n\t\twebix.ui.baselayout.prototype._parse_cells.call(this, collection);\r\n\t\t\r\n\t\tfor (var i=1; i < this._cells.length; i++){\r\n\t\t\tif(this._settings.keepViews)\r\n\t\t\t\tthis._cells[i]._viewobj.style.display = \"none\";\r\n\t\t\telse\r\n\t\t\t\twebix.html.remove(this._cells[i]._viewobj);\r\n\t\t}\r\n\r\n\t\t\t\r\n\t\tfor (var i=0; i<collection.length; i++){\r\n\t\t\tvar cell = this._cells[i];\r\n\t\t\tif (cell._cells && !cell._render_borders) continue; \r\n\t\t\t\r\n\t\t\tvar _inner = cell._settings._inner;\r\n\t\t\tif (_inner.top) \r\n\t\t\t\tcell._viewobj.style.borderTopWidth=\"0px\";\r\n\t\t\tif (_inner.left) \r\n\t\t\t\tcell._viewobj.style.borderLeftWidth=\"0px\";\r\n\t\t\tif (_inner.right) \r\n\t\t\t\tcell._viewobj.style.borderRightWidth=\"0px\";\r\n\t\t\tif (_inner.bottom) \r\n\t\t\t\tcell._viewobj.style.borderBottomWidth=\"0px\";\r\n\r\n\t\t\tcell._viewobj.setAttribute(\"role\", \"tabpanel\");\r\n\t\t}\r\n\t\tthis._render_activation(this.getActiveId());\r\n\t},\r\n\tcells_setter:function(value){\r\n\t\twebix.assert(value && value.length,\"Multiview must have at least one view in 'cells'\");\r\n\t\tthis._collection = value;\r\n\t},\r\n\t_getDirection:function(next, active){\r\n\t\tvar dir = (this._settings.animate || {}).direction;\r\n\t\tvar vx = (dir == \"top\" || dir == \"bottom\");\r\n\t\treturn \t next < active ? (vx?\"bottom\":\"right\"):(vx?\"top\":\"left\");\r\n\t},\r\n\t_show:function(obj, animation_options){\r\n\r\n\t\tvar parent = this.getParentView();\r\n\t\tif (parent && parent.getTabbar)\r\n\t\t\tparent.getTabbar().setValue(obj._settings.$id || obj._settings.id);\r\n\r\n\t\t if (this._in_animation)\r\n\t\t\treturn webix.delay(this._show, this,[obj, animation_options],100);\r\n\r\n\t\tvar _next_cell = -1;\r\n\t\tfor (var i=0; i < this._cells.length; i++)\r\n\t\t\tif (this._cells[i]==obj){\r\n\t\t\t\t_next_cell = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\tif (_next_cell < 0 || _next_cell == this._active_cell)\r\n\t\t\treturn;\r\n\r\n\r\n\t\tvar prev = this._cells[this._active_cell];\r\n\t\tvar next = this._cells[ _next_cell ];\r\n\t\tvar size = prev.$getSize(0,0);\r\n\r\n\t\t//need to be moved in animate\r\n\t\tif((animation_options||typeof animation_options==\"undefined\")&&webix.animate.isSupported() && this._settings.animate) {\r\n\t\t\tvar aniset = webix.extend({}, this._settings.animate);\r\n\t\t\tif(this._settings.keepViews)\r\n\t\t\t\taniset.keepViews = true;\r\n        \taniset.direction = this._getDirection(_next_cell,this._active_cell);\r\n        \taniset = webix.Settings._mergeSettings(animation_options||{}, aniset);\r\n\r\n\t\t\tvar line = webix.animate.formLine(\r\n\t\t\t\tnext._viewobj,\r\n                prev._viewobj,\r\n\t\t\t\taniset);\r\n\t\t\tnext.$getSize(0,0);\r\n\t\t\tnext.$setSize(this._content_width,this._content_height);\r\n\r\n\t\t\tvar callback_original = aniset.callback;\r\n\t\t\taniset.callback = function(){\r\n\t\t\t\twebix.animate.breakLine(line,this._settings.keepViews);\r\n\t\t\t\tthis._in_animation = false;\r\n\t\t\t\tif (callback_original) callback_original.call(this);\r\n\t\t\t\tcallback_original = aniset.master = aniset.callback = null;\r\n\t\t\t\tthis.resize();\r\n\t\t\t};\r\n\t\t\taniset.master = this;\r\n\r\n\t\t\tthis._active_cell = _next_cell;\r\n\t\t\tthis._render_activation(this.getActiveId());\r\n\r\n\t\t\twebix.animate(line, aniset);\r\n\t\t\tthis._in_animation = true;\r\n\t\t}\r\n\t\telse { // browsers which don't support transform and transition\r\n\t\t\tif(this._settings.keepViews){\r\n\t\t\t\tprev._viewobj.style.display = \"none\";\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\twebix.html.remove(prev._viewobj);\r\n\t\t\t\tthis._viewobj.appendChild(this._cells[i]._viewobj);\r\n\t\t\t}\r\n\r\n\t\t\tthis._active_cell = _next_cell;\r\n\r\n\t\t\tprev.resize();\r\n\t\t\tthis._render_activation(this.getActiveId());\r\n\t\t}\r\n\r\n\t\tif (next.callEvent){\r\n\t\t\tnext.callEvent(\"onViewShow\",[]);\r\n\t\t\twebix.ui.each(next, this._signal_hidden_cells);\r\n\t\t}\r\n\r\n\t\tthis.callEvent(\"onViewChange\",[prev._settings.id, next._settings.id]);\r\n\t\t\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\twebix.debug_size_box_start(this, true);\r\n\t\tvar size = this._cells[this._active_cell].$getSize(0, 0);\r\n\t\tif (this._settings.fitBiggest){\r\n\t\t\tfor (var i=0; i<this._cells.length; i++)\r\n\t\t\t\tif (i != this._active_cell){\r\n\t\t\t\t\tvar other = this._cells[i].$getSize(0, 0);\r\n\t\t\t\t\tfor (var j = 0; j < 4; j++)\r\n\t\t\t\t\t\tsize[j] = Math.max(size[j], other[j]);\r\n\t\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t//get layout sizes\r\n\t\tvar self_size = webix.ui.baseview.prototype.$getSize.call(this, 0, 0);\r\n\t\t//use child settings if layout's one was not defined\r\n\t\tif (self_size[1] >= 100000) self_size[1]=0;\r\n\t\tif (self_size[3] >= 100000) self_size[3]=0;\r\n\r\n\t\tself_size[0] = (self_size[0] || size[0] ) +dx;\r\n\t\tself_size[1] = (self_size[1] || size[1] ) +dx;\r\n\t\tself_size[2] = (self_size[2] || size[2] ) +dy;\r\n\t\tself_size[3] = (self_size[3] || size[3] ) +dy;\r\n\t\t\r\n\t\twebix.debug_size_box_end(this, self_size);\r\n\t\t\r\n\t\treturn self_size;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tthis._layout_sizes = [x,y];\r\n\t\twebix.ui.baseview.prototype.$setSize.call(this,x,y);\r\n\t\tthis._cells[this._active_cell].$setSize(x,y);\r\n\t},\r\n\tisVisible:function(base_id, cell_id){\r\n\t\tif (cell_id && cell_id != this.getActiveId()){\r\n\t\t\tif (base_id)\r\n\t\t\t\tthis._ask_render(cell_id, base_id);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn webix.ui.view.prototype.isVisible.call(this, base_id, this._settings.id);\r\n\t},\r\n\tgetActiveId:function(){\r\n\t\treturn this._cells.length?this._cells[this._active_cell]._settings.id:null;\r\n\t},\r\n\tback:function(step){\t\t\r\n\t\tstep=step||1;\r\n\t\tif(this.callEvent(\"onBeforeBack\",[this.getActiveId(), step])){\r\n\t\t\tif(this._back_queue.length>step){\r\n\t\t\t\tvar viewId = this._back_queue[this._back_queue.length-step-1];\r\n\t\t\t\twebix.$$(viewId).show();\r\n\t\t\t\treturn viewId;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn null;\r\n\r\n\t}\r\n},webix.ui.baselayout);\r\n\r\n\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"form\",\r\n\tdefaults:{\r\n\t\ttype:\"form\",\r\n\t\tautoheight:true\r\n\t},\r\n\t_default_height:-1,\r\n\t_form_classname:\"webix_form\",\r\n\t_form_vertical:true,\r\n\t$init:function(){\r\n\t\tthis._viewobj.setAttribute(\"role\", \"form\");\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tif (this._scroll_y && !this._settings.width) dx += webix.ui.scrollSize;\r\n\r\n\t\tvar sizes = webix.ui.layout.prototype.$getSize.call(this, dx, dy);\r\n\r\n\t\tif (this._settings.scroll || !this._settings.autoheight){\r\n\t\t\tsizes[2] =  this._settings.height || this._settings.minHeight || 0;\r\n\t\t\tsizes[3] += 100000;\r\n\t\t}\r\n\t\t\r\n\t\treturn sizes;\r\n\t}\r\n}, webix.ui.toolbar);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"menu\",\r\n\t_listClassName:\"webix_menu\",\r\n\t$init:function(config){\r\n\t\tif (config.autowidth){\r\n\t\t\tthis._autowidth_submenu = true;\r\n\t\t\tdelete config.autowidth;\r\n\t\t}\r\n\r\n\t\tthis.data.attachEvent('onStoreUpdated', webix.bind(function(){\r\n\t\t\tthis._hide_sub_menu();\r\n\t\t},this));\r\n\t\tthis.attachEvent('onMouseMove', this._mouse_move_menu);\r\n\t\tthis.attachEvent('onMouseOut',function(){\r\n\t\t\tif (this._menu_was_activated() && this._settings.openAction == \"click\") return;\r\n\t\t\tif (!this._child_menu_active)\r\n\t\t\t\tthis._hide_sub_menu();\r\n\t\t});\r\n\t\tthis.attachEvent('onItemClick', function(id, e, trg){\r\n\t\t\tvar item = this.getItem(id);\r\n\t\t\tif (item){\r\n\t\t\t\tif (item.$template) return;\r\n\r\n\t\t\t\tvar parent = this.getTopMenu();\r\n\r\n\t\t\t\t//ignore disabled items\r\n\t\t\t\tif (!this.data.getMark(id, \"webix_disabled\")){\r\n\t\t\t\t\tif (!parent.callEvent(\"onMenuItemClick\", [id, e, trg])){\r\n\t\t\t\t\t\te.showpopup = true;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (this != parent)\r\n\t\t\t\t\t\tparent._call_onclick(id,e,trg);\r\n\r\n\t\t\t\t\t//click on group - do not close submenus\r\n\t\t\t\t\tif (!item.submenu){\r\n\t\t\t\t\t\tparent._hide_sub_menu(true);\r\n\t\t\t\t\t\tif (parent._hide_on_item_click)\r\n\t\t\t\t\t\t\tparent.hide();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif ((this === parent || webix.env.touch ) && parent._settings.openAction == \"click\"){\r\n\t\t\t\t\t\t\tthis._mouse_move_activation(id, trg);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t//do not close popups when clicking on menu folder\r\n\t\t\t\t\t\te.showpopup = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.attachEvent(\"onKeyPress\", function(code, e){\r\n\t\t\tif(code === 9) this.getTopMenu()._hide_sub_menu();\r\n\t\t\telse if(code === 13 || code === 32){\r\n\t\t\t\tvar sel = this.getSelectedId(), node;\r\n\t\t\t\tif(sel)\r\n\t\t\t\t\tnode = this.getItemNode(sel);\r\n\t\t\t\tif(node)\r\n\t\t\t\t\twebix.html.triggerEvent(node, \"MouseEvents\", \"click\");\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\tthis.data.attachEvent(\"onClearAll\", function(){\r\n\t\t\tthis._hidden_items = [];\r\n\t\t});\r\n\t\tthis.data._hidden_items = [];\r\n\r\n\t\tthis._viewobj.setAttribute(\"role\", \"menubar\");\r\n\t},\r\n\tsizeToContent:function(){\r\n\t\tif (this._settings.layout == \"y\"){\r\n\t\t\tvar texts = [];\r\n\t\t\tvar isSubmenu = false;\r\n\t\t\tthis.data.each(function(obj){\r\n\t\t\t\ttexts.push(this._toHTML(obj));\r\n\t\t\t\tif(obj.submenu)\r\n\t\t\t\t\tisSubmenu = true;\r\n\t\t\t}, this);\r\n\t\t\t// text width + padding + borders+ arrow\r\n\t\t\tthis.config.width = webix.html.getTextSize(texts, this.$view.className).width+8*2+2+(isSubmenu?15:0);\r\n\t\t\tthis.resize();\r\n\t\t} else webix.assert(false, \"sizeToContent will work for vertical menu only\");\r\n\t},\r\n\tgetTopMenu:function(){\r\n\t\tvar parent = this;\r\n\t\twhile (parent._parent_menu)\r\n\t\t\tparent = webix.$$(parent._parent_menu);\r\n\t\treturn parent;\r\n\t},\r\n\t_auto_height_calc:function(count){\r\n\t\tif (this._settings.autoheight) count = this.count();\r\n\r\n\t\tvar height = 0;\r\n\t\tfor (var i=0; i<count; i++){\r\n\t\t\tvar item = this.data.pull[this.data.order[i]];\r\n\t\t\tif (item && item.$template == \"Separator\")\r\n\t\t\t\theight+=4;\r\n\t\t\telse\r\n\t\t\t\theight+=this.type.height;\r\n\t\t}\r\n\t\treturn height;\r\n\t},\r\n\ton_mouse_move:{},\r\n\ttype:{\r\n\t\tcss:\"menu\",\r\n\t\twidth:\"auto\",\r\n\t\taria:function(obj, common, marks){\r\n\t\t\treturn 'role=\"menuitem\"'+(marks && marks.webix_selected?' aria-selected=\"true\" tabindex=\"0\"':'tabindex=\"-1\"')+(obj.submenu?'aria-haspopup=\"true\"':'')+(marks && marks.webix_disabled?' aria-disabled=\"true\"':'');\r\n\t\t},\r\n\t\ttemplateStart:function(obj, common, mark){\r\n\t\t\tif (obj.$template === \"Separator\" || obj.$template === \"Spacer\"){\r\n\t\t\t\treturn '<div webix_l_id=\"#id#\" role=\"separator\" tabindex=\"-1\" class=\"webix_context_'+obj.$template.toLowerCase()+'\">';\r\n\t\t\t}\r\n\t\t\tvar link = (obj.href?\" href='\"+obj.href+\"' \":\"\")+(obj.target?\" target='\"+obj.target+\"' \":\"\");\r\n\t\t\treturn webix.ui.list.prototype.type.templateStart(obj,common,mark).replace(/^<div/,\"<a \"+link)+((obj.submenu && common.subsign)?\"<div class='webix_submenu_icon'></div>\":\"\");\r\n\t\t},\r\n\t\ttemplateEnd: function(obj, common, mark){\r\n\t\t\treturn (obj.$template === \"Separator\" || obj.$template === \"Spacer\")?\"</div>\":\"</a>\";\r\n\t\t},\r\n\t\ttemplateSeparator:webix.template(\"<div class='sep_line'></div>\"),\r\n\t\ttemplateSpacer:webix.template(\"<div></div>\")\r\n\t},\r\n\tgetMenu: function(id){\r\n\t\tif (!this.data.pull[id]){\r\n\t\t\tfor (var subid in this.data.pull){\r\n\t\t\t\tvar obj = this.getItem(subid);\r\n\t\t\t\tif (obj.submenu){\r\n\t\t\t\t\tvar search = this._get_submenu(obj).getMenu(id);\r\n\t\t\t\t\tif (search) return search;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else return this;\r\n\t},\r\n\tgetSubMenu:function(id){\r\n\t\tvar menu = this.getMenu(id);\r\n\t\tvar obj = menu.getItem(id);\r\n\t\treturn (obj.submenu?menu._get_submenu(obj):null);\r\n\t},\r\n\tgetMenuItem:function(id){\r\n\t\treturn this.getMenu(id).getItem(id);\r\n\t},\r\n\t_get_submenu:function(data){\r\n\t\tvar sub  = webix.$$(data.submenu);\r\n\t\tif (!sub){\r\n\t\t\tdata.submenu = this._create_sub_menu(data);\r\n\t\t\tsub = webix.$$(data.submenu);\r\n\t\t}\r\n\t\treturn sub;\r\n\t},\r\n\t_mouse_move_menu:function(id, e, target){\r\n\t\tif (!this._menu_was_activated())\r\n\t\t\treturn;\r\n\r\n\t\tthis._mouse_move_activation(id, target);\r\n\t},\r\n\t_menu_was_activated:function(){\r\n\t\tvar top = this.getTopMenu();\r\n\t\tif (top._settings.openAction == \"click\"){\r\n\t\t\tif (webix.env.touch) return false;\r\n\t\t\tvar sub = top._open_sub_menu;\r\n\t\t\tif (sub && webix.$$(sub).isVisible())\r\n\t\t\t\treturn true;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\t_mouse_move_activation:function(id, target){\r\n\t\tvar data = this.getItem(id);\r\n\t\tif (!data) return;\r\n\t\t\r\n\t\t//clear flag of submenu usage\r\n\t\tthis._child_menu_active = null;\r\n\r\n\t\t//hide previously opened sub-menu\r\n\t\tif (this._open_sub_menu && data.submenu != this._open_sub_menu)\r\n\t\t\tthis._hide_sub_menu(true);\r\n\t\t\t\r\n\t\t//show submenu\r\n\t\tif (data.submenu&&!this.config.hidden){\r\n\r\n\t\t\tvar sub  = this._get_submenu(data);\r\n\t\t\tif(this.data.getMark(id,\"webix_disabled\"))\r\n\t\t\t\treturn;\r\n\t\t\tsub.show(target,{ pos:this._settings.subMenuPos });\r\n\r\n\t\t\tsub._parent_menu = this._settings.id;\r\n\r\n\t\t\tthis._open_sub_menu = data.submenu;\r\n\t\t}\r\n\t},\r\n\tdisableItem:function(id){\r\n\t\tthis.getMenu(id).addCss(id, \"webix_disabled\");\r\n\t},\r\n\tenableItem:function(id){\r\n\t\tthis.getMenu(id).removeCss(id, \"webix_disabled\");\r\n\t},\r\n\t_set_item_hidden:function(id, state){\r\n\t\tvar menu = this.data;\r\n\t\tif (menu._hidden_items[id] != state){\r\n\t\t\tmenu._hidden_items[id] = state;\r\n\t\t\tmenu.filter(function(obj){\r\n\t\t\t\treturn !menu._hidden_items[obj.id];\r\n\t\t\t});\r\n\t\t\tthis.resize();\t\t\r\n\t\t}\r\n\t},\r\n\thideItem:function(id){\r\n\t\tvar menu = this.getMenu(id);\r\n\t\tif (menu) menu._set_item_hidden(id, true);\r\n\t},\r\n\tshowItem:function(id){\r\n\t\tvar menu = this.getMenu(id);\r\n\t\tif (menu){\r\n\t\t\tmenu._set_item_hidden(id, false);\r\n\t\t\treturn webix.ui.list.prototype.showItem.call(menu, id);\r\n\t\t}\r\n\t},\r\n\t_hide_sub_menu : function(mode){\r\n\t\tif (this._open_sub_menu){\r\n\t\t\t//recursive sub-closing\r\n\t\t\tvar sub = webix.$$(this._open_sub_menu);\r\n\t\t\tif (sub._hide_sub_menu)\t//custom context may not have submenu\r\n\t\t\t\tsub._hide_sub_menu(mode);\r\n\t\t\tif (mode || !sub._show_on_mouse_out){\r\n\t\t\t\tsub.hide();\r\n\t\t\t\tthis._open_sub_menu = null;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_create_sub_menu : function(data){\r\n\t\tvar listConfig = {\r\n\t\t\tview:\"submenu\",\r\n\t\t\tdata:data.submenu\r\n\t\t};\r\n\r\n\t\tvar settings = this.getTopMenu()._settings.submenuConfig;\r\n\t\tif (settings)\r\n\t\t\twebix.extend(listConfig, settings, true);\r\n\r\n\t\tvar parentData = this.getMenuItem(data.id);\r\n\t\tif(parentData && parentData.config)\r\n\t\t\twebix.extend(listConfig, parentData.config, true);\r\n\r\n\t\tvar menu = webix.ui(listConfig);\r\n\t\tmenu._parent_menu = this;\r\n\t\treturn menu._settings.id;\r\n\t},\r\n\t_skip_item:function(id, prev, mode){\r\n\t\tvar item = this.getItem(id);\r\n\t\tif(item.$template == \"Separator\" || item.$template == \"Spacer\" || this.data.getMark(id, \"webix_disabled\")){\r\n            var index = this.getIndexById(id)+(mode == \"up\"?-1:1);\r\n            id = (index>=0)?this.getIdByIndex(index):null;\r\n            return id? this._skip_item(id, prev, mode) : prev;\r\n        }\r\n        else\r\n\t\t\treturn id;\r\n\t},\r\n\t$skin:function(){\r\n\t\twebix.ui.list.prototype.$skin.call(this);\r\n\t\tthis.type.height = webix.skin.$active.menuHeight;\r\n\t},\r\n\tdefaults:{\r\n\t\tscroll:\"\",\r\n\t\tlayout:\"x\",\r\n\t\tmouseEventDelay:100,\r\n\t\tsubMenuPos:\"bottom\"\r\n\t}\r\n}, webix.ui.list);\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"submenu\",\r\n\t$init:function(){\r\n\t\tthis._body_cell = webix.clone(this._dummy_cell_interface);\r\n\t\tthis._body_cell._view = this;\r\n\r\n\t\tthis.attachEvent('onMouseOut',function(){\r\n\t\t\tif (this.getTopMenu()._settings.openAction == \"click\") \r\n\t\t\t\treturn;\r\n\t\t\tif (!this._child_menu_active && !this._show_on_mouse_out)\r\n\t\t\t\tthis.hide();\r\n\t\t});\r\n\r\n\t\t//inform parent that focus is still in menu\r\n\t\tthis.attachEvent('onMouseMoving',function(){\r\n\t\t\tif (this._parent_menu)\r\n\t\t\t\twebix.$$(this._parent_menu)._child_menu_active = true;\r\n\t\t});\r\n\t\tthis.attachEvent(\"onBeforeShow\", function(){\r\n\t\t\tif (this.getTopMenu()._autowidth_submenu && this.sizeToContent && !this.isVisible())\r\n\t\t\t\tthis.sizeToContent();\r\n\t\t});\r\n\r\n\t\tthis._dataobj.setAttribute(\"role\", \"menu\");\r\n\t},\r\n\t$skin:function(){\r\n\t\twebix.ui.menu.prototype.$skin.call(this);\r\n\t\twebix.ui.popup.prototype.$skin.call(this);\r\n\r\n\t\tthis.type.height = webix.skin.$active.menuHeight;\r\n\t},\r\n\t_dummy_cell_interface : {\r\n\t\t$getSize:function(dx, dy){\r\n\t\t\t//we saving height and width, as list can hardcode new values\r\n\t\t\tvar h = this._view._settings.height*1;\r\n\t\t\tvar w = this._view._settings.width*1;\r\n\t\t\tvar size = webix.ui.menu.prototype.$getSize.call(this._view, dx, dy);\r\n\t\t\t//restoring\r\n\t\t\tthis._view._settings.height = h;\r\n\t\t\tthis._view._settings.width = w;\r\n\t\t\treturn size;\r\n\t\t},\r\n\t\t$setSize:function(x,y){\r\n\t\t\tif (this._view._settings.scroll)\r\n\t\t\t\tthis._view._bodyobj.style.height = y+\"px\";\r\n\t\t},\r\n\t\tdestructor:function(){ this._view = null; }\r\n\t},\r\n\t//ignore body element\r\n\tbody_setter:function(){\r\n\t},\r\n\tgetChildViews:function(){ return []; },\r\n\tdefaults:{\r\n\t\twidth:150,\r\n\t\tsubMenuPos:\"right\",\r\n\t\tlayout:\"y\",\r\n\t\tautoheight:true\r\n\t},\r\n\ttype:{\r\n\t\theight: webix.skin.menuHeight,\r\n\t\tsubsign:true\r\n\t}\r\n}, webix.ui.menu, webix.ui.popup);\r\n\r\n\r\n\r\n\r\nwebix.ContextHelper = {\r\n\tdefaults:{\r\n\t\tpadding:\"4\",\r\n\t\thidden:true\r\n\t},\r\n\tbody_setter:function(value){\r\n\t\tvalue = webix.ui.window.prototype.body_setter.call(this, value);\r\n\t\tthis._body_cell._viewobj.style.borderWidth = \"0px\";\r\n\t\treturn value;\r\n\t},\r\n\tattachTo:function(obj){\r\n\t\twebix.assert(obj, \"Invalid target for Context::attach\");\r\n\t\tvar id;\r\n\t\tif (obj.on_context)\r\n\t\t\tid = obj.attachEvent(\"onAfterContextMenu\", webix.bind(this._show_at_ui, this));\r\n\t\telse \r\n\t\t\tid = webix.event(obj, \"contextmenu\", this._show_at_node, {bind:this});\r\n\r\n\t\tthis.attachEvent(\"onDestruct\", function(){\r\n\t\t\tif (obj.detachEvent)\r\n\t\t\t\tobj.detachEvent(id);\r\n\t\t\telse\r\n\t\t\t\twebix.eventRemove(id);\r\n\t\t\tobj = null;\t\t\t\r\n\t\t});\r\n\t},\r\n\tgetContext:function(){\r\n\t\treturn this._area;\r\n\t},\r\n\tsetContext:function(area){\r\n\t\tthis._area = area;\r\n\t},\r\n\t_show_at_node:function(e){\r\n\t\tthis._area = webix.toNode(e||event);\r\n\t\treturn this._show_at(e);\r\n\t},\r\n\t_show_at_ui:function(id, e, trg){\r\n\t\tthis._area = { obj:webix.$$(e), id:id };\r\n\t\treturn this._show_at(e);\r\n\t},\r\n\t_show_at:function(e){\r\n\t\tvar result = this.show(e, null, true);\r\n\t\tif (result === false) return result;\r\n\r\n\t\t//event forced to close other popups|context menus\r\n\t\twebix.callEvent(\"onClick\", []);\t\t\r\n\t\treturn webix.html.preventEvent(e);\r\n\t},\r\n\t_show_on_mouse_out:true,\r\n\tmaster_setter:function(value){\r\n\t\tthis.attachTo(value);\r\n\t\treturn null;\r\n\t}\r\n};\r\nwebix.protoUI({\r\n\tname:\"context\"\r\n}, webix.ContextHelper, webix.ui.popup); \r\n\r\nwebix.protoUI({\r\n\tname:\"contextmenu\",\r\n\t_hide_on_item_click:true,\r\n\t$init: function(config){\r\n\t\tif(config.submenuConfig)\r\n\t\t\twebix.extend(config,config.submenuConfig);\r\n\t}\r\n}, webix.ContextHelper, webix.ui.submenu);\r\n\r\n/*\r\n\r\n*/\r\n\r\nwebix.protoUI({\r\n\tname:\"tabbar\",\r\n\t$init:function(){\r\n\t\tthis.attachEvent(\"onKeyPress\", this._onKeyPress);\r\n\t},\r\n\t$skin:function(){\r\n\t\tvar skin = webix.skin.$active;\r\n\t\tvar defaults = this.defaults;\r\n\r\n\t\tdefaults.topOffset = skin.tabTopOffset||0;\r\n\t\tdefaults.tabOffset = (typeof skin.tabOffset != \"undefined\"?skin.tabOffset:10);\r\n\t\tdefaults.bottomOffset = skin.tabBottomOffset||0;\r\n\t\tdefaults.height = skin.tabbarHeight;\r\n\r\n\t\tdefaults.tabMargin = skin.tabMargin;\r\n\t\tdefaults.inputPadding = skin.inputPadding;\r\n\t\tdefaults.tabMinWidth = skin.tabMinWidth||100;\r\n\t\tdefaults.tabMoreWidth = skin.tabMoreWidth||40;\r\n\t},\r\n\t_getTabbarSizes: function(){\r\n\r\n\t\tvar config = this._settings,\r\n\t\t\ti, len,\r\n\t\t\ttabs = this._tabs||config.options,\r\n\t\t\ttotalWidth = this._input_width - config.tabOffset*2,\r\n\t\t\tlimitWidth = config.optionWidth||config.tabMinWidth;\r\n\r\n\t\tlen = tabs.length;\r\n\r\n\t\tif(config.tabMinWidth && totalWidth/len < limitWidth){\r\n\t\t\treturn { max: (parseInt(totalWidth/limitWidth,10)||1)};\r\n\t\t}\r\n\r\n\r\n\t\tif(!config.optionWidth){\r\n\t\t\tfor(i=0;i< len; i++){\r\n\t\t\t\tif(tabs[i].width){\r\n\t\t\t\t\ttotalWidth -= tabs[i].width+(!i&&!config .type?config.tabMargin:0);\r\n\t\t\t\t\tlen--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {width: (len?totalWidth/len:config.tabMinWidth)};\r\n\t},\r\n\t_init_popup: function(){\r\n\t\tvar obj = this._settings;\r\n\t\tif (!obj.tabbarPopup){\r\n\t\t\tvar popupConfig = {\r\n\t\t\t\tview: \"popup\",\r\n\t\t\t\twidth: (obj.popupWidth||200),\r\n\t\t\t\tbody:{\r\n\t\t\t\t\tview: \"list\",\r\n\t\t\t\t\tborderless: true,\r\n\t\t\t\t\tselect: true,\r\n\t\t\t\t\tcss: \"webix_tab_list\",\r\n\t\t\t\t\tautoheight: true, yCount:obj.yCount,\r\n\t\t\t\t\ttype:{\r\n\t\t\t\t\t\ttemplate: obj.popupTemplate\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar view = webix.ui(popupConfig);\r\n\t\t\tview.getBody().attachEvent(\"onBeforeSelect\",webix.bind(function(id){\r\n\t\t\t\tif (id && this.callEvent(\"onBeforeTabClick\", [id])){\r\n\t\t\t\t\t\tthis.setValue(id);\r\n\t\t\t\t\twebix.$$(this._settings.tabbarPopup).hide();\r\n\t\t\t\t\tthis.callEvent(\"onAfterTabClick\", [id]);\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t},this));\r\n\t\t\tobj.tabbarPopup = view._settings.id;\r\n\t\t\tthis._destroy_with_me.push(view);\r\n\t\t}\r\n\t\tthis._init_popup = function(){};\r\n\t},\r\n\tgetPopup: function(){\r\n\t\tthis._init_popup();\r\n\t\treturn webix.$$(this._settings.tabbarPopup);\r\n\t},\r\n\tmoreTemplate_setter: webix.template,\r\n\tpopupTemplate_setter: webix.template,\r\n\tdefaults:{\r\n\t\tpopupWidth: 200,\r\n\t\tpopupTemplate: \"#value#\",\r\n\t\tyCount: 7,\r\n\t\tmoreTemplate: '<span class=\"webix_icon fa-ellipsis-h\"></span>',\r\n\t\ttemplate:function(obj,common) {\r\n\t\t\tvar contentWidth, html, i, leafWidth, resultHTML, style, sum, tabs, verticalOffset, width;\r\n\r\n\t\t\tcommon._tabs = tabs = common._filterOptions(obj.options);\r\n\r\n\t\t\tif (!tabs.length){\r\n\t\t\t\thtml = \"<div class='webix_tab_filler' style='width:\"+common._input_width+\"px; border-right:0px;'></div>\";\r\n\t\t\t} else {\r\n\t\t\t\tcommon._check_options(tabs);\r\n\t\t\t\tif (!obj.value && tabs.length)\r\n\t\t\t\t\tobj.value = tabs[0].id;\r\n\r\n\t\t\t\thtml = \"\";\r\n\t\t\t\tif (obj.tabOffset)\r\n\t\t\t\t\thtml += \"<div class='webix_tab_filler' style='width:\"+obj.tabOffset+\"px;'>&nbsp;</div>\";\r\n\t\t\t\tcontentWidth = common._input_width - obj.tabOffset*2-(!obj.type?(obj.tabMargin)*(tabs.length-1):0);\r\n\t\t\t\tverticalOffset = obj.topOffset+obj.bottomOffset;\r\n\r\n\t\t\t\tvar sizes = common._getTabbarSizes();\r\n\r\n\t\t\t\tif(sizes.max && sizes.max < tabs.length){\r\n\t\t\t\t\t//we need popup\r\n\t\t\t\t\tvar popup = common.getPopup();\r\n\t\t\t\t\tpopup.hide();\r\n\r\n\t\t\t\t\tvar list = (popup.getBody()||null);\r\n\t\t\t\t\tif(list){\r\n\t\t\t\t\t\tif(sizes.max){\r\n\t\t\t\t\t\t\tvar found = false;\r\n\t\t\t\t\t\t\tfor( i = 0; i < tabs.length && !found; i++)\r\n\t\t\t\t\t\t\t\tif(tabs[i].id== obj.value){\r\n\t\t\t\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t\t\t\t\tif((i+1) > sizes.max){\r\n\t\t\t\t\t\t\t\t\t\tvar selectedTab =  tabs.splice(i, 1);\r\n\t\t\t\t\t\t\t\t\t\tvar displayTabs = tabs.splice(0, sizes.max-1).concat(selectedTab);\r\n\t\t\t\t\t\t\t\t\t\ttabs = displayTabs.concat(tabs);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlist.clearAll();\r\n\t\t\t\t\t\t\tlist.parse(tabs.slice(sizes.max));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tlist.clearAll();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (common._settings.tabbarPopup)\r\n\t\t\t\t\twebix.$$(common._settings.tabbarPopup).hide();\r\n\r\n\t\t\t\tsum = obj.tabOffset;\r\n\t\t\t\tvar lastTab = false;\r\n\t\t\t\tfor(i = 0; (i<tabs.length) && !lastTab; i++) {\r\n\r\n\t\t\t\t\t// tab width\r\n\t\t\t\t\tif(sizes && sizes.max){\r\n\t\t\t\t\t\tif(sizes.max == (i + 1)){\r\n\t\t\t\t\t\t\tlastTab = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcontentWidth = common._input_width - obj.tabOffset*2-(!obj.type&&(sizes.max>1)?(obj.tabMargin)*(sizes.max-1):0);\r\n\t\t\t\t\t\twidth = (contentWidth - obj.tabMoreWidth)/sizes.max ;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\twidth = sizes.width;\r\n\r\n\t\t\t\t\twidth = (tabs[i].width||obj.optionWidth||width);\r\n\r\n\t\t\t\t\tsum += width + (i&&!obj.type?obj.tabMargin:0);\r\n\r\n\t\t\t\t\tif(obj.tabMargin>0&&i&&!obj.type)\r\n\t\t\t\t\t   html += \"<div class='webix_tab_filler' style='width:\"+obj.tabMargin+\"px;'></div>\";\r\n\r\n\t\t\t\t\t// tab innerHTML\r\n\t\t\t\t\thtml += common._getTabHTML(tabs[i],width);\r\n\r\n\r\n\t\t\t\t\tif(lastTab){\r\n\t\t\t\t\t\thtml += '<div role=\"button\" tabindex=\"0\" aria-label=\"'+webix.i18n.aria.showTabs+'\" class=\"webix_tab_more_icon\" style=\"width:'+obj.tabMoreWidth+'px;\">'+obj.moreTemplate(obj,common)+'</div>';\r\n\t\t\t\t\t\tsum += obj.tabMoreWidth;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tleafWidth = common._content_width - sum;\r\n\r\n\t\t\t\tif (leafWidth>0 && !obj.type)\r\n\t\t\t\t\thtml += \"<div class='webix_tab_filler' style='width:\"+leafWidth+\"px;'>&nbsp;</div>\";\r\n\t\t\t}\r\n\r\n\t\t\tresultHTML = \"\";\r\n\r\n\t\t\t// consider top and bottom offset in tabs height (top tabbar)\r\n\t\t\tstyle = (verticalOffset&& !obj.type)?\"height:\"+(common._content_height-verticalOffset)+\"px\":\"\";\r\n\r\n\t\t\t//space above tabs (top tabbar)\r\n\t\t\tif(obj.topOffset && !obj.type)\r\n\t\t\t\tresultHTML += \"<div class='webix_before_all_tabs' style='width:100%;height:\"+obj.topOffset+\"px'></div>\";\r\n\r\n\t\t\t// tabs html\r\n\t\t\tresultHTML +=  \"<div style='\"+style+\"' role='tablist' class='webix_all_tabs \"+(obj.type?(\"webixtype_\"+obj.type):\"\")+\"'>\"+html+\"</div>\";\r\n\r\n\t\t\t//space below to tabs (top tabbar)\r\n\t\t\tif(obj.bottomOffset && !obj.type)\r\n\t\t\t\tresultHTML += \"<div class='webix_after_all_tabs' style='width:100%;height:\"+obj.bottomOffset+\"px'></div>\";\r\n\r\n\t\t\treturn resultHTML;\r\n\t\t}\r\n\t},\r\n\t_getInputNode:function(){\r\n\t\treturn this.$view.getElementsByClassName(\"webix_item_tab\");\r\n\t},\r\n\t_getTabHTML: function(tab,width){\r\n\t\tvar\thtml,\r\n\t\t\tclassName = '',\r\n\t\t\tconfig = this.config;\r\n\r\n\t\tif(tab.id== config.value)\r\n\t\t\tclassName=\" webix_selected\";\r\n\r\n\t\tif (tab.css)\r\n\t\t\tclassName+=\" \"+tab.css;\r\n\r\n\t\twidth = (tab.width||width);\r\n\r\n\t\thtml ='<div class=\"webix_item_tab'+className+'\" button_id=\"'+tab.id+'\" role=\"tab\" aria-selected=\"'+(tab.id== config.value?\"true\":\"false\")+'\" tabindex=\"'+(tab.id== config.value?\"0\":\"-1\")+'\" style=\"width:'+width+'px;\">';\r\n\r\n\t\t// a tab title\r\n\t\tif(this._tabTemplate){\r\n\t\t\tvar calcHeight = this._content_height- config.inputPadding*2 - 2;\r\n\t\t\tvar height = this._content_height - 2;\r\n\t\t\tvar temp = webix.extend({ cheight: calcHeight, aheight:height }, tab);\r\n\t\t\thtml+= this._tabTemplate(temp);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tvar icon = tab.icon?(\"<span class='webix_icon fa-\"+tab.icon+\"'></span> \"):\"\";\r\n\t\t\thtml+=icon + tab.value;\r\n\t\t}\r\n\r\n\t\tif (tab.close || config.close)\r\n\t\t\thtml+=\"<span role='button' tabindex='0' aria-label='\"+webix.i18n.aria.closeTab+\"' class='webix_tab_close webix_icon fa-times'></span>\";\r\n\r\n\t\thtml+=\"</div>\";\r\n\t\treturn html;\r\n\t},\r\n\t_types:{\r\n\t\timage:\"<div class='webix_img_btn_top' style='height:#cheight#px;background-image:url(#image#);'><div class='webix_img_btn_text'>#value#</div></div>\",\r\n\t\ticon:\"<div class='webix_img_btn' style='line-height:#cheight#px;height:#cheight#px;'><span class='webix_icon_btn fa-#icon#' style='max-width:#cheight#px;max-height:#cheight#px;'></span>#value#</div>\",\r\n\t\ticonTop:\"<div class='webix_img_btn_top' style='height:#cheight#px;width:100%;top:0px;text-align:center;'><span class='webix_icon fa-#icon#'></span><div class='webix_img_btn_text'>#value#</div></div>\"\r\n\t},\r\n\ttype_setter:function(value){\r\n\t\tthis._settings.tabOffset = 0;\r\n\t\tif (this._types[value])\r\n\t\t\tthis._tabTemplate = webix.template(this._types[value]);\r\n\t\treturn value;\r\n\t}\r\n}, webix.ui.segmented);\r\n\r\nwebix.protoUI({\r\n\tname:\"tabview\",\r\n\tdefaults:{\r\n\t\ttype:\"clean\"\r\n\t},\r\n\tsetValue:function(val){\r\n\t\tthis._cells[0].setValue(val);\r\n\t},\r\n\tgetValue:function(){\r\n\t\treturn this._cells[0].getValue();\r\n\t},\r\n\tgetTabbar:function(){\r\n\t\treturn this._cells[0];\r\n\t},\r\n\tgetMultiview:function(){\r\n\t\treturn this._cells[1];\r\n\t},\r\n\taddView:function(obj){\r\n\t\tvar id = obj.body.id = obj.body.id || webix.uid();\r\n\r\n\t\tthis.getMultiview().addView(obj.body);\r\n\r\n\t\tobj.id = obj.body.id;\r\n\t\tobj.value = obj.header;\r\n\t\tdelete obj.body;\r\n\t\tdelete obj.header;\r\n\r\n\t\tvar t = this.getTabbar();\r\n\t\tt.addOption(obj);\r\n\t\tt.refresh();\r\n\r\n\t\treturn id;\r\n\t},\r\n\tremoveView:function(id){\r\n\t\tvar t = this.getTabbar();\r\n\t\tt.removeOption(id);\r\n\t\tt.refresh();\r\n\t},\r\n\t$init:function(config){\r\n\t\tthis.$ready.push(this._init_tabview_handlers);\r\n\r\n\t\tvar cells = config.cells;\r\n\t\tvar tabs = [];\r\n\r\n\t\twebix.assert(cells && cells.length, \"tabview must have cells collection\");\r\n\r\n\t\tfor (var i = cells.length - 1; i >= 0; i--){\r\n\t\t\tvar view = cells[i].body||cells[i];\r\n\t\t\tif (!view.id) view.id = \"view\"+webix.uid();\r\n\t\t\ttabs[i] = { value:cells[i].header, id:view.id, close:cells[i].close, width:cells[i].width, hidden:  !!cells[i].hidden};\r\n\t\t\tcells[i] = view;\r\n\t\t}\r\n\r\n\t\tvar tabbar = { view:\"tabbar\", multiview:true };\r\n\t\tvar mview = { view:\"multiview\", cells:cells, animate:(!!config.animate) };\r\n\r\n\t\tif (config.value)\r\n\t\t\ttabbar.value = config.value;\r\n\r\n\t\tif (config.tabbar) \r\n\t\t\twebix.extend(tabbar, config.tabbar, true);\r\n\t\tif (config.multiview) \r\n\t\t\twebix.extend(mview, config.multiview, true);\r\n\t\t\r\n\t\ttabbar.options = tabbar.options || tabs;\r\n\r\n\t\tconfig.rows = [\t\r\n\t\t\ttabbar, mview\r\n\t\t];\r\n\r\n\t\tdelete config.cells;\r\n\t\tdelete config.tabs;\r\n\t},\r\n\t_init_tabview_handlers:function(){\r\n\t\tthis.getTabbar().attachEvent(\"onOptionRemove\", function(id){\r\n\t\t\tvar view = webix.$$(id);\r\n\t\t\tif (view)\r\n\t\t\t\tview.destructor();\r\n\t\t});\r\n\t}\r\n}, webix.ui.layout);\r\n\r\n\r\n\r\n\r\n\r\n(function(){\r\n\r\n\tfunction _tagname(el) {\r\n\t\tif (!el.tagName) return null;\r\n\t\treturn el.tagName.toLowerCase();\r\n\t}\r\n\tfunction _attribute(el, name) {\r\n\t\tif (!el.getAttribute) return null;\r\n\t\tvar attr = el.getAttribute(name);\r\n\t\treturn attr ? attr.toLowerCase() : null;\r\n\t}\r\n\tfunction _get_html_value() {\r\n\t\tvar tagname = _tagname(this);\r\n\t\tif (_get_value[tagname])\r\n\t\t\treturn _get_value[tagname](this);\r\n\t\treturn _get_value.other(this);\r\n\t}\r\n\r\n\tvar _get_value = {\r\n\t\tradio: function(el){\r\n\t\t\tfor (var i = 0; i < el.length; i++)\r\n\t\t\t\tif (el[i].checked) return el[i].value;\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\t\tinput: function(el) {\r\n\t\t\tvar type = _attribute(el, 'type');\r\n\t\t\tif (type === 'checkbox')\r\n\t\t\t\treturn el.checked;\t\t\t\r\n\t\t\treturn el.value;\r\n\t\t},\r\n\t\ttextarea: function(el) {\r\n\t\t\treturn el.value;\r\n\t\t},\r\n\t\tselect: function(el) {\r\n\t\t\tvar index = el.selectedIndex;\r\n\t\t\treturn el.options[index].value;\r\n\t\t},\r\n\t\tother: function(el) {\r\n\t\t\treturn el.innerHTML;\r\n\t\t}\r\n\t};\r\n\r\n\tfunction  _set_html_value(value) {\r\n\t\tvar tagname = _tagname(this);\r\n\t\tif (_set_value[tagname])\r\n\t\t\treturn _set_value[tagname]( this, value);\r\n\t\treturn _set_value.other( this, value);\r\n\t}\r\n\r\n\tvar _set_value = {\r\n\t\tradio:function(el, value){\r\n\t\t\tfor (var i = 0; i < el.length; i++)\r\n\t\t\t\tel[i].checked = (el[i].value == value);\r\n\t\t},\r\n\t\tinput: function(el, value) {\r\n\t\t\tvar type = _attribute(el, 'type');\r\n\t\t\tif (type === 'checkbox')\r\n\t\t\t\tel.checked = (value) ? true : false;\r\n\t\t\telse\r\n\t\t\t\tel.value = value;\r\n\t\t},\r\n\t\ttextarea: function(el, value) {\r\n\t\t\tel.value = value;\r\n\t\t},\r\n\t\tselect: function(el, value) {\r\n            //select first option if no provided and if possible\r\n\t\t\tel.value = value?value:el.firstElementChild.value||value;\r\n\t\t},\r\n\t\tother: function(el, value) {\r\n\t\t\tel.innerHTML = value;\r\n\t\t}\r\n\t};\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"htmlform\",\r\n\t$init: function(config) {\r\n\t\tthis.elements = {};\r\n\t\tthis._default_values  = false;\r\n\r\n\t\tif (config.content && (config.container == config.content || !config.container && config.content == document.body))\r\n\t\t\tthis._copy_inner_content = true;\r\n\t},\r\n\tcontent_setter:function(content){\r\n\t\tcontent = webix.toNode(content);\r\n\t\tif (this._copy_inner_content){\r\n\t\t\twhile (content.childNodes.length > 1)\r\n\t\t\t\tthis._viewobj.childNodes[0].appendChild(content.childNodes[0]);\r\n\t\t} else {\r\n\t\t\tthis._viewobj.childNodes[0].appendChild(content);\r\n\t\t}\r\n\t\tthis._parse_inputs();\r\n\t\treturn true;\r\n\t},\r\n\trender:function(){\r\n\t\twebix.ui.template.prototype.render.apply(this, arguments);\r\n\t\tthis._parse_inputs();\r\n\t},\r\n\t_parse_inputs: function() {\r\n\t\tvar inputs = this._viewobj.querySelectorAll(\"[name]\");\r\n\t\tthis.elements = {};\r\n\r\n\r\n\t\tfor (var i=0; i<inputs.length; i++){\r\n\t\t\tvar el = inputs[i];\r\n\t\t\tvar name = _attribute(el, \"name\");\r\n\t\t\tif (name){\r\n\t\t\t\tvar tag = _tagname(el) === \"button\";\r\n\t\t\t\tvar type = _attribute(el, \"type\");\r\n\r\n\t\t\t\tvar cant_clear = tag || type === \"button\" || type === \"submit\";\r\n\r\n\t\t\t\tif (type === \"radio\"){\r\n\t\t\t\t\tvar stack = this.elements[name] || [];\r\n\t\t\t\t\tstack.tagName = \"radio\";\r\n\t\t\t\t\tstack.push(el);\r\n\t\t\t\t\tel = stack;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.elements[name] = el;\r\n\r\n\t\t\t\tel.getValue =  _get_html_value;\r\n\t\t\t\tel.setValue =  _set_html_value;\r\n\t\t\t\tel._allowsClear = !cant_clear;\r\n\t\t\t\tel._settings =  { defaultValue : el.getValue() };\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this.elements;\r\n\t},\r\n\t_mark_invalid:function(id,obj){\r\n\t\tthis._clear_invalid(id,obj);\r\n\t\tvar el = this._viewobj.querySelector('[name=\"' + id + '\"]');\r\n\t\tif (el) webix.html.addCss(el, \"invalid\");\r\n\t},\r\n\t_clear_invalid:function(id,obj){\r\n\t\tvar el = this._viewobj.querySelector('[name=\"' + id + '\"]');\r\n\t\tif (el) webix.html.removeCss(el, \"invalid\");\r\n\t}\r\n\r\n}, webix.ui.template, webix.Values);\r\n\r\n})();\r\n(function(){\r\n\tvar google;\r\n\twebix.protoUI({\r\n\t\tname:\"google-map\",\r\n\t\t$init:function(config){\r\n\t\t\tthis.$view.innerHTML = \"<div class='webix_map_content' style='width:100%;height:100%'></div>\";\r\n\t\t\tthis._contentobj = this.$view.firstChild;\r\n\t\t\tthis._map = webix.promise.defer();\r\n\r\n\t\t\tthis.data.provideApi(this, true);\r\n\t\t\tthis.$ready.push(this.render);\r\n\t\t},\r\n\t\tgetMap:function(){\r\n\t\t\treturn this._map;\r\n\t\t},\r\n\t\trender:function(){\r\n\t\t\tif(typeof window.google==\"undefined\"||typeof window.google.maps==\"undefined\"){\r\n\t\t\t\tvar name = \"webix_callback_\"+webix.uid();\r\n\t\t\t\twindow[name] = webix.bind(function(){\r\n\t\t\t\t\tgoogle = window.google;\r\n\t\t\t\t\tthis._initMap.call(this,true);\r\n\t\t\t\t},this);\r\n\r\n\t\t\t\tvar script = document.createElement(\"script\");\r\n\t\t\t\tscript.type = \"text/javascript\";\r\n\t\t\t\tvar src = \"//maps.google.com/maps/api/js?callback=\"+name;\r\n\r\n\t\t\t\tif (this.config.key)\r\n\t\t\t\t\tsrc += \"&key=\"+this.config.key;\r\n\t\t\t\tif (this.config.libraries)\r\n\t\t\t\t\tsrc += \"&libraries=\"+this.config.libraries;\r\n\r\n\t\t\t\tscript.src = src;\r\n\t\t\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(script);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tthis._initMap();\r\n\t\t},\r\n\t\t_initMap:function(define){\r\n\t\t\tvar c = this.config;\r\n\t\t\tif(this.isVisible(c.id)){\r\n\t\t\t\tthis.map = new google.maps.Map(this._contentobj, {\r\n\t\t\t\t\tzoom: c.zoom,\r\n\t\t\t\t\tcenter: new google.maps.LatLng(c.center[0], c.center[1]),\r\n\t\t\t\t\tmapTypeId: google.maps.MapTypeId[c.mapType]\r\n\t\t\t\t});\r\n\t\t\t\tthis._map.resolve(this.map);\r\n\t\t\t}\r\n\t\t},\r\n\t\tcenter_setter:function(config){\r\n\t\t\tif(this.map)\r\n\t\t\t\tthis.map.setCenter(new google.maps.LatLng(config[0], config[1]));\r\n\r\n\t\t\treturn config;\r\n\t\t},\r\n\t\tmapType_setter:function(config){\r\n\t\t\t/*ROADMAP,SATELLITE,HYBRID,TERRAIN*/\r\n\t\t\tif(this.map)\r\n\t\t\t\tthis.map.setMapTypeId(google.maps.MapTypeId[config]);\r\n\r\n\t\t\treturn config;\r\n\t\t},\r\n\t\tzoom_setter:function(config){\r\n\t\t\tif(this.map)\r\n\t\t\t\tthis.map.setZoom(config);\r\n\t\t\treturn config;\r\n\t\t},\r\n\t\tlayerType_setter:function(config){\r\n\t\t\tif(config == \"heatmap\")\r\n\t\t\t\tthis.config.libraries = \"visualization\";\r\n\t\t\tif(this._layerApi[config]){\r\n\t\t\t\twebix.extend(this, this._layerApi[config], true);\r\n\t\t\t\tthis.data.attachEvent(\"onStoreUpdated\", webix.bind(this.drawData, this));\r\n\t\t\t}\r\n\r\n\t\t\treturn config;\r\n\t\t},\r\n\t\tdefaults:{\r\n\t\t\tzoom: 5,\r\n\t\t\tcenter:[ 39.5, -98.5 ],\r\n\t\t\tmapType: \"ROADMAP\",\r\n\t\t\tlayerType:\"marker\"\r\n\t\t},\r\n\t\t$setSize:function(){\r\n\t\t\twebix.ui.view.prototype.$setSize.apply(this, arguments);\r\n\t\t\tif(this.map)\r\n\t\t\t\tgoogle.maps.event.trigger(this.map, \"resize\");\r\n\t\t},\r\n\t\t$onLoad:function(data){\r\n\t\t\tif(!this.map){\r\n\t\t\t\tthis._map.then(webix.bind(function(){\r\n\t\t\t\t\tthis.parse(data);\r\n\t\t\t\t}, this));\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\t_layerApi:{\r\n\t\t\tmarker:{\r\n\t\t\t\tdrawData:function(id, item, operation){\r\n\t\t\t\t\tswitch (operation){\r\n\t\t\t\t\t\tcase \"add\":\r\n\t\t\t\t\t\t\titem.$marker = this._getItemConfig(item);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"update\":\r\n\t\t\t\t\t\t\titem.$marker.setMap(null);\r\n\t\t\t\t\t\t\titem.$marker = this._getItemConfig(item);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"delete\":\r\n\t\t\t\t\t\t\titem.$marker.setMap(null);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tthis.data.each(function(item){\r\n\t\t\t\t\t\t\t\titem.$marker = this._getItemConfig(item);\r\n\t\t\t\t\t\t\t}, this);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tclearAll:function(){\r\n\t\t\t\t\tthis.data.each(function(obj){\r\n\t\t\t\t\t\tobj.$marker.setMap(null);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.data.clearAll();\r\n\t\t\t\t},\r\n\t\t\t\tshowItem:function(id){\r\n\t\t\t\t\tvar item = this.getItem(id);\r\n\t\t\t\t\tthis.map.setCenter(new google.maps.LatLng(item.lat, item.lng));\r\n\t\t\t\t},\r\n\t\t\t\t_getItemConfig:function(item){\r\n\t\t\t\t\tvar obj = {};\r\n\t\t\t\t\tfor(var i in item) obj[i] = item[i];\r\n\t\t\t\t\tobj.position = new google.maps.LatLng(item.lat, item.lng);\r\n\t\t\t\t\tobj.map = item.hidden? null: this.map;\r\n\r\n\t\t\t\t\tvar marker = new google.maps.Marker(obj);\r\n\t\t\t\t\tthis._events(marker);\r\n\t\t\t\t\tthis.callEvent(\"onItemRender\", [item]);\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn marker;\r\n\t\t\t\t},\r\n\t\t\t\t_events:function(marker){\r\n\t\t\t\t\tvar map = this;\r\n\t\t\t\t\t\r\n\t\t\t\t\tmarker.addListener('click', function(){\r\n\t\t\t\t\t\tmap.callEvent(\"onItemClick\", [this.id, this]);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif(marker.getDraggable()){\r\n\t\t\t\t\t\tmarker.addListener('dragend', function(){ map._onDrag(this, true); });\r\n\t\t\t\t\t\tmarker.addListener('drag', function(){ map._onDrag(this); });\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t_onDrag:function(marker, end){\r\n\t\t\t\t\tvar item = this.getItem(marker.id);\r\n\t\t\t\t\tvar pos = marker.getPosition();\r\n\t\t\t\t\tvar ev = end?\"onAfterDrop\":\"onDrag\";\r\n\r\n\t\t\t\t\titem.lat = pos.lat();\r\n\t\t\t\t\titem.lng = pos.lng();\r\n\t\t\t\t\tthis.callEvent(ev, [item.id, item]);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\theatmap:{\r\n\t\t\t\theatmapConfig_setter:function(value){\r\n\t\t\t\t\tvalue = value || {};\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t},\r\n\t\t\t\tdrawData:function(){\r\n\t\t\t\t\tif(this.heatmap){\r\n\t\t\t\t\t\tthis.heatmap.setMap(null);\r\n\t\t\t\t\t\tthis.heatmap = null;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar hdata = [];\r\n\t\t\t\t\tthis.data.each(function(item){ hdata.push(this._getConfig(item)); }, this);\r\n\r\n\t\t\t\t\tif(hdata.length){\r\n\t\t\t\t\t\tvar data = webix.extend(this.config.heatmapConfig, {data:hdata, map:this.map}, true);\r\n\t\t\t\t\t\tthis.heatmap = new google.maps.visualization.HeatmapLayer(data);\r\n\t\t\t\t\t\tthis.callEvent(\"onHeatMapRender\", [this.heatmap]);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t_getConfig:function(item){\r\n\t\t\t\t\tvar obj = {};\r\n\t\t\t\t\tfor(var i in item) obj[i] = item[i];\r\n\t\t\t\t\tobj.location = new google.maps.LatLng(item.lat, item.lng);\r\n\r\n\t\t\t\t\treturn obj;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}, webix.DataLoader, webix.EventSystem, webix.ui.view);\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.dp = function(name,getOnly){\r\n\tif (typeof name == \"object\" && name._settings)\r\n\t\tname = name._settings.id;\r\n\tif (webix.dp._pull[name] || getOnly)\r\n\t\treturn webix.dp._pull[name];\r\n\r\n\tif (typeof name == \"string\"||typeof name == \"number\")\r\n\t\tname = { master:webix.$$(name) };\r\n\r\n\tvar dp = new webix.DataProcessor(name);\r\n\tvar masterId = dp._settings.master._settings.id;\r\n\twebix.dp._pull[masterId]=dp;\r\n\r\n\twebix.$$(masterId).attachEvent(\"onDestruct\",function(){\r\n\t\twebix.dp._pull[this._settings.id] = null;\r\n\t\tdelete webix.dp._pull[this._settings.id];\r\n\t});\r\n\r\n\treturn dp;\r\n};\r\nwebix.dp._pull = {};\r\nwebix.dp.$$ = function(id){\r\n\treturn webix.dp._pull[id];\r\n};\r\n\r\n\r\nwebix.DataProcessor = webix.proto({\r\n\tdefaults: {\r\n\t\tautoupdate:true,\r\n\t\tupdateFromResponse:false,\r\n\t\tmode:\"post\",\r\n\t\toperationName:\"webix_operation\",\r\n\t\ttrackMove:false\r\n\t},\r\n\r\n\r\n\t/*! constructor\r\n\t **/\r\n\t$init: function() {\r\n\t\tthis.reset();\r\n\t\tthis._ignore = false;\r\n\t\tthis.name = \"DataProcessor\";\r\n\t\tthis.$ready.push(this._after_init_call);\r\n\t},\r\n\treset:function(){\r\n\t\tthis._updates = [];\r\n\t},\r\n\turl_setter:function(value){\r\n\t\t/*\r\n\t\t\twe can use simple url or mode->url\r\n\t\t*/\r\n\t\tvar mode = \"\";\r\n\t\tif (typeof value == \"string\"){\r\n\t\t\tvar parts = value.split(\"->\");\r\n\t\t\tif (parts.length > 1){\r\n\t\t\t\tvalue = parts[1];\r\n\t\t\t\tmode = parts[0];\r\n\t\t\t}\r\n\t\t} else if (value && value.mode){\r\n\t\t\tmode = value.mode;\r\n\t\t\tvalue = value.url;\r\n\t\t}\r\n\r\n\t\tif (mode)\r\n\t\t\treturn webix.proxy(mode, value);\r\n\r\n\t\treturn value;\r\n\t},\r\n\tmaster_setter:function(value){\r\n\t\tvar store = value;\r\n\t\tif (value.name != \"DataStore\")\r\n\t\t\tstore = value.data;\r\n\r\n\t\tthis._settings.store = store;\r\n\t\treturn value;\r\n\t},\r\n\t/*! attaching onStoreUpdated event\r\n\t **/\r\n\t_after_init_call: function(){\r\n\t\twebix.assert(this._settings.store, \"store or master need to be defined for the dataprocessor\");\r\n\t\tthis._settings.store.attachEvent(\"onStoreUpdated\", webix.bind(this._onStoreUpdated, this));\r\n\t\tthis._settings.store.attachEvent(\"onDataMove\", webix.bind(this._onDataMove, this));\r\n\t},\r\n\tignore:function(code,master){\r\n\t\tvar temp = this._ignore;\r\n\t\tthis._ignore = true;\r\n\t\tcode.call((master||this));\r\n\t\tthis._ignore = temp;\r\n\t},\r\n\toff:function(){\r\n\t\tthis._ignore = true;\r\n\t},\r\n\ton:function(){\r\n\t\tthis._ignore = false;\r\n\t},\r\n\r\n\t_copy_data:function(source){\r\n\t\tvar obj = {};\r\n\t\tfor (var key in source)\t\r\n\t\t\tif (key.indexOf(\"$\")!==0)\r\n\t\t\t\tobj[key]=source[key];\r\n\t\treturn obj;\r\n\t},\r\n\tsave:function(id, operation, obj){\r\n\t\toperation = operation || \"update\";\r\n\t\tthis._save_inner(id, (obj || this._settings.store.getItem(id)), operation);\r\n\t},\r\n\t_save_inner:function(id, obj, operation){\r\n\t\tif (typeof id == \"object\") id = id.toString();\r\n\t\tif (!id || this._ignore === true || !operation || operation == \"paint\") return true;\r\n\r\n\t\tvar store = this._settings.store;\r\n\t\tif (store && store._scheme_serialize)\r\n\t\t\tobj = store._scheme_serialize(obj);\r\n\r\n\t\tvar update = { id: id, data:this._copy_data(obj), operation:operation };\r\n\t\t//save parent id\r\n\t\tif (!webix.isUndefined(obj.$parent)) update.data.parent = obj.$parent;\r\n\r\n\t\tif (update.operation != \"delete\"){\r\n\t\t\t//prevent saving of not-validated records\r\n\t\t\tvar master = this._settings.master;\r\n\t\t\tif (master && master.data && master.data.getMark && master.data.getMark(id, \"webix_invalid\"))\r\n\t\t\t\tupdate._invalid = true;\r\n\r\n\t\t\tif (!this.validate(null, update.data))\r\n\t\t\t\tupdate._invalid = true;\r\n\t\t}\r\n\r\n\t\tif (this._check_unique(update))\r\n\t\t\tthis._updates.push(update);\r\n\r\n\t\tif (this._settings.autoupdate)\r\n\t\t\tthis.send();\r\n\t\t\t\r\n\t\treturn true;\r\n\t},\r\n\t_onDataMove:function(sid, tindex, parent, targetid){\r\n\t\tif (this._settings.trackMove){\r\n\t\t\tvar obj = webix.copy(this._settings.store.getItem(sid));\r\n\t\t\tvar order = this._settings.store.order;\r\n\r\n\t\t\tobj.webix_move_index = tindex;\r\n\t\t\tobj.webix_move_id = targetid;\r\n\t\t\tobj.webix_move_parent = parent;\r\n\t\t\tthis._save_inner(sid, obj, \"order\");\r\n\t\t}\r\n\t},\r\n\t_onStoreUpdated: function(id, obj, operation){\r\n\t\tswitch (operation) {\r\n\t\t\tcase 'save':\r\n\t\t\t\toperation = \"update\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'update':\r\n\t\t\t\toperation = \"update\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'add':\r\n\t\t\t\toperation = \"insert\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'delete':\r\n\t\t\t\toperation = \"delete\";\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\treturn true;\r\n\t\t}\r\n\t\treturn this._save_inner(id, obj, operation);\r\n\t},\r\n\t_check_unique:function(check){\r\n\t\tfor (var i = 0; i < this._updates.length; i++){\r\n\t\t\tvar one = this._updates[i];\r\n\t\t\tif (one.id == check.id){\r\n\t\t\t\tif (check.operation == \"delete\"){\r\n\t\t\t\t\tif (one.operation == \"insert\")\r\n\t\t\t\t\t\tthis._updates.splice(i,1);\r\n\t\t\t\t\telse \r\n\t\t\t\t\t\tone.operation = \"delete\";\r\n\t\t\t\t}\r\n\t\t\t\tone.data = check.data;\r\n\t\t\t\tone._invalid = check._invalid;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\tsend:function(){\r\n\t\tthis._sendData();\r\n\t},\r\n\t_sendData: function(){\r\n\t\tif (!this._settings.url)\r\n\t\t\treturn;\r\n\r\n\t\tvar marked = this._updates;\r\n\t\tvar to_send = [];\r\n\t\tvar url = this._settings.url;\r\n\r\n\t\tfor (var i = 0; i < marked.length; i++) {\r\n\t\t\tvar tosave = marked[i];\r\n\r\n\t\t\tif (tosave._in_progress) continue;\r\n\t\t\tif (tosave._invalid) continue;\r\n\r\n\t\t\tvar id = tosave.id;\r\n\t\t\tvar operation = tosave.operation;\r\n\t\t\tvar precise_url = (typeof url == \"object\" && !url.$proxy) ? url[operation] : url;\r\n\t\t\tvar proxy = precise_url && (precise_url.$proxy || typeof precise_url === \"function\");\r\n\r\n\t\t\tif (!precise_url) continue;\r\n\r\n\t\t\tif (this._settings.store._scheme_save)\r\n\t\t\t\tthis._settings.store._scheme_save(tosave.data);\r\n\r\n\t\t\tif (!this.callEvent(\"onBefore\"+operation, [id, tosave]))\r\n\t\t\t\tcontinue;\r\n\t\t\ttosave._in_progress = true;\r\n\r\n\t\t\tif (!this.callEvent(\"onBeforeDataSend\", [tosave])) return;\r\n\r\n\t\t\ttosave.data = this._updatesData(tosave.data);\r\n\r\n\t\t\tvar callback = this._send_callback({ id:tosave.id, status:tosave.operation });\r\n\t\t\tif (precise_url.$proxy){\r\n\t\t\t\tif (precise_url.save)\r\n\t\t\t\t\tprecise_url.save(this.config.master, tosave, this, callback);\r\n\t\t\t\telse\r\n\t\t\t\t\tto_send.push(tosave);\r\n\t\t\t} else {\r\n\t\t\t\tif (operation == \"insert\") delete tosave.data.id;\r\n\r\n\t\t\t\t\r\n\t\t\t\tif (proxy){\r\n\t\t\t\t\t//promise\r\n\t\t\t\t\tprecise_url(tosave.id, tosave.operation, tosave.data).then(\r\n\t\t\t\t\t\tfunction(data){\r\n\t\t\t\t\t\t\tif (data && typeof data.json == \"function\")\r\n\t\t\t\t\t\t\t\tdata = data.json();\r\n\t\t\t\t\t\t\tcallback.success(\"\", data, -1);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfunction(error){\r\n\t\t\t\t\t\t\tcallback.error(\"\", null, error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//normal url\r\n\t\t\t\t\ttosave.data[this._settings.operationName] = operation;\r\n\r\n\t\t\t\t\tthis._send(precise_url, tosave.data, this._settings.mode, operation, callback);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.callEvent(\"onAfterDataSend\", [tosave]);\r\n\t\t}\r\n\r\n\t\tif (url.$proxy && url.saveAll && to_send.length)\r\n\t\t\turl.saveAll(this.config.master, to_send, this, this._send_callback({}));\r\n\t},\r\n\r\n\r\n\t/*! process updates list to POST and GET params according dataprocessor protocol\r\n\t *\t@param updates\r\n\t *\t\tlist of objects { id: \"item id\", data: \"data hash\", operation: \"type of operation\"}\r\n\t *\t@return\r\n\t *\t\tobject { post: { hash of post params as name: value }, get: { hash of get params as name: value } }\r\n\t **/\r\n\r\n\r\n\r\n\t_updatesData:function(source){\r\n\t\tvar target = {};\r\n\t\tfor (var j in source){\r\n\t\t\tif (j.indexOf(\"$\")!==0)\r\n\t\t\t\ttarget[j] = source[j];\r\n\t\t}\r\n\t\treturn target;\r\n\t},\r\n\r\n\r\n\r\n\t/*! send dataprocessor query to server\r\n\t *\tand attach event to process result\r\n\t *\t@param url\r\n\t *\t\tserver url\r\n\t *\t@param get\r\n\t *\t\thash of get params\r\n\t *\t@param post\r\n\t *\t\thash of post params\r\n\t *\t@mode\r\n\t *\t\t'post' or 'get'\r\n\t **/\r\n\t_send: function(url, post, mode, operation, callback) {\r\n\t\twebix.assert(url, \"url was not set for DataProcessor\");\r\n\r\n\t\tif (typeof url == \"function\")\r\n\t\t\treturn url(post, operation, callback);\r\n\r\n\t\twebix.ajax()[mode](url, post, callback);\r\n\t},\r\n\t_send_callback:function(id){\r\n\t\tvar self = this;\r\n\t\treturn {\r\n\t\t\tsuccess:function(t,d,l){ return self._processResult(id, t,d,l); },\r\n\t\t\terror  :function(t,d,l){ return self._processError(id, t,d,l); }\r\n\t\t};\r\n\t},\r\n\tattachProgress:function(start, end, error){\r\n\t\tthis.attachEvent(\"onBeforeDataSend\", start);\r\n\t\tthis.attachEvent(\"onAfterSync\", end);\r\n\t\tthis.attachEvent(\"onAfterSaveError\", error);\r\n\t\tthis.attachEvent(\"onLoadError\", error);\r\n\t},\r\n\t_processError:function(id, text, data, loader){\r\n\t\tif (id)\r\n\t\t\tthis._innerProcessResult(true, id.id, false, id.status, false, {text:text, data:data, loader:loader});\r\n\t\telse {\r\n\t\t\tthis.callEvent(\"onLoadError\", arguments);\r\n\t\t\twebix.callEvent(\"onLoadError\", [text, data, loader, this]);\r\n\t\t}\r\n\t},\r\n\t_innerProcessResult:function(error, id, newid, status, obj, details){\r\n\t\tvar master = this._settings.master;\r\n\t\tvar update = this.getItemState(id);\r\n\t\tupdate._in_progress = false;\r\n\r\n\t\tif (error){\r\n\t\t\tif (this.callEvent(\"onBeforeSaveError\", [id, status, obj, details])){\r\n\t\t\t\tupdate._invalid = true;\r\n\t\t\t\tif(this._settings.undoOnError && master._settings.undo)\r\n\t\t\t\t\tmaster.undo(id);\r\n\t\t\t\tthis.callEvent(\"onAfterSaveError\", [id, status, obj, details]);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} else\r\n\t\t\tthis.setItemState(id, false);\r\n\r\n\t\t//update from response\r\n\t\tif (newid && id != newid)\r\n\t\t\tthis._settings.store.changeId(id, newid);\r\n\r\n \t\tif (obj && status != \"delete\" && this._settings.updateFromResponse)\r\n \t\t\tthis.ignore(function(){\t\t\t\t\r\n\t\t\t\tthis._settings.store.updateItem(newid || id, obj);\r\n \t\t\t});\r\n\t\t\t\r\n\r\n\t\t//clean undo history, for the saved record\r\n\t\tif(this._settings.undoOnError && master._settings.undo)\r\n\t\t\tmaster.removeUndo(newid||id);\r\n\r\n\t\tthis.callEvent(\"onAfterSave\",[obj, id, details]);\r\n\t\tthis.callEvent(\"onAfter\"+status, [obj, id, details]);\r\n\t},\r\n\tprocessResult: function(state, hash, details){\r\n\t\t//compatibility with custom json response\r\n\t\tvar error = (hash && (hash.status == \"error\" || hash.status == \"invalid\"));\r\n\t\tvar newid = (hash ? ( hash.newid || hash.id ) : false);\r\n\r\n\t\tthis._innerProcessResult(error, state.id, newid, state.status, hash, details);\r\n\t},\r\n\t// process saving from result\r\n\t_processResult: function(state, text, data, loader){\r\n\t\tthis.callEvent(\"onBeforeSync\", [state, text, data, loader]);\r\n\r\n\t\tif (loader === -1){\r\n\t\t\t//callback from promise\r\n\t\t\tthis.processResult(state, data, {});\r\n\t\t} else {\r\n\t\t\tvar proxy = this._settings.url;\r\n\t\t\tif (proxy.$proxy && proxy.result)\r\n\t\t\t\tproxy.result(state, this._settings.master, this, text,  data, loader);\r\n\t\t\telse {\r\n\t\t\t\tvar hash;\r\n\t\t\t\tif (text){\r\n\t\t\t\t\thash = data.json();\r\n\t\t\t\t\t//invalid response\r\n\t\t\t\t\tif (text && typeof hash == \"undefined\")\r\n\t\t\t\t\t\thash = { status:\"error\" };\r\n\t\t\t\t}\r\n\t\t\t\tthis.processResult(state, hash,  {text:text, data:data, loader:loader});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.callEvent(\"onAfterSync\", [state, text, data, loader]);\r\n\t},\r\n\r\n\r\n\t/*! if it's defined escape function - call it\r\n\t *\t@param value\r\n\t *\t\tvalue to escape\r\n\t *\t@return\r\n\t *\t\tescaped value\r\n\t **/\r\n\tescape: function(value) {\r\n\t\tif (this._settings.escape)\r\n\t\t\treturn this._settings.escape(value);\r\n\t\telse\r\n\t\t\treturn encodeURIComponent(value);\r\n\t},\r\n\tgetState:function(){\r\n\t\tif (!this._updates.length) return false;\r\n\t\tfor (var i = this._updates.length - 1; i >= 0; i--)\r\n\t\t\tif (this._updates[i]._in_progress)\r\n\t\t\t\treturn \"saving\";\r\n\r\n\t\treturn true;\r\n\t},\r\n\tgetItemState:function(id){\r\n\t\tvar index = this._get_stack_index(id);\r\n\t\treturn this._updates[index] || null;\r\n\t},\r\n\tsetItemState:function(id, state){\r\n\t\tif (state)\r\n\t\t\tthis.save(id, state);\r\n\t\telse{\r\n\t\t\tvar index = this._get_stack_index(id);\r\n\t\t\tif (index > -1)\r\n\t\t\t\tthis._updates.splice(index, 1);\r\n\t\t}\r\n\t},\r\n\t_get_stack_index: function(id) {\r\n\t\tvar index = -1;\r\n\t\tvar update = null;\r\n\t\tfor (var i=0; i < this._updates.length; i++)\r\n\t\t\tif (this._updates[i].id == id) {\r\n\t\t\t\tindex = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\treturn index;\r\n\t}\r\n\r\n}, webix.Settings, webix.EventSystem, webix.ValidateData);\r\n\r\n\r\n\r\n\r\nwebix.jsonp = function(url, params, callback, master){\r\n\tvar id = \"webix_jsonp_\"+webix.uid();\r\n\tvar script = document.createElement('script');\r\n\tscript.id = id;\r\n\tscript.type = 'text/javascript';\r\n\r\n\tvar head = document.getElementsByTagName(\"head\")[0];\r\n\r\n\tif (typeof params == \"function\"){\r\n\t\tmaster = callback;\r\n\t\tcallback = params;\r\n\t\tparams = {};\r\n\t}\r\n\r\n\tif (!params)\r\n\t\tparams = {};\r\n\r\n\tparams.jsonp = \"webix.jsonp.\"+id;\r\n\twebix.jsonp[id]=function(){\r\n\t\tcallback.apply(master||window, arguments);\r\n\t\tscript.parentNode.removeChild(script);\r\n\t\tcallback = head = master = script = null;\r\n\t\tdelete webix.jsonp[id];\r\n\t};\r\n\t\r\n\tvar vals = [];\r\n\tfor (var key in params) vals.push(key+\"=\"+encodeURIComponent(params[key]));\r\n\t\r\n\turl += (url.indexOf(\"?\") == -1 ? \"?\" : \"&\")+vals.join(\"&\");\r\n\r\n    script.src = url ;\r\n    head.appendChild(script);\r\n};\r\n\r\nwebix.markup = {\r\n\tnamespace:\"x\",\r\n\tattribute:\"data-\",\r\n\tdataTag:\"li\",\r\n\t_dash:/-([a-z])/g,\r\n\t_after_dash:function (match) { return match[1].toUpperCase(); },\r\n\t_parse_int:{\r\n\t\twidth:true,\r\n\t\theight:true,\r\n\t\tgravity:true,\r\n\t\tmargin:true,\r\n\t\tpadding:true,\r\n\t\tpaddingX:true,\r\n\t\tpaddingY:true,\r\n\t\tminWidth:true,\r\n\t\tmaxWidth:true,\r\n\t\tminHeight:true,\r\n\t\tmaxHeight:true,\r\n        headerRowHeight:true\r\n\t},\r\n\t_parse_bool:{\r\n\t\tdisabled:true,\r\n\t\thidden:true\r\n\t},\r\n\t_view_has_method:function(view, name){\r\n\t\treturn webix.ui.hasMethod(view, name);\r\n\t},\r\n\r\n\tinit: function(node, target, scope){\r\n\t\tnode = node || document.body;\r\n\r\n\t\tvar els = [];\r\n\t\tvar temp = this._get_core_els(node);\r\n\t\tvar html = temp.html;\r\n\t\tvar ui = null;\r\n\r\n\t\t//make copy to prevent node removing effects\r\n\t\tfor (var i = temp.length - 1; i >= 0; i--) els[i] = temp[i];\r\n\t\t\r\n\t\tfor (var i = 0; i < els.length; i++) {\r\n\t\t\tvar config, temp_config;\r\n\t\t\t//collect configuration\r\n\t\t\tconfig = this._sub_markup(els[i], html);\r\n\t\t\tconfig.$scope = scope;\r\n\t\t\tui = this._initComponent(config, els[i], html, target);\r\n\t\t}\r\n\t\treturn ui;\r\n\t},\r\n\r\n\tparse:function(source, mode){\r\n\t\t//convert from string to object\r\n\t\tif (typeof source == \"string\")\r\n\t\t\tsource = webix.DataDriver[mode || \"xml\"].toObject(source, source);\r\n\r\n\t\tvar els = this._get_core_els(source, mode);\r\n\t\treturn this._sub_markup(els[0], els.html);\r\n\t},\r\n\r\n\t_initComponent:function(config, node, html, target){\r\n\t\tif (!target){\r\n\t\t\tconfig.container = node.parentNode;\r\n\t\t\twebix.html.remove(node);\r\n\t\t} else \r\n\t\t\tconfig.container = target;\r\n\r\n\t\tif (this._view_has_method(config.view, \"setPosition\"))\r\n\t\t\tdelete config.container;\r\n\r\n\t\t//init ui\r\n\t\treturn webix.ui(config);\r\n\t},\r\n\r\n\t_get_core_els:function(node){\r\n\t\tthis._full_prefix = this.namespace?(this.namespace+\":\"):\"\";\r\n\t\tthis._full_prefix_top = this._full_prefix+\"ui\";\r\n\r\n\t\t//xhtml mode\r\n\t\tvar els = node.getElementsByTagName(this._full_prefix_top);\r\n\t\tif (!els.length && node.documentElement && node.documentElement.tagName == this._full_prefix_top)\r\n\t\t\tels = [ node.documentElement ];\r\n\r\n\t\t//loading from xml file with valid namespace\r\n\t\tif (!els.length && this.namespace){\r\n\t\t\tels = node.getElementsByTagName(\"ui\");\r\n\t\t\tif (!els.length && node.documentElement && node.documentElement.tagName == \"ui\")\r\n\t\t\t\tels = [ node.documentElement ];\r\n\t\t}\r\n\r\n\t\tif (!els.length){\r\n\t\t\t//html mode\r\n\t\t\tels = this._get_html_tops(node);\r\n\t\t\tels.html = true;\r\n\t\t}\r\n\t\treturn els;\r\n\t},\r\n\r\n\t//html conversion\r\n\t_get_html_tops: function(node){\r\n\t\tif (node.getAttribute && node.getAttribute(this.attribute+\"view\"))\r\n\t\t\treturn [node];\r\n\r\n\t\tvar els = node.querySelectorAll(\"[\"+this.attribute+\"view]\");\r\n\r\n\t\tvar tags = []; var marks = [];\r\n\t\tfor (var i = 0; i < els.length; i++)\r\n\t\t\tif (!els[i].parentNode.getAttribute(this.attribute+\"view\"))\r\n\t\t\t\ttags.push(els[i]);\r\n\r\n\t\treturn tags;\r\n\t},\r\n\r\n\r\n\r\n\t_sub_markup: function(el, html, json){\r\n\t\tvar htmltable = false;\r\n\t\t//ignore top x:ui for xhtml and xml \r\n\t\tif (!json){\r\n\t\t\tvar name = this._get_name(el, html);\r\n\t\t\tif (name == \"ui\"){\r\n\t\t\t\tvar childs = el.childNodes;\r\n\t\t\t\tfor (var i = 0; i < childs.length; i++)\r\n\t\t\t\t\tif (childs[i].nodeType == 1){\r\n\t\t\t\t\t\treturn this._sub_markup(childs[i], html);\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tjson = { view: name };\r\n\t\t\tif (html && el.tagName.toLowerCase() == \"table\"){\r\n\t\t\t\tjson.data = el;\r\n\t\t\t\tjson.datatype = \"htmltable\";\r\n\t\t\t\thtmltable = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar is_layout = json.view == \"cols\" || json.view == \"rows\" || this._view_has_method(json.view, \"addView\");\r\n\r\n\t\tvar subs = [];\r\n\t\tvar has_tags = 0; \r\n\t\tvar allow_sub_tags = !(html || el.style); //only for xml documents\r\n\t\tvar first = el.firstChild;\r\n\t\twhile (first){\r\n\t\t\t//tag node\r\n\t\t\tif (first.nodeType == 1){\r\n\t\t\t\tvar name = this._get_name(first, html);\r\n\t\t\t\tif (name == \"data\"){\r\n\t\t\t\t\thas_tags = 1;\r\n\t\t\t\t\tvar data = first; first = first.nextSibling;\r\n\t\t\t\t\tjson.data = this._handle_data(data, html);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t} else if (name == \"config\"){\r\n\t\t\t\t\tthis._get_config_html(first, json, html);\r\n\t\t\t\t\tvar confignode = first;\r\n\t\t\t\t\tfirst = first.nextSibling;\r\n\r\n\t\t\t\t\twebix.html.remove(confignode);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t} else if (name == \"column\"){\r\n\t\t\t\t\thas_tags = 1;\r\n\r\n\t\t\t\t\tvar column = this._tag_to_json(first, html);\r\n\t\t\t\t\tcolumn.header = column.header || column.value;\r\n\t\t\t\t\tcolumn.width = column.width * 1 || \"\";\r\n\r\n\t\t\t\t\tjson.columns = json.columns || [];\r\n\t\t\t\t\tjson.columns.push(column);\r\n\t\t\t\t} else if (name || (is_layout && html)){\r\n\t\t\t\t\tvar obj = this._sub_markup(first , html , { view:name });\r\n\t\t\t\t\tif (obj.view == \"head\")\r\n\t\t\t\t\t\tjson.head = obj.rows ? obj.rows[0] : obj.template;\r\n\t\t\t\t\telse if (obj.view == \"body\"){\r\n\t\t\t\t\t\tif (this._view_has_method(json.view, \"addView\")){\r\n\t\t\t\t\t\t\t//multiview, accordion\r\n\r\n\t\t\t\t\t\t\t//subtag or plain value\r\n\t\t\t\t\t\t\t//in case of multiple sub tags, only first will be used\r\n\t\t\t\t\t\t\t// #dirty\r\n\t\t\t\t\t\t\tsubs.push({\r\n\t\t\t\t\t\t\t\tbody: (obj.rows ? obj.rows[0] : obj.value),\r\n\t\t\t\t\t\t\t\theader:obj.header || \"\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t//window, fieldset\r\n\r\n\t\t\t\t\t\t\t//one sub tag - use it\r\n\t\t\t\t\t\t\t//multiple sub tags - create sub layout\r\n\t\t\t\t\t\t\t//or use plain text value\r\n\t\t\t\t\t\t\tjson.body = obj.rows ? ( obj.rows.length == 1 ? obj.rows[0] : { rows:obj.rows } ) : obj.value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\tsubs.push(obj);\r\n\t\t\t\t} else if (allow_sub_tags) {\r\n\t\t\t\t\thas_tags = 1;\r\n\t\t\t\t\tvar tagName = first.tagName;\r\n\t\t\t\t\tif (html) tagName = tagName.toLowerCase().replace(this._dash, this._after_dash);\r\n\t\t\t\t\tjson[tagName] = webix.DataDriver.xml.tagToObject(first);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfirst = first.nextSibling;\r\n\t\t}\r\n\r\n\t\tthis._attrs_to_json(el, json, html);\r\n\r\n\t\tif (subs.length){\r\n\t\t\tif (json.stack)\r\n\t\t\t\tjson[json.stack] = subs;\r\n\t\t\telse if (this._view_has_method(json.view, \"setValues\"))\r\n\t\t\t\tjson[\"elements\"] = subs;\r\n\t\t\telse if (json.view == \"rows\"){\r\n\t\t\t\tjson.view = \"layout\";\r\n\t\t\t\tjson.rows = subs;\r\n\t\t\t} else if (json.view == \"cols\"){\r\n\t\t\t\tjson.view = \"layout\";\r\n\t\t\t\tjson.cols = subs;\r\n\t\t\t} else if (this._view_has_method(json.view, \"setValue\")){\r\n\t\t\t\tjson[\"cells\"] = subs;\r\n\t\t\t} else if (this._view_has_method(json.view, \"getBody\")){\r\n\t\t\t\tjson.body = subs.length == 1 ? subs[0] : { rows:subs };\r\n\t\t\t} else\r\n\t\t\t\tjson[\"rows\"] = subs;\r\n\t\t} else if (!htmltable && !has_tags){\r\n\t\t\tif (html && !json.template && (!json.view || json.view == \"template\")){\r\n\t\t\t\tjson.view = \"template\";\r\n\t\t\t\tjson.content = el;\r\n\t\t\t} else {\r\n\t\t\t\tvar content = this._content(el, html);\r\n\t\t\t\tif (content){\r\n\t\t\t\t\tvar target = \"template\";\r\n\t\t\t\t\tif (this._view_has_method(json.view, \"setValue\"))\r\n\t\t\t\t\t\ttarget = \"value\";\r\n\t\t\t\t\tjson[target] = json[target] || content;\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn json;\r\n\t},\r\n\r\n\t_empty: function(str) {\r\n\t\tvar clean = str.replace(/\\s+/gm, '');\r\n\t\treturn (clean.length > 0) ? false : true;\t \r\n\t},\r\n\r\n\t_markup_names:{\r\n\t\tbody:1,\r\n\t\thead:1,\r\n\t\tdata:1,\r\n\t\trows:1,\r\n\t\tcols:1,\r\n\t\tcells:1,\r\n\t\telements:1,\r\n\t\tui:1,\r\n\t\tcolumn:1,\r\n\t\tconfig:1\r\n\t},\r\n\r\n\t_get_config_html:function(tag, json, html){\r\n\t\tvar master = this._attrs_to_json(tag, { });\r\n\t\tif (master.name){\r\n\t\t\tjson[master.name] = master;\r\n\t\t\tdelete master.name;\r\n\t\t} else \r\n\t\t\tif (master.stack) json[master.stack] = [];\r\n\t\telse\r\n\t\t\tjson = master;\r\n\r\n\t\tvar childs = tag.childNodes;\r\n\t\tfor (var i = 0; i < childs.length; i++) {\r\n            var sub = null;\r\n\t\t\tif (childs[i].nodeType == 1 && childs[i].tagName.toLowerCase() == \"config\" && childs[i].attributes.length)\r\n\t\t\t\tsub = this._get_config_html(childs[i], master, html);\r\n            else\r\n                sub = childs[i].innerHTML;\r\n            if (master.stack && sub)\r\n                json[master.stack].push(sub);\r\n\r\n\t\t}\r\n\t\treturn json;\r\n\t},\r\n\r\n\t_get_name:function(tag, html){\r\n\t\t//value of view attribute or config tag\r\n\t\tif (html)\r\n\t\t\treturn tag.getAttribute(this.attribute+\"view\") || ( tag.tagName.toLowerCase() == \"config\" ? \"config\" : null);\r\n\t\tvar name = tag.tagName.toLowerCase();\r\n\t\tif (this.namespace){\r\n\t\t\tif (name.indexOf(this._full_prefix) === 0 || tag.scopeName == this.namespace)\r\n\t\t\t\treturn name.replace(this._full_prefix,\"\");\r\n\t\t} else {\r\n\t\t\tif (webix.ui[name] || this._markup_names[name])\r\n\t\t\t\treturn name;\r\n\t\t}\r\n\t\treturn 0;\r\n\t},\r\n\r\n\t_handle_data:function(el, html){\r\n\t\tvar data = [];\r\n\r\n\t\tvar records = el.getElementsByTagName(webix.markup.dataTag);\r\n\t\tfor (var i=0; i<records.length; i++){\r\n\t\t\tvar rec = records[i];\r\n\t\t\tif (rec.parentNode.parentNode.tagName != webix.markup.dataTag){\r\n\t\t\t\tvar json = this._tag_to_json(rec, html);\r\n\t\t\t\t//reuse css class \r\n\t\t\t\tif (rec.className) json.$css = rec.className;\r\n\t\t\t\tdata.push(json);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\twebix.html.remove(el);\r\n\r\n\t\treturn data;\r\n\t},\r\n\t_content:function(el, html){\r\n\t\tif (el.style) return el.innerHTML;\r\n\t\tif (el.firstChild)\r\n\t\t\treturn el.firstChild.wholeText||el.firstChild.data||\"\";\r\n\t\treturn \"\";\r\n\t},\r\n\r\n\r\n\t_tag_to_json:function(el, html){\r\n\t\tif (!html)\r\n\t\t\treturn webix.DataDriver.xml.tagToObject(el);\r\n\r\n\t\tvar json = this._attrs_to_json(el, {}, html);\r\n\t\tif (!json.value && el.childNodes.length)\r\n\t\t\tjson.value = this._content(el, html);\r\n\r\n\t\treturn json;\r\n\t},\r\n\t_attrs_to_json:function(el, json, html){\r\n\t\tvar attrs = el.attributes;\r\n        for (var i=0; i<attrs.length; i++){\r\n            var name = attrs[i].name;\r\n            if (html){\r\n                if (name.indexOf(this.attribute) !== 0)\r\n                    continue;\r\n                name = name.replace(this.attribute,\"\").replace(this._dash, this._after_dash);\r\n            }\r\n\r\n            var value = attrs[i].value;\r\n            if (value.indexOf(\"json://\") != -1)\r\n                value = JSON.parse(value.replace(\"json://\",\"\"));\r\n\r\n            if (this._parse_int[name])\r\n                value = parseInt(value,10);\r\n            else if (this._parse_bool[name])\r\n            \tvalue = (value && value !== \"false\" && value != \"0\");\r\n\r\n            json[name] = value;\r\n        }\r\n        return json;\r\n\t}\r\n};\r\n(function(){\r\n\tvar _webix_msg_cfg = null;\r\n\tfunction callback(config, result){\r\n\t\t\tvar usercall = config.callback;\r\n\t\t\tmodality(false);\r\n\t\t\tconfig.box.parentNode.removeChild(config.box);\r\n\t\t\t_webix_msg_cfg = config.box = null;\r\n\t\t\tif (usercall)\r\n\t\t\t\tusercall(result,config.details);\r\n\t}\r\n\tfunction modal_key(e){\r\n\t\tif (_webix_msg_cfg){\r\n\t\t\te = e||event;\r\n\t\t\tvar code = e.which||event.keyCode;\r\n\t\t\tif (webix.message.keyboard){\r\n\t\t\t\tif (code == 13 || code == 32)\r\n\t\t\t\t\tcallback(_webix_msg_cfg, true);\r\n\t\t\t\tif (code == 27)\r\n\t\t\t\t\tcallback(_webix_msg_cfg, false);\r\n\t\t\t\r\n\t\t\t\tif (e.preventDefault)\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\treturn !(e.cancelBubble = true);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (document.attachEvent)\r\n\t\tdocument.attachEvent(\"onkeydown\", modal_key);\r\n\telse\r\n\t\tdocument.addEventListener(\"keydown\", modal_key, true);\r\n\t\t\r\n\tfunction modality(mode){\r\n\t\tif(!modality.cover || !modality.cover.parentNode){\r\n\t\t\tmodality.cover = document.createElement(\"DIV\");\r\n\t\t\t//necessary for IE only\r\n\t\t\tmodality.cover.onkeydown = modal_key;\r\n\t\t\tmodality.cover.className = \"webix_modal_cover\";\r\n\t\t\tdocument.body.appendChild(modality.cover);\r\n\t\t}\r\n\t\tmodality.cover.style.display = mode?\"inline-block\":\"none\";\r\n\t}\r\n\r\n\tfunction button(text, result, className){\r\n\t\treturn \"<div role='button' tabindex='0' aria-label='\"+text+\"' class='webix_popup_button\"+(className?(\" \"+className):\"\")+\"' result='\"+result+\"' ><div>\"+text+\"</div></div>\";\r\n\t}\r\n\r\n\tfunction info(text){\r\n\t\tif (!t.area){\r\n\t\t\tt.area = document.createElement(\"DIV\");\r\n\t\t\tt.area.className = \"webix_message_area\";\r\n\t\t\tt.area.style[t.position]=\"5px\";\r\n\t\t\t\r\n\t\t\tdocument.body.appendChild(t.area);\r\n\t\t}\r\n\t\tt.area.setAttribute(\"role\", \"alert\");\r\n\t\tt.area.setAttribute(\"aria-atomic\", true);\r\n\t\tt.hide(text.id);\r\n\t\tvar message = document.createElement(\"DIV\");\r\n\t\tmessage.innerHTML = \"<div>\"+text.text+\"</div>\";\r\n\t\tmessage.className = \"webix_info webix_\" + text.type;\r\n\t\tmessage.onclick = function(){\r\n\t\t\tt.hide(text.id);\r\n\t\t\ttext = null;\r\n\t\t};\r\n\r\n\t\tif (webix.$testmode)\r\n\t\t\tmessage.className += \" webix_no_transition\";\r\n\r\n\t\tif (t.position == \"bottom\" && t.area.firstChild)\r\n\t\t\tt.area.insertBefore(message,t.area.firstChild);\r\n\t\telse\r\n\t\t\tt.area.appendChild(message);\r\n\t\t\r\n\t\tif (text.expire > 0)\r\n\t\t\tt.timers[text.id]=window.setTimeout(function(){\r\n\t\t\t\tt.hide(text.id);\r\n\t\t\t}, text.expire);\r\n\r\n\t\t//styling for animation\r\n\t\tmessage.style.height = message.offsetHeight-2+\"px\";\r\n\r\n\t\tt.pull[text.id] = message;\r\n\t\tmessage = null;\r\n\r\n\t\treturn text.id;\r\n\t}\r\n\tfunction _boxStructure(config, ok, cancel){\r\n\t\tvar box = document.createElement(\"DIV\");\r\n\t\tbox.className = \" webix_modal_box webix_\"+config.type;\r\n\t\tbox.setAttribute(\"webixbox\", 1);\r\n\t\tbox.setAttribute(\"role\", \"alertdialog\");\r\n\t\tbox.setAttribute(\"aria-label\", config.title || \"\");\r\n\t\tbox.setAttribute(\"tabindex\", \"0\");\r\n\t\t\t\r\n\t\tvar inner = '';\r\n\t\tif (config.width)\r\n\t\t\tbox.style.width = config.width+(webix.rules.isNumber(config.width)?\"px\":\"\");\r\n\t\tif (config.height)\r\n\t\t\tbox.style.height = config.height+(webix.rules.isNumber(config.height)?\"px\":\"\");\r\n\t\tif (config.title)\r\n\t\t\tinner+='<div class=\"webix_popup_title\">'+config.title+'</div>';\r\n\t\tinner+='<div class=\"webix_popup_text\"><span>'+(config.content?'':config.text)+'</span></div><div  class=\"webix_popup_controls\">';\r\n\t\tif (ok || config.ok)\r\n\t\t\tinner += button(config.ok || \"OK\", true,\"confirm\");\r\n\t\tif (cancel || config.cancel)\r\n\t\t\tinner += button(config.cancel || \"Cancel\", false);\r\n\t\tif (config.buttons){\r\n\t\t\tfor (var i=0; i<config.buttons.length; i++)\r\n\t\t\t\tinner += button(config.buttons[i],i);\r\n\t\t}\r\n\t\tinner += '</div>';\r\n\t\tbox.innerHTML = inner;\r\n\r\n\t\tif (config.content){\r\n\t\t\tvar node = config.content;\r\n\t\t\tif (typeof node == \"string\") \r\n\t\t\t\tnode = document.getElementById(node);\r\n\t\t\tif (node.style.display == 'none')\r\n\t\t\t\tnode.style.display = \"\";\r\n\t\t\tbox.childNodes[config.title?1:0].appendChild(node);\r\n\t\t}\r\n\r\n\t\tbox.onclick = function(e){\r\n\t\t\te = e ||event;\r\n\t\t\tvar source = e.target || e.srcElement;\r\n\t\t\tif (!source.className) source = source.parentNode;\r\n\t\t\tif (source.className.indexOf(\"webix_popup_button\")!=-1){\r\n\t\t\t\tvar result = source.getAttribute(\"result\");\r\n\t\t\t\tresult = (result == \"true\")||(result == \"false\"?false:result);\r\n\t\t\t\tcallback(config, result);\r\n\t\t\t}\r\n\t\t\te.cancelBubble = true;\r\n\t\t};\r\n\t\tconfig.box = box;\r\n\t\tif (ok||cancel||config.buttons)\r\n\t\t\t_webix_msg_cfg = config;\r\n\r\n\t\treturn box;\r\n\t}\r\n\tfunction _createBox(config, ok, cancel){\r\n\t\tvar box = config.tagName ? config : _boxStructure(config, ok, cancel);\r\n\t\t\r\n\t\tif (!config.hidden)\r\n\t\t\tmodality(true);\r\n\t\tdocument.body.appendChild(box);\r\n\t\tvar x = config.left||Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth) - box.offsetWidth)/2));\r\n\t\tvar y = config.top||Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight) - box.offsetHeight)/2));\r\n\t\tif (config.position == \"top\")\r\n\t\t\tbox.style.top = \"-3px\";\r\n\t\telse\r\n\t\t\tbox.style.top = y+'px';\r\n\t\tbox.style.left = x+'px';\r\n\t\t//necessary for IE only\r\n\t\tbox.onkeydown = modal_key;\r\n\r\n\t\tbox.focus();\r\n\t\tif (config.hidden)\r\n\t\t\twebix.modalbox.hide(box);\r\n\r\n\t\treturn box;\r\n\t}\r\n\r\n\tfunction alertPopup(config){\r\n\t\treturn _createBox(config, true, false);\r\n\t}\r\n\tfunction confirmPopup(config){\r\n\t\treturn _createBox(config, true, true);\r\n\t}\r\n\tfunction boxPopup(config){\r\n\t\treturn _createBox(config);\r\n\t}\r\n\tfunction box_params(text, type, callback){\r\n\t\tif (typeof text != \"object\"){\r\n\t\t\tif (typeof type == \"function\"){\r\n\t\t\t\tcallback = type;\r\n\t\t\t\ttype = \"\";\r\n\t\t\t}\r\n\t\t\ttext = {text:text, type:type, callback:callback };\r\n\t\t}\r\n\t\treturn text;\r\n\t}\r\n\tfunction params(text, type, expire, id){\r\n\t\tif (typeof text != \"object\")\r\n\t\t\ttext = {text:text, type:type, expire:expire, id:id};\r\n\t\ttext.id = text.id||t.uid();\r\n\t\ttext.expire = text.expire||t.expire;\r\n\t\treturn text;\r\n\t}\r\n\twebix.alert = function(){\r\n\t\tvar text = box_params.apply(this, arguments);\r\n\t\ttext.type = text.type || \"confirm\";\r\n\t\treturn alertPopup(text);\r\n\t};\r\n\twebix.confirm = function(){\r\n\t\tvar text = box_params.apply(this, arguments);\r\n\t\ttext.type = text.type || \"alert\";\r\n\t\treturn confirmPopup(text);\r\n\t};\r\n\twebix.modalbox = function(){\r\n\t\tvar text = box_params.apply(this, arguments);\r\n\t\ttext.type = text.type || \"alert\";\r\n\t\treturn boxPopup(text);\r\n\t};\r\n\twebix.modalbox.hide = function(node){\r\n\t\tif(node){\r\n\t\t\twhile (node && node.getAttribute && !node.getAttribute(\"webixbox\"))\r\n\t\t\t\tnode = node.parentNode;\r\n\t\t\tif (node){\r\n\t\t\t\tnode.parentNode.removeChild(node);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tmodality(false);\r\n\t\t_webix_msg_cfg = null;\r\n\t};\r\n\tvar t = webix.message = function(text, type, expire, id){\r\n\t\ttext = params.apply(this, arguments);\r\n\t\ttext.type = text.type||\"info\";\r\n\r\n\t\tvar subtype = text.type.split(\"-\")[0];\r\n\t\tswitch (subtype){\r\n\t\t\tcase \"alert\":\r\n\t\t\t\treturn alertPopup(text);\r\n\t\t\tcase \"confirm\":\r\n\t\t\t\treturn confirmPopup(text);\r\n\t\t\tcase \"modalbox\":\r\n\t\t\t\treturn boxPopup(text);\r\n\t\t\tdefault:\r\n\t\t\t\treturn info(text);\r\n\t\t}\r\n\t};\r\n\r\n\tt.seed = (new Date()).valueOf();\r\n\tt.uid = function(){return t.seed++;};\r\n\tt.expire = 4000;\r\n\tt.keyboard = true;\r\n\tt.position = \"top\";\r\n\tt.pull = {};\r\n\tt.timers = {};\r\n\r\n\tt.hideAll = function(){\r\n\t\tfor (var key in t.pull)\r\n\t\t\tt.hide(key);\r\n\t};\r\n\tt.hide = function(id){\r\n\t\tvar obj = t.pull[id];\r\n\t\tif (obj && obj.parentNode){\r\n\t\t\twindow.setTimeout(function(){\r\n\t\t\t\tobj.parentNode.removeChild(obj);\r\n\t\t\t\tobj = null;\r\n\t\t\t},2000);\r\n\t\t\t//styling for animation\r\n\t\t\tobj.style.height = 0;\r\n\t\t\tobj.className+=\" hidden\";\r\n\t\t\tt.area.removeAttribute(\"role\");\r\n\t\t\t\r\n\t\t\tif(t.timers[id])\r\n\t\t\t\twindow.clearTimeout(t.timers[id]);\r\n\t\t\tdelete t.pull[id];\r\n\t\t}\r\n\t};\r\n})();\r\nwebix.debug_ready(function(){\r\n\r\n\tvar ignore = {\r\n\t\t\"_inner\":true, \r\n\t\t\"awidth\":true,\r\n\t\t\"cheight\":true,\r\n\t\t\"bheight\":true,\r\n\t\t\"aheight\":true\r\n\t};\r\n\r\n\tfunction get_inspector_config(view){\r\n\t\tvar values={};\r\n\t\tvar options=[];\r\n\t\tview = webix.$$(view);\r\n\r\n\t\tfor (var key in view.config){\r\n\t\t\tif (ignore[key]) continue;\r\n\t\t\t\r\n\t\t\tif (typeof view.config[key] == \"object\") continue;\r\n\t\t\tif (typeof view.config[key] == \"undefined\") continue;\r\n\t\t\tif (typeof view.config[key] == \"function\") continue;\r\n\r\n\t\t\tif (key == \"view\" || key == \"id\")\r\n\t\t\t\toptions.push({ label:key, id:key});\r\n\t\t\telse \r\n\t\t\t\toptions.push({ label:key, type:\"text\", id:key});\r\n\r\n\t\t\tif (view.defaults[key] == view.config[key]) \r\n\t\t\t\toptions[options.length - 1].css = { \"color\" : \"#888\" };\r\n\r\n\t\t\tvalues[key] = view.config[key];\r\n\t\t}\r\n\t\toptions.sort(function(a,b){\r\n\t\t\tif (!a.css && b.css) return -1;\r\n\t\t\tif (a.css && !b.css) return 1;\r\n\t\t\treturn (a.id > b.id) ? 1 : ((a.id == b.id) ? 0 : -1);\r\n\t\t});\r\n\r\n\t\treturn { elements:options, data:values, head:\" [\"+view.name+\"] <strong>\"+view._settings.id+\"</strong>\" };\r\n\t}\r\n\r\n\tfunction create_inspector(){\r\n\t\tif (!webix.$$(\"webix_debug_inspector_win\"))\r\n\t\t\twebix.ui({\r\n\t\t\t\tid:\"webix_debug_inspector_win\",\r\n\t\t\t\tview:\"window\", \r\n\t\t\t\ttop:2, left: 0, width:350, height:350,\r\n\t\t\t\thead:false, autofit:false,\r\n\t\t\t\tbody:{cols:[\r\n\t\t\t\t\t{ width:10},\r\n\t\t\t\t\t{type:\"clean\", rows:[\r\n\t\t\t\t\t\t{ view:\"toolbar\", elements:[\r\n\t\t\t\t\t\t\t{ view:\"label\", value:\"\", id:\"webix_debug_inspector_head\" },\r\n\t\t\t\t\t\t\t{ view:\"button\", width:100, value:\"Hide\", type:\"custom\", click:function(){\r\n\t\t\t\t\t\t\t\twebix.debug_inspect();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t]},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid:\"webix_debug_inspector\", nameWidth:150,\r\n\t\t\t\t\t\t\tview:\"property\", scroll:\"y\",\r\n\t\t\t\t\t\t\telements:[],\r\n\t\t\t\t\t\t\ton:{\r\n\t\t\t\t\t\t\t\tonaftereditstop:function(state, editor){\r\n\t\t\t\t\t\t\t\t\tif (state.old == state.value) return;\r\n\r\n\t\t\t\t\t\t\t\t\tvar value = state.value;\r\n\t\t\t\t\t\t\t\t\tif (value === \"true\" || value === \"false\"){\r\n\t\t\t\t\t\t\t\t\t\tvalue = (value === \"true\");\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tvar intvalue = parseInt(value,10);\r\n\t\t\t\t\t\t\t\t\t\tif (intvalue == value)\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = intvalue;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tvar view = webix.$$(this.config.view);\r\n\t\t\t\t\t\t\t\t\tview.define(editor.id, value);\r\n\t\t\t\t\t\t\t\t\tif (view.refreshColumns)\r\n\t\t\t\t\t\t\t\t\t\tview.refreshColumns();\r\n\t\t\t\t\t\t\t\t\telse if (view.refresh)\r\n\t\t\t\t\t\t\t\t\t\tview.refresh();\r\n\r\n\t\t\t\t\t\t\t\t\tview.resize();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tfunction show_inspector(view, ev){\r\n\t\tcreate_inspector();\r\n\t\tvar win = webix.$$(\"webix_debug_inspector_win\");\r\n\r\n\t\tif (view){\r\n\t\t\tvar config = get_inspector_config(view);\r\n\t\t\tvar winx = document.body.offsetWidth;\r\n\t\t\tvar winy = document.body.offsetHeight;\r\n\t\t\tvar pos = ev?webix.html.pos(ev):{x:0,y:0};\r\n\r\n\t\t\twin.define(\"height\", Math.max(350, winy-4));\r\n\t\t\twin.resize();\r\n\r\n\t\t\tvar props = webix.$$(\"webix_debug_inspector\");\r\n\t\t\tprops.define(\"elements\", config.elements);\r\n\t\t\tprops.define(\"view\", view);\r\n\r\n\t\t\twin.show({ x:(pos.x > winx/2 )?0:(winx-370), y:0 });\r\n\t\t\twebix.$$(\"webix_debug_inspector\").setValues(config.data);\r\n\t\t\twebix.$$(\"webix_debug_inspector_head\").setValue(config.head);\r\n\t\t} else \r\n\t\t\twin.hide();\r\n\t}\r\n\twebix.debug_inspect = show_inspector;\r\n\r\n\tfunction infi(value){\r\n\t\tif (value >= 100000)\r\n\t\t\treturn \"Any\";\r\n\t\treturn value;\r\n\t}\r\n\tfunction log_level(data, prefix, now){\r\n\t\twindow.console.log((data == now?\">>\":\"  \")+prefix + data.name+\" / \" +data.config.id);\r\n\t\tprefix+=\"  \";\r\n\t\tif (data._cells)\r\n\t\t\tfor (var i=0; i<data._cells.length; i++){\r\n\t\t\t\tlog_level(data._cells[i], prefix, now);\r\n\t\t\t}\r\n\t\tif (data._head_cell)\r\n\t\t\tlog_level(data._head_cell, prefix, now);\r\n\r\n\t\tif (data._body_cell)\r\n\t\t\tlog_level(data._body_cell, prefix, now);\r\n\t}\r\n\r\n\twebix.ui({\r\n\t\tview:\"contextmenu\",\r\n\t\tid:\"webix:debugmenu\",\r\n\t\ton:{\r\n\t\t\tonBeforeShow:function(e){\r\n\t\t\t\tif (!e.ctrlKey) return false;\r\n\r\n\t\t\t\tvar view = webix.html.locate(e, \"view_id\");\r\n\t\t\t\tif (!view) return false;\r\n\t\t\t\tthis.config.lastTarget = view;\r\n\r\n\t\t\t\twebix.blockEvent();\r\n\t\t\t\twebix.delay(function(){ webix.unblockEvent(); });\r\n\t\t\t},\r\n\t\t\tonShow:function(){\r\n\t\t\t\tvar view = webix.$$(this.config.lastTarget);\r\n\t\t\t\tvar info = \"<span style='color:#888'>\"+view._settings.id + \"<sup style='float:right'>[\"+view.name+\"]</sup></span>\";\r\n\t\t\t\tdocument.getElementById(\"webix_debug_cmx\").innerHTML = info;\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata:[\r\n\t\t\t\"<div id='webix_debug_cmx'></div>\",\r\n\t\t\t{ id:\"inspect\", value:\"Inspect\"},\r\n\t\t\t{ id:\"docs\", value:\"Documentation\"},\r\n\t\t\t{\r\n\t\t\t\tvalue:\"Log to Console\", submenu:[\r\n\t\t\t\t\t{ id:\"size\", value:\"Sizes\" },\r\n\t\t\t\t\t{ id:\"tree\", value:\"Tree\" },\r\n\t\t\t\t\t{ id:\"dump\", value:\"Dump\"}\r\n\t\t\t\t]\r\n\t\t\t}\t\t\r\n\t\t],\r\n\t\tclick:function(id, ev){\r\n\t\t\t//mixing two object result in confusion\r\n\t\t\tvar obj = webix.$$(this.config.lastTarget);\r\n\r\n\t\t\tif  (id == \"dump\"){\r\n\t\t\t\twindow.console.info(\"\\n\"+obj.name+\" / \"+obj.config.id);\r\n\t\t\t\twindow.console.log(\"\\nView: \",obj,\", Config: \", obj.config, \", Data: \", obj.data);\r\n\t\t\t\twindow.console.log(obj.$view);\r\n\t\t\t}\r\n\r\n\t\t\tif (id == \"tree\"){\r\n\t\t\t\t\r\n\t\t\t\tvar now = obj;\r\n\t\t\t\twhile (obj.getParentView())\r\n\t\t\t\t\tobj = obj.getParentView();\r\n\r\n\t\t\t\twindow.console.log(\"\");\r\n\t\t\t\tlog_level(obj, \"\", now);\r\n\t\t\t}\r\n\r\n\t\t\tif (id == \"size\"){\r\n\t\t\t\twindow.console.info(\"\");\r\n\t\t\t\twindow.console.info(\"\\n\"+obj.name+\" / \"+obj.config.id);\r\n\t\t\t\twindow.console.info(\"\\n[min]   \", obj.config.width, \" x \", obj.config.height);\r\n\t\t\t\tvar sizes = obj.$getSize(0,0);\r\n\t\t\t\twindow.console.info(\"[max]    \", infi(sizes[1]), \" x \", infi(sizes[3])+(obj.config.autoheight?\", auto height\":\"\"));\r\n\t\t\t\twindow.console.info(\"[gravity]   \", obj.config.gravity);\r\n\r\n\t\t\t\twindow.console.info(\"\\n[content]    \", obj._content_width, \" x \", obj._content_height);\r\n\t\t\t\twindow.console.info(\"[last set]   \", obj._last_size[0], \" x \", obj._last_size[1]);\r\n\t\t\t\tif (obj._settings._inner)\r\n\t\t\t\t\twindow.console.info(\"\\n[borders]   \", \"left:\", !obj._settings._inner.left,\"\\ttop:\", !obj._settings._inner.top,  \"\\tright:\", !obj._settings._inner.right,  \"\\tbottom:\", !obj._settings._inner.bottom);\r\n\t\t\t\telse\r\n\t\t\t\t\twindow.console.info(\"\\n[borders]   none\");\r\n\t\t\t}\r\n\r\n\t\t\tif (id == \"docs\")\r\n\t\t\t\twindow.open(\"http://docs.webix.com/api__refs__ui.\"+obj.name+\".html\",\"__blank\");\r\n\r\n\t\t\tif (id == \"inspect\"){\r\n\t\t\t\tshow_inspector(this.config.lastTarget, ev);\r\n\t\t\t}\r\n\t\t},\r\n\t\tmaster:document.body\r\n\t});\r\n});\r\n\r\n\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"carousel\",\r\n\tdefaults:{\r\n\t\tscrollSpeed:\"300ms\",\r\n\t\ttype: \"clean\",\r\n\t\tnavigation: {}\r\n\t},\r\n\t$init:function(config){\r\n\t\tthis._viewobj.className += \" webix_carousel\";\r\n\t\tthis._layout = null;\r\n\t\tthis._dataobj = null;\r\n\t\tthis._active_cell = 0;\r\n\t\tthis.$ready.unshift(this._initLayout);\r\n\t\tthis.$ready.push(this._after_init_call);\r\n\t},\r\n\r\n\t_initLayout: function(){\r\n\t\tif(this._layout && this._layout.destructor)\r\n\t\t\tthis._layout.destructor();\r\n\r\n\t\tvar layout = \"\";\r\n\r\n\t\tif(this.config.cols){\r\n\t\t\tlayout = \"cols\";\r\n\t\t\tthis._vertical_orientation = 0;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tlayout = \"rows\";\r\n\t\t\tthis._vertical_orientation = 1;\r\n\t\t}\r\n\r\n\t\tvar config = {borderless: true, type: \"clean\"};\r\n\t\tconfig[layout] = webix.copy(this._settings[layout]);\r\n\t\tvar layoutProp = [\"type\", \"margin\", \"marginX\", \"marginY\", \"padding\", \"paddingX\", \"paddingY\"];\r\n\t\tvar layoutConfig = {};\r\n\t\tfor(var i=0; i< layoutProp.length; i++){\r\n\t\t\tif(this._settings[layoutProp[i]]){\r\n\t\t\t\tlayoutConfig[layoutProp[i]] = this._settings[layoutProp[i]];\r\n\t\t\t}\r\n\t\t}\r\n\t\twebix.extend(config,layoutConfig,true);\r\n\r\n\t\tthis._layout = webix.ui._view(config);\r\n\t\tthis._layout._parent_cell = this;\r\n\r\n\t\tthis._viewobj.appendChild(this._layout._viewobj);\r\n\t\tthis._cells = this._layout._cells;\r\n\r\n\t\tthis._layout._show = webix.bind(webix.ui.carousel.prototype._show,this);\r\n\t\tthis._layout.adjustScroll = webix.bind(webix.ui.carousel.prototype.adjustScroll,this);\r\n\r\n\t\twebix.attachEvent(\"onReconstruct\", webix.bind(function(view){\r\n\t\t\tif(view == this._layout)\r\n\t\t\t\tthis._setScroll();\r\n\t\t},this));\r\n\r\n\t\tthis._contentobj = this._viewobj.firstChild;\r\n\t},\r\n\t_onKeyPress:function(code, e){\r\n\t\tif(this._settings.navigation.items && e.target.getAttribute(\"role\") === \"tab\")\r\n\t\t\tthis._moveActive(code, e);\r\n\r\n\t\twebix.ui.baseview.prototype._onKeyPress.call(this, code, e);\r\n\t},\r\n\tgetChildViews:function(){\r\n\t\treturn [this._layout];\r\n\t},\r\n\tgetLayout:function(){\r\n\t\treturn this._layout;\r\n\t},\r\n\t_after_init_call:function(){\r\n\t\tthis._contentobj.setAttribute(\"touch_scroll\", (this._vertical_orientation?\"y\":\"x\"));\r\n\r\n\t\tthis._layout.attachEvent(\"onAfterScroll\",webix.bind(function(view){\r\n\t\t\tthis.callEvent(\"onShow\",[this.getActiveId()]);\r\n\t\t},this));\r\n\r\n\t\twebix.ui.each(this._layout, function(view){\r\n\t\t\tview._viewobj.setAttribute(\"role\", \"tabpanel\");\r\n\t\t});\r\n\t},\r\n\tadjustScroll:function(matrix){\r\n\t\tvar size =  (this._vertical_orientation?this._content_height:this._content_width);\r\n\r\n\t\tvar correction;\r\n\t\tif (this._vertical_orientation) {\r\n\t\t\tcorrection = Math.round(matrix.f/size);\r\n\t\t\tmatrix.f = correction*size;\r\n\t\t} else {\r\n\t\t\tcorrection = Math.round(matrix.e/size);\r\n\t\t\tmatrix.e = correction*size;\r\n\t\t}\r\n\t\t\r\n\t\tthis._active_cell = - correction;\r\n\r\n\t\tif(this._settings.navigation)\r\n\t\t\tthis._renderNavItems();\r\n\r\n\t\treturn true;\r\n\t},\r\n\t_show:function(obj){\r\n\t\tvar i, layout, _nextCell, _size, x, y;\r\n\t\t_nextCell = -1;\r\n\t\tlayout = this._layout;\r\n\t\tfor (i=0; i < layout._cells.length; i++){\r\n\t\t\tif (layout._cells[i]==obj){\r\n\t\t\t\t_nextCell = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (_nextCell < 0 || _nextCell == this._active_cell)\r\n\t\t\treturn;\r\n\r\n\t\tthis._active_cell = _nextCell;\r\n\t\t_size =  (layout._vertical_orientation?this._content_height:this._content_width);\r\n\r\n\t\tx = -(layout._vertical_orientation?0:_nextCell*_size);\r\n\t\ty = -(layout._vertical_orientation?_nextCell*_size:0);\r\n\r\n\t\tthis.scrollTo(x,y);\r\n\t\tthis.callEvent(\"onShow\",[layout._cells[this._active_cell]._settings.id]);\r\n\t\tif(this._settings.navigation)\r\n\t\t\tthis._renderPanel();\r\n\t},\r\n\tscrollTo:function(x,y){\r\n\t\tif (webix.Touch && webix.animate.isSupported())\r\n\t\t\twebix.Touch._set_matrix(this._contentobj, x,y, this._settings.scrollSpeed||\"100ms\");\r\n\t\telse{\r\n\t\t\tthis._contentobj.style.marginLeft = x+\"px\";\r\n\t\t\tthis._contentobj.style.marginTop =  y+\"px\";\r\n\t\t}\r\n\t},\r\n\tnavigation_setter:function(config){\r\n\t\tthis._mergeSettings(config,{\r\n\t\t\ttype: \"corner\",\r\n\t\t\tbuttons: true,\r\n\t\t\titems: true\r\n\t\t});\r\n\t\treturn config;\r\n\t},\r\n\tshowNext:function(){\r\n\t\tif (this._active_cell < this._layout._cells.length - 1)\r\n\t\t\tthis.setActiveIndex(this._active_cell+1);\r\n\t},\r\n\tshowPrev:function(){\r\n\t\tif (this._active_cell > 0)\r\n\t\t\tthis.setActiveIndex(this._active_cell-1);\r\n\t},\r\n\tsetActiveIndex:function(value){\r\n\t\twebix.assert(value < this._layout._cells.length, \"Not existing index in collection\");\r\n\r\n\t\tvar id = this._layout._cells[value]._settings.id;\r\n\t\twebix.$$(id).show();\r\n\t},\r\n\tgetActiveIndex:function(){\r\n\t\treturn this._active_cell;\r\n\t},\r\n\t$getSize:function(dx, dy){\r\n\t\tvar layoutSizes = this._layout.$getSize(0, 0);\r\n\t\tvar selfSizes   = webix.ui.view.prototype.$getSize.call(this, dx, dy);\r\n\t\tif(this._layout._vertical_orientation){\r\n\t\t\tselfSizes[0] = Math.max(selfSizes[0], layoutSizes[0]);\r\n\t\t\tselfSizes[1] = Math.min(selfSizes[1], layoutSizes[1]);\r\n\r\n\t\t} else{\r\n\t\t\tselfSizes[2] = Math.max(selfSizes[2], layoutSizes[2]);\r\n\t\t\tselfSizes[3] = Math.min(selfSizes[3], layoutSizes[3]);\r\n\t\t}\r\n\t\treturn selfSizes;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tvar layout = this._layout;\r\n\t\tvar c = layout._cells.length;\r\n\r\n\t\tvar changed = webix.ui.view.prototype.$setSize.call(this,x,y);\r\n\t\tvar yc = this._content_height*(layout._vertical_orientation?c:1);\r\n\t\tvar xc = this._content_width*(layout._vertical_orientation?1:c);\r\n\r\n\t\tif (changed){\r\n\t\t\tthis._contentobj.style.height = yc+\"px\";\r\n\t\t\tthis._contentobj.style.width = xc+\"px\";\r\n\t\t\tlayout.$setSize(xc,yc);\r\n\t\t\tthis._setScroll();\r\n\t\t} else\r\n\t\t\tlayout.$setSize(xc,yc);\r\n\t},\r\n\t_setScroll: function(){\r\n\t\tvar layout = this._layout;\r\n\t\tvar activeCell = this._active_cell||0;\r\n\t\tvar size =  (layout._vertical_orientation?this._content_height:this._content_width);\r\n\r\n\t\tvar x = -(layout._vertical_orientation?0:activeCell*size);\r\n\t\tvar y = -(layout._vertical_orientation?activeCell*size:0);\r\n\r\n\r\n\t\tthis.scrollTo(x,y);\r\n\r\n\t\tif(this._settings.navigation)\r\n\t\t\tthis._renderPanel();\r\n\t},\r\n\tgetActiveId:function(){\r\n\t\tvar cell = this._layout._cells[this._active_cell];\r\n\t\treturn cell?cell._settings.id:null;\r\n\t},\r\n\tsetActive:function(value){\r\n\t\twebix.$$(value).show();\r\n\t}\r\n}, webix.EventSystem,webix.NavigationButtons, webix.ui.view);\r\n\r\n/*\r\n\tUI:Uploader\r\n*/\r\n\r\n\r\n\r\n\r\n\r\nwebix.type(webix.ui.list, {\r\n\tname:\"uploader\",\r\n\ttemplate:\"#name#  {common.removeIcon()}{common.percent()}<div style='float:right'>#sizetext#</div>\",\r\n\tpercent:function(obj){\r\n\t\tif (obj.status == 'transfer')\r\n\t\t\treturn \"<div style='width:60px; text-align:center; float:right'>\"+obj.percent+\"%</div>\";\r\n\t\treturn \"<div class='webix_upload_\"+obj.status+\"'><span class='\"+(obj.status ==\"error\"?\"error_icon\":\"fa-check webix_icon\")+\"'></span></div>\";\r\n\t},\r\n\tremoveIcon:function(obj){\r\n\t\treturn \"<div class='webix_remove_upload'><span class='cancel_icon'></span></div>\";\r\n\t},\r\n\ton_click:{\r\n\t\t\"webix_remove_upload\":function(ev, id){\r\n\t\t\twebix.$$(this.config.uploader).files.remove(id);\r\n\t\t}\r\n\t}\r\n});\r\n\r\nwebix.UploadDriver = {\r\n\tflash: {\r\n\t\t$render: function(render_config) {\r\n\r\n\t\t\tif (!window.swfobject)\r\n\t\t\t\twebix.require(\"legacy/swfobject.js\", true); // sync loading\r\n\r\n\t\t\tvar config = this._settings;\r\n\t\t\tconfig.swfId = (config.swfId||\"webix_swf_\"+webix.uid());\r\n\r\n\t\t\tthis._getBox().innerHTML += \"<div class='webix_upload_flash'><div id='\"+config.swfId+\"'></div></div>\";\r\n\t\t\tthis._upload_area = this._getBox().lastChild;\r\n\r\n\t\t\t// add swf object\r\n\t\t\tswfobject.embedSWF(webix.codebase+\"/legacy/uploader.swf\", config.swfId, \"100%\", \"100%\", \"9\", null, {\r\n\t\t\t\t\tuploaderId: config.id,\r\n\t\t\t\t\tID: config.swfId,\r\n\t\t\t\t\tenableLogs:(config.enableLogs?\"1\":\"\"),\r\n\t\t\t\t\tparamName:(config.inputName),\r\n\t\t\t\t\tmultiple:(config.multiple?\"Y\":\"\")\r\n\t\t\t}, {wmode:\"transparent\"});\r\n\r\n\t\t\tvar v = swfobject.getFlashPlayerVersion();\r\n\r\n\t\t\twebix.event(this._viewobj, \"click\", webix.bind(function() {\r\n\t\t\t\tvar now_date = new Date();\r\n\t\t\t\tif (now_date - (this._upload_timer_click||0)  > 250){\r\n\t\t\t\t\tthis.fileDialog();\r\n\t\t\t\t}\r\n\t\t\t}, this));\r\n\r\n\t\t\tthis.files.attachEvent(\"onBeforeDelete\", webix.bind(this._stop_file,this));\r\n\t\t},\r\n\t\t$applyFlash: function(name,params){\r\n\t\t\treturn this[name].apply(this,params);\r\n\t\t},\r\n\t\tgetSwfObject: function(){\r\n\t\t\treturn swfobject.getObjectById(this._settings.swfId);\r\n\t\t},\r\n\t\tfileDialog:function(){\r\n\t\t\tif(this.getSwfObject())\r\n\t\t\t\tthis.getSwfObject().showDialog();\r\n\t\t},\r\n\t\tsend: function(id){\r\n\t\t\tif (typeof id == \"function\"){\r\n\t\t\t\tthis._last_assigned_upload_callback = id;\r\n\t\t\t\tid = 0;\r\n\t\t\t}\r\n\r\n\t\t\tif (!id){\r\n\t\t\t\tvar order = this.files.data.order;\r\n\t\t\t\tvar complete = true;\r\n\t\t\t\tif (order.length)\r\n\t\t\t\t\tfor (var i=0; i<order.length; i++){\r\n\t\t\t\t\t\tcomplete = this.send(order[i])&&complete;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\tif (complete)\r\n\t\t\t\t\tthis._upload_complete();\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar item = this.files.getItem(id);\r\n\t\t\tif (item.status !== 'client')\r\n\t\t\t\treturn false;\r\n\t\t\titem.status = 'transfer';\r\n\r\n\t\t\tif(this.getSwfObject()){\r\n\t\t\t\tvar url = this._get_active_url();\r\n\t\t\t\tthis.getSwfObject().upload(id, url, this._settings.formData||{});\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\r\n\t\t},\r\n\t\t$beforeAddFileToQueue: function( id, name, size ){\r\n\r\n\t\t\tvar type = name.split(\".\").pop();\r\n\t\t\tvar format = this._format_size(size);\r\n\t\t\treturn this.callEvent(\"onBeforeFileAdd\", [{\r\n\t\t\t\tid: id,\r\n\t\t\t\tname:name,\r\n\t\t\t\tsize:size,\r\n\t\t\t\tsizetext:format,\r\n\t\t\t\ttype:type\r\n\t\t\t}]);\r\n\t\t},\r\n\t\t$addFileToQueue: function(id, name, size){\r\n\t\t\tif(this.files.exists(id))\r\n\t\t\t\treturn false;\r\n\t\t\tif (!this._settings.multiple)\r\n\t\t\t\tthis.files.clearAll();\r\n\t\t\tvar type = name.split(\".\").pop();\r\n\t\t\tvar format = this._format_size(size);\r\n\t\t\tvar file_struct = {\r\n\t\t\t\tname:name,\r\n\t\t\t\tid: id,\r\n\t\t\t\tsize:size,\r\n\t\t\t\tsizetext:format,\r\n\t\t\t\ttype:type,\r\n\t\t\t\tstatus:\"client\"\r\n\t\t\t};\r\n\t\t\tthis.files.add(file_struct);\r\n\t\t\tthis.callEvent(\"onAfterFileAdd\", [file_struct]);\r\n\r\n\t\t\tif (id && this._settings.autosend)\r\n\t\t\t\tthis.send(id);\r\n\t\t},\r\n\t\tstopUpload: function(id){\r\n\t\t\tthis._stop_file(id);\r\n\t\t},\r\n\t\t_stop_file: function(id) {\r\n\t\t\tvar item = this.files.getItem(id);\r\n\t\t\tif(item.status == \"transfer\"){\r\n\t\t\t\tthis.getSwfObject().uploadStop(id);\r\n\t\t\t\titem.status = \"client\";\r\n\t\t\t}\r\n\t\t},\r\n\t\t$onUploadComplete: function(){\r\n\t\t\tif(this._settings.autosend){\r\n\t\t\t\tthis._upload_complete();\r\n\t\t\t}\r\n\t\t},\r\n\t\t$onUploadSuccess: function(id,name,response){\r\n\t\t\tvar item = this.files.getItem(id);\r\n\t\t\tif(item){\r\n\t\t\t\titem.status = \"server\";\r\n\t\t\t\titem.progress = 100;\r\n\t\t\t\tif(response.text && (typeof response.text == \"string\")){\r\n\r\n\r\n\t\t\t\t\twebix.DataDriver.json.toObject(response.text);\r\n\r\n\t\t\t\t\twebix.extend(item,response,true);\r\n\t\t\t\t}\r\n\t\t\t\tthis.callEvent(\"onFileUpload\", [item,response]);\r\n\t\t\t\tthis.callEvent(\"onChange\", []);\r\n\t\t\t\tthis.files.updateItem(id);\r\n\t\t\t}\r\n\t\t},\r\n\t\t$onUploadFail: function(id){\r\n\t\t\tvar item = this.files.getItem(id);\r\n\t\t\titem.status = \"error\";\r\n\t\t\tdelete item.percent;\r\n\t\t\tthis.files.updateItem(id);\r\n\t\t\tthis.callEvent(\"onFileUploadError\", [item, \"\"]);\r\n\t\t}\r\n\t},\r\n\thtml5: {\r\n\t\t$render: function(config) {\r\n\t\t\tif (this._upload_area){\r\n\t\t\t\t//firstChild is webix_el_box container, which have relative position\r\n\t\t\t\t//as result, file control is placed under the button and not in the top corner\r\n\t\t\t\tthis._contentobj.firstChild.appendChild(this._upload_area);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.files.attachEvent(\"onBeforeDelete\", this._stop_file);\r\n\r\n\t\t\tvar input_config =  {\r\n\t\t\t\t\"type\": \"file\",\r\n\t\t\t\t\"class\": \"webix_hidden_upload\",\r\n\t\t\t\ttabindex:-1\r\n\t\t\t};\r\n\r\n\t\t\tif (this._settings.accept)\r\n\t\t\t\tinput_config.accept = this._settings.accept;\r\n\r\n\t\t\tif (this._settings.multiple)\r\n\t\t\t\tinput_config.multiple = \"true\";\r\n\r\n\t\t\tvar f = webix.html.create(\"input\",input_config);\r\n\t\t\tthis._upload_area = this._contentobj.firstChild.appendChild(f);\r\n\r\n\t\t\twebix.event(this._viewobj, 'drop', webix.bind(function(e) { this._drop(e); webix.html.preventEvent(e); }, this));\r\n\t\t\twebix.event(f, 'change', webix.bind(function() { \r\n\t\t\t\tthis._add_files(f.files); \r\n\t\t\t\tif (webix.env.isIE){\r\n\t\t\t\t\tvar t = document.createElement(\"form\");\r\n\t\t\t\t\tt.appendChild(this._upload_area);\r\n\t\t\t\t\tt.reset();\r\n\t\t\t\t\tthis._contentobj.firstChild.appendChild(f);\r\n\t\t\t\t} else \r\n\t\t\t\t\tf.value = \"\";\r\n\t\t\t}, this));\r\n\t\t\twebix.event(this._viewobj, \"click\", webix.bind(function() { \r\n\t\t\t\tvar now_date = new Date();\r\n\t\t\t\tif (now_date - (this._upload_timer_click||0)  > 250){\r\n\t\t\t\t\tthis.fileDialog();\r\n\t\t\t\t}\r\n\t\t\t}, this));\r\n\r\n\t\t\twebix.event(this._viewobj, 'dragenter', webix.html.preventEvent);\r\n\t\t\twebix.event(this._viewobj, 'dragexit', webix.html.preventEvent);\r\n\t\t\twebix.event(this._viewobj, 'dragover', webix.html.preventEvent);\r\n\t\t},\r\n\r\n\t\t// adding files by drag-n-drop\r\n\t\t_drop: function(e) {\r\n\t\t\tvar files = e.dataTransfer.files;\r\n\t\t\tif (this.callEvent('onBeforeFileDrop', [files, e]))\r\n\t\t\t\tthis._add_files(files);\r\n\t\t\tthis.callEvent(\"onAfterFileDrop\",[files, e]);\r\n\t\t},\r\n\r\n\t\tfileDialog:function(context){\r\n\t\t\tthis._upload_timer_click = new Date();\r\n\t\t\tthis._last_file_context = context;\r\n\t\t\tvar inputs = this._viewobj.getElementsByTagName(\"INPUT\");\r\n\t\t\tinputs[inputs.length-1].click();\r\n\t\t},\r\n\t\tsend: function(id){\r\n\t\t\t//alternative syntx send(callback)\r\n\t\t\tif (typeof id == \"function\"){\r\n\t\t\t\tthis._last_assigned_upload_callback = id; \r\n\t\t\t\tid = 0;\r\n\t\t\t}\r\n\r\n\t\t\tif (!id){\r\n\t\t\t\tvar order = this.files.data.order;\r\n\t\t\t\tvar complete = true;\r\n\t\t\t\t\r\n\t\t\t\tif (order.length)\r\n\t\t\t\t\tfor (var i=0; i<order.length; i++)\r\n\t\t\t\t\t\tcomplete = (!this.send(order[i])) && complete;\r\n\r\n\t\t\t\tif (complete)\r\n\t\t\t\t\tthis._upload_complete();\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar item = this.files.getItem(id);\r\n\t\t\tif (item.status !== 'client') return false;\r\n\r\n\t\t\twebix.assert(this._settings.upload, \"You need to define upload url for uploader component\");\r\n\t\t\titem.status = 'transfer';\r\n\r\n\t\t\tvar formData = new FormData();\r\n\t\t\tformData.append(this.config.inputName, item.file);\r\n\r\n\t\t\tvar headers = {};\r\n\t\t\tvar details = this._settings.formData || {};\r\n\r\n\t\t\tvar xhr = new XMLHttpRequest();\r\n\t\t\tvar url = this._get_active_url();\r\n\t\t\tif(webix.callEvent(\"onBeforeAjax\",[\"POST\", url, details, xhr, headers, formData])){\r\n\t\t\t\tfor (var key in details)\r\n\t\t\t\t\tformData.append(key, details[key]);\r\n\r\n\t\t\t\titem.xhr = xhr;\r\n\r\n\t\t\t\txhr.upload.addEventListener('progress', webix.bind(function(e){ this.$updateProgress(id, e.loaded/e.total*100); }, this), false);\r\n\t\t\t\txhr.onload = webix.bind(function(e){ if (!xhr.aborted) this._file_complete(id); }, this);\r\n\t\t\t\txhr.open('POST', url, true);\r\n\r\n\t\t\t\tfor (var key in headers)\r\n\t\t\t\t\txhr.setRequestHeader(key, headers[key]);\r\n\r\n\t\t\t\txhr.send(formData);\r\n\t\t\t}\r\n\r\n\t\t\tthis.$updateProgress(id, 0);\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t_file_complete: function(id) {\r\n\t\t\tvar item = this.files.getItem(id);\r\n\t\t\tif (item){\r\n\t\t\t\tvar response = null;\r\n\t\t\t\tif(item.xhr.status == 200)\r\n\t\t\t\t\tresponse = webix.DataDriver[this._settings.datatype||\"json\"].toObject(item.xhr.responseText);\r\n\t\t\t\tif (!response || response.status == \"error\"){\r\n\t\t\t\t\titem.status = \"error\";\r\n\t\t\t\t\tdelete item.percent;\r\n\t\t\t\t\tthis.files.updateItem(id);\r\n\t\t\t\t\tthis.callEvent(\"onFileUploadError\", [item, response]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._complete(id, response);\r\n\t\t\t\t}\r\n\t\t\t\tdelete item.xhr;\r\n\t\t\t}\r\n\t\t},\r\n\t\tstopUpload: function(id){\r\n\t\t\twebix.bind(this._stop_file,this.files)(id);\r\n\t\t},\r\n\t\t_stop_file: function(id) {\r\n\t\t\tvar item = this.getItem(id);\r\n\t\t\tif (typeof(item.xhr) !== 'undefined'){\r\n\t\t\t\titem.xhr.aborted = true;\r\n\t\t\t\titem.xhr.abort();\r\n\t\t\t\tdelete item.xhr;\r\n\t\t\t\titem.status = \"client\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"uploader\",\r\n\tdefaults:{\r\n\t\tautosend:true,\r\n\t\tmultiple:true,\r\n\t\tinputName:\"upload\"\r\n\t},\r\n\t$cssName:\"button\",\r\n\t_allowsClear:true,\r\n\r\n\t//will be redefined by upload driver\r\n\tsend:function(){},\r\n\tfileDialog:function(){},\r\n\tstopUpload:function(){},\r\n\r\n\t$init:function(config){\r\n\t\tvar driver = webix.UploadDriver.html5;\r\n\t\tthis.files = new webix.DataCollection();\r\n\r\n\t\t// browser doesn't support XMLHttpRequest2\r\n\t\tif (webix.isUndefined(XMLHttpRequest) || webix.isUndefined((new XMLHttpRequest()).upload))\r\n\t\t\tdriver = webix.UploadDriver.flash;\r\n\r\n\t\twebix.assert(driver,\"incorrect driver\");\r\n\t\twebix.extend(this, driver, true);\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tif (webix.ui.view.prototype.$setSize.call(this,x,y)){\r\n\t\t\tthis.render();\r\n\t\t}\r\n\t},\r\n\tapiOnly_setter:function(value){\r\n\t\twebix.delay(this.render, this);\r\n\t\treturn (this.$apiOnly=value);\r\n\t},\r\n\t_add_files: function(files){\r\n\t\tfor (var i = 0; i < files.length; i++)\r\n\t\t\tthis.addFile(files[i]);\r\n\r\n\t},\r\n\tlink_setter:function(value){\r\n\t\tif (value)\r\n\t\t\twebix.delay(function(){\r\n\t\t\t\tvar view = webix.$$(this._settings.link);\r\n\t\t\t\tif (view.sync && view.filter)\r\n\t\t\t\t\tview.sync(this.files);\r\n\t\t\t\telse if (view.setValues)\r\n\t\t\t\t\tthis.files.data.attachEvent(\"onStoreUpdated\", function(){\r\n\t\t\t\t\t\tview.setValues(this);\r\n\t\t\t\t\t});\r\n\t\t\t\tview._settings.uploader = this._settings.id;\r\n\t\t\t}, this);\r\n\t\treturn value;\r\n\t},\r\n\r\n\taddFile:function(name, size, type){\r\n\t\tvar file = null;\r\n\t\tif (typeof name == \"object\"){\r\n\t\t\tfile = name;\r\n\t\t\tname = file.name;\r\n\t\t\tsize = file.size;\r\n\t\t}\r\n\r\n\t\tvar format = this._format_size(size);\r\n\t\ttype = type || name.split(\".\").pop();\r\n\r\n\t\tvar file_struct = { \r\n\t\t\tfile:file, \r\n\t\t\tname:name, \r\n\t\t\tid:webix.uid(), \r\n\t\t\tsize:size, \r\n\t\t\tsizetext:format, \r\n\t\t\ttype:type, \r\n\t\t\tcontext:this._last_file_context,\r\n\t\t\tstatus:\"client\" \r\n\t\t};\r\n\t\tif (this.callEvent(\"onBeforeFileAdd\", [file_struct])){\r\n\t\t\tif (!this._settings.multiple)\r\n\t\t\t\tthis.files.clearAll();\r\n\t\t\t\r\n\t\t\tvar id = this.files.add(file_struct);\r\n\t\t\tthis.callEvent(\"onAfterFileAdd\", [file_struct]);\r\n\t\t\tif (id && this._settings.autosend)\r\n\t\t\t\tthis.send(id);\r\n\t\t}\r\n\t},\r\n\r\n\t_get_active_url:function(){\r\n\t\tvar url = this._settings.upload;\r\n\t\tvar urldata = this._settings.urlData;\r\n\t\tif (url && urldata){\r\n\t\t\tvar subline = [];\r\n\t\t\tfor (var key in urldata)\r\n\t\t\t\tsubline.push(encodeURIComponent(key)+\"=\"+encodeURIComponent(urldata[key]));\r\n\r\n\t\t\tif (subline.length)\r\n\t\t\t\turl += ((url.indexOf(\"?\") ==-1) ? \"?\" : \"&\") + subline.join(\"&\");\r\n\t\t}\r\n\t\treturn url;\r\n\t},\r\n\r\n\taddDropZone:function(id, hover_text){\r\n\t\tvar node = webix.toNode(id);\r\n\t\tvar extra_css = \"\";\r\n\t\tif (hover_text)\r\n\t\t\textra_css = \" \"+webix.html.createCss({ content:'\"'+hover_text+'\"' }, \":before\");\r\n\r\n\t\tvar fullcss = \"webix_drop_file\"+extra_css;\r\n\r\n\t\t//web\r\n\t\twebix.event(node,\"dragover\", webix.html.preventEvent);\r\n\t\twebix.event(node,\"dragover\", function(e){\r\n\t\t\twebix.html.addCss(node, fullcss, true);\r\n\t\t});\r\n\t\twebix.event(node,\"dragleave\", function(e){\r\n\t\t\twebix.html.removeCss(node, fullcss);\r\n\t\t});\r\n\r\n\t\twebix.event(node,\"drop\", webix.bind(function(e){\r\n\t\t\twebix.html.removeCss(node, fullcss);\r\n\r\n\t\t\tvar data=e.dataTransfer;\r\n\t\t\tif(data&&data.files.length)\r\n\t\t\t\tfor (var i = 0; i < data.files.length; i++)\r\n\t\t\t\t\tthis.addFile(data.files[i]);\r\n\r\n\t\t\treturn webix.html.preventEvent(e);\r\n\t\t}, this));\r\n\t},\r\n\t\r\n\t_format_size: function(size) {\r\n\t\tvar index = 0;\r\n\t\twhile (size > 1024){\r\n\t\t\tindex++;\r\n\t\t\tsize = size/1024;\r\n\t\t}\r\n\t\treturn Math.round(size*100)/100+\" \"+webix.i18n.fileSize[index];\r\n\t},\r\n\r\n\t_complete: function(id, response) {\r\n\t\tif (response.status != 'error') {\r\n\t\t\tvar item = this.files.getItem(id);\r\n\r\n\t\t\titem.status = \"server\";\r\n\t\t\titem.progress = 100;\r\n\t\t\twebix.extend(item, response, true);\r\n\r\n\t\t\tthis.callEvent(\"onFileUpload\", [item, response]);\r\n\t\t\tthis.callEvent(\"onChange\", []);\r\n\t\t\tthis.files.updateItem(id);\r\n\t\t}\r\n\t\t\r\n\t\tif (this.isUploaded())\r\n\t\t\tthis._upload_complete(response);\r\n\t},\r\n\t_upload_complete:function(response){\r\n\t\tthis.callEvent(\"onUploadComplete\", [response]);\r\n\t\tif (this._last_assigned_upload_callback){\r\n\t\t\tthis._last_assigned_upload_callback.call(this, response);\r\n\t\t\tthis._last_assigned_upload_callback = 0;\r\n\t\t}\r\n\t},\r\n\tisUploaded:function(){\r\n\t\tvar order = this.files.data.order;\r\n\t\tfor (var i=0; i<order.length; i++)\r\n\t\t\tif (this.files.getItem(order[i]).status != \"server\")\r\n\t\t\t\treturn false;\r\n\r\n\t\treturn true;\r\n\t},\r\n\t$onUploadComplete: function(){\r\n\r\n\t},\r\n\t$updateProgress: function(id, percent) {\r\n\t\tvar item = this.files.getItem(id);\r\n\t\titem.percent = Math.round(percent);\r\n\t\tthis.files.updateItem(id);\r\n\t},\r\n\tsetValue:function(value){\r\n\t\tif (typeof value == \"string\")\r\n\t\t\tvalue = { value:value, status:\"server\" };\r\n\r\n\t\tthis.files.clearAll();\r\n\t\tif (value)\r\n\t\t\tthis.files.parse(value);\r\n\r\n\t\tthis.callEvent(\"onChange\", []);\r\n\t},\r\n\tgetValue:function(){\r\n\t\tvar data = [];\r\n\t\tthis.files.data.each(function(obj){\r\n\t\t\tif (obj.status == \"server\")\r\n\t\t\t\tdata.push(obj.value||obj.name);\r\n\t\t});\r\n\r\n\t\treturn data.join(\",\");\r\n\t}\r\n\r\n}, webix.ui.button);\r\n\r\nwebix.html.addMeta = function(name, value){\r\n\tdocument.getElementsByTagName('head').item(0).appendChild(webix.html.create(\"meta\",{\r\n\t\tname:name,\r\n\t\tcontent:value\r\n\t}));\t\r\n\t\r\n};\r\n\r\n(function(){\r\n\t\r\nvar orientation = function(){\r\n\tvar new_orientation = !!(window.orientation%180);\r\n\tif (webix.ui.orientation === new_orientation) return;\r\n\twebix.ui.orientation = new_orientation;\t\r\n\twebix.callEvent(\"onRotate\", [new_orientation]);\r\n};\r\nif(webix.env.touch){\r\n\twebix.ui.orientation = !!((webix.isUndefined(window.orientation)?90:window.orientation)%180);\r\n\twebix.event(window, (\"onorientationchange\" in window ?\"orientationchange\":\"resize\"), orientation);\r\n}\r\n\r\n\r\nif(webix.env.isFF && window.matchMedia){\r\n\twindow.matchMedia(\"(orientation: portrait)\").addListener(function() {webix.ui.orientation = false; });\r\n\twindow.matchMedia(\"(orientation: landscape)\").addListener(function() { webix.ui.orientation = true; });\r\n}\r\nwebix.ui.fullScreen = function(){\r\n\tif (!webix.env.touch) return;\r\n\r\n\twebix.html.addMeta(\"apple-mobile-web-app-capable\",\"yes\");\r\n\twebix.html.addMeta(\"viewport\",\"initial-scale=1, maximum-scale=1, user-scalable=no\");\r\n\r\n\t//in ios5 we can have empty offsetHeight just after page loading\r\n\tvar size = document.body.offsetHeight||document.body.scrollHeight;\r\n\r\n\tvar iphone = navigator.userAgent.indexOf(\"iPhone\")!=-1;\r\n\tvar ipad = navigator.userAgent.indexOf(\"iPad\")!=-1;\r\n\r\n\tvar version = navigator.userAgent.match(/iPhone OS (\\d+)/);\r\n\tvar iOS7 = version&&(version[1]>=7);\r\n\r\n\r\n    var iphone_safari = iphone && (size == 356 || size == 208 || size == 306 || size == 158 || size == 444);\r\n    var iphone5 = (window.screen.height==568);\r\n\r\n\tvar fix = function(){\r\n\t\tvar x = 0; var y=0;\r\n\t\tif (iphone && !iOS7){\r\n\t\t\tif (!webix.ui.orientation){\r\n\t\t\t\tx = 320;\r\n                y = iphone5?(iphone_safari?504:548):(iphone_safari?416:460);\r\n\t\t\t} else {\r\n                x = iphone5?568:480;\r\n\t\t\t\ty = iphone_safari?268:300;\r\n\t\t\t}\r\n\t\t} else if (webix.env.isAndroid){\r\n\r\n\t\t\tif(!webix.env.isFF){\r\n\t\t\t\t//ipad doesn't change orientation and zoom level, so just ignore those lines\r\n\t\t\t\tdocument.body.style.width = document.body.style.height = \"1px\";\r\n\t\t\t\tdocument.body.style.overflow=\"hidden\";\r\n\r\n\t\t\t\tvar dmod = window.outerWidth/window.innerWidth; //<1\r\n\t\t\t\tx = window.outerWidth/dmod;\r\n\t\t\t\ty = window.outerHeight/dmod;\r\n\t\t\t}\r\n\t\t} else if(!webix.env.isIEMobile){\r\n\t\t\tx = window.innerWidth;\r\n\t\t\ty = window.innerHeight;\r\n\t\t}\r\n\r\n\t\tif (y){\r\n\t\t\tdocument.body.style.height = y+\"px\";\r\n\t\t\tdocument.body.style.width = x+\"px\";\r\n\t\t}\r\n\r\n\t\twebix.ui.$freeze = false;\r\n\t\twebix.ui.resize();\r\n\t};\r\n\r\n\tvar onrotate = function(){ \r\n\t\twebix.ui.$freeze = true;\r\n\t\tif(webix.env.isSafari) \r\n\t\t\tfix();\r\n\t\telse\r\n\t\t\twebix.delay(fix,null, [], 500);\r\n\t};\r\n\r\n\r\n\twebix.attachEvent(\"onRotate\", onrotate);\r\n\torientation();\r\n\twebix.delay(onrotate);\r\n\r\n};\r\n\r\n\r\n})();\r\n(function(){\r\n\r\nif (window.jQuery){\r\n\r\n\tvar $ = jQuery;\r\n\tvar methods = [];\r\n\r\n\tvar get_id = function(node){\r\n\t\tif (node && node.getAttribute)\r\n\t\t\treturn node.getAttribute(\"view_id\");\r\n\t};\r\n\r\n\tvar get_helper = function(name){\r\n\t\treturn function(config){\r\n\t\t\tif (typeof(config) === 'string') {\r\n\t\t\t\tif (methods[config] ) {\r\n\t\t\t\t\treturn methods[config].apply(this, []);\r\n\t\t\t\t}else {\r\n\t\t\t\t\t$.error('Method ' +  config + ' does not exist on jQuery.'.name);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar views = [];\r\n\t\t\t\tthis.each(function() {\r\n\t\t\t\t\tvar view;\r\n\t\t\t\t\tvar id;\r\n\r\n\t\t\t\t\t//if target a webix component - return it\r\n\t\t\t\t\tvar id = get_id(this) || get_id(this.firstChild);\r\n\t\t\t\t\tif (id)\r\n\t\t\t\t\t\tview = webix.$$(id);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!view){\r\n\t\t\t\t\t\t//do not include data in copy as it can be massive\r\n\t\t\t\t\t\tvar temp_data = config?config.data:0;\r\n\t\t\t\t\t\tif (temp_data) config.data = null;\r\n\r\n\t\t\t\t\t\tvar copy = webix.copy(config||{ autoheight:true, autowidth:true });\r\n\t\t\t\t\t\tcopy.view = name;\r\n\t\t\t\t\t\tif (temp_data) config.data = copy.data = temp_data;\r\n\r\n\r\n\t\t\t\t\t\tif (this.tagName.toLowerCase() === 'table') {\r\n\t\t\t\t\t\t\tvar div = webix.html.create(\"div\",{\r\n\t\t\t\t\t\t\t\tid:(this.getAttribute(\"id\")||\"\"),\r\n\t\t\t\t\t\t\t\t\"class\":(this.getAttribute(\"class\")||\"\")\r\n\t\t\t\t\t\t\t},\"\");\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.parentNode.insertBefore(div, this);\r\n\t\t\t\t\t\t\tcopy.container = div;\r\n\t\t\t\t\t\t\tview = webix.ui(copy);\r\n\t\t\t\t\t\t\tview.parse(this, \"htmltable\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcopy.container = this;\r\n\t\t\t\t\t\t\tview = webix.ui(copy);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tviews.push(view);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tif (views.length === 1) return views[0];\r\n\t\t\t\treturn views;\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\t\r\n\tvar run = function(){\r\n\t\tfor (var key in webix.ui){\r\n\t\t\tvar name = \"webix_\"+key;\r\n\t\t\tif (!$.fn[name])\r\n\t\t\t\t$.fn[name] = get_helper(key);\r\n\t\t}\r\n\t};\r\n\r\n\trun();\r\n\t$(run);\r\n\r\n}\r\n\r\n})();\r\n\r\n/*\r\n\tBehavior:History - change multiview state on 'back' button\r\n\r\n */\r\n\r\nwebix.history = {\r\n\ttrack:function(id, url){\r\n\t\tthis._init_state(id, url);\r\n\r\n\t\tvar view = webix.$$(id);\r\n\t\t\r\n\t\tvar handler = function(){\r\n\t\t\tif (webix.history._ignored) return;\r\n\r\n\t\t\tif (view.getValue)\r\n\t\t\t\twebix.history.push(id, view.getValue());\r\n\t\t};\r\n\r\n\t\tif (view.getActiveId)\r\n\t\t\tview.attachEvent(\"onViewChange\", handler);\r\n\t\telse\r\n\t\t\tview.attachEvent(\"onChange\", handler);\r\n\t},\r\n\t_set_state:function(view, state){\r\n\t\twebix.history._ignored = 1;\r\n\r\n\t\tview = webix.$$(view);\r\n\t\tif (view.callEvent(\"onBeforeHistoryNav\", [state]))\r\n\t\t\tif (view.setValue)\r\n\t\t\t\tview.setValue(state);\r\n\r\n\t\twebix.history._ignored = 0;\r\n\t},\r\n\tpush:function(view, url, value){\r\n\t\tview = webix.$$(view);\r\n\t\tvar new_url = \"\";\r\n\t\tif (url)\r\n\t\t\tnew_url = \"#!/\"+url;\r\n\t\tif (webix.isUndefined(value)){\r\n\t\t\tif (view.getValue)\r\n\t\t\t\tvalue = view.getValue();\r\n\t\t\telse\r\n\t\t\t\tvalue = url;\r\n\t\t}\r\n\r\n\t\twindow.history.pushState({ webix:true, id:view._settings.id, value:value }, \"\", new_url);\r\n\t},\r\n\t_init_state:function(view, url){\r\n\t\twebix.event(window, \"popstate\", function(ev){\r\n\t\t\tif (ev.state && ev.state.webix){\r\n\t\t\t\twebix.history._set_state(ev.state.id, ev.state.value);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tvar state = window.location.hash;\r\n\t\twebix.noanimate = true;\r\n\t\tif (state && state.indexOf(\"#!/\") === 0)\r\n\t\t\twebix.history._set_state(view, state.replace(\"#!/\",\"\"));\r\n\t\telse if (url){\r\n\t\t\twebix.history.push(view, url);\r\n\t\t\twebix.history._set_state(view, url);\r\n\t\t}\r\n\t\twebix.noanimate = false;\r\n\t\t\r\n\t\tthis._init_state = function(){};\r\n\t}\r\n};\r\nwebix.protoUI({\r\n\tname:\"fieldset\",\r\n\tdefaults:{\r\n\t\tborderless:true\r\n\t},\r\n\t$init:function(obj){\r\n\t\twebix.assert(obj.body, \"fieldset must have not-empty body\");\r\n\r\n\t\tthis._viewobj.className += \" webix_fieldset\";\r\n\t\tthis._viewobj.innerHTML =  \"<fieldset><legend></legend><div></div></fieldset>\";\r\n\t},\r\n\tlabel_setter:function(value){\r\n\t\tthis._viewobj.firstChild.childNodes[0].innerHTML = value;\r\n\t\treturn value;\r\n\t},\r\n\tgetChildViews:function(){\r\n\t\treturn [this._body_view];\r\n\t},\r\n\tbody_setter:function(config){\r\n\t\tthis._body_view = webix.ui(config, this._viewobj.firstChild.childNodes[1]);\r\n\t\tthis._body_view._parent_cell = this;\r\n\t\treturn config;\r\n\t},\r\n\tgetBody:function(){\r\n\t\treturn this._body_view;\r\n\t},\r\n\t$getSize:function(x,y){\r\n\t\twebix.debug_size_box_start(this, true);\r\n\t\tx+=18; y+=30;\r\n\t\tvar t = this._last_body_size = this._body_view.$getSize(x,y);\r\n\t\twebix.debug_size_box_end(this, t);\r\n\t\treturn t;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tif (webix.ui.view.prototype.$setSize.call(this, x,y)){\r\n\t\t\ty = Math.min(this._last_body_size[3], y);\r\n\t\t\tx = Math.min(this._last_body_size[1], x);\r\n\t\t\tthis._body_view.$setSize(x-18,y-30);\r\n\t\t}\r\n\t}\r\n}, webix.ui.view);\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"slider\",\r\n    $touchCapture:true,\r\n    defaults:{\r\n        min:0,\r\n        max:100,\r\n        value:50,\r\n        step:1,\r\n        title:false,\r\n\t\ttemplate:function(obj, common){\r\n            var id = common._handle_id = \"x\" +webix.uid();\r\n            var html = \"<div class='webix_slider_title'></div><div class='webix_slider_box'><div class='webix_slider_left'>&nbsp;</div><div class='webix_slider_right'></div><div class='webix_slider_handle' role='slider' aria-label='\"+obj.label+(obj.title?(\" \"+obj.title(obj)):\"\")+\"' aria-valuemax='\"+obj.max+\"' aria-valuemin='\"+obj.min+\"' aria-valuenow='\"+obj.value+\"' tabindex='0' id='\"+id+\"'>&nbsp;</div></div>\";\r\n            return common.$renderInput(obj, html, id);\r\n\t\t}\r\n\t},\r\n\ttype_setter:function(type){\r\n\t\tthis._viewobj.className += \" webix_slider_\"+type;\r\n\t},\r\n    title_setter:function(value){\r\n        if (typeof value == 'string')\r\n            return webix.template(value);\r\n        return value;\r\n    },\r\n    _get_slider_handle:function(){\r\n\t\treturn this.$view.querySelector(\".webix_slider_handle\");\r\n    },\r\n    _set_inner_size:function(){\r\n        var handle = this._get_slider_handle();\r\n        var config = this._settings;\r\n\r\n        //10 - padding of webix_slider_box ( 20 = 10*2 )\r\n        //8 - width of handle / 2\r\n\r\n\t    if(handle){    //view is rendered for sure\r\n            var width = this._get_input_width(config);\r\n\r\n\t        var value = config.value%config.step?(Math.round(config.value/config.step)*config.step):config.value;\r\n\t        value =  Math.max(Math.min(value,config.max),config.min);\r\n            var max = config.max - config.min;\r\n            var left = Math.ceil((width - 20) * (value-config.min) / max);\r\n            var right = width-20-left;\r\n\r\n            handle.style.left = 10 + left - 8 + \"px\";\r\n            handle.parentNode.style.width = width+\"px\";\r\n\t        //1px border\r\n\t        right = Math.min(Math.max(right,2),width-22);\r\n\t        left = Math.min(Math.max(left,2),width-22);\r\n\t        //width for left and right bars\r\n            var part = handle.previousSibling;\r\n            part.style.width = right + \"px\";\r\n            var last = part.previousSibling;\r\n            last.style.width = left + \"px\";\r\n\r\n            if (this._settings.title){\r\n                handle.parentNode.previousSibling.innerHTML = this._settings.title(this._settings, this);\r\n            }\r\n        }\r\n    },\r\n    _set_value_now:function(){\r\n        this._get_slider_handle().setAttribute(\"aria-valuenow\", this._settings.value);\r\n    },\r\n    refresh:function(){\r\n        this._set_value_now();\r\n        if(this._settings.title)\r\n            this._get_slider_handle().setAttribute(\"aria-label\", this._settings.label+\" \"+this._settings.title(this._settings, this));\r\n\r\n        this._set_inner_size();\r\n    },\r\n    $setValue:function(){\r\n        this.refresh();\r\n    },\r\n    $getValue:function(){\r\n        return this._settings.value;\r\n    },\r\n    $init:function(){\r\n        if(webix.env.touch)\r\n            this.attachEvent(\"onTouchStart\" , webix.bind(this._on_mouse_down_start, this));\r\n        else\r\n            webix.event(this._viewobj, \"mousedown\", webix.bind(this._on_mouse_down_start, this));\r\n\r\n        webix.event( this.$view, \"keydown\", webix.bind(this._handle_move_keyboard, this));\r\n    },\r\n    _handle_move_keyboard:function(e){\r\n        var code = e.keyCode, c = this._settings, value = c.value;\r\n\r\n        if(code>32 && code <41){\r\n\r\n            webix.html.preventEvent(e);\r\n           \r\n            var trg = e.target || e.srcElement;\r\n            var match =  /webix_slider_handle_(\\d)/.exec(trg.className);\r\n            this._activeIndex = match?parseInt(match[1],10):-1;\r\n            if(match)\r\n                value = c.value[this._activeIndex];\r\n            value = value<c.min ? c.min:(value>c.max ? c.max : value);\r\n            \r\n            if(code === 35) value = c.min;\r\n            else if(code === 36) value = c.max;\r\n            else{\r\n                var inc = (code === 37 || code ===40 || code === 34)?-1:1;\r\n                if(code === 33 || code === 34 || c.step>1)\r\n                    inc = inc*c.step;\r\n                value = value*1+inc;\r\n            }\r\n\r\n\r\n            if(value>=c.min && value <=c.max){\r\n                if(match){\r\n                    var temp =[];\r\n                    for(var i=0; i<c.value.length; i++)\r\n                        temp[i] = i === this._activeIndex ? value : c.value[i];\r\n                    value = temp;\r\n                }\r\n                this.setValue(value);\r\n                this._activeIndex = -1;\r\n            }\r\n        }\r\n    },\r\n    _on_mouse_down_start:function(e){\r\n        var trg = e.target || e.srcElement;\r\n\t    if(this._mouse_down_process){\r\n\t\t    this._mouse_down_process(e);\r\n\t    }\r\n\r\n\t    var value = this._settings.value;\r\n\t    if(webix.isArray(value))\r\n\t\t    value = webix.copy(value);\r\n\r\n        if (trg.className.indexOf(\"webix_slider_handle\")!=-1){\r\n            this._start_value = value;\r\n            return this._start_handle_dnd.apply(this,arguments);\r\n        } else if (trg.className.indexOf(\"webix_slider\") != -1){\r\n            this._start_value = value;\r\n\r\n            this._settings.value = this._get_value_from_event.apply(this,arguments);\r\n\r\n            this._start_handle_dnd(e);\r\n        }\r\n    },\r\n    _start_handle_dnd:function(e){\r\n\t    if(webix.env.touch){\r\n\t\t    this._handle_drag_events = [\r\n\t\t\t    this.attachEvent(\"onTouchMove\" , webix.bind(this._handle_move_process, this)),\r\n\t\t        this.attachEvent(\"onTouchEnd\"  , webix.bind(this._handle_move_stop, this))\r\n\t\t    ];\r\n\t    }\r\n\t\telse\r\n\t        this._handle_drag_events = [\r\n\t            webix.event(document.body, \"mousemove\", webix.bind(this._handle_move_process, this)),\r\n\t            webix.event(window, \"mouseup\", webix.bind(this._handle_move_stop, this))\r\n\t        ];\r\n        webix.html.addCss(document.body,\"webix_noselect\");\r\n    },\r\n    _handle_move_stop:function(e){\r\n        //detach event handlers\r\n\t    if(this._handle_drag_events){\r\n\t\t    if(webix.env.touch){\r\n\t\t\t    webix.detachEvent(this._handle_drag_events[0]);\r\n\t\t\t    webix.detachEvent(this._handle_drag_events[1]);\r\n\t\t    }\r\n\t\t    else{\r\n\t\t\t    webix.eventRemove(this._handle_drag_events[0]);\r\n\t\t\t    webix.eventRemove(this._handle_drag_events[1]);\r\n\t\t    }\r\n\t\t    this._handle_drag_events = [];\r\n\t    }\r\n\r\n        webix.html.removeCss(document.body,\"webix_noselect\");\r\n\r\n        var value = this._settings.value;\r\n\r\n\t    if(webix.isArray(value))\r\n\t\t    value = webix.copy(value);\r\n\r\n\t    this._settings.value = this._start_value;\r\n        this.setValue(value);\r\n\r\n        this._get_slider_handle(this._activeIndex).focus();\r\n        this._activeIndex = -1;\r\n    },\r\n    _handle_move_process:function(e){\r\n        this._settings.value = this._get_value_from_event.apply(this,arguments);\r\n        this.refresh();\r\n        this.callEvent(\"onSliderDrag\", []);\r\n    },\r\n\t_get_value_from_event:function(event,touchContext){\r\n\t\t// this method takes 2 arguments in case of touch env\r\n\t\tvar pos = 0;\r\n\t\tif(webix.env.touch){\r\n\t\t\tpos = touchContext?touchContext.x: event.x;\r\n\t\t}\r\n\t\telse\r\n\t\t\tpos = webix.html.pos(event).x;\r\n\t\treturn this._get_value_from_pos(pos);\r\n\t},\r\n    _get_value_from_pos:function(pos){\r\n        var config = this._settings;\r\n        //10 - padding of slider box\r\n        var max = config.max - config.min;\r\n        var left = webix.html.offset(this._get_slider_handle().parentNode).x+10;\r\n\t    var width = this._get_input_width(config)-20;\r\n\t    var newvalue = (width?(pos-left) * max / width:0);\r\n        newvalue = Math.round((newvalue+config.min)/config.step) * config.step;\r\n        return Math.max(Math.min(newvalue, config.max), config.min);\r\n    },\r\n    _init_onchange:function(){} //need not ui.text logic\r\n}, webix.ui.text);\r\n\r\n\r\n\r\n\r\n/*\r\n\tview.load(\"offline->some.php\")\r\n\r\n\tor\r\n\r\n\tview.load( webix.proxy(\"offline\", \"some.php\") );\r\n\r\n\tor\r\n\r\n\tview.load( webix.proxy(\"offline\", \"post->url.php\") );\r\n*/\r\n\r\nwebix.proxy.offline = {\r\n\t$proxy:true,\r\n\r\n\tstorage: webix.storage.local,\r\n\tcache:false,\r\n\tdata:\"\",\r\n\r\n\t_is_offline : function(){\r\n\t\tif (!this.cache && !webix.env.offline){\r\n\t\t\twebix.callEvent(\"onOfflineMode\",[]);\r\n\t\t\twebix.env.offline = true;\r\n\t\t}\r\n\t},\r\n\t_is_online : function(){\r\n\t\tif (!this.cache && webix.env.offline){\r\n\t\t\twebix.env.offline = false;\r\n\t\t\twebix.callEvent(\"onOnlineMode\", []);\r\n\t\t}\r\n\t},\r\n\r\n\tload:function(view, callback){\r\n\t\tvar mycallback = {\r\n\t\t\terror:function(){\r\n\t\t\t\t//assuming offline mode\r\n\t\t\t\tvar text = this.getCache() || this.data;\r\n\r\n\t\t\t\tvar loader = { responseText: text };\r\n\t\t\t\tvar data = webix.ajax.prototype._data(loader);\r\n\r\n\t\t\t\tthis._is_offline();\r\n\t\t\t\twebix.ajax.$callback(view, callback, text, data, loader);\r\n\t\t\t},\r\n\t\t\tsuccess:function(text, data, loader){\r\n\t\t\t\tthis._is_online();\r\n\t\t\t\twebix.ajax.$callback(view, callback, text, data, loader);\r\n\r\n\t\t\t\tthis.setCache(text);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t//in cache mode - always load data from cache\r\n\t\tif (this.cache && this.getCache())\r\n\t\t\tmycallback.error.call(this);\r\n\t\telse {\r\n\t\t\t//else try to load actual data first\r\n\t\t\tif (this.source.$proxy)\r\n\t\t\t\tthis.source.load(this, mycallback);\r\n\t\t\telse\r\n\t\t\t\twebix.ajax(this.source, mycallback, this);\r\n\t\t}\r\n\t},\r\n\tgetCache:function(){\r\n\t\treturn this.storage.get(this._data_name());\r\n\t},\r\n\tclearCache:function(){\r\n\t\tthis.storage.remove(this._data_name());\r\n\t},\r\n\tsetCache:function(text){\r\n\t\tthis.storage.put(this._data_name(), text);\r\n\t},\r\n\t_data_name:function(){\r\n\t\tif (this.source.$proxy)\r\n\t\t\treturn this.source.source + \"_$proxy$_data\";\r\n\t\telse \r\n\t\t\treturn this.source + \"_$proxy$_data\";\r\n\t},\r\n\tsaveAll:function(view, update, dp, callback){\r\n\t\tthis.setCache(view.serialize());\r\n\t\twebix.ajax.$callback(view, callback, \"\", update);\r\n\t},\r\n\tresult:function(id, master, dp, text, data){\r\n\t\tfor (var i = 0; i < data.length; i++)\r\n\t\t\tdp.processResult({ id: data[i].id, status: data[i].operation }, {}, {});\r\n\t}\r\n};\r\n\r\nwebix.proxy.cache = {\r\n\tinit:function(){\r\n\t\twebix.extend(this, webix.proxy.offline);\r\n\t},\r\n\tcache:true\r\n};\r\n\r\nwebix.proxy.local = {\r\n\tinit:function(){\r\n\t\twebix.extend(this, webix.proxy.offline);\r\n\t},\r\n\tcache:true,\r\n\tdata:[]\r\n};\r\n\r\nif (window.angular)\r\n\r\n(function(){\r\n\r\n  function id_helper($element){\r\n    //we need uniq id as reference\r\n    var id = $element.attr(\"id\");\r\n    if (!id){\r\n      id = webix.uid();\r\n      $element.attr(\"id\", id);\r\n    }\r\n    return id;\r\n  }\r\n\r\n  function locate_view_id($element){\r\n    if (typeof $element.attr(\"webix-ui\") != \"undefined\")\r\n      return $element.attr(\"id\");\r\n    return locate_view_id($element.parent());\r\n  }\r\n\r\n\r\n\r\n\r\n//creates webix ui components\r\nangular.module(\"webix\", [])\r\n  .directive('webixUi', [ \"$parse\", function($parse) {\r\n    return {\r\n      restrict: 'A',\r\n      scope: false,\r\n      link:function ($scope, $element, $attrs, $controller){\r\n        var dataname = $attrs[\"webixUi\"];\r\n        var callback = $attrs[\"webixReady\"];\r\n        var watch = $attrs[\"webixWatch\"];\r\n        var wxRoot = null;\r\n        var id = id_helper($element);\r\n\r\n        $element.ready(function(){  \r\n          if (wxRoot) return;\r\n\r\n          if (callback)\r\n            callback = $parse(callback);\r\n\r\n          //destruct components\r\n          $element.bind('$destroy', function() {\r\n            if(wxRoot) wxRoot.destructor();\r\n          });\r\n\r\n          //webix-ui attribute has some value - will try to use it as configuration\r\n          if (dataname){\r\n            //configuration\r\n            var watcher = function(data){\r\n              if (wxRoot) wxRoot.destructor();\r\n              if ($scope[dataname]){\r\n                var config = webix.copy($scope[dataname]);\r\n                config.$scope =$scope;\r\n                $element[0].innerHTML = \"\";\r\n                wxRoot = webix.ui(config, $element[0]);\r\n                if (callback)\r\n                  callback($scope, { root: wxRoot });\r\n              }\r\n            };\r\n            if (watch !== \"false\")\r\n              $scope.$watch(dataname, watcher);\r\n            watcher();\r\n          } else {\r\n          //if webix-ui is empty - init inner content as webix markup\r\n            if (!$attrs[\"view\"])\r\n              $element.attr(\"view\", \"rows\");\r\n            \r\n            var ui = webix.markup;\r\n            var tmp_a = ui.attribute; ui.attribute = \"\";\r\n            //FIXME - memory leaking, need to detect the moment of dom element removing and destroy UI\r\n            if (typeof $attrs[\"webixRefresh\"] != \"undefined\")\r\n              wxRoot = ui.init($element[0], $element[0], $scope);\r\n            else\r\n              wxRoot = ui.init($element[0], null, $scope);\r\n\r\n            ui.attribute = tmp_a;\r\n\r\n            if (callback)\r\n              callback($scope, { root: wxRoot });\r\n          }\r\n\r\n          //size of ui\r\n          $scope.$watch(function() {\r\n            return $element[0].offsetWidth + \".\" + $element[0].offsetHeight;\r\n          }, function() {\r\n            if (wxRoot) wxRoot.adjust();\r\n          });\r\n\r\n        });\r\n      }\r\n    };\r\n  }])\r\n\r\n  .directive('webixShow', [ \"$parse\", function($parse) {\r\n    return {\r\n      restrict: 'A',\r\n      scope: false,\r\n\r\n      link:function ($scope, $element, $attrs, $controller){\r\n        var attr = $parse($attrs[\"webixShow\"]);\r\n        var id = id_helper($element);\r\n\r\n        if (!attr($scope))\r\n            $element.attr(\"hidden\", \"true\");\r\n\r\n        $scope.$watch($attrs[\"webixShow\"], function(){\r\n          var view = webix.$$(id);\r\n          if (view){\r\n            if (attr($scope)){\r\n              webix.$$(id).show();\r\n              $element[0].removeAttribute(\"hidden\");\r\n            } else\r\n              webix.$$(id).hide();\r\n          }\r\n        });\r\n\r\n      }\r\n    };\r\n  }])\r\n\r\n  .directive('webixEvent', [ \"$parse\", function($parse) {\r\n    var wrap_helper = function($scope, view, eventobj){\r\n      var ev = eventobj.split(\"=\");\r\n      var action = $parse(ev[1]);\r\n      var name = ev[0].trim();\r\n      view.attachEvent(name, function(){              \r\n        return action($scope, { id:arguments[0], details:arguments });\r\n      });\r\n    };\r\n\r\n    return {\r\n      restrict: 'A',\r\n      scope: false,\r\n      \r\n      link:function ($scope, $element, $attrs, $controller){\r\n        var events = $attrs[\"webixEvent\"].split(\";\");\r\n        var id = id_helper($element);\r\n\r\n        setTimeout(function(){\r\n          var first = $element[0].firstChild;\r\n          if (first && first.nodeType == 1)\r\n            id = first.getAttribute(\"view_id\") || id;\r\n\r\n          var view = webix.$$(id);\r\n          for (var i = 0; i < events.length; i++) {\r\n            wrap_helper($scope, view, events[i]);\r\n          }\r\n        });\r\n\r\n      }\r\n    };\r\n  }])\r\n\r\n  .directive('webixElements', [ \"$parse\", function($parse) {\r\n    return {\r\n      restrict: 'A',\r\n      scope: false,\r\n\r\n      link:function ($scope, $element, $attrs, $controller){\r\n\r\n        var data = $attrs[\"webixElements\"];\r\n        var id = id_helper($element);\r\n        \r\n        if ($scope.$watchCollection)\r\n          $scope.$watchCollection(data, function(collection){\r\n            setTimeout(function(){\r\n              var view = webix.$$(id);\r\n              if (view){\r\n                view.define(\"elements\", collection);\r\n                view.refresh();\r\n              }\r\n            },1);\r\n          });\r\n      }\r\n\r\n    };\r\n  }])\r\n\r\n  .directive('webixData', [ \"$parse\", function($parse) {\r\n    return {\r\n      restrict: 'A',\r\n      scope: false,\r\n\r\n      link:function ($scope, $element, $attrs, $controller){\r\n\r\n        var data = $attrs[\"webixData\"];\r\n        var id = id_helper($element);\r\n        \r\n        if ($scope.$watchCollection)\r\n          $scope.$watchCollection(data, function(collection){\r\n            if (collection){\r\n              setTimeout(function(){\r\n                loadData($element, id, collection, 0);\r\n              },1);\r\n            }\r\n          });\r\n      }\r\n\r\n    };\r\n  }]);\r\n\r\n  function loadData($element, id, collection, num){\r\n    if (num > 10) return;\r\n    var first = $element[0].firstChild;\r\n    if (first && first.nodeType == 1)\r\n    id = first.getAttribute(\"view_id\") || id;\r\n\r\n    var view = webix.$$(id);\r\n    if (view){\r\n      if (view.options_setter){\r\n        view.define(\"options\", collection);\r\n        view.refresh();\r\n      }else{\r\n        if (view.clearAll)\r\n          view.clearAll();\r\n        view.parse(collection);\r\n      }\r\n    } else {\r\n      webix.delay(loadData, this, [$element, id, collection], 100, num+1);\r\n    }\r\n  }\r\n\r\n})();\r\nif (window.Backbone)\r\n(function(){\r\n\r\n\tvar cfg = {\r\n\t\tuse_id : false\r\n\t};\r\n\r\n\tfunction _start_ext_load(cal){\r\n\t\tcal._backbone_loading = true;\r\n\t\tcal.callEvent(\"onBeforeLoad\", []);\r\n\t\tcal.blockEvent();\r\n\t}\r\n\tfunction _finish_ext_load(cal){\r\n\t\tcal.unblockEvent();\r\n\t\tcal._backbone_loading = false;\r\n\t\tcal.refresh();\r\n\t}\r\n\r\nwebix.attachEvent(\"onUnSyncUnknown\", function(wData, bData){\r\n\tvar whandlers = wData._sync_events;\r\n\tvar handlers = wData._sync_backbone_events;\r\n\r\n\tfor (var i = 0; i < whandlers.length; i++)\r\n\t\twData.detachEvent(whandlers[i]);\r\n\r\n\tfor (var i = 0; i < handlers.length; i++)\r\n\t\tbData.off.apply(bData, handlers[i]);        \r\n});\r\n\r\nwebix.attachEvent(\"onSyncUnknown\", function(wData, bData, config){\r\n\tif (config) cfg = config;\r\n\tif (cfg.get && typeof cfg.get == \"string\")\r\n\t\tcfg.get = cfg.get.split(\",\");\r\n\r\n\t//remove private properties\r\n\tfunction sanitize(ev){\r\n\t\tif (cfg.use_id)\r\n\t\t\treturn ev;\r\n\r\n\t\tvar obj = {};\r\n\t\tfor (var key in ev)\r\n\t\t\tif (key != \"id\")\r\n\t\t\t\tobj[key] = ev[key];\r\n\r\n\t\treturn obj;\r\n\t}\r\n\t\r\n\tfunction _get_id(model){\r\n\t\treturn cfg.use_id ? model.id : model.cid;\r\n\t}\r\n\r\n\tfunction datareset(wData, bData){\r\n\t\tvar data = [];\r\n\t\tfor (var i = 0; i < bData.models.length; i++){\r\n\t\t\tvar model = bData.models[i];\r\n\t\t\tvar cid = _get_id(model);\r\n\t\t\tvar ev =  copymodel(model);\r\n\t\t\tev.id = cid;\r\n\t\t\tdata.push(ev);\r\n\t\t}\r\n\t\twData.clearAll();\r\n\t\twData._parse(data);\r\n\t}\r\n\r\n\tfunction copymodel(model){\r\n\t\tif (cfg.get){\r\n\t\t\tvar data = {};\r\n\t\t\tfor (var i = 0; i < cfg.get.length; i++){\r\n\t\t\t\tvar key = cfg.get[i];\r\n\t\t\t\tdata[key] = model.get(key);\r\n\t\t\t}\r\n\t\t\treturn data;\r\n\t\t}\r\n\t\treturn model.toJSON();\r\n\t}\r\n\r\n\tvar handlers = [\r\n\t\t[\"change\", function(model, info){\r\n\t\t\tvar cid = _get_id(model);\r\n\t\t\tvar ev = wData.pull[cid] = copymodel(model);\r\n\t\t\tev.id = cid;\r\n\r\n\t\t\tif (wData._scheme_update)\r\n\t\t\t\twData._scheme_update(ev);\r\n\t\t\twData.refresh(ev.id);\r\n\t\t}],\r\n\t\t[\"remove\", function(model, changes){\r\n\t\t\tvar cid = _get_id(model);\r\n\t\t\tif (wData.pull[cid])\r\n\t\t\t\twData.remove(cid);\r\n\t\t}],\r\n\t\t[\"add\", function(model, changes){\r\n\t\t\tvar cid = _get_id(model);\r\n\t\t\tif (!wData.pull[cid]){\r\n\t\t\t\tvar ev =  copymodel(model);\r\n\t\t\t\tev.id = cid;\r\n\t\t\t\tif (wData._scheme_init)\r\n\t\t\t\t\twData._scheme_init(ev); \r\n\t\t\t\twData.add(ev);\r\n\t\t\t}\r\n\t\t}],\r\n\t\t[\"reset\", function(model, changes){\r\n\t\t\tdatareset(wData, bData);\r\n\t\t}],\r\n\t\t[\"request\", function(obj){\r\n\t\t\tif (obj instanceof Backbone.Collection)\r\n\t\t\t\t_start_ext_load(wData);\r\n\t\t}],\r\n\t\t[\"sync\", function(obj){\r\n\t\t\tif (obj instanceof Backbone.Collection)\r\n\t\t\t\t_finish_ext_load(wData);\r\n\t\t}],\r\n\t\t[\"error\", function(obj){\r\n\t\t\tif (obj instanceof Backbone.Collection)\r\n\t\t\t\t_finish_ext_load(wData);\r\n\t\t}]\r\n\t];\r\n\r\n\tfor (var i = 0; i < handlers.length; i++)\r\n        bData.bind.apply(bData, handlers[i]);\r\n\r\n\r\n    var whandlers = [\r\n\t\twData.attachEvent(\"onAfterAdd\", function(id){\r\n\t\t\tif (!bData.get(id)){\r\n\t\t\t\tvar data = sanitize(wData.getItem(id));\r\n\t\t\t\tvar model = new bData.model(data);\r\n\r\n\t\t\t\tvar cid = _get_id(model);\r\n\t\t\t\tif (cid != id)\r\n\t\t\t\t\tthis.changeId(id, cid);\r\n\r\n\t\t\t\tbData.add(model);\r\n\t\t\t\tbData.trigger(\"webix:add\", model);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}),\r\n\t\twData.attachEvent(\"onDataUpdate\", function(id){\r\n\t\t\tvar ev = bData.get(id);\r\n\t\t\tvar upd = sanitize(wData.getItem(id));\r\n\r\n\t\t\tev.set(upd);\r\n\t\t\tbData.trigger(\"webix:change\", ev);\r\n\r\n\t\t\treturn true;\r\n\t\t}),\r\n\t\twData.attachEvent(\"onAfterDelete\", function(id){\r\n\t\t\tvar model = bData.get(id);\r\n\t\t\tif (model){\r\n\t\t\t\tbData.trigger(\"webix:remove\", model);\r\n\t\t\t\tbData.remove(id);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t})\r\n\t];\r\n\r\n\twData._sync_source = bData;\r\n    wData._sync_events = whandlers;\r\n    wData._sync_backbone_events = handlers;\r\n\r\n\tif (bData.length || wData.count()){\r\n\t\tdatareset(wData, bData);\r\n\t}\r\n});\r\n\r\nwindow.WebixView = Backbone.View.extend({\r\n\t//starting from backbone 1.1, this.options is not saved automatically\r\n\tinitialize : function (options) {\r\n\t\tthis.options = options || {};\r\n\t},\r\n\trender:function(){\r\n\t\tif (this.beforeRender) this.beforeRender.apply(this, arguments);\r\n\r\n\t\tvar config = this.config || this.options.config;\r\n\t\tvar el;\r\n\r\n\t\tif (!config.view || !webix.ui.hasMethod(config.view, \"setPosition\")){\r\n\t\t\tel = window.$ ? $(this.el)[0] : this.el;\r\n\t\t\t//clear previous content if any\r\n\t\t\tif (el && !el.config) el.innerHTML = \"\";\r\n\t\t}\r\n\r\n\t\tvar ui = webix.copy(config);\r\n\t\tui.$scope = this;\r\n\t\tthis.root = webix.ui(ui, el);\r\n\t\t\r\n\t\tif (this.afterRender) this.afterRender.apply(this, arguments);\r\n\t\treturn this;\r\n\t},\r\n\tdestroy:function(){\r\n\t\tif (this.root) this.root.destructor();\r\n\t},\r\n\tgetRoot:function(){\r\n\t\treturn this.root;\r\n\t},\r\n\tgetChild:function(id){\r\n\t\twebix.assert(this.root.$$, \"You need to set isolate property for top view\");\r\n\t\treturn this.root.$$(id);\r\n\t}\r\n});\r\n\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\nwebix.ActiveContent = {\r\n\t$init:function(config){  \r\n\t\tif (config.activeContent){\r\n\t\t\tthis.$ready.push(this._init_active_content_list);\r\n\t\t\t\r\n\t\t\tthis._active_holders = {};\r\n\t\t\tthis._active_holders_item = {};\r\n\t\t\tthis._active_holders_values = {};\r\n\t\t\tthis._active_references = {};\r\n\t\t\t\r\n\t\t\tfor (var key in config.activeContent){\r\n\t\t\t\tthis[key] = this._bind_active_content(key);\r\n\t\t\t\tif (config.activeContent[key].earlyInit){\r\n\t\t\t\t\tvar temp = webix._parent_cell; webix._parent_cell = null;\r\n\t\t\t\t\tthis[key].call(this,{},this, config.activeContent);\r\n\t\t\t\t\twebix._parent_cell=temp;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_destructActiveContent: function(){\r\n\t\tfor(var key in this._active_references){\r\n\t\t\tvar elem = this._active_references[key];\r\n\t\t\tif(elem.destructor)\r\n\t\t\t\telem.destructor();\r\n\t\t}\r\n\t},\r\n\t_init_active_content_list:function(){\r\n\t\tthis.attachEvent(\"onDestruct\",webix.bind(this._destructActiveContent,this));\r\n\r\n\t\twebix.event(this.$view, \"blur\", function(ev){\r\n\t\t\tvar target = ev.target || ev.srcElement;\r\n\r\n\t\t\t// for inputs only\r\n\t\t\tif(target.tagName != \"BUTTON\"){\r\n\t\t\t\tvar el = webix.$$(ev);\r\n\t\t\t\tif (el !== this && el.getValue  && el.setValue){\r\n\t\t\t\t\tel.getNode(ev);\r\n\r\n\t\t\t\t\tvar newvalue = el.getValue();\r\n\t\t\t\t\tif (newvalue != el._settings.value)\r\n\t\t\t\t\t\tel.setValue(newvalue);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, {bind:this, capture: true});\r\n\r\n\t\tif (this.filter){\r\n\t\t\tfor (var key in this._settings.activeContent){\r\n\t\t\t\tthis.type[key] = this[key];\r\n\t\t\t\tthis[key] = this._locate_active_content_by_id(key);\r\n\t\t\t}\r\n\t\t\t//really bad!\r\n\t\t\tthis.attachEvent(\"onBeforeRender\", function(){\r\n\t\t\t\tthis.type.masterUI = this;\r\n\t\t\t});\r\n\t\t\tthis.type.masterUI = this;\r\n\t\t}\r\n\t},\r\n\t_locate_active_content_by_id:function(key){\r\n\t\treturn function(id){\r\n\t\t\tvar button = this._active_references[key];\r\n\t\t\tvar button_id = button._settings.id;\r\n\t\t\tvar html = this.getItemNode(id).getElementsByTagName(\"DIV\");\r\n\t\t\tfor (var i=0; i < html.length; i++) {\r\n\t\t\t\tif (html[i].getAttribute(\"view_id\") == button_id){\r\n\t\t\t\t\tbutton._viewobj = button._dataobj = html[i];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn button;\r\n\t\t};\r\n\t},\r\n\t_get_active_node:function(el, key, master){\r\n\t\treturn function(e){\r\n\t\t\tif (e){\r\n\t\t\t\tvar trg=e.target||e.srcElement;\r\n\t\t\t\twhile (trg){\r\n\t\t\t\t\tif (trg.getAttribute && trg.getAttribute(\"view_id\")){\r\n\t\t\t\t\t\tmaster._setActiveContentView(el,trg);\r\n\t\t\t\t\t\tif (master.locate){\r\n\t\t\t\t\t\t\tvar id = master.locate(trg.parentNode);\r\n\t\t\t\t\t\t\tvar value = master._active_holders_values[key][id];\r\n\t\t\t\t\t\t\tel._settings.value = value;\r\n\t\t\t\t\t\t\tel._settings.$masterId = id;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn trg;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttrg = trg.parentNode;\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t}\r\n\t\t\treturn el._viewobj;\r\n\t\t};\r\n\t},\r\n\t_set_new_active_value:function(key, master){\r\n\t\treturn function(value){\r\n\t\t\tvar data = master.data;\r\n\t\t\tif (master.filter){\r\n\t\t\t\tvar id = master.locate(this._viewobj.parentNode);\r\n\t\t\t\tdata = master.getItem(id);\r\n\t\t\t\t//XMLSerializer - FF \"feature\"\r\n\t\t\t\tthis.refresh();\r\n\t\t\t\tmaster._active_holders_item[key][id]=this._viewobj.outerHTML||(new XMLSerializer().serializeToString(this._viewobj));\r\n\t\t\t\tmaster._active_holders_values[key][id] = value;\r\n\t\t\t}\r\n\t\t\tif(data)\r\n\t\t\t\tdata[key] = value;\r\n\t\t};\r\n\t},\r\n\t_bind_active_content:function(key){ \r\n\t\treturn function(obj, common, active){\r\n\t\t\tvar object = common._active_holders?common:common.masterUI;\r\n\r\n\t\t\tif (!object._active_holders[key]){\r\n\t\t\t\tvar d = document.createElement(\"DIV\");\r\n\t\t\t\t\r\n\t\t\t\tactive = active || object._settings.activeContent;\r\n\t\t\t\tvar el = webix.ui(active[key], d);\r\n\r\n\t\t\t\td.firstChild.setAttribute(\"onclick\", \"event.processed = true; if (webix.env.isIE8) event.srcElement.w_view = '\"+el._settings.id+\"';\");\r\n\r\n\t\t\t\tel.getNode = object._get_active_node(el, key, object);\r\n\r\n\t\t\t\tel.attachEvent(\"onChange\", object._set_new_active_value(key, object));\r\n\t\t\t\t\r\n\t\t\t\tobject._active_references[key] = el;\r\n\t\t\t\tobject._active_holders[key] = d.innerHTML;\r\n\t\t\t\tobject._active_holders_item[key] = {};\r\n\t\t\t\tobject._active_holders_values[key] = {};\r\n\t\t\t\tel.$activeEl = el.$view;\r\n\t\t\t}\r\n\t\t\tif (object.filter && obj[key] != object._active_holders_values[key] && !webix.isUndefined(obj[key])){\r\n\t\t\t\tvar el = object._active_references[key];\r\n\t\t\t\tel.blockEvent();\r\n\t\t\t\tobject._setActiveContentView(el,el.$activeEl);\r\n\t\t\t\t//in IE we can lost content of active element during parent repainting\r\n\t\t\t\tif (!el.$view.firstChild) el.refresh();\r\n\t\t\t\tel.setValue(obj[key]);\r\n\t\t\t\tel.refresh();\r\n\t\t\t\tel.unblockEvent();\r\n\t\t\t\t\r\n\t\t\t\tobject._active_holders_values[key][obj.id] = obj[key];\r\n\t\t\t\tobject._active_holders_item[key][obj.id] = el._viewobj.outerHTML||(new XMLSerializer().serializeToString(el._viewobj));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn object._active_holders_item[key][obj.id]||object._active_holders[key];\r\n\t\t};\r\n\t},\r\n\t_setActiveContentView: function(el,view){\r\n\t\tel._dataobj = el._viewobj = el.$view = view;\r\n\t}\r\n};\r\nwebix.ProgressBar = {\r\n\t$init:function(){\r\n\t\tif (webix.isUndefined(this._progress) && this.attachEvent){\r\n\t\t\tthis.attachEvent(\"onBeforeLoad\", this.showProgress);\r\n\t\t\tthis.attachEvent(\"onAfterLoad\", this.hideProgress);\r\n\t\t\tthis._progress = null;\r\n\t\t}\r\n\t},\r\n\tshowProgress:function(config){\r\n\t\t// { position: 0 - 1, delay: 2000ms by default, css : name of css class to use }\r\n\t\tif (!this._progress){\r\n\r\n\t\t\tconfig = webix.extend({\r\n\t\t\t\tposition:0,\r\n\t\t\t\tdelay: 2000,\r\n\t\t\t\ttype:\"icon\",\r\n\t\t\t\ticon:\"refresh\",\r\n\t\t\t\thide:false\r\n\t\t\t}, (config||{}), true);\r\n\r\n\t\t\tvar incss = (config.type == \"icon\") ? (\"fa-\"+config.icon+\" fa-spin\") : \"\";\r\n\r\n\r\n\r\n\t\t\tthis._progress = webix.html.create(\r\n\t\t\t\t\"DIV\",\r\n\t\t\t\t{\r\n\t\t\t\t\t\"class\":\"webix_progress_\"+config.type,\r\n\t\t\t\t\t\"role\":\"progressbar\",\r\n\t\t\t\t\t\"aria-valuemin\":\"0\",\r\n\t\t\t\t\t\"aria-valuemax\":\"100\",\r\n\t\t\t\t\t\"tabindex\":\"0\"\r\n\t\t\t\t},\r\n\t\t\t\t\"<div class='webix_progress_state \"+incss+\"'></div>\"\r\n\t\t\t);\r\n\r\n\t\t\tif(!this.setPosition)\r\n\t\t\t\tthis._viewobj.style.position = \"relative\";\r\n\r\n\t\t\twebix.html.insertBefore(this._progress, this._viewobj.firstChild, this._viewobj);\r\n\t\t\tthis._viewobj.setAttribute(\"aria-busy\", \"true\");\r\n\r\n\t\t\tif(!webix.Touch.$active){\r\n\t\t\t\tif(this.getScrollState){\r\n\t\t\t\t\tvar scroll = this.getScrollState();\r\n\t\t\t\t\tif(this._viewobj.scrollWidth != this.$width){\r\n\t\t\t\t\t\tthis._progress.style.left = scroll.x +\"px\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this._viewobj.scrollHeight != this.$height){\r\n\t\t\t\t\t\tif(config.type != \"bottom\"){\r\n\t\t\t\t\t\t\tthis._progress.style.top = scroll.y +\"px\";\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis._progress.style.top =  scroll.y + this.$height - this._progress.offsetHeight +\"px\";\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\tthis._progress_delay = 1;\r\n\t\t}\r\n\r\n\t\tif (config && config.type != \"icon\")\r\n\t\t\twebix.delay(function(){\r\n\t\t\t\tif (this._progress){\r\n\t\t\t\t\tvar position = config.position || 1;\r\n\t\t\t\t\t//check for css-transition support\r\n\t\t\t\t\tif(this._progress.style[webix.env.transitionDuration] !== webix.undefined || !config.delay){\r\n\t\t\t\t\t\tthis._progress.firstChild.style.width = position*100+\"%\";\r\n\t\t\t\t\t\tif (config.delay)\r\n\t\t\t\t\t\t\tthis._progress.firstChild.style[webix.env.transitionDuration] = config.delay+\"ms\";\r\n\t\t\t\t\t} else{\r\n\t\t\t\t\t//if animation is not supported fallback to timeouts [IE9]\r\n\t\t\t\t\t\tvar count = 0,\r\n\t\t\t\t\t\t\tstart = 0,\r\n\t\t\t\t\t\t\tstep = position/config.delay*30,\r\n\t\t\t\t\t\t\tview = this;\r\n\r\n\t\t\t\t\t\tif(this._progressTimer){\r\n\t\t\t\t\t\t\t//reset the existing progress\r\n\t\t\t\t\t\t\twindow.clearInterval(this._progressTimer);\r\n\t\t\t\t\t\t\tstart = this._progress.firstChild.offsetWidth/this._progress.offsetWidth*100;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis._progressTimer = window.setInterval(function(){\r\n\t\t\t\t\t\t\tif(count*30 == config.delay){\r\n\t\t\t\t\t\t\t\twindow.clearInterval(view._progressTimer);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\tif(view._progress && view._progress.firstChild)\r\n\t\t\t\t\t\t\t\t\tview._progress.firstChild.style.width = start+count*step*position*100+\"%\";\r\n\t\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},30);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (config.hide)\r\n\t\t\t\t\t\twebix.delay(this.hideProgress, this, [1], config.delay);\r\n\r\n\t\t\t\t}\r\n\t\t\t\tthis._progress_delay = 0;\r\n\t\t\t}, this);\r\n\t\telse if(config && config.type == \"icon\" && config.hide)\r\n\t\t\twebix.delay(this.hideProgress, this, [1], config.delay);\r\n\t},\r\n\thideProgress:function(now){\r\n\t\tif (this._progress_delay)\r\n\t\t\tnow = true;\r\n\r\n\t\tif (this._progress){\r\n\t\t\tif (now){\r\n\t\t\t\tif(this._progressTimer)\r\n\t\t\t\t\twindow.clearInterval(this._progressTimer);\r\n\t\t\t\twebix.html.remove(this._progress);\r\n\t\t\t\tthis._progress = null;\r\n\t\t\t\tthis._viewobj.removeAttribute(\"aria-busy\");\r\n\t\t\t} else {\r\n\t\t\t\tthis.showProgress({ position:1.1, delay:300 , hide:true });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/*\r\n\tUI:Video\r\n*/\r\n\r\nwebix.protoUI({\r\n\tname:\"video\",\r\n\t$init:function(config){\r\n\t\tif (!config.id) config.id = webix.uid();\r\n\t\tthis.$ready.push(this._init_video);\r\n\t},\r\n\t_init_video:function(){\r\n\t\tvar c = this._settings;\r\n\t\tthis._contentobj  = webix.html.create(\"video\",{\r\n\t\t\t\"class\":\"webix_view_video\",\r\n\t\t\t\"style\":\"width:100%;height:100%;\",\r\n\t\t\t\"autobuffer\":\"autobuffer\"\r\n\t\t},\"\");\r\n\t\tif(c.poster)\r\n\t\t\tthis._contentobj.poster=c.poster;\r\n\r\n\t\tif(c.src){\r\n\t\t\tif(typeof c.src!= \"object\")\r\n\t\t\t\tc.src = [c.src];\r\n\t\t\tfor(var i = 0; i < c.src.length;i++)\r\n\t\t\t\tthis._contentobj.innerHTML += ' <source src=\"'+ c.src[i]+'\">';\r\n\t\t}\r\n\t\t/*if(this._contentobj.addEventListener)\r\n\t\tthis._contentobj.addEventListener('click', function(videoNode) { \r\n          return function() { \r\n            videoNode.play(); \r\n          }; \r\n        }(this._contentobj),false); */\r\n\t\r\n\t\tif(c.controls)\r\n\t\t\tthis._contentobj.controls=true;\r\n\t\tif(c.autoplay)\r\n\t\t\tthis._contentobj.autoplay=true;\r\n\t\tthis._viewobj.appendChild(this._contentobj);\r\n\t},\r\n\tgetVideo:function(){\r\n\t\treturn this._contentobj;\r\n\t},\r\n\tdefaults:{\r\n\t\tsrc:\"\",\r\n\t\tcontrols: true\r\n\t}\r\n}, webix.ui.view);\r\n\r\nwebix.protoUI({\r\n\tname:\"NonGPL\",\r\n\t$init:function(){\r\n\t\twebix.message(\"GPL version does not support '\"+this.name+\"'\",\"error\",-1);\r\n\t}\r\n},webix.ui.view);\r\n\r\nwebix.protoUI({\tname:\"organogram\" },webix.ui.NonGPL);\r\nwebix.protoUI({\tname:\"barcode\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"portlet\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"pdfviewer\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"pdfbar\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"excelviewer\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"excelbar\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"datasuggest\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"gridsuggest\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"multitext\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"multiselect\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"multicombo\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"multisuggest\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"checksuggest\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"treemap\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"rangeslider\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"rangechart\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"datalayout\" },webix.ui.NonGPL);\r\nwebix.protoUI({ name:\"abslayout\" },webix.ui.NonGPL);\r\n\r\n\r\nwebix.protoUI({\r\n\tname:\"sidemenu\",\r\n\tdefaults: {\r\n\t\tpadding:0,\r\n\t\tanimate: true,\r\n\t\tposition: \"left\",\r\n\t\twidth: 200,\r\n\t\tborderless: true\r\n\t},\r\n\t$init:function(){\r\n\t\tthis.$view.className += \" webix_sidemenu\";\r\n\t},\r\n\tposition_setter: function(value){\r\n\t\tvar prevPosition = this._settings.position;\r\n\t\tif(prevPosition)\r\n\t\t\twebix.html.removeCss(this.$view,\" webix_sidemenu_\"+prevPosition);\r\n\t\twebix.html.addCss(this.$view,\" webix_sidemenu_\"+value);\r\n\t\treturn value;\r\n\t},\r\n\t$getSize: function(){\r\n\t\tvar sizes = webix.ui.window.prototype.$getSize.apply(this,arguments);\r\n\t\tthis._desired_sizes = sizes;\r\n\t\treturn sizes;\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\twebix.ui.view.prototype.$setSize.call(this,x,y);\r\n\t\tx = this._content_width-this._settings.padding*2;\r\n\t\ty = this._content_height-this._settings.padding*2;\r\n\t\tthis._contentobj.style.padding = this._settings.padding+\"px\";\r\n\t\tthis._headobj.style.display=\"none\";\r\n\t\tthis._bodyobj.style.height = y+\"px\";\r\n\t\tthis._body_cell.$setSize(x,y);\r\n\t},\r\n\tshow: function(){\r\n\t\tif(!this.callEvent(\"onBeforeShow\",arguments))\r\n\t\t\treturn false;\r\n\r\n\t\tthis._settings.hidden = false;\r\n\t\tthis._viewobj.style.zIndex = (this._settings.zIndex||webix.ui.zIndex());\r\n\t\tif (this._settings.modal || this._modal){\r\n\t\t\tthis._modal_set(true);\r\n\t\t\tthis._modal = null; // hidden_setter handling\r\n\t\t}\r\n\t\tthis._viewobj.style.display = \"block\";\r\n\t\tthis._render_hidden_views();\r\n\t\tif (this._settings.position)\r\n\t\t\tthis._setPosition();\r\n\r\n\t\tthis._hide_timer = 1;\r\n\t\twebix.delay(function(){ this._hide_timer = 0; }, this, [], (webix.env.touch ? 400 : 100 ));\r\n\r\n\t\tif (this.config.autofocus){\r\n\t\t\tthis._prev_focus = webix.UIManager.getFocus();\r\n\t\t\twebix.UIManager.setFocus(this);\r\n\t\t}\r\n\r\n\t\tif (-1 == webix.ui._popups.find(this))\r\n\t\t\twebix.ui._popups.push(this);\r\n\r\n\t\tthis.callEvent(\"onShow\",[]);\r\n\t},\r\n\t_setPosition: function(x){\r\n\t\tvar width, height, maxWidth, maxHeight,\r\n\t\t\tposition,\r\n\t\t\tleft = 0, top = 0,\r\n\t\t\tstate = { };\r\n\r\n\r\n\t\tthis.$view.style.position = \"fixed\";\r\n\r\n\t\tmaxWidth = (window.innerWidth||document.documentElement.offsetWidth);\r\n\t\tmaxHeight = (window.innerHeight||document.documentElement.offsetHeight);\r\n\r\n\t\twidth = this._desired_sizes[0] || maxWidth;\r\n\t\theight = this._desired_sizes[2] ||maxHeight;\r\n\r\n\t\twebix.assert(width &&height, \"Attempt to show not rendered window\");\r\n\r\n\t\tposition = this._settings.position;\r\n\r\n\t\tif(position == \"top\"){\r\n\t\t\twidth = maxWidth;\r\n\t\t} else if(position == \"right\"){\r\n\t\t\theight = maxHeight;\r\n\t\t\tleft = maxWidth - width;\r\n\t\t} else if(position == \"bottom\"){\r\n\t\t\twidth = maxWidth;\r\n\t\t\ttop = maxHeight - height;\r\n\t\t} else {\r\n\t\t\theight = maxHeight;\r\n\t\t}\r\n\r\n\t\tstate = { left: left, top: top,\r\n\t\t\twidth: width, height: height,\r\n\t\t\tmaxWidth: maxWidth, maxHeight: maxHeight\r\n\t\t};\r\n\r\n\t\tif (typeof this._settings.state == \"function\")\r\n\t\t\tthis._settings.state.call(this, state);\r\n\r\n\t\tthis._state = state;\r\n\r\n\t\tthis.$setSize(state.width, state.height);\r\n\r\n\t\tif (typeof x == \"undefined\" && this._isAnimationSupported()){\r\n\t\t\twebix.html.removeCss(this.$view,\"webix_animate\",true);\r\n\t\t\t// set initial state\r\n\t\t\tthis._animate[this._settings.position].beforeShow.call(this, state);\r\n\t\t\t// set apply animation css\r\n\t\t\twebix.delay(function(){\r\n\t\t\t\twebix.html.addCss(this.$view,\"webix_animate\",true);\r\n\t\t\t},this, null,1);\r\n\t\t\t// animate popup\r\n\t\t\twebix.delay(function(){\r\n\t\t\t\tthis._animate[this._settings.position].show.call(this, state);\r\n\t\t\t},this, null,10);\r\n\r\n\t\t}\r\n\t\telse{\r\n\r\n\t\t\tthis.setPosition(state.left, state.top);\r\n\t\t}\r\n\t},\r\n\t_isAnimationSupported: function(){\r\n\t\treturn webix.animate.isSupported() && this._settings.animate && !(webix.env.isIE && navigator.appVersion.indexOf(\"MSIE 9\")!=-1);\r\n\t},\r\n\thidden_setter:function(value){\r\n\t\tif(value)\r\n\t\t\tthis.hide(true);\r\n\t\telse\r\n\t\t\tthis.show();\r\n\t\treturn !!value;\r\n\t},\r\n\t_animate:{\r\n\t\tleft: {\r\n\t\t\tbeforeShow: function(state){\r\n\t\t\t\tthis.$view.style.left = -state.width+\"px\";\r\n\t\t\t\tthis.$view.style.top = state.top+\"px\";\r\n\t\t\t},\r\n\t\t\tshow: function(){\r\n\t\t\t\tthis.$view.style.left = \"0px\";\r\n\t\t\t},\r\n\t\t\thide: function(state){\r\n\t\t\t\tthis.$view.style.left = -state.width+\"px\";\r\n\t\t\t}\r\n\t\t},\r\n\t\tright: {\r\n\t\t\tbeforeShow: function(state){\r\n\t\t\t\tthis.$view.style.left = \"auto\";\r\n\t\t\t\tthis.$view.style.right = -state.width+\"px\";\r\n\t\t\t\tthis.$view.style.top = state.top+\"px\";\r\n\t\t\t},\r\n\t\t\tshow: function(){\r\n\t\t\t\tthis.$view.style.right = 0 +\"px\";\r\n\t\t\t},\r\n\t\t\thide: function(state){\r\n\t\t\t\tthis.$view.style.right = -state.width+\"px\";\r\n\t\t\t}\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\tbeforeShow: function(state){\r\n\t\t\t\tthis.setPosition(state.left,state.top);\r\n\t\t\t\tthis.$view.style.height =\"0px\";\r\n\t\t\t\tthis._bodyobj.style.height =\"0px\";\r\n\t\t\t},\r\n\t\t\tshow: function(state){\r\n\t\t\t\tthis.$view.style.height = state.height +\"px\";\r\n\t\t\t\tthis._bodyobj.style.height =state.height+\"px\";\r\n\t\t\t},\r\n\t\t\thide: function(){\r\n\t\t\t\tthis.$view.style.height = \"0px\";\r\n\t\t\t\tthis._bodyobj.style.height = \"0px\";\r\n\t\t\t}\r\n\t\t},\r\n\t\tbottom: {\r\n\t\t\tbeforeShow: function(state){\r\n\t\t\t\tthis.$view.style.left = state.left + \"px\";\r\n\t\t\t\tthis.$view.style.top = \"auto\";\r\n\t\t\t\tvar bottom = (state.bottom != webix.undefined?state.bottom:(state.maxHeight-state.top  -state.height));\r\n\t\t\t\tthis.$view.style.bottom = bottom +\"px\";\r\n\t\t\t\tthis.$view.style.height =\"0px\";\r\n\t\t\t},\r\n\t\t\tshow: function(state){\r\n\t\t\t\tthis.$view.style.height = state.height +\"px\";\r\n\t\t\t},\r\n\t\t\thide: function(){\r\n\t\t\t\tthis.$view.style.height = \"0px\";\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\thide:function(force){\r\n\r\n\t\tif (this.$destructed) return;\r\n\r\n\t\tif (this._settings.modal)\r\n\t\t\tthis._modal_set(false);\r\n\r\n\t\tvar maxWidth = (window.innerWidth||document.documentElement.offsetWidth);\r\n\t\tvar maxHeight = (window.innerHeight||document.documentElement.offsetHeight);\r\n\r\n\t\tif (!force && this._isAnimationSupported() && maxWidth == this._state.maxWidth && maxHeight == this._state.maxHeight){\r\n\t\t\t// call 'hide' animation handler\r\n\t\t\tthis._animate[this._settings.position].hide.call(this, this._state);\r\n\t\t\t// hide popup\r\n\t\t\tvar tid = webix.event(this.$view, webix.env.transitionEnd, webix.bind(function(ev){\r\n\t\t\t\tthis._hide_callback();\r\n\t\t\t\twebix.eventRemove(tid);\r\n\t\t\t},this));\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis._hide_callback();\r\n\t\t}\r\n\r\n\t\tif (this._settings.autofocus){\r\n\t\t\tvar el = document.activeElement;\r\n\t\t\tif (el && this._viewobj && this._viewobj.contains(el)){\r\n\t\t\t\twebix.UIManager.setFocus(this._prev_focus);\r\n\t\t\t\tthis._prev_focus = null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._hide_sub_popups();\r\n\r\n\t}\r\n\r\n}, webix.ui.popup);\r\n\r\n\r\n\r\n(function(){\r\n\r\nwebix.toPNG = function(id, name){\r\n    var defer = webix.promise.defer();\r\n    webix.require(webix.cdn + \"/extras/html2canvas.min.js\", function(){\r\n        var view = webix.$$(id);\r\n        if (view && view.$exportView)\r\n            view = view.$exportView({});\r\n        var node = view ? view.$view : webix.toNode(id);\r\n        var filename = (name||\"data\")+\".png\";\r\n        \r\n        window.html2canvas(node).then(function(canvas) {\r\n            var data = canvas.msToBlob?canvas.msToBlob():canvas.toDataURL(\"image/png\");\r\n            webix.html.download(data, filename);\r\n            canvas.remove();\r\n            defer.resolve();\r\n        });\r\n    });\r\n    return defer;\r\n};\r\n\r\n\r\nwebix.toExcel = function(id, options){\r\n    var defer = webix.promise.defer();\r\n    var view = webix.$$(id);\r\n    options = options || {};\r\n\r\n    if (view.$exportView)\r\n        view = view.$exportView(options);\r\n\r\n    webix.require(webix.cdn + \"/extras/xlsx.core.min.js\", function(){\r\n        options._export_mode = \"excel\";\r\n        \r\n        var scheme = getExportScheme(view, options);\r\n        var result = getExportData(view, options, scheme);\r\n\r\n        var spans  = options.spans ? getSpans(view, options) : [];\r\n        var data   = getExcelData(result, scheme, spans);\r\n\r\n        var wb = { SheetNames:[], Sheets:[]};\r\n        var name = options.name || \"Data\";\r\n        name = name.replace(/[\\*\\?\\:\\[\\]\\\\\\/]/g,\"\").substring(0, 31);\r\n        wb.SheetNames.push(name);\r\n        wb.Sheets[name] = data;\r\n        \r\n        var xls = XLSX.write(wb, {bookType:'xlsx', bookSST:false, type: 'binary'});\r\n        var filename =  (options.filename || name)+\".xlsx\";\r\n\r\n        var blob = new Blob([str2array(xls)], { type: \"application/xlsx\" });\r\n        webix.html.download(blob, filename);\r\n        defer.resolve();\r\n    });\r\n    return defer;\r\n};\r\n\r\nvar font;\r\nwebix.toPDF = function(id, options){\r\n    var defer = webix.promise.defer();\r\n    webix.require(webix.cdn + \"/extras/pdfjs.js\", function(){\r\n        var view = webix.$$(id);\r\n        options = options || {};\r\n\r\n        if (view.$exportView)\r\n            view = view.$exportView(options);\r\n\r\n        options._export_mode = \"pdf\";\r\n        options._export_font = font;\r\n        options.fontName = options.fontName ||\"pt-sans.regular\";\r\n\r\n        var scheme = getExportScheme(view, options);\r\n        var data = getExportData(view, options, scheme);\r\n\r\n        var callback = function(pdf, options){\r\n            var filename = (options.filename || \"data\")+\".pdf\";\r\n            var blob = new Blob([pdf.toString()], { type: \"application/pdf\" });\r\n            webix.html.download(blob, filename);\r\n            defer.resolve();\r\n        };\r\n\r\n        if(options._export_font)\r\n            getPdfData(scheme, data, options, callback);\r\n        else\r\n            pdfjs.load(webix.cdn + \"/extras/\"+options.fontName+\".ttf\", function(err, buf){\r\n                if(err) throw err;\r\n                font = options._export_font = new pdfjs.TTFFont(buf);\r\n                getPdfData(scheme, data, options, callback);\r\n            });\r\n    });\r\n    return defer;\r\n};\r\n\r\n\r\n\r\nfunction getExportScheme(view, options){\r\n    var scheme = [];\r\n    var h_count = 0, f_count = 0;\r\n    var isTable = view.getColumnConfig;\r\n    var columns = options.columns;\r\n    var raw = !!options.rawValues;\r\n\r\n    if (!columns){\r\n        if (isTable){\r\n            columns = view._columns_pull;\r\n        }\r\n        else {\r\n            columns = webix.copy(view.data.pull[view.data.order[0]]);\r\n            for (var key in columns) columns[key] = true;\r\n            delete columns.id;\r\n        }\r\n    }\r\n\r\n    if (options.id)\r\n        scheme.push({ id:\"id\", width:50, header:\" \", template:function(obj){ return obj.id; } });\r\n\r\n    for (var key in columns){\r\n        var column = columns[key];\r\n        if (column.noExport) continue;\r\n\t    \r\n        if (isTable && view._columns_pull[key])\r\n            column = webix.extend(webix.extend({}, column), view._columns_pull[key]);\r\n\r\n        var record = {\r\n            id:         column.id,\r\n            template:   ( (raw ? null : column.template) || function(key){return function(obj){ return obj[key]; };}(key)),\r\n            width:      ((column.width   || 200) * (options._export_mode===\"excel\"?8.43/70:1 )),\r\n            header:     (column.header!==false?(column.header||key)  : \"\")\r\n        };\r\n\r\n        if(typeof record.header === \"string\") record.header = [{text:record.header}];\r\n        else record.header = webix.copy(record.header);\r\n\r\n        for(var i = 0; i<record.header.length; i++){\r\n            record.header[i] = record.header[i]?(record.header[i].contentId?\"\":record.header[i].text):\"\";\r\n        }\r\n        h_count = Math.max(h_count, record.header.length);\r\n\r\n        if(view._settings.footer){\r\n            var footer = column.footer || \"\";\r\n            if(typeof footer == \"string\") footer = [{text:footer}];\r\n            else footer = webix.copy(footer);\r\n            \r\n            for(var i = 0; i<footer.length; i++){\r\n                if(footer[i]) footer[i] = footer[i].contentId?view.getHeaderContent(footer[i].contentId).getValue():footer[i].text;\r\n                else footer[i] = \"\";\r\n            }\r\n            record.footer = footer;\r\n            f_count = Math.max(f_count, record.footer.length);\r\n        }\r\n        \r\n        scheme.push(record);\r\n    }\r\n\r\n    //normalize headers and footers\r\n    for(var i =0; i<scheme.length; i++){\r\n\r\n        var diff = h_count-scheme[i].header.length;\r\n        for(var d=0; d<diff; d++)\r\n            scheme[i].header.push(\"\");\r\n\r\n        if(view._settings.footer){\r\n            diff = f_count-scheme[i].footer.length;\r\n            for(var d=0; d<diff; d++)\r\n                scheme[i].footer.push(\"\");\r\n        }\r\n    }\r\n\r\n    return scheme;\r\n}\r\n\r\nfunction getExportData(view, options, scheme){\r\n    var filterHTML = !!options.filterHTML;\r\n    var htmlFilter = /<[^>]*>/gi;\r\n    var data = [];\r\n    var header, headers;\r\n    if( options.header !== false && scheme.length && options._export_mode === \"excel\"){\r\n        for(var h=0; h < scheme[0].header.length; h++){\r\n            headers = [];\r\n            for (var i = 0; i < scheme.length; i++){\r\n                header = \"\";\r\n                if(scheme[i].header[h])\r\n                    header = scheme[i].header[h];\r\n                if (filterHTML)\r\n\t\t\t\t\theader = header.replace(htmlFilter, \"\");\r\n                headers.push(header);\r\n            }\r\n            data.push(headers);\r\n        }\r\n    }\r\n\r\n    var isTree = (view.data.name == \"TreeStore\");\r\n\r\n    view.data.each(function(item){\r\n        if(item){ //dyn loading\r\n             var line = [];\r\n            for (var i = 0; i < scheme.length; i++){\r\n                var column = scheme[i];\r\n                var cell = column.template(item, view.type, item[column.id], column, i);\r\n                if (!cell && cell !== 0) cell = \"\";\r\n                if (filterHTML && typeof cell === \"string\"){\r\n                    if(isTree)\r\n                        cell = cell.replace(/<div class=.webix_tree_none.><\\/div>/, \" - \");\r\n                    cell = cell.replace(htmlFilter, \"\");\r\n                }\r\n                line.push(cell);\r\n            }\r\n            data.push(line);\r\n        }\r\n    }, view);\r\n\r\n\r\n    if( options.footer !==false ){\r\n        var f_count = scheme[0].footer?scheme[0].footer.length:0;\r\n        for (var f = 0; f < f_count; f++){\r\n            var footers  = [];\r\n            for(var i = 0; i<scheme.length; i++){\r\n                var footer = scheme[i].footer[f];\r\n                if (filterHTML) footer = footer.replace(htmlFilter, \"\");\r\n                footers.push(footer);\r\n            }\r\n            if(options._export_mode === \"excel\") data.push(footers);\r\n        }\r\n    }\r\n\r\n    return data;\r\n}\r\n\r\nfunction getColumnsWidths(scheme){\r\n    var wscols = [];\r\n    for (var i = 0; i < scheme.length; i++)\r\n        wscols.push({ wch: scheme[i].width });\r\n        \r\n    return wscols;\r\n}\r\n\r\nfunction excelDate(date) {\r\n    return Math.round(25569 + date / (24 * 60 * 60 * 1000));\r\n}\r\n\r\nfunction getSpans(view, options){\r\n    var pull = view._spans_pull;\r\n    var spans = [];\r\n\r\n    if(pull){\r\n        //correction for spreadsheet\r\n        var xc = options.xCorrection || 0;\r\n        var yc = options.yCorrection || 0;\r\n        for(var row in pull){\r\n            //{ s:{c:1, r:0}, e:{c:3, r:0} }\r\n            var cols = pull[row];\r\n            for(var col in cols){\r\n                var sc = view.getColumnIndex(col) - xc;\r\n                var sr = view.getIndexById(row) - yc;\r\n                var ec = sc+cols[col][0]-1;\r\n                var er = sr+(cols[col][1]-1);\r\n\r\n                //+1 to exclude excel header\r\n                spans.push({ s:{c:sc, r:sr+1}, e:{c:ec, r:er+1} });\r\n            }\r\n        }\r\n    }\r\n    return spans;\r\n}\r\n\r\nvar table = \"_table\";\r\nfunction getExcelData(data, scheme, spans) {\r\n    var ws = {};\r\n    var range = {s: {c:10000000, r:10000000}, e: {c:0, r:0 }};\r\n    for(var R = 0; R != data.length; ++R) {\r\n        for(var C = 0; C != data[R].length; ++C) {\r\n            if(range.s.r > R) range.s.r = R;\r\n            if(range.s.c > C) range.s.c = C;\r\n            if(range.e.r < R) range.e.r = R;\r\n            if(range.e.c < C) range.e.c = C;\r\n\r\n            var cell = {v: data[R][C] };\r\n            if(cell.v === null) continue;\r\n            var cell_ref = XLSX.utils.encode_cell({c:C,r:R});\r\n\r\n            if(typeof cell.v === 'number') cell.t = 'n';\r\n            else if(typeof cell.v === 'boolean') cell.t = 'b';\r\n            else if(cell.v instanceof Date) {\r\n                cell.t = 'n'; cell.z = XLSX.SSF[table][14];\r\n                cell.v = excelDate(cell.v);\r\n            }\r\n            else cell.t = 's';\r\n\r\n            ws[cell_ref] = cell;\r\n        }\r\n    }\r\n    if(range.s.c < 10000000) ws['!ref'] = XLSX.utils.encode_range(range);\r\n\r\n    ws['!cols'] = getColumnsWidths(scheme);\r\n    if(spans.length)\r\n        ws[\"!merges\"] = spans;\r\n    return ws;\r\n}\r\n\r\nfunction str2array(s) {\r\n    var buf = new ArrayBuffer(s.length);\r\n    var view = new Uint8Array(buf);\r\n    for (var i=0; i!=s.length; ++i) view[i] = s.charCodeAt(i) & 0xFF;\r\n    return buf;\r\n}\r\n\r\nfunction getPdfData(scheme, data, options, callback){\r\n\r\n\r\n    options.header = (webix.isUndefined(options.header) || options.header === true) ? {} : options.header;\r\n    options.footer = (webix.isUndefined(options.footer) || options.footer === true) ? {} : options.footer;\r\n    options.table = options.table || {};\r\n\r\n    var width = options.width||595.296, height = options.height || 841.896;// default A4 size\r\n\r\n    if(options.orientation && options.orientation ===\"landscape\")\r\n        height = [width, width = height][0];\r\n\r\n    if(options.autowidth){\r\n        width = 80; //paddings\r\n        for(var i = 0; i<scheme.length; i++)\r\n            width += scheme[i].width;\r\n    }\r\n        \r\n    var doc = new pdfjs.Document({\r\n        padding: 40,\r\n        font: options._export_font,\r\n        threshold:256,\r\n        width:width,\r\n        height:height\r\n    });\r\n\r\n\r\n    //render table\r\n    var h_count = options.header === false ? 0: scheme[0].header.length;\r\n    var f_count = (options.footer === false || !scheme[0].footer) ? 0: scheme[0].footer.length;\r\n    \r\n    var colWidths = [];\r\n    for(var i = 0; i<scheme.length; i++)\r\n        colWidths[i] = scheme[i].width;\r\n\r\n    var tableOps = webix.extend(options.table, {\r\n        borderWidth: 1,height:20, lineHeight:1.1,\r\n        borderColor: 0xEEEEEE, backgroundColor: 0xFFFFFF, color:0x666666,\r\n        textAlign:\"left\", paddingRight:10, paddingLeft:10,\r\n        headerRows:h_count, widths: colWidths.length?colWidths:[\"100%\"]\r\n    });\r\n\r\n    var table = doc.table(tableOps);\r\n\r\n    //render table header\r\n    if(h_count){\r\n        var headerOps = webix.extend(options.header, {\r\n            borderRightColor:0xB0CEE3, borderBottomColor:0xB0CEE3,\r\n            color:0x4A4A4A, backgroundColor:0xD2E3EF,\r\n            height:27, lineHeight:1.2\r\n        });\r\n\r\n        for(var i = 0; i<h_count; i++){\r\n            var header = table.tr(headerOps);\r\n            for(var s=0; s<scheme.length; s++)\r\n                header.td(scheme[s].header[i].toString());\r\n        }\r\n    }\r\n    \r\n    //render table data\r\n    for(var r=0; r<data.length;r++){\r\n        var row = table.tr({});\r\n        for(var c=0; c< data[r].length; c++)\r\n            row.td(data[r][c]);\r\n    }\r\n\r\n    //render table footer\r\n    if(f_count){\r\n        var footerOps = webix.extend(options.footer, {\r\n            borderRightColor:0xEEEEEE, borderBottomColor:0xEEEEEE,\r\n            backgroundColor: 0xFAFAFA, color:0x666666,\r\n            height:27, lineHeight:1.2\r\n        });\r\n\r\n        for(var i = 0; i<f_count; i++){\r\n            var footer = table.tr(footerOps);\r\n            for(var s=0; s<scheme.length; s++)\r\n                footer.td(scheme[s].footer[i].toString());\r\n        }\r\n    }\r\n\r\n    //doc footer\r\n    if(options.docFooter !== false){\r\n        var ft = doc.footer();\r\n        ft.text({\r\n            color: 0x666666, textAlign:\"center\"\r\n        }).append((webix.i18n.dataExport.page||\"Page\")).pageNumber().append(\"  \"+(webix.i18n.dataExport.of || \"of\")+\"  \").pageCount();\r\n    }\r\n    \r\n\r\n    //doc header, configurable\r\n    if(options.docHeader){\r\n        if(typeof options.docHeader == \"string\") options.docHeader = {text:options.docHeader};\r\n        var docHeaderOps = webix.extend(options.docHeader, {\r\n            color: 0x666666, textAlign:\"right\"\r\n        });\r\n\r\n        var hd = doc.header({paddingBottom:10});\r\n        hd.text(docHeaderOps.text, docHeaderOps);\r\n    }\r\n\r\n    if (options.docHeaderImage){\r\n        if(typeof options.docHeaderImage == \"string\") options.docHeaderImage = {url:options.docHeaderImage};\r\n        var hd = doc.header({paddingBottom:10});\r\n        var docImageOps = webix.extend(options.docHeaderImage, {\r\n            align:\"right\"\r\n        });\r\n\r\n        pdfjs.load(options.docHeaderImage.url, function(err, buffer){\r\n            if (!err){\r\n                var img = new pdfjs.Image(buffer);\r\n                var image = hd.image(img, docImageOps);\r\n            }\r\n            //render pdf and show in browser\r\n            var pdf = doc.render();\r\n            callback(pdf, options);\r\n        });\r\n    }\r\n    else{\r\n        //render pdf and show in browser\r\n        var pdf = doc.render();\r\n        callback(pdf, options);\r\n    }\r\n}\r\n\r\n})();\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webix/webix_debug.js\n// module id = 11\n// module chunks = 2","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"img {\\n  border: none;\\n}\\n.webix_icon_button {\\n  position: relative;\\n}\\n.webix_layout_toolbar.webix_toolbar .webix_el_icon .webix_icon {\\n  height: 100%;\\n  width: 100%;\\n  line-height: inherit;\\n}\\n.webix_icon_count {\\n  background-color: #eb6e1a;\\n  border-radius: 50%;\\n  font-size: 12px;\\n  height: 22px;\\n  min-width: 22px;\\n  line-height: 17px;\\n  box-sizing: border-box;\\n  -moz-box-sizing: boder-box;\\n  -webkit-box-sizing: boder-box;\\n  padding: 0 4px;\\n  text-align: center;\\n  line-height: 22px;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n}\\n.header_person {\\n  background: transparent !important;\\n}\\n.header_person .webix_template {\\n  padding: 0;\\n  line-height: 46px;\\n}\\n.header_person .photo {\\n  width: 38px;\\n  height: 38px;\\n  float: left;\\n  margin-top: 5px;\\n  -moz-border-radius: 50%;\\n  -ms-border-radius: 50%;\\n  border-radius: 50%;\\n}\\n.header_person span {\\n  color: #fff;\\n  float: left;\\n  padding-left: 7px;\\n}\\n.header_person .webix_icon {\\n  line-height: inherit;\\n}\\n.menu .webix_tree_item {\\n  height: 40px;\\n  line-height: 40px;\\n}\\n.webix_tree .webix_scroll_cont > .webix_tree_leaves {\\n  padding: 0;\\n}\\n.menu.webix_view {\\n  background: #f1f1f1 !important;\\n}\\n.menu .webix_tree_item.webix_selected,\\n.menu .webix_tree_item.webix_selected span {\\n  background-color: #27ae60;\\n  padding-right: 0;\\n}\\n.menu .webix_tree_branch_1 .webix_tree_item {\\n  /*padding-left:10px;*/\\n  padding-left: 24px;\\n  padding-right: 10px;\\n}\\n.menu .webix_tree_branch_1 > .webix_tree_item {\\n  /*padding: 5px 12px;*/\\n  padding: 5px 0 4px 0;\\n  line-height: 40px;\\n  /*font-size: 12px;\\n\\ttext-transform: uppercase;*/\\n}\\n.menu .webix_tree_branch_1 {\\n  border-bottom: 1px solid #e5e5e5;\\n}\\n.menu .webix_tree_item.webix_selected span,\\n.menu .webix_tree_item span {\\n  margin: 0;\\n  padding: 1px;\\n}\\n.menu .webix_tree_item.webix_selected .webix_icon {\\n  color: #fff;\\n}\\n.menu .webix_icon {\\n  width: 25px;\\n  padding-left: 12px !important;\\n  text-align: center;\\n}\\n.menu .dashboard .webix_icon {\\n  font-size: 18px;\\n}\\n.menu .webix_tree_leaves .webix_tree_leaves {\\n  margin-left: 0px;\\n}\\n.list_popup .webix_list_item {\\n  position: relative;\\n  line-height: 36px;\\n}\\n.list_popup .photo {\\n  width: 34px;\\n  height: 34px;\\n  border-radius: 50%;\\n  float: left;\\n  padding-top: 3px;\\n}\\n.list_popup .text {\\n  padding-left: 10px;\\n  display: inline-block;\\n  max-width: 180px;\\n  overflow: hidden;\\n}\\n.list_popup .name {\\n  color: #3498db;\\n  font-size: 12px;\\n  display: block;\\n  font-style: italic;\\n  overflow: hidden;\\n  padding: 0 2px 0 4px;\\n  position: absolute;\\n  right: 10px;\\n  background: #fff;\\n  top: 3px;\\n}\\n.extended_search {\\n  color: #3498db;\\n  padding: 5px 10px;\\n  line-height: 30px;\\n}\\n.extended_search span {\\n  cursor: pointer;\\n}\\n.show_all {\\n  background-color: #fbfbfb;\\n}\\n.show_all .webix_template {\\n  line-height: 30px;\\n  padding: 5px 10px;\\n}\\n.show_all .webix_template .webix_icon {\\n  line-height: 30px;\\n  float: right;\\n}\\n.webix_layout_space,\\n.webix_layout_wide,\\n.webix_view.webix_layout_accordion {\\n  background-color: #f4f4f4;\\n}\\n.title {\\n  background-color: #fbfbfb;\\n}\\n.title .webix_template {\\n  padding: 10px 12px;\\n  line-height: 29px;\\n}\\n.title .header {\\n  float: left;\\n  font-size: 18px;\\n}\\n.title .details {\\n  float: left;\\n  font-size: 13px;\\n  font-style: italic;\\n  padding-left: 10px;\\n}\\n.sub_title .webix_template {\\n  padding-left: 12px;\\n  padding-top: 12px;\\n}\\n.sub_title .webix_icon {\\n  padding-right: 7px;\\n}\\n.sub_title2 .webix_icon {\\n  padding-right: 5px;\\n}\\n.tasks_list .webix_list_item:last-child {\\n  border-bottom: none;\\n}\\n.tasks_list .done .list_text {\\n  text-decoration: line-through;\\n}\\n.tasks_list .done .list_text {\\n  text-decoration: line-through;\\n}\\n.tasks_list .marker {\\n  padding: 1px 1px;\\n  font-size: 10px;\\n  border-radius: 3px;\\n  margin-left: 10px;\\n}\\n.tasks_list .marker.projects {\\n  color: #fff;\\n  margin-top: 7px;\\n  background-color: #eb6e1a;\\n}\\n.tasks_list .marker.company {\\n  color: #fff;\\n  margin-top: 7px;\\n  background-color: #27ae60;\\n}\\n.tasks_list .fa-square-o {\\n  color: #888;\\n}\\n.show_all.webix_layout_form {\\n  background: #fbfbfb;\\n}\\n.chat_list .webix_list_item {\\n  border-color: #fff;\\n}\\n.chat_list .webix_list_item:last-child {\\n  border-bottom: none;\\n}\\n.chat_list .name {\\n  color: #3498db;\\n  font-size: 13px;\\n  display: block;\\n  line-height: 16px;\\n  font-weight: 700;\\n}\\n.chat_list .photo {\\n  width: 42px;\\n  height: 42px;\\n  margin-top: 10px;\\n  -moz-border-radius: 50%;\\n  -ms-border-radius: 50%;\\n  border-radius: 50%;\\n}\\n.chat_list .text {\\n  border-left: 2px solid #49cd81;\\n  display: block;\\n  background-color: #fbfbfb;\\n  margin-top: -55px;\\n  margin-left: 60px;\\n  padding: 10px;\\n  line-height: 21px;\\n  font-size: 14px;\\n}\\n.chat_list .time {\\n  display: inline-block;\\n  font-weight: 400;\\n  color: #666666;\\n  padding: 0 10px;\\n}\\n.chat_list .webix_list_item:nth-child(even) .text {\\n  text-align: right;\\n  border-left: none;\\n  border-right: 2px solid #f19b60;\\n  margin-left: 0px;\\n  margin-top: 5px;\\n  margin-right: 60px;\\n}\\n.chat_list .webix_list_item:nth-child(even) .photo {\\n  float: right;\\n}\\n.tiles {\\n  background: #f4f4f4;\\n}\\n.tiles .webix_template {\\n  margin-top: 8px;\\n  padding: 0 5px 0 5px;\\n}\\n.flex_tmp {\\n  display: -webkit-box;\\n  display: -moz-box;\\n  display: -ms-flexbox;\\n  display: -webkit-flex;\\n  display: flex;\\n  flex-flow: row wrap;\\n  -webkit-flex-flow: row wrap;\\n  justify-content: space-around;\\n}\\n.flex_tmp .item {\\n  border-radius: 3px;\\n  position: relative;\\n  min-width: 150px;\\n  height: 105px;\\n  padding-top: 10px;\\n  margin: 11px 5.5px 0px 5.5px;\\n  color: #fff;\\n  -ms-box-flex: 1;\\n  -webkit-box-flex: 1;\\n  -moz-box-flex: 1;\\n  /* Firefox 19- */\\n  -ms-flex: 1 auto;\\n  /* TWEENER - IE 10 */\\n  -webkit-flex: 1 auto;\\n  /* NEW - Chrome */\\n  flex: 1 auto;\\n}\\n.flex_tmp .item .icon {\\n  padding-left: 10px;\\n  height: 73px;\\n  padding-top: 7px;\\n  display: block;\\n  width: 30%;\\n  font-size: 77px;\\n  color: rgba(255, 255, 255, 0.17);\\n}\\n.flex_tmp .item .details {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  width: 150px;\\n}\\n.flex_tmp .item .value {\\n  font-size: 27px;\\n  text-align: right;\\n}\\n.flex_tmp .item .text {\\n  width: 100%;\\n  font-size: 18px;\\n  text-align: right;\\n}\\n.tiles .orders {\\n  background-color: #a693eb;\\n}\\n.tiles .users {\\n  background-color: #63b4ea;\\n}\\n.tiles .item.profit {\\n  background-color: #49cd81;\\n}\\n.tiles .feedbacks {\\n  background-color: #f19b60;\\n}\\n.flex_tmp .footer {\\n  height: 25px;\\n  text-align: center;\\n  line-height: 25px;\\n  font-size: 13px;\\n  background: rgba(0, 0, 0, 0.05);\\n}\\n.flex_tmp .footer .webix_icon {\\n  font-size: 14px;\\n}\\n.revenue_chart {\\n  background: #b4c6d2;\\n}\\n.revenue_chart .webix_canvas_text {\\n  color: #fff;\\n  font-size: 11px;\\n}\\n.donut_titles .webix_template {\\n  text-align: center;\\n  font-size: 13px;\\n}\\n.donut_result .webix_canvas_text {\\n  left: 50% !important;\\n  top: 50% !important;\\n  margin-top: -9px;\\n  margin-left: -7px;\\n}\\n.webix_view .defaultSimpleSkin table.mceLayout {\\n  border: none;\\n}\\n/*ckeditor*/\\n.webix_view .cke_reset {\\n  border-color: #ccc;\\n}\\n.webix_view .cke_top {\\n  background: #fafafa;\\n  background-image: none;\\n  border-color: #ddd;\\n}\\n.webix_view .cke_toolgroup {\\n  background: #fafafa;\\n  background-image: none;\\n  border-color: #ccc;\\n}\\n.webix_view .cke_button:hover {\\n  background: #f4f4f4;\\n  background-image: none;\\n}\\n.webix_view .cke_button_on {\\n  background: #ddd;\\n}\\n.webix_view .cke_button_on.cke_button:hover {\\n  background: #ddd;\\n}\\n.rating_bar_element {\\n  background-image: url(\" + require(\"./stars.gif\") + \");\\n  width: 80px;\\n  height: 16px;\\n  margin-top: 7px;\\n  position: relative;\\n}\\n.rating_bar_element.star1 {\\n  background-position: 0 -16px;\\n}\\n.rating_bar_element.star2 {\\n  background-position: 0 -32px;\\n}\\n.rating_bar_element.star3 {\\n  background-position: 0 -48px;\\n}\\n.rating_bar_element.star4 {\\n  background-position: 0 -64px;\\n}\\n.rating_bar_element.star5 {\\n  background-position: 0 -80px;\\n}\\n.rating_star:hover {\\n  z-index: 2;\\n  position: absolute;\\n  width: 80px;\\n  height: 16px;\\n  overflow: hidden;\\n  left: 0px !important;\\n  background-image: url(\" + require(\"./stars.gif\") + \");\\n}\\n.rating_star.star1:hover {\\n  background-position: 0 -96px;\\n}\\n.rating_star.star2:hover {\\n  background-position: 0 -112px;\\n}\\n.rating_star.star3:hover {\\n  background-position: 0 -128px;\\n}\\n.rating_star.star4:hover {\\n  background-position: 0 -144px;\\n}\\n.rating_star.star5:hover {\\n  background-position: 0 -160px;\\n}\\n.rating_star {\\n  z-index: 3;\\n  position: absolute;\\n  width: 16px;\\n  height: 16px;\\n  top: 0px;\\n  float: left;\\n  cursor: pointer;\\n}\\n.webix_view.webix_pager {\\n  box-sizing: border-box;\\n  -moz-box-sizing: border-box;\\n  -webkit-box-sizing: border-box;\\n}\\n.highlight_row {\\n  background-color: #edf4f9;\\n  font-weight: bold;\\n}\\n.progress_bar_element {\\n  background-color: #f5f5f5;\\n  border-radius: 4px;\\n  width: 100%;\\n  height: 6px;\\n  -webkit-box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);\\n  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);\\n  margin-top: 16px;\\n  float: left;\\n  overflow: hidden;\\n  cursor: pointer;\\n}\\n.progress_result {\\n  height: 100%;\\n  float: left;\\n  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);\\n  background: #eb6e1a;\\n}\\n.progress_result.inner {\\n  background: #a693eb;\\n}\\n.progress_result.company {\\n  background: #49cd81;\\n}\\n.webix_view .dhx_scale_holder_now {\\n  background-image: url(\" + require(\"./imgs/databg.png\") + \");\\n}\\n.webix_view .dhx_now .dhx_month_head {\\n  background-color: #fff8c4;\\n}\\n.webix_view .dhx_now .dhx_month_body {\\n  background-color: #fff8c4;\\n}\\n.webix_view .dhx_cal_tab.active {\\n  background-color: #f0f5f9;\\n  box-shadow: inset 0 2px #eee;\\n  -webkit-box-shadow: inset 0 2px #eee;\\n}\\n.webix_view .dhx_cal_event_line {\\n  background-color: #63b4ea;\\n}\\n.webix_view .dhx_cal_event_line.other {\\n  background-color: #27ae60;\\n}\\n.dhx_cal_event .dhx_header,\\n.dhx_cal_event .dhx_footer,\\n.dhx_cal_event .dhx_body,\\n.dhx_cal_event .dhx_title {\\n  background-color: #63b4ea !important;\\n}\\n.dhx_cal_event_clear.other {\\n  color: #1c6d3e;\\n}\\n.other.dhx_cal_event .dhx_header,\\n.other.dhx_cal_event .dhx_footer,\\n.other.dhx_cal_event .dhx_body,\\n.other.dhx_cal_event .dhx_title {\\n  background-color: #27ae60 !important;\\n}\\n.calendar_icon {\\n  display: block;\\n  height: 14px;\\n  width: 14px;\\n  border-radius: 4px;\\n  float: left;\\n  margin-top: 6px;\\n  margin-right: 5px;\\n  background: #63b4ea;\\n  border: 1px solid #63b4ea;\\n}\\n.calendar_icon.company {\\n  background: #27ae60;\\n  border-color: #27ae60;\\n}\\n.webix_view .dhx_cal_navline .dhx_cal_date {\\n  font-size: 15px;\\n}\\n.calendar_list .webix_list_item {\\n  border-bottom-color: #fff;\\n  padding-left: 2px;\\n  padding-right: 2px;\\n}\\n.calendar_list .disabled .calendar_icon {\\n  background: #fff;\\n  border-color: #ddd;\\n}\\n.calendar_list .disabled.webix_list_item {\\n  color: #aaa;\\n}\\n.sub_title2 {\\n  background: transparent !important;\\n}\\n.highlighted_header.header1 {\\n  background-color: #a693eb !important;\\n}\\n.webix_toolbar.highlighted_header .webix_template {\\n  color: #fff !important;\\n}\\n.webix_toolbar.highlighted_header .webix_template .webix_icon {\\n  color: #fff !important;\\n}\\n.highlighted_header.header2 {\\n  background-color: #f19b60 !important;\\n}\\n.highlighted_header.header3 {\\n  background-color: #63b4ea !important;\\n}\\n.highlighted_header.header4 {\\n  background-color: #49cd81 !important;\\n}\\n.highlighted_header.header5 {\\n  background-color: #a4b4bf !important;\\n}\\n.highlighted_header.header6 {\\n  background-color: #fbfbfb !important;\\n}\\n.highlighted_header .webix_el_icon .webix_icon {\\n  font-size: 17px;\\n}\\n.webix_dtable .webix_icon {\\n  color: #777;\\n}\\n.webix_row_select .webix_icon {\\n  color: #fff;\\n}\\n.webix_dtable .status {\\n  padding: 2px 5px;\\n  font-size: 12px;\\n  border-radius: 3px;\\n  color: #fff;\\n}\\n.status0 {\\n  background-color: #eb6e1a;\\n}\\n.status1 {\\n  background-color: #27ae60;\\n}\\n.status2 {\\n  background-color: #a693eb;\\n}\\n.webix_list .marker {\\n  float: left;\\n  height: 10px;\\n  width: 10px;\\n  border-radius: 50%;\\n  margin-top: 10px;\\n  margin-right: 5px;\\n}\\n.button0.webix_el_button .webixtype_base {\\n  background-color: #eb6e1a;\\n  border-color: #eb6e1a;\\n  border-bottom-color: #c45c16;\\n}\\n.button2.webix_el_button .webixtype_base {\\n  background-color: #a693eb;\\n  border-color: #a693eb;\\n  border-bottom-color: #8878c1;\\n}\\n.product_image_action {\\n  cursor: pointer;\\n}\\n.product_image.webix_icon {\\n  color: #aaa;\\n  width: 100%;\\n  font-size: 50px;\\n  line-height: 80px;\\n  text-align: center;\\n}\\n.webix_tree.file .folder_title {\\n  float: left;\\n  padding: 0 6px 0 3px;\\n  width: auto;\\n}\\n.webix_tree.file .webix_selected .folder_title {\\n  background-color: #27ae60;\\n}\\n.webix_tree.file .webix_selected .folder_title .icon {\\n  color: #fff;\\n}\\n.webix_tree.file .folder_title .icon {\\n  margin-left: 0;\\n  color: #63b4ea;\\n  padding-left: 4px;\\n  padding-right: 4px;\\n}\\n.webix_tree.file .icon {\\n  padding-right: 0;\\n}\\n.webix_tree.file .webix_tree_branch_1 {\\n  padding: 7px;\\n}\\n.webix_tree.file .webix_tree_item {\\n  padding: 1px 0;\\n}\\n.webix_dataview_item.files {\\n  text-align: center;\\n  font-size: 14px;\\n  line-height: 20px;\\n  border-color: #fff;\\n  border-right-color: #fff;\\n  margin: 5px;\\n}\\n.webix_dataview_item.files .webix_icon {\\n  padding-top: 10px;\\n  width: 30px;\\n  padding-bottom: 5px;\\n  font-size: 30px;\\n}\\n.webix_dataview_item.files.webix_selected .webix_icon {\\n  color: #fff !important;\\n}\\n.webix_dataview_item.files .folder .webix_icon {\\n  color: #63b4ea;\\n}\\n.webix_dataview_item.files .pp .webix_icon {\\n  color: #eb6e1a;\\n}\\n.webix_dataview_item.files .ex .webix_icon {\\n  color: #27ae60;\\n}\\n.webix_dataview_item.files .doc .webix_icon {\\n  color: #63b4ea;\\n}\\n.webix_dataview_item.files .img .webix_icon {\\n  color: #eb6e1a;\\n}\\n.webix_dataview_item.files .video .webix_icon {\\n  color: #a693eb;\\n}\\n.slider1 .webix_slider_left {\\n  background-color: #eb6e1a;\\n}\\n.slider2 .webix_slider_left {\\n  background-color: #27ae60;\\n}\\n.slider3 .webix_slider_left {\\n  background-color: #a693eb;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/less-loader!./src/assets/theme.siberia.less\n// module id = 14\n// module chunks = 2","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\r\\n@license\\r\\nwebix UI v.4.0.0\\r\\nThis software is allowed to use under GPL or you need to obtain Commercial License \\r\\n to use it in non-GPL project. Please contact sales@webix.com for details\\r\\n*/\\r\\n.webix_view{font-family:'PT Sans',Tahoma;font-size:15px;color:#666;cursor:default;overflow:hidden;border:0 solid #ddd;background-color:#fff;white-space:normal;-webkit-appearance:none}\\r\\n.webix_view.webix_form{background-color:#fff}\\r\\nbody{-webkit-tap-highlight-color:transparent!important}\\r\\n.webix_inp_static,button,input,select,textarea{outline:0}\\r\\n.webix_abslayout{position:relative}\\r\\n.webix_abslayout>.webix_view{position:absolute}\\r\\n.webix_layout_space,.webix_layout_wide{background-color:#ddd}\\r\\n.webix_layout_accordion,.webix_layout_clean,.webix_layout_line,.webix_multiview{background:0 0}\\r\\n.webix_overlay{width:100%;height:100%;position:absolute;z-index:10;text-align:center;padding-top:10px}\\r\\n.webix_view>.webix_disabled{width:100%;height:100%;position:absolute;top:0;left:0;background-color:#ddd;opacity:.4;filter:alpha(opacity=40);z-index:1}\\r\\n.webix_disabled_view{overflow:hidden!important}\\r\\nbody.webix_full_screen{margin:0;padding:0;overflow:hidden}\\r\\n.webix_noselect,.webix_noselect div{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}\\r\\n.webix_selectable{-moz-user-select:text;-webkit-user-select:text;user-select:text}\\r\\n.webix_template{height:100%;padding:5px;padding-left:5px 2px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webix_clean{background:0 0}\\r\\n.webix_clean .webix_template{padding:0}\\r\\n.webix_section{padding-left:30px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:transparent;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAUCAIAAADDbMD2AAAABnRSTlMA/wD/AP83WBt9AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAHElEQVR4nGP4//8/EwMDA158/vx5BmLUMTAwAADGhQiMQPqPwgAAAABJRU5ErkJggg==);background-repeat:repeat-x;background-position:11.25px;color:#444;font-size:10px;text-transform:uppercase;line-height:45px}\\r\\n.webix_section>.webix_template{padding:0 8px;background-color:#fff;display:inline}\\r\\n.webix_layout_space>.webix_section>.webix_template,.webix_layout_wide>.webix_section>.webix_template{padding:0 8px;background-color:#ddd}\\r\\n.webix_layout_clean>.webix_section>.webix_template,.webix_layout_line>.webix_section>.webix_template{padding:0 8px;background-color:#fff}\\r\\n.webix_header>div{padding-left:10px;color:#fff;font-size:18px;background:#3498db;line-height:43px;line-height:45px;padding-top:0;padding-bottom:0}\\r\\n.webix_header>div .webix_el_button,.webix_header>div .webix_el_label,.webix_header>div .webix_inp_label{color:#fff}\\r\\n.webix_header>div .webix_el_label{font-size:18px}\\r\\n.webix_header>div .webix_inp_counter_next,.webix_header>div .webix_inp_counter_prev,.webix_header>div .webix_segment_0,.webix_header>div .webix_segment_1,.webix_header>div .webix_segment_N,.webix_header>div .webixtype_base,.webix_header>div .webixtype_next,.webix_header>div .webixtype_prev{border-color:#d9d9d9;background-color:transparent;color:#fff}\\r\\n.webix_header>div .webix_el_arrow.webixtype_next_arrow{border-left:none;border-bottom:none}\\r\\n.webix_header>div .webix_el_arrow.webixtype_prev_arrow{border-right:none;border-bottom:none}\\r\\n.webix_header>div .webix_inp_counter_next:hover,.webix_header>div .webix_inp_counter_prev:hover,.webix_header>div .webix_segment_0:hover,.webix_header>div .webix_segment_1:hover,.webix_header>div .webix_segment_N:hover,.webix_header>div .webixtype_base:hover{color:#fff;background-color:rgba(0,0,0,.05)}\\r\\n.webix_header>div .webix_inp_counter_next:active,.webix_header>div .webix_inp_counter_prev:active,.webix_header>div .webix_segment_0:active,.webix_header>div .webix_segment_1:active,.webix_header>div .webix_segment_N:active,.webix_header>div .webixtype_base:active{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_header>div .webix_inp_counter_next:focus,.webix_header>div .webix_inp_counter_prev:focus,.webix_header>div .webix_segment_0:focus,.webix_header>div .webix_segment_1:focus,.webix_header>div .webix_segment_N:focus,.webix_header>div .webixtype_base:focus{background-color:rgba(0,0,0,.07);color:#fff}\\r\\n.webix_header>div .webix_inp_static,.webix_header>div input[type=text]{border-color:#fff}\\r\\n.webix_header>div .webix_inp_static:focus,.webix_header>div input[type=text]:focus{border-color:#fff;box-shadow:none}\\r\\n.webix_header>div .webix_input_icon{border-color:#d9d9d9;background-color:transparent;color:#666}\\r\\n.webix_header>div .webix_input_icon:active,.webix_header>div .webix_input_icon:focus,.webix_header>div .webix_input_icon:hover{background-color:transparent;color:#666}\\r\\n.webix_header>div .webix_pressed .webix_el_arrow,.webix_header>div .webix_pressed .webix_inp_counter_next,.webix_header>div .webix_pressed .webix_inp_counter_prev,.webix_header>div .webix_pressed .webix_input_icon,.webix_header>div .webix_pressed .webix_segment_0,.webix_header>div .webix_pressed .webix_segment_1,.webix_header>div .webix_pressed .webix_segment_N,.webix_header>div .webix_pressed .webixtype_base,.webix_header>div .webix_pressed .webixtype_next,.webix_header>div .webix_pressed .webixtype_prev{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_header>div .webix_selected.webix_segment_0,.webix_header>div .webix_selected.webix_segment_1,.webix_header>div .webix_selected.webix_segment_N{border-color:#d9d9d9;background-color:#27ae60;color:#fff}\\r\\n.webix_header>div .webix_selected.webix_segment_0:hover,.webix_header>div .webix_selected.webix_segment_1:hover,.webix_header>div .webix_selected.webix_segment_N:hover{background-color:#24a259}\\r\\n.webix_header>div .webix_selected.webix_segment_0:active,.webix_header>div .webix_selected.webix_segment_0:focus,.webix_header>div .webix_selected.webix_segment_1:active,.webix_header>div .webix_selected.webix_segment_1:focus,.webix_header>div .webix_selected.webix_segment_N:active,.webix_header>div .webix_selected.webix_segment_N:focus{background-color:#295}\\r\\n.webix_header>div .webix_segment_1,.webix_header>div .webix_segment_N,.webix_header>div .webix_selected.webix_segment_1,.webix_header>div .webix_selected.webix_segment_N{margin-left:0;border-left:none}\\r\\n.webix_header>div .webix_img_btn:active,.webix_header>div .webix_img_btn_top:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_header>div .webix_img_btn:focus,.webix_header>div .webix_img_btn_top:focus{background-color:#2489cc}\\r\\n.webix_header>div .webix_img_btn:hover,.webix_header>div .webix_img_btn_top:hover{background-color:#268fd5}\\r\\n.webix_header>div .webix_icon_button{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_header>div .webix_el_icon,.webix_header>div .webix_icon_btn,.webix_header>div .webix_icon_button,.webix_header>div .webix_img_btn,.webix_header>div .webix_img_btn_abs,.webix_header>div .webix_img_btn_abs .webix_icon,.webix_header>div .webix_img_btn_abs .webix_img_btn_text,.webix_header>div .webix_img_btn_top .webix_icon,.webix_header>div .webix_img_btn_top .webix_img_btn_text{color:#fff}\\r\\n.webix_header>div .webix_el_box .webix_img_btn_abs:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_header>div .webix_el_icon .webix_icon_button:focus{background-color:rgba(0,0,0,.07)}\\r\\n.webix_header>div .webix_el_box .webix_img_btn_abs:hover,.webix_header>div .webix_el_icon .webix_icon_button:hover{background-color:rgba(0,0,0,.05)}\\r\\n.webix_header>div .webix_control{border-color:#3498db}\\r\\n.webix_header>div .webix_icon_button .webix_icon{font-size:23px;height:27px;width:27px;color:#fff}\\r\\n.webix_header>div .webix_img_btn,.webix_header>div .webix_img_btn_top{border-width:0}\\r\\n.webix_spacer{background:0 0}\\r\\n.webix_view_animate{position:relative;width:100%;height:100%}\\r\\nx\\\\:ui{display:none}\\r\\n.webix_flexlayout{display:flex!important;flex-wrap:wrap;flex-direction:row;overflow:hidden;box-sizing:border-box}\\r\\n.webix_flexlayout>div{display:block!important}\\r\\n.webix_view_align{background:0 0}\\r\\n.webix_resize_area{position:absolute;top:0;left:0;width:100%;height:100%}\\r\\n.webix_resize_handle_x .webix_handle_content,.webix_resize_handle_y .webix_handle_content{width:100%;height:100%;background:rgba(100,100,100,.1);border:1px dotted #ebebeb}\\r\\n.webix_resize_handle_x{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;cursor:e-resize;width:1px;height:100%;position:absolute;z-index:2;top:0}\\r\\n.webix_resize_handle_x .webix_handle_content{border-width:0 1px}\\r\\n.webix_resize_origin_x{cursor:e-resize;width:3px;height:100%;position:absolute;z-index:2;top:0}\\r\\n.webix_resize_handle_y{cursor:n-resize;height:1px;width:100%;position:absolute;z-index:2;left:0}\\r\\n.webix_resize_handle_y .webix_handle_content{border-width:1px 0}\\r\\n.webix_resize_origin_y{cursor:n-resize;height:3px;width:100%;position:absolute;z-index:2;left:0}\\r\\n.webix_resizer.webix_disabled_view{cursor:default}\\r\\n.webix_resizer_vy{cursor:n-resize;margin-top:0!important;border:0!important;padding:0!important;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAADAQMAAABCowZuAAAABlBMVEUAAACkvtSA7tmIAAAAAXRSTlMAQObYZgAAAA9JREFUCB1jXMUABoxAGgAJaAFXPIkJqAAAAABJRU5ErkJggg==) center center no-repeat}\\r\\n.webix_resizer_vx{cursor:e-resize;margin-left:0!important;border:0!important;padding:0!important;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAXAQMAAAD0oWdxAAAABlBMVEUAAACkvtSA7tmIAAAAAXRSTlMAQObYZgAAAA5JREFUeF5jWMDAQDwGAKyuB4FpGQdzAAAAAElFTkSuQmCC) center center no-repeat}\\r\\n.webix_resizer_y{cursor:n-resize;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAADAQMAAABCowZuAAAABlBMVEUAAACkvtSA7tmIAAAAAXRSTlMAQObYZgAAAA9JREFUCB1jXMUABoxAGgAJaAFXPIkJqAAAAABJRU5ErkJggg==) center center no-repeat #fff}\\r\\n.webix_resizer_x{cursor:e-resize;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAXAQMAAAD0oWdxAAAABlBMVEUAAACkvtSA7tmIAAAAAXRSTlMAQObYZgAAAA5JREFUeF5jWMDAQDwGAKyuB4FpGQdzAAAAAElFTkSuQmCC) center center no-repeat #fff}\\r\\n.webix_accordionitem_body{position:relative}\\r\\n.webix_accordionitem_header{border-bottom:1px solid #ddd;position:relative;z-index:2;color:#fff;font-size:18px;background:#3498db;line-height:43px;cursor:pointer;overflow:hidden}\\r\\n.webix_accordionitem_header .webix_el_button,.webix_accordionitem_header .webix_el_label,.webix_accordionitem_header .webix_inp_label{color:#fff}\\r\\n.webix_accordionitem_header .webix_el_label{font-size:18px}\\r\\n.webix_accordionitem_header .webix_inp_counter_next,.webix_accordionitem_header .webix_inp_counter_prev,.webix_accordionitem_header .webix_segment_0,.webix_accordionitem_header .webix_segment_1,.webix_accordionitem_header .webix_segment_N,.webix_accordionitem_header .webixtype_base,.webix_accordionitem_header .webixtype_next,.webix_accordionitem_header .webixtype_prev{border-color:#d9d9d9;background-color:transparent;color:#fff}\\r\\n.webix_accordionitem_header .webix_el_arrow.webixtype_next_arrow{border-left:none;border-bottom:none}\\r\\n.webix_accordionitem_header .webix_el_arrow.webixtype_prev_arrow{border-right:none;border-bottom:none}\\r\\n.webix_accordionitem_header .webix_inp_counter_next:hover,.webix_accordionitem_header .webix_inp_counter_prev:hover,.webix_accordionitem_header .webix_segment_0:hover,.webix_accordionitem_header .webix_segment_1:hover,.webix_accordionitem_header .webix_segment_N:hover,.webix_accordionitem_header .webixtype_base:hover{color:#fff;background-color:rgba(0,0,0,.05)}\\r\\n.webix_accordionitem_header .webix_inp_counter_next:active,.webix_accordionitem_header .webix_inp_counter_prev:active,.webix_accordionitem_header .webix_segment_0:active,.webix_accordionitem_header .webix_segment_1:active,.webix_accordionitem_header .webix_segment_N:active,.webix_accordionitem_header .webixtype_base:active{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_accordionitem_header .webix_inp_counter_next:focus,.webix_accordionitem_header .webix_inp_counter_prev:focus,.webix_accordionitem_header .webix_segment_0:focus,.webix_accordionitem_header .webix_segment_1:focus,.webix_accordionitem_header .webix_segment_N:focus,.webix_accordionitem_header .webixtype_base:focus{background-color:rgba(0,0,0,.07);color:#fff}\\r\\n.webix_accordionitem_header .webix_inp_static,.webix_accordionitem_header input[type=text]{border-color:#fff}\\r\\n.webix_accordionitem_header .webix_inp_static:focus,.webix_accordionitem_header input[type=text]:focus{border-color:#fff;box-shadow:none}\\r\\n.webix_accordionitem_header .webix_input_icon{border-color:#d9d9d9;background-color:transparent;color:#666}\\r\\n.webix_accordionitem_header .webix_input_icon:active,.webix_accordionitem_header .webix_input_icon:focus,.webix_accordionitem_header .webix_input_icon:hover{background-color:transparent;color:#666}\\r\\n.webix_accordionitem_header .webix_pressed .webix_el_arrow,.webix_accordionitem_header .webix_pressed .webix_inp_counter_next,.webix_accordionitem_header .webix_pressed .webix_inp_counter_prev,.webix_accordionitem_header .webix_pressed .webix_input_icon,.webix_accordionitem_header .webix_pressed .webix_segment_0,.webix_accordionitem_header .webix_pressed .webix_segment_1,.webix_accordionitem_header .webix_pressed .webix_segment_N,.webix_accordionitem_header .webix_pressed .webixtype_base,.webix_accordionitem_header .webix_pressed .webixtype_next,.webix_accordionitem_header .webix_pressed .webixtype_prev{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_accordionitem_header .webix_selected.webix_segment_0,.webix_accordionitem_header .webix_selected.webix_segment_1,.webix_accordionitem_header .webix_selected.webix_segment_N{border-color:#d9d9d9;background-color:#27ae60;color:#fff}\\r\\n.webix_accordionitem_header .webix_selected.webix_segment_0:hover,.webix_accordionitem_header .webix_selected.webix_segment_1:hover,.webix_accordionitem_header .webix_selected.webix_segment_N:hover{background-color:#24a259}\\r\\n.webix_accordionitem_header .webix_selected.webix_segment_0:active,.webix_accordionitem_header .webix_selected.webix_segment_0:focus,.webix_accordionitem_header .webix_selected.webix_segment_1:active,.webix_accordionitem_header .webix_selected.webix_segment_1:focus,.webix_accordionitem_header .webix_selected.webix_segment_N:active,.webix_accordionitem_header .webix_selected.webix_segment_N:focus{background-color:#295}\\r\\n.webix_accordionitem_header .webix_segment_1,.webix_accordionitem_header .webix_segment_N,.webix_accordionitem_header .webix_selected.webix_segment_1,.webix_accordionitem_header .webix_selected.webix_segment_N{margin-left:0;border-left:none}\\r\\n.webix_accordionitem_header .webix_img_btn:active,.webix_accordionitem_header .webix_img_btn_top:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_accordionitem_header .webix_img_btn:focus,.webix_accordionitem_header .webix_img_btn_top:focus{background-color:#2489cc}\\r\\n.webix_accordionitem_header .webix_img_btn:hover,.webix_accordionitem_header .webix_img_btn_top:hover{background-color:#268fd5}\\r\\n.webix_accordionitem_header .webix_icon_button{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_accordionitem_header .webix_el_icon,.webix_accordionitem_header .webix_icon_btn,.webix_accordionitem_header .webix_icon_button,.webix_accordionitem_header .webix_img_btn,.webix_accordionitem_header .webix_img_btn_abs,.webix_accordionitem_header .webix_img_btn_abs .webix_icon,.webix_accordionitem_header .webix_img_btn_abs .webix_img_btn_text,.webix_accordionitem_header .webix_img_btn_top .webix_icon,.webix_accordionitem_header .webix_img_btn_top .webix_img_btn_text{color:#fff}\\r\\n.webix_accordionitem_header .webix_el_box .webix_img_btn_abs:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_accordionitem_header .webix_el_icon .webix_icon_button:focus{background-color:rgba(0,0,0,.07)}\\r\\n.webix_accordionitem_header .webix_el_box .webix_img_btn_abs:hover,.webix_accordionitem_header .webix_el_icon .webix_icon_button:hover{background-color:rgba(0,0,0,.05)}\\r\\n.webix_accordionitem_header .webix_control{border-color:#3498db}\\r\\n.webix_accordionitem_header .webix_icon_button .webix_icon{font-size:23px;height:27px;width:27px;color:#fff}\\r\\n.webix_accordionitem_header .webix_img_btn,.webix_accordionitem_header .webix_img_btn_top{border-width:0}\\r\\n.webix_ie.horizontal>.webix_accordionitem_header.collapsed{-ms-writing-mode:tb-lr}\\r\\n.webix_ie.horizontal>.webix_accordionitem_header.collapsed .webix_accordionitem_label{padding-left:0;padding-top:10px}\\r\\n.webix_ie.horizontal>.webix_accordionitem_header.collapsed .webix_accordionitem_button{margin:0}\\r\\n.webix_accordionitem_label{height:100%;padding-left:10px}\\r\\n.webix_accordionitem_button{float:right;position:relative;height:11px;width:11px;margin:15px 13.5px}\\r\\n.webix_carousel{position:relative}\\r\\n.webix_nav_panel{bottom:15px;height:auto;line-height:8px;overflow:hidden;position:absolute;text-align:center}\\r\\n.webix_nav_item{display:inline-block;height:8px;padding:6px 5px 6px 4px;width:8px;cursor:pointer;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}\\r\\n.webix_nav_item div{-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;display:block;height:8px;width:8px}\\r\\n.webix_nav_inactive div{border:1px solid rgba(0,0,0,.15);filter:alpha(opacity=60);opacity:.6;background:#fff}\\r\\n.webix_nav_active div{border:1px solid rgba(0,0,0,.1);background:#fff}\\r\\n.webix_nav_button_next,.webix_nav_button_prev{cursor:pointer;display:block;height:24px;position:absolute;width:24px}\\r\\n.webix_nav_button_next .webix_nav_button_inner,.webix_nav_button_prev .webix_nav_button_inner{height:100%;width:100%}\\r\\n.webix_nav_button_prev .webix_nav_button_inner{opacity:.8;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowNDNEOTBEMTYyNzQxMUUzOEU1N0MyQTEyMzIxMDVFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowNDNEOTBEMjYyNzQxMUUzOEU1N0MyQTEyMzIxMDVFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjA0M0Q5MENGNjI3NDExRTM4RTU3QzJBMTIzMjEwNUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjA0M0Q5MEQwNjI3NDExRTM4RTU3QzJBMTIzMjEwNUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+yGPRLgAAAPBJREFUeNpi+P//vycQP/tPfQAy05MRxGBgYJBkoA14DrLgPwMNARMDjcGgteAINN5CCaokI3UcB2I+UNQBsTghxaRacAaI+aH62IB4MzUtuAjEwlA9zEC8hhhNxFpwFYhFkQxfTqyriLHgFhBLQtWC8s18UsKUkAV3gVgGyfBZpKYIQhbYQtWAcBg5BRIhC26j+WAOtS0AgRvQ9A6L4IXUtgAELqOlopXUtgAEzgOxIFQPKxCvo7YFIHAKLSdvo7YFIHAUiHmgeiUIKSanNLUC4i1ALAHENoQUD48a7TkNzX8BsiAFxKCB4U+BOBkgwAAsAiGcWMs58QAAAABJRU5ErkJggg==)}\\r\\n.webix_nav_button_next .webix_nav_button_inner{opacity:.8;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpEODJBRDc2RTYyNzMxMUUzQTMxN0IxNjAwN0JBOUE4OSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpEODJBRDc2RjYyNzMxMUUzQTMxN0IxNjAwN0JBOUE4OSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkQ4MkFENzZDNjI3MzExRTNBMzE3QjE2MDA3QkE5QTg5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkQ4MkFENzZENjI3MzExRTNBMzE3QjE2MDA3QkE5QTg5Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+crpRPgAAAOhJREFUeNpi+P//vycQP/tPfQAy05MRxGBgYJBkoA14DrLgPwMNARMDjcGgsCAMGkdHyLKBiNQgDoomIOYH4uOkJiViLNgMxGxIlpyhtgUgsAaImaHqhYH4IrUtAIHlSJaIAvFValsAAvOBmBGqTxKIb1HbAhCYhWSJDBDfobYFIBAO1QvCNtS2YA6SD6SB+DY1LViIFNFiQHydmnGwEi0VXaZmKloHxKxQ9YJAfJ6a+WAbWk4+Re2cLAFVxwPER0lNEcSUpjZALAHEW4DYitTCdHjUaM9paP4LkAUpIAYNDH8KxMkAAQYAlwMhmq8XxigAAAAASUVORK5CYII=)}\\r\\n.webix_nav_panel_corner{right:73px}\\r\\n.webix_nav_button_corner.webix_nav_button_prev{bottom:13px;right:37px}\\r\\n.webix_nav_button_corner.webix_nav_button_prev .webix_nav_button_inner:hover{opacity:1}\\r\\n.webix_nav_button_corner.webix_nav_button_next{bottom:13px;right:7px}\\r\\n.webix_nav_button_corner.webix_nav_button_next .webix_nav_button_inner:hover{opacity:1}\\r\\n.webix_nav_panel_side{margin:0 auto;left:0;width:100%}\\r\\n.webix_nav_button_side{height:34px;width:21px;top:50%;margin-top:-17px}\\r\\n.webix_nav_button_side.webix_nav_button_next{left:auto;right:15px}\\r\\n.webix_nav_button_side.webix_nav_button_next .webix_nav_button_inner{opacity:.8;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAiCAYAAACwaJKDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RTc4MTkxODY2MzBGMTFFMzk1MUQ4RTNCRjNCMUVFRUMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RTc4MTkxODU2MzBGMTFFMzk1MUQ4RTNCRjNCMUVFRUMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjA4NjlGM0NFNjE4OTExRTNBRjMwOTNFODNBRTJCRENBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjA4NjlGM0NGNjE4OTExRTNBRjMwOTNFODNBRTJCRENBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+D/KEcQAAAOhJREFUeNqs1jsOwjAMBuCKhR2uxsLGxg1a+hD0wVGYGJC4DgssnAFVQjLukKWk/WM7lv4OqfQ1UdLWCRGtOTdOz3lwtpzEkuFyp/9KreiX/JVa0DdNV6ZF9zRfmQYdcgbwQYNGhccDXQzYN4jgXIOa4bkntgAuNKgaDtlNMRx69hoAlxpUBEvfawRXGnRIjeBFIq8e3F9KZ5mDWXbS5QeBEjQYDEULALbSwy8GEYrARvpBUYNTaGkBfagZHKMIrKU/vioW6NANAE+aZuIVE3RoHxN06NUDHq2t5Ipz4Xw4T87O2vT+BBgAeQQKvezNqP0AAAAASUVORK5CYII=)}\\r\\n.webix_nav_button_side.webix_nav_button_next .webix_nav_button_inner:hover{opacity:1}\\r\\n.webix_nav_button_side.webix_nav_button_prev{left:15px;right:auto}\\r\\n.webix_nav_button_side.webix_nav_button_prev .webix_nav_button_inner{opacity:.8;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAiCAYAAACwaJKDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjIzRTVCQkY2MzBGMTFFM0FDNTBDNzdDRkQ0NTI0NzciIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjIzRTVCQkU2MzBGMTFFM0FDNTBDNzdDRkQ0NTI0NzciIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjA4NjlGM0NFNjE4OTExRTNBRjMwOTNFODNBRTJCRENBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjA4NjlGM0NGNjE4OTExRTNBRjMwOTNFODNBRTJCRENBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+wRT1eAAAAM9JREFUeNqs1jsKwlAQBdDBxlL3ZmVlmRXYaaVbCYg7kti4BQu1e85AhBDfZz73wm1ewsmfDKWUKNgNd+C+uVfuOgoe0n8uaFDyQoOSOxqU7NDgUfaDgxZUDWpRE6hBzWALdYE11A2W0BCYQ8PgHIWAUxQG/lAoKF0Q0ZLq+ZA1o35qnO3eevlweL4AgXOL5yhc2hCCa0d0w63744I1T9MMa989E2z5/NSw9Retgj3DRAveeseeGnyLDGgl+BkdJXNwH0WlHfcxDr09d/UVYADVjwptZ8mPvQAAAABJRU5ErkJggg==)}\\r\\n.webix_nav_button_side.webix_nav_button_prev .webix_nav_button_inner:hover{opacity:1}\\r\\n.webix_carousel>.webix_scroll_x,.webix_carousel>.webix_scroll_y{background-color:transparent}\\r\\n.webix_dark .webix_nav_inactive div{background-color:#95a5a6}\\r\\n.webix_dark .webix_nav_active div{background-color:#7f8c8d}\\r\\n.webix_dark .webix_nav_button_prev .webix_nav_button_inner{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gcdCSIURgotfwAAASxJREFUSMfNlbErhlEUh5/vJZOSQSijshgsFiklhdj0lcHw5SP7uX+A8we4d1c+g2RgsIjIxmCxGCzKRO9bMjCSWE5WpXPrO9MZbs9T5577u7XNrTgPtIBBfKsEmkUmOMZsFZngv5KCzNW2gmsbbT2H4AZY0CAVcOUtuAXmNMi7xtQF7HgK7oBZDfKmMXUAB8Cil+AemNEgrwbfB5a8LvnB4C8aU83Gsuy1RY/AtAYpDb4NNDzXtKFBnqyvA+ve72BXYxqy/shyy1UwDFxqTP0a5BvYAPa8X/KISfo0yBewChx6R8UocKEx9ZpkBTj2zqIx4Fxj6tEgn7aqZ95RMQ6cakzdGuTDxuUedhPAicY0AEz+dbjzn3E9ZX9ue3w4ZUZ+VQBrQJUB/gw0fwC/UlVpnH2f9AAAAABJRU5ErkJggg==)}\\r\\n.webix_dark .webix_nav_button_next .webix_nav_button_inner{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gcdCSENCUzWfAAAAS1JREFUSMfN1TFLXEEUhuFnr8FKCBaGiK2FRQobG7GSgBG2E8IWFmE3wX7uD3B+QOb2QpaAiMWmsAkJBtMEizQ2FmmCXcIuhBRpDZI0g7XCXNhTD+8L53znTGf/ddrGEIvK1hiDqiW4zBxWLcFvJZWWayoEz3Mbz9sSfIl1mKCLr20I3sTUzMY6/MEzXJQWdHEcUzOTJVu4LD3kHRxlyW88xbfSKerldnViHX5lyffSMX2BgywZYxNXpffgVY6uWIcfWVpUMMQIYmqW8Lak4BB7sQ7/Ymoe4QzLpQQj9GMdbmJqFvAZK6WGfILdDJ/HJzwpFdOP6MU6/I2peYhTrJZctH6sw3VMzRw+YK30qdiIqXmM91i/b+Qe3OHNu6n/cMYt8icVXmLSAvwnBv8B+EFU7qlZ1xIAAAAASUVORK5CYII=)}\\r\\n.webix_dark .webix_nav_button_side.webix_nav_button_prev .webix_nav_button_inner{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAiCAYAAACwaJKDAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gcdCSI77dsQJgAAARxJREFUSMet1jFqAkEUxvH/rkIqLVN5ES2CjScQG6tUESx3SWOMLKgggt7BC6SxsnIr9w4ewAsEEis3RTBE3N3ZmfemHB4/HsPMm89L0xTJilbrLrAAGsAWeKkKwTEw/bfVAy6ea6cZ4HV9+8ogwMm6UwMI8Owrg5MoDDa+MjgF8LXBUqgtaERdwELUFcxFJWAmKgXvUA3wBtUC/1BNEKBCra4KXjt9MNScbadYJd7t9nGSVIGnnJpOnCRf7VbzYNMpURi8A7OCumW0Wr9aodrw7T39hedS+P5FhcFYCme/fSGcP6UEcPE8dYTNk98BLvdHWcLlf1ML2CVMzIC3gpK+U5YywEdJQMuDP50CmuGMt55C6B0AI+AR+ACGPw26r6m12WOpAAAAAElFTkSuQmCC)}\\r\\n.webix_dark .webix_nav_button_side.webix_nav_button_next .webix_nav_button_inner{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAiCAYAAACwaJKDAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gcdCSE1IU5u4gAAAW1JREFUSMet1rtOwzAUgOG/5jbBwsQD8BAwIAa2TggegjmRgELbuFeo1GRlQEJMMDN264CUiYdgg0dolzIkFUEk9nHSbLGtT76cc+xaMA53gUegDnwCgfa9Vyp8CngCToFNYB940WF0WRWt57SPqsAK+C7oG+kwuiqLdg3992Xgtelk8jGN4w3gqGDMyTSOZ8eHB+8uM0X7XhMYGMbd6TC6dkIzcH8VsMr+aN9rCeCGEyqEhzZY5TWmcM8C3zihKdy2wIMiWJmWURZWtk1P4a4FvnVCUziwwP0srKQBLYSbALXFYuGU1zqMNBAYhrRUiSI0s/RvKcdZNoChcQt8Tz5TKSg/fQdQFqdJcJvAXha0Z1QCDixgW577drCbBxZXKRkYyOtpkm6lwf+VPwH7VcC/d5Qd7EjA39s0KQQ2UIvvfbZ3zoEHU2Rp3+u4vlDGqwSX6N4qwSX6ltMelAUB1oELYA6cAV/poTxXeZ/+AOFqn1e/Gh7yAAAAAElFTkSuQmCC)}\\r\\n.webix_list_item{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;padding:2px 10px;line-height:29px;cursor:pointer;border-bottom:1px solid #ebebeb;text-align:left;border-color:#ebebeb}\\r\\n.webix_list_item.webix_invalid{background-color:#fee}\\r\\n.webix_list_item.webix_selected{color:#fff;background:#27ae60}\\r\\n.webix_list .webix_list_item.webix_selected{border-bottom:1px solid #ebebeb;padding:2px 10px}\\r\\n.webix_group{position:relative}\\r\\n.webix_group_back,.webix_group_back.webix_selected{position:relative;background:#d2e3ef;font-size:15px;color:#4a4a4a}\\r\\n.webix_arrow_icon{position:absolute;top:50%;bottom:50%;margin-top:-12px;right:15px;width:9px;height:22px;line-height:22px;color:#666;font-size:18px;font-family:FontAwesome}\\r\\n.webix_arrow_icon:before{content:'\\\\F105'}\\r\\n.webix_group_back{padding-left:29px}\\r\\n.webix_group_back .webix_arrow_icon{left:11px}\\r\\n.webix_group_back .webix_arrow_icon:before{content:'\\\\F104'}\\r\\n.dhx_pagelist{position:relative}\\r\\n.webix_list_count{float:right;width:25px;font-size:14px;text-align:center;margin-right:45px;box-shadow:0 1px 0 #000;text-shadow:0 -1px 0 rgba(0,0,0,.6)}\\r\\n.webix_unit_header{padding:0 10px;line-height:19px;text-align:left;background-color:#d2e3ef}\\r\\n.webix_list-x .webix_list_item{display:inline-block;vertical-align:top;border-right:1px solid #ebebeb;border-bottom:none;border-color:#ebebeb}\\r\\n.webix_list-x .webix_list_item.webix_selected{border-left:1px solid #ebebeb;border-right:1px solid #ebebeb;padding-left:9px}\\r\\n.webix_list-x .webix_scroll_cont{display:inline}\\r\\n.webix_view.webix_list-x{white-space:nowrap}\\r\\n.webix_list_item.webix_disabled{color:#8b949e}\\r\\n.webix_list_item.webix_disabled .webix_submenu_icon{visibility:hidden}\\r\\n.webix_view.webix_pager{padding:3px 0;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:transparent}\\r\\n.webix_pager_item,.webix_pager_item_selected{padding:0 6px;text-align:center;height:100%;width:32px;border:1px solid #ddd;margin:0 2px;cursor:pointer;background-color:#fff;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:'PT Sans',Tahoma;font-size:15px}\\r\\n.webix_pager_item_selected{cursor:default;background-color:#27ae60;border:1px solid #ebebeb}\\r\\n.webix_animation .webix_ss_header{position:relative;z-index:10}\\r\\n.webix_animation .webix_ss_footer,.webix_animation .webix_vscroll_x{position:absolute;bottom:0;z-index:10}\\r\\n.webix_allow_selection{-moz-user-select:text;-webkit-user-select:text;user-select:text}\\r\\n.webix_dataview_item{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;padding:2px 10px;line-height:29px;cursor:pointer;border-bottom:1px solid #ebebeb;text-align:left;border-color:#ebebeb;border-right:1px solid #ebebeb}\\r\\n.webix_dataview_item.webix_selected{color:#fff;background:#27ae60;border-bottom:1px solid #ebebeb;border-right:1px solid #ebebeb}\\r\\n.webix_chart{position:relative;font-family:'PT Sans',Tahoma;font-size:13px;color:#666;overflow:hidden;z-index:1}\\r\\n.webix_chart canvas{position:absolute}\\r\\n.webix_canvas_text{position:absolute;text-align:center;overflow:hidden;white-space:nowrap;font-size:12px;z-index:100}\\r\\n.webix_map_img{width:100%;height:100%;position:absolute;top:0;left:0;border:0;filter:alpha(opacity=0);opacity:0}\\r\\n.webix_axis_item_y{position:absolute;height:18px;line-height:18px;margin-top:-4px;text-align:right}\\r\\n.webix_axis_item_x{padding-top:2px}\\r\\n.webix_axis_title_x{text-align:center;font-size:13px}\\r\\n.webix_axis_title_y{text-align:center;font-family:Verdana;font-size:13px;-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);padding-left:3px}\\r\\n.webix_ie_filter{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3)}\\r\\n.webix_chart_legend{position:absolute;z-index:1000}\\r\\n.webix_chart_legend_item{height:18px;line-height:18px;padding:2px}\\r\\n.webix_chart_legend_item.hidden{color:#e6e6e6}\\r\\n.webix_axis_item_y.webix_radar{color:#555;font-size:11px;padding-right:3px;height:13px;line-height:13px;margin-top:0}\\r\\n.webix_canvas_text.webix_axis_radar_title{margin-top:0;padding-top:0;color:#999;font-size:12px}\\r\\n.webix_axis_item_x,.webix_axis_item_y{color:#999}\\r\\n.webix_chart_frame{background-color:#a0cfef;height:100%;opacity:.3;position:absolute;top:0;z-index:150;border-left:1px solid #3498db;border-right:1px solid #3498db;cursor:w-resize}\\r\\n.webix_chart_resizer{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAICAYAAAAx8TU7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTJCMjdFNENBRTg4MTFFMjk2NjJGMTJENjkyNDA2NTkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTJCMjdFNERBRTg4MTFFMjk2NjJGMTJENjkyNDA2NTkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MkIyN0U0QUFFODgxMUUyOTY2MkYxMkQ2OTI0MDY1OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5MkIyN0U0QkFFODgxMUUyOTY2MkYxMkQ2OTI0MDY1OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Powz/icAAAAaSURBVHjaYmBgYDBjgAA4zcSABQysIECAAQBn+ACx2PqtbAAAAABJRU5ErkJggg==);background-position:3px center;background-repeat:no-repeat;border-radius:2px;height:20px;bottom:0;width:11px;z-index:200;position:absolute;background-color:#fff;border:1px solid #ccc;cursor:w-resize}\\r\\n.webix_wresize_cursor{cursor:w-resize}\\r\\n.webix_vscroll_x{height:0;width:100%;overflow-y:hidden;overflow-x:scroll}\\r\\n.webix_vscroll_y{width:0;height:100%;overflow-x:hidden;overflow-y:scroll}\\r\\n.webix_vscroll_body{width:16px;height:16px}\\r\\n.webix_scroll_x{width:50px;height:4px!important;left:1px;bottom:3px;background-color:silver;background:rgba(0,0,0,.4);position:absolute;border-radius:4px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webix_scroll_y{width:4px!important;height:50px;top:1px;right:3px;background-color:silver;background:rgba(0,0,0,.4);position:absolute;border-radius:4px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webix_c_scroll_y{position:absolute;z-index:3;width:10px;right:0}\\r\\n.webix_c_scroll_y>div{-moz-transition:width .3s .2s,margin .3s .2s;-webkit-transition:width .3s .2s,margin .3s .2s;-o-transition:width .3s .2s,margin .3s .2s;-ms-transition:width .3s .2s,margin .3s .2s;width:4px;height:100%;background-color:silver;background:rgba(0,0,0,.4);border-radius:4px;margin:0 3px}\\r\\n.webix_c_scroll_y.webix_scroll_active div,.webix_c_scroll_y:hover>div{width:10px;margin:0}\\r\\n.webix_c_scroll_x{position:absolute;z-index:3;height:10px;bottom:0}\\r\\n.webix_c_scroll_x>div{-moz-transition:height .3s .2s,margin .3s .2s;-webkit-transition:height .3s .2s,margin .3s .2s;-o-transition:height .3s .2s,margin .3s .2s;-ms-transition:height .3s .2s,margin .3s .2s;height:4px;width:100%;background-color:silver;background:rgba(0,0,0,.4);border-radius:4px;margin:3px 0}\\r\\n.webix_c_scroll_x.webix_scroll_active div,.webix_c_scroll_x:hover>div{height:10px;margin:0}\\r\\n.webix_c_scroll_bar_x,.webix_c_scroll_bar_y{position:absolute;background:rgba(0,0,0,.05)}\\r\\n.webix_c_scroll_bar_y{height:100%;width:10px;right:0}\\r\\n.webix_c_scroll_bar_x{width:100%;height:10px;bottom:0}\\r\\n.webix_scroll_cont{width:100%;height:auto;overflow:hidden;clear:both}\\r\\n.webix_scroll_touch_ie{touch-action:none}\\r\\n.webix_dt_editor{position:absolute;z-index:2;overflow:visible;background:#fff}\\r\\n.webix_dt_editor input,.webix_dt_editor select{width:100%;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;padding:1px 8px 0 9px;margin:0;border:1px solid gold;height:100%;font-family:'PT Sans',Tahoma;font-size:15px;color:#666}\\r\\n.webix_dt_editor input[type=checkbox]{margin:6px 8px 4px 14px;height:auto;width:auto}\\r\\n.webix_dt_editor select{padding-right:0;padding-left:5px}\\r\\n.webix_clipbuffer{width:1px;height:1px;left:3px;top:3px;position:fixed;white-space:nowrap;filter:alpha(opacity=0);opacity:0}\\r\\n.webix_message_area{position:fixed;right:5px;width:250px;z-index:1000}\\r\\n.webix_info{min-width:120px;font-family:Tahoma,Arial;z-index:10000;overflow:hidden;margin:5px 5px 10px;-webkit-transition:all .5s ease;-moz-transition:all .5s ease;-o-transition:all .5s ease;transition:all .5s ease}\\r\\n.webix_no_transition{-webkit-transition:none;-moz-transition:none;transition:none}\\r\\n.webix_info.hidden{height:0;min-height:0;padding-top:0;padding-bottom:0;border-width:0;margin-top:0;margin-bottom:0;overflow:hidden}\\r\\n.webix_modal_box{overflow:hidden;display:inline-block;min-width:250px;width:250px;text-align:center;position:fixed;background-color:#fff;box-shadow:0 3px 6px #c8c8c8;font-family:'PT Sans',Tahoma;z-index:20000;border-radius:0}\\r\\n.webix_popup_title{border-top-left-radius:-1px;border-top-right-radius:-1px;border-width:0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAoCAMAAAAIaGBFAAAAhFBMVEVwcHBubm5sbGxqampoaGhmZmZlZWVjY2NhYWFfX19dXV1bW1taWlpYWFhWVlZUVFRSUlJRUVFPT09NTU1LS0tJSUlHR0dGRkZERERCQkJAQEA+Pj49PT09PT0+Pj5AQEBBQUFDQ0NERERGRkZHR0dJSUlKSkpMTExMTEw5OTk5OTk5OTkny8YEAAAAQklEQVQImQXBCRJCAAAAwKVSQqdyjSPXNP7/QLsIhA6OTiJnF7GrRCpzc/fw9PKW+/gqlCq1RqvTG/yMJrPF6m/bAVEhAxxnHG0oAAAAAElFTkSuQmCC);background:-webkit-linear-gradient(top,#707070 1%,#3d3d3d 70%,#4c4c4c 97%,#393939 97%);background:-moz-linear-gradient(top,#707070 1%,#3d3d3d 70%,#4c4c4c 97%,#393939 97%)}\\r\\n.webix_button,.webix_info,.webix_popup_button{cursor:pointer}\\r\\n.webix_popup_text{overflow:hidden}\\r\\n.webix_popup_controls{border-radius:6px;padding:5px 10px 10px}\\r\\n.webix_button,.webix_popup_button{height:30px;line-height:30px;display:inline-block;margin:0 5px;border-radius:6px}\\r\\n.webix_popup_button div{border-radius:6px}\\r\\n.webix_popup_button{min-width:100px}\\r\\ndiv.webix_modal_cover{background-color:#000;cursor:default;filter:alpha(opacity=10);opacity:.1;position:fixed;z-index:19999;left:0;top:0;width:100%;height:100%;border:none;zoom:1}\\r\\n.webix_info img,.webix_modal_box img{float:left;margin-right:20px}\\r\\n.webix_alert_error .webix_popup_title,.webix_confirm_error .webix_popup_title{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAsCAIAAAArRUU2AAAATklEQVR4nIWLuw2AMBBDjVuQiBT2oWbRDATrnB0KQOJoqPzRe3BrHI6dcBASYREKovtK6/6DsDOX+stN+3H1YX9ciRgnYq5EWYhS2dftBIuLT4JyIrPCAAAAAElFTkSuQmCC)}\\r\\n.webix_alert_error,.webix_confirm_error{border:1px solid red}\\r\\n.webix_button,.webix_popup_button{border:1px solid #ddd}\\r\\n.webix_button input,.webix_popup_button div{font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;outline:0;color:#fff;background:#3498db;border-bottom:1px solid #2386c8;height:30px;line-height:30px}\\r\\n.webix_popup_button.confirm div{font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;outline:0;background:#27ae60;border-color:#27ae60;border-bottom:1px solid #209150;box-shadow:none;text-shadow:none;color:#fff}\\r\\n.webix_popup_title{color:#fff;text-shadow:1px 1px #000;height:40px;line-height:40px;font-size:20px}\\r\\n.webix_popup_text{margin:0 0 5px;padding-top:25px;color:#666;min-height:60px}\\r\\n.webix_error,.webix_info{font-size:15px;color:#333;box-shadow:0 0 10px #888;padding:0;background-color:#FFF;border-radius:3px;border:1px solid #fff}\\r\\n.webix_info div{padding:5px 10px;background-color:#fff;border-radius:3px;border:1px solid #B8B8B8}\\r\\n.webix_error{background-color:#d81b1b;border:1px solid #ff3c3c;box-shadow:0 0 10px #000}\\r\\n.webix_error div{background-color:#d81b1b;border:1px solid #940000;color:#FFF}\\r\\n.webix_drag_zone{position:absolute;box-shadow:1px 1px 5px #ddd;background-color:#fff;font-family:'PT Sans',Tahoma;font-size:15px;color:#666;pointer-events:none}\\r\\n.webix_drag_zone .borderless{padding:2px 20px 2px 2px}\\r\\n.webix_drag_over,.webix_drop_zone{background-color:#e6e6e6}\\r\\n.webix_transparent{opacity:0}\\r\\n.webix_column{position:absolute;top:0}\\r\\n.webix_cell{overflow:hidden;line-height:31px;white-space:nowrap}\\r\\n.webix_hcell{width:100%;overflow:hidden}\\r\\n.webix_ss_body{overflow:hidden;position:relative}\\r\\n.webix_hs_center,.webix_hs_left,.webix_hs_right,.webix_ss_center,.webix_ss_left,.webix_ss_right{overflow:hidden;float:left}\\r\\n.webix_ss_center,.webix_ss_right{position:relative}\\r\\n.webix_ss_footer table,.webix_ss_header table{table-layout:fixed}\\r\\n.webix_ss_center_scroll{height:100%;position:relative;overflow:hidden;min-height:1px}\\r\\n.webix_ss_hscroll{bottom:0}\\r\\n.webix_ss_vscroll{position:absolute;top:0;right:0;z-index:2}\\r\\n.webix_ss_vscroll_footer{position:absolute;bottom:0;right:0;border-left:1px solid #fff;border-top:1px solid #ddd;z-index:1}\\r\\n.webix_ss_vscroll_header{position:absolute;top:0;right:0;border-left:1px solid #b0cee3;border-bottom:1px solid #ddd;z-index:1}\\r\\n.webix_dtable{position:relative;cursor:default;z-index:0}\\r\\n.webix_ss_footer,.webix_ss_header{clear:both;overflow:hidden}\\r\\n.webix_block_selection,.webix_cell,.webix_hcell,.webix_ss_footer td,.webix_ss_header td,.webix_table_cell,.webix_view.webix_table_cell{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webix_block_selection{position:absolute}\\r\\n.webix_ss_sort_asc,.webix_ss_sort_desc{position:absolute;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}\\r\\n.webix_hcell.webix_ss_filter{padding:3px 5px}\\r\\n.webix_ss_filter input,.webix_ss_filter select{width:100%;font-size:inherit;color:#666!important;height:39px;margin-top:-2px;padding:0 3px;vertical-align:top;border:1px solid #ddd;line-height:32px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:'PT Sans',Tahoma}\\r\\n.webix_richfilter{margin-top:1px}\\r\\n.webix_ss_filter select{padding:3px}\\r\\n.webix_dd_drag_column,.webix_ss_header,.webix_ss_header TD,.webix_ss_vscroll_header{font-size:15px;color:#4a4a4a;background:#d2e3ef}\\r\\n.webix_ss_footer TD,.webix_ss_vscroll_footer{background:#fafafa}\\r\\n.webix_hcell{padding:0 10px;text-align:left}\\r\\n.webix_ss_header td{border-right:1px solid #b0cee3;border-bottom:1px solid #b0cee3}\\r\\n.webix_ss_footer td{border-right:1px solid #ebebeb;border-top:1px solid #ebebeb}\\r\\n.webix_column.webix_last>div,.webix_hs_center td.webix_last,.webix_hs_right td.webix_last{border-right-width:0}\\r\\n.webix_hs_right td.webix_first,.webix_ss_right .webix_column.webix_first>div{border-left:1px solid #ddd}\\r\\n.webix_ss_left .webix_column.webix_last>div{border-right:1px solid #ddd}\\r\\n.webix_column>div,.webix_table_cell{border-right:1px solid #ebebeb;padding:0 10px;border-bottom:1px solid #ebebeb}\\r\\n.webix_table_cell.webix_measure_size{padding-left:20px;padding-right:0}\\r\\n.webix_column{text-align:left}\\r\\n.webix_dd_over_column,.webix_sel_hcell{background-color:#c9eaf5}\\r\\n.webix_block_selection{background:rgba(0,0,0,.1);border:2px solid #ebebeb}\\r\\n.webix_dd_drag{white-space:nowrap;overflow:hidden;border-left:1px solid #ebebeb;height:34px}\\r\\n.webix_dd_drag>div{display:inline-block;vertical-align:top;background:#fff;border-top:1px solid #ebebeb;border-right:1px solid #ebebeb;border-bottom:1px solid #ebebeb;padding:5px 10px;height:34px;line-height:26px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webix_dd_drag_column{padding:5px 10px}\\r\\n.webix_column>.webix_drag_over.webix_cell{background-color:#e6e6e6;color:#666}\\r\\n.webix_ss_header table,.webix_ss_header td,.webix_ss_header th{padding:0;margin:0}\\r\\n.webix_cell.webix_invalid,.webix_column>.webix_cell.webix_invalid:nth-child(even){background-color:#fee}\\r\\n.webix_invalid_cell{position:relative}\\r\\n.webix_invalid_cell:after{content:\\\"\\\";position:absolute;top:0;right:0;width:0;height:1px;border-top:8px solid #f44;border-left:8px solid transparent}\\r\\n.webix_column>div.webix_cell_select,.webix_column>div.webix_column_select,.webix_column>div.webix_row_select{color:#fff;background:#27ae60}\\r\\n.webix_column>div.webix_cell_select{border-bottom:1px solid #ebebeb;border-left:1px solid #ebebeb;border-right:1px solid #ebebeb;padding-top:0;padding-left:9px}\\r\\n.webix_ss_right .webix_column.webix_first>div.webix_cell_select{padding-left:10px}\\r\\n.webix_column>div.webix_invalid.webix_row_select:nth-child(even),.webix_column>div.webix_row_select{border-bottom:1px solid #ebebeb;padding-top:0}\\r\\n.webix_column>div.webix_column_select{border-left:1px solid #ebebeb;border-right:1px solid #ebebeb;padding-left:9px}\\r\\n.webix_column>.webix_cell.webix_invalid.webix_cell_select:nth-child(even){color:#fff;background:#27ae60}\\r\\n.webix_dtable_colrow,.webix_dtable_subrow,.webix_dtable_subview{position:absolute;left:0;top:0;background-color:#fff;width:100%;padding-right:28px;padding-left:10px;padding-top:1px;border-bottom:1px solid #ebebeb}\\r\\n.webix_dtable_subrow{border-top:1px solid #ebebeb;text-align:right}\\r\\n.webix_dtable_subview{background:#ebebeb;border-top:1px solid #ebebeb;padding:0 0 0 10px;box-sizing:border-box}\\r\\n.number .webix_cell{text-align:right}\\r\\n.webix_rotate{transform:rotate(-90deg);-webkit-transform:rotate(-90deg);line-height:normal}\\r\\n.webix_span_layer{background:0 0;position:absolute;left:0;top:0;height:0;width:0;overflow:visible}\\r\\n.webix_dtable_span{position:absolute;background:#fff}\\r\\n.webix_dtable_span.webix_selected{color:#fff;background:#27ae60}\\r\\n.webix_hcell span.webix_input_icon{background-color:#b0cee3}\\r\\n.webix_area_selection_layer{position:absolute;z-index:1}\\r\\n.webix_area_selection{position:absolute;background:#666}\\r\\n.webix_area_selection_bottom,.webix_area_selection_top{height:2px}\\r\\n.webix_area_selection_left,.webix_area_selection_right{width:2px}\\r\\n.webix_area_selection_handle{position:absolute;width:6px;height:6px;border:1px solid #fff;background:#666;cursor:crosshair;margin:-6px 0 0 -6px}\\r\\n.webix_topcell{position:relative;background:#fff;z-index:1}\\r\\n.webix_window{position:absolute;box-shadow:1px 3px 4px #c8c8c8}\\r\\n.webix_win_body{overflow:hidden}\\r\\n.webix_win_body,.webix_win_body>.webix_view,.webix_win_body>.webix_view .webix_cal_month,.webix_win_content,.webix_window{border-radius:0}\\r\\n.webix_win_head{border-bottom:1px solid silver}\\r\\n.webix_win_head>.webix_view>.webix_template{color:#fff;font-size:18px;background:#3498db;padding:0;text-align:center;line-height:45px}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_el_button,.webix_win_head>.webix_view>.webix_template .webix_el_label,.webix_win_head>.webix_view>.webix_template .webix_inp_label{color:#fff}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_el_label{font-size:18px}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_inp_counter_next,.webix_win_head>.webix_view>.webix_template .webix_inp_counter_prev,.webix_win_head>.webix_view>.webix_template .webix_segment_0,.webix_win_head>.webix_view>.webix_template .webix_segment_1,.webix_win_head>.webix_view>.webix_template .webix_segment_N,.webix_win_head>.webix_view>.webix_template .webixtype_base,.webix_win_head>.webix_view>.webix_template .webixtype_next,.webix_win_head>.webix_view>.webix_template .webixtype_prev{border-color:#d9d9d9;background-color:transparent;color:#fff}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_el_arrow.webixtype_next_arrow{border-left:none;border-bottom:none}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_el_arrow.webixtype_prev_arrow{border-right:none;border-bottom:none}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_inp_counter_next:hover,.webix_win_head>.webix_view>.webix_template .webix_inp_counter_prev:hover,.webix_win_head>.webix_view>.webix_template .webix_segment_0:hover,.webix_win_head>.webix_view>.webix_template .webix_segment_1:hover,.webix_win_head>.webix_view>.webix_template .webix_segment_N:hover,.webix_win_head>.webix_view>.webix_template .webixtype_base:hover{color:#fff;background-color:rgba(0,0,0,.05)}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_inp_counter_next:active,.webix_win_head>.webix_view>.webix_template .webix_inp_counter_prev:active,.webix_win_head>.webix_view>.webix_template .webix_segment_0:active,.webix_win_head>.webix_view>.webix_template .webix_segment_1:active,.webix_win_head>.webix_view>.webix_template .webix_segment_N:active,.webix_win_head>.webix_view>.webix_template .webixtype_base:active{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_inp_counter_next:focus,.webix_win_head>.webix_view>.webix_template .webix_inp_counter_prev:focus,.webix_win_head>.webix_view>.webix_template .webix_segment_0:focus,.webix_win_head>.webix_view>.webix_template .webix_segment_1:focus,.webix_win_head>.webix_view>.webix_template .webix_segment_N:focus,.webix_win_head>.webix_view>.webix_template .webixtype_base:focus{background-color:rgba(0,0,0,.07);color:#fff}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_inp_static,.webix_win_head>.webix_view>.webix_template input[type=text]{border-color:#fff}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_inp_static:focus,.webix_win_head>.webix_view>.webix_template input[type=text]:focus{border-color:#fff;box-shadow:none}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_input_icon{border-color:#d9d9d9;background-color:transparent;color:#666}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_input_icon:active,.webix_win_head>.webix_view>.webix_template .webix_input_icon:focus,.webix_win_head>.webix_view>.webix_template .webix_input_icon:hover{background-color:transparent;color:#666}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_pressed .webix_el_arrow,.webix_win_head>.webix_view>.webix_template .webix_pressed .webix_inp_counter_next,.webix_win_head>.webix_view>.webix_template .webix_pressed .webix_inp_counter_prev,.webix_win_head>.webix_view>.webix_template .webix_pressed .webix_input_icon,.webix_win_head>.webix_view>.webix_template .webix_pressed .webix_segment_0,.webix_win_head>.webix_view>.webix_template .webix_pressed .webix_segment_1,.webix_win_head>.webix_view>.webix_template .webix_pressed .webix_segment_N,.webix_win_head>.webix_view>.webix_template .webix_pressed .webixtype_base,.webix_win_head>.webix_view>.webix_template .webix_pressed .webixtype_next,.webix_win_head>.webix_view>.webix_template .webix_pressed .webixtype_prev{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_0,.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_1,.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_N{border-color:#d9d9d9;background-color:#27ae60;color:#fff}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_0:hover,.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_1:hover,.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_N:hover{background-color:#24a259}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_0:active,.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_0:focus,.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_1:active,.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_1:focus,.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_N:active,.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_N:focus{background-color:#295}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_segment_1,.webix_win_head>.webix_view>.webix_template .webix_segment_N,.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_1,.webix_win_head>.webix_view>.webix_template .webix_selected.webix_segment_N{margin-left:0;border-left:none}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_img_btn:active,.webix_win_head>.webix_view>.webix_template .webix_img_btn_top:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_img_btn:focus,.webix_win_head>.webix_view>.webix_template .webix_img_btn_top:focus{background-color:#2489cc}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_img_btn:hover,.webix_win_head>.webix_view>.webix_template .webix_img_btn_top:hover{background-color:#268fd5}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_icon_button{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_el_icon,.webix_win_head>.webix_view>.webix_template .webix_icon_btn,.webix_win_head>.webix_view>.webix_template .webix_icon_button,.webix_win_head>.webix_view>.webix_template .webix_img_btn,.webix_win_head>.webix_view>.webix_template .webix_img_btn_abs,.webix_win_head>.webix_view>.webix_template .webix_img_btn_abs .webix_icon,.webix_win_head>.webix_view>.webix_template .webix_img_btn_abs .webix_img_btn_text,.webix_win_head>.webix_view>.webix_template .webix_img_btn_top .webix_icon,.webix_win_head>.webix_view>.webix_template .webix_img_btn_top .webix_img_btn_text{color:#fff}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_el_box .webix_img_btn_abs:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_el_icon .webix_icon_button:focus{background-color:rgba(0,0,0,.07)}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_el_box .webix_img_btn_abs:hover,.webix_win_head>.webix_view>.webix_template .webix_el_icon .webix_icon_button:hover{background-color:rgba(0,0,0,.05)}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_control{border-color:#3498db}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_icon_button .webix_icon{font-size:23px;height:27px;width:27px;color:#fff}\\r\\n.webix_win_head>.webix_view>.webix_template .webix_img_btn,.webix_win_head>.webix_view>.webix_template .webix_img_btn_top{border-width:0}\\r\\n.webix_win_content{height:auto;width:auto;overflow:hidden}\\r\\n.webix_modal{width:100%;height:100%;position:fixed;top:0;left:0;background-color:#000;filter:alpha(opacity=20);opacity:.2}\\r\\n.webix_point_bottom,.webix_point_left,.webix_point_right,.webix_point_top{position:absolute}\\r\\n.webix_point_bottom,.webix_point_top{width:13px;height:7px}\\r\\n.webix_point_left,.webix_point_right{width:7px;height:13px}\\r\\n.webix_point_bottom,.webix_point_left,.webix_point_right,.webix_point_top{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAArCAIAAADHSy4DAAAABnRSTlMAAAAAAABupgeRAAAACXBIWXMAAABPAAAATwFjiv3XAAAAhElEQVR4nMXVQQoAIQhAUe9/FC/pLAYayUm/EeT6YWGmoqpWharKG7n+XK5nt9L/LurMeV27oZHrReN0M6Oupr5S1GU0vhN1J7L27hp1QYXX1WtE5UxnNXI0ep7+pEGRpr95ooWObbXUm1npXWkFaF3vTqj9c+h8pVOb7gK6Yeje4tvwARi4FgcAh2V/AAAAAElFTkSuQmCC)}\\r\\n.webix_point_top{background-position:0 -36px}\\r\\n.webix_point_bottom{background-position:0 0}\\r\\n.webix_point_right{background-position:0 -22px}\\r\\n.webix_point_left{background-position:0 -9px}\\r\\n.webix_resize_handle{position:absolute;width:15px;height:15px;bottom:0;line-height:15px;right:-1px;text-align:center;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAMAAAAMCGV4AAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABZJREFUeAFjIAUwUshlpJDLSIhLGAAACQ4AFk79JaMAAAAASUVORK5CYII=);cursor:nw-resize}\\r\\n.webix_resize_frame{position:absolute;filter:alpha(opacity=10);opacity:.1;background:#3498db;display:block;border:1px solid #196090;box-shadow:1px 3px 6px #000}\\r\\n.webix_resize_cursor{cursor:nw-resize}\\r\\n.webix_tree .webix_scroll_cont>.webix_tree_leaves{padding:9px 10px 9px 9px}\\r\\n.webix_tree_item{clear:both;height:28px;line-height:28px;white-space:nowrap}\\r\\n.webix_tree_item.webix_selected{background:0 0}\\r\\n.webix_tree_item.webix_selected span{padding:4px 10px 4px 4px;margin-left:-4px;color:#fff;background:#27ae60}\\r\\n.webix_tree_checkbox{margin:1px 0 0;padding:0;float:left;vertical-align:middle;height:100%;width:13px}\\r\\n.webix_indeterminate{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gcCCSwfRyGesAAAAAxpVFh0Q29tbWVudAAAAAAAvK6ymQAAAExJREFUKM9jLCgo+M9AAmBhYGBgaGtrY+Tk5MSrsLCwkIGBgeE/EwOJgGQNLMgcJSUlBgYGBnQ/Md67d498G+jsB6hbGQfWSYykJg0AUMsPVoNrFX0AAAAASUVORK5CYII=);background-repeat:no-repeat;background-position:left center;height:100%;width:13px;margin-top:0!important}\\r\\n.webix_measure_size input,.webix_measure_size select,.webix_measure_size textarea{width:5px}\\r\\n.webix_measure_size div{margin-left:-5px;float:none}\\r\\n.webix_measure_size a,.webix_measure_size div{display:inline-block!important}\\r\\n.webix_tree_close,.webix_tree_file,.webix_tree_folder,.webix_tree_folder_open,.webix_tree_none,.webix_tree_open{float:left;width:20px;height:100%;cursor:pointer;margin:0;background-repeat:no-repeat}\\r\\n.webix_tree_close,.webix_tree_none,.webix_tree_open{background-position:center center}\\r\\n.webix_cell .webix_tree_close,.webix_cell .webix_tree_none,.webix_cell .webix_tree_open{background-color:transparent}\\r\\n.webix_tree_file,.webix_tree_folder,.webix_tree_folder_open{background-position:0 center;margin:0 2px}\\r\\n.webix_tree_leaves .webix_tree_leaves{margin-left:18px}\\r\\n.webixLineTree .webix_tree_leaves{margin-left:0}\\r\\n.webix_tree_close{background-image:url(data:image/gif;base64,R0lGODlhEgASALMJAMrKyt3d3ejp6d7f3+/v75aWlvf39////wAAAP///wAAAAAAAAAAAAAAAAAAAAAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0I5RTczQjVDMDdBMTFFMTgxRjc4Mzk4M0Q3MjVFQzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0I5RTczQjZDMDdBMTFFMTgxRjc4Mzk4M0Q3MjVFQzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozQjlFNzNCM0MwN0ExMUUxODFGNzgzOTgzRDcyNUVDMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozQjlFNzNCNEMwN0ExMUUxODFGNzgzOTgzRDcyNUVDMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAEAAAkALAAAAAASABIAAARJMMlJq704661B+SAIXAVhnKhBFKSZnmuLImhslXPN3ibi+6pdBXc4IIpB2YkGE1IKAoL0ICUInJNCYMDtDgJYiScUGnHO6LQkAgA7)}\\r\\n.webix_tree_open{background-image:url(data:image/gif;base64,R0lGODlhEgASALMJAMrKyt3d3ejp6d7f3+/v75aWlvf39wAAAP///////wAAAAAAAAAAAAAAAAAAAAAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzY0QzNGM0VDMDdBMTFFMUE3MDlCNUM2QjU1NDA5RjgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzY0QzNGM0ZDMDdBMTFFMUE3MDlCNUM2QjU1NDA5RjgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozNjRDM0YzQ0MwN0ExMUUxQTcwOUI1QzZCNTU0MDlGOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozNjRDM0YzREMwN0ExMUUxQTcwOUI1QzZCNTU0MDlGOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAEAAAkALAAAAAASABIAAARDMMlJq704661B+SAIXAVhnKhBFKSZnmv7wqxVzmpd3Uff5zKEUAi0uV4xm4DAbBIEOkohMKhaB4HoxBMKjTjgsFgSAQA7)}\\r\\n.webix_tree_file{background-image:url(data:image/gif;base64,R0lGODlhEgASAIABAI6Pj////yH5BAEKAAEALAAAAAASABIAAAInjI+JwM26XAtPyTnTfU5veGyXJ2ZhaRpoSq0AicKlLNJftNojyCMFADs=)}\\r\\n.webix_tree_folder{background-image:url(data:image/gif;base64,R0lGODlhEgASAIABAI6Pj////yH5BAEKAAEALAAAAAASABIAAAIhjI+py90AI3Syvoqj27mfnn2gZYxkYEpiCqypa27yTC8FADs=)}\\r\\n.webix_tree_folder_open{background-image:url(data:image/gif;base64,R0lGODlhEgASAIABAI6Pj////yH5BAEKAAEALAAAAAASABIAAAIjjI+py90AI3SyvorjkQ7pDAJBSJaTaGpjKq7pxsJmR9c2UwAAOw==)}\\r\\n.webix_tree_img{background:0 0;float:left;width:25px;height:28px}\\r\\n.webix_tree_plus2{background-image:url(data:image/gif;base64,R0lGODlhEgAYAMIDAFVVVYiIiMHBwf///////////////////yH5BAEKAAQALAAAAAASABgAAAM8SLoq/LDFKWl0FuLMNq8faAVkWVLBoK5DgK7A6k6pGqtzlAI83wpAIKM2uLVeNhmSdaSZTKGodEqtWjkJADs=);background-repeat:no-repeat}\\r\\n.webix_tree_plus3{background-image:url(data:image/gif;base64,R0lGODlhEgAYAMIDAFVVVYiIiMHBwf///////////////////yH5BAEKAAQALAAAAAASABgAAANCSLoq/LDFKWl0FuLMNq8faAVkWVLBoK5DgK7A6k6pGqtzlAI83wpAIKM2uLVeNhmSdaSZTB9PNLSQcqwZrEVL4SYAADs=)}\\r\\n.webix_tree_plus4{background-image:url(data:image/gif;base64,R0lGODlhEgAYAMIDAFVVVYiIiMHBwf///////////////////yH5BAEKAAQALAAAAAASABgAAAM5SLrc/jDKSau9mIbNeQxDKA7BJwJiCYEhGqoPCMwzKdw3ww4uabap38i36nQqgkwSs7w0LU+kMpIAADs=)}\\r\\n.webix_tree_minus2{background-image:url(data:image/gif;base64,R0lGODlhEgAYAMIDAFVVVYiIiMHBwf///////////////////yH5BAEKAAQALAAAAAASABgAAAM5SLoq/LDFKWl0FuLMNq8faAVkWVLBoK5DgLKrO6Vw+wI43go8z9AwWQTIEkKIMZTJFGo6n9ColJMAADs=);background-repeat:no-repeat}\\r\\n.webix_tree_minus3{background-image:url(data:image/gif;base64,R0lGODlhEgAYAMIDAFVVVYiIiMHBwf///////////////////yH5BAEKAAQALAAAAAASABgAAAM+SLoq/LDFKWl0FuLMNq8faAVkWVLBoK5DgLKrO6Vw+wI43go8z9AwWQTIEkKIMZTJ9PE0QwsnR5qhWqwUbAIAOw==)}\\r\\n.webix_tree_minus4{background-image:url(data:image/gif;base64,R0lGODlhEgAYAMIDAFVVVYiIiMHBwf///////////////////yH5BAEKAAQALAAAAAASABgAAAM1SLrc/jDKSau9mIbNeQxDKA7BN4olBJ6kCbwvKcwzs57pc4+5s6OfTqciyBQxx0vSsiQaIwkAOw==)}\\r\\n.webix_tree_line1{background-image:url(data:image/gif;base64,R0lGODlhGQAcAIABAMHBwf///yH5BAEKAAEALAAAAAAZABwAAAIxjI8Gyc3r4pP0wCovdnpPz4Gh+JFIZ6KkKrKg68GbjNGVTeGZmeiRP+IphBbi0EgrAAA7)}\\r\\n.webix_tree_line2{background-image:url(data:image/gif;base64,R0lGODlhGQAcAIABAMHBwf///yH5BAEKAAEALAAAAAAZABwAAAIpjI8Gyc3r4pP0wCovdnpPz4Gh+JFIZ6KkKgLuC7/mTNf2jef6zvc+XgAAOw==);background-repeat:no-repeat}\\r\\n.webix_tree_line3{background-image:url(data:image/gif;base64,R0lGODlhGQAcAIABAMHBwf///yH5BAEKAAEALAAAAAAZABwAAAI1jI8Gyc3r4pP0wCovdnpPz4Gh+JFIZ6KkKgLuC78VC9KeveGYPpsJTwFmfCeixahABoQRXQEAOw==)}\\r\\n.webix_tree_line4{background-image:url(data:image/gif;base64,R0lGODlhGQAcAIABAMHBwf///yH5BAEKAAEALAAAAAAZABwAAAIjjI+py+0Po5y02ouz3rxDAIZi+HGAiW6nmmqr22avHGMzUwAAOw==)}\\r\\n.webix_tree_blank{background-image:url(data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)}\\r\\n.webix_tree_img{background-color:#fff}\\r\\n.webix_cal_month{height:22px;position:relative;padding-top:17px;padding-bottom:5px;box-sizing:content-box}\\r\\n.webix_cal_next_button,.webix_cal_prev_button{cursor:pointer;position:absolute;top:17px;width:30px;height:28px;background-position:11.5px 4px;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}\\r\\n.webix_cal_prev_button{left:17px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAALCAYAAACzkJeoAAAASUlEQVR42p2QMQoAQQgD79EZ0Mqn5xCu2cPdYgUbJ0rMMxXgLeiuKq8gsJAz8weQ0QiwJEfECnr4wdlEnwJ68+yyhReC+c85oRecj0Um+pmo9wAAAABJRU5ErkJggg==);background-repeat:no-repeat}\\r\\n.webix_cal_next_button{right:17px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAALCAYAAACzkJeoAAAARElEQVR42qXPsQoAIAhF0T76PdDJT7cUmtQhcmk4N8QVQ9JXN2bmgWOgqp+BiCRG2AYAMoi3/LxYdyagAnhA6G93TrABZaJFJjrFY8IAAAAASUVORK5CYII=);background-repeat:no-repeat}\\r\\n.webix_view>.webix_cal_header{margin:0 17px 10px;height:auto}\\r\\n.webix_view>.webix_cal_header div{float:left;text-align:center;height:19px;color:#666;border-bottom:#cecece 1px solid;margin-bottom:7px}\\r\\n.webix_cal_body{margin:0 17px}\\r\\n.webix_cal_body .webix_cal_row{clear:both}\\r\\n.webix_cal_body .webix_cal_row>div{float:left;text-align:center;height:100%}\\r\\n.webix_cal_body .webix_cal_select,.webix_cal_body .webix_cal_select.webix_cal_today,.webix_cal_body .webix_selected{color:#fff;background:#27ae60}\\r\\n.webix_cal_day,.webix_cal_week_num{cursor:pointer;font-size:12px;color:#666;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}\\r\\n.webix_cal_week_num{color:#bfbfbf;cursor:default;margin-right:0;border-right:1px solid #cecece}\\r\\n.webix_cal_event{font-weight:700}\\r\\n.webix_cal_inactive{background:#888}\\r\\n.webix_cal_day_disabled,.webix_cal_day_disabled.webix_cal_event{color:#ccc;background:#f0f0f0}\\r\\n.webix_hours .webix_cal_day_disabled,.webix_hours .webix_cal_day_disabled.webix_cal_event,.webix_minutes .webix_cal_day_disabled,.webix_minutes .webix_cal_day_disabled.webix_cal_event{background:#fff;font-weight:400;text-decoration:line-through}\\r\\n.webix_cal_month_name{cursor:pointer;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}\\r\\n.webix_cal_block{float:left;text-align:center;cursor:pointer;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}\\r\\n.webix_selected{background:#27ae60;color:#fff}\\r\\n.webix_cal_footer{text-align:center;font-size:12px;color:#444;margin:4px 17px;padding-top:2px;cursor:pointer}\\r\\n.webix_cal_icons{float:right;padding:4px}\\r\\n.webix_cal_time{padding:2px 4px}\\r\\n.webix_cal_time_icons{float:left}\\r\\n.webix_cal_icons .webix_cal_icon{text-align:center;padding:2px 4px}\\r\\n.webix_cal_icon:hover,.webix_cal_month_name:hover,.webix_cal_time:hover{text-decoration:underline;color:#3498db}\\r\\n.webix_cal_month_name.webix_readonly:hover{text-decoration:none;color:#666;cursor:default}\\r\\n.webix_time_header{padding:17px 17px 1px}\\r\\n.webix_time_header .webix_cal_hours,.webix_time_header .webix_cal_minutes{display:inline-block;font-size:14px;text-align:center;height:26px;line-height:22px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;border-bottom:1px solid #ddd}\\r\\n.webix_time_header .webix_cal_minutes{padding-left:1px;border-left:none}\\r\\n.webix_time_header .webix_cal_hours{border-right:none!important}\\r\\n.webix_cal_body .webix_hours{float:left;border-right:1px solid #cecece;padding-right:1px}\\r\\n.webix_cal_body .webix_minutes{float:left;padding-left:1px}\\r\\n.webix_cal_block_empty{float:left;text-align:center}\\r\\n.webix_time_footer{text-align:center;font-size:12px;padding:7px 17px 0;cursor:pointer}\\r\\n.webix_cal_done{margin-top:3px;border-radius:6px;font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;outline:0;background:#27ae60;color:#fff;border-color:#27ae60;border-bottom:1px solid #209150;box-shadow:none;float:right}\\r\\n.webix_cal_blurred_hours{background-color:#f7f7f7}\\r\\n.webix_property_line{clear:both;width:100%;min-height:24px;height:auto}\\r\\n.webix_property_label,.webix_property_value{padding-left:10px;float:left;border-bottom:1px solid #ddd;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;height:28px;line-height:27px}\\r\\n.webix_property_label{border-right:1px solid #ddd}\\r\\n.webix_property_label_line{padding-left:10px;color:#fff;font-size:18px;background:#3498db;border-bottom:1px solid #ebebeb;line-height:28px}\\r\\n.webix_property_label_line .webix_el_button,.webix_property_label_line .webix_el_label,.webix_property_label_line .webix_inp_label{color:#fff}\\r\\n.webix_property_label_line .webix_el_label{font-size:18px}\\r\\n.webix_property_label_line .webix_inp_counter_next,.webix_property_label_line .webix_inp_counter_prev,.webix_property_label_line .webix_segment_0,.webix_property_label_line .webix_segment_1,.webix_property_label_line .webix_segment_N,.webix_property_label_line .webixtype_base,.webix_property_label_line .webixtype_next,.webix_property_label_line .webixtype_prev{border-color:#d9d9d9;background-color:transparent;color:#fff}\\r\\n.webix_property_label_line .webix_el_arrow.webixtype_next_arrow{border-left:none;border-bottom:none}\\r\\n.webix_property_label_line .webix_el_arrow.webixtype_prev_arrow{border-right:none;border-bottom:none}\\r\\n.webix_property_label_line .webix_inp_counter_next:hover,.webix_property_label_line .webix_inp_counter_prev:hover,.webix_property_label_line .webix_segment_0:hover,.webix_property_label_line .webix_segment_1:hover,.webix_property_label_line .webix_segment_N:hover,.webix_property_label_line .webixtype_base:hover{color:#fff;background-color:rgba(0,0,0,.05)}\\r\\n.webix_property_label_line .webix_inp_counter_next:active,.webix_property_label_line .webix_inp_counter_prev:active,.webix_property_label_line .webix_segment_0:active,.webix_property_label_line .webix_segment_1:active,.webix_property_label_line .webix_segment_N:active,.webix_property_label_line .webixtype_base:active{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_property_label_line .webix_inp_counter_next:focus,.webix_property_label_line .webix_inp_counter_prev:focus,.webix_property_label_line .webix_segment_0:focus,.webix_property_label_line .webix_segment_1:focus,.webix_property_label_line .webix_segment_N:focus,.webix_property_label_line .webixtype_base:focus{background-color:rgba(0,0,0,.07);color:#fff}\\r\\n.webix_property_label_line .webix_inp_static,.webix_property_label_line input[type=text]{border-color:#fff}\\r\\n.webix_property_label_line .webix_inp_static:focus,.webix_property_label_line input[type=text]:focus{border-color:#fff;box-shadow:none}\\r\\n.webix_property_label_line .webix_input_icon{border-color:#d9d9d9;background-color:transparent;color:#666}\\r\\n.webix_property_label_line .webix_input_icon:active,.webix_property_label_line .webix_input_icon:focus,.webix_property_label_line .webix_input_icon:hover{background-color:transparent;color:#666}\\r\\n.webix_property_label_line .webix_pressed .webix_el_arrow,.webix_property_label_line .webix_pressed .webix_inp_counter_next,.webix_property_label_line .webix_pressed .webix_inp_counter_prev,.webix_property_label_line .webix_pressed .webix_input_icon,.webix_property_label_line .webix_pressed .webix_segment_0,.webix_property_label_line .webix_pressed .webix_segment_1,.webix_property_label_line .webix_pressed .webix_segment_N,.webix_property_label_line .webix_pressed .webixtype_base,.webix_property_label_line .webix_pressed .webixtype_next,.webix_property_label_line .webix_pressed .webixtype_prev{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_property_label_line .webix_selected.webix_segment_0,.webix_property_label_line .webix_selected.webix_segment_1,.webix_property_label_line .webix_selected.webix_segment_N{border-color:#d9d9d9;background-color:#27ae60;color:#fff}\\r\\n.webix_property_label_line .webix_selected.webix_segment_0:hover,.webix_property_label_line .webix_selected.webix_segment_1:hover,.webix_property_label_line .webix_selected.webix_segment_N:hover{background-color:#24a259}\\r\\n.webix_property_label_line .webix_selected.webix_segment_0:active,.webix_property_label_line .webix_selected.webix_segment_0:focus,.webix_property_label_line .webix_selected.webix_segment_1:active,.webix_property_label_line .webix_selected.webix_segment_1:focus,.webix_property_label_line .webix_selected.webix_segment_N:active,.webix_property_label_line .webix_selected.webix_segment_N:focus{background-color:#295}\\r\\n.webix_property_label_line .webix_segment_1,.webix_property_label_line .webix_segment_N,.webix_property_label_line .webix_selected.webix_segment_1,.webix_property_label_line .webix_selected.webix_segment_N{margin-left:0;border-left:none}\\r\\n.webix_property_label_line .webix_img_btn:active,.webix_property_label_line .webix_img_btn_top:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_property_label_line .webix_img_btn:focus,.webix_property_label_line .webix_img_btn_top:focus{background-color:#2489cc}\\r\\n.webix_property_label_line .webix_img_btn:hover,.webix_property_label_line .webix_img_btn_top:hover{background-color:#268fd5}\\r\\n.webix_property_label_line .webix_icon_button{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_property_label_line .webix_el_icon,.webix_property_label_line .webix_icon_btn,.webix_property_label_line .webix_icon_button,.webix_property_label_line .webix_img_btn,.webix_property_label_line .webix_img_btn_abs,.webix_property_label_line .webix_img_btn_abs .webix_icon,.webix_property_label_line .webix_img_btn_abs .webix_img_btn_text,.webix_property_label_line .webix_img_btn_top .webix_icon,.webix_property_label_line .webix_img_btn_top .webix_img_btn_text{color:#fff}\\r\\n.webix_property_label_line .webix_el_box .webix_img_btn_abs:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_property_label_line .webix_el_icon .webix_icon_button:focus{background-color:rgba(0,0,0,.07)}\\r\\n.webix_property_label_line .webix_el_box .webix_img_btn_abs:hover,.webix_property_label_line .webix_el_icon .webix_icon_button:hover{background-color:rgba(0,0,0,.05)}\\r\\n.webix_property_label_line .webix_control{border-color:#3498db}\\r\\n.webix_property_label_line .webix_icon_button .webix_icon{font-size:23px;height:27px;width:27px;color:#fff}\\r\\n.webix_property_label_line .webix_img_btn,.webix_property_label_line .webix_img_btn_top{border-width:0}\\r\\n.webix_property_col_val{width:100%;height:100%;-moz-user-select:text;-webkit-user-select:text;user-select:text}\\r\\n.webix_property_col_ind{float:right;border:1px solid #ddd;border-radius:2px;width:30px;cursor:pointer;height:13px;margin:3px 10px 3px 0}\\r\\n.webix_property_value{text-overflow:ellipsis;white-space:nowrap}\\r\\n.webix_property_check{margin-top:5px}\\r\\n.webix_tooltip{display:none;position:absolute;z-index:10000;background-color:#fff;padding:5px 10px;border:1px solid #ddd;font-family:'PT Sans',Tahoma;font-size:15px;color:#666;border-radius:0;box-shadow:1px 1px 0 0 #CCC}\\r\\n.webix_color_row{clear:both;white-space:nowrap}\\r\\n.webix_color_palette{text-align:left;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}\\r\\n.webix_color_row,.webix_color_row div,.webix_color_selector{line-height:0;font-size:0}\\r\\n.webix_color_row div{display:inline-block;width:15px;height:15px;cursor:default}\\r\\n.webix_color_selector{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;border:2px solid #f3f3f3}\\r\\n.webix_daterange .webix_view{background-color:#fff}\\r\\n.webix_daterange .webix_range_0 .webix_cal_next_button,.webix_daterange .webix_range_1 .webix_cal_next_button,.webix_daterange .webix_range_1 .webix_cal_prev_button,.webix_daterange .webix_range_N .webix_cal_prev_button{visibility:hidden}\\r\\n.webix_daterange .webix_range_1 .webix_cal_next_button:hover,.webix_daterange .webix_range_1 .webix_cal_prev_button:hover{cursor:default}\\r\\n.webix_daterange .webix_range_1 .webix_cal_month_name:hover{text-decoration:none;color:inherit;cursor:default}\\r\\n.webix_daterange .webix_range_left .webix_cal_next_button:hover,.webix_daterange .webix_range_right .webix_cal_prev_button:hover{cursor:default}\\r\\n.webix_cal_range_start{border-radius:3px 0 0 3px}\\r\\n.webix_cal_range_end{border-radius:0 3px 3px 0}\\r\\n.webix_cal_event.webix_cal_range_end,.webix_cal_event.webix_cal_range_start,.webix_cal_range_end,.webix_cal_range_start{background-color:#27ae60;color:#fff}\\r\\n.webix_cal_body .webix_cal_today.webix_cal_range_start{background-color:#27ae60}\\r\\n.webix_cal_body .webix_cal_outside.webix_cal_range_end,.webix_cal_body .webix_cal_outside.webix_cal_range_start,.webix_cal_outside.webix_cal_range{background-color:transparent;color:#666}\\r\\n.webix_daterange .webix_cal_icons{text-align:right;padding:0 4px}\\r\\n.webix_daterange .webix_cal_icons .webix_cal_icon{border-top:1px solid #ddd}\\r\\n.webix_daterange .webix_cal_time{display:none}\\r\\n.webix_daterange .webix_cal_timepicker .webix_range_time_start,.webix_daterange .webix_range_timepicker .webix_cal_time{display:block}\\r\\n.webix_daterange .webix_range_timepicker .webix_range_time_start{float:left}\\r\\n.webix_daterange .webix_range_timepicker .webix_range_time_end{float:right}\\r\\n.webix_daterange .webix_range_footer .webix_cal_footer{padding:0}\\r\\n.webix_view.webix_toolbar .webix_el_button{background:0 0}\\r\\n.webix_el_button button,.webix_el_button input,.webix_el_toggle button,.webix_el_toggle input,.webixbutton{border-radius:6px;height:100%;width:100%;cursor:pointer;color:#fff;font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;border-bottom:1px solid #268fd5;outline:0;-webkit-appearance:none}\\r\\n.webix_el_button .webix_img_btn,.webix_el_button .webix_img_btn .webix_img_btn_text,.webix_el_button .webix_img_btn_top,.webix_el_button .webix_img_btn_top .webix_img_btn_text,.webix_el_toggle .webix_img_btn,.webix_el_toggle .webix_img_btn .webix_img_btn_text,.webix_el_toggle .webix_img_btn_top,.webix_el_toggle .webix_img_btn_top .webix_img_btn_text{color:#666}\\r\\n.webix_el_button .webix_img_btn,.webix_el_button .webix_img_btn_top,.webix_el_toggle .webix_img_btn,.webix_el_toggle .webix_img_btn_top{border:0}\\r\\n.webixbutton,.webixtype_base,.webixtype_next,.webixtype_prev{background:#3498db;color:#fff;font-size:15px;font-family:'PT Sans',Tahoma;outline:0;padding:0;border:0}\\r\\n.webixtype_form{font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;outline:0;background:#27ae60;color:#fff;border-color:#27ae60;border-bottom:1px solid #209150;box-shadow:none}\\r\\n.webix_el_button .webixtype_danger{background:#ce5545;border:1px solid #ce5545;border-bottom:1px solid #b13e2f;color:#fff}\\r\\n.webix_el_button .webix_el_box,.webix_el_toggle .webix_el_box{position:relative}\\r\\n.webix_el_button .webix_el_arrow,.webix_el_toggle .webix_el_arrow{position:absolute;z-index:1}\\r\\n.webixtype_next,.webixtype_prev{position:absolute;z-index:2;top:0}\\r\\ninput.webixtype_prev{border-left-width:0;border-radius:0 6px 6px 0;-webkit-border-radius:0 6px 6px 0;-moz-border-radius-topleft:0;-moz-border-radius-bottomleft:0;-moz-border-radius-topright:6px;-moz-border-radius-bottomright:6px}\\r\\ninput.webixtype_next{border-right-width:0;border-radius:6px 0 0 6px;-webkit-border-radius:6px 0 0 6px;-moz-border-radius-topleft:6px;-moz-border-radius-bottomleft:6px;-moz-border-radius-topright:0;-moz-border-radius-bottomright:0}\\r\\n.webix_el_arrow{width:18px;height:18px;font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;outline:0;color:#fff;background:#3498db;border:1px solid #ddd}\\r\\n.webixtype_prev_arrow{-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg)}\\r\\n.webixtype_next_arrow{-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg)}\\r\\n.webix_img_btn_abs_top .webix_icon,.webix_img_btn_top .webix_icon{font-size:22px;position:absolute;top:8px;left:50%}\\r\\n.webix_img_btn_abs .webix_icon{margin-left:8px}\\r\\n.webix_img_btn_abs.webix_img_btn_abs_top .webix_icon,.webix_img_btn_top .webix_icon{margin-left:-10px}\\r\\n.webix_img_btn,.webix_img_btn_top{vertical-align:top;background-color:transparent;border:none;width:100%;padding:0}\\r\\n.webix_img_btn,.webix_img_btn_abs{cursor:pointer;text-align:left;background-repeat:no-repeat;background-position:2px center;height:100%;font-size:15px}\\r\\n.webix_img_btn .webix_icon,.webix_img_btn_abs .webix_icon{color:#fff}\\r\\n.webix_img_btn,.webix_img_btn_abs{padding:0}\\r\\n.webix_img_btn .webix_image,.webix_img_btn_abs .webix_image{background-repeat:no-repeat;background-position:center center;float:left;vertical-align:top}\\r\\n.webix_img_btn_abs.webix_img_btn_abs_top .webix_image{background-position:center 5px}\\r\\n.webix_img_btn_top{text-align:center;background-repeat:no-repeat}\\r\\n.webix_img_btn_text{position:absolute;left:0;bottom:4px;width:100%;text-align:center;cursor:pointer;color:#fff}\\r\\n.webix_img_btn_abs{background-position:center center}\\r\\n.webix_img_btn_top{background-position:center top;vertical-align:top}\\r\\n.webix_img_btn_abs .webix_img_btn_text{bottom:8px}\\r\\n.webix_pressed .webix_img_btn,.webix_pressed .webix_img_btn_top{box-shadow:inset 0 3px 5px rgba(0,0,0,.125);background-color:rgba(0,0,0,.05)}\\r\\n.webix_pressed .webix_img_btn_abs+input,.webix_pressed .webixtype_base{box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_control .webix_disabled_box .webix_el_arrow,.webix_control .webix_disabled_box .webixtype_base,.webix_control .webix_disabled_box .webixtype_danger,.webix_control .webix_disabled_box .webixtype_form,.webix_control .webix_disabled_box .webixtype_next,.webix_control .webix_disabled_box .webixtype_prev{color:#aaa;background:#e9e9e9;border:1px solid #e9e9e9;text-shadow:none}\\r\\n.webix_control .webix_disabled_box .webix_img_btn_text,.webix_disabled_view.webix_control .webix_icon,.webix_disabled_view.webix_control .webix_icon_btn,.webix_layout_toolbar.webix_toolbar .webix_disabled_view.webix_control .webix_disabled_box .webix_img_btn_text,.webix_layout_toolbar.webix_toolbar .webix_disabled_view.webix_control .webix_icon,.webix_layout_toolbar.webix_toolbar .webix_disabled_view.webix_control .webix_icon_btn{color:#aaa}\\r\\n.webixbutton{width:auto;height:auto;padding:8px 15px}\\r\\n.webix_control{background:0 0}\\r\\n.webix_control button,.webix_control input,.webix_control textarea,.webix_el_label,.webix_inp_bottom_label,.webix_inp_label,.webix_inp_top_label{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:'PT Sans',Tahoma}\\r\\n.webix_el_box{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;padding:3px 2px;height:100%;width:100%;font-size:15px;overflow:hidden}\\r\\n.webix_el_colorpicker input,.webix_el_combo input,.webix_el_datepicker input,.webix_el_search input,.webix_el_text input{height:100%;padding:0 10px;border:1px solid #ddd;color:#666;font-size:15px;background:#fff;font-family:'PT Sans',Tahoma;border-color:#ccc;-webkit-appearance:none}\\r\\n.webix_inp_label,.webix_inp_top_label,.webix_label_right{color:#666;text-transform:none;font-size:15px}\\r\\n.webix_inp_label{float:left;padding-top:1px;padding-left:3px;padding-right:7.5px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}\\r\\n.webix_inp_top_label{float:none;padding:3px 2px 0}\\r\\n.webix_inp_bottom_label{font-size:13px;color:#737373}\\r\\n.webix_label_right{padding-left:7.5px}\\r\\n.webix_el_checkbox .webix_label_right{display:inline-block;padding-top:2px}\\r\\n.webix_el_label{color:#666;line-height:32px;padding:3px 2px}\\r\\n.webix_toolbar .webix_el_label{padding-left:10px;text-transform:none}\\r\\n.webix_el_select select{height:100%;font-size:15px;border:1px solid #ddd}\\r\\nbody:not(:-moz-handler-blocked) .webix_el_select select{padding:.2em}\\r\\n.webix_all_segments,.webix_el_group{height:100%;white-space:nowrap}\\r\\n.webix_inp_counter_next,.webix_inp_counter_prev,.webix_inp_counter_value{border:1px solid #ddd;cursor:pointer;-webkit-appearance:none;width:20px;height:100%;vertical-align:top}\\r\\n.webix_inp_counter_value{font-size:15px;width:50px;color:#666;text-align:center;border-left-width:0;border-right-width:0;-webkit-appearance:none;border-radius:0}\\r\\n.webix_inp_counter_prev{font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;outline:0;color:#fff;background:#3498db;border-bottom:1px solid #2386c8;-webkit-border-radius:6px 0 0 6px;-moz-border-radius-topleft:6px;-moz-border-radius-bottomleft:6px;-moz-border-radius-topright:0;-moz-border-radius-bottomright:0;border-radius:6px 0 0 6px}\\r\\n.webix_inp_counter_next{font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;outline:0;color:#fff;background:#3498db;border-bottom:1px solid #2386c8;-webkit-border-radius:0 6px 6px 0;-moz-border-radius-topleft:0;-moz-border-radius-bottomleft:0;-moz-border-radius-topright:6px;-moz-border-radius-bottomright:6px;border-radius:0 6px 6px 0}\\r\\n.webix_el_textarea textarea{border:1px solid #ddd;height:100%;margin:0;padding:5px 10px;color:#666;resize:none;font-size:15px}\\r\\n.webix_el_textarea .webix_inp_label{padding-top:9.5px}\\r\\n.webix_segment_0,.webix_segment_1{height:100%}\\r\\n.webix_segment_0{-webkit-border-radius:6px 0 0 6px;-moz-border-radius-topleft:6px;-moz-border-radius-bottomleft:6px;-moz-border-radius-topright:0;-moz-border-radius-bottomright:0;border-radius:6px 0 0 6px}\\r\\n.webix_segment_N{height:100%;-webkit-border-radius:0 6px 6px 0;-moz-border-radius-topleft:0;-moz-border-radius-bottomleft:0;-moz-border-radius-topright:6px;-moz-border-radius-bottomright:6px;border-radius:0 6px 6px 0}\\r\\n.webix_segment_N:first-child{-webkit-border-radius:6px;-moz-border-radius-topleft:6px;-moz-border-radius-bottomleft:6px;-moz-border-radius-topright:6px;-moz-border-radius-bottomright:6px;border-radius:6px}\\r\\n.webix_segment_0,.webix_segment_1,.webix_segment_N{-webkit-appearance:none;background:#3498db;color:#fff;font-size:15px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;border-bottom:1px solid #268fd5;outline:0;cursor:pointer;padding:0}\\r\\n.webix_segment_0.webix_selected,.webix_segment_1.webix_selected,.webix_segment_N.webix_selected{color:#fff;background:#27ae60;border-color:#27ae60}\\r\\n.webix_inp_static{border:1px solid #ddd;background:#fff;overflow:hidden;padding:0 10px;height:100%;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;float:left}\\r\\n.webix_inp_static .webix_placeholder{color:#b3b3b3}\\r\\n.webix_el_colorpicker,.webix_el_combo,.webix_el_datepicker,.webix_el_richselect,.webix_el_search{font-size:15px}\\r\\n.webix_el_colorpicker .webix_el_box,.webix_el_combo .webix_el_box,.webix_el_datepicker .webix_el_box,.webix_el_richselect .webix_el_box,.webix_el_search .webix_el_box{color:#666;position:relative}\\r\\n.webix_el_colorpicker .webix_inp_static,.webix_el_colorpicker input,.webix_el_combo .webix_inp_static,.webix_el_combo input,.webix_el_datepicker .webix_inp_static,.webix_el_datepicker input,.webix_el_richselect .webix_inp_static,.webix_el_richselect input,.webix_el_search .webix_inp_static,.webix_el_search input{color:#666;padding-right:24px;background:#fff;font-family:'PT Sans',Tahoma;border-color:#ccc;-webkit-appearance:none}\\r\\n.webix_el_colorpicker .webix_input_icon,.webix_el_combo .webix_input_icon,.webix_el_datepicker .webix_input_icon,.webix_el_richselect .webix_input_icon,.webix_el_search .webix_input_icon{right:2px;background:0 0;z-index:1;position:absolute}\\r\\n.webix_el_combo .webix_input_icon,.webix_el_richselect .webix_input_icon{padding-left:7px;width:19px}\\r\\n.webix_el_colorpicker .webix_input_icon,.webix_el_datepicker .webix_input_icon,.webix_el_search .webix_input_icon{padding-left:5px;width:21px}\\r\\n.webix_view button::-moz-focus-inner{padding:0;border:0}\\r\\n.webix_el_radio .webix_inp_label{line-height:normal!important;padding-top:6.5px}\\r\\n.webix_el_checkbox input,.webix_inp_radio_border input{margin:0;padding:0;float:left}\\r\\n.webix_line_break{clear:both}\\r\\n.webix_custom_checkbox,.webix_custom_radio{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}\\r\\n.webix_radio_option{display:table;float:left;height:32px;margin-right:20px}\\r\\n.webix_el_radio .webix_label_right,.webix_inp_radio_border{display:table-cell;vertical-align:middle}\\r\\n.webix_invalid .webix_custom_radio,.webix_invalid .webix_el_box .webix_inp_static,.webix_invalid .webix_el_box input,.webix_invalid .webix_el_box select,.webix_invalid .webix_el_box textarea,input.webix_invalid,select.webix_invalid,textarea.webix_invalid{background-color:#fff6f6;border-color:#fea5a8}\\r\\n.webix_invalid .webix_inp_bottom_label{font-size:13px;color:#fd595f}\\r\\n.webix_el_colorpicker .webix_input_icon{padding-left:0;top:7px;right:8px;width:24px;height:24px;border-radius:6px}\\r\\n.webix_el_search .webix_el_box{position:relative}\\r\\n.webix_el_search span{position:absolute;right:19px;cursor:pointer;padding-left:7px}\\r\\n.webix_view.webix_control>.webix_disabled{filter:alpha(opacity=0);opacity:0}\\r\\n.webix_view.webix_control .webix_disabled_box .webix_input_icon,.webix_view.webix_control .webix_disabled_box button,.webix_view.webix_control .webix_disabled_box label{color:#aaa}\\r\\n.webix_view.webix_control .webix_disabled_box .webix_inp_static,.webix_view.webix_control .webix_disabled_box input,.webix_view.webix_control .webix_disabled_box select,.webix_view.webix_control .webix_disabled_box textarea{color:#aaa;background:#eee}\\r\\n.webix_view.webix_control .webix_disabled_box .webix_inp_counter_next,.webix_view.webix_control .webix_disabled_box .webix_inp_counter_prev,.webix_view.webix_control .webix_disabled_box .webix_segment_0,.webix_view.webix_control .webix_disabled_box .webix_segment_1,.webix_view.webix_control .webix_disabled_box .webix_segment_N{color:#aaa;background:#e9e9e9;border:1px solid #e9e9e9;text-shadow:none}\\r\\n.webix_disabled_top_label{color:#aaa}\\r\\nlabel.webix_required:after{padding-left:4px;content:\\\"*\\\";color:red}\\r\\n.webix_multicombo .webix_inp_static{padding:0 3px}\\r\\n.webix_el_text .webix_multicombo_input{background-color:transparent;border:0;float:left;vertical-align:middle;padding:0;color:#666;font-size:15px;font-family:'PT Sans',Tahoma;margin-left:7px}\\r\\n.webix_el_text .webix_multicombo_input:focus{border:0;box-shadow:none}\\r\\n.webix_multicombo_listbox{width:auto;line-height:1;margin:0;padding:0;list-style:none}\\r\\n.webix_multicombo_tag,.webix_multicombo_value{padding:0 5px 0 7px;background-color:#f2f2f2;display:inline-block;margin:3px;float:left;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_multicombo_tag{min-width:15px;text-align:center;padding:0 5px}\\r\\n.webix_multicombo_delete{margin-left:10px;padding:0 5px;color:#404040;cursor:pointer}\\r\\n.webix_multilist .webix_selected{background:#f2f2f2;color:#666}\\r\\n.webix_el_tabbar{background:0 0}\\r\\n.webix_all_tabs{height:100%;display:table}\\r\\n.webix_tab_filler{display:table-cell;background:0 0;font-size:1px;border-bottom:1px solid #ddd;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webix_item_tab:first-child{border-left:1px solid #ddd}\\r\\n.webix_item_tab{display:table-cell;text-align:center;vertical-align:middle;overflow:hidden;cursor:pointer;border:1px solid #ddd;border-left-width:0;background:#a4b4bf;color:#fff;-webkit-border-radius:4px 4px 0 0;-moz-border-radius-topleft:4px;-moz-border-radius-bottomleft:0;-moz-border-radius-topright:4px;-moz-border-radius-bottomright:0;border-radius:4px 4px 0 0;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webixtype_bottom .webix_item_tab{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}\\r\\n.webix_item_tab.webix_selected{border-bottom-width:0;background:#3498db;color:#fff;border-color:#3498db}\\r\\n.webixtype_bottom .webix_item_tab.webix_selected{border-bottom-width:1px}\\r\\n.webix_before_all_tabs{width:100%}\\r\\n.webix_after_all_tabs{width:100%;border-left:1px solid #ddd;border-right:1px solid #ddd;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webix_view.webix_control .webix_disabled_box .webix_item_tab{color:#aaa;background:#e9e9e9;border:1px solid #e9e9e9;text-shadow:none}\\r\\n.webix_el_tabbar .webixtype_icon .webix_img_btn_top,.webix_el_tabbar .webixtype_iconTop .webix_img_btn_top,.webix_el_tabbar .webixtype_image .webix_img_btn_top{background-position:center 0;position:relative;height:100%}\\r\\n.webix_tab_more_icon{cursor:pointer;display:table-cell;overflow:hidden;text-align:center;box-sizing:border-box;vertical-align:middle;padding:0 3px}\\r\\n.webix_tab_more_icon .webix_icon{width:100%}\\r\\n.webix_tab_list .webix_list_item:last-child{border-bottom:none}\\r\\n.webix_icon.webix_tab_close{font-size:12px;float:right;padding:4px;margin-top:-4px}\\r\\n.webix_menu .webix_list_item:active,.webix_menu .webix_list_item:focus,.webix_menu .webix_list_item:hover,.webix_menu-x .webix_list_item:active,.webix_menu-x .webix_list_item:focus,.webix_menu-x .webix_list_item:hover{background:rgba(100,100,100,.1)}\\r\\n.webix_menu .webix_list_item,.webix_menu-x .webix_list_item{border:none;text-decoration:none;background:#fff;height:34px}\\r\\n.webix_menu .webix_list_item .webix_submenu_icon,.webix_menu-x .webix_list_item .webix_submenu_icon{float:right;text-align:right;position:relative;margin-left:4px}\\r\\n.webix_menu-x .webix_list_item:first-child{margin-left:0}\\r\\n.webix_menu-x .webix_submenu_icon{top:13px}\\r\\n.webix_menu-x{border:none;background:0 0}\\r\\n.webix_menu-x .webix_list_item{display:inline-block;line-height:30px;border-right:1px solid #fff;border-left:0;background:#3498db;color:#fff;font-size:15px}\\r\\n.webix_menu-x .webix_list_item .webix_submenu_icon:before{content:'\\\\F107'}\\r\\n.webix_menu-x .webix_list_item .webix_icon_btn{color:#fff;text-align:left}\\r\\n.webix_menu-x .webix_list_item:active,.webix_menu-x .webix_list_item:focus,.webix_menu-x .webix_list_item:hover{background-color:#268fd5}\\r\\n.webix_menu-x .webix_list_item:first-child{-webkit-border-radius:4px 0 0 4px;-moz-border-radius-topleft:4px;-moz-border-radius-bottomleft:4px;-moz-border-radius-topright:0;-moz-border-radius-bottomright:0;border-radius:4px 0 0 4px}\\r\\n.webix_menu-x .webix_list_item:last-child{border-right:none;-webkit-border-radius:0 4px 4px 0;-moz-border-radius-topleft:0;-moz-border-radius-bottomleft:0;-moz-border-radius-topright:4px;-moz-border-radius-bottomright:4px;border-radius:0 4px 4px 0}\\r\\n.webix_menu{background:#fff;border:1px solid #ddd;border-radius:0}\\r\\n.webix_menu .webix_list_item{display:block}\\r\\n.webix_menu .webix_context_separator{height:3px;padding:1px 3px 0}\\r\\n.webix_menu .webix_context_separator .sep_line{height:1px;border-top:1px solid #ddd}\\r\\n.webix_menu .webix_submenu_icon{top:11px}\\r\\n.webix_menu .webix_context_spacer{height:34px}\\r\\n.webix_menu_link{color:inherit;text-decoration:none;display:block;height:100%}\\r\\n.webix_layout_toolbar{color:#fff;font-size:18px;background:#3498db}\\r\\n.webix_layout_toolbar .webix_el_button,.webix_layout_toolbar .webix_el_label,.webix_layout_toolbar .webix_inp_label{color:#fff}\\r\\n.webix_layout_toolbar .webix_el_label{font-size:18px}\\r\\n.webix_layout_toolbar .webix_inp_counter_next,.webix_layout_toolbar .webix_inp_counter_prev,.webix_layout_toolbar .webix_segment_0,.webix_layout_toolbar .webix_segment_1,.webix_layout_toolbar .webix_segment_N,.webix_layout_toolbar .webixtype_base,.webix_layout_toolbar .webixtype_next,.webix_layout_toolbar .webixtype_prev{border-color:#d9d9d9;background-color:transparent;color:#fff}\\r\\n.webix_layout_toolbar .webix_el_arrow.webixtype_next_arrow{border-left:none;border-bottom:none}\\r\\n.webix_layout_toolbar .webix_el_arrow.webixtype_prev_arrow{border-right:none;border-bottom:none}\\r\\n.webix_layout_toolbar .webix_inp_counter_next:hover,.webix_layout_toolbar .webix_inp_counter_prev:hover,.webix_layout_toolbar .webix_segment_0:hover,.webix_layout_toolbar .webix_segment_1:hover,.webix_layout_toolbar .webix_segment_N:hover,.webix_layout_toolbar .webixtype_base:hover{color:#fff;background-color:rgba(0,0,0,.05)}\\r\\n.webix_layout_toolbar .webix_inp_counter_next:active,.webix_layout_toolbar .webix_inp_counter_prev:active,.webix_layout_toolbar .webix_segment_0:active,.webix_layout_toolbar .webix_segment_1:active,.webix_layout_toolbar .webix_segment_N:active,.webix_layout_toolbar .webixtype_base:active{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_layout_toolbar .webix_inp_counter_next:focus,.webix_layout_toolbar .webix_inp_counter_prev:focus,.webix_layout_toolbar .webix_segment_0:focus,.webix_layout_toolbar .webix_segment_1:focus,.webix_layout_toolbar .webix_segment_N:focus,.webix_layout_toolbar .webixtype_base:focus{background-color:rgba(0,0,0,.07);color:#fff}\\r\\n.webix_layout_toolbar .webix_inp_static,.webix_layout_toolbar input[type=text]{border-color:#fff}\\r\\n.webix_layout_toolbar .webix_inp_static:focus,.webix_layout_toolbar input[type=text]:focus{border-color:#fff;box-shadow:none}\\r\\n.webix_layout_toolbar .webix_input_icon{border-color:#d9d9d9;background-color:transparent;color:#666}\\r\\n.webix_layout_toolbar .webix_input_icon:active,.webix_layout_toolbar .webix_input_icon:focus,.webix_layout_toolbar .webix_input_icon:hover{background-color:transparent;color:#666}\\r\\n.webix_layout_toolbar .webix_pressed .webix_el_arrow,.webix_layout_toolbar .webix_pressed .webix_inp_counter_next,.webix_layout_toolbar .webix_pressed .webix_inp_counter_prev,.webix_layout_toolbar .webix_pressed .webix_input_icon,.webix_layout_toolbar .webix_pressed .webix_segment_0,.webix_layout_toolbar .webix_pressed .webix_segment_1,.webix_layout_toolbar .webix_pressed .webix_segment_N,.webix_layout_toolbar .webix_pressed .webixtype_base,.webix_layout_toolbar .webix_pressed .webixtype_next,.webix_layout_toolbar .webix_pressed .webixtype_prev{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_layout_toolbar .webix_selected.webix_segment_0,.webix_layout_toolbar .webix_selected.webix_segment_1,.webix_layout_toolbar .webix_selected.webix_segment_N{border-color:#d9d9d9;background-color:#27ae60;color:#fff}\\r\\n.webix_layout_toolbar .webix_selected.webix_segment_0:hover,.webix_layout_toolbar .webix_selected.webix_segment_1:hover,.webix_layout_toolbar .webix_selected.webix_segment_N:hover{background-color:#24a259}\\r\\n.webix_layout_toolbar .webix_selected.webix_segment_0:active,.webix_layout_toolbar .webix_selected.webix_segment_0:focus,.webix_layout_toolbar .webix_selected.webix_segment_1:active,.webix_layout_toolbar .webix_selected.webix_segment_1:focus,.webix_layout_toolbar .webix_selected.webix_segment_N:active,.webix_layout_toolbar .webix_selected.webix_segment_N:focus{background-color:#295}\\r\\n.webix_layout_toolbar .webix_segment_1,.webix_layout_toolbar .webix_segment_N,.webix_layout_toolbar .webix_selected.webix_segment_1,.webix_layout_toolbar .webix_selected.webix_segment_N{margin-left:0;border-left:none}\\r\\n.webix_layout_toolbar .webix_img_btn:active,.webix_layout_toolbar .webix_img_btn_top:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_layout_toolbar .webix_img_btn:focus,.webix_layout_toolbar .webix_img_btn_top:focus{background-color:#2489cc}\\r\\n.webix_layout_toolbar .webix_img_btn:hover,.webix_layout_toolbar .webix_img_btn_top:hover{background-color:#268fd5}\\r\\n.webix_layout_toolbar .webix_icon_button{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_layout_toolbar .webix_el_icon,.webix_layout_toolbar .webix_icon_btn,.webix_layout_toolbar .webix_icon_button,.webix_layout_toolbar .webix_img_btn,.webix_layout_toolbar .webix_img_btn_abs,.webix_layout_toolbar .webix_img_btn_abs .webix_icon,.webix_layout_toolbar .webix_img_btn_abs .webix_img_btn_text,.webix_layout_toolbar .webix_img_btn_top .webix_icon,.webix_layout_toolbar .webix_img_btn_top .webix_img_btn_text{color:#fff}\\r\\n.webix_layout_toolbar .webix_el_box .webix_img_btn_abs:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_layout_toolbar .webix_el_icon .webix_icon_button:focus{background-color:rgba(0,0,0,.07)}\\r\\n.webix_layout_toolbar .webix_el_box .webix_img_btn_abs:hover,.webix_layout_toolbar .webix_el_icon .webix_icon_button:hover{background-color:rgba(0,0,0,.05)}\\r\\n.webix_layout_toolbar .webix_control{border-color:#3498db}\\r\\n.webix_layout_toolbar .webix_icon_button .webix_icon{font-size:23px;height:27px;width:27px;color:#fff}\\r\\n.webix_layout_toolbar .webix_img_btn,.webix_layout_toolbar .webix_img_btn_top{border-width:0}\\r\\n.webix_toolbar.webix_layout_subbar{color:#fff;font-size:18px}\\r\\n.webix_toolbar.webix_layout_subbar .webix_el_button,.webix_toolbar.webix_layout_subbar .webix_el_label,.webix_toolbar.webix_layout_subbar .webix_inp_label{color:#fff}\\r\\n.webix_toolbar.webix_layout_subbar .webix_el_label{font-size:18px}\\r\\n.webix_toolbar.webix_layout_subbar .webix_inp_counter_next,.webix_toolbar.webix_layout_subbar .webix_inp_counter_prev,.webix_toolbar.webix_layout_subbar .webix_segment_0,.webix_toolbar.webix_layout_subbar .webix_segment_1,.webix_toolbar.webix_layout_subbar .webix_segment_N,.webix_toolbar.webix_layout_subbar .webixtype_base,.webix_toolbar.webix_layout_subbar .webixtype_next,.webix_toolbar.webix_layout_subbar .webixtype_prev{border-color:#d9d9d9;background-color:transparent;color:#fff}\\r\\n.webix_toolbar.webix_layout_subbar .webix_el_arrow.webixtype_next_arrow{border-left:none;border-bottom:none}\\r\\n.webix_toolbar.webix_layout_subbar .webix_el_arrow.webixtype_prev_arrow{border-right:none;border-bottom:none}\\r\\n.webix_toolbar.webix_layout_subbar .webix_inp_counter_next:hover,.webix_toolbar.webix_layout_subbar .webix_inp_counter_prev:hover,.webix_toolbar.webix_layout_subbar .webix_segment_0:hover,.webix_toolbar.webix_layout_subbar .webix_segment_1:hover,.webix_toolbar.webix_layout_subbar .webix_segment_N:hover,.webix_toolbar.webix_layout_subbar .webixtype_base:hover{color:#fff;background-color:rgba(0,0,0,.05)}\\r\\n.webix_toolbar.webix_layout_subbar .webix_inp_counter_next:active,.webix_toolbar.webix_layout_subbar .webix_inp_counter_prev:active,.webix_toolbar.webix_layout_subbar .webix_segment_0:active,.webix_toolbar.webix_layout_subbar .webix_segment_1:active,.webix_toolbar.webix_layout_subbar .webix_segment_N:active,.webix_toolbar.webix_layout_subbar .webixtype_base:active{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_toolbar.webix_layout_subbar .webix_inp_counter_next:focus,.webix_toolbar.webix_layout_subbar .webix_inp_counter_prev:focus,.webix_toolbar.webix_layout_subbar .webix_segment_0:focus,.webix_toolbar.webix_layout_subbar .webix_segment_1:focus,.webix_toolbar.webix_layout_subbar .webix_segment_N:focus,.webix_toolbar.webix_layout_subbar .webixtype_base:focus{background-color:rgba(0,0,0,.07);color:#fff}\\r\\n.webix_toolbar.webix_layout_subbar .webix_inp_static,.webix_toolbar.webix_layout_subbar input[type=text]{border-color:#fff}\\r\\n.webix_toolbar.webix_layout_subbar .webix_inp_static:focus,.webix_toolbar.webix_layout_subbar input[type=text]:focus{border-color:#fff;box-shadow:none}\\r\\n.webix_toolbar.webix_layout_subbar .webix_input_icon{border-color:#d9d9d9;background-color:transparent;color:#666}\\r\\n.webix_toolbar.webix_layout_subbar .webix_input_icon:active,.webix_toolbar.webix_layout_subbar .webix_input_icon:focus,.webix_toolbar.webix_layout_subbar .webix_input_icon:hover{background-color:transparent;color:#666}\\r\\n.webix_toolbar.webix_layout_subbar .webix_pressed .webix_el_arrow,.webix_toolbar.webix_layout_subbar .webix_pressed .webix_inp_counter_next,.webix_toolbar.webix_layout_subbar .webix_pressed .webix_inp_counter_prev,.webix_toolbar.webix_layout_subbar .webix_pressed .webix_input_icon,.webix_toolbar.webix_layout_subbar .webix_pressed .webix_segment_0,.webix_toolbar.webix_layout_subbar .webix_pressed .webix_segment_1,.webix_toolbar.webix_layout_subbar .webix_pressed .webix_segment_N,.webix_toolbar.webix_layout_subbar .webix_pressed .webixtype_base,.webix_toolbar.webix_layout_subbar .webix_pressed .webixtype_next,.webix_toolbar.webix_layout_subbar .webix_pressed .webixtype_prev{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_0,.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_1,.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_N{border-color:#d9d9d9;background-color:#27ae60;color:#fff}\\r\\n.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_0:hover,.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_1:hover,.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_N:hover{background-color:#24a259}\\r\\n.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_0:active,.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_0:focus,.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_1:active,.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_1:focus,.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_N:active,.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_N:focus{background-color:#295}\\r\\n.webix_toolbar.webix_layout_subbar .webix_segment_1,.webix_toolbar.webix_layout_subbar .webix_segment_N,.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_1,.webix_toolbar.webix_layout_subbar .webix_selected.webix_segment_N{margin-left:0;border-left:none}\\r\\n.webix_toolbar.webix_layout_subbar .webix_img_btn:active,.webix_toolbar.webix_layout_subbar .webix_img_btn_top:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_toolbar.webix_layout_subbar .webix_img_btn:focus,.webix_toolbar.webix_layout_subbar .webix_img_btn_top:focus{background-color:#2489cc}\\r\\n.webix_toolbar.webix_layout_subbar .webix_img_btn:hover,.webix_toolbar.webix_layout_subbar .webix_img_btn_top:hover{background-color:#268fd5}\\r\\n.webix_toolbar.webix_layout_subbar .webix_icon_button{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_toolbar.webix_layout_subbar .webix_el_icon,.webix_toolbar.webix_layout_subbar .webix_icon_btn,.webix_toolbar.webix_layout_subbar .webix_icon_button,.webix_toolbar.webix_layout_subbar .webix_img_btn,.webix_toolbar.webix_layout_subbar .webix_img_btn_abs,.webix_toolbar.webix_layout_subbar .webix_img_btn_abs .webix_icon,.webix_toolbar.webix_layout_subbar .webix_img_btn_abs .webix_img_btn_text,.webix_toolbar.webix_layout_subbar .webix_img_btn_top .webix_icon,.webix_toolbar.webix_layout_subbar .webix_img_btn_top .webix_img_btn_text{color:#fff}\\r\\n.webix_toolbar.webix_layout_subbar .webix_el_box .webix_img_btn_abs:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_toolbar.webix_layout_subbar .webix_el_icon .webix_icon_button:focus{background-color:rgba(0,0,0,.07)}\\r\\n.webix_toolbar.webix_layout_subbar .webix_el_box .webix_img_btn_abs:hover,.webix_toolbar.webix_layout_subbar .webix_el_icon .webix_icon_button:hover{background-color:rgba(0,0,0,.05)}\\r\\n.webix_toolbar.webix_layout_subbar .webix_control{border-color:#3498db}\\r\\n.webix_toolbar.webix_layout_subbar .webix_icon_button .webix_icon{font-size:23px;height:27px;width:27px;color:#fff}\\r\\n.webix_toolbar.webix_layout_subbar .webix_img_btn,.webix_toolbar.webix_layout_subbar .webix_img_btn_top{border-width:0}\\r\\n.webix_toolbar .webix_layout_clean,.webix_toolbar .webix_layout_line,.webix_toolbar .webix_layout_toolbar{background:0 0}\\r\\n.webix_el_button .webix_hidden_upload,.webix_hidden_upload{height:1px;width:1px;border:0!important;font-size:1px;position:absolute;top:0;left:0;z-index:-1}\\r\\n.webix_upload_client,.webix_upload_error,.webix_upload_server{width:60px;text-align:center;float:right}\\r\\n.cancel_icon,.error_icon{display:inline-block;background-repeat:no-repeat}\\r\\n.error_icon{width:18px;height:16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAQCAYAAAAbBi9cAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjZFMDdENjlDNjE2QzExRTI5QzhBQUU2OUI3RDY4RTFCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjZFMDdENjlENjE2QzExRTI5QzhBQUU2OUI3RDY4RTFCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NkUwN0Q2OUE2MTZDMTFFMjlDOEFBRTY5QjdENjhFMUIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NkUwN0Q2OUI2MTZDMTFFMjlDOEFBRTY5QjdENjhFMUIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4ZJnE7AAABdklEQVR42mK80aLPgAcwA/EcIOYB4mgg/oWuQL36AphmYcAPYvl5WBOYmBgY3n/6fQTIn4hLIRMeQ0CuaBHgY2EQ4GMF8euAWIgcg6qF+NmkOdiZGdhYmRiEBdhAhrSQapAKEBcJC7DCBUQE2UBUGhAbkGLQBDEhdjYmJkaGtHVMDD4LmBk+/2RgEBdhBwX+ZGINcuLiZPYW5Ie45tknRrAhIFqAl5WBh4vFBijsR8ggkI29IA0wwMsOo/+DaWjA9wIxGz6D0oAKDXi5EalCkvc/2DApPgifm5OZQZCPFRyGuAwCxwqya0AAZADMVTAgyA92TDUQS2MzqAUUxcAgRjPoP9hVyICVhREUi6B01g4TY4RmES0gvqSuyMPMQAK4ef/LXyBlAswmF2DWd4kJs2M1pGgLIvrRAXJyAIWqNzcXi7cgHysDqQAUnt9//LW52WoQBfLaDRlxDnWgYQzkAKBBDI+ef38E0n3nycsf6gyUgUcAAQYA9DZJKVXGocQAAAAASUVORK5CYII=)}\\r\\n.webix_upload_server{color:green}\\r\\n.webix_remove_upload{float:right}\\r\\n.cancel_icon{margin-top:8px;width:14px;height:14px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAQAAAC1QeVaAAAAsElEQVR4XoVQUQbDQBScAywIuUcpKCWglBJCDlBKf0vpbymhd5mDhIDcoAcoJQSEsn2G5KmWzMDsPG92ZyGAgVfWfBtrUwEOZnwwOu2UjaPCbScLAEzYmzxyxafMgaUlRXMTsJJ1B7jgy0Y7gHt5FdgyimeAS+a6ZpDTQkLkCQbmk9OBHaPv+p6x99jLFFuOsTMPSlXl8FVlrSopFBP/sIQAbn6+bwsHA29sNGhMBQgf1cri4JYEbDkAAAAASUVORK5CYII=)}\\r\\n.webix_upload_flash{width:100%;height:100%;position:absolute;bottom:0;left:0;background:#fff;filter:alpha(opacity=0)}\\r\\n.webix_drop_file{background:#f4f4f4;position:relative}\\r\\n.webix_drop_file::before{position:absolute;bottom:10px;left:0;width:100%;text-align:center}\\r\\n.webix_fieldset fieldset{border:1px solid #c4c4c4;margin:0;padding:5px 8px}\\r\\n.webix_fieldset legend{color:#666;font-size:12px}\\r\\n.webix_slider_box{position:relative;padding:15px 10px 0;height:100%;float:left;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webix_slider_box .webix_slider_left{float:left;width:100px;-webkit-border-radius:5px 0 0 5px;-moz-border-radius-topleft:5px;-moz-border-radius-bottomleft:5px;-moz-border-radius-topright:0;-moz-border-radius-bottomright:0;border-radius:5px 0 0 5px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webix_slider_box .webix_slider_right{float:left;width:100px;background:#fff;-webkit-border-radius:0 5px 5px 0;-moz-border-radius-topleft:0;-moz-border-radius-bottomleft:0;-moz-border-radius-topright:5px;-moz-border-radius-bottomright:5px;border-radius:0 5px 5px 0;border:1px solid #eaeaea;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webix_slider_box .webix_slider_handle{z-index:1;position:absolute;top:9px;border-radius:8px}\\r\\n.webix_slider_box .webix_slider_left{height:6px;border:1px solid #ccc;background:#3498db}\\r\\n.webix_slider_box .webix_slider_right{height:6px;border-color:#ccc}\\r\\n.webix_slider_box .webix_slider_handle{width:16px;height:16px;border:1px solid #ccc;background-color:#fff}\\r\\n.webix_rangeslider .webix_slider_box .webix_slider_left{position:absolute}\\r\\n.webix_rangeslider .webix_slider_box .webix_slider_active{z-index:1}\\r\\n.webix_rangeslider .webix_slider_box .webix_slider_right{-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px}\\r\\n.webix_slider_alt .webix_slider_box .webix_slider_left,.webix_slider_alt .webix_slider_box .webix_slider_right{border:1px solid #e1e1e1}\\r\\n.webix_slider_alt .webix_slider_box .webix_slider_handle{width:11px;margin:0 2px;height:20px;top:6.5px;border-radius:2px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAICAYAAAAx8TU7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTJCMjdFNENBRTg4MTFFMjk2NjJGMTJENjkyNDA2NTkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTJCMjdFNERBRTg4MTFFMjk2NjJGMTJENjkyNDA2NTkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MkIyN0U0QUFFODgxMUUyOTY2MkYxMkQ2OTI0MDY1OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5MkIyN0U0QkFFODgxMUUyOTY2MkYxMkQ2OTI0MDY1OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Powz/icAAAAaSURBVHjaYmBgYDBjgAA4zcSABQysIECAAQBn+ACx2PqtbAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:3px center}\\r\\n.webix_slider_alt .webix_slider_box .webix_slider_left{border:1px solid #ccc;background:#3498db}\\r\\n.webix_slider_alt .webix_slider_box .webix_slider_right{border-color:#ccc}\\r\\n.webix_slider_alt .webix_slider_box .webix_slider_handle{background-color:#fff;border:1px solid #ccc}\\r\\n.webix_slider_title{margin-bottom:-11px;text-align:center}\\r\\n.webix_progress_bottom,.webix_progress_top{width:100%;position:absolute;top:0;left:0;height:6px;overflow:hidden;z-index:20;background:#f2f2f2}\\r\\n.webix_progress_bottom{bottom:0;top:auto;height:17px}\\r\\n.webix_progress_bottom .webix_progress_state,.webix_progress_top .webix_progress_state{width:0;height:6px;background:#27ae60;-moz-transition:width 3s;transition:width 3s}\\r\\n.webix_progress_bottom .webix_progress_state{height:17px}\\r\\n.webix_progress_icon{width:100%;height:100%;position:absolute;top:0;left:0;z-index:20}\\r\\n.webix_progress_icon .webix_progress_state{font-family:FontAwesome;font-size:50px;position:absolute;left:50%;top:50%;margin-left:-25px;margin-top:-25px;display:inline-block;color:#b3b3b3}\\r\\n.webix_organogram canvas{position:absolute}\\r\\n.webix_organogram_item{position:absolute;z-index:1;text-align:center;border-radius:4px;background-color:#e3f2fd;border:1px solid #bbdefb;padding:7px 7px 10px;box-sizing:border-box}\\r\\n.webix_organogram_item.webix_selected{background-color:#27ae60;border-color:#27ae60}\\r\\n.webix_organogram_list{border-radius:4px;position:absolute;z-index:1;height:auto;border:1px solid #ddd;box-sizing:border-box}\\r\\n.webix_organogram_list .webix_organogram_list_item{border:none;text-align:left;position:static;padding:5px;border-radius:0;box-sizing:border-box}\\r\\n/*!\\n *  Font Awesome 4.3.0 by @davegandy - http://fontawesome.io - @fontawesome\\n *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)\\n */\\r\\n@font-face{font-family:FontAwesome;src:url(\" + require(\"../fonts/fontawesome-webfont.eot?v=4.3.0\") + \");src:url(\" + require(\"../fonts/fontawesome-webfont.eot\") + \"?#iefix&v=4.3.0) format('embedded-opentype'),url(\" + require(\"../fonts/fontawesome-webfont.woff?v=4.3.0\") + \") format('woff'),url(\" + require(\"../fonts/fontawesome-webfont.ttf?v=4.3.0\") + \") format('truetype'),url(\" + require(\"../fonts/fontawesome-webfont.svg?v=4.3.0\") + \"#fontawesomeregular) format('svg');font-weight:400;font-style:normal}\\r\\n.fa,.webix_icon,.webix_icon_btn,.webix_input_icon{display:inline-block;font-family:FontAwesome;font-style:normal;font-weight:400;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;transform:translate(0,0)}\\r\\n.fa-lg{font-size:1.33333333em;line-height:.75em;vertical-align:-15%}\\r\\n.fa-2x{font-size:2em}\\r\\n.fa-3x{font-size:3em}\\r\\n.fa-4x{font-size:4em}\\r\\n.fa-5x{font-size:5em}\\r\\n.fa-fw{width:1.28571429em;text-align:center}\\r\\n.fa-ul{padding-left:0;margin-left:2.14285714em;list-style-type:none}\\r\\n.fa-ul>li{position:relative}\\r\\n.fa-li{position:absolute;left:-2.14285714em;width:2.14285714em;top:.14285714em;text-align:center}\\r\\n.fa-li.fa-lg{left:-1.85714286em}\\r\\n.fa-border{padding:.2em .25em .15em;border:.08em solid #eee;border-radius:.1em}\\r\\n.pull-right{float:right}\\r\\n.pull-left{float:left}\\r\\n.fa.pull-left{margin-right:.3em}\\r\\n.fa.pull-right{margin-left:.3em}\\r\\n.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}\\r\\n.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}\\r\\n@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}\\r\\n100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}\\r\\n@keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}\\r\\n100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}\\r\\n.fa-rotate-90{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}\\r\\n.fa-rotate-180{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2);-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}\\r\\n.fa-rotate-270{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3);-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}\\r\\n.fa-flip-horizontal{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1);-webkit-transform:scale(-1,1);-ms-transform:scale(-1,1);transform:scale(-1,1)}\\r\\n.fa-flip-vertical{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1);-webkit-transform:scale(1,-1);-ms-transform:scale(1,-1);transform:scale(1,-1)}\\r\\n:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-rotate-90{filter:none}\\r\\n.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}\\r\\n.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}\\r\\n.fa-stack-1x{line-height:inherit}\\r\\n.fa-stack-2x{font-size:2em}\\r\\n.fa-inverse{color:#fff}\\r\\n.fa-glass:before{content:\\\"\\\\F000\\\"}\\r\\n.fa-music:before{content:\\\"\\\\F001\\\"}\\r\\n.fa-search:before{content:\\\"\\\\F002\\\"}\\r\\n.fa-envelope-o:before{content:\\\"\\\\F003\\\"}\\r\\n.fa-heart:before{content:\\\"\\\\F004\\\"}\\r\\n.fa-star:before{content:\\\"\\\\F005\\\"}\\r\\n.fa-star-o:before{content:\\\"\\\\F006\\\"}\\r\\n.fa-user:before{content:\\\"\\\\F007\\\"}\\r\\n.fa-film:before{content:\\\"\\\\F008\\\"}\\r\\n.fa-th-large:before{content:\\\"\\\\F009\\\"}\\r\\n.fa-th:before{content:\\\"\\\\F00A\\\"}\\r\\n.fa-th-list:before{content:\\\"\\\\F00B\\\"}\\r\\n.fa-check:before{content:\\\"\\\\F00C\\\"}\\r\\n.fa-close:before,.fa-remove:before,.fa-times:before{content:\\\"\\\\F00D\\\"}\\r\\n.fa-search-plus:before{content:\\\"\\\\F00E\\\"}\\r\\n.fa-search-minus:before{content:\\\"\\\\F010\\\"}\\r\\n.fa-power-off:before{content:\\\"\\\\F011\\\"}\\r\\n.fa-signal:before{content:\\\"\\\\F012\\\"}\\r\\n.fa-cog:before,.fa-gear:before{content:\\\"\\\\F013\\\"}\\r\\n.fa-trash-o:before{content:\\\"\\\\F014\\\"}\\r\\n.fa-home:before{content:\\\"\\\\F015\\\"}\\r\\n.fa-file-o:before{content:\\\"\\\\F016\\\"}\\r\\n.fa-clock-o:before{content:\\\"\\\\F017\\\"}\\r\\n.fa-road:before{content:\\\"\\\\F018\\\"}\\r\\n.fa-download:before{content:\\\"\\\\F019\\\"}\\r\\n.fa-arrow-circle-o-down:before{content:\\\"\\\\F01A\\\"}\\r\\n.fa-arrow-circle-o-up:before{content:\\\"\\\\F01B\\\"}\\r\\n.fa-inbox:before{content:\\\"\\\\F01C\\\"}\\r\\n.fa-play-circle-o:before{content:\\\"\\\\F01D\\\"}\\r\\n.fa-repeat:before,.fa-rotate-right:before{content:\\\"\\\\F01E\\\"}\\r\\n.fa-refresh:before{content:\\\"\\\\F021\\\"}\\r\\n.fa-list-alt:before{content:\\\"\\\\F022\\\"}\\r\\n.fa-lock:before{content:\\\"\\\\F023\\\"}\\r\\n.fa-flag:before{content:\\\"\\\\F024\\\"}\\r\\n.fa-headphones:before{content:\\\"\\\\F025\\\"}\\r\\n.fa-volume-off:before{content:\\\"\\\\F026\\\"}\\r\\n.fa-volume-down:before{content:\\\"\\\\F027\\\"}\\r\\n.fa-volume-up:before{content:\\\"\\\\F028\\\"}\\r\\n.fa-qrcode:before{content:\\\"\\\\F029\\\"}\\r\\n.fa-barcode:before{content:\\\"\\\\F02A\\\"}\\r\\n.fa-tag:before{content:\\\"\\\\F02B\\\"}\\r\\n.fa-tags:before{content:\\\"\\\\F02C\\\"}\\r\\n.fa-book:before{content:\\\"\\\\F02D\\\"}\\r\\n.fa-bookmark:before{content:\\\"\\\\F02E\\\"}\\r\\n.fa-print:before{content:\\\"\\\\F02F\\\"}\\r\\n.fa-camera:before{content:\\\"\\\\F030\\\"}\\r\\n.fa-font:before{content:\\\"\\\\F031\\\"}\\r\\n.fa-bold:before{content:\\\"\\\\F032\\\"}\\r\\n.fa-italic:before{content:\\\"\\\\F033\\\"}\\r\\n.fa-text-height:before{content:\\\"\\\\F034\\\"}\\r\\n.fa-text-width:before{content:\\\"\\\\F035\\\"}\\r\\n.fa-align-left:before{content:\\\"\\\\F036\\\"}\\r\\n.fa-align-center:before{content:\\\"\\\\F037\\\"}\\r\\n.fa-align-right:before{content:\\\"\\\\F038\\\"}\\r\\n.fa-align-justify:before{content:\\\"\\\\F039\\\"}\\r\\n.fa-list:before{content:\\\"\\\\F03A\\\"}\\r\\n.fa-dedent:before,.fa-outdent:before{content:\\\"\\\\F03B\\\"}\\r\\n.fa-indent:before{content:\\\"\\\\F03C\\\"}\\r\\n.fa-video-camera:before{content:\\\"\\\\F03D\\\"}\\r\\n.fa-image:before,.fa-photo:before,.fa-picture-o:before{content:\\\"\\\\F03E\\\"}\\r\\n.fa-pencil:before{content:\\\"\\\\F040\\\"}\\r\\n.fa-map-marker:before{content:\\\"\\\\F041\\\"}\\r\\n.fa-adjust:before{content:\\\"\\\\F042\\\"}\\r\\n.fa-tint:before{content:\\\"\\\\F043\\\"}\\r\\n.fa-edit:before,.fa-pencil-square-o:before{content:\\\"\\\\F044\\\"}\\r\\n.fa-share-square-o:before{content:\\\"\\\\F045\\\"}\\r\\n.fa-check-square-o:before{content:\\\"\\\\F046\\\"}\\r\\n.fa-arrows:before{content:\\\"\\\\F047\\\"}\\r\\n.fa-step-backward:before{content:\\\"\\\\F048\\\"}\\r\\n.fa-fast-backward:before{content:\\\"\\\\F049\\\"}\\r\\n.fa-backward:before{content:\\\"\\\\F04A\\\"}\\r\\n.fa-play:before{content:\\\"\\\\F04B\\\"}\\r\\n.fa-pause:before{content:\\\"\\\\F04C\\\"}\\r\\n.fa-stop:before{content:\\\"\\\\F04D\\\"}\\r\\n.fa-forward:before{content:\\\"\\\\F04E\\\"}\\r\\n.fa-fast-forward:before{content:\\\"\\\\F050\\\"}\\r\\n.fa-step-forward:before{content:\\\"\\\\F051\\\"}\\r\\n.fa-eject:before{content:\\\"\\\\F052\\\"}\\r\\n.fa-chevron-left:before{content:\\\"\\\\F053\\\"}\\r\\n.fa-chevron-right:before{content:\\\"\\\\F054\\\"}\\r\\n.fa-plus-circle:before{content:\\\"\\\\F055\\\"}\\r\\n.fa-minus-circle:before{content:\\\"\\\\F056\\\"}\\r\\n.fa-times-circle:before{content:\\\"\\\\F057\\\"}\\r\\n.fa-check-circle:before{content:\\\"\\\\F058\\\"}\\r\\n.fa-question-circle:before{content:\\\"\\\\F059\\\"}\\r\\n.fa-info-circle:before{content:\\\"\\\\F05A\\\"}\\r\\n.fa-crosshairs:before{content:\\\"\\\\F05B\\\"}\\r\\n.fa-times-circle-o:before{content:\\\"\\\\F05C\\\"}\\r\\n.fa-check-circle-o:before{content:\\\"\\\\F05D\\\"}\\r\\n.fa-ban:before{content:\\\"\\\\F05E\\\"}\\r\\n.fa-arrow-left:before{content:\\\"\\\\F060\\\"}\\r\\n.fa-arrow-right:before{content:\\\"\\\\F061\\\"}\\r\\n.fa-arrow-up:before{content:\\\"\\\\F062\\\"}\\r\\n.fa-arrow-down:before{content:\\\"\\\\F063\\\"}\\r\\n.fa-mail-forward:before,.fa-share:before{content:\\\"\\\\F064\\\"}\\r\\n.fa-expand:before{content:\\\"\\\\F065\\\"}\\r\\n.fa-compress:before{content:\\\"\\\\F066\\\"}\\r\\n.fa-plus:before{content:\\\"\\\\F067\\\"}\\r\\n.fa-minus:before{content:\\\"\\\\F068\\\"}\\r\\n.fa-asterisk:before{content:\\\"\\\\F069\\\"}\\r\\n.fa-exclamation-circle:before{content:\\\"\\\\F06A\\\"}\\r\\n.fa-gift:before{content:\\\"\\\\F06B\\\"}\\r\\n.fa-leaf:before{content:\\\"\\\\F06C\\\"}\\r\\n.fa-fire:before{content:\\\"\\\\F06D\\\"}\\r\\n.fa-eye:before{content:\\\"\\\\F06E\\\"}\\r\\n.fa-eye-slash:before{content:\\\"\\\\F070\\\"}\\r\\n.fa-exclamation-triangle:before,.fa-warning:before{content:\\\"\\\\F071\\\"}\\r\\n.fa-plane:before{content:\\\"\\\\F072\\\"}\\r\\n.fa-calendar:before{content:\\\"\\\\F073\\\"}\\r\\n.fa-random:before{content:\\\"\\\\F074\\\"}\\r\\n.fa-comment:before{content:\\\"\\\\F075\\\"}\\r\\n.fa-magnet:before{content:\\\"\\\\F076\\\"}\\r\\n.fa-chevron-up:before{content:\\\"\\\\F077\\\"}\\r\\n.fa-chevron-down:before{content:\\\"\\\\F078\\\"}\\r\\n.fa-retweet:before{content:\\\"\\\\F079\\\"}\\r\\n.fa-shopping-cart:before{content:\\\"\\\\F07A\\\"}\\r\\n.fa-folder:before{content:\\\"\\\\F07B\\\"}\\r\\n.fa-folder-open:before{content:\\\"\\\\F07C\\\"}\\r\\n.fa-arrows-v:before{content:\\\"\\\\F07D\\\"}\\r\\n.fa-arrows-h:before{content:\\\"\\\\F07E\\\"}\\r\\n.fa-bar-chart-o:before,.fa-bar-chart:before{content:\\\"\\\\F080\\\"}\\r\\n.fa-twitter-square:before{content:\\\"\\\\F081\\\"}\\r\\n.fa-facebook-square:before{content:\\\"\\\\F082\\\"}\\r\\n.fa-camera-retro:before{content:\\\"\\\\F083\\\"}\\r\\n.fa-key:before{content:\\\"\\\\F084\\\"}\\r\\n.fa-cogs:before,.fa-gears:before{content:\\\"\\\\F085\\\"}\\r\\n.fa-comments:before{content:\\\"\\\\F086\\\"}\\r\\n.fa-thumbs-o-up:before{content:\\\"\\\\F087\\\"}\\r\\n.fa-thumbs-o-down:before{content:\\\"\\\\F088\\\"}\\r\\n.fa-star-half:before{content:\\\"\\\\F089\\\"}\\r\\n.fa-heart-o:before{content:\\\"\\\\F08A\\\"}\\r\\n.fa-sign-out:before{content:\\\"\\\\F08B\\\"}\\r\\n.fa-linkedin-square:before{content:\\\"\\\\F08C\\\"}\\r\\n.fa-thumb-tack:before{content:\\\"\\\\F08D\\\"}\\r\\n.fa-external-link:before{content:\\\"\\\\F08E\\\"}\\r\\n.fa-sign-in:before{content:\\\"\\\\F090\\\"}\\r\\n.fa-trophy:before{content:\\\"\\\\F091\\\"}\\r\\n.fa-github-square:before{content:\\\"\\\\F092\\\"}\\r\\n.fa-upload:before{content:\\\"\\\\F093\\\"}\\r\\n.fa-lemon-o:before{content:\\\"\\\\F094\\\"}\\r\\n.fa-phone:before{content:\\\"\\\\F095\\\"}\\r\\n.fa-square-o:before{content:\\\"\\\\F096\\\"}\\r\\n.fa-bookmark-o:before{content:\\\"\\\\F097\\\"}\\r\\n.fa-phone-square:before{content:\\\"\\\\F098\\\"}\\r\\n.fa-twitter:before{content:\\\"\\\\F099\\\"}\\r\\n.fa-facebook-f:before,.fa-facebook:before{content:\\\"\\\\F09A\\\"}\\r\\n.fa-github:before{content:\\\"\\\\F09B\\\"}\\r\\n.fa-unlock:before{content:\\\"\\\\F09C\\\"}\\r\\n.fa-credit-card:before{content:\\\"\\\\F09D\\\"}\\r\\n.fa-rss:before{content:\\\"\\\\F09E\\\"}\\r\\n.fa-hdd-o:before{content:\\\"\\\\F0A0\\\"}\\r\\n.fa-bullhorn:before{content:\\\"\\\\F0A1\\\"}\\r\\n.fa-bell:before{content:\\\"\\\\F0F3\\\"}\\r\\n.fa-certificate:before{content:\\\"\\\\F0A3\\\"}\\r\\n.fa-hand-o-right:before{content:\\\"\\\\F0A4\\\"}\\r\\n.fa-hand-o-left:before{content:\\\"\\\\F0A5\\\"}\\r\\n.fa-hand-o-up:before{content:\\\"\\\\F0A6\\\"}\\r\\n.fa-hand-o-down:before{content:\\\"\\\\F0A7\\\"}\\r\\n.fa-arrow-circle-left:before{content:\\\"\\\\F0A8\\\"}\\r\\n.fa-arrow-circle-right:before{content:\\\"\\\\F0A9\\\"}\\r\\n.fa-arrow-circle-up:before{content:\\\"\\\\F0AA\\\"}\\r\\n.fa-arrow-circle-down:before{content:\\\"\\\\F0AB\\\"}\\r\\n.fa-globe:before{content:\\\"\\\\F0AC\\\"}\\r\\n.fa-wrench:before{content:\\\"\\\\F0AD\\\"}\\r\\n.fa-tasks:before{content:\\\"\\\\F0AE\\\"}\\r\\n.fa-filter:before{content:\\\"\\\\F0B0\\\"}\\r\\n.fa-briefcase:before{content:\\\"\\\\F0B1\\\"}\\r\\n.fa-arrows-alt:before{content:\\\"\\\\F0B2\\\"}\\r\\n.fa-group:before,.fa-users:before{content:\\\"\\\\F0C0\\\"}\\r\\n.fa-chain:before,.fa-link:before{content:\\\"\\\\F0C1\\\"}\\r\\n.fa-cloud:before{content:\\\"\\\\F0C2\\\"}\\r\\n.fa-flask:before{content:\\\"\\\\F0C3\\\"}\\r\\n.fa-cut:before,.fa-scissors:before{content:\\\"\\\\F0C4\\\"}\\r\\n.fa-copy:before,.fa-files-o:before{content:\\\"\\\\F0C5\\\"}\\r\\n.fa-paperclip:before{content:\\\"\\\\F0C6\\\"}\\r\\n.fa-floppy-o:before,.fa-save:before{content:\\\"\\\\F0C7\\\"}\\r\\n.fa-square:before{content:\\\"\\\\F0C8\\\"}\\r\\n.fa-bars:before,.fa-navicon:before,.fa-reorder:before{content:\\\"\\\\F0C9\\\"}\\r\\n.fa-list-ul:before{content:\\\"\\\\F0CA\\\"}\\r\\n.fa-list-ol:before{content:\\\"\\\\F0CB\\\"}\\r\\n.fa-strikethrough:before{content:\\\"\\\\F0CC\\\"}\\r\\n.fa-underline:before{content:\\\"\\\\F0CD\\\"}\\r\\n.fa-table:before{content:\\\"\\\\F0CE\\\"}\\r\\n.fa-magic:before{content:\\\"\\\\F0D0\\\"}\\r\\n.fa-truck:before{content:\\\"\\\\F0D1\\\"}\\r\\n.fa-pinterest:before{content:\\\"\\\\F0D2\\\"}\\r\\n.fa-pinterest-square:before{content:\\\"\\\\F0D3\\\"}\\r\\n.fa-google-plus-square:before{content:\\\"\\\\F0D4\\\"}\\r\\n.fa-google-plus:before{content:\\\"\\\\F0D5\\\"}\\r\\n.fa-money:before{content:\\\"\\\\F0D6\\\"}\\r\\n.fa-caret-down:before{content:\\\"\\\\F0D7\\\"}\\r\\n.fa-caret-up:before{content:\\\"\\\\F0D8\\\"}\\r\\n.fa-caret-left:before{content:\\\"\\\\F0D9\\\"}\\r\\n.fa-caret-right:before{content:\\\"\\\\F0DA\\\"}\\r\\n.fa-columns:before{content:\\\"\\\\F0DB\\\"}\\r\\n.fa-sort:before,.fa-unsorted:before{content:\\\"\\\\F0DC\\\"}\\r\\n.fa-sort-desc:before,.fa-sort-down:before{content:\\\"\\\\F0DD\\\"}\\r\\n.fa-sort-asc:before,.fa-sort-up:before{content:\\\"\\\\F0DE\\\"}\\r\\n.fa-envelope:before{content:\\\"\\\\F0E0\\\"}\\r\\n.fa-linkedin:before{content:\\\"\\\\F0E1\\\"}\\r\\n.fa-rotate-left:before,.fa-undo:before{content:\\\"\\\\F0E2\\\"}\\r\\n.fa-gavel:before,.fa-legal:before{content:\\\"\\\\F0E3\\\"}\\r\\n.fa-dashboard:before,.fa-tachometer:before{content:\\\"\\\\F0E4\\\"}\\r\\n.fa-comment-o:before{content:\\\"\\\\F0E5\\\"}\\r\\n.fa-comments-o:before{content:\\\"\\\\F0E6\\\"}\\r\\n.fa-bolt:before,.fa-flash:before{content:\\\"\\\\F0E7\\\"}\\r\\n.fa-sitemap:before{content:\\\"\\\\F0E8\\\"}\\r\\n.fa-umbrella:before{content:\\\"\\\\F0E9\\\"}\\r\\n.fa-clipboard:before,.fa-paste:before{content:\\\"\\\\F0EA\\\"}\\r\\n.fa-lightbulb-o:before{content:\\\"\\\\F0EB\\\"}\\r\\n.fa-exchange:before{content:\\\"\\\\F0EC\\\"}\\r\\n.fa-cloud-download:before{content:\\\"\\\\F0ED\\\"}\\r\\n.fa-cloud-upload:before{content:\\\"\\\\F0EE\\\"}\\r\\n.fa-user-md:before{content:\\\"\\\\F0F0\\\"}\\r\\n.fa-stethoscope:before{content:\\\"\\\\F0F1\\\"}\\r\\n.fa-suitcase:before{content:\\\"\\\\F0F2\\\"}\\r\\n.fa-bell-o:before{content:\\\"\\\\F0A2\\\"}\\r\\n.fa-coffee:before{content:\\\"\\\\F0F4\\\"}\\r\\n.fa-cutlery:before{content:\\\"\\\\F0F5\\\"}\\r\\n.fa-file-text-o:before{content:\\\"\\\\F0F6\\\"}\\r\\n.fa-building-o:before{content:\\\"\\\\F0F7\\\"}\\r\\n.fa-hospital-o:before{content:\\\"\\\\F0F8\\\"}\\r\\n.fa-ambulance:before{content:\\\"\\\\F0F9\\\"}\\r\\n.fa-medkit:before{content:\\\"\\\\F0FA\\\"}\\r\\n.fa-fighter-jet:before{content:\\\"\\\\F0FB\\\"}\\r\\n.fa-beer:before{content:\\\"\\\\F0FC\\\"}\\r\\n.fa-h-square:before{content:\\\"\\\\F0FD\\\"}\\r\\n.fa-plus-square:before{content:\\\"\\\\F0FE\\\"}\\r\\n.fa-angle-double-left:before{content:\\\"\\\\F100\\\"}\\r\\n.fa-angle-double-right:before{content:\\\"\\\\F101\\\"}\\r\\n.fa-angle-double-up:before{content:\\\"\\\\F102\\\"}\\r\\n.fa-angle-double-down:before{content:\\\"\\\\F103\\\"}\\r\\n.fa-angle-left:before{content:\\\"\\\\F104\\\"}\\r\\n.fa-angle-right:before{content:\\\"\\\\F105\\\"}\\r\\n.fa-angle-up:before{content:\\\"\\\\F106\\\"}\\r\\n.fa-angle-down:before{content:\\\"\\\\F107\\\"}\\r\\n.fa-desktop:before{content:\\\"\\\\F108\\\"}\\r\\n.fa-laptop:before{content:\\\"\\\\F109\\\"}\\r\\n.fa-tablet:before{content:\\\"\\\\F10A\\\"}\\r\\n.fa-mobile-phone:before,.fa-mobile:before{content:\\\"\\\\F10B\\\"}\\r\\n.fa-circle-o:before{content:\\\"\\\\F10C\\\"}\\r\\n.fa-quote-left:before{content:\\\"\\\\F10D\\\"}\\r\\n.fa-quote-right:before{content:\\\"\\\\F10E\\\"}\\r\\n.fa-spinner:before{content:\\\"\\\\F110\\\"}\\r\\n.fa-circle:before{content:\\\"\\\\F111\\\"}\\r\\n.fa-mail-reply:before,.fa-reply:before{content:\\\"\\\\F112\\\"}\\r\\n.fa-github-alt:before{content:\\\"\\\\F113\\\"}\\r\\n.fa-folder-o:before{content:\\\"\\\\F114\\\"}\\r\\n.fa-folder-open-o:before{content:\\\"\\\\F115\\\"}\\r\\n.fa-smile-o:before{content:\\\"\\\\F118\\\"}\\r\\n.fa-frown-o:before{content:\\\"\\\\F119\\\"}\\r\\n.fa-meh-o:before{content:\\\"\\\\F11A\\\"}\\r\\n.fa-gamepad:before{content:\\\"\\\\F11B\\\"}\\r\\n.fa-keyboard-o:before{content:\\\"\\\\F11C\\\"}\\r\\n.fa-flag-o:before{content:\\\"\\\\F11D\\\"}\\r\\n.fa-flag-checkered:before{content:\\\"\\\\F11E\\\"}\\r\\n.fa-terminal:before{content:\\\"\\\\F120\\\"}\\r\\n.fa-code:before{content:\\\"\\\\F121\\\"}\\r\\n.fa-mail-reply-all:before,.fa-reply-all:before{content:\\\"\\\\F122\\\"}\\r\\n.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:\\\"\\\\F123\\\"}\\r\\n.fa-location-arrow:before{content:\\\"\\\\F124\\\"}\\r\\n.fa-crop:before{content:\\\"\\\\F125\\\"}\\r\\n.fa-code-fork:before{content:\\\"\\\\F126\\\"}\\r\\n.fa-chain-broken:before,.fa-unlink:before{content:\\\"\\\\F127\\\"}\\r\\n.fa-question:before{content:\\\"\\\\F128\\\"}\\r\\n.fa-info:before{content:\\\"\\\\F129\\\"}\\r\\n.fa-exclamation:before{content:\\\"\\\\F12A\\\"}\\r\\n.fa-superscript:before{content:\\\"\\\\F12B\\\"}\\r\\n.fa-subscript:before{content:\\\"\\\\F12C\\\"}\\r\\n.fa-eraser:before{content:\\\"\\\\F12D\\\"}\\r\\n.fa-puzzle-piece:before{content:\\\"\\\\F12E\\\"}\\r\\n.fa-microphone:before{content:\\\"\\\\F130\\\"}\\r\\n.fa-microphone-slash:before{content:\\\"\\\\F131\\\"}\\r\\n.fa-shield:before{content:\\\"\\\\F132\\\"}\\r\\n.fa-calendar-o:before{content:\\\"\\\\F133\\\"}\\r\\n.fa-fire-extinguisher:before{content:\\\"\\\\F134\\\"}\\r\\n.fa-rocket:before{content:\\\"\\\\F135\\\"}\\r\\n.fa-maxcdn:before{content:\\\"\\\\F136\\\"}\\r\\n.fa-chevron-circle-left:before{content:\\\"\\\\F137\\\"}\\r\\n.fa-chevron-circle-right:before{content:\\\"\\\\F138\\\"}\\r\\n.fa-chevron-circle-up:before{content:\\\"\\\\F139\\\"}\\r\\n.fa-chevron-circle-down:before{content:\\\"\\\\F13A\\\"}\\r\\n.fa-html5:before{content:\\\"\\\\F13B\\\"}\\r\\n.fa-css3:before{content:\\\"\\\\F13C\\\"}\\r\\n.fa-anchor:before{content:\\\"\\\\F13D\\\"}\\r\\n.fa-unlock-alt:before{content:\\\"\\\\F13E\\\"}\\r\\n.fa-bullseye:before{content:\\\"\\\\F140\\\"}\\r\\n.fa-ellipsis-h:before{content:\\\"\\\\F141\\\"}\\r\\n.fa-ellipsis-v:before{content:\\\"\\\\F142\\\"}\\r\\n.fa-rss-square:before{content:\\\"\\\\F143\\\"}\\r\\n.fa-play-circle:before{content:\\\"\\\\F144\\\"}\\r\\n.fa-ticket:before{content:\\\"\\\\F145\\\"}\\r\\n.fa-minus-square:before{content:\\\"\\\\F146\\\"}\\r\\n.fa-minus-square-o:before{content:\\\"\\\\F147\\\"}\\r\\n.fa-level-up:before{content:\\\"\\\\F148\\\"}\\r\\n.fa-level-down:before{content:\\\"\\\\F149\\\"}\\r\\n.fa-check-square:before{content:\\\"\\\\F14A\\\"}\\r\\n.fa-pencil-square:before{content:\\\"\\\\F14B\\\"}\\r\\n.fa-external-link-square:before{content:\\\"\\\\F14C\\\"}\\r\\n.fa-share-square:before{content:\\\"\\\\F14D\\\"}\\r\\n.fa-compass:before{content:\\\"\\\\F14E\\\"}\\r\\n.fa-caret-square-o-down:before,.fa-toggle-down:before{content:\\\"\\\\F150\\\"}\\r\\n.fa-caret-square-o-up:before,.fa-toggle-up:before{content:\\\"\\\\F151\\\"}\\r\\n.fa-caret-square-o-right:before,.fa-toggle-right:before{content:\\\"\\\\F152\\\"}\\r\\n.fa-eur:before,.fa-euro:before{content:\\\"\\\\F153\\\"}\\r\\n.fa-gbp:before{content:\\\"\\\\F154\\\"}\\r\\n.fa-dollar:before,.fa-usd:before{content:\\\"\\\\F155\\\"}\\r\\n.fa-inr:before,.fa-rupee:before{content:\\\"\\\\F156\\\"}\\r\\n.fa-cny:before,.fa-jpy:before,.fa-rmb:before,.fa-yen:before{content:\\\"\\\\F157\\\"}\\r\\n.fa-rouble:before,.fa-rub:before,.fa-ruble:before{content:\\\"\\\\F158\\\"}\\r\\n.fa-krw:before,.fa-won:before{content:\\\"\\\\F159\\\"}\\r\\n.fa-bitcoin:before,.fa-btc:before{content:\\\"\\\\F15A\\\"}\\r\\n.fa-file:before{content:\\\"\\\\F15B\\\"}\\r\\n.fa-file-text:before{content:\\\"\\\\F15C\\\"}\\r\\n.fa-sort-alpha-asc:before{content:\\\"\\\\F15D\\\"}\\r\\n.fa-sort-alpha-desc:before{content:\\\"\\\\F15E\\\"}\\r\\n.fa-sort-amount-asc:before{content:\\\"\\\\F160\\\"}\\r\\n.fa-sort-amount-desc:before{content:\\\"\\\\F161\\\"}\\r\\n.fa-sort-numeric-asc:before{content:\\\"\\\\F162\\\"}\\r\\n.fa-sort-numeric-desc:before{content:\\\"\\\\F163\\\"}\\r\\n.fa-thumbs-up:before{content:\\\"\\\\F164\\\"}\\r\\n.fa-thumbs-down:before{content:\\\"\\\\F165\\\"}\\r\\n.fa-youtube-square:before{content:\\\"\\\\F166\\\"}\\r\\n.fa-youtube:before{content:\\\"\\\\F167\\\"}\\r\\n.fa-xing:before{content:\\\"\\\\F168\\\"}\\r\\n.fa-xing-square:before{content:\\\"\\\\F169\\\"}\\r\\n.fa-youtube-play:before{content:\\\"\\\\F16A\\\"}\\r\\n.fa-dropbox:before{content:\\\"\\\\F16B\\\"}\\r\\n.fa-stack-overflow:before{content:\\\"\\\\F16C\\\"}\\r\\n.fa-instagram:before{content:\\\"\\\\F16D\\\"}\\r\\n.fa-flickr:before{content:\\\"\\\\F16E\\\"}\\r\\n.fa-adn:before{content:\\\"\\\\F170\\\"}\\r\\n.fa-bitbucket:before{content:\\\"\\\\F171\\\"}\\r\\n.fa-bitbucket-square:before{content:\\\"\\\\F172\\\"}\\r\\n.fa-tumblr:before{content:\\\"\\\\F173\\\"}\\r\\n.fa-tumblr-square:before{content:\\\"\\\\F174\\\"}\\r\\n.fa-long-arrow-down:before{content:\\\"\\\\F175\\\"}\\r\\n.fa-long-arrow-up:before{content:\\\"\\\\F176\\\"}\\r\\n.fa-long-arrow-left:before{content:\\\"\\\\F177\\\"}\\r\\n.fa-long-arrow-right:before{content:\\\"\\\\F178\\\"}\\r\\n.fa-apple:before{content:\\\"\\\\F179\\\"}\\r\\n.fa-windows:before{content:\\\"\\\\F17A\\\"}\\r\\n.fa-android:before{content:\\\"\\\\F17B\\\"}\\r\\n.fa-linux:before{content:\\\"\\\\F17C\\\"}\\r\\n.fa-dribbble:before{content:\\\"\\\\F17D\\\"}\\r\\n.fa-skype:before{content:\\\"\\\\F17E\\\"}\\r\\n.fa-foursquare:before{content:\\\"\\\\F180\\\"}\\r\\n.fa-trello:before{content:\\\"\\\\F181\\\"}\\r\\n.fa-female:before{content:\\\"\\\\F182\\\"}\\r\\n.fa-male:before{content:\\\"\\\\F183\\\"}\\r\\n.fa-gittip:before,.fa-gratipay:before{content:\\\"\\\\F184\\\"}\\r\\n.fa-sun-o:before{content:\\\"\\\\F185\\\"}\\r\\n.fa-moon-o:before{content:\\\"\\\\F186\\\"}\\r\\n.fa-archive:before{content:\\\"\\\\F187\\\"}\\r\\n.fa-bug:before{content:\\\"\\\\F188\\\"}\\r\\n.fa-vk:before{content:\\\"\\\\F189\\\"}\\r\\n.fa-weibo:before{content:\\\"\\\\F18A\\\"}\\r\\n.fa-renren:before{content:\\\"\\\\F18B\\\"}\\r\\n.fa-pagelines:before{content:\\\"\\\\F18C\\\"}\\r\\n.fa-stack-exchange:before{content:\\\"\\\\F18D\\\"}\\r\\n.fa-arrow-circle-o-right:before{content:\\\"\\\\F18E\\\"}\\r\\n.fa-arrow-circle-o-left:before{content:\\\"\\\\F190\\\"}\\r\\n.fa-caret-square-o-left:before,.fa-toggle-left:before{content:\\\"\\\\F191\\\"}\\r\\n.fa-dot-circle-o:before{content:\\\"\\\\F192\\\"}\\r\\n.fa-wheelchair:before{content:\\\"\\\\F193\\\"}\\r\\n.fa-vimeo-square:before{content:\\\"\\\\F194\\\"}\\r\\n.fa-try:before,.fa-turkish-lira:before{content:\\\"\\\\F195\\\"}\\r\\n.fa-plus-square-o:before{content:\\\"\\\\F196\\\"}\\r\\n.fa-space-shuttle:before{content:\\\"\\\\F197\\\"}\\r\\n.fa-slack:before{content:\\\"\\\\F198\\\"}\\r\\n.fa-envelope-square:before{content:\\\"\\\\F199\\\"}\\r\\n.fa-wordpress:before{content:\\\"\\\\F19A\\\"}\\r\\n.fa-openid:before{content:\\\"\\\\F19B\\\"}\\r\\n.fa-bank:before,.fa-institution:before,.fa-university:before{content:\\\"\\\\F19C\\\"}\\r\\n.fa-graduation-cap:before,.fa-mortar-board:before{content:\\\"\\\\F19D\\\"}\\r\\n.fa-yahoo:before{content:\\\"\\\\F19E\\\"}\\r\\n.fa-google:before{content:\\\"\\\\F1A0\\\"}\\r\\n.fa-reddit:before{content:\\\"\\\\F1A1\\\"}\\r\\n.fa-reddit-square:before{content:\\\"\\\\F1A2\\\"}\\r\\n.fa-stumbleupon-circle:before{content:\\\"\\\\F1A3\\\"}\\r\\n.fa-stumbleupon:before{content:\\\"\\\\F1A4\\\"}\\r\\n.fa-delicious:before{content:\\\"\\\\F1A5\\\"}\\r\\n.fa-digg:before{content:\\\"\\\\F1A6\\\"}\\r\\n.fa-pied-piper:before{content:\\\"\\\\F1A7\\\"}\\r\\n.fa-pied-piper-alt:before{content:\\\"\\\\F1A8\\\"}\\r\\n.fa-drupal:before{content:\\\"\\\\F1A9\\\"}\\r\\n.fa-joomla:before{content:\\\"\\\\F1AA\\\"}\\r\\n.fa-language:before{content:\\\"\\\\F1AB\\\"}\\r\\n.fa-fax:before{content:\\\"\\\\F1AC\\\"}\\r\\n.fa-building:before{content:\\\"\\\\F1AD\\\"}\\r\\n.fa-child:before{content:\\\"\\\\F1AE\\\"}\\r\\n.fa-paw:before{content:\\\"\\\\F1B0\\\"}\\r\\n.fa-spoon:before{content:\\\"\\\\F1B1\\\"}\\r\\n.fa-cube:before{content:\\\"\\\\F1B2\\\"}\\r\\n.fa-cubes:before{content:\\\"\\\\F1B3\\\"}\\r\\n.fa-behance:before{content:\\\"\\\\F1B4\\\"}\\r\\n.fa-behance-square:before{content:\\\"\\\\F1B5\\\"}\\r\\n.fa-steam:before{content:\\\"\\\\F1B6\\\"}\\r\\n.fa-steam-square:before{content:\\\"\\\\F1B7\\\"}\\r\\n.fa-recycle:before{content:\\\"\\\\F1B8\\\"}\\r\\n.fa-automobile:before,.fa-car:before{content:\\\"\\\\F1B9\\\"}\\r\\n.fa-cab:before,.fa-taxi:before{content:\\\"\\\\F1BA\\\"}\\r\\n.fa-tree:before{content:\\\"\\\\F1BB\\\"}\\r\\n.fa-spotify:before{content:\\\"\\\\F1BC\\\"}\\r\\n.fa-deviantart:before{content:\\\"\\\\F1BD\\\"}\\r\\n.fa-soundcloud:before{content:\\\"\\\\F1BE\\\"}\\r\\n.fa-database:before{content:\\\"\\\\F1C0\\\"}\\r\\n.fa-file-pdf-o:before{content:\\\"\\\\F1C1\\\"}\\r\\n.fa-file-word-o:before{content:\\\"\\\\F1C2\\\"}\\r\\n.fa-file-excel-o:before{content:\\\"\\\\F1C3\\\"}\\r\\n.fa-file-powerpoint-o:before{content:\\\"\\\\F1C4\\\"}\\r\\n.fa-file-image-o:before,.fa-file-photo-o:before,.fa-file-picture-o:before{content:\\\"\\\\F1C5\\\"}\\r\\n.fa-file-archive-o:before,.fa-file-zip-o:before{content:\\\"\\\\F1C6\\\"}\\r\\n.fa-file-audio-o:before,.fa-file-sound-o:before{content:\\\"\\\\F1C7\\\"}\\r\\n.fa-file-movie-o:before,.fa-file-video-o:before{content:\\\"\\\\F1C8\\\"}\\r\\n.fa-file-code-o:before{content:\\\"\\\\F1C9\\\"}\\r\\n.fa-vine:before{content:\\\"\\\\F1CA\\\"}\\r\\n.fa-codepen:before{content:\\\"\\\\F1CB\\\"}\\r\\n.fa-jsfiddle:before{content:\\\"\\\\F1CC\\\"}\\r\\n.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-ring:before,.fa-life-saver:before,.fa-support:before{content:\\\"\\\\F1CD\\\"}\\r\\n.fa-circle-o-notch:before{content:\\\"\\\\F1CE\\\"}\\r\\n.fa-ra:before,.fa-rebel:before{content:\\\"\\\\F1D0\\\"}\\r\\n.fa-empire:before,.fa-ge:before{content:\\\"\\\\F1D1\\\"}\\r\\n.fa-git-square:before{content:\\\"\\\\F1D2\\\"}\\r\\n.fa-git:before{content:\\\"\\\\F1D3\\\"}\\r\\n.fa-hacker-news:before{content:\\\"\\\\F1D4\\\"}\\r\\n.fa-tencent-weibo:before{content:\\\"\\\\F1D5\\\"}\\r\\n.fa-qq:before{content:\\\"\\\\F1D6\\\"}\\r\\n.fa-wechat:before,.fa-weixin:before{content:\\\"\\\\F1D7\\\"}\\r\\n.fa-paper-plane:before,.fa-send:before{content:\\\"\\\\F1D8\\\"}\\r\\n.fa-paper-plane-o:before,.fa-send-o:before{content:\\\"\\\\F1D9\\\"}\\r\\n.fa-history:before{content:\\\"\\\\F1DA\\\"}\\r\\n.fa-circle-thin:before,.fa-genderless:before{content:\\\"\\\\F1DB\\\"}\\r\\n.fa-header:before{content:\\\"\\\\F1DC\\\"}\\r\\n.fa-paragraph:before{content:\\\"\\\\F1DD\\\"}\\r\\n.fa-sliders:before{content:\\\"\\\\F1DE\\\"}\\r\\n.fa-share-alt:before{content:\\\"\\\\F1E0\\\"}\\r\\n.fa-share-alt-square:before{content:\\\"\\\\F1E1\\\"}\\r\\n.fa-bomb:before{content:\\\"\\\\F1E2\\\"}\\r\\n.fa-futbol-o:before,.fa-soccer-ball-o:before{content:\\\"\\\\F1E3\\\"}\\r\\n.fa-tty:before{content:\\\"\\\\F1E4\\\"}\\r\\n.fa-binoculars:before{content:\\\"\\\\F1E5\\\"}\\r\\n.fa-plug:before{content:\\\"\\\\F1E6\\\"}\\r\\n.fa-slideshare:before{content:\\\"\\\\F1E7\\\"}\\r\\n.fa-twitch:before{content:\\\"\\\\F1E8\\\"}\\r\\n.fa-yelp:before{content:\\\"\\\\F1E9\\\"}\\r\\n.fa-newspaper-o:before{content:\\\"\\\\F1EA\\\"}\\r\\n.fa-wifi:before{content:\\\"\\\\F1EB\\\"}\\r\\n.fa-calculator:before{content:\\\"\\\\F1EC\\\"}\\r\\n.fa-paypal:before{content:\\\"\\\\F1ED\\\"}\\r\\n.fa-google-wallet:before{content:\\\"\\\\F1EE\\\"}\\r\\n.fa-cc-visa:before{content:\\\"\\\\F1F0\\\"}\\r\\n.fa-cc-mastercard:before{content:\\\"\\\\F1F1\\\"}\\r\\n.fa-cc-discover:before{content:\\\"\\\\F1F2\\\"}\\r\\n.fa-cc-amex:before{content:\\\"\\\\F1F3\\\"}\\r\\n.fa-cc-paypal:before{content:\\\"\\\\F1F4\\\"}\\r\\n.fa-cc-stripe:before{content:\\\"\\\\F1F5\\\"}\\r\\n.fa-bell-slash:before{content:\\\"\\\\F1F6\\\"}\\r\\n.fa-bell-slash-o:before{content:\\\"\\\\F1F7\\\"}\\r\\n.fa-trash:before{content:\\\"\\\\F1F8\\\"}\\r\\n.fa-copyright:before{content:\\\"\\\\F1F9\\\"}\\r\\n.fa-at:before{content:\\\"\\\\F1FA\\\"}\\r\\n.fa-eyedropper:before{content:\\\"\\\\F1FB\\\"}\\r\\n.fa-paint-brush:before{content:\\\"\\\\F1FC\\\"}\\r\\n.fa-birthday-cake:before{content:\\\"\\\\F1FD\\\"}\\r\\n.fa-area-chart:before{content:\\\"\\\\F1FE\\\"}\\r\\n.fa-pie-chart:before{content:\\\"\\\\F200\\\"}\\r\\n.fa-line-chart:before{content:\\\"\\\\F201\\\"}\\r\\n.fa-lastfm:before{content:\\\"\\\\F202\\\"}\\r\\n.fa-lastfm-square:before{content:\\\"\\\\F203\\\"}\\r\\n.fa-toggle-off:before{content:\\\"\\\\F204\\\"}\\r\\n.fa-toggle-on:before{content:\\\"\\\\F205\\\"}\\r\\n.fa-bicycle:before{content:\\\"\\\\F206\\\"}\\r\\n.fa-bus:before{content:\\\"\\\\F207\\\"}\\r\\n.fa-ioxhost:before{content:\\\"\\\\F208\\\"}\\r\\n.fa-angellist:before{content:\\\"\\\\F209\\\"}\\r\\n.fa-cc:before{content:\\\"\\\\F20A\\\"}\\r\\n.fa-ils:before,.fa-shekel:before,.fa-sheqel:before{content:\\\"\\\\F20B\\\"}\\r\\n.fa-meanpath:before{content:\\\"\\\\F20C\\\"}\\r\\n.fa-buysellads:before{content:\\\"\\\\F20D\\\"}\\r\\n.fa-connectdevelop:before{content:\\\"\\\\F20E\\\"}\\r\\n.fa-dashcube:before{content:\\\"\\\\F210\\\"}\\r\\n.fa-forumbee:before{content:\\\"\\\\F211\\\"}\\r\\n.fa-leanpub:before{content:\\\"\\\\F212\\\"}\\r\\n.fa-sellsy:before{content:\\\"\\\\F213\\\"}\\r\\n.fa-shirtsinbulk:before{content:\\\"\\\\F214\\\"}\\r\\n.fa-simplybuilt:before{content:\\\"\\\\F215\\\"}\\r\\n.fa-skyatlas:before{content:\\\"\\\\F216\\\"}\\r\\n.fa-cart-plus:before{content:\\\"\\\\F217\\\"}\\r\\n.fa-cart-arrow-down:before{content:\\\"\\\\F218\\\"}\\r\\n.fa-diamond:before{content:\\\"\\\\F219\\\"}\\r\\n.fa-ship:before{content:\\\"\\\\F21A\\\"}\\r\\n.fa-user-secret:before{content:\\\"\\\\F21B\\\"}\\r\\n.fa-motorcycle:before{content:\\\"\\\\F21C\\\"}\\r\\n.fa-street-view:before{content:\\\"\\\\F21D\\\"}\\r\\n.fa-heartbeat:before{content:\\\"\\\\F21E\\\"}\\r\\n.fa-venus:before{content:\\\"\\\\F221\\\"}\\r\\n.fa-mars:before{content:\\\"\\\\F222\\\"}\\r\\n.fa-mercury:before{content:\\\"\\\\F223\\\"}\\r\\n.fa-transgender:before{content:\\\"\\\\F224\\\"}\\r\\n.fa-transgender-alt:before{content:\\\"\\\\F225\\\"}\\r\\n.fa-venus-double:before{content:\\\"\\\\F226\\\"}\\r\\n.fa-mars-double:before{content:\\\"\\\\F227\\\"}\\r\\n.fa-venus-mars:before{content:\\\"\\\\F228\\\"}\\r\\n.fa-mars-stroke:before{content:\\\"\\\\F229\\\"}\\r\\n.fa-mars-stroke-v:before{content:\\\"\\\\F22A\\\"}\\r\\n.fa-mars-stroke-h:before{content:\\\"\\\\F22B\\\"}\\r\\n.fa-neuter:before{content:\\\"\\\\F22C\\\"}\\r\\n.fa-facebook-official:before{content:\\\"\\\\F230\\\"}\\r\\n.fa-pinterest-p:before{content:\\\"\\\\F231\\\"}\\r\\n.fa-whatsapp:before{content:\\\"\\\\F232\\\"}\\r\\n.fa-server:before{content:\\\"\\\\F233\\\"}\\r\\n.fa-user-plus:before{content:\\\"\\\\F234\\\"}\\r\\n.fa-user-times:before{content:\\\"\\\\F235\\\"}\\r\\n.fa-bed:before,.fa-hotel:before{content:\\\"\\\\F236\\\"}\\r\\n.fa-viacoin:before{content:\\\"\\\\F237\\\"}\\r\\n.fa-train:before{content:\\\"\\\\F238\\\"}\\r\\n.fa-subway:before{content:\\\"\\\\F239\\\"}\\r\\n.fa-medium:before{content:\\\"\\\\F23A\\\"}\\r\\n.webix_icon,.webix_input_icon{font-size:17px;display:inline-block;width:20px}\\r\\n.webix_input_icon{float:right;font-size:19px;color:#888}\\r\\n.webix_icon_button{background-color:transparent;border:none;padding:0;cursor:pointer;position:relative}\\r\\n.webix_icon_button .webix_icon{font-size:20px;height:23px;width:21px;display:inline-block;text-align:center;color:#606060}\\r\\n.webix_icon_btn{font-size:17px;display:inline-block;text-align:center;width:24px;color:#606060}\\r\\n.webix_el_iconBbutton .webix_icon_btn{text-align:center;width:100%;padding:5px 0}\\r\\n.webix_el_icon{cursor:pointer}\\r\\n.webix_badge{background-color:#ff8839;color:#fff;border-radius:50%;font-size:12px;height:22px;min-width:22px;box-sizing:border-box;padding:0 4px;text-align:center;line-height:21px;position:absolute;right:0;top:0}\\r\\n.webix_list_item .webix_badge{position:static;float:right;margin:4px -5px 0 10px}\\r\\n.webixtype_base .webix_badge{top:50%;margin-top:-11px;margin-right:8px}\\r\\n.webix_treemap{background-color:#f5f5f5}\\r\\n.webix_treemap .webix_scroll_cont{position:relative;height:100%;width:100%}\\r\\n.webix_treemap_item{position:absolute;color:#444;overflow:hidden;text-align:left;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;padding:3px 5px;border-width:0 1px 1px 0;border-style:solid;border-color:rgba(0,0,0,.2);background:0 0}\\r\\n.webix_treemap_level_top{z-index:1;border-color:rgba(0,0,0,.4)}\\r\\n.webix_treemap_item_bottom{border-bottom-width:0}\\r\\n.webix_treemap_item_right{border-right-width:0}\\r\\n.webix_treemap_item:hover{box-shadow:inset 0 0 5px #666}\\r\\n.webix_treemap_item.webix_selected{border-color:#27ae60;box-shadow:inset 0 0 1px 2px #27ae60}\\r\\n.webix_treemap_header{width:100%;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 10px;border-bottom:1px solid #ddd}\\r\\n.webix_treemap_header_item{cursor:pointer}\\r\\n.webix_treemap_header_item:last-child{cursor:default}\\r\\n.webix_treemap_reset{float:right;width:25px;text-align:center}\\r\\n.webix_treemap_reset:before{content:\\\"\\\\F00D\\\";color:#666;font-family:FontAwesome;font-size:16px;display:block;cursor:pointer}\\r\\n.webix_treemap_path_icon{width:20px;text-align:center}\\r\\n.webix_barcode{position:relative}\\r\\n.webix_barcode .webix_canvas_text{font-size:15px;padding:0 2px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.portlet_drag{position:absolute;z-index:1;top:5px;right:5px;width:18px;opacity:.5;cursor:pointer}\\r\\n.portlet_in_drag{opacity:.4}\\r\\n.portlet_marker,.portlet_markerbottom,.portlet_markerleft,.portlet_markerright,.portlet_markertop{opacity:.5;background:#9169BE;position:absolute;transition:top .5s,left .5s,width .5s,height .5s;top:0;left:0;width:100%;height:100%}\\r\\n.portlet_markertop{height:50%}\\r\\n.portlet_markerbottom{height:50%;top:50%}\\r\\n.portlet_markerleft{width:50%}\\r\\n.portlet_markerright{width:50%;left:50%}\\r\\n.webix_popup.webix_sidemenu.webix_sidemenu_left{border-width:0 1px 0 0;box-shadow:2px 0 2px rgba(0,0,0,.05)}\\r\\n.webix_sidemenu_left.webix_animate{transition:left .6s}\\r\\n.webix_popup.webix_sidemenu.webix_sidemenu_right{left:auto;border-width:0 0 0 1px;box-shadow:-2px 0 2px rgba(0,0,0,.05)}\\r\\n.webix_sidemenu_right.webix_animate{transition:right .6s}\\r\\n.webix_popup.webix_sidemenu.webix_sidemenu_top{border-width:0 0 1px;box-shadow:0 2px 2px rgba(0,0,0,.05)}\\r\\n.webix_sidemenu_top .webix_win_body{position:relative}\\r\\n.webix_sidemenu_top .webix_win_body>.webix_view{position:absolute;top:auto;left:0;bottom:0}\\r\\n.webix_sidemenu_top.webix_animate,.webix_sidemenu_top.webix_animate .webix_win_body{transition:height .6s}\\r\\n.webix_popup.webix_sidemenu.webix_sidemenu_bottom{border-width:1px 0 0;top:auto;box-shadow:0 -2px 2px rgba(0,0,0,.05)}\\r\\n.webix_sidemenu_bottom.webix_animate,.webix_sidemenu_bottom.webix_animate .webix_win_body{transition:height .6s}\\r\\n.webix_view.webix_pdf{background-color:#404040;overflow:auto;-webkit-overflow-scrolling:touch}\\r\\n.webix_pdf .canvas_wrapper{margin:0 auto;box-shadow:5px 5px 15px #1c1c1c;width:100%;height:100%}\\r\\n.webix_toolbar.pdf_bar{background-color:#474747}\\r\\n.webix_toolbar.pdf_bar .webix_icon_btn{font-size:15px}\\r\\n.webix_toolbar.pdf_bar .webix_img_btn:focus,.webix_toolbar.pdf_bar .webix_img_btn:hover{background-color:#404040}\\r\\n.webix_toolbar.pdf_bar .webix_template{background-color:#3498db;color:#fff;line-height:2em}\\r\\n.webix_toolbar.pdf_bar .webix_el_box input,.webix_toolbar.pdf_bar .webix_inp_static{background-color:#5c5c5c;color:#fff;border-color:#404040}\\r\\n.webix_toolbar.pdf_bar .webix_el_box input:focus,.webix_toolbar.pdf_bar .webix_inp_static:focus{border-color:#333}\\r\\n.webix_toolbar.pdf_bar .webix_el_box .webix_input_icon{color:#fff}\\r\\n.webix_view.webix_popup.pdf_opt_list{box-shadow:5px 5px 15px #1c1c1c;border:none}\\r\\n.pdf_opt_list .webix_list{background-color:#404040;color:#fff}\\r\\n.pdf_opt_list .webix_list .webix_list_item{border-color:#474747;line-height:1.5em}\\r\\n.pdf_opt_list .webix_list .webix_list_item.webix_selected,.pdf_opt_list .webix_list .webix_list_item:hover{color:#404040;background-color:#fff}\\r\\n@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;src:local('PT Sans'),local('PTSans-Regular'),url(\" + require(\"../fonts/PTS-webfont.woff\") + \") format('woff')}\\r\\n@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;src:local('PT Sans Bold'),local('PTSans-Bold'),url(\" + require(\"../fonts/PTS-bold.woff\") + \") format('woff')}\\r\\n.mainFont{font-family:'PT Sans',Tahoma;font-size:15px;color:#666}\\r\\n.webix_layout_toolbar.webix_toolbar{color:#fff;font-size:18px;background:#3498db}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_el_button,.webix_layout_toolbar.webix_toolbar .webix_el_label,.webix_layout_toolbar.webix_toolbar .webix_inp_label{color:#fff}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_el_label{font-size:18px}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_inp_counter_next,.webix_layout_toolbar.webix_toolbar .webix_inp_counter_prev,.webix_layout_toolbar.webix_toolbar .webix_segment_0,.webix_layout_toolbar.webix_toolbar .webix_segment_1,.webix_layout_toolbar.webix_toolbar .webix_segment_N,.webix_layout_toolbar.webix_toolbar .webixtype_base,.webix_layout_toolbar.webix_toolbar .webixtype_next,.webix_layout_toolbar.webix_toolbar .webixtype_prev{border-color:#d9d9d9;background-color:transparent;color:#fff}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_el_arrow.webixtype_next_arrow{border-left:none;border-bottom:none}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_el_arrow.webixtype_prev_arrow{border-right:none;border-bottom:none}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_inp_counter_next:hover,.webix_layout_toolbar.webix_toolbar .webix_inp_counter_prev:hover,.webix_layout_toolbar.webix_toolbar .webix_segment_0:hover,.webix_layout_toolbar.webix_toolbar .webix_segment_1:hover,.webix_layout_toolbar.webix_toolbar .webix_segment_N:hover,.webix_layout_toolbar.webix_toolbar .webixtype_base:hover{color:#fff;background-color:rgba(0,0,0,.05)}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_inp_counter_next:active,.webix_layout_toolbar.webix_toolbar .webix_inp_counter_prev:active,.webix_layout_toolbar.webix_toolbar .webix_segment_0:active,.webix_layout_toolbar.webix_toolbar .webix_segment_1:active,.webix_layout_toolbar.webix_toolbar .webix_segment_N:active,.webix_layout_toolbar.webix_toolbar .webixtype_base:active{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_inp_counter_next:focus,.webix_layout_toolbar.webix_toolbar .webix_inp_counter_prev:focus,.webix_layout_toolbar.webix_toolbar .webix_segment_0:focus,.webix_layout_toolbar.webix_toolbar .webix_segment_1:focus,.webix_layout_toolbar.webix_toolbar .webix_segment_N:focus,.webix_layout_toolbar.webix_toolbar .webixtype_base:focus{background-color:rgba(0,0,0,.07);color:#fff}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_inp_static,.webix_layout_toolbar.webix_toolbar input[type=text]{border-color:#fff}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_inp_static:focus,.webix_layout_toolbar.webix_toolbar input[type=text]:focus{border-color:#fff;box-shadow:none}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_input_icon{border-color:#d9d9d9;background-color:transparent;color:#666}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_input_icon:active,.webix_layout_toolbar.webix_toolbar .webix_input_icon:focus,.webix_layout_toolbar.webix_toolbar .webix_input_icon:hover{background-color:transparent;color:#666}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_pressed .webix_el_arrow,.webix_layout_toolbar.webix_toolbar .webix_pressed .webix_inp_counter_next,.webix_layout_toolbar.webix_toolbar .webix_pressed .webix_inp_counter_prev,.webix_layout_toolbar.webix_toolbar .webix_pressed .webix_input_icon,.webix_layout_toolbar.webix_toolbar .webix_pressed .webix_segment_0,.webix_layout_toolbar.webix_toolbar .webix_pressed .webix_segment_1,.webix_layout_toolbar.webix_toolbar .webix_pressed .webix_segment_N,.webix_layout_toolbar.webix_toolbar .webix_pressed .webixtype_base,.webix_layout_toolbar.webix_toolbar .webix_pressed .webixtype_next,.webix_layout_toolbar.webix_toolbar .webix_pressed .webixtype_prev{background-color:rgba(0,0,0,.07);color:#fff;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_0,.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_1,.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_N{border-color:#d9d9d9;background-color:#27ae60;color:#fff}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_0:hover,.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_1:hover,.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_N:hover{background-color:#24a259}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_0:active,.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_0:focus,.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_1:active,.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_1:focus,.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_N:active,.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_N:focus{background-color:#295}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_segment_1,.webix_layout_toolbar.webix_toolbar .webix_segment_N,.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_1,.webix_layout_toolbar.webix_toolbar .webix_selected.webix_segment_N{margin-left:0;border-left:none}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_img_btn:active,.webix_layout_toolbar.webix_toolbar .webix_img_btn_top:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_img_btn:focus,.webix_layout_toolbar.webix_toolbar .webix_img_btn_top:focus{background-color:#2489cc}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_img_btn:hover,.webix_layout_toolbar.webix_toolbar .webix_img_btn_top:hover{background-color:#268fd5}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_icon_button{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_el_icon,.webix_layout_toolbar.webix_toolbar .webix_icon_btn,.webix_layout_toolbar.webix_toolbar .webix_icon_button,.webix_layout_toolbar.webix_toolbar .webix_img_btn,.webix_layout_toolbar.webix_toolbar .webix_img_btn_abs,.webix_layout_toolbar.webix_toolbar .webix_img_btn_abs .webix_icon,.webix_layout_toolbar.webix_toolbar .webix_img_btn_abs .webix_img_btn_text,.webix_layout_toolbar.webix_toolbar .webix_img_btn_top .webix_icon,.webix_layout_toolbar.webix_toolbar .webix_img_btn_top .webix_img_btn_text{color:#fff}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_el_box .webix_img_btn_abs:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_el_icon .webix_icon_button:focus{background-color:rgba(0,0,0,.07)}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_el_box .webix_img_btn_abs:hover,.webix_layout_toolbar.webix_toolbar .webix_el_icon .webix_icon_button:hover{background-color:rgba(0,0,0,.05)}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_control{border-color:#3498db}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_icon_button .webix_icon{font-size:23px;height:27px;width:27px;color:#fff}\\r\\n.webix_layout_toolbar.webix_toolbar .webix_img_btn,.webix_layout_toolbar.webix_toolbar .webix_img_btn_top{border-width:0}\\r\\n.webix_layout_space>.webix_toolbar{-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}\\r\\n.webix_view.webix_layout_accordion{background-color:#ddd}\\r\\n.webix_accordionitem .webix_accordionitem_button{float:right;position:relative;height:19px;width:19px;margin:14px 13.5px}\\r\\n.webix_accordionitem.collapsed .webix_accordionitem_button{float:right;position:relative;height:19px;width:19px;margin-top:13px}\\r\\n.webix_accordionitem.collapsed,.webix_accordionitem.horizontal.collapsed{background-color:#a4b4bf}\\r\\n.webix_accordionitem.collapsed .webix_accordionitem_header,.webix_accordionitem.horizontal.collapsed .webix_accordionitem_header{background-color:#a4b4bf;color:#fff}\\r\\n.webix_accordionitem.collapsed .webix_accordionitem_header .webix_accordionitem_button,.webix_accordionitem.horizontal.collapsed .webix_accordionitem_header .webix_accordionitem_button{color:#fff}\\r\\n.webix_accordionitem .webix_accordionitem_header .webix_accordionitem_button{color:#fff;background-image:none;font-family:FontAwesome;font-size:24px;text-align:center;width:24px;height:45px;margin:0 10.5px}\\r\\n.webix_accordionitem .webix_accordionitem_header .webix_accordionitem_button:before{content:'\\\\F104'}\\r\\n.webix_accordionitem .webix_accordionitem_header.collapsed .webix_accordionitem_button:before{content:'\\\\F106'}\\r\\n.webix_accordionitem.horizontal:last-child>.webix_accordionitem_header .webix_accordionitem_button:before{content:'\\\\F105'}\\r\\n.webix_accordionitem.horizontal.collapsed:last-child>.webix_accordionitem_header .webix_accordionitem_button:before{content:'\\\\F107'}\\r\\n.webix_accordionitem.vertical>.webix_accordionitem_header .webix_accordionitem_button{height:42px;margin:0 10.5px}\\r\\n.webix_accordionitem.vertical>.webix_accordionitem_header .webix_accordionitem_button:before{content:'\\\\F106'}\\r\\n.webix_accordionitem.vertical>.webix_accordionitem_header.collapsed .webix_accordionitem_button:before{content:'\\\\F107'}\\r\\n.webix_toolbar.webix_layout_subbar{background:0 0}\\r\\n.webix_toolbar.webix_layout_subbar .webix_view{color:#666}\\r\\n.webix_el_tabbar+.webix_multiview{background-color:#fff}\\r\\n.webix_view.rounded_top{-moz-border-top-left-radius:4px;-moz-border-top-right-radius:4px;-webkit-border-top-left-radius:4px;-webkit-border-top-right-radius:4px;border-top-left-radius:4px;border-top-right-radius:4px}\\r\\n.webix_view.rounded_right{-moz-border-top-right-radius:4px;-moz-border-bottom-right-radius:4px;-webkit-border-top-right-radius:4px;-webkit-border-bottom-right-radius:4px}\\r\\n.webix_view.rounded_bottom{border-bottom-left-radius:4px;border-bottom-right-radius:4px;-moz-border-bottom-left-radius:4px;-moz-border-bottom-right-radius:4px;-webkit-border-bottom-left-radius:4px;-webkit-border-bottom-right-radius:4px}\\r\\n.webix_view.rounded_left{-moz-border-top-left-radius:4px;-moz-border-bottom-left-radius:4px;-webkit-border-top-left-radius:4px;-webkit-border-bottom-left-radius:4px}\\r\\n.webix_layout_space .webix_layout_accordion .webix_accordionitem,.webix_layout_space>.webix_view,.webix_layout_wide .webix_layout_accordion .webix_accordionitem,.webix_layout_wide>.webix_view{-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}\\r\\n.webix_view .webix_win_head{border-bottom:1px solid #ddd}\\r\\n.webix_view .webix_win_head>.webix_view>.webix_template{color:#666;background:#fff;box-shadow:0 -2px #3498db inset}\\r\\n.webix_modal_box .webix_popup_title{color:#666;background:#fff;font-size:15px;text-shadow:none}\\r\\n.webix_popup_text{box-shadow:0 3px #3498db inset;font-size:15px}\\r\\n.webix_alert-warning .webix_popup_text,.webix_confirm-warning .webix_popup_text{box-shadow:0 3px #ffd21a inset}\\r\\n.webix_alert-error .webix_popup_text,.webix_confirm-error .webix_popup_text{box-shadow:0 3px #ff391b inset}\\r\\n.webix_modal_box,.webix_view.webix_popup{border:1px solid #ddd}\\r\\n.confirmButton{font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;outline:0;background:#27ae60;border-color:#27ae60;border-bottom:1px solid #209150;box-shadow:none;text-shadow:none;color:#fff}\\r\\n.confirmButtonActive{background:#2ecb70}\\r\\n.webix_popup_button{border:none}\\r\\n.webix_dtable .webix_ss_left .webix_column.webix_last>div{border-right:1px solid #d0d0d0}\\r\\n.webix_dtable .webix_ss_right .webix_column.webix_first>div{border-left:1px solid #d0d0d0}\\r\\n.webix_dtable .webix_hs_right td.webix_first{border-left:1px solid #b0cee3}\\r\\n.webix_dtable .webix_hcell.webix_ss_filter{padding:0 5px}\\r\\n.webix_dtable .webix_hcell.webix_div_filter{padding:3px 5px}\\r\\n.webix_dtable .webix_ss_filter input,.webix_dtable .webix_ss_filter select{height:32px;vertical-align:middle;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_ss_sort_asc,.webix_ss_sort_desc{font-size:14px;font-family:FontAwesome;top:50%;line-height:1px;bottom:auto;right:3px;float:none;width:12px}\\r\\n.webix_ss_sort_asc:before{content:'\\\\F106'}\\r\\n.webix_ss_sort_desc:before{content:'\\\\F107'}\\r\\n.dtBodyCell{border-bottom:1px solid #ebebeb}\\r\\n.webix_dtable .webix_ss_vscroll_header{border-bottom:1px solid #b0cee3}\\r\\n.webix_view .webix_dt_editor input,.webix_view .webix_dt_editor select{border:1px solid #3498db}\\r\\n.dataItemStyle{border-color:#ebebeb}\\r\\n.webix_list_item.webix_group_back{color:#4a4a4a;background:#d2e3ef;border-bottom:1px solid #b0cee3}\\r\\n.webix_dataview_item{border-right-color:#ebebeb}\\r\\n.webix_view .webix_pager_item{padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;outline:0;color:#fff;background:#3498db;border-bottom:1px solid #2386c8;font-size:15px}\\r\\n.webix_view .webix_pager_item_selected{font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;outline:0;background:#27ae60;color:#fff;border-color:#27ae60;border-bottom:1px solid #209150;box-shadow:none}\\r\\n.webix_view .webix_pager_item,.webix_view .webix_pager_item_selected{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_list .webix_unit_header{font-weight:400;text-shadow:none;background:#d2e3ef;font-size:15px;color:#4a4a4a}\\r\\n.webix_view .webix_tree_close,.webix_view .webix_tree_open{background-image:none;font-family:FontAwesome;font-size:14px;text-align:center;color:#666}\\r\\n.webix_view .webix_tree_open:before{content:\\\"\\\\F147\\\"}\\r\\n.webix_view .webix_tree_close:before{content:\\\"\\\\F196\\\"}\\r\\n.webix_menu-x .webix_submenu_icon,.webix_view.webix_menu .webix_submenu_icon{width:6px;height:auto;font-size:14px;font-family:FontAwesome;line-height:1px;margin-top:3px}\\r\\n.webix_menu.webix_view .webix_list_item:active,.webix_menu.webix_view .webix_list_item:hover{background-color:#f5f5f5}\\r\\n.webix_menu.webix_view .webix_list_item .webix_submenu_icon:before{content:'\\\\F105'}\\r\\n.webix_menu.webix_view .webix_list_item.webix_selected{background:#27ae60}\\r\\n.webix_property .webix_property_label,.webix_property .webix_property_value{border-color:#ebebeb}\\r\\n.webix_view .webix_drag_over,.webix_view .webix_drop_zone{background-color:#f4f4f4}\\r\\n.propertyStyle{height:28px;line-height:27px}\\r\\n.propertyTitle{line-height:28px}\\r\\n.webix_view button,.webix_view input[type=button]{-webkit-appearance:none}\\r\\n.webix_el_colorpicker span.webix_input_icon,.webix_el_combo span.webix_input_icon,.webix_el_datepicker span.webix_input_icon,.webix_el_dbldatepicker span.webix_input_icon,.webix_el_richselect span.webix_input_icon{background-color:#3498db;color:#fff;-webkit-border-radius:0 6px 6px 0;-moz-border-radius-topleft:0;-moz-border-radius-bottomleft:0;-moz-border-radius-topright:6px;-moz-border-radius-bottomright:6px;border-radius:0 6px 6px 0}\\r\\n.focusStyle{border:1px solid #3498db;box-shadow:0 0 1px #3498db inset}\\r\\n.webix_el_colorpicker input,.webix_el_combo input,.webix_el_search input{padding-right:28px}\\r\\n.webix_el_colorpicker input,.webix_el_combo input,.webix_el_datepicker input,.webix_el_search input,.webix_el_text input{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_el_colorpicker input:focus,.webix_el_combo input:focus,.webix_el_datepicker input:focus,.webix_el_search input:focus,.webix_el_text input:focus{border:1px solid #3498db;box-shadow:0 0 1px #3498db inset}\\r\\n.webix_el_counter input[type=text]:focus{border-top:1px solid #3498db;border-bottom:1px solid #3498db;box-shadow:0 0 1px #3498db inset}\\r\\n.webix_el_colorpicker .webix_inp_static,.webix_el_datepicker .webix_inp_static,.webix_el_dbldatepicker .webix_inp_static,.webix_el_richselect .webix_inp_static{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;padding-right:28px;white-space:nowrap}\\r\\n.webix_el_colorpicker .webix_inp_static:focus,.webix_el_datepicker .webix_inp_static:focus,.webix_el_dbldatepicker .webix_inp_static:focus,.webix_el_richselect .webix_inp_static:focus,.webix_el_select select:focus,.webix_el_textarea textarea:focus{border:1px solid #3498db;box-shadow:0 0 1px #3498db inset}\\r\\n.webix_el_select select,.webix_el_textarea textarea{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}\\r\\n.webix_el_combo span.webix_input_icon,.webix_el_richselect span.webix_input_icon{width:21px;padding-left:8px}\\r\\n.webix_el_colorpicker span.webix_input_icon,.webix_el_datepicker span.webix_input_icon,.webix_el_dbldatepicker span.webix_input_icon,.webix_el_search span.webix_input_icon{width:24px}\\r\\n.webix_el_text .webix_inp_static{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;white-space:nowrap}\\r\\n.webix_focused .webix_inp_static{border:1px solid #3498db;box-shadow:0 0 1px #3498db inset}\\r\\n.webix_multilist .fa-check-square{color:#3498db}\\r\\n.buttonStyle{color:#fff;font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;border-bottom:1px solid #268fd5;outline:0}\\r\\n.webix_el_colorpicker div.webix_inp_static div{margin:2.5px -20px 0 -5px}\\r\\n.webix_el_textarea textarea,div.webix_inp_static{background:#fff;font-family:'PT Sans',Tahoma;border-color:#ccc}\\r\\n.webix_el_select select{font-family:'PT Sans',Tahoma;border-color:#ddd}\\r\\n.webix_el_checkbox input{border-color:#ddd}\\r\\n.webix_el_counter .webix_inp_counter_value{width:40px;background:#fff;font-family:'PT Sans',Tahoma;border-color:#ccc}\\r\\n.webix_el_counter .webix_inp_counter_next,.webix_el_counter .webix_inp_counter_prev{background:#3498db;width:29px;color:#fff;padding:auto 6px;border:1px solid #3498db;border-bottom:1px solid #268fd5;outline:0;font-weight:700;font-family:\\\"Courier New\\\",Courier,monospace;font-size:20px}\\r\\n.webix_view.webix_control.webix_el_tabbar{background:0 0}\\r\\ndiv.webix_item_tab{border-color:#a4b4bf;padding-top:3px;font-size:18px}\\r\\ndiv.webix_item_tab.webix_selected{padding-top:2px}\\r\\n.webixtype_bottom .webix_item_tab,.webixtype_bottom .webix_item_tab.webix_selected{border-color:#3498db;border-right:1px solid #5faee3;background:#3498db;color:#fff;padding-top:0}\\r\\n.webixtype_bottom .webix_item_tab.webix_selected:last-child,.webixtype_bottom .webix_item_tab:last-child{border-right:1px solid #5faee3}\\r\\n.webixtype_bottom .webix_item_tab.webix_selected{background:#2383c4;color:#fff}\\r\\n.webix_el_tabbar .webixtype_icon .webix_item_tab{white-space:nowrap}\\r\\n.webix_el_tabbar .webixtype_icon .webix_img_btn{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0 auto;color:#fff;text-align:center}\\r\\n.webix_el_tabbar .webixtype_icon .webix_img_btn .webix_icon_btn{color:#fff;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:24px;height:100%;line-height:inherit;margin:0 3px;vertical-align:top;width:100%}\\r\\n.webix_el_tabbar .webixtype_icon .webix_item_tab.webix_selected{background:#2383c4}\\r\\n.webix_accordionitem_label .webix_icon{font-size:19px;width:25px}\\r\\n.webix_item_tab .webix_icon{width:30px;font-size:19px}\\r\\n.webix_el_tabbar .webixtype_iconTop,.webix_el_tabbar .webixtype_image{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}\\r\\n.webix_el_tabbar .webixtype_iconTop .webix_icon,.webix_el_tabbar .webixtype_image .webix_icon{color:#fff;font-size:18px;top:1px}\\r\\n.webix_el_tabbar .webixtype_iconTop .webix_item_tab,.webix_el_tabbar .webixtype_image .webix_item_tab{font-size:15px}\\r\\n.webix_el_tabbar .webixtype_iconTop .webix_img_btn_top .webix_icon,.webix_el_tabbar .webixtype_image .webix_img_btn_top .webix_icon{margin-top:2px}\\r\\n.webix_el_tabbar .webixtype_iconTop .webix_img_btn_text,.webix_el_tabbar .webixtype_image .webix_img_btn_text{bottom:0;font-size:15px}\\r\\n.webix_el_tabbar .webixtype_iconTop .webix_item_tab.webix_selected,.webix_el_tabbar .webixtype_image .webix_item_tab.webix_selected{background:#2383c4;box-shadow:0 0 0 1px #3498db inset}\\r\\n.webix_el_tabbar .webixtype_iconTop .webix_item_tab.webix_selected .webix_icon,.webix_el_tabbar .webixtype_iconTop .webix_item_tab.webix_selected .webix_img_btn_text,.webix_el_tabbar .webixtype_image .webix_item_tab.webix_selected .webix_icon,.webix_el_tabbar .webixtype_image .webix_item_tab.webix_selected .webix_img_btn_text{color:#fff}\\r\\n.webix_el_tabbar .webixtype_iconTop .webix_item_tab.webix_selected .webix_icon_btn,.webix_el_tabbar .webixtype_image .webix_item_tab.webix_selected .webix_icon_btn{background-color:#2383c4}\\r\\n.webix_el_tabbar .webixtype_iconTop .webix_item_tab.webix_selected .webix_img_btn,.webix_el_tabbar .webixtype_image .webix_item_tab.webix_selected .webix_img_btn{color:#fff}\\r\\n.webix_el_tabbar .webixtype_icon,.webix_el_tabbar .webixtype_iconTop,.webix_el_tabbar .webixtype_image{background:#3498db}\\r\\n.webix_el_tabbar .webixtype_icon .webix_tab_filler,.webix_el_tabbar .webixtype_iconTop .webix_tab_filler,.webix_el_tabbar .webixtype_image .webix_tab_filler{border-bottom-color:#3498db}\\r\\n.webix_el_tabbar .webixtype_icon .webix_item_tab,.webix_el_tabbar .webixtype_iconTop .webix_item_tab,.webix_el_tabbar .webixtype_image .webix_item_tab{padding:0;border-radius:0;color:#fff;background:#3498db;border-color:#3498db;border-bottom:1px solid #3498db}\\r\\n.webix_el_tabbar .webixtype_icon .webix_item_tab .webix_img_btn,.webix_el_tabbar .webixtype_iconTop .webix_item_tab .webix_img_btn,.webix_el_tabbar .webixtype_image .webix_item_tab .webix_img_btn{color:#fff}\\r\\n.webix_tab_more_icon:hover{color:#4d4d4d}\\r\\n.webix_el_tabbar .webixtype_bottom .webix_tab_more_icon,.webix_el_tabbar .webixtype_icon .webix_tab_more_icon,.webix_el_tabbar .webixtype_iconTop .webix_tab_more_icon,.webix_el_tabbar .webixtype_image .webix_tab_more_icon{background:#3498db}\\r\\n.webix_el_tabbar .webixtype_bottom .webix_tab_more_icon .webix_icon,.webix_el_tabbar .webixtype_icon .webix_tab_more_icon .webix_icon,.webix_el_tabbar .webixtype_iconTop .webix_tab_more_icon .webix_icon,.webix_el_tabbar .webixtype_image .webix_tab_more_icon .webix_icon{color:#fff}\\r\\n.webix_el_tabbar .webixtype_icon .webix_tab_more_icon:hover,.webix_el_tabbar .webixtype_iconTop .webix_tab_more_icon:hover,.webix_el_tabbar .webixtype_image .webix_tab_more_icon:hover{background-color:#268fd5}\\r\\n.webix_tab_filler:first-child{border-right:0}\\r\\n.passiveBarBG{background:#a4b4bf;color:#fff}\\r\\n.webix_all_tabs{padding-left:1px;padding-right:1px}\\r\\n.webix_after_all_tabs{background:#3498db}\\r\\n.webix_el_box .webixtype_form:active{background-color:#219552;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_el_box .webixtype_form:focus{background-color:#219552}\\r\\n.webix_el_box .webixtype_form:hover{background-color:#239d57}\\r\\n.webixtype_danger:hover{background-color:#ca4635}\\r\\n.webixtype_danger:focus{background-color:#c14433}\\r\\n.webixtype_danger:active{background-color:#c14433;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_el_box .webixtype_form{font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;outline:0;background:#27ae60;color:#fff;border-color:#27ae60;border-bottom:1px solid #209150;box-shadow:none}\\r\\n.webix_inp_counter_next:hover,.webix_inp_counter_prev:hover,.webix_segment_0:hover,.webix_segment_1:hover,.webix_segment_N:hover,.webixbutton:hover,.webixtype_base:hover{background-color:#268fd5}\\r\\n.webix_inp_counter_next:active,.webix_inp_counter_prev:active,.webix_segment_0:active,.webix_segment_1:active,.webix_segment_N:active,.webixbutton:active,.webixtype_base:active{background-color:#2489cc;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_el_text .webix_input_icon:active,.webix_el_text .webix_input_icon:hover{color:#3498db;background:inherit;cursor:pointer}\\r\\n.webix_inp_counter_next:focus,.webix_inp_counter_prev:focus,.webix_segment_0:focus,.webix_segment_1:focus,.webix_segment_N:focus,.webixbutton:focus,.webixtype_base:focus{background-color:#2489cc}\\r\\n.webix_selected.webix_segment_0:hover,.webix_selected.webix_segment_1:hover,.webix_selected.webix_segment_N:hover{background-color:#239d57}\\r\\n.webix_selected.webix_segment_0:active,.webix_selected.webix_segment_0:focus,.webix_selected.webix_segment_1:active,.webix_selected.webix_segment_1:focus,.webix_selected.webix_segment_N:active,.webix_selected.webix_segment_N:focus{background-color:#219552}\\r\\n.webix_all_segments .webix_segment_1,.webix_all_segments .webix_segment_N{margin-left:1px;border-left:none}\\r\\n.webix_el_slider .webix_slider_title{margin-bottom:-13px}\\r\\n.activeShadow{box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.toggleShadow{box-shadow:inset 0 3px 5px rgba(0,0,0,.18)}\\r\\n.webix_el_toggle .webix_pressed .webix_img_btn,.webix_el_toggle .webix_pressed .webix_img_btn_top{box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_el_toggle .webix_el_box.webix_pressed .webix_img_btn_abs,.webix_el_toggle .webix_el_box.webix_pressed .webixtype_base{box-shadow:inset 0 3px 5px rgba(0,0,0,.125);background-color:#2489cc}\\r\\n.webix_img_btn_abs_top .webix_icon{font-size:22px}\\r\\n.webix_img_btn:hover,.webix_img_btn_top:hover{background-color:rgba(0,0,0,.05)}\\r\\n.webix_img_btn:active,.webix_img_btn_top:active{background-color:rgba(0,0,0,.07);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}\\r\\n.webix_img_btn:focus,.webix_img_btn_top:focus{background-color:rgba(0,0,0,.07)}\\r\\n.webix_view .webix_fieldset fieldset{border:1px solid #dedede}\\r\\n.webix_view .webix_fieldset legend{color:#787878}\\r\\n.webix_custom_checkbox:before{content:\\\"\\\\F00C\\\";color:#3498db;font-family:FontAwesome;font-size:16px;height:14px;display:block;line-height:13px;width:14px}\\r\\n.webix_checkbox_0 .webix_custom_checkbox:before{visibility:hidden}\\r\\n.webix_custom_checkbox{float:left;position:relative;top:50%;margin-top:-7px;padding:0;height:15px;width:15px;border:1px solid #ccc;border-radius:3px;background-color:#fff}\\r\\n.webix_custom_checkbox:focus{border-color:#3498db}\\r\\na:active .webix_custom_checkbox,a:focus .webix_custom_checkbox{border:1px solid #3498db;box-shadow:0 0 1px #3498db inset}\\r\\n.webix_el_radio .webix_custom_radio:before{content:\\\" \\\";border-radius:50%;display:block;width:7px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;height:7px;background-color:#3498db}\\r\\n.webix_el_radio .webix_radio_0 .webix_custom_radio:before{visibility:hidden}\\r\\n.webix_el_radio .webix_custom_radio{display:block;height:15px;width:15px;padding:3px;border:1px solid #ccc;border-radius:50%;background-color:#fff}\\r\\n.webix_el_radio .webix_custom_radio:focus{border-color:#3498db}\\r\\n.webix_el_radio .webix_label_right{color:#666;font-size:15px}\\r\\na:active .webix_custom_radio,a:focus .webix_custom_radio{border:1px solid #3498db;box-shadow:0 0 1px #3498db inset}\\r\\n.webix_cal_body .webix_cal_today{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid #27ae60;border-radius:6px}\\r\\n.webix_cal_body .webix_cal_day,.webix_cal_body .webix_cal_week_num{font-size:13px}\\r\\n.webix_cal_body .webix_cal_select,.webix_cal_body .webix_cal_select.webix_cal_today{border-radius:6px}\\r\\n.webix_cal_body .webix_cal_event.webix_cal_select,.webix_cal_body .webix_selected{color:#fff;border-radius:6px;background:#27ae60}\\r\\n.webix_cal_event{color:#3498db}\\r\\n.webix_cal_outside{font-weight:400;color:#bbb}\\r\\n.webix_cal_footer .webix_cal_done,.webix_time_footer .webix_cal_done{font-size:15px;padding:auto 6px;font-family:'PT Sans',Tahoma;border:1px solid #3498db;outline:0;color:#fff;background:#3498db;border-bottom:1px solid #2386c8}\\r\\n.webix_cal_month{line-height:20px;text-align:center;font-size:17px;font-weight:700}\\r\\n.webix_view>.webix_cal_header div{font-size:12px}\\r\\n.webix_cal_month_name{font-size:14px;font-weight:400}\\r\\n.webix_daterange .webix_range_timepicker .webix_cal_time{padding:5px 20px}\\r\\n.webix_cal_range{background-color:#d4f5e2}\\r\\n.webix_progress_bottom .webix_progress_state,.webix_progress_top .webix_progress_state{background-image:linear-gradient(135deg,rgba(255,255,255,.1) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.1) 50%,rgba(255,255,255,.1) 75%,transparent 75%,transparent)}\\r\\n.webix_progress_top .webix_progress_state{background-size:10px 10px}\\r\\n.webix_progress_bottom .webix_progress_state{background-size:14px 14px}\\r\\n.webix_skin_mark{height:200px}\\r\\n.webix_sparklines{padding:1px 0;box-sizing:border-box}\\r\\n.webix_sparklines svg{box-sizing:border-box}\\r\\n.webix_sparklines_line{stroke:#3498db;stroke-width:1;fill:transparent;stroke-linecap:round}\\r\\n.webix_sparklines_item{fill:#3498db;stroke-width:1}\\r\\n.webix_sparklines_bar{fill:#6dbcf0}\\r\\n.webix_sparklines_bar_negative{fill:#d86c79}\\r\\n.webix_sparklines_area{fill:#e5eef4}\\r\\n.webix_sparklines_origin{stroke:#888;stroke-width:1}\\r\\n.webix_sparklines_event_area{fill:transparent}\\r\\n.webix_sparklines_area_chart .webix_sparklines_event_area:hover,.webix_sparklines_line_chart .webix_sparklines_event_area:hover,.webix_sparklines_splinearea_chart .webix_sparklines_event_area:hover{fill:rgba(220,220,220,.4);stroke:rgba(255,255,255,.6)}\\r\\n.webix_sparklines_bar_chart .webix_sparklines_event_area:hover,.webix_sparklines_pie_chart .webix_sparklines_event_area:hover{fill:rgba(255,255,255,.3)}\\r\\n.webix_strong{font-weight:700;white-space:nowrap}\\r\\n.webix_light{color:#b3b3b3}\\r\\n.webix_debug div{border:1px solid orange;background-color:#FF9;color:#000}\\r\\n.webix_debug{background-color:#ff9;border:1px solid #ff9}\\r\\n.webix_input_icon,.webix_view{box-sizing:content-box}\\r\\n.webix_view.webix_el_label{box-sizing:border-box}\\r\\n.webix_inp_label,.webix_inp_top_label,.webix_label_right{margin-bottom:0}\\r\\n.webix_view table{border-collapse:initial}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/webix/skins/flat.css\n// module id = 15\n// module chunks = 2","module.exports = __webpack_public_path__ + \"./assets/f7c2b4b747b1a225eb8dee034134a1b0.eot\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webix/fonts/fontawesome-webfont.eot\n// module id = 16\n// module chunks = 2","module.exports = __webpack_public_path__ + \"./assets/f7c2b4b747b1a225eb8dee034134a1b0.eot\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webix/fonts/fontawesome-webfont.eot?v=4.3.0\n// module id = 17\n// module chunks = 2","module.exports = __webpack_public_path__ + \"./assets/139e74e298bca37a25d2bd5868552e04.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webix/fonts/fontawesome-webfont.svg?v=4.3.0\n// module id = 18\n// module chunks = 2","module.exports = __webpack_public_path__ + \"./assets/706450d7bba6374ca02fe167d86685cb.ttf\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webix/fonts/fontawesome-webfont.ttf?v=4.3.0\n// module id = 19\n// module chunks = 2","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = 20\n// module chunks = 2","module.exports = __webpack_public_path__ + \"./assets/c3dcc8c26c163b6f7e7f64f20d6f59b4.woff\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webix/fonts/PTS-bold.woff\n// module id = 21\n// module chunks = 2","module.exports = __webpack_public_path__ + \"./assets/ed5a7b14dd1e89a3f68504a379663f2a.woff\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webix/fonts/PTS-webfont.woff\n// module id = 22\n// module chunks = 2","module.exports = __webpack_public_path__ + \"./assets/d9ee23d59d0e0e727b51368b458a0bff.woff\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webix/fonts/fontawesome-webfont.woff?v=4.3.0\n// module id = 23\n// module chunks = 2"],"sourceRoot":""}